!function(e){function n(e){delete installedChunks[e]}function t(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.src=h.p+""+e+"."+w+".hot-update.js",n.appendChild(t)}function r(){return new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var t=new XMLHttpRequest,r=h.p+""+w+".hot-update.json";t.open("GET",r,!0),t.timeout=1e4,t.send(null)}catch(e){return n(e)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)n(new Error("Manifest request to "+r+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)n(new Error("Manifest request to "+r+" failed."));else{try{var o=JSON.parse(t.responseText)}catch(e){return void n(e)}e(o)}}})}function o(e){var n=U[e];if(!n)return h;var t=function(t){return n.hot.active?(U[t]?U[t].parents.indexOf(e)<0&&U[t].parents.push(e):(y=[e],v=t),n.children.indexOf(t)<0&&n.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),y=[]),h(t)};for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&"e"!==r&&Object.defineProperty(t,r,function(e){return{configurable:!0,enumerable:!0,get:function(){return h[e]},set:function(n){h[e]=n}}}(r));return t.e=function(e){function n(){z--,"prepare"===O&&(C[e]||u(e),0===z&&0===_&&c())}return"ready"===O&&i("prepare"),z++,h.e(e).then(n,function(e){throw n(),e})},t}function a(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:v!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:d,apply:p,status:function(e){if(!e)return O;V.push(e)},addStatusHandler:function(e){V.push(e)},removeStatusHandler:function(e){var n=V.indexOf(e);n>=0&&V.splice(n,1)},data:N[e]};return v=void 0,n}function i(e){O=e;for(var n=0;n<V.length;n++)V[n].call(null,e)}function l(e){return+e+""===e?+e:e}function d(e){if("idle"!==O)throw new Error("check() is only allowed in idle status");return k=e,i("check"),r().then(function(e){if(!e)return i("idle"),null;x={},C={},E=e.c,b=e.h,i("prepare");var n=new Promise(function(e,n){g={resolve:e,reject:n}});m={};return u(0),"prepare"===O&&0===z&&0===_&&c(),n})}function s(e,n){if(E[e]&&x[e]){x[e]=!1;for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(m[t]=n[t]);0==--_&&0===z&&c()}}function u(e){E[e]?(x[e]=!0,_++,t(e)):C[e]=!0}function c(){i("ready");var e=g;if(g=null,e)if(k)p(k).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&n.push(l(t));e.resolve(n)}}function p(t){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];e.indexOf(r)<0&&e.push(r)}}if("ready"!==O)throw new Error("apply() is only allowed in ready status");t=t||{};var o,a,d,s,u,c={},p=[],f={},v=function(){console.warn("[HMR] unexpected require("+k.moduleId+") to disposed module")};for(var g in m)if(Object.prototype.hasOwnProperty.call(m,g)){u=l(g);var k;k=m[g]?function(e){for(var n=[e],t={},o=n.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var a=o.pop(),i=a.id,l=a.chain;if((s=U[i])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:l,moduleId:i};for(var d=0;d<s.parents.length;d++){var u=s.parents[d],c=U[u];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:l.concat([u]),moduleId:i,parentId:u};n.indexOf(u)>=0||(c.hot._acceptedDependencies[i]?(t[u]||(t[u]=[]),r(t[u],[i])):(delete t[u],n.push(u),o.push({chain:l.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}(u):{type:"disposed",moduleId:g};var j=!1,V=!1,_=!1,z="";switch(k.chain&&(z="\nUpdate propagation: "+k.chain.join(" -> ")),k.type){case"self-declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(j=new Error("Aborted because of self decline: "+k.moduleId+z));break;case"declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+k.moduleId+" in "+k.parentId+z));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(k),t.ignoreUnaccepted||(j=new Error("Aborted because "+u+" is not accepted"+z));break;case"accepted":t.onAccepted&&t.onAccepted(k),V=!0;break;case"disposed":t.onDisposed&&t.onDisposed(k),_=!0;break;default:throw new Error("Unexception type "+k.type)}if(j)return i("abort"),Promise.reject(j);if(V){f[u]=m[u],r(p,k.outdatedModules);for(u in k.outdatedDependencies)Object.prototype.hasOwnProperty.call(k.outdatedDependencies,u)&&(c[u]||(c[u]=[]),r(c[u],k.outdatedDependencies[u]))}_&&(r(p,[k.moduleId]),f[u]=v)}var C=[];for(a=0;a<p.length;a++)u=p[a],U[u]&&U[u].hot._selfAccepted&&C.push({module:u,errorHandler:U[u].hot._selfAccepted});i("dispose"),Object.keys(E).forEach(function(e){!1===E[e]&&n(e)});for(var x,P=p.slice();P.length>0;)if(u=P.pop(),s=U[u]){var R={},M=s.hot._disposeHandlers;for(d=0;d<M.length;d++)(o=M[d])(R);for(N[u]=R,s.hot.active=!1,delete U[u],d=0;d<s.children.length;d++){var S=U[s.children[d]];S&&((x=S.parents.indexOf(u))>=0&&S.parents.splice(x,1))}}var D,A;for(u in c)if(Object.prototype.hasOwnProperty.call(c,u)&&(s=U[u]))for(A=c[u],d=0;d<A.length;d++)D=A[d],(x=s.children.indexOf(D))>=0&&s.children.splice(x,1);i("apply"),w=b;for(u in f)Object.prototype.hasOwnProperty.call(f,u)&&(e[u]=f[u]);var T=null;for(u in c)if(Object.prototype.hasOwnProperty.call(c,u)){s=U[u],A=c[u];var I=[];for(a=0;a<A.length;a++)D=A[a],o=s.hot._acceptedDependencies[D],I.indexOf(o)>=0||I.push(o);for(a=0;a<I.length;a++){o=I[a];try{o(A)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:A[a],error:e}),t.ignoreErrored||T||(T=e)}}}for(a=0;a<C.length;a++){var H=C[a];u=H.module,y=[u];try{h(u)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,orginalError:e}),t.ignoreErrored||T||(T=n),T||(T=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||T||(T=e)}}return T?(i("fail"),Promise.reject(T)):(i("idle"),Promise.resolve(p))}function h(n){if(U[n])return U[n].exports;var t=U[n]={i:n,l:!1,exports:{},hot:a(n),parents:(j=y,y=[],j),children:[]};return e[n].call(t.exports,t,t.exports,o(n)),t.l=!0,t.exports}var f=this.webpackHotUpdate;this.webpackHotUpdate=function(e,n){s(e,n),f&&f(e,n)};var v,g,m,b,k=!0,w="92c4758583e4a766f9c0",N={},y=[],j=[],V=[],O="idle",_=0,z=0,C={},x={},E={},U={};h.m=e,h.c=U,h.i=function(e){return e},h.d=function(e,n,t){h.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},h.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(n,"a",n),n},h.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},h.p="",h.h=function(){return w},o(31)(h.s=31)}([function(e,n,t){e.exports=t(43),e.exports.default=e.exports},function(e,n,t){e.exports=t(50).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,t,r,o,a,i){b.isUndefined(o)&&(o=n.EMPTY_OBJ);var l=new t(r,o);e.children=l,l._blockSetState=!1,l.context=o,l.props===n.EMPTY_OBJ&&(l.props=r),l._lifecycle=i,l._unmounted=!1,l._pendingSetState=!0,l._isSVG=a,b.isUndefined(l.componentWillMount)||(l._blockRender=!0,l.componentWillMount(),l._blockRender=!1);var d;b.isUndefined(l.getChildContext)||(d=l.getChildContext()),b.isNullOrUndef(d)?l._childContext=o:l._childContext=b.combineFrom(o,d),b.isNull(k.options.beforeRender)||k.options.beforeRender(l);var s=l.render(r,l.state,o);return b.isNull(k.options.afterRender)||k.options.afterRender(l),b.isArray(s)?b.throwError():b.isInvalid(s)?s=w.createVoidVNode():b.isStringOrNumber(s)?s=w.createTextVNode(s,null):(s.dom&&(s=w.directClone(s)),28&s.flags&&(s.parentVNode=e)),l._pendingSetState=!1,l._lastInput=s,l}function o(e,n,t,r,o,i,l){a(t,y.mount(n,null,r,o,i),e,r,l)}function a(e,n,t,r,o){j.unmount(t,null,r,!1,o),h(e,n,t.dom)}function i(e,n,t,r){var o=n(t,r);return b.isArray(o)?b.throwError():b.isInvalid(o)?o=w.createVoidVNode():b.isStringOrNumber(o)?o=w.createTextVNode(o,null):(o.dom&&(o=w.directClone(o)),28&o.flags&&(o.parentVNode=e)),o}function l(e,n){""!==n?e.textContent=n:e.appendChild(document.createTextNode(""))}function d(e,n){e.firstChild.nodeValue=n}function s(e,n){e.appendChild(n)}function u(e,n,t){b.isNullOrUndef(t)?s(e,n):e.insertBefore(n,t)}function c(e,n){return!0===n?document.createElementNS(N.svgNS,e):document.createElement(e)}function p(e,n,t,r,o,a,i){j.unmount(e,null,r,!1,i);var l=y.mount(n,null,r,o,a);n.dom=l,h(t,l,e.dom)}function h(e,n,t){e||(e=t.parentNode),e.replaceChild(n,t)}function f(e,n){e.removeChild(n)}function v(e,n,t,r){e.textContent="",(!k.options.recyclingEnabled||k.options.recyclingEnabled&&!r)&&g(null,n,t,r)}function g(e,n,t,r){for(var o=0,a=n.length;o<a;o++){var i=n[o];b.isInvalid(i)||j.unmount(i,e,t,!0,r)}}function m(e,n){return n.length>0&&!b.isNullOrUndef(n[0])&&!b.isNullOrUndef(n[0].key)&&e.length>0&&!b.isNullOrUndef(e[0])&&!b.isNullOrUndef(e[0].key)}Object.defineProperty(n,"__esModule",{value:!0});var b=t(0),k=t(3),w=t(4),N=t(8),y=t(9),j=t(11);n.EMPTY_OBJ={},n.createClassComponentInstance=r,n.replaceLastChildAndUnmount=o,n.replaceVNode=a,n.createFunctionalComponentInput=i,n.setTextContent=l,n.updateTextContent=d,n.appendChild=s,n.insertOrAppend=u,n.documentCreateElement=c,n.replaceWithNewNode=p,n.replaceChild=h,n.removeChild=f,n.removeAllChildren=v,n.removeChildren=g,n.isKeyed=m},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.options={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]}},function(e,n,t){"use strict";function r(e,n,t,r,o,a,i){this.children=e,this.className=n,this.dom=null,this.flags=t,this.key=r,this.props=o,this.ref=a,this.type=i}function o(e,n,t,o,a,i,l,d){16&e&&(e=u.isStatefulComponent(n)?4:8);var s=new r(void 0===o?null:o,void 0===t?null:t,e,void 0===i?null:i,void 0===a?null:a,void 0===l?null:l,n);return!0!==d&&p.normalize(s),null!==h.options.createVNode&&h.options.createVNode(s),s}function a(e){var n,t=e.flags;if(28&t){var r=void 0,i=e.props;if(u.isNull(i))r=c.EMPTY_OBJ;else{r={};for(var l in i)r[l]=i[l]}n=o(t,e.type,null,null,r,e.key,e.ref,!0);var p=n.props,h=p.children;if(h)if(u.isArray(h)){var f=h.length;if(f>0){for(var v=[],g=0;g<f;g++){var m=h[g];u.isStringOrNumber(m)?v.push(m):!u.isInvalid(m)&&s(m)&&v.push(a(m))}p.children=v}}else s(h)&&(p.children=a(h));n.children=null}else if(3970&t){var b=e.children,r=void 0,i=e.props;if(null===i)r=c.EMPTY_OBJ;else{r={};for(var l in i)r[l]=i[l]}n=o(t,e.type,e.className,b,r,e.key,e.ref,!b)}else 1&t&&(n=d(e.children,e.key));return n}function i(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=t,l=t.length;l>0&&!u.isUndefined(t[0])&&(n||(n={}),1===l&&(i=t[0]),u.isUndefined(i)||(n.children=i));var p;if(u.isArray(e)){for(var h=[],f=0,v=e.length;f<v;f++)h.push(a(e[f]));p=h}else{var g=e.flags,m=e.className||n&&n.className,b=u.isNullOrUndef(e.key)?n?n.key:null:e.key,k=e.ref||(n?n.ref:null);if(28&g){p=o(g,e.type,m,null,e.props||n?u.combineFrom(e.props,n):c.EMPTY_OBJ,b,k,!0);var w=p.props;if(w){var N=w.children;if(N)if(u.isArray(N)){var v=N.length;if(v>0){for(var h=[],f=0;f<v;f++){var y=N[f];u.isStringOrNumber(y)?h.push(y):!u.isInvalid(y)&&s(y)&&h.push(a(y))}w.children=h}}else s(N)&&(w.children=a(N))}p.children=null}else 3970&g?(i=n&&!u.isUndefined(n.children)?n.children:e.children,p=o(g,e.type,m,i,e.props||n?u.combineFrom(e.props,n):c.EMPTY_OBJ,b,k,!i)):1&g&&(p=d(e.children,b))}return p}function l(){return o(4096,null)}function d(e,n){return o(1,null,null,e,null,n)}function s(e){return!!e.flags}Object.defineProperty(n,"__esModule",{value:!0});var u=t(0),c=t(2),p=t(20),h=t(3);n.createVNode=o,n.directClone=a,n.cloneVNode=i,n.createVoidVNode=l,n.createTextVNode=d,n.isVNode=s},function(e,n,t){"use strict";function r(e,n,t,r,o,i,u){if(e!==n){var c=e.flags,p=n.flags;28&p?28&c?l(e,n,t,r,o,i,4&p,u):_.replaceVNode(t,j.mountComponent(n,null,r,o,i,(4&p)>0),e,r,u):3970&p?3970&c?a(e,n,t,r,o,i,u):_.replaceVNode(t,j.mountElement(n,null,r,o,i),e,r,u):1&p?1&c?d(e,n):_.replaceVNode(t,j.mountText(n,null),e,r,u):4096&p?4096&c?s(e,n):_.replaceVNode(t,j.mountVoid(n,null),e,r,u):_.replaceLastChildAndUnmount(e,n,t,r,o,i,u)}}function o(e,n,t,r){w.isVNode(e)?O.unmount(e,n,t,!0,r):b.isArray(e)?_.removeAllChildren(n,e,t,r):n.textContent=""}function a(e,n,t,r,o,a,l){var d=n.type;if(e.type!==d)_.replaceWithNewNode(e,n,t,r,o,a,l);else{var s=e.dom,u=e.props,c=n.props,p=e.children,h=n.children,v=e.flags,g=n.flags,k=n.ref,w=e.className,N=n.className;if(n.dom=s,a=a||(128&g)>0,p!==h&&i(v,g,p,h,s,r,o,a,l),u!==c){var y=u||_.EMPTY_OBJ,V=c||_.EMPTY_OBJ,O=!1;if(V!==_.EMPTY_OBJ){var C=(3584&g)>0;C&&(O=z.isControlledFormElement(V));for(var x in V){var E=V[x];f(x,y[x],E,s,a,O)}C&&z.processElement(g,n,s,V,!1,O)}if(y!==_.EMPTY_OBJ)for(var x in y)b.isNullOrUndef(V[x])&&m(x,y[x],s)}w!==N&&(b.isNullOrUndef(N)?s.removeAttribute("class"):a?s.setAttribute("class",N):s.className=N),k&&(e.ref!==k||l)&&j.mountRef(s,k,r)}}function i(e,n,t,a,i,l,d,s,p){var h=!1,f=!1;64&n?h=!0:(32&e)>0&&(32&n)>0?(f=!0,h=!0):b.isInvalid(a)?o(t,i,l,p):b.isInvalid(t)?b.isStringOrNumber(a)?_.setTextContent(i,a):b.isArray(a)?j.mountArrayChildren(a,i,l,d,s):j.mount(a,i,l,d,s):b.isStringOrNumber(a)?b.isStringOrNumber(t)?_.updateTextContent(i,a):(o(t,i,l,p),_.setTextContent(i,a)):b.isArray(a)?b.isArray(t)?(h=!0,_.isKeyed(t,a)&&(f=!0)):(o(t,i,l,p),j.mountArrayChildren(a,i,l,d,s)):b.isArray(t)?(_.removeAllChildren(i,t,l,p),j.mount(a,i,l,d,s)):w.isVNode(a)&&(w.isVNode(t)?r(t,a,i,l,d,s,p):(o(t,i,l,p),j.mount(a,i,l,d,s))),h&&(f?c(t,a,i,l,d,s,p):u(t,a,i,l,d,s,p))}function l(e,n,t,o,a,i,l,d){var s=e.type,u=n.type,c=e.key,p=n.key;if(s!==u||c!==p)return _.replaceWithNewNode(e,n,t,o,a,i,d),!1;var h=n.props||_.EMPTY_OBJ;if(l){var f=e.children;if(f._updating=!0,f._unmounted){if(b.isNull(t))return!0;_.replaceChild(t,j.mountComponent(n,null,o,a,i,(4&n.flags)>0),e.dom)}else{var v=!b.isUndefined(f.componentDidUpdate),g=f.state,m=v?b.combineFrom(g,null):g,N=f.props,y=void 0;b.isUndefined(f.getChildContext)||(y=f.getChildContext()),n.children=f,f._isSVG=i,y=b.isNullOrUndef(y)?a:b.combineFrom(a,y);var O=f._lastInput,z=f._updateComponent(m,g,N,h,a,!1,!1),C=!0;f._childContext=y,b.isInvalid(z)?z=w.createVoidVNode():z===b.NO_OP?(z=O,C=!1):b.isStringOrNumber(z)?z=w.createTextVNode(z,null):b.isArray(z)?b.throwError():b.isObject(z)&&(b.isNull(z.dom)||(z=w.directClone(z))),28&z.flags?z.parentVNode=n:28&O.flags&&(O.parentVNode=n),f._lastInput=z,f._vNode=n,C&&(r(O,z,t,o,y,i,d),v&&f.componentDidUpdate(N,m),b.isNull(k.options.afterUpdate)||k.options.afterUpdate(n),k.options.findDOMNodeEnabled&&V.componentToDOMNodeMap.set(f,z.dom)),n.dom=z.dom}f._updating=!1}else{var x=!0,N=e.props,E=n.ref,U=!b.isNullOrUndef(E),O=e.children,z=O;n.dom=e.dom,n.children=O,c!==p?x=!0:U&&!b.isNullOrUndef(E.onComponentShouldUpdate)&&(x=E.onComponentShouldUpdate(N,h)),!1!==x&&(U&&!b.isNullOrUndef(E.onComponentWillUpdate)&&E.onComponentWillUpdate(N,h),z=u(h,a),b.isInvalid(z)?z=w.createVoidVNode():b.isStringOrNumber(z)&&z!==b.NO_OP?z=w.createTextVNode(z,null):b.isArray(z)?b.throwError():b.isObject(z)&&(b.isNull(z.dom)||(z=w.directClone(z))),z!==b.NO_OP&&(r(O,z,t,o,a,i,d),n.children=z,U&&!b.isNullOrUndef(E.onComponentDidUpdate)&&E.onComponentDidUpdate(N,h),n.dom=z.dom)),28&z.flags?z.parentVNode=n:28&O.flags&&(O.parentVNode=n)}return!1}function d(e,n){var t=n.children,r=e.dom;n.dom=r,e.children!==t&&(r.nodeValue=t)}function s(e,n){n.dom=e.dom}function u(e,n,t,o,a,i,l){for(var d=e.length,s=n.length,u=d>s?s:d,c=0;c<u;c++){var p=n[c];p.dom&&(p=n[c]=w.directClone(p)),r(e[c],p,t,o,a,i,l)}if(d<s)for(c=u;c<s;c++){var p=n[c];p.dom&&(p=n[c]=w.directClone(p)),_.appendChild(t,j.mount(p,null,o,a,i))}else if(0===s)_.removeAllChildren(t,e,o,l);else if(d>s)for(c=u;c<d;c++)O.unmount(e[c],t,o,!1,l)}function c(e,n,t,o,a,i,l){var d,s,u,c,h,f,v,g=e.length,m=n.length,k=g-1,N=m-1,y=0,V=0;if(0===g)return void(m>0&&j.mountArrayChildren(n,t,o,a,i));if(0===m)return void _.removeAllChildren(t,e,o,l);var z=e[y],C=n[V],x=e[k],E=n[N];C.dom&&(n[V]=C=w.directClone(C)),E.dom&&(n[N]=E=w.directClone(E));e:for(;;){for(;z.key===C.key;){if(r(z,C,t,o,a,i,l),y++,V++,y>k||V>N)break e;z=e[y],C=n[V],C.dom&&(n[V]=C=w.directClone(C))}for(;x.key===E.key;){if(r(x,E,t,o,a,i,l),k--,N--,y>k||V>N)break e;x=e[k],E=n[N],E.dom&&(n[N]=E=w.directClone(E))}if(x.key!==C.key){if(z.key!==E.key)break;r(z,E,t,o,a,i,l),f=N+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,E.dom,h),y++,N--,z=e[y],E=n[N],E.dom&&(n[N]=E=w.directClone(E))}else r(x,C,t,o,a,i,l),_.insertOrAppend(t,C.dom,z.dom),k--,V++,x=e[k],C=n[V],C.dom&&(n[V]=C=w.directClone(C))}if(y>k){if(V<=N)for(f=N+1,h=f<n.length?n[f].dom:null;V<=N;)v=n[V],v.dom&&(n[V]=v=w.directClone(v)),V++,_.insertOrAppend(t,j.mount(v,null,o,a,i),h)}else if(V>N)for(;y<=k;)O.unmount(e[y++],t,o,!1,l);else{g=k-y+1,m=N-V+1;var U=new Array(m);for(d=0;d<m;d++)U[d]=-1;var P=!1,R=0,M=0;if(m<=4||g*m<=16){for(d=y;d<=k;d++)if(u=e[d],M<m)for(s=V;s<=N;s++)if(c=n[s],u.key===c.key){U[s-V]=d,R>s?P=!0:R=s,c.dom&&(n[s]=c=w.directClone(c)),r(u,c,t,o,a,i,l),M++,e[d]=null;break}}else{var S=new Map;for(d=V;d<=N;d++)S.set(n[d].key,d);for(d=y;d<=k;d++)u=e[d],M<m&&(s=S.get(u.key),b.isUndefined(s)||(c=n[s],U[s-V]=d,R>s?P=!0:R=s,c.dom&&(n[s]=c=w.directClone(c)),r(u,c,t,o,a,i,l),M++,e[d]=null))}if(g===e.length&&0===M)for(_.removeAllChildren(t,e,o,l);V<m;)v=n[V],v.dom&&(n[V]=v=w.directClone(v)),V++,_.insertOrAppend(t,j.mount(v,null,o,a,i),null);else{for(d=g-M;d>0;)u=e[y++],b.isNull(u)||(O.unmount(u,t,o,!0,l),d--);if(P){var D=p(U);for(s=D.length-1,d=m-1;d>=0;d--)-1===U[d]?(R=d+V,v=n[R],v.dom&&(n[R]=v=w.directClone(v)),f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,j.mount(v,t,o,a,i),h)):s<0||d!==D[s]?(R=d+V,v=n[R],f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,v.dom,h)):s--}else if(M!==m)for(d=m-1;d>=0;d--)-1===U[d]&&(R=d+V,v=n[R],v.dom&&(n[R]=v=w.directClone(v)),f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,j.mount(v,null,o,a,i),h))}}}function p(e){var n,t,r,o,a,i=e.slice(0),l=[0],d=e.length;for(n=0;n<d;n++){var s=e[n];if(-1!==s)if(t=l[l.length-1],e[t]<s)i[n]=t,l.push(n);else{for(r=0,o=l.length-1;r<o;)a=(r+o)/2|0,e[l[a]]<s?r=a+1:o=a;s<e[l[r]]&&(r>0&&(i[n]=l[r-1]),l[r]=n)}}for(r=l.length,o=l[r-1];r-- >0;)l[r]=o,o=i[o];return l}function h(e){return"o"===e[0]&&"n"===e[1]}function f(e,n,t,r,o,a){if(n!==t){if(N.skipProps.has(e)||a&&"value"===e)return;if(N.booleanProps.has(e))e="autoFocus"===e?e.toLowerCase():e,r[e]=!!t;else if(N.strictProps.has(e)){var i=b.isNullOrUndef(t)?"":t;r[e]!==i&&(r[e]=i)}else if(h(e))v(e,n,t,r);else if(b.isNullOrUndef(t))r.removeAttribute(e);else if("style"===e)g(n,t,r);else if("dangerouslySetInnerHTML"===e){var l=n&&n.__html,d=t&&t.__html;l!==d&&(b.isNullOrUndef(d)||(r.innerHTML=d))}else o&&N.namespaces.has(e)?r.setAttributeNS(N.namespaces.get(e),e,t):r.setAttribute(e,t)}}function v(e,n,t,r){if(n!==t)if(N.delegatedEvents.has(e))y.handleEvent(e,n,t,r);else{var o=e.toLowerCase(),a=r[o];if(a&&a.wrapped)return;if(b.isFunction(t)||b.isNullOrUndef(t))r[o]=t;else{var i=t.event;i&&b.isFunction(i)?r[o]=function(e){i(t.data,e)}:b.throwError()}}}function g(e,n,t){var r=t.style;if(b.isString(n))return void(r.cssText=n);for(var o in n){var a=n[o];!b.isNumber(a)||N.isUnitlessNumber.has(o)?r[o]=a:r[o]=a+"px"}if(!b.isNullOrUndef(e))for(var o in e)b.isNullOrUndef(n[o])&&(r[o]="")}function m(e,n,t){"value"===e?t.value="":"style"===e?t.removeAttribute("style"):h(e)?y.handleEvent(e,n,null,t):t.removeAttribute(e)}Object.defineProperty(n,"__esModule",{value:!0});var b=t(0),k=t(3),w=t(4),N=t(8),y=t(44),j=t(9),V=t(6),O=t(11),_=t(2),z=t(12);n.patch=r,n.patchElement=a,n.patchComponent=l,n.patchText=d,n.patchVoid=s,n.patchNonKeyedChildren=u,n.patchKeyedChildren=c,n.isAttrAnEvent=h,n.patchProp=f,n.patchEvent=v,n.patchStyle=g},function(e,n,t){"use strict";function r(e){u.options.findDOMNodeEnabled||s.throwError();var t=e&&e.nodeType?e:null;return n.componentToDOMNodeMap.get(e)||t}function o(e){for(var n=0,t=m.length;n<t;n++){var r=m[n];if(r.dom===e)return r}return null}function a(e,n,t){var r={dom:e,input:n,lifecycle:t};return m.push(r),r}function i(e){for(var n=0,t=m.length;n<t;n++)if(m[n]===e)return void m.splice(n,1)}function l(e,n){if(b===n&&s.throwError(),e!==s.NO_OP){var t=o(n);if(s.isNull(t)){var r=new s.Lifecycle;s.isInvalid(e)||(e.dom&&(e=c.directClone(e)),p.hydrateRoot(e,n,r)||h.mount(e,n,r,g.EMPTY_OBJ,!1),t=a(n,e,r),r.trigger())}else{var r=t.lifecycle;r.listeners=[],s.isNullOrUndef(e)?(v.unmount(t.input,n,r,!1,!1),i(t)):(e.dom&&(e=c.directClone(e)),f.patch(t.input,e,n,r,g.EMPTY_OBJ,!1,!1)),t.input=e,r.trigger()}if(t){var l=t.input;if(l&&28&l.flags)return l.children}}}function d(e){return function(n,t){e||(e=n),l(t,e)}}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(3),c=t(4),p=t(46),h=t(9),f=t(5),v=t(11),g=t(2);n.componentToDOMNodeMap=new Map;var m=u.options.roots;n.findDOMNode=r;var b=s.isBrowser?document.body:null;n.render=l,n.createRenderer=d},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(10),a=t(14),i=t(0),l=t(18),d=Promise.resolve(),s=function(e){function n(n,t){var r=e.call(this,n,t)||this;return r._onComponentResolved=function(e,n){r.setState({asyncComponent:n})},r.state={asyncComponent:null},r}return r(n,e),n.prototype.componentWillMount=function(){var e=this,n=this.props.onEnter,t=this.context.router;n&&d.then(function(){n({props:e.props,router:t})});var r=this.props.getComponent;r&&d.then(function(){r({props:e.props,router:t},e._onComponentResolved)})},n.prototype.onLeave=function(e){void 0===e&&(e=!1);var n=this.props.onLeave,t=this.context.router;n&&e&&n({props:this.props,router:t})},n.prototype.onEnter=function(e){var n=e.onEnter,t=this.context.router;this.props.path!==e.path&&n&&n({props:e,router:t})},n.prototype.getComponent=function(e){var n=e.getComponent,t=this.context.router;this.props.path!==e.path&&n&&n({props:e,router:t},this._onComponentResolved)},n.prototype.componentWillUnmount=function(){this.onLeave(!0)},n.prototype.componentWillReceiveProps=function(e){this.getComponent(e),this.onEnter(e),this.onLeave(this.props.path!==e.path)},n.prototype.render=function(e){var n=e.component,t=e.children,r=l.rest(e,["component","children","path","getComponent"]),o=this.state.asyncComponent,d=n||o;return d?a.default(d,r,t):i.isArray(t)?null:t},n}(o.default);n.default=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.xlinkNS="http://www.w3.org/1999/xlink",n.xmlNS="http://www.w3.org/XML/1998/namespace",n.svgNS="http://www.w3.org/2000/svg",n.strictProps=new Set,n.strictProps.add("volume"),n.strictProps.add("defaultChecked"),n.booleanProps=new Set,n.booleanProps.add("muted"),n.booleanProps.add("scoped"),n.booleanProps.add("loop"),n.booleanProps.add("open"),n.booleanProps.add("checked"),n.booleanProps.add("default"),n.booleanProps.add("capture"),n.booleanProps.add("disabled"),n.booleanProps.add("readOnly"),n.booleanProps.add("required"),n.booleanProps.add("autoplay"),n.booleanProps.add("controls"),n.booleanProps.add("seamless"),n.booleanProps.add("reversed"),n.booleanProps.add("allowfullscreen"),n.booleanProps.add("novalidate"),n.booleanProps.add("hidden"),n.booleanProps.add("autoFocus"),n.booleanProps.add("selected"),n.namespaces=new Map,n.namespaces.set("xlink:href",n.xlinkNS),n.namespaces.set("xlink:arcrole",n.xlinkNS),n.namespaces.set("xlink:actuate",n.xlinkNS),n.namespaces.set("xlink:show",n.xlinkNS),n.namespaces.set("xlink:role",n.xlinkNS),n.namespaces.set("xlink:title",n.xlinkNS),n.namespaces.set("xlink:type",n.xlinkNS),n.namespaces.set("xml:base",n.xmlNS),n.namespaces.set("xml:lang",n.xmlNS),n.namespaces.set("xml:space",n.xmlNS),n.isUnitlessNumber=new Set,n.isUnitlessNumber.add("animationIterationCount"),n.isUnitlessNumber.add("borderImageOutset"),n.isUnitlessNumber.add("borderImageSlice"),n.isUnitlessNumber.add("borderImageWidth"),n.isUnitlessNumber.add("boxFlex"),n.isUnitlessNumber.add("boxFlexGroup"),n.isUnitlessNumber.add("boxOrdinalGroup"),n.isUnitlessNumber.add("columnCount"),n.isUnitlessNumber.add("flex"),n.isUnitlessNumber.add("flexGrow"),n.isUnitlessNumber.add("flexPositive"),n.isUnitlessNumber.add("flexShrink"),n.isUnitlessNumber.add("flexNegative"),n.isUnitlessNumber.add("flexOrder"),n.isUnitlessNumber.add("gridRow"),n.isUnitlessNumber.add("gridColumn"),n.isUnitlessNumber.add("fontWeight"),n.isUnitlessNumber.add("lineClamp"),n.isUnitlessNumber.add("lineHeight"),n.isUnitlessNumber.add("opacity"),n.isUnitlessNumber.add("order"),n.isUnitlessNumber.add("orphans"),n.isUnitlessNumber.add("tabSize"),n.isUnitlessNumber.add("widows"),n.isUnitlessNumber.add("zIndex"),n.isUnitlessNumber.add("zoom"),n.isUnitlessNumber.add("fillOpacity"),n.isUnitlessNumber.add("floodOpacity"),n.isUnitlessNumber.add("stopOpacity"),n.isUnitlessNumber.add("strokeDasharray"),n.isUnitlessNumber.add("strokeDashoffset"),n.isUnitlessNumber.add("strokeMiterlimit"),n.isUnitlessNumber.add("strokeOpacity"),n.isUnitlessNumber.add("strokeWidth"),n.skipProps=new Set,n.skipProps.add("children"),n.skipProps.add("childrenType"),n.skipProps.add("defaultValue"),n.skipProps.add("ref"),n.skipProps.add("key"),n.skipProps.add("checked"),n.skipProps.add("multiple"),n.delegatedEvents=new Set,n.delegatedEvents.add("onClick"),n.delegatedEvents.add("onMouseDown"),n.delegatedEvents.add("onMouseUp"),n.delegatedEvents.add("onMouseMove"),n.delegatedEvents.add("onSubmit"),n.delegatedEvents.add("onDblClick"),n.delegatedEvents.add("onKeyDown"),n.delegatedEvents.add("onKeyUp"),n.delegatedEvents.add("onKeyPress")},function(e,n,t){"use strict";function r(e,n,t,r,l){var s=e.flags;return 3970&s?i(e,n,t,r,l):28&s?d(e,n,t,r,l,(4&s)>0):4096&s?a(e,n):1&s?o(e,n):void p.throwError()}function o(e,n){var t=document.createTextNode(e.children);return e.dom=t,p.isNull(n)||b.appendChild(n,t),t}function a(e,n){var t=document.createTextNode("");return e.dom=t,p.isNull(n)||b.appendChild(n,t),t}function i(e,n,t,o,a){if(h.options.recyclingEnabled){var i=g.recycleElement(e,t,o,a);if(!p.isNull(i))return p.isNull(n)||b.appendChild(n,i),i}var d=e.flags;a=a||(128&d)>0;var s=b.documentCreateElement(e.type,a),u=e.children,m=e.props,w=e.className,N=e.ref;if(e.dom=s,p.isInvalid(u)||(p.isStringOrNumber(u)?b.setTextContent(s,u):p.isArray(u)?l(u,s,t,o,a):f.isVNode(u)&&r(u,s,t,o,a)),!p.isNull(m)){var y=!1,j=(3584&d)>0;j&&(y=k.isControlledFormElement(m));for(var V in m)v.patchProp(V,null,m[V],s,a,y);j&&k.processElement(d,e,s,m,!0,y)}return null!==w&&(a?s.setAttribute("class",w):s.className=w),p.isNull(N)||c(s,N,t),p.isNull(n)||b.appendChild(n,s),s}function l(e,n,t,o,a){for(var i=0,l=e.length;i<l;i++){var d=e[i];p.isInvalid(d)||(d.dom&&(e[i]=d=f.directClone(d)),r(e[i],n,t,o,a))}}function d(e,n,t,o,a,i){if(h.options.recyclingEnabled){var l=g.recycleComponent(e,t,o,a);if(!p.isNull(l))return p.isNull(n)||b.appendChild(n,l),l}var d,c=e.type,f=e.props||b.EMPTY_OBJ,v=e.ref;if(i){var k=b.createClassComponentInstance(e,c,f,o,a,t),w=k._lastInput;k._vNode=e,e.dom=d=r(w,null,t,k._childContext,a),p.isNull(n)||b.appendChild(n,d),s(e,v,k,t),k._updating=!1,h.options.findDOMNodeEnabled&&m.componentToDOMNodeMap.set(k,d)}else{var w=b.createFunctionalComponentInput(e,c,f,o);e.dom=d=r(w,null,t,o,a),e.children=w,u(v,d,t),p.isNull(n)||b.appendChild(n,d)}return d}function s(e,n,t,r){n&&(p.isFunction(n)?n(t):p.throwError());var o=!p.isUndefined(t.componentDidMount),a=h.options.afterMount;!o&&p.isNull(a)||r.addListener(function(){t._updating=!0,a&&a(e),o&&t.componentDidMount(),t._updating=!1})}function u(e,n,t){e&&(p.isNullOrUndef(e.onComponentWillMount)||e.onComponentWillMount(),p.isNullOrUndef(e.onComponentDidMount)||t.addListener(function(){return e.onComponentDidMount(n)}))}function c(e,n,t){if(p.isFunction(n))t.addListener(function(){return n(e)});else{if(p.isInvalid(n))return;p.throwError()}}Object.defineProperty(n,"__esModule",{value:!0});var p=t(0),h=t(3),f=t(4),v=t(5),g=t(19),m=t(6),b=t(2),k=t(12);n.mount=r,n.mountText=o,n.mountVoid=a,n.mountElement=i,n.mountArrayChildren=l,n.mountComponent=d,n.mountClassComponentCallbacks=s,n.mountFunctionalComponentCallbacks=u,n.mountRef=c},function(e,n,t){e.exports=t(35).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,n,t,r,l){var d=e.flags;28&d?a(e,n,t,r,l):3970&d?i(e,n,t,r,l):4097&d&&o(e,n)}function o(e,n){s.isNull(n)||f.removeChild(n,e.dom)}function a(e,n,t,o,a){var i=e.children,l=e.flags,d=4&l,c=e.ref,v=e.dom;if(a||(d?i._unmounted||(i._blockSetState=!0,s.isNull(u.options.beforeUnmount)||u.options.beforeUnmount(e),s.isUndefined(i.componentWillUnmount)||i.componentWillUnmount(),c&&!a&&c(null),i._unmounted=!0,u.options.findDOMNodeEnabled&&h.componentToDOMNodeMap.delete(i),r(i._lastInput,null,i._lifecycle,!1,a)):(s.isNullOrUndef(c)||s.isNullOrUndef(c.onComponentWillUnmount)||c.onComponentWillUnmount(v),r(i,null,t,!1,a))),n){var g=i._lastInput;s.isNullOrUndef(g)&&(g=i),f.removeChild(n,v)}u.options.recyclingEnabled&&!d&&(n||o)&&p.poolComponent(e)}function i(e,n,t,r,o){var a=e.dom,i=e.ref,h=e.props;i&&!o&&d(i);var v=e.children;if(s.isNullOrUndef(v)||l(v,t,o),!s.isNull(h))for(var g in h)null!==h[g]&&c.isAttrAnEvent(g)&&(c.patchEvent(g,h[g],null,a),h[g]=null);s.isNull(n)||f.removeChild(n,a),u.options.recyclingEnabled&&(n||r)&&p.poolElement(e)}function l(e,n,t){if(s.isArray(e))for(var o=0,a=e.length;o<a;o++){var i=e[o];!s.isInvalid(i)&&s.isObject(i)&&r(i,null,n,!1,t)}else s.isObject(e)&&r(e,null,n,!1,t)}function d(e){if(s.isFunction(e))e(null);else{if(s.isInvalid(e))return;s.throwError()}}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(3),c=t(5),p=t(19),h=t(6),f=t(2);n.unmount=r,n.unmountComponent=a,n.unmountElement=i},function(e,n,t){"use strict";function r(e,n,t,r,o,a){512&e&&i.processInput(n,t,r,o,a),2048&e&&l.processSelect(n,t,r,o,a),1024&e&&d.processTextarea(n,t,r,o,a)}function o(e){return e.type&&i.isCheckedType(e.type)?!a.isNullOrUndef(e.checked):!a.isNullOrUndef(e.value)}Object.defineProperty(n,"__esModule",{value:!0});var a=t(0),i=t(47),l=t(48),d=t(49);n.processElement=r,n.isControlledFormElement=o},function(e,n,t){"use strict";n.__esModule=!0;n.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},n.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},n.stripPrefix=function(e,n){return 0===e.indexOf(n)?e.substr(n.length):e},n.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},n.parsePath=function(e){var n=e||"/",t="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var a=n.indexOf("?");return-1!==a&&(t=n.substr(a),n=n.substr(0,a)),n=decodeURI(n),{pathname:n,search:"?"===t?"":t,hash:"#"===r?"":r}},n.createPath=function(e){var n=e.pathname,t=e.search,r=e.hash,o=encodeURI(n||"/");return t&&"?"!==t&&(o+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,n,t){e.exports=t(36).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,n,t){return i.createVNode(2,"a",e,n,t)}function o(e,n){var t,o=n.router,i=e.activeClassName,d=e.activeStyle,s=e.className,u=e.onClick,c=e.children,p=e.to,h=a(e,["activeClassName","activeStyle","className","onClick","children","to"]);return s&&(t=s),o?(h.href=l.isBrowser?o.createHref({pathname:p}):o.location.baseUrl?o.location.baseUrl+p:p,o.location.pathname===p&&(i&&(t=(s?s+" ":"")+i),d&&(h.style=l.combineFrom(e.style,d))),h.onclick=function(e){0!==e.button||e.ctrlKey||e.altKey||e.metaKey||e.shiftKey||(e.preventDefault(),"function"==typeof u&&u(e),o.push(p,e.target.textContent))},r(t,c,h)):(h.href=p,h.onClick=u,r(t,c,h))}var a=this&&this.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&(t[r[o]]=e[r[o]]);return t};Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),l=t(0);n.default=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(10),a=function(e){function n(n,t){return e.call(this,n,t)||this}return r(n,e),n.prototype.getChildContext=function(){return{router:this.props.router||{location:{baseUrl:this.props.baseUrl,pathname:this.props.location}}}},n.prototype.render=function(e){return e.matched},n}(o.default);n.default=a},function(e,n,t){"use strict";function r(e,n){var t=s.getURLString(n);return o(l.toArray(e),encodeURI(t),"/")}function o(e,n,t,r){void 0===n&&(n="/"),void 0===t&&(t="/"),void 0===r&&(r=!1);var d=l.isArray(e)?s.flatten(e):l.toArray(e),u=n.split("?"),c=u[0],p=void 0===c?"/":c,h=u[1],f=void 0===h?"":h,v=s.mapSearchParams(f);d.sort(s.pathRankSort);for(var g=0,m=d.length;g<m;g++){var b=d[g],k=b.props||s.emptyObject,w=k.from||k.path||"/",N=t+s.toPartialURL(w,t).replace(/\/\//g,"/"),y=s.isEmpty(k.children),j=a(y,N,p);if(j){var V=k.children;if(k.from&&(r=k.to),V){var O=o(V,n,N,r);if(O){if(O.redirect)return{location:N,redirect:O.redirect};V=O.matched;var _=V.props.params;for(var z in _)v[z]=_[z]}else V=null}return{location:N,redirect:r,matched:i.default.cloneVNode(b,{params:l.combineFrom(v,j.params),children:V})}}}}function a(e,n,t){var r=n+"|"+e,o=u.get(r);if(void 0===o){var a=[];o={pattern:d.default(n,a,{end:e}),keys:a},u.set(r,o)}var i=o.pattern.exec(t);if(!i)return null;for(var l=i[0],c=Object.create(null),p=1,h=i.length;p<h;p+=1)c[o.keys[p-1].name]=s.decode(i[p]);return{path:""===l?"/":l,params:c}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),l=t(0),d=t(53),s=t(18),u=new Map;n.default=r,n.matchPath=a},function(e,n,t){"use strict";function r(e){return"string"!=typeof e?e:decodeURIComponent(e)}function o(e){return!e||!(v.isArray(e)?e:Object.keys(e)).length}function a(e){var n=[];return f(e,n),n}function i(e){return v.isString(e)?e:e.pathname+e.search}function l(e){if(""===e)return{};for(var n=Object.create(null),t=e.split("&"),r=0,o=t.length;r<o;r++){var a=t[r],i=a.split("=").map(c).map(decodeURIComponent),l=i[0],d=i[1];n[l]?(n[l]=v.isArray(n[l])?n[l]:[n[l]],n[l].push(d)):n[l]=d}return n}function d(e,n){return 0===e.indexOf(n)?e.substr(n.length):e}function s(e,n){var t={};for(var r in e)n.indexOf(r)<0&&(t[r]=e[r]);return t}function u(e,t){var r=e.props||n.emptyObject,o=t.props||n.emptyObject;return h(o.path)-h(r.path)||(o.path&&r.path?o.path.length-r.path.length:0)}function c(e,n){return decodeURIComponent(0|n?e:e.replace("[]",""))}function p(e){return e.replace(/(^\/+|\/+$)/g,"")}function h(e){return void 0===e&&(e=""),(p(e).match(/\/+/g)||"").length}function f(e,n){for(var t=0,r=e.length;t<r;t++){var o=e[t];v.isArray(o)?f(o,n):n.push(o)}}Object.defineProperty(n,"__esModule",{value:!0});var v=t(0);n.emptyObject={},n.decode=r,n.isEmpty=o,n.flatten=a,n.getURLString=i,n.mapSearchParams=l,n.toPartialURL=d,n.rest=s,n.pathRankSort=u},function(e,n,t){"use strict";function r(e,n,t,r){var o=e.type,a=u.get(o);if(!l.isUndefined(a)){var i=e.key,s=null===i?a.nonKeyed:a.keyed.get(i);if(!l.isUndefined(s)){var c=s.pop();if(!l.isUndefined(c))return d.patchElement(c,e,null,n,t,r,!0),e.dom}}return null}function o(e){var n=e.type,t=e.key,r=u.get(n);if(l.isUndefined(r)&&(r={keyed:new Map,nonKeyed:[]},u.set(n,r)),l.isNull(t))r.nonKeyed.push(e);else{var o=r.keyed.get(t);l.isUndefined(o)&&(o=[],r.keyed.set(t,o)),o.push(e)}}function a(e,n,t,r){var o=e.type,a=s.get(o);if(!l.isUndefined(a)){var i=e.key,u=null===i?a.nonKeyed:a.keyed.get(i);if(!l.isUndefined(u)){var c=u.pop();if(!l.isUndefined(c)){var p=e.flags;if(!d.patchComponent(c,e,null,n,t,r,4&p,!0))return e.dom}}}return null}function i(e){var n=e.ref;if(!n||!(n.onComponentWillMount||n.onComponentWillUnmount||n.onComponentDidMount||n.onComponentWillUpdate||n.onComponentDidUpdate)){var t=e.type,r=e.key,o=s.get(t);if(l.isUndefined(o)&&(o={keyed:new Map,nonKeyed:[]},s.set(t,o)),l.isNull(r))o.nonKeyed.push(e);else{var a=o.keyed.get(r);l.isUndefined(a)&&(a=[],o.keyed.set(r,a)),a.push(e)}}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),d=t(5),s=new Map,u=new Map;n.recycleElement=r,n.poolElement=o,n.recycleComponent=a,n.poolComponent=i},function(e,n,t){"use strict";function r(e,n){return n.key=e,n}function o(e,n){return p.isNumber(e)&&(e="."+e),p.isNull(n.key)||"."===n.key[0]?r(e,n):n}function a(e,n){return n.key=e+n.key,n}function i(e,n,t,o){for(var l=e.length;t<l;t++){var d=e[t],s=o+"."+t;p.isInvalid(d)||(p.isArray(d)?i(d,n,0,s):(p.isStringOrNumber(d)?d=h.createTextVNode(d,null):(h.isVNode(d)&&d.dom||d.key&&"."===d.key[0])&&(d=h.directClone(d)),d=p.isNull(d.key)||"."===d.key[0]?r(s,d):a(o,d),n.push(d)))}}function l(e){var n;!0===e.$?e=e.slice():e.$=!0;for(var t=0,r=e.length;t<r;t++){var a=e[t];if(p.isInvalid(a)||p.isArray(a)){var l=(n||e).slice(0,t);return i(e,l,t,""),l}p.isStringOrNumber(a)?(n||(n=e.slice(0,t)),n.push(o(t,h.createTextVNode(a,null)))):h.isVNode(a)&&null!==a.dom||p.isNull(a.key)&&0==(64&a.flags)?(n||(n=e.slice(0,t)),n.push(o(t,h.directClone(a)))):n&&n.push(o(t,h.directClone(a)))}return n||e}function d(e){return p.isArray(e)?l(e):h.isVNode(e)&&null!==e.dom?h.directClone(e):e}function s(e,n,t){3970&e.flags&&(p.isNullOrUndef(t)&&!p.isNullOrUndef(n.children)&&(e.children=n.children),p.isNullOrUndef(n.className)||(e.className=n.className,delete n.className)),n.ref&&(e.ref=n.ref,delete n.ref),p.isNullOrUndef(n.key)||(e.key=n.key,delete n.key)}function u(e){return"svg"===e?128:"input"===e?512:"select"===e?2048:"textarea"===e?1024:"media"===e?256:2}function c(e){var n=e.props,t=e.children;if(28&e.flags){var r=e.type,o=r.defaultProps;if(!p.isNullOrUndef(o))if(n)for(var a in o)p.isUndefined(n[a])&&(n[a]=o[a]);else n=e.props=o;p.isString(r)&&(e.flags=u(r),n&&n.children&&(e.children=n.children,t=n.children))}n&&(s(e,n,t),p.isInvalid(n.children)||(n.children=d(n.children))),p.isInvalid(t)||(e.children=d(t))}Object.defineProperty(n,"__esModule",{value:!0});var p=t(0),h=t(4);n.normalizeVNodes=l,n.getFlagsForElementVnode=u,n.normalize=c},function(e,n,t){"use strict";var r=function(){};e.exports=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Besluit=void 0;var r=t(1);n.Besluit=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Besluit"),(0,r.createVNode)(2,"p",null,"Uit het werk kunnen we besluiten dat de hiërarchie van de Romeinen goed in elkaar zat aangezien iedereen zijn plaats kende en er respect en aanzien was. Door deze organisatie was het Romeinse leger een van de succesvolste legers uit die tijd. Wanneer we het huidige leger vergelijken met het Romeinse stellen we vast dat onze hiërarchie een zeer uitgebreide versie is van die van het Romeinse leger. Er zijn meer onderverdelingen en meer componenten dan bij de Romeinen, maar dit is te wijten aan technologische en wetenschappelijke vooruitgang. Zo zijn er nu vliegtuigen, tanks, jeeps en vliegdekschepen wat ervoor zorgt dat iedere persoon binnen het leger zijn specifieke functie heeft en er dus meer verdeeldheid is. Op het vlak van bewapening waren de Romeinen ook goed voorzien. Ze waren veel bezig met het ontwikkelen van nieuwe wapens om hun vijanden te kunnen verrassen. Hun wapens waren efficiënt en doeltreffend waardoor ze vele veldslagen hebben gewonnen. Wanneer we het Romeinse leger met het huidige vergelijken stellen we vast dat alles is veranderd. Dit is weer te wijten aan technologische en wetenschappelijke vooruitgang. In huidige tijden wordt er niet meer gestreden met zwaarden, schilden en speren, maar met machinegeweren, langeafstandsraketten en computers. De Romeinen waren ongetwijfeld de grondleggers van verscheidene legers die later zijn ontstaan, maar sporen van hun wapens zijn in het huidige leger niet meer te vinden. Het Romeinse leger was een van de succesvolste legers uit de geschiedenis. Dit is te wijten aan hun ijzersterke discipline en goed bedachte tactieken en aanvalsplannen. De Romeinen begrepen ook zeer goed dat een veldslag niet enkel fysiek werd gestreden, maar ook mentaal. Ze wisten goed hoe ze het moreel bij hun troepen hoog moesten houden terwijl ze dat van de vijand verzwakten. Het verlies van een veldslag vond zijn oorzaak meestal bij slecht leiderschap. De tactieken van het huidige leger zijn zeer sterk veranderd aangezien alles vanop een langere afstand gebeurt en er meer en meer via robots wordt gewerkt. Vroeger waren bijna alle gevechten man tot man gevechten waardoor men tactieken kon toepassen zoals bijvoorbeeld: ruiters langs de flanken laten inkomen. Tegenwoordig heeft dit geen nut meer aangezien het aantal soldaten waarmee men oorlog voert sterk verminderd is.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bewapening=void 0;var r=t(1);n.Bewapening=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Hoe was de bewapening bij de Romeinen"),(0,r.createVNode)(2,"p",null,"Gedurende enkele eeuwen tot op de dag van vandaag ontstond er een voortdurende ontwikkeling van bewapening. Dit heeft zich kunnen verwezenlijken door de technologische vooruitgang met als gevolg dat de kracht van wapens aanzienlijk is vergroot. Maar om de evolutie van de bewapening waar te nemen, moeten we terugblikken ten tijde van het Romeinse imperium waar de basis werd gelegd."),(0,r.createVNode)(2,"h3",null,"Draagbare bewapening"),(0,r.createVNode)(2,"p",null,["Vele kinderen of jongeren lezen weleens strips zoals Asterix en Obelix of moeten op school enkele werkjes maken omtrent de Romeinse beschaving. Hierdoor krijgen ze een bepaald beeld over het Romeinse leven en met welke wapens de soldaten te werk gingen. Het algemene beeld die wij hiervan hebben, is dat elke soldaat een aanvalswapen en een verdedigingswapen ter beschikking had en dat iedere soldaat voorzien werd van stoere vechterskledij. Hierbij zijn vaak het zwaard en de speer de belangrijkste aanvalswapens en ter verdediging gebruikten ze het schild. Om zich te beschermen droegen ze vaak een harnas. Of deze algemene voorstelling altijd waar is, wordt in dit hoofdstuk onderzocht.",(0,r.createVNode)(2,"p"),"Bewapening bij Romeinse legionairs hielden telkens verband met de rang waartoe ze behoorden. Bewapening is net zoals de rangen in verschillende groepen te verdelen. Beginnen doen we met de verschillende tijdperken gaande van 105 v.Chr. tot einde 2de eeuw. Hierbij wordt een nieuw tijdperk telkens ingeleid bij ontstaan van nieuwe en belangrijke bewapening.",(0,r.createVNode)(2,"p"),"Bij de eerste generatie was de gladius (= zwaard) het belangrijkste aanvalswapen. Deze werd altijd gebruikt in combinatie met de aspis (= schild) waarmee ze zich konden verdedigen. In het begin had de gladius een korte lengte, geïnspireerd op het model van de Griekse xiphos. Het schild of de zogenaamde aspis werd vervaardigd uit hout met telkens een bronzen rand ter versterking. De vorm van het schild was rond en relatief groot ter vergelijking met wat er nog zou volgen. Ook hierbij hebben de Romeinen zich weer laten inspireren door de Grieken. Bij de volgende generatie wilden de Romeinen hun eigen stijl creëren waarin Griekse, Keltische en Italische invloeden verwerkt werden. Zo creëerden ze de scutum als vervanging van de aspis. Het had een ovale vorm en beschikte over tal van voordelen. Zo is het schild duurzamer en lichter dan de vorige en het beschikte over een schildknop (= metalen bol die zich centraal op het schild bevond). De functie van die knop was meer schade toe brengen aan de vijand. De aspis werd altijd in de linkerhand gedragen waardoor ze het zwaard in de rechterhand konden leggen. De rede hiervoor was dat de meeste Romeinse soldaten rechtshandig waren waardoor ze meer kracht hadden in hun rechterarm wat noodzakelijk was om bruuske bewegingen te maken met de gladius. Enige tijd later gingen ze gebruik maken van een iets langer zwaard wat overgenomen was van de vijand tijdens de Punische oorlogen. Diezelfde generatie ging zich ook richten op de ontwikkeling van stootsperen (= eerste versie speren). Deze hadden ongeveer dezelfde functie als het zwaard.",(0,r.createVNode)(2,"p"),(0,r.createVNode)(2,"p"),"Het enige verschil was dat ze nog langer waren. Ze waren in het begin niet bedoeld om weg te gooien in de richting van de vijand. Stootsperen werden gebruikt door de hastati (= legionarii van het eerste manipel). Uiteindelijk werd de stootspeer minder gebruikt door de legionairs en evolueerde men naar het ontwikkelen van een lichtere werpspeer nl de pilum. Dit resulteerde in een nieuwe generatie. Elke legatus beschikte over 2 pila waardoor ze bij de start van een gevecht de vijand onmiddellijk konden verzwakken. De pilum was zelfs zo gemaakt dat de punt van de speer bij botsing krom ging staan of afbrak waardoor de vijand de speer niet kon hergebruiken. Stel dat de pilum in een schild belandde, dan was het gevolg dat de zware achterkant van de speer naar beneden zakte waardoor het onmogelijk was om er verder mee rond te lopen. Hierdoor was de vijand vaak genoodzaakt om zonder schild verder te vechten.",(0,r.createVNode)(2,"p"),"In de 3de eeuw kwam er opnieuw een opvallende vooruitgang, maar ditmaal op het gebied van verdediging. De bekende scutum werd aangepast en zo ontstond de spiculum. Het was een vlak schild, nog lichter en net zoals de scutum met een slagknop in het midden.",(0,r.createVNode)(2,"p"),"De bewapening van de hulptroepen is ook op te delen in enkele groepen. Tijdens de eerste jaren van de equitatus werd de gladius gebruikt om de vijand aan te vallen vanop het paard. Doordat het zwaard kort was, maakten ze kans om snel van het paard te vallen. In de loop van de 3de eeuw was men erin geslaagd een langere versie van de gladius te creëren nl de spatha. De sagittarii maken gebruik van de sagitta (= pijlenboog). De gebogen vorm van de sagitta werd gevormd door begin en einde aan te spannen met een stevige, strakke draad. Hiermee konden ze hun pijlen over een grote afstand schieten. Tot slot hanteren de funditores de funda. Dit is een slinger waarin ze loden kogels legde om die vervolgens naar de vijand te gooien.",(0,r.createVNode)(2,"p"),"Uit al deze gegevens weten we dat het algemene beeld grotendeels juist is. Maar je kan onmogelijk besluiten dat je met dat beeld alles weet over de bewapening van Romeinse soldaten. Naast het zwaard, de speer en het schild waren er nog tal van andere aanvals- en verdedigingswapens die gebruikt werden tijdens de gevechten ten tijde van de Romeinen."]),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Bewapening legionairs"),(0,r.createVNode)(2,"th",null,"aanvalswapen"),(0,r.createVNode)(2,"th",null,"verdedingingswapen"),(0,r.createVNode)(2,"th")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"1ste generatie"),(0,r.createVNode)(2,"td",null,"gladius"),(0,r.createVNode)(2,"td",null,"aspia"),(0,r.createVNode)(2,"td",null,"Generaties gaande vanaf ± 3de eeuw v.Chr. – 3de eeuw",{rowspan:"4"})]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"2de generatie"),(0,r.createVNode)(2,"td",null,"hasta + gladius"),(0,r.createVNode)(2,"td",null,"scutum")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"3de generatie"),(0,r.createVNode)(2,"td",null,"pilum + gladius"),(0,r.createVNode)(2,"td",null,"scutum")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"4de generatie"),(0,r.createVNode)(2,"td",null,"spatha"),(0,r.createVNode)(2,"td",null,"spiculum")])])),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Bewapening hulptroepen"),(0,r.createVNode)(2,"th",null,"aanvalswapens"),(0,r.createVNode)(2,"th",null,"verdedigingswapens")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"equitatus"),(0,r.createVNode)(2,"td",null,"spatha"),(0,r.createVNode)(2,"td",null,"Verdediging komt grotendeels overeen met die van de legionairs",{rowspan:"3"})]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"sagittarii"),(0,r.createVNode)(2,"td",null,"sagitta")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"funditores"),(0,r.createVNode)(2,"td",null,"funda")])])),(0,r.createVNode)(2,"p",null,"Aangezien er weinig betrouwbare bronnen zijn over de exacte data's i.v.m. het ontstaan van reeds vermelde bewapening, werd de chronologische volgorde van het ontstaan weergegeven a.d.h.v. generaties."),(0,r.createVNode)(2,"h3",null,"Oorlogstuigen"),(0,r.createVNode)(2,"p",null,"Tenslotte bespreken we in dit hoofdstuk de Romeinse oorlogstuigen aangezien het een belangrijk aspect was van de gevechten. Hierbij gaan we een opdeling maken tussen de tormenta (= aanvalswapens) en enkele andere oorlogsvoertuigen ter verdediging."),(0,r.createVNode)(2,"h4",null,"Aanvalswapens"),(0,r.createVNode)(2,"p",null,"De aanvalswapens waren veel krachtiger dan degene die ze op zak droegen. De bekendste aanvalsmachines waren de catapultae (= katapulten), onder te verdelen in enkele categorieën. Ze werden gebruikt om projectielen weg te schieten m.b.v. mechanische energie. De eerste katapulten schoten hun pijlen in bijna horizontale richting waardoor de afstand die ze konden afleggen niet al te succesvol was. De Romeinse ingenieurs van die tijd gingen dan zoeken naar methodes om het reeds vermelde probleem op te lossen. Hieruit ontstond de ballista. Deze katapult had tussen de 2 horizontaal schuin geplaatste balken een gespannen touw. Onder het touw bevond zich een halve cilinder waarin het projectiel werd gelegd. Deze halve cilinder werd altijd naar boven gericht en de hoek waarin het zich bevond konden ze bijsturen indien nodig. Het was dus niet zo dat ballista's een vaste hoek meekregen zoals bij de eerste versies van de katapulten. Door die regelbare hoek konden ze hun pijlen over een afstand van 400 meter schieten. Net zoals bij de oudste katapulten waren er veel soldaten (±4) nodig om het in gebruik te kunnen nemen. Daarom zochten de ingenieurs nog steeds naar een verbeterde versie. De ingenieurs plaatsten dit nadeel centraal in hun volgende ontwerpen waardoor de scorpiones (kruisboog op voet) waren ontstaan. Het waren kleine katapulten die door 1 man gedragen konden worden. Ze bestonden uit een ijzeren boog waartussen een snaar werd gespannen. De projectielen die ze konden afvuren waren houten spiesen van 67cm. Na de scorpiones ontwikkelde men de cheioballistra die beschikte over metalen frames wat veel sterker was dan voordien. De onager was de laatste hervorming van de katapult en werd algemeen in gebruik genomen rond de 4de eeuw."),(0,r.createVNode)(2,"p",null,"Deze had een totaal andere werkwijze dan de vorige. Het was een heel groot en zwaar machine bedoeld om grote projectielen naar de vijand te werpen. Dergelijke projectielen waren meestal stenen. Het opvallendste kenmerk van de onager was dat er opnieuw vele soldaten nodig waren om de katapult in gebruik te nemen en dit was juist wat men bij de ontwikkeling van de katapult wilde tegengaan."),(0,r.createVNode)(2,"h3",null,"Verdedigingswapens"),(0,r.createVNode)(2,"p",null,["De verdedigingsmachines waren net zoals de aanvalsmachines krachtiger in vergelijking met wat de soldaten bij zich droegen. U zal telkens een korte beschrijving krijgen over enkele oorlogstuigen die ter verdediging werden gebruikt.",(0,r.createVNode)(2,"p"),"Beginnen doen we met de plutei, een halfcirkelvormig schild op wielen die veel weerstand bood. Vervolgens was er de testudo. Deze was net zoals de plutei een bescherming op wielen (kan ook zonder wielen). Maar het verschil was dat bij de testudo schilden aan elkaar werden gehecht die ze dan als afdak gebruikten.",(0,r.createVNode)(2,"p"),"Tot slot bestond er een machine die zowel bij de aanvals- als bij de verdedigingswapens zou kunnen horen, nl de tures ambulatoriae. Het was een houten toren op wielen waarin ze konden schuilen en op die manier konden ze ongeschonden de vijand naderen. Zo’n toren telde enkele verdiepingen en had telkens een valluik per verdiep. Dit gaf hen de kans om over de muren te geraken van de vijand. Helemaal onderaan werd een stormram ingebouwd en deze had als functie de poorten van het vijandelijke gebied te doorbreken.",(0,r.createVNode)(2,"p")]),(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Oorlogstuigen"),(0,r.createVNode)(2,"th",null,"wapens")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"aanvalswapens (= tormenta)"),(0,r.createVNode)(2,"td",null,"catapultae")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"Ballistae")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"Scorpiones")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"cheioballistra")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"onager")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"verdedinginswapens"),(0,r.createVNode)(2,"td",null,"Plutei")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"testudo")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"combinatiewapen"),(0,r.createVNode)(2,"td",null,"Tures ambulatoriae")])]),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Als we een vergelijking maken van de Romeinse bewapening t.o.v. de huidige, dan kunnen we een zeer sterke evolutie vaststellen voortgekomen uit de wetenschappelijke vooruitgang die men doorheen de jaren boekte. Ze hebben zich altijd willen verbeteren in het maken van machines die projectielen konden afschieten. Zo werd de katapult omgevormd tot een lange afstandsraket. Men ontwikkelde zelfs een systeem om zwaarden te vervangen door machines die kogels konden afvuren.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bronnen=void 0;var r=t(1);n.Bronnen=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Bronnen"),(0,r.createVNode)(2,"h3","bron","Boeken"),(0,r.createVNode)(2,"p",null,[(0,r.createVNode)(2,"ul",null,[(0,r.createVNode)(2,"li",null,"Commentarii de bello Gallico, VII, LXIX"),(0,r.createVNode)(2,"li",null,"Van Gelder, J. (1952) Latijnse geschiedschrijvers. Bloemlezing uit de werken van Sallustius, Caesar, Livius en Tacitus. Haarlem: Spaarnestad"),(0,r.createVNode)(2,"li",null,"Harpur, J. (2007) Guerriers: Les grands héros de l'histoire. MILAN: Toulouse"),(0,r.createVNode)(2,"li",null,"Van Daele, B. (2003) Het Romeinse Leger. Davidsfonds: Leuven"),(0,r.createVNode)(2,"li",null,"Goldsworthy, A. (2017) Romeinse legioenen. Omniboek: Utrecht"),(0,r.createVNode)(2,"li",null,"Rodgers, N. (2012) Het Romeinse Rijk. Veltman: Utrecht"),(0,r.createVNode)(2,"li",null,"Anoniem. (2015). De Veldslagen, Het Pop-Upboek. Tielt: Lannoo."),(0,r.createVNode)(2,"li",null,"Warry, W. (1981). Oorlogvoering in de klassieke wereld. Hemond: Helmond."),(0,r.createVNode)(2,"li",null,"Dando-Collins, S. (2010). Legions of Rome: The Definitive History of Every Imperial Roman Legion. Londen: Quercus Publishing."),(0,r.createVNode)(2,"li",null,"Feugere, M. (2002). The Weapons of the Romans. United Kingdom: The History Press.")]),(0,r.createVNode)(2,"h3","bron","Mondeling"),(0,r.createVNode)(2,"p",null,"Mondelinge bron geleverd door Kolonel SBH Marc Alexander (Hoogleraar aan de KMS)"),(0,r.createVNode)(2,"h3","bron","Websites"),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"ul",null,[(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Goede keizers, slechte keizers",{href:"https://marcaur.wordpress.com/2015/03/20/de-vijf-grootste-overwinningen-van-de-romeinen-longread/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"militair.net",{href:"http://www.militair.net/Oorlogen/Romeinse%20oorlogen/Slag%20bij%20Teutoburgerwoud/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"4 opmerkelijke veldslagen uit de Romeinse geschiedenis",{href:"http://www.isgeschiedenis.nl/nieuws/4-opmerkelijke-veldslagen-romeinse-geschiedenis/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Beleg van Alesia",{href:"https://nl.wikipedia.org/wiki/Beleg%20van%20Alesia"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Waar lag Alésia?",{href:"https://www.kunstgeografie.nl/henv/helden.alesia.slag.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"de geschiedenis van Alesia",{href:"http://www.cenens.be/alesia/omgeving.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Drie grote veldslagen uit de Romeinse tijd",{href:"https://plazilla.com/page/4295028913/drie-grote-veldslagen-uit-de-romeinse-tijd"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Slag bij het Teutoburgerwoud",{href:"https://nl.wikipedia.org/wiki/Slag_bij_het_Teutoburgerwoud"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Slag bij het Teutoburgerwoud: Varus loopt in een Germaanse hinderlaag",{href:"http://www.isgeschiedenis.nl/militaire-confrontaties/slag-bij-het-teutoburgerwoud-varus-loopt-in-een-germaanse-hinderlaag/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Varusslag: 2000 jaar geleden",{href:"https://www.historischecartografie.nl/nieuws/2009/11/varusslag-2000-jaar-geleden/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"De Varusslag in 9 n.Chr.",{href:"http://www.noviomagus.info/varusslag.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Publius Quinctilius Varus",{href:"https://nl.wikipedia.org/wiki/Publius_Quinctilius_Varus"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Tactieken",{href:"http://www.legioxi.be/educatief/tactieken (open veldslag)"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Het Romeinse leger",{href:"http://www.klassiekevertalingen.nl/cultuur/leger.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Hulptroepen",{href:"http://users.telenet.be/phoenica/hulptroepen.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"De bewapening van de Romeinse legionair",{href:"http://romeinen.info/de-bewapening-van-de-romeinse-legionair"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Verdedigingswerken en belegeringsoorlog",{href:"http://users.skynet.be/veni_vidi_vici/bestorming.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Weapons",{href:"http://www.primaryhomeworkhelp.co.uk/romans/weapons.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Tools of War",{href:"https://romanmilitary.net/tools/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Ancient roman military, weapons and spies",{href:"http://factsanddetails.com/world/cat56/sub368/item2055.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Weapons & Tactics",{href:"https://www.the-romans.co.uk/weapons.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Organization of the Roman Imperial Legion",{href:"http://www.unrv.com/military/legion.php"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"The Roman Army",{href:"http://www.roman-empire.net/army/army.html"}))]))])])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Inleiding=void 0;var r=t(1);n.Inleiding=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Inleiding"),(0,r.createVNode)(2,"p",null,"Wij hebben beslist om ons werk over het Romeinse leger te beginnen met de onderverdeling van het leger. Hierdoor krijg je al een inzicht in hoe de hiërarchie was ten tijde van de Romeinen. Hierna zijn wij dieper ingegaan op de bewapening van de Romeinen zodat je goed weet hoe ze toen vochten en wat ze ter beschikking hadden om hun vijand te overmeesteren. Als laatste hebben wij gekeken naar het verloop van twee veldslagen en hebben we deze volledig geanalyseerd om uiteindelijk te kunnen zeggen hoe deze beter hadden kunnen verlopen. Wij hebben verscheidene bronnen gebruikt om ons werk te onderbouwen, gaande van boeken uit het archief van de Koninklijke Militaire School tot websites van professoren latijn die thesissen over het Romeinse leger hebben geschreven. Om nog extra documentatie en afbeeldingen te verschaffen bij deze onderzoekscompetentie, hebben wij besloten om deze site te maken.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Onderverdeling=void 0;var r=t(1);n.Onderverdeling=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Onderverdeling van het leger"),(0,r.createVNode)(2,"p",null,"De Romeinen hadden verschillende rangen binnen het leger waartoe je kon behoren. Het leger werd opgedeeld in meerdere legioenen en hulptroepen waarmee ze vanuit verschillende hoeken de vijand gestructureerd konden aanvallen. Doorheen de jaren nam het aantal soldaten sterk toe. De reden daartoe was vrij eenvoudig. Eenmaal een bepaalde bevolkingsgroep zijn strijdmanschappen vergrootte, was de andere verplicht om hetzelfde te doen, aangezien ze anders geen enkele kans zouden hebben op de overwinning."),(0,r.createVNode)(2,"h3",null,"Het legioen"),(0,r.createVNode)(2,"p",null,"Een legioen werd opgedeeld in 10 cohorten waarbij 1 cohorte een aantal van 600 soldaten telde op voorwaarde dat het legioen bestond uit ongeveer 6000 legionarii (= soldaten). De leider van een legioen werd een legatus genoemd. Het was altijd een man omdat enkel de mannen toegelaten werden bij het leger (Vrouwen moesten het huishouden doen). De legatus had ook 5 à 6 assistenten ter beschikking die de naam tribuni kregen. Dat waren steeds jonge mannen die een politieke carrière wilde starten maar eerst wat militaire ervaring nodig hadden. Vervolgens werden alle cohorten nog eens onderverdeeld in 3 manipels met telkens een aantal van 200 man. Het 1ste manipel van iedere cohorte kreeg de naam pilus. Het 1ste manipel van de 1ste cohorte werd de primus pilus genoemd met de primi pili centurio aan het hoofd. Deze 200 mannen werden nogmaals gesplitst in 2 groepen van 100 soldaten. Dergelijke groepen behoorden tot de rang van de centuria. Hierbij was een centurio (= onderofficier) de aanvoerder van 1 van de 6 centuriën. Hij beschikte over een aantal soldaten, 1 veldtekendrager en een optio. Zijn belangrijkheid was afhankelijk van de rang die zijn centuria had. Zo is de centurio van het 1ste centurie, 1ste manipel en 1ste cohorte de belangrijkste en naarmate je verder gaat in de hiërarchie nemen ze aan belangrijkheid af. Een centurio beschikte net zoals een legatus over een assistent die de naam optio aangeboden kreeg. Deze optio beschikte over een klein manschap om wat ervaring te krijgen over hoe je leiding moest geven. Het uiteindelijke doel van de optio was te promoveren om zo de functie van een centurio te krijgen. Zeer ervaren centurio's kregen ook nog kans om praefectus castrorum (= kampcommandant) te worden. Tot slot werden die 100 man nog een keer opgedeeld in 10 groepjes van telkens 10 soldaten die samen een kleine tent moesten delen waarin ze konden overnachten. Dergelijk tenten waren ongeveer 4 bij 3 meter. De reden hiervoor was dat ze omwille van hun grootte makkelijk te vervoeren waren. Deze groepjes werden conturbernium genoemd. Elk conturbernium beschikte over een muilezel die de soldaten hielp bij het vervoeren van hun goederen. Het legioen bevatte naast reeds vermelde rangen nog andere personen die een specifieke taak uitvoerden."),(0,r.createVNode)(2,"p",null,["Een aquilifer (= standaarddrager) kreeg de taak om met het Romeinse embleem van een aquila (= arend) het legioen vooraf te gaan en stond aan het hoofd van alle andere veldtekendragers. In een legioen waren er ook bakkers, smeden, dokter, …",(0,r.createVNode)(2,"p"),"Een legioen kon dus zonder enig probleem enkele maanden rondtrekken door de grote voorraad van dingen die ze meesleurde tijdens hun tocht en het groot aanbod van assistenten."]),(0,r.createVNode)(2,"h3",null,"De hulptroepen"),(0,r.createVNode)(2,"p",null,["Naast legioenen maakte de Romeinen ook veelvuldig gebruik van de auxilia (= hulptroepen). Daartoe behoorden de soldaten die niet de status hadden van Romeinse staatsburger doordat ze afkomstig waren uit andere volkeren. Omwille van hun andere afkomst kregen ze maar 1/3 van het loon van een legionarius.",(0,r.createVNode)(2,"p"),"Hun voornaamste functie was om de legioenen te helpen en om de grenzen te bewaken en te verdedigen. Deze taken moesten ze uitvoeren onder bevel van praefecti (= Romeinse officieren). Als een auxiliarius (= een soldaat van de hulptroepen) een diensttermijn van 25 jaar had afgesloten, kreeg hij en zijn gezin vanaf dat moment de status van een Romeins staatsburger. De zonen van een ex-auxiliarius gingen als legionarius werken wat hen de kans gaf om meer te verdienen dan hun vader. De ex-auxiliarius zelf nam de naam van de regerende keizer aan.",(0,r.createVNode)(2,"p"),"Net zoals de legioenen zijn er verschillende onderdelen binnen de hulptroepen zoals: de equitatus (= ruiters), de sagittarii (= boogschutters) en de funditores (= slingeraars). Elke soldaat binnen de hulptroepen kreeg een bijpassend wapen afhankelijk tot welke groep hij behoorde."]),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","onderverdeling-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"groepen"),(0,r.createVNode)(2,"th",null,"legioenen"),(0,r.createVNode)(2,"th",null,"hulptroepen")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"belangrijkste onderdelen"),(0,r.createVNode)(2,"td",null,["cohorten",(0,r.createVNode)(2,"br"),"manipels",(0,r.createVNode)(2,"br"),"centuria",(0,r.createVNode)(2,"br"),"conturbernium"]),(0,r.createVNode)(2,"td",null,["sagittarii",(0,r.createVNode)(2,"br"),"equitatus",(0,r.createVNode)(2,"br"),"funditores"])]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"aantal"),(0,r.createVNode)(2,"td",null,["1 cohort = ± 600",(0,r.createVNode)(2,"br"),"1 manipel = ± 200",(0,r.createVNode)(2,"br"),"1 centuria = ± 100",(0,r.createVNode)(2,"br"),"1 conturbernium = ± 10"]),(0,r.createVNode)(2,"td",null,"aantal is onduidelijk")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"leiders"),(0,r.createVNode)(2,"td",null,"legioen --\x3e legatus centuria --\x3e centurio zeer ervaren centurio --\x3e  praefectus castrorum"),(0,r.createVNode)(2,"td",null,"Hulptroepen --\x3e praefecti")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"status"),(0,r.createVNode)(2,"td",null,"Romeins staatsburger"),(0,r.createVNode)(2,"td",null,"geen Romeins staatsburger. Afkomstig van andere volkeren")])])),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Als we de onderverdeling bij de Romeinen vergelijken met de onze dan merken we op dat de structuur voor een groot deel bewaard is gebleven. Toch kunnen we stellen dat het huidige systeem meer onderverdelingen heeft en dat de namen ook steeds gewijzigd zijn. Zo is in 2017 de generaal de leider van het leger en vroeger sprak men over legatus die de leiding had over het legioen.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Veldslagen=void 0;var r=t(1);n.Veldslagen=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Veldslagen en oorlogen"),(0,r.createVNode)(2,"p",null,"De Romeinen hebben doorheen hun lange bestaan in vele delen van de wereld gevochten tegen verschillende rijken, stadstaten, handelsnaties en barbaarse stammen aangezien ze steeds meer grondgebied wilden veroveren. Hoewel velen hiervan werden gewonnen dankzij hun doordachte tactieken en ijzersterke discipline, waren er ook zware nederlagen bij zoals: de slag bij het Teutoburgerwoud, de slag bij Cannae en de slag bij Adrianopolis. Door deze nederlagen schaafden ze hun tactieken bij om dezelfde fouten niet nog eens te maken."),(0,r.createVNode)(2,"h3",null,"De slag bij Alesia"),(0,r.createVNode)(2,"p",null,"De slag bij Alesia werd gevochten tussen de Romeinse troepen van Julius Caesar en de Avernische troepen van Vercingetorix. Deze slag was de beslissende slag in de strijd tussen de Galliërs en de Romeinen en het was tevens een van de grootste overwinningen van Caesar. De slag vond plaats in 52 v.C. bij het Gallische Alesia rond een versterkt fort van het volk Mandubii. Het fort van Alesia was gelegen bovenop een heuvel waar rivieren langs stroomden. Caesar gaf van de omgeving een zeer goede beschrijving in zijn Commentarii de bello Gallico: \"Ipsum erat oppidum Alesia in colle summo admodum edito loco, ut nisi obsidione expugnari non posse videretur. Cuius collis radices duo duabus ex partibus flumina subluebant. Ante id oppidum planities circiter millia passuum III in longitudine patebat; reliquis ex omnibus partibus colles mediocri interiecto spatio pari altitudinis fastigio oppidum cingebant.\" Dit kan men vertalen als: 'De vesting Alesia zelf lag op een heuveltop die aanzienlijk boven de vlakte uitstak, zodat zij oninneembaar scheen tenzij door blokkade. De voet van die heuvel wordt aan twee zijden bespoeld door waterlopen. Vóór de vesting strekte zich een ongeveer drie mijl brede vlakte uit; aan al de andere zijden omringde heuvels, op korte afstand van elkaar gelegen en met gelijke tophoogte, de vesting.' Door deze uitstekende locatie was het zeer moeilijk om het fort in te nemen dus besloot Caesar om het fort te belegeren door gebruik te maken van een circumvallatielinie om zo de troepen en de bevolking van Alesia uit te hongeren."),(0,r.createVNode)(2,"p",null,["De linie bestond uit meerdere verstevigingen en wallen met een totale lengte van ongeveer 18km. De tactiek van Caesar bleek zeer goed te werken aangezien Vercingetorix radeloos was. De enige mogelijkheid die Vercingetorix nog had was om een deel van de Gallische cavalerie te doen ontsnappen door een nog onvoltooid gedeelte van de linie om versterking te halen. Zij slaagden in deze opzet en brachten succesvol een ontzettingsleger op de been. Caesar had echter aan alle mogelijke scenario's gedacht en hij had besloten om een contravallatielinie van 21 kilometer te bouwen rond de circumvallatielinie, waardoor de Romeinen langs twee zijden tegen de Gallische aanvallen beschermd waren.",(0,r.createVNode)(2,"br"),"Eenmaal het ontzettingsleger bij Alesia was aangekomen, waren het eigenlijk de Romeinen die belegerd waren aangezien ze ingesloten zaten tussen twee Gallische legers. Onder leiding van Commius viel het ontzettingsleger de contravallatielinie aan.",(0,r.createVNode)(2,"div","siegeofalexia-img"),"Tegelijkertijd liet Vercingetorix zijn troepen de circumvallatielinie aanvallen. De eerste dag hielden de Romeinen goed stand tegen de aanvallen van de Galliërs, maar de daar opvolgende dagen gingen bergaf. Ze werden gedwongen om forten en kampen in de contravallatielinie op te geven, maar Gaius rebonius kon met de cavalerie voorkomen dat de Galliërs hier gebruik van konden maken. Na maandenlang vechten besloot de neef van Vercingetorix, Vercassivellaunos, om met 60.000 manschappen de Romeinse stellingen aan te vallen. Hij koos de plek waar de stellingen het zwakst waren, namelijk waar de linies op dezelfde plek een rivier kruisten. Vercingetorix liet van binnenuit op dezelfde plaats een aanval uitvoeren, maar Caesar had zoveel vertrouwen in zijn troepen dat hij het bevel gaf om de stellingen te behouden. Caesar nam een grote gok door met 6.000 manschappen een leger van 60.000 manschappen aan te vallen, maar hij overdonderde de Galliërs zo hard dat ze zich genoodzaakt voelden om zich terug te trekken."]),(0,r.createVNode)(2,"p",null,"Hiermee was het belangrijkste en meest beslissende gevecht gestreden waarna de troepen in Alesia zich overgaven door hongersnood en gebrek aan manschappen. Rome was de grote overwinnaar bij deze slag die de basis vormde voor het verder veroveren van Gallië en Brittannië. De Gallische soldaten werden als slaven meegenomen en verkocht. Vercingetorix werd tevens gevangengenomen, maar niet verkocht aangezien de Romeinen hem wilden houden als trofee. Na een paar jaar werd hij ritueel gewurgd tijdens een triomftocht. De elementen die de Romeinen de overwinning hebben bezorgd zijn vooral berust op de geest. Caesar heeft steeds de moreel bij zijn troepen hoog weten te houden hoewel ze soms nederlagen leden. Dit zorgde ervoor dat de strijdlust bij de soldaten aanwezig bleef en ze steeds voelden dat ze de bovenhand hadden in het gevecht. Caesar nam het moreel van zijn troepen zeer serieus en ging zelfs zo ver dat hij met hen meestreed. Het moreel van zijn troepen lag aan de basis van de laatste belangrijke slag aangezien ze het gevecht onderbemand moesten aangaan, maar uiteindelijk hebben ze de overwinning behaald. Een tweede punt waardoor ze deze slag hebben gewonnen, is het goed doordachte aanvalsplan van Caesar. Zo had hij de contravallatielinie voorzien voor een eventuele aanval. Was deze linie er niet geweest, hadden de Galliërs deze veldslag gegarandeerd gewonnen door hun grote aantallen. Caesar was ook degene die een verrassingsaanval heeft kunnen afwenden door de vrouwen en kinderen niet uit Alesia te laten vertrekken. De Galliërs wilden hen namelijk als afleiding gebruiken om ondertussen een versteviging aan te vallen, maar door Caesar zijn besluit om de vrouwen en kinderen niet buiten te laten is de aanval niet kunnen doorgaan. Het enige negatieve punt dat geoptimaliseerd had kunnen worden is de bouw van de linies bij de rivieren aangezien dit het zwakke punt was van het kamp. Deze slag is een goed voorbeeld van de Romeinse discipline en strijdlust aangezien ze geen enkele grote fout hebben begaan die tot een eventueel verlies had kunnen lijden."),(0,r.createVNode)(2,"h3",null,"De slag bij het Teutoburgerwoud"),(0,r.createVNode)(2,"p",null,"De slag bij het Teutoburgerwoud werd gevochten tussen de Romeinse troepen van Varus en de Germaanse troepen van Arminius. Deze slag leidde een zevenjarige oorlog in, die uiteindelijk tot gevolg had dat de Rijn voor een periode van 400 jaar werd vastgelegd als grens van het Romeinse Rijk. De slag vond plaats in 9 n.C. nabij Kalkriese dat in Duitsland is gelegen. De slag was een van de grootste nederlagen uit de geschiedenis van het Romeinse leger."),(0,r.createVNode)(2,"p",null,["De Romeinen waren namelijk in een list getrapt van Arminius, de leider van de Germaanse stammen. Hij liet doorgeven dat er een opstand aan de gang was van veroverde Germaanse stammen. Hij wilde de Romeinen namelijk naar een voor hen onbekend gebied lokken zodat de Germanen een strategisch voordeel hadden. De Romeinse aanvoerder Varus was op dat moment met zijn leger op weg naar hun winterkampen voor de opkomende winter. Hij geloofde echter het nepbericht van Arminius en hij week van zijn route af en ging door het Teutoburgerwoud naar de zogezegde opstand.",(0,r.createVNode)(2,"br"),"Wat hij echter niet wist, was dat hij opgewacht werd door een groot Germaans leger dat zich in het bos had verstopt om een verrassingsaanval uit te voeren. Het Teutoburgerwoud was ondoordringbaar, mistig en vochtig, iets wat de Romeinen niet gewend waren aangezien zij altijd op vlakke en open slagvelden streden. Door het gebrek aan overzicht en de willekeur van de Germanen hadden de Romeinen vanaf het begin een nadeel. Ze konden namelijk hun gebruikelijke tactieken niet uitvoeren door het gebrek aan organisatie en ruimte. Toen na een paar dagen de Romeinse ondergang onafwendbaar leek, pleegde Varus zelfmoord. Hiermee was het lot van zijn troepen ook bezegeld aangezien ze geen leider meer hadden. Van de 18 000 manschappen slaagden slechts enkelen erin aan de vijand te ontsnappen en de Romeinse winterkampen aan de Rijn te bereiken."]),(0,r.createVNode)(2,"div","teutoburgerwoud-img",(0,r.createVNode)(2,"span","teutoburgerwoud-img-txt","Uitzicht van het Teutoburgerwoud gebaseerd op teksten van de eerste eeuw n.C.")),(0,r.createVNode)(2,"p",null,"Deze slag had tot gevolg dat er een einde kwam aan de Romeinse expansie in Noord-Europa. Ook had keizer Augustus besloten dat vanaf toen de Rijn de vaste grens zou worden van het Imperium Romanum."),(0,r.createVNode)(2,"p",null,"In deze slag is heel wat misgelopen, vooral op het vlak van leiderschap. Goed leiderschap vormt de basis voor elke slag als je kans wilt maken op de overwinning. Varus was in geen enkel opzicht een goede leider in deze slag. Hij nam irrationele beslissingen en dacht niet na over de gevolgen hiervan. Het begon reeds bij het niet nagaan van de informatie die hij had verkregen. Hij vertrouwde blind op de verkregen informatie en stippelde meteen een route uit. Hij had eigenlijk eerst de situatie moeten bekijken en eventueel ruiters voorop moeten sturen om na te gaan of er wel degelijk een opstand was. Hiermee had hij het conflict kunnen vermijden aangezien de ruiters dan hadden gezien dat er geen opstand was. Zijn tweede grote fout was om het leger wijd gespreid te laten lopen in een gebied dat hij niet kende. Het leger was namelijk aan het marcheren met een afstand van 15 kilometer tussen de eerste en de laatste soldaten. Hierdoor konden de Germanen met hun grotere aantallen de kleine groepjes Romeinen zonder enig probleem aanvallen. Had hij zijn leger compact laten marcheren, hadden de Romeinen nog een haalbare kans gehad op de overwinning in het gevecht aangezien de laatste troepen dan snel konden bijspringen om de eerste te helpen. Tijdens het gevecht zelf nam hij alleen maar slechte beslissingen. Hij had wel veel tegenslag met het weer waardoor de schutters hun bogen niet konden gebruiken en de houten schilden te zwaar werden om te dragen door het gewicht van het water dat in het hout was opgeslorpt. Hij gaf het order om door te marcheren naar een open plek, maar aangezien hij het bos niet kende wist hij niet dat er geen open plekken in hun nabijheid waren. Dit was een fout order aangezien hij de omgeving niet kende en dus ook niet wist waar er zich nog Germanen bevonden. Hij had zijn positie moeten verdedigen om zo een basis proberen op te richten aangezien het leger het kwetsbaarst is wanneer ze zich aan het verplaatsen zijn. Varus gaf ook geen steun aan zijn manschappen waardoor de strijdlust weg ging en velen het nut van de strijd niet meer zagen. De Legatus, Numonius Vala, van een van zijn drie legioenen was een van die personen die het leiderschap van Varus in twijfel trok en de verzwakte moreel aanvoelde. Hij was dan ook degene die samen met de ruiters vluchtte en zo de troepen in de steek liet. Maar ver kwam hij niet aangezien hij in het bos zelf nog werd afgemaakt door de ruiters van de Germanen. Zonder de steun van de ruiters was het leger verzwakt en dus grepen de Germanen hun kans. Ze begonnen bijna iedereen genadeloos af te slachten. Varus zag op dat ogenblik in dat hij zwaar had gefaald en pleegde daarom zelfmoord."),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Het is zeer moeilijk om het huidige leger te vergelijken met het Romeinse leger aangezien er zich een zeer grote ontwikkeling heeft plaatsgevonden op het gebied van wetenschappen en technologie. Vroeger streed men met een zwaard en een schild en had je als steun enkel ruiters. Nu wordt er gestreden vanop een zeer grote afstand aangezien men machinegeweren, pistolen, langeafstandsrakketten,… gebruikt. Er zijn nu ook veel nieuwe ondersteuningsmogelijkheden zoals tanks, schepen en vliegtuigen waardoor er een heleboel nieuwe tactieken mogelijk zijn. Door al deze veranderingen heeft men de tactieken die men gebruikt ook moeten veranderen. Vroeger kon men in een man op man gevecht tactieken gebruiken die zeer effectief waren op korte afstand en een klein slagveld. Als men deze tegenwoordig zou uitvoeren, zouden de soldaten ter plaatse worden afgemaakt. De hoeveelheid soldaten die daadwerkelijk vechten is ook sterk afgenomen in vergelijking met het Romeinse leger. Vroeger streed men met legers van zeer grote aantallen. Deze aantallen kunnen we ons tegenwoordig niet meer voorstellen. Er gebeurt nu veel meer achter de schermen om de soldaten die moeten vechten te helpen. Zo wordt er via satellieten of drones informatie verzameld over de omgeving waarin de soldaten zich bevinden en eventueel waar hun vijanden schuilen. Een soldaat heeft nu ook de mogelijkheid om, mits de goedkeuring van zijn aanvoerder, een luchtaanval in te roepen. De huidige tactieken draaien ook niet meer alleen maar rond het militaire aspect, maar ook rond onder andere het economische. Als men zijn vijand economisch kan verzwakken zal deze ook minder weerbaar zijn.")])}},function(e,n){},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=t(21),l=r(i),d=t(51),s=r(d),u=t(33),c=t(13),p=t(34),h=r(p),f=t(32),v=function(){try{return window.history.state||{}}catch(e){return{}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(f.canUseDOM,"Browser history needs a DOM");var n=window.history,t=(0,f.supportsHistory)(),r=!(0,f.supportsPopStateOnHashChange)(),i=e.forceRefresh,d=void 0!==i&&i,p=e.getUserConfirmation,g=void 0===p?f.getConfirmation:p,m=e.keyLength,b=void 0===m?6:m,k=e.basename?(0,c.stripTrailingSlash)((0,c.addLeadingSlash)(e.basename)):"",w=function(e){var n=e||{},t=n.key,r=n.state,o=window.location,i=o.pathname,l=o.search,d=o.hash,s=i+l+d;return k&&(s=(0,c.stripPrefix)(s,k)),a({},(0,c.parsePath)(s),{state:r,key:t})},N=function(){return Math.random().toString(36).substr(2,b)},y=(0,h.default)(),j=function(e){a(B,e),B.length=n.length,y.notifyListeners(B.location,B.action)},V=function(e){(0,f.isExtraneousPopstateEvent)(e)||z(w(e.state))},O=function(){z(w(v()))},_=!1,z=function(e){if(_)_=!1,j();else{y.confirmTransitionTo(e,"POP",g,function(n){n?j({action:"POP",location:e}):C(e)})}},C=function(e){var n=B.location,t=E.indexOf(n.key);-1===t&&(t=0);var r=E.indexOf(e.key);-1===r&&(r=0);var o=t-r;o&&(_=!0,M(o))},x=w(v()),E=[x.key],U=function(e){return k+(0,c.createPath)(e)},P=function(e,r){(0,l.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,N(),B.location);y.confirmTransitionTo(a,"PUSH",g,function(e){if(e){var r=U(a),o=a.key,i=a.state;if(t)if(n.pushState({key:o,state:i},null,r),d)window.location.href=r;else{var s=E.indexOf(B.location.key),u=E.slice(0,-1===s?0:s+1);u.push(a.key),E=u,j({action:"PUSH",location:a})}else(0,l.default)(void 0===i,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},R=function(e,r){(0,l.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,N(),B.location);y.confirmTransitionTo(a,"REPLACE",g,function(e){if(e){var r=U(a),o=a.key,i=a.state;if(t)if(n.replaceState({key:o,state:i},null,r),d)window.location.replace(r);else{var s=E.indexOf(B.location.key);-1!==s&&(E[s]=a.key),j({action:"REPLACE",location:a})}else(0,l.default)(void 0===i,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},M=function(e){n.go(e)},S=function(){return M(-1)},D=function(){return M(1)},A=0,T=function(e){A+=e,1===A?((0,f.addEventListener)(window,"popstate",V),r&&(0,f.addEventListener)(window,"hashchange",O)):0===A&&((0,f.removeEventListener)(window,"popstate",V),r&&(0,f.removeEventListener)(window,"hashchange",O))},I=!1,H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=y.setPrompt(e);return I||(T(1),I=!0),function(){return I&&(I=!1,T(-1)),n()}},L=function(e){var n=y.appendListener(e);return T(1),function(){T(-1),n()}},B={length:n.length,action:"POP",location:x,createHref:U,push:P,replace:R,go:M,goBack:S,goForward:D,block:H,listen:L};return B};n.default=g},function(e,n,t){e.exports=t(42).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var n=e.children;return(0,i.createVNode)(2,"div","page",[(0,i.createVNode)(2,"header",null,[(0,i.createVNode)(2,"h1",null,"Het Romeinse Leger"),(0,i.createVNode)(2,"nav",null,(0,i.createVNode)(2,"ul",null,[(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat",activeClassName:"linkActiveClass",children:"Inleiding"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/onderverdeling",activeClassName:"linkActiveClass",children:"onderverdeling"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/bewapening",activeClassName:"linkActiveClass",children:"bewapening"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/veldslagen",activeClassName:"linkActiveClass",children:"veldslagen"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/besluit",activeClassName:"linkActiveClass",children:"besluit"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/bronnen",activeClassName:"linkActiveClass",children:"bronnen"}))],{onClick:k}))]),(0,i.createVNode)(2,"section","content",n),(0,i.createVNode)(2,"footer",null,[(0,i.createVNode)(2,"span",null,"mei 2017"),(0,i.createVNode)(2,"span",null,"Kosh 6LWib"),(0,i.createVNode)(2,"span",null,"Aquila Ziedins (6), Tobias Alexander (1)")])])}function a(e){e.children;return(0,i.createVNode)(2,"div",null,"Hier bent u uit het Romeinse rijk")}var i=t(1),l=r(i),d=t(30),s=t(29),u=r(s);t(28);var c=t(25),p=t(26),h=t(23),f=t(27),v=t(22),g=t(24),m=(0,u.default)(),b=(0,i.createVNode)(16,d.Router,null,null,{history:m,children:(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat",component:o,children:[(0,i.createVNode)(16,d.IndexRoute,null,null,{component:c.Inleiding}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat",component:c.Inleiding}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/onderverdeling",component:p.Onderverdeling}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/bewapening",component:h.Bewapening}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/veldslagen",component:f.Veldslagen}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/besluit",component:v.Besluit}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/bronnen",component:g.Bronnen}),(0,i.createVNode)(16,d.Route,null,null,{path:"*",component:a})]})});l.default.render(b,document.getElementById("app"));var k=function(e){var n=document.querySelector(".content");n&&(n.scrollTop=0)}},function(e,n,t){"use strict";n.__esModule=!0;n.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),n.addEventListener=function(e,n,t){return e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,t)},n.removeEventListener=function(e,n,t){return e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent("on"+n,t)},n.getConfirmation=function(e,n){return n(window.confirm(e))},n.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},n.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},n.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},n.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.locationsAreEqual=n.createLocation=void 0;var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a=t(55),i=r(a),l=t(56),d=r(l),s=t(13);n.createLocation=function(e,n,t,r){var a=void 0;return"string"==typeof e?(a=(0,s.parsePath)(e),a.state=n):(a=o({},e),void 0===a.pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==n&&void 0===a.state&&(a.state=n)),a.key=t,r&&(a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.default)(a.pathname,r.pathname)):a.pathname=r.pathname),a},n.locationsAreEqual=function(e,n){return e.pathname===n.pathname&&e.search===n.search&&e.hash===n.hash&&e.key===n.key&&(0,d.default)(e.state,n.state)}},function(e,n,t){"use strict";n.__esModule=!0;var r=t(21),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){var e=null,n=function(n){return(0,o.default)(null==e,"A history supports only one prompt at a time"),e=n,function(){e===n&&(e=null)}},t=function(n,t,r,a){if(null!=e){var i="function"==typeof e?e(n,t):e;"string"==typeof i?"function"==typeof r?r(i,a):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==i)}else a(!0)},r=[];return{setPrompt:n,confirmTransitionTo:t,appendListener:function(e){var n=!0,t=function(){n&&e.apply(void 0,arguments)};return r.push(t),function(){n=!1,r=r.filter(function(e){return e!==t})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];r.forEach(function(e){return e.apply(void 0,n)})}}};n.default=a},function(e,n,t){"use strict";function r(e,n){if(28&e.flags){var t=e.parentVNode;t&&(t.dom=n,r(t,n))}}function o(e,n,t){var r=s.get(e);void 0===r&&(r=[],s.set(e,r),u.then(function(){s.delete(e),e._updating=!0,i(e,n,function(){for(var n=0,t=r.length;n<t;n++)r[n].call(e)}),e._updating=!1})),d.isNullOrUndef(t)||r.push(t)}function a(e,n,t){d.isFunction(n)&&(n=n(e.state,e.props,e.context));var r=e._pendingState;if(null===r)e._pendingState=r=n;else for(var a in n)r[a]=n[a];if(!d.isBrowser||e._pendingSetState||e._blockRender){var l=e.state;if(null===l)e.state=r;else for(var s in r)l[s]=r[s];e._pendingState=null,!d.isNullOrUndef(t)&&e._blockRender&&e._lifecycle.addListener(t.bind(e))}else e._updating?o(e,!1,t):(e._pendingSetState=!0,e._updating=!0,i(e,!1,t),e._updating=!1)}function i(e,n,t){if(!e._unmounted){if(n||!e._blockRender){e._pendingSetState=!1;var o=e._pendingState,a=e.state,i=d.combineFrom(a,o),s=e.props,u=e.context;e._pendingState=null;var c=e._updateComponent(a,i,s,s,u,n,!0),p=!0;d.isInvalid(c)?c=l.createVNode(4096,null):c===d.NO_OP?(c=e._lastInput,p=!1):d.isStringOrNumber(c)?c=l.createVNode(1,null,null,c):d.isArray(c)&&d.throwError();var h=e._lastInput,f=e._vNode,v=h.dom&&h.dom.parentNode||(h.dom=f.dom);if(e._lastInput=c,p){var g=void 0;d.isUndefined(e.getChildContext)||(g=e.getChildContext()),g=d.isNullOrUndef(g)?e._childContext:d.combineFrom(u,g);var m=e._lifecycle;l.internal_patch(h,c,v,m,g,e._isSVG,!1),m.trigger(),d.isUndefined(e.componentDidUpdate)||e.componentDidUpdate(s,a,u),d.isNull(l.options.afterUpdate)||l.options.afterUpdate(f)}var b=f.dom=c.dom;l.options.findDOMNodeEnabled&&l.internal_DOMNodeMap.set(e,c.dom),r(f,b)}else e.state=e._pendingState,e._pendingState=null;d.isNullOrUndef(t)||t.call(e)}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(1),d=t(0),s=(d.ERROR_MSG,new Map),u=Promise.resolve(),c=function(){function e(e,n){this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._isSVG=!1,this._updating=!0,this.props=e||l.EMPTY_OBJ,this.context=n||l.EMPTY_OBJ}return e.prototype.forceUpdate=function(e){!this._unmounted&&d.isBrowser&&i(this,!0,e)},e.prototype.setState=function(e,n){this._unmounted||(this._blockSetState?d.throwError():a(this,e,n))},e.prototype.setStateSync=function(e){this.setState(e)},e.prototype._updateComponent=function(e,n,t,r,o,a,i){if(!0===this._unmounted&&d.throwError(),t!==r||r===l.EMPTY_OBJ||e!==n||a){if(t===r&&r!==l.EMPTY_OBJ||(d.isUndefined(this.componentWillReceiveProps)||i||(this._blockRender=!0,this.componentWillReceiveProps(r,o),this._blockRender=!1),this._pendingSetState&&(n=d.combineFrom(n,this._pendingState),this._pendingSetState=!1,this._pendingState=null)),d.isUndefined(this.shouldComponentUpdate)||this.shouldComponentUpdate(r,n,o)||a){d.isUndefined(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(r,n,o),this._blockSetState=!1),this.props=r,this.state=n,this.context=o,l.options.beforeRender&&l.options.beforeRender(this);var s=this.render(r,n,o);return l.options.afterRender&&l.options.afterRender(this),s}this.props=r,this.state=n,this.context=o}return d.NO_OP},e.prototype.render=function(e,n,t){},e}();n.default=c},function(e,n,t){"use strict";function r(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(a.isInvalid(e)||a.isObject(e))throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");var l,d=t,s=null,u=null,c=null,p=0;if(t&&(1===t.length?d=t[0]:0===t.length&&(d=void 0)),a.isString(e)){if(p=o.getFlagsForElementVnode(e),!a.isNullOrUndef(n)){l={};for(var h in n)"className"===h||"class"===h?c=n[h]:"key"===h?u=n.key:"children"===h&&a.isUndefined(d)?d=n.children:"ref"===h?s=n.ref:l[h]=n[h]}}else if(p=16,a.isUndefined(d)||(n||(n={}),n.children=d,d=null),!a.isNullOrUndef(n)){l={};for(var h in n)i.has(h)?(s||(s={}),s[h]=n[h]):"key"===h?u=n.key:l[h]=n[h]}return o.createVNode(p,e,c,d,l,u,s)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),a=t(0),i=new Set;i.add("onComponentWillMount"),i.add("onComponentDidMount"),i.add("onComponentWillUnmount"),i.add("onComponentShouldUpdate"),i.add("onComponentWillUpdate"),i.add("onComponentDidUpdate"),n.default=r},function(e,n,t){"use strict";function r(e){return e.to="/",o.createVNode(8,a.default,null,null,e)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),a=t(15);n.default=r},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(7),a=function(e){function n(n,t){var r=e.call(this,n,t)||this;return n.path="/",r}return r(n,e),n}(o.default);n.default=a},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(7),a=function(e){function n(n,t){var r=e.call(this,n,t)||this;return n.to||(n.to="/"),r}return r(n,e),n}(o.default);n.default=a},function(e,n,t){"use strict";function r(e){if(!e)throw new TypeError('Inferno: Error "inferno-router" requires a history prop passed');return{createHref:e.createHref,listen:e.listen,push:e.push,replace:e.replace,isActive:function(e){return l.matchPath(!0,e,this.url)},get location(){return"blank"!==e.location.pathname?e.location:{pathname:"/",search:""}},get url(){return this.location.pathname+this.location.search}}}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t(1),i=t(10),l=t(17),d=t(16),s=function(e){function n(n,t){var o=e.call(this,n,t)||this;return o.router=r(n.history),o.state={url:n.url||o.router.url},o}return o(n,e),n.prototype.componentWillMount=function(){var e=this;this.router&&(this.unlisten=this.router.listen(function(){e.routeTo(e.router.url)}))},n.prototype.componentWillReceiveProps=function(e){var n=this;this.setState({url:e.url},this.props.onUpdate?function(){return n.props.onUpdate()}:void 0)},n.prototype.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.prototype.routeTo=function(e){var n=this;this.setState({url:e},this.props.onUpdate?function(){return n.props.onUpdate()}:void 0)},n.prototype.render=function(e){var n=this,t=l.default(e.children,this.state.url);return t.redirect?(setTimeout(function(){n.router.replace(t.redirect)},0),null):a.createVNode(4,d.default,null,null,{location:this.state.url,matched:t.matched,router:this.router})},n}(i.default);n.default=s},function(e,n,t){"use strict";function r(e){if(e.indexRoute&&!e.childRoutes)return o.default(i.default,e);var n={};for(var t in e)n[t]=e[t];if(n.children=[],n.indexRoute&&(n.children.push(l(n.indexRoute)),delete n.indexRoute),n.childRoutes){var r=a.isArray(n.childRoutes)?n.childRoutes:[n.childRoutes];(d=n.children).push.apply(d,s(r)),delete n.childRoutes}return 1===n.children.length&&(n.children=n.children[0]),(a.isArray(n.children)&&0===n.children.length||!a.isArray(n.children)&&0===Object.keys(n.children).length)&&delete n.children,o.default(i.default,n);var d}Object.defineProperty(n,"__esModule",{value:!0});var o=t(14),a=t(0),i=t(7),l=function(e){return o.default(i.default,e)},d=function(e){return r(e)},s=function(e){return e.map(d)};n.default=function(e){return e.map(r)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(41);n.createRoutes=r.default;var o=t(37);n.IndexLink=o.default;var a=t(38);n.IndexRoute=a.default;var i=t(15);n.Link=i.default;var l=t(17);n.match=l.default;var d=t(39);n.Redirect=d.default,n.IndexRedirect=d.default;var s=t(7);n.Route=s.default;var u=t(40);n.Router=u.default;var c=t(16);n.RouterContext=c.default,n.default={Route:s.default,IndexRoute:a.default,Redirect:d.default,IndexRedirect:d.default,Router:u.default,RouterContext:c.default,Link:i.default,IndexLink:o.default,match:l.default,createRoutes:r.default}},function(e,n,t){"use strict";function r(e){return n.isArray(e)?e:e?[e]:e}function o(e){return!h(e.prototype)&&!h(e.prototype.render)}function a(e){var n=typeof e;return"string"===n||"number"===n}function i(e){return h(e)||c(e)}function l(e){return c(e)||!1===e||p(e)||h(e)}function d(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return null===e}function p(e){return!0===e}function h(e){return void 0===e}function f(e){return"object"==typeof e}function v(e){throw e||(e=n.ERROR_MSG),new Error("Inferno Error: "+e)}function g(e){console.warn(e)}function m(e,n){var t={};if(e)for(var r in e)t[r]=e[r];if(n)for(var r in n)t[r]=n[r];return t}function b(){this.listeners=[]}Object.defineProperty(n,"__esModule",{value:!0}),n.NO_OP="$NO_OP",n.ERROR_MSG="a runtime error occured! Use Inferno in development environment to find the error.",n.isBrowser=!("undefined"==typeof window||!window.document),n.toArray=r,n.isArray=Array.isArray,n.isStatefulComponent=o,n.isStringOrNumber=a,n.isNullOrUndef=i,n.isInvalid=l,n.isFunction=d,n.isString=s,n.isNumber=u,n.isNull=c,n.isTrue=p,n.isUndefined=h,n.isObject=f,n.throwError=v,n.warning=g,n.combineFrom=m,n.Lifecycle=b,b.prototype.addListener=function(e){this.listeners.push(e)},b.prototype.trigger=function(){for(var e,n=this.listeners;e=n.shift();)e()}},function(e,n,t){"use strict";function r(e,n,t,r){var o=p.get(e);if(t)o||(o={items:new Map,docEvent:null},o.docEvent=l(e,o),p.set(e,o)),n||c&&"onClick"===e&&s(r),o.items.set(r,t);else if(o){var i=o.items;i.delete(r)&&0===i.size&&(document.removeEventListener(a(e),o.docEvent),p.delete(e))}}function o(e,n,t,r,a,i){var l=t.get(n);if((!l||(r--,i.dom=n,l.event?l.event(l.data,e):l(e),!e.cancelBubble))&&r>0){var d=n.parentNode;if(null===d||a&&1===d.nodeType&&d.disabled)return;o(e,d,t,r,a,i)}}function a(e){return e.substr(2).toLowerCase()}function i(){this.cancelBubble=!0,this.stopImmediatePropagation()}function l(e,n){var t=function(e){var t=n.items.size;if(t>0){e.stopPropagation=i;var r={dom:document};try{Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return r.dom}})}catch(e){}o(e,e.target,n.items,t,"click"===e.type,r)}};return document.addEventListener(a(e),t),t}function d(){}function s(e){e.onclick=d}Object.defineProperty(n,"__esModule",{value:!0});var u=t(0),c=u.isBrowser&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),p=new Map;n.handleEvent=r},function(e,n,t){"use strict";function r(e,n){return{data:e,event:n}}Object.defineProperty(n,"__esModule",{value:!0}),n.linkEvent=r},function(e,n,t){"use strict";function r(e){for(var n=e.firstChild;n;)if(8===n.nodeType)if("!"===n.data){var t=document.createTextNode("");e.replaceChild(t,n),n=n.nextSibling}else{var r=n.previousSibling;e.removeChild(n),n=r||e.firstChild}else n=n.nextSibling}function o(e,n,t,r,o,a){var i=e.type,l=e.ref;e.dom=n;var d=e.props||m.EMPTY_OBJ;if(a){var u=n.namespaceURI===h.svgNS,c=m.createClassComponentInstance(e,i,d,r,u,t),v=c._lastInput;c._vNode=e,s(v,n,t,c._childContext,u),f.mountClassComponentCallbacks(e,l,c,t),c._updating=!1,p.options.findDOMNodeEnabled&&g.componentToDOMNodeMap.set(c,n)}else{var v=m.createFunctionalComponentInput(e,i,d,r);s(v,n,t,r,o),e.children=v,e.dom=v.dom,f.mountFunctionalComponentCallbacks(l,n,t)}return n}function a(e,n,t,r,o){var a=e.children,l=e.props,d=e.className,s=e.flags,u=e.ref;if(o=o||(128&s)>0,1!==n.nodeType||n.tagName.toLowerCase()!==e.type){var p=f.mountElement(e,null,t,r,o);return e.dom=p,m.replaceChild(n.parentNode,p,n),p}if(e.dom=n,a&&i(a,n,t,r,o),l){var h=!1,g=(3584&s)>0;g&&(h=b.isControlledFormElement(l));for(var k in l)v.patchProp(k,null,l[k],n,o,h);g&&b.processElement(s,e,n,l,!0,h)}return c.isNullOrUndef(d)?n.removeAttribute("class"):o?n.setAttribute("class",d):n.className=d,u&&f.mountRef(n,u,t),n}function i(e,n,t,o,a){r(n);var i=n.firstChild;if(c.isArray(e))for(var l=0,d=e.length;l<d;l++){var u=e[l];!c.isNull(u)&&c.isObject(u)&&(c.isNull(i)?f.mount(u,n,t,o,a):i=s(u,i,t,o,a).nextSibling)}else c.isStringOrNumber(e)?(i&&3===i.nodeType?i.nodeValue!==e&&(i.nodeValue=e):e&&(n.textContent=e),i=i.nextSibling):c.isObject(e)&&(s(e,i,t,o,a),i=i.nextSibling);for(;i;){var p=i.nextSibling;n.removeChild(i),i=p}}function l(e,n){if(3!==n.nodeType){var t=f.mountText(e,null);return e.dom=t,m.replaceChild(n.parentNode,t,n),t}var r=e.children;return n.nodeValue!==r&&(n.nodeValue=r),e.dom=n,n}function d(e,n){return e.dom=n,n}function s(e,n,t,r,i){var s=e.flags;return 28&s?o(e,n,t,r,i,(4&s)>0):3970&s?a(e,n,t,r,i):1&s?l(e,n):4096&s?d(e,n):void c.throwError()}function u(e,n,t){if(!c.isNull(n)){var r=n.firstChild;if(!c.isNull(r)){for(s(e,r,t,m.EMPTY_OBJ,!1),r=n.firstChild;r=r.nextSibling;)n.removeChild(r);return!0}}return!1}Object.defineProperty(n,"__esModule",{value:!0});var c=t(0),p=t(3),h=t(8),f=t(9),v=t(5),g=t(6),m=t(2),b=t(12);n.normalizeChildNodes=r,n.hydrateRoot=u},function(e,n,t){"use strict";function r(e){return"checkbox"===e||"radio"===e}function o(e){var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onInput){var a=t.onInput;a.event?a.event(a.data,e):a(e)}else t.oninput&&t.oninput(e);var i=this,l=i.props||u.EMPTY_OBJ;o!==l.value&&d(l,r)}function a(e){var n=this.props||u.EMPTY_OBJ,t=n.onChange;t.event?t.event(t.data,e):t(e)}function i(e){e.stopPropagation();var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onClick){var a=t.onClick;a.event?a.event(a.data,e):a(e)}else t.onclick&&t.onclick(e);var i=this,l=i.props||u.EMPTY_OBJ;o!==l.value&&d(l,r)}function l(e,n,t,l,s){d(t,n),l&&s&&(r(t.type)?(n.onclick=i.bind(e),n.onclick.wrapped=!0):(n.oninput=o.bind(e),n.oninput.wrapped=!0),t.onChange&&(n.onchange=a.bind(e),n.onchange.wrapped=!0))}function d(e,n){var t=e.type,o=e.value,a=e.checked,i=e.multiple,l=e.defaultValue,d=!s.isNullOrUndef(o);t&&t!==n.type&&n.setAttribute("type",t),i&&i!==n.multiple&&(n.multiple=i),s.isNullOrUndef(l)||d||(n.defaultValue=l+""),r(t)?(d&&(n.value=o),s.isNullOrUndef(a)||(n.checked=a)):d&&n.value!==o?n.value=o:s.isNullOrUndef(a)||(n.checked=a)}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(2);n.isCheckedType=r,n.processInput=l,n.applyValue=d},function(e,n,t){"use strict";function r(e,n){if("optgroup"===e.type){var t=e.children;if(d.isArray(t))for(var r=0,a=t.length;r<a;r++)o(t[r],n);else s.isVNode(t)&&o(t,n)}else o(e,n)}function o(e,n){var t=e.props||u.EMPTY_OBJ,r=e.dom;r.value=t.value,d.isArray(n)&&-1!==n.indexOf(t.value)||t.value===n?r.selected=!0:d.isNullOrUndef(n)&&d.isNullOrUndef(t.selected)||(r.selected=t.selected||!1)}function a(e){var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onChange){var a=t.onChange;a.event?a.event(a.data,e):a(e)}else t.onchange&&t.onchange(e);var i=this,d=i.props||u.EMPTY_OBJ;o!==d.value&&l(i,r,d,!1)}function i(e,n,t,r,o){l(e,n,t,r),r&&o&&(n.onchange=a.bind(e),n.onchange.wrapped=!0)}function l(e,n,t,o){t.multiple!==n.multiple&&(n.multiple=t.multiple);var a=e.children;if(!d.isInvalid(a)){var i=t.value;if(o&&d.isNullOrUndef(i)&&(i=t.defaultValue),d.isArray(a))for(var l=0,u=a.length;l<u;l++)r(a[l],i);else s.isVNode(a)&&r(a,i)}}Object.defineProperty(n,"__esModule",{value:!0});var d=t(0),s=t(4),u=t(2);n.processSelect=i,n.applyValue=l},function(e,n,t){"use strict";function r(e){var n=this.props||d.EMPTY_OBJ,t=n.onChange;t.event?t.event(t.data,e):t(e)}function o(e){var n=this,t=n.props||d.EMPTY_OBJ,r=t.value;if(t.onInput){var o=t.onInput;o.event?o.event(o.data,e):o(e)}else t.oninput&&t.oninput(e);var a=this;r!==(a.props||d.EMPTY_OBJ).value&&i(a,n.dom,!1)}function a(e,n,t,a,l){i(t,n,a),a&&l&&(n.oninput=o.bind(e),n.oninput.wrapped=!0,t.onChange&&(n.onchange=r.bind(e),n.onchange.wrapped=!0))}function i(e,n,t){var r=e.value,o=n.value;if(l.isNullOrUndef(r)){if(t){var a=e.defaultValue;l.isNullOrUndef(a)?""!==o&&(n.value=""):a!==o&&(n.value=a)}}else o!==r&&(n.value=r)}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),d=t(2);n.processTextarea=a,n.applyValue=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0);n.NO_OP=r.NO_OP;var o=t(20);n.getFlagsForElementVnode=o.getFlagsForElementVnode,n.internal_normalize=o.normalize;var a=t(3);n.options=a.options;var i=t(4);n.cloneVNode=i.cloneVNode,n.createVNode=i.createVNode;var l=t(8);n.internal_isUnitlessNumber=l.isUnitlessNumber;var d=t(45);n.linkEvent=d.linkEvent;var s=t(5);n.internal_patch=s.patch;var u=t(6);n.internal_DOMNodeMap=u.componentToDOMNodeMap,n.createRenderer=u.createRenderer,n.findDOMNode=u.findDOMNode,n.render=u.render;var c=t(2);n.EMPTY_OBJ=c.EMPTY_OBJ;n.version="3.1.0",n.default={getFlagsForElementVnode:o.getFlagsForElementVnode,linkEvent:d.linkEvent,createVNode:i.createVNode,cloneVNode:i.cloneVNode,NO_OP:r.NO_OP,EMPTY_OBJ:c.EMPTY_OBJ,render:u.render,findDOMNode:u.findDOMNode,createRenderer:u.createRenderer,options:a.options,version:"3.1.0",internal_patch:s.patch,internal_DOMNodeMap:u.componentToDOMNodeMap,internal_isUnitlessNumber:l.isUnitlessNumber,internal_normalize:o.normalize}},function(e,n,t){"use strict";var r=function(e,n,t,r,o,a,i,l){if(!e){var d;if(void 0===n)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[t,r,o,a,i,l],u=0;d=new Error(n.replace(/%s/g,function(){return s[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};e.exports=r},function(e,n){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,n,t){var r=t(54);e.exports=r,e.exports.parse=r.parse,e.exports.compile=r.compile,e.exports.tokensToFunction=r.tokensToFunction,e.exports.tokensToRegExp=r.tokensToRegExp,e.exports.default=e.exports},function(e,n,t){function r(e,n){for(var t,r=[],o=0,a=0,i="",l=n&&n.delimiter||"/";null!=(t=b.exec(e));){var u=t[0],c=t[1],p=t.index;if(i+=e.slice(a,p),a=p+u.length,c)i+=c[1];else{var h=e[a],f=t[2],v=t[3],g=t[4],m=t[5],k=t[6],w=t[7];i&&(r.push(i),i="");var N=null!=f&&null!=h&&h!==f,y="+"===k||"*"===k,j="?"===k||"*"===k,V=t[2]||l,O=g||m;r.push({name:v||o++,prefix:f||"",delimiter:V,optional:j,repeat:y,partial:N,asterisk:!!w,pattern:O?s(O):w?".*":"[^"+d(V)+"]+?"})}}return a<e.length&&(i+=e.substr(a)),i&&r.push(i),r}function o(e,n){return l(r(e,n))}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){for(var n=new Array(e.length),t=0;t<e.length;t++)"object"==typeof e[t]&&(n[t]=new RegExp("^(?:"+e[t].pattern+")$"));return function(t,r){for(var o="",l=t||{},d=r||{},s=d.pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var p,h=l[c.name];if(null==h){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(m(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=s(h[f]),!n[u].test(p))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===f?c.prefix:c.delimiter)+p}}else{if(p=c.asterisk?i(h):s(h),!n[u].test(p))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+p+'"');o+=c.prefix+p}}else o+=c}return o}}function d(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,n){return e.keys=n,e}function c(e){return e.sensitive?"":"i"}function p(e,n){var t=e.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)n.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,n)}function h(e,n,t){for(var r=[],o=0;o<e.length;o++)r.push(g(e[o],n,t).source);return u(new RegExp("(?:"+r.join("|")+")",c(t)),n)}function f(e,n,t){return v(r(e,t),n,t)}function v(e,n,t){m(n)||(t=n||t,n=[]),t=t||{};for(var r=t.strict,o=!1!==t.end,a="",i=0;i<e.length;i++){var l=e[i];if("string"==typeof l)a+=d(l);else{var s=d(l.prefix),p="(?:"+l.pattern+")";n.push(l),l.repeat&&(p+="(?:"+s+p+")*"),p=l.optional?l.partial?s+"("+p+")?":"(?:"+s+"("+p+"))?":s+"("+p+")",a+=p}}var h=d(t.delimiter||"/"),f=a.slice(-h.length)===h;return r||(a=(f?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":r&&f?"":"(?="+h+"|$)",u(new RegExp("^"+a,c(t)),n)}function g(e,n,t){return m(n)||(t=n||t,n=[]),t=t||{},e instanceof RegExp?p(e,n):m(e)?h(e,n,t):f(e,n,t)}var m=t(52);e.exports=g,e.exports.parse=r,e.exports.compile=o,e.exports.tokensToFunction=l,e.exports.tokensToRegExp=v;var b=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,n,t){"use strict";var r=function(e){return"/"===e.charAt(0)},o=function(e,n){for(var t=n,r=t+1,o=e.length;r<o;t+=1,r+=1)e[t]=e[r];e.pop()},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=e&&e.split("/")||[],a=n&&n.split("/")||[],i=e&&r(e),l=n&&r(n),d=i||l;if(e&&r(e)?a=t:t.length&&(a.pop(),a=a.concat(t)),!a.length)return"/";var s=void 0;if(a.length){var u=a[a.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,p=a.length;p>=0;p--){var h=a[p];"."===h?o(a,p):".."===h?(o(a,p),c++):c&&(o(a,p),c--)}if(!d)for(;c--;c)a.unshift("..");!d||""===a[0]||a[0]&&r(a[0])||a.unshift("");var f=a.join("/");return s&&"/"!==f.substr(-1)&&(f+="/"),f};e.exports=a},function(e,n,t){"use strict";n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function e(n,t){if(n===t)return!0;if(null==n||null==t)return!1;if(Array.isArray(n))return Array.isArray(t)&&n.length===t.length&&n.every(function(n,r){return e(n,t[r])});var o=void 0===n?"undefined":r(n);if(o!==(void 0===t?"undefined":r(t)))return!1;if("object"===o){var a=n.valueOf(),i=t.valueOf();if(a!==n||i!==t)return e(a,i);var l=Object.keys(n),d=Object.keys(t);return l.length===d.length&&l.every(function(r){return e(n[r],t[r])})}return!1};n.default=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA5MmM0NzU4NTgzZTRhNzY2ZjljMCIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tc2hhcmVkL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvY29yZS9vcHRpb25zLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L2NvcmUvVk5vZGVzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9wYXRjaGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vcmVuZGVyaW5nLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9Sb3V0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9tb3VudGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS91bm1vdW50aW5nLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9wcm9jZXNzRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvUGF0aFV0aWxzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1jcmVhdGUtZWxlbWVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvTGluay5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvbWF0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9yZWN5Y2xpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvY29yZS9ub3JtYWxpemF0aW9uLmpzIiwid2VicGFjazovLy8uL34vd2FybmluZy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9iZXNsdWl0LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYmV3YXBlbmluZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jyb25uZW4uanN4Iiwid2VicGFjazovLy8uL3NyYy9pbmxlaWRpbmcuanN4Iiwid2VicGFjazovLy8uL3NyYy9vbmRlcnZlcmRlbGluZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZlbGRzbGFnZW4uanN4Iiwid2VicGFjazovLy8uL34vaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzeCIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvRE9NVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L0xvY2F0aW9uVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1jb21wb25lbnQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tY3JlYXRlLWVsZW1lbnQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvSW5kZXhMaW5rLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9JbmRleFJvdXRlLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9SZWRpcmVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9jcmVhdGVSb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1zaGFyZWQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2RlbGVnYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvRE9NL2V2ZW50cy9saW5rRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvRE9NL2h5ZHJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vd3JhcHBlcnMvSW5wdXRXcmFwcGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9TZWxlY3RXcmFwcGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9UZXh0YXJlYVdyYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wYXRoLXRvLXJlZ2V4cC1lczYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wYXRoLXRvLXJlZ2V4cC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3Jlc29sdmUtcGF0aG5hbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi92YWx1ZS1lcXVhbC9pbmRleC5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiaG90RGlzcG9zZUNodW5rIiwiY2h1bmtJZCIsImluc3RhbGxlZENodW5rcyIsImhvdERvd25sb2FkVXBkYXRlQ2h1bmsiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hhcnNldCIsInNyYyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiaG90Q3VycmVudEhhc2giLCJhcHBlbmRDaGlsZCIsImhvdERvd25sb2FkTWFuaWZlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlhNTEh0dHBSZXF1ZXN0IiwiRXJyb3IiLCJyZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsImhvdENyZWF0ZVJlcXVpcmUiLCJtb2R1bGVJZCIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsImZuIiwiaG90IiwiYWN0aXZlIiwicGFyZW50cyIsImluZGV4T2YiLCJwdXNoIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwibmFtZSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiaG90Q2h1bmtzTG9hZGluZyIsImhvdFN0YXR1cyIsImhvdFdhaXRpbmdGaWxlc01hcCIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJob3RDcmVhdGVNb2R1bGUiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJfbWFpbiIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwiaSIsImxlbmd0aCIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImNoZWNrIiwiaG90Q2hlY2siLCJhcHBseSIsImhvdEFwcGx5IiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJkYXRhIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJ1bmRlZmluZWQiLCJuZXdTdGF0dXMiLCJ0b01vZHVsZUlkIiwiaWQiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImMiLCJob3RVcGRhdGVOZXdIYXNoIiwiaCIsInByb21pc2UiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZSIsImhvdEFkZFVwZGF0ZUNodW5rIiwibW9yZU1vZHVsZXMiLCJkZWZlcnJlZCIsInJlc3VsdCIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImNiIiwiaiIsIm1vZHVsZSIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsInVwZGF0ZU1vZHVsZUlkIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwicGFyZW50SWQiLCJwYXJlbnQiLCJjb25jYXQiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsImpvaW4iLCJvbkRlY2xpbmVkIiwiaWdub3JlRGVjbGluZWQiLCJvblVuYWNjZXB0ZWQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib25BY2NlcHRlZCIsIm9uRGlzcG9zZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImRpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwiZGVwZW5kZW5jeSIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yZ2luYWxFcnJvciIsImV4cG9ydHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsInRoaXMiLCJtIiwiZCIsImdldHRlciIsIm8iLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsImRlZmF1bHQiLCJjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlIiwidk5vZGUiLCJDb21wb25lbnQiLCJwcm9wcyIsImNvbnRleHQiLCJpc1NWRyIsImxpZmVjeWNsZSIsImluZmVybm9fc2hhcmVkXzEiLCJpc1VuZGVmaW5lZCIsIkVNUFRZX09CSiIsImluc3RhbmNlIiwiX2Jsb2NrU2V0U3RhdGUiLCJfbGlmZWN5Y2xlIiwiX3VubW91bnRlZCIsIl9wZW5kaW5nU2V0U3RhdGUiLCJfaXNTVkciLCJjb21wb25lbnRXaWxsTW91bnQiLCJfYmxvY2tSZW5kZXIiLCJjaGlsZENvbnRleHQiLCJnZXRDaGlsZENvbnRleHQiLCJpc051bGxPclVuZGVmIiwiX2NoaWxkQ29udGV4dCIsImNvbWJpbmVGcm9tIiwiaXNOdWxsIiwib3B0aW9uc18xIiwiYmVmb3JlUmVuZGVyIiwiaW5wdXQiLCJyZW5kZXIiLCJzdGF0ZSIsImFmdGVyUmVuZGVyIiwiaXNBcnJheSIsInRocm93RXJyb3IiLCJpc0ludmFsaWQiLCJWTm9kZXNfMSIsImNyZWF0ZVZvaWRWTm9kZSIsImlzU3RyaW5nT3JOdW1iZXIiLCJjcmVhdGVUZXh0Vk5vZGUiLCJkb20iLCJkaXJlY3RDbG9uZSIsImZsYWdzIiwicGFyZW50Vk5vZGUiLCJfbGFzdElucHV0IiwicmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQiLCJsYXN0SW5wdXQiLCJuZXh0SW5wdXQiLCJwYXJlbnREb20iLCJpc1JlY3ljbGluZyIsInJlcGxhY2VWTm9kZSIsIm1vdW50aW5nXzEiLCJtb3VudCIsInVubW91bnRpbmdfMSIsInVubW91bnQiLCJyZXBsYWNlQ2hpbGQiLCJjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQiLCJjb21wb25lbnQiLCJzZXRUZXh0Q29udGVudCIsInRleHQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRleHROb2RlIiwidXBkYXRlVGV4dENvbnRlbnQiLCJmaXJzdENoaWxkIiwibm9kZVZhbHVlIiwiaW5zZXJ0T3JBcHBlbmQiLCJuZXdOb2RlIiwibmV4dE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJkb2N1bWVudENyZWF0ZUVsZW1lbnQiLCJ0YWciLCJjcmVhdGVFbGVtZW50TlMiLCJjb25zdGFudHNfMSIsInN2Z05TIiwicmVwbGFjZVdpdGhOZXdOb2RlIiwibGFzdE5vZGUiLCJuZXh0RG9tIiwibGFzdERvbSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUFsbENoaWxkcmVuIiwicmVjeWNsaW5nRW5hYmxlZCIsInJlbW92ZUNoaWxkcmVuIiwibGVuIiwiaXNLZXllZCIsImxhc3RDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsImtleSIsImFmdGVyTW91bnQiLCJhZnRlclVwZGF0ZSIsImJlZm9yZVVubW91bnQiLCJjcmVhdGVWTm9kZSIsImZpbmRET01Ob2RlRW5hYmxlZCIsInJvb3RzIiwiVk5vZGUiLCJjbGFzc05hbWUiLCJyZWYiLCJub05vcm1hbGlzZSIsImlzU3RhdGVmdWxDb21wb25lbnQiLCJub3JtYWxpemF0aW9uXzEiLCJub3JtYWxpemUiLCJ2Tm9kZVRvQ2xvbmUiLCJuZXdWTm9kZSIsInByb3BzVG9DbG9uZSIsInV0aWxzXzEiLCJuZXdQcm9wcyIsIm5ld0NoaWxkcmVuIiwidG1wQXJyYXkiLCJpc1ZOb2RlIiwiY2xvbmVWTm9kZSIsIl9jaGlsZHJlbiIsIl9pIiwiYXJndW1lbnRzIiwiY2hpbGRyZW5MZW4iLCJwYXRjaCIsImxhc3RWTm9kZSIsIm5leHRWTm9kZSIsImxhc3RGbGFncyIsIm5leHRGbGFncyIsInBhdGNoQ29tcG9uZW50IiwibW91bnRDb21wb25lbnQiLCJwYXRjaEVsZW1lbnQiLCJtb3VudEVsZW1lbnQiLCJwYXRjaFRleHQiLCJtb3VudFRleHQiLCJwYXRjaFZvaWQiLCJtb3VudFZvaWQiLCJ1bm1vdW50Q2hpbGRyZW4iLCJuZXh0VGFnIiwibGFzdFByb3BzIiwibmV4dFByb3BzIiwibmV4dFJlZiIsImxhc3RDbGFzc05hbWUiLCJuZXh0Q2xhc3NOYW1lIiwicGF0Y2hDaGlsZHJlbiIsImxhc3RQcm9wc09yRW1wdHkiLCJuZXh0UHJvcHNPckVtcHR5IiwiaGFzQ29udHJvbGxlZFZhbHVlIiwiaXNGb3JtRWxlbWVudCIsInByb2Nlc3NFbGVtZW50XzEiLCJpc0NvbnRyb2xsZWRGb3JtRWxlbWVudCIsInByb3AiLCJuZXh0VmFsdWUiLCJwYXRjaFByb3AiLCJwcm9jZXNzRWxlbWVudCIsInJlbW92ZVByb3AiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJtb3VudFJlZiIsInBhdGNoQXJyYXkiLCJwYXRjaEtleWVkIiwibW91bnRBcnJheUNoaWxkcmVuIiwicGF0Y2hLZXllZENoaWxkcmVuIiwicGF0Y2hOb25LZXllZENoaWxkcmVuIiwiaXNDbGFzcyIsImxhc3RUeXBlIiwibmV4dFR5cGUiLCJsYXN0S2V5IiwibmV4dEtleSIsIl91cGRhdGluZyIsImhhc0NvbXBvbmVudERpZFVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsIm5leHRTdGF0ZSIsImxhc3RTdGF0ZSIsIl91cGRhdGVDb21wb25lbnQiLCJkaWRVcGRhdGUiLCJOT19PUCIsImlzT2JqZWN0IiwiX3ZOb2RlIiwicmVuZGVyaW5nXzEiLCJjb21wb25lbnRUb0RPTU5vZGVNYXAiLCJzaG91bGRVcGRhdGUiLCJuZXh0SG9va3MiLCJuZXh0SG9va3NEZWZpbmVkIiwib25Db21wb25lbnRTaG91bGRVcGRhdGUiLCJvbkNvbXBvbmVudFdpbGxVcGRhdGUiLCJvbkNvbXBvbmVudERpZFVwZGF0ZSIsIm5leHRUZXh0IiwibGFzdENoaWxkcmVuTGVuZ3RoIiwibmV4dENoaWxkcmVuTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwiYU5vZGUiLCJiTm9kZSIsIm5leHRQb3MiLCJub2RlIiwiYUxlbmd0aCIsImJMZW5ndGgiLCJhRW5kIiwiYkVuZCIsImFTdGFydCIsImJTdGFydCIsImFTdGFydE5vZGUiLCJiU3RhcnROb2RlIiwiYUVuZE5vZGUiLCJiRW5kTm9kZSIsIm91dGVyIiwic291cmNlcyIsIkFycmF5IiwibW92ZWQiLCJwb3MiLCJwYXRjaGVkIiwia2V5SW5kZXgiLCJNYXAiLCJzZXEiLCJsaXNfYWxnb3JpdGhtIiwiYXJyIiwidSIsInYiLCJhcnJJIiwiaXNBdHRyQW5FdmVudCIsImF0dHIiLCJsYXN0VmFsdWUiLCJza2lwUHJvcHMiLCJoYXMiLCJib29sZWFuUHJvcHMiLCJ0b0xvd2VyQ2FzZSIsInN0cmljdFByb3BzIiwicGF0Y2hFdmVudCIsInBhdGNoU3R5bGUiLCJsYXN0SHRtbCIsIl9faHRtbCIsIm5leHRIdG1sIiwiaW5uZXJIVE1MIiwibmFtZXNwYWNlcyIsInNldEF0dHJpYnV0ZU5TIiwiZGVsZWdhdGVkRXZlbnRzIiwiZGVsZWdhdGlvbl8xIiwiaGFuZGxlRXZlbnQiLCJuYW1lTG93ZXJDYXNlIiwiZG9tRXZlbnQiLCJ3cmFwcGVkIiwiaXNGdW5jdGlvbiIsImxpbmtFdmVudF8xIiwiZXZlbnQiLCJsYXN0QXR0clZhbHVlIiwibmV4dEF0dHJWYWx1ZSIsImRvbVN0eWxlIiwic3R5bGUiLCJpc1N0cmluZyIsImNzc1RleHQiLCJpc051bWJlciIsImlzVW5pdGxlc3NOdW1iZXIiLCJmaW5kRE9NTm9kZSIsIm5vZGVUeXBlIiwiZ2V0Um9vdCIsInJvb3QiLCJzZXRSb290IiwicmVtb3ZlUm9vdCIsImRvY3VtZW50Qm9keSIsIkxpZmVjeWNsZSIsImh5ZHJhdGlvbl8xIiwiaHlkcmF0ZVJvb3QiLCJ0cmlnZ2VyIiwibGlzdGVuZXJzIiwicGF0Y2hpbmdfMSIsInJvb3RJbnB1dCIsImNyZWF0ZVJlbmRlcmVyIiwiaXNCcm93c2VyIiwiYm9keSIsIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJpbmZlcm5vX2NvbXBvbmVudF8xIiwiaW5mZXJub19jcmVhdGVfZWxlbWVudF8xIiwicmVzb2x2ZWRQcm9taXNlIiwiUm91dGUiLCJfc3VwZXIiLCJfdGhpcyIsIl9vbkNvbXBvbmVudFJlc29sdmVkIiwic2V0U3RhdGUiLCJhc3luY0NvbXBvbmVudCIsIm9uRW50ZXIiLCJyb3V0ZXIiLCJnZXRDb21wb25lbnQiLCJvbkxlYXZlIiwicGF0aCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIl9hcmdzIiwicmVzdCIsInJlc29sdmVkQ29tcG9uZW50IiwieGxpbmtOUyIsInhtbE5TIiwiU2V0IiwiYWRkIiwiZG9tXzEiLCJyZWN5Y2xpbmdfMSIsInJlY3ljbGVFbGVtZW50IiwiZG9tXzIiLCJyZWN5Y2xlQ29tcG9uZW50IiwibW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyIsIm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyIsImhhc0RpZE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJhZGRMaXN0ZW5lciIsIm9uQ29tcG9uZW50V2lsbE1vdW50Iiwib25Db21wb25lbnREaWRNb3VudCIsImNhblJlY3ljbGUiLCJ1bm1vdW50Q29tcG9uZW50IiwidW5tb3VudEVsZW1lbnQiLCJ1bm1vdW50Vm9pZE9yVGV4dCIsImRlbGV0ZSIsIm9uQ29tcG9uZW50V2lsbFVubW91bnQiLCJwb29sQ29tcG9uZW50IiwidW5tb3VudFJlZiIsIm5hbWVfMSIsInBvb2xFbGVtZW50IiwibW91bnRpbmciLCJpc0NvbnRyb2xsZWQiLCJJbnB1dFdyYXBwZXJfMSIsInByb2Nlc3NJbnB1dCIsIlNlbGVjdFdyYXBwZXJfMSIsInByb2Nlc3NTZWxlY3QiLCJUZXh0YXJlYVdyYXBwZXJfMSIsInByb2Nlc3NUZXh0YXJlYSIsImlzQ2hlY2tlZFR5cGUiLCJjaGVja2VkIiwiYWRkTGVhZGluZ1NsYXNoIiwiY2hhckF0Iiwic3RyaXBMZWFkaW5nU2xhc2giLCJzdWJzdHIiLCJzdHJpcFByZWZpeCIsInByZWZpeCIsInN0cmlwVHJhaWxpbmdTbGFzaCIsInBhcnNlUGF0aCIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImhhc2hJbmRleCIsInNlYXJjaEluZGV4IiwiZGVjb2RlVVJJIiwiY3JlYXRlUGF0aCIsImxvY2F0aW9uIiwiZW5jb2RlVVJJIiwicmVuZGVyTGluayIsImNsYXNzTm0iLCJvdGhlclByb3BzIiwiaW5mZXJub18xIiwiTGluayIsIl9hIiwiYWN0aXZlQ2xhc3NOYW1lIiwiYWN0aXZlU3R5bGUiLCJvbkNsaWNrIiwidG8iLCJfX3Jlc3QiLCJocmVmIiwiY3JlYXRlSHJlZiIsImJhc2VVcmwiLCJvbmNsaWNrIiwiYnV0dG9uIiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwidCIsImdldE93blByb3BlcnR5U3ltYm9scyIsIlJvdXRlckNvbnRleHQiLCJtYXRjaGVkIiwibWF0Y2giLCJyb3V0ZXMiLCJjdXJyZW50VVJMIiwiZ2V0VVJMU3RyaW5nIiwibWF0Y2hSb3V0ZXMiLCJ0b0FycmF5IiwiX3JvdXRlcyIsInBhcmVudFBhdGgiLCJyZWRpcmVjdCIsImZsYXR0ZW4iLCJzcGxpdCIsIl9iIiwicGF0aFRvTWF0Y2giLCJfYyIsInBhcmFtcyIsIm1hcFNlYXJjaFBhcmFtcyIsInNvcnQiLCJwYXRoUmFua1NvcnQiLCJyb3V0ZSIsImVtcHR5T2JqZWN0Iiwicm91dGVQYXRoIiwiZnJvbSIsImxvY2F0aW9uXzEiLCJ0b1BhcnRpYWxVUkwiLCJyZXBsYWNlIiwiaXNMYXN0IiwiaXNFbXB0eSIsIm1hdGNoQmFzZSIsIm1hdGNoUGF0aCIsIm1hdGNoQ2hpbGQiLCJjaGlsZFByb3BzIiwiZW5kIiwicmVnZXhwIiwiY2FjaGUiLCJwYXR0ZXJuIiwicGF0aF90b19yZWdleHBfZXM2XzEiLCJleGVjIiwiZGVjb2RlIiwidmFsIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwib2xkQXJyYXkiLCJuZXdBcnJheSIsImZsYXR0ZW5BcnJheSIsImZyYWdtZW50cyIsImZyYWdtZW50IiwibWFwRnJhZ21lbnQiLCJrIiwiZnVsbFVSTCIsInBhcnRVUkwiLCJleGNsdWRlZCIsImFBdHRyIiwiYkF0dHIiLCJyYW5rIiwiaXNWYWwiLCJzdHJpcCIsInVybCIsInBvb2xzIiwiZWxlbWVudFBvb2xzIiwicG9vbCIsIm5vbktleWVkIiwia2V5ZWQiLCJyZWN5Y2xlZFZOb2RlIiwiY29tcG9uZW50UG9vbHMiLCJob29rcyIsImFwcGx5S2V5IiwiYXBwbHlLZXlJZk1pc3NpbmciLCJhcHBseUtleVByZWZpeCIsIl9ub3JtYWxpemVWTm9kZXMiLCJub2RlcyIsImluZGV4IiwiY3VycmVudEtleSIsIm5vcm1hbGl6ZVZOb2RlcyIsIm5ld05vZGVzIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJub3JtYWxpemVQcm9wcyIsImdldEZsYWdzRm9yRWxlbWVudFZub2RlIiwiZGVmYXVsdFByb3BzIiwid2FybmluZyIsIkJlc2x1aXQiLCJfaW5mZXJubyIsIkJld2FwZW5pbmciLCJyb3dzcGFuIiwiQnJvbm5lbiIsIklubGVpZGluZyIsIk9uZGVydmVyZGVsaW5nIiwiVmVsZHNsYWdlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsIl93YXJuaW5nIiwiX3dhcm5pbmcyIiwiX2ludmFyaWFudCIsIl9pbnZhcmlhbnQyIiwiX0xvY2F0aW9uVXRpbHMiLCJfUGF0aFV0aWxzIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiIsIl9ET01VdGlscyIsImdldEhpc3RvcnlTdGF0ZSIsIndpbmRvdyIsImhpc3RvcnkiLCJjcmVhdGVCcm93c2VySGlzdG9yeSIsImNhblVzZURPTSIsImdsb2JhbEhpc3RvcnkiLCJjYW5Vc2VIaXN0b3J5Iiwic3VwcG9ydHNIaXN0b3J5IiwibmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIiLCJzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlIiwiX3Byb3BzJGZvcmNlUmVmcmVzaCIsImZvcmNlUmVmcmVzaCIsIl9wcm9wcyRnZXRVc2VyQ29uZmlybSIsImdldFVzZXJDb25maXJtYXRpb24iLCJnZXRDb25maXJtYXRpb24iLCJfcHJvcHMka2V5TGVuZ3RoIiwia2V5TGVuZ3RoIiwiYmFzZW5hbWUiLCJnZXRET01Mb2NhdGlvbiIsImhpc3RvcnlTdGF0ZSIsIl9yZWYiLCJfd2luZG93JGxvY2F0aW9uIiwiY3JlYXRlS2V5IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwidHJhbnNpdGlvbk1hbmFnZXIiLCJub3RpZnlMaXN0ZW5lcnMiLCJhY3Rpb24iLCJoYW5kbGVQb3BTdGF0ZSIsImlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQiLCJoYW5kbGVQb3AiLCJoYW5kbGVIYXNoQ2hhbmdlIiwiZm9yY2VOZXh0UG9wIiwiY29uZmlybVRyYW5zaXRpb25UbyIsIm9rIiwicmV2ZXJ0UG9wIiwiZnJvbUxvY2F0aW9uIiwidG9Mb2NhdGlvbiIsInRvSW5kZXgiLCJhbGxLZXlzIiwiZnJvbUluZGV4IiwiZGVsdGEiLCJnbyIsImluaXRpYWxMb2NhdGlvbiIsImNyZWF0ZUxvY2F0aW9uIiwicHVzaFN0YXRlIiwicHJldkluZGV4IiwibmV4dEtleXMiLCJyZXBsYWNlU3RhdGUiLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJsaXN0ZW5lckNvdW50IiwiY2hlY2tET01MaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzQmxvY2tlZCIsImJsb2NrIiwicHJvbXB0IiwidW5ibG9jayIsInNldFByb21wdCIsImxpc3RlbiIsImxpc3RlbmVyIiwidW5saXN0ZW4iLCJhcHBlbmRMaXN0ZW5lciIsIkFwcCIsIl9pbmZlcm5vUm91dGVyIiwib25OYXZpZ2F0ZSIsIk5vTWF0Y2giLCJfcmVmMiIsIl9pbmZlcm5vMiIsIl9jcmVhdGVCcm93c2VySGlzdG9yeSIsIl9jcmVhdGVCcm93c2VySGlzdG9yeTIiLCJfaW5sZWlkaW5nIiwiX29uZGVydmVyZGVsaW5nIiwiX2Jld2FwZW5pbmciLCJfdmVsZHNsYWdlbiIsIl9iZXNsdWl0IiwiX2Jyb25uZW4iLCJicm93c2VySGlzdG9yeSIsIkluZGV4Um91dGUiLCJnZXRFbGVtZW50QnlJZCIsImNvbnRlbnRFbCIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxUb3AiLCJhdHRhY2hFdmVudCIsImRldGFjaEV2ZW50IiwibWVzc2FnZSIsImNvbmZpcm0iLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoIiwibG9jYXRpb25zQXJlRXF1YWwiLCJfcmVzb2x2ZVBhdGhuYW1lIiwiX3Jlc29sdmVQYXRobmFtZTIiLCJfdmFsdWVFcXVhbCIsIl92YWx1ZUVxdWFsMiIsImN1cnJlbnRMb2NhdGlvbiIsImNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwibmV4dFByb21wdCIsImlzQWN0aXZlIiwiZmlsdGVyIiwiX2xlbiIsImFyZ3MiLCJfa2V5IiwidXBkYXRlUGFyZW50Q29tcG9uZW50Vk5vZGVzIiwiYWRkVG9RdWV1ZSIsImZvcmNlIiwiY29tcG9uZW50Q2FsbGJhY2tRdWV1ZSIsImFwcGx5U3RhdGUiLCJxdWV1ZVN0YXRlQ2hhbmdlcyIsIm5ld1N0YXRlIiwicGVuZGluZyIsIl9wZW5kaW5nU3RhdGUiLCJzdGF0ZUtleSIsImJpbmQiLCJwZW5kaW5nU3RhdGUiLCJwcmV2U3RhdGUiLCJjb250ZXh0XzEiLCJsaWZlQ3ljbGUiLCJpbnRlcm5hbF9wYXRjaCIsImludGVybmFsX0RPTU5vZGVNYXAiLCJFUlJPUl9NU0ciLCJmb3JjZVVwZGF0ZSIsInNldFN0YXRlU3luYyIsInByZXZQcm9wcyIsImZyb21TZXRTdGF0ZSIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJuZXh0Q29udGV4dCIsImNvbXBvbmVudEhvb2tzIiwiSW5kZXhMaW5rIiwiTGlua18xIiwiUm91dGVfMSIsIlJlZGlyZWN0IiwiY3JlYXRlclJvdXRlciIsIlR5cGVFcnJvciIsIm1hdGNoXzEiLCJSb3V0ZXJDb250ZXh0XzEiLCJSb3V0ZXIiLCJyb3V0ZVRvIiwib25VcGRhdGUiLCJoaXQiLCJzZXRUaW1lb3V0IiwiaGFuZGxlUm91dGVOb2RlIiwicm91dGVDb25maWdOb2RlIiwiaW5kZXhSb3V0ZSIsImNoaWxkUm91dGVzIiwiaGFuZGxlSW5kZXhSb3V0ZSIsImhhbmRsZUNoaWxkUm91dGVzIiwiaW5kZXhSb3V0ZU5vZGUiLCJoYW5kbGVDaGlsZFJvdXRlIiwiY2hpbGRSb3V0ZU5vZGUiLCJjaGlsZFJvdXRlTm9kZXMiLCJyb3V0ZUNvbmZpZyIsImNyZWF0ZVJvdXRlc18xIiwiY3JlYXRlUm91dGVzIiwiSW5kZXhMaW5rXzEiLCJJbmRleFJvdXRlXzEiLCJSZWRpcmVjdF8xIiwiSW5kZXhSZWRpcmVjdCIsIlJvdXRlcl8xIiwiaXNUcnVlIiwiZmlyc3QiLCJzZWNvbmQiLCJvdXQiLCJzaGlmdCIsImxhc3RFdmVudCIsIm5leHRFdmVudCIsImRlbGVnYXRlZFJvb3RzIiwiaXRlbXMiLCJkb2NFdmVudCIsImF0dGFjaEV2ZW50VG9Eb2N1bWVudCIsImlzaU9TIiwidHJhcENsaWNrT25Ob25JbnRlcmFjdGl2ZUVsZW1lbnQiLCJzaXplIiwibm9ybWFsaXplRXZlbnROYW1lIiwiZGlzcGF0Y2hFdmVudCIsImNvdW50IiwiaXNDbGljayIsImV2ZW50RGF0YSIsImV2ZW50c1RvVHJpZ2dlciIsImNhbmNlbEJ1YmJsZSIsImRpc2FibGVkIiwic3RvcFByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiZXZlbnREYXRhXzEiLCJlbXB0eUZuIiwicGxhdGZvcm0iLCJ0ZXN0IiwibGlua0V2ZW50Iiwibm9ybWFsaXplQ2hpbGROb2RlcyIsInBsYWNlaG9sZGVyIiwibmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJoeWRyYXRlQ29tcG9uZW50IiwibmFtZXNwYWNlVVJJIiwiaHlkcmF0ZSIsImh5ZHJhdGVFbGVtZW50IiwidGFnTmFtZSIsIm5ld0RvbSIsImh5ZHJhdGVDaGlsZHJlbiIsImh5ZHJhdGVUZXh0IiwiaHlkcmF0ZVZvaWQiLCJvblRleHRJbnB1dENoYW5nZSIsInByZXZpb3VzVmFsdWUiLCJvbklucHV0IiwiZXZlbnRfMSIsIm9uaW5wdXQiLCJhcHBseVZhbHVlIiwid3JhcHBlZE9uQ2hhbmdlIiwib25DaGFuZ2UiLCJvbkNoZWNrYm94Q2hhbmdlIiwiZXZlbnRfMiIsIm9uY2hhbmdlIiwibXVsdGlwbGUiLCJkZWZhdWx0VmFsdWUiLCJoYXNWYWx1ZSIsInVwZGF0ZUNoaWxkT3B0aW9uR3JvdXAiLCJ1cGRhdGVDaGlsZE9wdGlvbiIsInNlbGVjdGVkIiwib25TZWxlY3RDaGFuZ2UiLCJvblRleHRhcmVhSW5wdXRDaGFuZ2UiLCJkb21WYWx1ZSIsImludGVybmFsX25vcm1hbGl6ZSIsImludGVybmFsX2lzVW5pdGxlc3NOdW1iZXIiLCJ2ZXJzaW9uIiwiaW52YXJpYW50IiwiY29uZGl0aW9uIiwiZm9ybWF0IiwiZiIsImFyZ0luZGV4IiwiZnJhbWVzVG9Qb3AiLCJwYXRoVG9SZWdFeHAiLCJjb21waWxlIiwidG9rZW5zVG9GdW5jdGlvbiIsInRva2Vuc1RvUmVnRXhwIiwic3RyIiwicmVzIiwidG9rZW5zIiwiZGVmYXVsdERlbGltaXRlciIsImRlbGltaXRlciIsIlBBVEhfUkVHRVhQIiwiZXNjYXBlZCIsIm9mZnNldCIsIm5leHQiLCJjYXB0dXJlIiwiZ3JvdXAiLCJtb2RpZmllciIsImFzdGVyaXNrIiwicGFydGlhbCIsInJlcGVhdCIsIm9wdGlvbmFsIiwiZXNjYXBlR3JvdXAiLCJlc2NhcGVTdHJpbmciLCJlbmNvZGVVUklDb21wb25lbnRQcmV0dHkiLCJjaGFyQ29kZUF0IiwidG9VcHBlckNhc2UiLCJlbmNvZGVBc3RlcmlzayIsIm1hdGNoZXMiLCJSZWdFeHAiLCJvcHRzIiwiZW5jb2RlIiwicHJldHR5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidG9rZW4iLCJzZWdtZW50IiwiaXNhcnJheSIsInN0cmluZ2lmeSIsImF0dGFjaEtleXMiLCJyZSIsInNlbnNpdGl2ZSIsInJlZ2V4cFRvUmVnZXhwIiwiZ3JvdXBzIiwiYXJyYXlUb1JlZ2V4cCIsInBhcnRzIiwicGF0aFRvUmVnZXhwIiwic3RyaW5nVG9SZWdleHAiLCJzdHJpY3QiLCJlbmRzV2l0aERlbGltaXRlciIsImlzQWJzb2x1dGUiLCJzcGxpY2VPbmUiLCJsaXN0IiwicmVzb2x2ZVBhdGhuYW1lIiwidG9QYXJ0cyIsImZyb21QYXJ0cyIsImlzVG9BYnMiLCJpc0Zyb21BYnMiLCJtdXN0RW5kQWJzIiwiaGFzVHJhaWxpbmdTbGFzaCIsImxhc3QiLCJ1cCIsInBhcnQiLCJ1bnNoaWZ0IiwidmFsdWVFcXVhbCIsImV2ZXJ5IiwiYVR5cGUiLCJhVmFsdWUiLCJ2YWx1ZU9mIiwiYlZhbHVlIiwiYUtleXMiLCJiS2V5cyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NBbkIsUUFBQUMsR0FBQUMsU0FDQUMsaUJBQUFELEdBU0EsUUFBQUUsR0FBQUYsR0FDQSxHQUFBRyxHQUFBQyxTQUFBQyxxQkFBQSxXQUNBQyxFQUFBRixTQUFBRyxjQUFBLFNBQ0FELEdBQUFFLEtBQUEsa0JBQ0FGLEVBQUFHLFFBQUEsUUFDQUgsRUFBQUksSUFBQUMsRUFBQUMsRUFBQSxHQUFBWixFQUFBLElBQUFhLEVBQUEsaUJBQ0FWLEVBQUFXLFlBQUFSLEdBR0EsUUFBQVMsS0FDQSxVQUFB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UUFBQXpGLEdBQUEsTUFBQThQLE9BQUFySyxRQUFBeEYsSUFBQUQsRUFBQXJDLFNBQUFzQyxFQUFBdEMsUUFBQXFDLEVBQUFvekIsTUFBQSxTQUFBbHpCLEVBQUF3ZSxHQUNBLE1BQUF5VSxHQUFBanpCLEVBQUFELEVBQUF5ZSxLQUdBLElBQUEyVSxPQUFBLEtBQUFyekIsRUFBQSxZQUFBNmYsRUFBQTdmLEVBR0EsSUFBQXF6QixTQUZBLEtBQUFwekIsRUFBQSxZQUFBNGYsRUFBQTVmLElBRUEsUUFFQSxlQUFBb3pCLEVBQUEsQ0FDQSxHQUFBQyxHQUFBdHpCLEVBQUF1ekIsVUFDQUMsRUFBQXZ6QixFQUFBc3pCLFNBRUEsSUFBQUQsSUFBQXR6QixHQUFBd3pCLElBQUF2ekIsRUFBQSxNQUFBa3pCLEdBQUFHLEVBQUFFLEVBRUEsSUFBQUMsR0FBQTUzQixPQUFBbUcsS0FBQWhDLEdBQ0EwekIsRUFBQTczQixPQUFBbUcsS0FBQS9CLEVBRUEsT0FBQXd6QixHQUFBOTFCLFNBQUErMUIsRUFBQS8xQixRQUVBODFCLEVBQUFMLE1BQUEsU0FBQXJxQixHQUNBLE1BQUFvcUIsR0FBQW56QixFQUFBK0ksR0FBQTlJLEVBQUE4SSxNQUlBLFNBR0FsRyxHQUFBYSxRQUFBeXZCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbi8qKioqKiovIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuLyoqKioqKi8gXHR9XG4vKioqKioqLyBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuLyoqKioqKi8gXHR0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH0gO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuLyoqKioqKi8gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4vKioqKioqLyBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbi8qKioqKiovIFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xyXG4vKioqKioqLyBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IDEwMDAwO1xyXG4vKioqKioqLyBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuLyoqKioqKi8gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KGVycik7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Ly8gdGltZW91dFxyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHQvLyBzdWNjZXNzXHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXNvbHZlKHVwZGF0ZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCI5MmM0NzU4NTgzZTRhNzY2ZjljMFwiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdGlmKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XHJcbi8qKioqKiovIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJiBuYW1lICE9PSBcImVcIikge1xyXG4vKioqKioqLyBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdHJldHVybiBmbjtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBob3QgPSB7XHJcbi8qKioqKiovIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcclxuLyoqKioqKi8gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuLyoqKioqKi8gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcclxuLyoqKioqKi8gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXHJcbi8qKioqKiovIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcclxuLyoqKioqKi8gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuLyoqKioqKi8gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXHJcbi8qKioqKiovIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcclxuLyoqKioqKi8gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4vKioqKioqLyBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbCkgcmV0dXJuIGhvdFN0YXR1cztcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXHJcbi8qKioqKiovIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBob3Q7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XHJcbi8qKioqKiovIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbi8qKioqKiovIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3REZWZlcnJlZDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuLyoqKioqKi8gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuLyoqKioqKi8gXHRcdHZhciBpc051bWJlciA9ICgraWQpICsgXCJcIiA9PT0gaWQ7XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcclxuLyoqKioqKi8gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdCgpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKCF1cGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybiBudWxsO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcclxuLyoqKioqKi8gXHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuLyoqKioqKi8gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbi8qKioqKiovIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuLyoqKioqKi8gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBwcm9taXNlO1xyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXHJcbi8qKioqKiovIFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcclxuLyoqKioqKi8gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XHJcbi8qKioqKiovIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XHJcbi8qKioqKiovIFx0XHRpZighZGVmZXJyZWQpIHJldHVybjtcclxuLyoqKioqKi8gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdH0sIGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHR2YXIgY2I7XHJcbi8qKioqKiovIFx0XHR2YXIgaTtcclxuLyoqKioqKi8gXHRcdHZhciBqO1xyXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZTtcclxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGVJZDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZDogaWRcclxuLyoqKioqKi8gXHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX21haW4pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxyXG4vKioqKioqLyBcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKCFwYXJlbnQpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXHJcbi8qKioqKiovIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRhLnB1c2goaXRlbSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXHJcbi8qKioqKiovIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xyXG4vKioqKioqLyBcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCIpO1xyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlc3VsdDtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihob3RVcGRhdGVbaWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVzdWx0ID0ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxyXG4vKioqKioqLyBcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihyZXN1bHQuY2hhaW4pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0c3dpdGNoKHJlc3VsdC50eXBlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGVjbGluZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIGNoYWluSW5mbyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EZWNsaW5lZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiIGluIFwiICsgcmVzdWx0LnBhcmVudElkICsgY2hhaW5JbmZvKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uVW5hY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRpc3Bvc2VkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcclxuLyoqKioqKi8gXHRcdFx0XHRcdGRlZmF1bHQ6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKGFib3J0RXJyb3IpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihkb0FwcGx5KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLCByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihkb0Rpc3Bvc2UpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXHJcbi8qKioqKiovIFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbi8qKioqKiovIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHR2YXIgaWR4O1xyXG4vKioqKioqLyBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XHJcbi8qKioqKiovIFx0XHRcdGZvcihqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdGNiKGRhdGEpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxyXG4vKioqKioqLyBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXHJcbi8qKioqKiovIFx0XHRcdGZvcihqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIGRlcGVuZGVuY3k7XHJcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XHJcbi8qKioqKiovIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbi8qKioqKiovIFx0XHRmb3IobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbi8qKioqKiovIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGZvcihpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xyXG4vKioqKioqLyBcdFx0Zm9yKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycjIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRvcmdpbmFsRXJyb3I6IGVyclxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbi8qKioqKiovIFx0XHRpZihlcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbi8qKioqKiovIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbi8qKioqKiovIFx0XHRcdGNoaWxkcmVuOiBbXVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMzEpKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMxKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTApLmRlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgVk5vZGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgY29uc3RhbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG52YXIgbW91bnRpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcbnZhciB1bm1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxuLy8gV2UgbmVlZCBFTVBUWV9PQkogZGVmaW5lZCBpbiBvbmUgcGxhY2UuXHJcbi8vIEl0cyB1c2VkIGZvciBjb21wYXJpc29uIHNvIHdlIGNhbnQgaW5saW5lIGl0IGludG8gc2hhcmVkXHJcbmV4cG9ydHMuRU1QVFlfT0JKID0ge307XHJcbmlmIChmYWxzZSkge1xyXG4gICAgT2JqZWN0LmZyZWV6ZShleHBvcnRzLkVNUFRZX09CSik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZSh2Tm9kZSwgQ29tcG9uZW50LCBwcm9wcywgY29udGV4dCwgaXNTVkcsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29udGV4dCkpIHtcclxuICAgICAgICBjb250ZXh0ID0gZXhwb3J0cy5FTVBUWV9PQko7IC8vIENvbnRleHQgc2hvdWxkIG5vdCBiZSBtdXRhYmxlXHJcbiAgICB9XHJcbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcclxuICAgIHZOb2RlLmNoaWxkcmVuID0gaW5zdGFuY2U7XHJcbiAgICBpbnN0YW5jZS5fYmxvY2tTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgaW5zdGFuY2UuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICBpZiAoaW5zdGFuY2UucHJvcHMgPT09IGV4cG9ydHMuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcclxuICAgIH1cclxuICAgIC8vIHNldFN0YXRlIGNhbGxiYWNrcyBtdXN0IGZpcmUgYWZ0ZXIgcmVuZGVyIGlzIGRvbmUgd2hlbiBjYWxsZWQgZnJvbSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIG9yIGNvbXBvbmVudFdpbGxNb3VudFxyXG4gICAgaW5zdGFuY2UuX2xpZmVjeWNsZSA9IGxpZmVjeWNsZTtcclxuICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSBmYWxzZTtcclxuICAgIGluc3RhbmNlLl9wZW5kaW5nU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgaW5zdGFuY2UuX2lzU1ZHID0gaXNTVkc7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KSkge1xyXG4gICAgICAgIGluc3RhbmNlLl9ibG9ja1JlbmRlciA9IHRydWU7XHJcbiAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCk7XHJcbiAgICAgICAgaW5zdGFuY2UuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRDb250ZXh0O1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmdldENoaWxkQ29udGV4dCkpIHtcclxuICAgICAgICBjaGlsZENvbnRleHQgPSBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQoKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgIGluc3RhbmNlLl9jaGlsZENvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYmVmb3JlUmVuZGVyKSkge1xyXG4gICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVJlbmRlcihpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICB2YXIgaW5wdXQgPSBpbnN0YW5jZS5yZW5kZXIocHJvcHMsIGluc3RhbmNlLnN0YXRlLCBjb250ZXh0KTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIpKSB7XHJcbiAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKGlucHV0LCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGlucHV0IHRoYXQgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgcnVuIGludG8gYSB0cmlja3kgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgIC8vIHdoZXJlIHRoZSByb290IHZOb2RlIG5lZWRzIHRvIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IERPTSBlbnRyeVxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBicmVhayBtb25vbW9ycGhpc20gb24gb3VyIGlucHV0IGFuZCBzdXBwbHkgaXQgb3VyIHZOb2RlIGFzIHBhcmVudFZOb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGlzIGdldHMgdXMgb3V0IG9mIGEgbG90IG9mIGlzc3Vlc1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRWTm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluc3RhbmNlLl9wZW5kaW5nU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgIGluc3RhbmNlLl9sYXN0SW5wdXQgPSBpbnB1dDtcclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2UgPSBjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlO1xyXG5mdW5jdGlvbiByZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgcmVwbGFjZVZOb2RlKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudChuZXh0SW5wdXQsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBsYXN0SW5wdXQsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQgPSByZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudDtcclxuZnVuY3Rpb24gcmVwbGFjZVZOb2RlKHBhcmVudERvbSwgZG9tLCB2Tm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdW5tb3VudGluZ18xLnVubW91bnQodk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIGRvbSwgdk5vZGUuZG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VWTm9kZSA9IHJlcGxhY2VWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCBjb21wb25lbnQsIHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICB2YXIgaW5wdXQgPSBjb21wb25lbnQocHJvcHMsIGNvbnRleHQpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKGlucHV0LCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGlucHV0IHRoYXQgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgcnVuIGludG8gYSB0cmlja3kgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgIC8vIHdoZXJlIHRoZSByb290IHZOb2RlIG5lZWRzIHRvIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IERPTSBlbnRyeVxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBicmVhayBtb25vbW9ycGhpc20gb24gb3VyIGlucHV0IGFuZCBzdXBwbHkgaXQgb3VyIHZOb2RlIGFzIHBhcmVudFZOb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGlzIGdldHMgdXMgb3V0IG9mIGEgbG90IG9mIGlzc3Vlc1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRWTm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbnB1dDtcclxufVxyXG5leHBvcnRzLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCA9IGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dDtcclxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQoZG9tLCB0ZXh0KSB7XHJcbiAgICBpZiAodGV4dCAhPT0gJycpIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZXRUZXh0Q29udGVudCA9IHNldFRleHRDb250ZW50O1xyXG5mdW5jdGlvbiB1cGRhdGVUZXh0Q29udGVudChkb20sIHRleHQpIHtcclxuICAgIGRvbS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbn1cclxuZXhwb3J0cy51cGRhdGVUZXh0Q29udGVudCA9IHVwZGF0ZVRleHRDb250ZW50O1xyXG5mdW5jdGlvbiBhcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLmFwcGVuZENoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5hcHBlbmRDaGlsZCA9IGFwcGVuZENoaWxkO1xyXG5mdW5jdGlvbiBpbnNlcnRPckFwcGVuZChwYXJlbnREb20sIG5ld05vZGUsIG5leHROb2RlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHROb2RlKSkge1xyXG4gICAgICAgIGFwcGVuZENoaWxkKHBhcmVudERvbSwgbmV3Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwYXJlbnREb20uaW5zZXJ0QmVmb3JlKG5ld05vZGUsIG5leHROb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmluc2VydE9yQXBwZW5kID0gaW5zZXJ0T3JBcHBlbmQ7XHJcbmZ1bmN0aW9uIGRvY3VtZW50Q3JlYXRlRWxlbWVudCh0YWcsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcgPT09IHRydWUpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGNvbnN0YW50c18xLnN2Z05TLCB0YWcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudDtcclxuZnVuY3Rpb24gcmVwbGFjZVdpdGhOZXdOb2RlKGxhc3ROb2RlLCBuZXh0Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdW5tb3VudGluZ18xLnVubW91bnQobGFzdE5vZGUsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgIHZhciBkb20gPSBtb3VudGluZ18xLm1vdW50KG5leHROb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIG5leHROb2RlLmRvbSA9IGRvbTtcclxuICAgIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIGRvbSwgbGFzdE5vZGUuZG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VXaXRoTmV3Tm9kZSA9IHJlcGxhY2VXaXRoTmV3Tm9kZTtcclxuZnVuY3Rpb24gcmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbmV4dERvbSwgbGFzdERvbSkge1xyXG4gICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICBwYXJlbnREb20gPSBsYXN0RG9tLnBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKG5leHREb20sIGxhc3REb20pO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZUNoaWxkID0gcmVwbGFjZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZW1vdmVDaGlsZCA9IHJlbW92ZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVBbGxDaGlsZHJlbihkb20sIGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCB8fCAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAhaXNSZWN5Y2xpbmcpKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2hpbGRyZW4obnVsbCwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQWxsQ2hpbGRyZW4gPSByZW1vdmVBbGxDaGlsZHJlbjtcclxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoY2hpbGQsIGRvbSwgbGlmZWN5Y2xlLCB0cnVlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQ2hpbGRyZW4gPSByZW1vdmVDaGlsZHJlbjtcclxuZnVuY3Rpb24gaXNLZXllZChsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbikge1xyXG4gICAgcmV0dXJuIG5leHRDaGlsZHJlbi5sZW5ndGggPiAwICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dENoaWxkcmVuWzBdKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDaGlsZHJlblswXS5rZXkpXHJcbiAgICAgICAgJiYgbGFzdENoaWxkcmVuLmxlbmd0aCA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0Q2hpbGRyZW5bMF0pICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdENoaWxkcmVuWzBdLmtleSk7XHJcbn1cclxuZXhwb3J0cy5pc0tleWVkID0gaXNLZXllZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMub3B0aW9ucyA9IHtcclxuICAgIGFmdGVyTW91bnQ6IG51bGwsXHJcbiAgICBhZnRlclJlbmRlcjogbnVsbCxcclxuICAgIGFmdGVyVXBkYXRlOiBudWxsLFxyXG4gICAgYmVmb3JlUmVuZGVyOiBudWxsLFxyXG4gICAgYmVmb3JlVW5tb3VudDogbnVsbCxcclxuICAgIGNyZWF0ZVZOb2RlOiBudWxsLFxyXG4gICAgZmluZERPTU5vZGVFbmFibGVkOiBmYWxzZSxcclxuICAgIHJlY3ljbGluZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgcm9vdHM6IFtdXHJcbn07XHJcblxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxudmFyIG5vcm1hbGl6YXRpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxuZnVuY3Rpb24gVk5vZGUoY2hpbGRyZW4sIGNsYXNzTmFtZSwgZmxhZ3MsIGtleSwgcHJvcHMsIHJlZiwgdHlwZSkge1xyXG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICB0aGlzLmRvbSA9IG51bGw7XHJcbiAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XHJcbiAgICB0aGlzLmtleSA9IGtleTtcclxuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcclxuICAgIHRoaXMucmVmID0gcmVmO1xyXG4gICAgdGhpcy50eXBlID0gdHlwZTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyB2aXJ0dWFsIG5vZGVcclxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufG51bGx9IHR5cGVcclxuICogQHBhcmFtIHtzdHJpbmd8bnVsbD19IGNsYXNzTmFtZVxyXG4gKiBAcGFyYW0ge29iamVjdD19IGNoaWxkcmVuXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gcHJvcHNcclxuICogQHBhcmFtIHsqPX0ga2V5XHJcbiAqIEBwYXJhbSB7b2JqZWN0fEZ1bmN0aW9uPX0gcmVmXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vTm9ybWFsaXNlXHJcbiAqIEByZXR1cm5zIHtWTm9kZX0gcmV0dXJucyBuZXcgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVWTm9kZShmbGFncywgdHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgcHJvcHMsIGtleSwgcmVmLCBub05vcm1hbGlzZSkge1xyXG4gICAgaWYgKGZsYWdzICYgMTYgLyogQ29tcG9uZW50VW5rbm93biAqLykge1xyXG4gICAgICAgIGZsYWdzID0gaW5mZXJub19zaGFyZWRfMS5pc1N0YXRlZnVsQ29tcG9uZW50KHR5cGUpID8gNCAvKiBDb21wb25lbnRDbGFzcyAqLyA6IDggLyogQ29tcG9uZW50RnVuY3Rpb24gKi87XHJcbiAgICB9XHJcbiAgICB2YXIgdk5vZGUgPSBuZXcgVk5vZGUoY2hpbGRyZW4gPT09IHZvaWQgMCA/IG51bGwgOiBjaGlsZHJlbiwgY2xhc3NOYW1lID09PSB2b2lkIDAgPyBudWxsIDogY2xhc3NOYW1lLCBmbGFncywga2V5ID09PSB2b2lkIDAgPyBudWxsIDoga2V5LCBwcm9wcyA9PT0gdm9pZCAwID8gbnVsbCA6IHByb3BzLCByZWYgPT09IHZvaWQgMCA/IG51bGwgOiByZWYsIHR5cGUpO1xyXG4gICAgaWYgKG5vTm9ybWFsaXNlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZSh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMuY3JlYXRlVk5vZGUgIT09IG51bGwpIHtcclxuICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5jcmVhdGVWTm9kZSh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVWTm9kZSA9IGNyZWF0ZVZOb2RlO1xyXG5mdW5jdGlvbiBkaXJlY3RDbG9uZSh2Tm9kZVRvQ2xvbmUpIHtcclxuICAgIHZhciBuZXdWTm9kZTtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlVG9DbG9uZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHZvaWQgMDtcclxuICAgICAgICB2YXIgcHJvcHNUb0Nsb25lID0gdk5vZGVUb0Nsb25lLnByb3BzO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wc1RvQ2xvbmUpKSB7XHJcbiAgICAgICAgICAgIHByb3BzID0gdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHNUb0Nsb25lKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcHJvcHNUb0Nsb25lW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVWTm9kZShmbGFncywgdk5vZGVUb0Nsb25lLnR5cGUsIG51bGwsIG51bGwsIHByb3BzLCB2Tm9kZVRvQ2xvbmUua2V5LCB2Tm9kZVRvQ2xvbmUucmVmLCB0cnVlKTtcclxuICAgICAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcztcclxuICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBuZXdQcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGFsc28gY2xvbmUgY29tcG9uZW50IGNoaWxkcmVuIHRoYXQgYXJlIGluIHByb3BzXHJcbiAgICAgICAgLy8gYXMgdGhlIGNoaWxkcmVuIG1heSBhbHNvIGhhdmUgYmVlbiBob2lzdGVkXHJcbiAgICAgICAgaWYgKG5ld0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV3Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gbmV3Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5ld0NoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpc1ZOb2RlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChkaXJlY3RDbG9uZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gdG1wQXJyYXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNWTm9kZShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gZGlyZWN0Q2xvbmUobmV3Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlLmNoaWxkcmVuID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdk5vZGVUb0Nsb25lLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHZvaWQgMDtcclxuICAgICAgICB2YXIgcHJvcHNUb0Nsb25lID0gdk5vZGVUb0Nsb25lLnByb3BzO1xyXG4gICAgICAgIGlmIChwcm9wc1RvQ2xvbmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wc1RvQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSBwcm9wc1RvQ2xvbmVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgdk5vZGVUb0Nsb25lLmNsYXNzTmFtZSwgY2hpbGRyZW4sIHByb3BzLCB2Tm9kZVRvQ2xvbmUua2V5LCB2Tm9kZVRvQ2xvbmUucmVmLCAhY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVRleHRWTm9kZSh2Tm9kZVRvQ2xvbmUuY2hpbGRyZW4sIHZOb2RlVG9DbG9uZS5rZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1ZOb2RlO1xyXG59XHJcbmV4cG9ydHMuZGlyZWN0Q2xvbmUgPSBkaXJlY3RDbG9uZTtcclxuLypcclxuIGRpcmVjdENsb25lIGlzIHByZWZlcnJlZCBvdmVyIGNsb25lVk5vZGUgYW5kIHVzZWQgaW50ZXJuYWxseSBhbHNvLlxyXG4gVGhpcyBmdW5jdGlvbiBtYWtlcyBJbmZlcm5vIGJhY2t3YXJkcyBjb21wYXRpYmxlLlxyXG4gQW5kIGNhbiBiZSB0cmVlLXNoYWtlZCBieSBtb2Rlcm4gYnVuZGxlcnNcclxuXHJcbiBXb3VsZCBiZSBuaWNlIHRvIGNvbWJpbmUgdGhpcyB3aXRoIGRpcmVjdENsb25lIGJ1dCBjb3VsZCBub3QgZG8gaXQgd2l0aG91dCBicmVha2luZyBjaGFuZ2VcclxuICovXHJcbi8qKlxyXG4gKiBDbG9uZXMgZ2l2ZW4gdmlydHVhbCBub2RlIGJ5IGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBpdFxyXG4gKiBAcGFyYW0ge1ZOb2RlfSB2Tm9kZVRvQ2xvbmUgdmlydHVhbCBub2RlIHRvIGJlIGNsb25lZFxyXG4gKiBAcGFyYW0ge1Byb3BzPX0gcHJvcHMgYWRkaXRpb25hbCBwcm9wcyBmb3IgbmV3IHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0gey4uLip9IF9jaGlsZHJlbiBuZXcgY2hpbGRyZW4gZm9yIG5ldyB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge1ZOb2RlfSBuZXcgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZOb2RlVG9DbG9uZSwgcHJvcHMpIHtcclxuICAgIHZhciBfY2hpbGRyZW4gPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgX2NoaWxkcmVuW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gX2NoaWxkcmVuO1xyXG4gICAgdmFyIGNoaWxkcmVuTGVuID0gX2NoaWxkcmVuLmxlbmd0aDtcclxuICAgIGlmIChjaGlsZHJlbkxlbiA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoX2NoaWxkcmVuWzBdKSkge1xyXG4gICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuTGVuID09PSAxKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIG5ld1ZOb2RlO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheSh2Tm9kZVRvQ2xvbmUpKSB7XHJcbiAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZOb2RlVG9DbG9uZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKHZOb2RlVG9DbG9uZVtpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IHRtcEFycmF5O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGZsYWdzID0gdk5vZGVUb0Nsb25lLmZsYWdzO1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZVRvQ2xvbmUuY2xhc3NOYW1lIHx8IChwcm9wcyAmJiBwcm9wcy5jbGFzc05hbWUpO1xyXG4gICAgICAgIHZhciBrZXkgPSAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZOb2RlVG9DbG9uZS5rZXkpID8gdk5vZGVUb0Nsb25lLmtleSA6IChwcm9wcyA/IHByb3BzLmtleSA6IG51bGwpO1xyXG4gICAgICAgIHZhciByZWYgPSB2Tm9kZVRvQ2xvbmUucmVmIHx8IChwcm9wcyA/IHByb3BzLnJlZiA6IG51bGwpO1xyXG4gICAgICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgY2xhc3NOYW1lLCBudWxsLCAoIXZOb2RlVG9DbG9uZS5wcm9wcyAmJiAhcHJvcHMpID8gdXRpbHNfMS5FTVBUWV9PQkogOiBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHZOb2RlVG9DbG9uZS5wcm9wcywgcHJvcHMpLCBrZXksIHJlZiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xyXG4gICAgICAgICAgICBpZiAobmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IG5ld1Byb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBhbHNvIGNsb25lIGNvbXBvbmVudCBjaGlsZHJlbiB0aGF0IGFyZSBpbiBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gYXMgdGhlIGNoaWxkcmVuIG1heSBhbHNvIGhhdmUgYmVlbiBob2lzdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuID0gbmV3Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVuID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkgJiYgaXNWTm9kZShjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChkaXJlY3RDbG9uZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gdG1wQXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNWTm9kZShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSBkaXJlY3RDbG9uZShuZXdDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlLmNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSAocHJvcHMgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocHJvcHMuY2hpbGRyZW4pKSA/IHByb3BzLmNoaWxkcmVuIDogdk5vZGVUb0Nsb25lLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgKCF2Tm9kZVRvQ2xvbmUucHJvcHMgJiYgIXByb3BzKSA/IHV0aWxzXzEuRU1QVFlfT0JKIDogaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbSh2Tm9kZVRvQ2xvbmUucHJvcHMsIHByb3BzKSwga2V5LCByZWYsICFjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVGV4dFZOb2RlKHZOb2RlVG9DbG9uZS5jaGlsZHJlbiwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Vk5vZGU7XHJcbn1cclxuZXhwb3J0cy5jbG9uZVZOb2RlID0gY2xvbmVWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlVm9pZFZOb2RlKCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKDQwOTYgLyogVm9pZCAqLywgbnVsbCk7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVWb2lkVk5vZGUgPSBjcmVhdGVWb2lkVk5vZGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0LCBrZXkpIHtcclxuICAgIHJldHVybiBjcmVhdGVWTm9kZSgxIC8qIFRleHQgKi8sIG51bGwsIG51bGwsIHRleHQsIG51bGwsIGtleSk7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVUZXh0Vk5vZGUgPSBjcmVhdGVUZXh0Vk5vZGU7XHJcbmZ1bmN0aW9uIGlzVk5vZGUobykge1xyXG4gICAgcmV0dXJuICEhby5mbGFncztcclxufVxyXG5leHBvcnRzLmlzVk5vZGUgPSBpc1ZOb2RlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIGNvbnN0YW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxudmFyIGRlbGVnYXRpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xyXG52YXIgbW91bnRpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcbnZhciByZW5kZXJpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcbnZhciB1bm1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5mdW5jdGlvbiBwYXRjaChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgaWYgKGxhc3RWTm9kZSAhPT0gbmV4dFZOb2RlKSB7XHJcbiAgICAgICAgdmFyIGxhc3RGbGFncyA9IGxhc3RWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dEZsYWdzID0gbmV4dFZOb2RlLmZsYWdzO1xyXG4gICAgICAgIGlmIChuZXh0RmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgaWYgKGxhc3RGbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hDb21wb25lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgbmV4dEZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50Q29tcG9uZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgKG5leHRGbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRWxlbWVudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRFbGVtZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRUZXh0KG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRWb2lkKG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGNhc2U6IG1vdW50IG5ldyBvbmUgcmVwbGFjaW5nIG9sZCBvbmVcclxuICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2ggPSBwYXRjaDtcclxuZnVuY3Rpb24gdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaEVsZW1lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBuZXh0VGFnID0gbmV4dFZOb2RlLnR5cGU7XHJcbiAgICB2YXIgbGFzdFRhZyA9IGxhc3RWTm9kZS50eXBlO1xyXG4gICAgaWYgKGxhc3RUYWcgIT09IG5leHRUYWcpIHtcclxuICAgICAgICB1dGlsc18xLnJlcGxhY2VXaXRoTmV3Tm9kZShsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICB2YXIgbGFzdFByb3BzID0gbGFzdFZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgdmFyIGxhc3RDaGlsZHJlbiA9IGxhc3RWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBsYXN0RmxhZ3MgPSBsYXN0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRGbGFncyA9IG5leHRWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dFJlZiA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgdmFyIGxhc3RDbGFzc05hbWUgPSBsYXN0Vk5vZGUuY2xhc3NOYW1lO1xyXG4gICAgICAgIHZhciBuZXh0Q2xhc3NOYW1lID0gbmV4dFZOb2RlLmNsYXNzTmFtZTtcclxuICAgICAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgKG5leHRGbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGxhc3RDaGlsZHJlbiAhPT0gbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4obGFzdEZsYWdzLCBuZXh0RmxhZ3MsIGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5saW5lZCBwYXRjaFByb3BzICAtLSBzdGFydHMgLS1cclxuICAgICAgICBpZiAobGFzdFByb3BzICE9PSBuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wc09yRW1wdHkgPSBsYXN0UHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgICAgIHZhciBuZXh0UHJvcHNPckVtcHR5ID0gbmV4dFByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHNPckVtcHR5ICE9PSB1dGlsc18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAobmV4dEZsYWdzICYgMzU4NCAvKiBGb3JtRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KG5leHRQcm9wc09yRW1wdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBuZXh0UHJvcHNPckVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gbGFzdFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQobmV4dEZsYWdzLCBuZXh0Vk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgZmFsc2UsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxhc3RQcm9wc09yRW1wdHkgIT09IHV0aWxzXzEuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxhc3RQcm9wc09yRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eVtwcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvcChwcm9wLCBsYXN0UHJvcHNPckVtcHR5W3Byb3BdLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbmxpbmVkIHBhdGNoUHJvcHMgIC0tIGVuZHMgLS1cclxuICAgICAgICBpZiAobGFzdENsYXNzTmFtZSAhPT0gbmV4dENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBuZXh0Q2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBuZXh0Q2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXh0UmVmKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0Vk5vZGUucmVmICE9PSBuZXh0UmVmIHx8IGlzUmVjeWNsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgbmV4dFJlZiwgbGlmZWN5Y2xlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoRWxlbWVudCA9IHBhdGNoRWxlbWVudDtcclxuZnVuY3Rpb24gcGF0Y2hDaGlsZHJlbihsYXN0RmxhZ3MsIG5leHRGbGFncywgbGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBwYXRjaEFycmF5ID0gZmFsc2U7XHJcbiAgICB2YXIgcGF0Y2hLZXllZCA9IGZhbHNlO1xyXG4gICAgaWYgKG5leHRGbGFncyAmIDY0IC8qIEhhc05vbktleWVkQ2hpbGRyZW4gKi8pIHtcclxuICAgICAgICBwYXRjaEFycmF5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChsYXN0RmxhZ3MgJiAzMiAvKiBIYXNLZXllZENoaWxkcmVuICovKSA+IDAgJiYgKG5leHRGbGFncyAmIDMyIC8qIEhhc0tleWVkQ2hpbGRyZW4gKi8pID4gMCkge1xyXG4gICAgICAgIHBhdGNoS2V5ZWQgPSB0cnVlO1xyXG4gICAgICAgIHBhdGNoQXJyYXkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEudXBkYXRlVGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgdXRpbHNfMS5zZXRUZXh0Q29udGVudChkb20sIG5leHRDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGxhc3RDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcGF0Y2hBcnJheSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh1dGlsc18xLmlzS2V5ZWQobGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudEFycmF5Q2hpbGRyZW4obmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoVk5vZGVzXzEuaXNWTm9kZShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXRjaEFycmF5KSB7XHJcbiAgICAgICAgaWYgKHBhdGNoS2V5ZWQpIHtcclxuICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhdGNoQ29tcG9uZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbGFzdFR5cGUgPSBsYXN0Vk5vZGUudHlwZTtcclxuICAgIHZhciBuZXh0VHlwZSA9IG5leHRWTm9kZS50eXBlO1xyXG4gICAgdmFyIGxhc3RLZXkgPSBsYXN0Vk5vZGUua2V5O1xyXG4gICAgdmFyIG5leHRLZXkgPSBuZXh0Vk5vZGUua2V5O1xyXG4gICAgaWYgKGxhc3RUeXBlICE9PSBuZXh0VHlwZSB8fCBsYXN0S2V5ICE9PSBuZXh0S2V5KSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlV2l0aE5ld05vZGUobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudENvbXBvbmVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChuZXh0Vk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApLCBsYXN0Vk5vZGUuZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNDb21wb25lbnREaWRVcGRhdGUgPSAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgLy8gV2hlbiBjb21wb25lbnQgaGFzIGNvbXBvbmVudERpZFVwZGF0ZSBob29rLCB3ZSBuZWVkIHRvIGNsb25lIGxhc3RTdGF0ZSBvciB3aWxsIGJlIG1vZGlmaWVkIGJ5IHJlZmVyZW5jZSBkdXJpbmcgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdFN0YXRlID0gaGFzQ29tcG9uZW50RGlkVXBkYXRlID8gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShuZXh0U3RhdGUsIG51bGwpIDogbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGluc3RhbmNlLnByb3BzO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9pc1NWRyA9IGlzU1ZHO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBsYXN0SW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRJbnB1dCA9IGluc3RhbmNlLl91cGRhdGVDb21wb25lbnQobGFzdFN0YXRlLCBuZXh0U3RhdGUsIGxhc3RQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gY2hpbGRDb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHRJbnB1dCA9PT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IGxhc3RJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2EgdmFsaWQgSW5mZXJubyBWTm9kZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZCBmcm9tIGEgY29tcG9uZW50IHJlbmRlci4gWW91IG1heSBoYXZlIHJldHVybmVkIGFuIGFycmF5IG9yIGFuIGludmFsaWQgb2JqZWN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwobmV4dElucHV0LmRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGFzdElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2xhc3RJbnB1dCA9IG5leHRJbnB1dDtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl92Tm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgICAgIGlmIChkaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNoaWxkQ29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ29tcG9uZW50RGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZShsYXN0UHJvcHMsIGxhc3RTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmFmdGVyVXBkYXRlKG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLnNldChpbnN0YW5jZSwgbmV4dElucHV0LmRvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dFZOb2RlLmRvbSA9IG5leHRJbnB1dC5kb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGxhc3RWTm9kZS5wcm9wcztcclxuICAgICAgICAgICAgdmFyIG5leHRIb29rcyA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgICAgIHZhciBuZXh0SG9va3NEZWZpbmVkID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3MpO1xyXG4gICAgICAgICAgICB2YXIgbGFzdElucHV0ID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB2YXIgbmV4dElucHV0ID0gbGFzdElucHV0O1xyXG4gICAgICAgICAgICBuZXh0Vk5vZGUuZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICAgICAgbmV4dFZOb2RlLmNoaWxkcmVuID0gbGFzdElucHV0O1xyXG4gICAgICAgICAgICBpZiAobGFzdEtleSAhPT0gbmV4dEtleSkge1xyXG4gICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SG9va3NEZWZpbmVkICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzLm9uQ29tcG9uZW50U2hvdWxkVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IG5leHRIb29rcy5vbkNvbXBvbmVudFNob3VsZFVwZGF0ZShsYXN0UHJvcHMsIG5leHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SG9va3NEZWZpbmVkICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzLm9uQ29tcG9uZW50V2lsbFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IG5leHRUeXBlKG5leHRQcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG5leHRJbnB1dCkgJiYgbmV4dElucHV0ICE9PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2EgdmFsaWQgSW5mZXJubyBWTm9kZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZCBmcm9tIGEgY29tcG9uZW50IHJlbmRlci4gWW91IG1heSBoYXZlIHJldHVybmVkIGFuIGFycmF5IG9yIGFuIGludmFsaWQgb2JqZWN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwobmV4dElucHV0LmRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dElucHV0ICE9PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobGFzdElucHV0LCBuZXh0SW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRWTm9kZS5jaGlsZHJlbiA9IG5leHRJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEhvb2tzRGVmaW5lZCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIb29rcy5vbkNvbXBvbmVudERpZFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEhvb2tzLm9uQ29tcG9uZW50RGlkVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFZOb2RlLmRvbSA9IG5leHRJbnB1dC5kb207XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5leHRJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgbmV4dElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgbGFzdElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmV4cG9ydHMucGF0Y2hDb21wb25lbnQgPSBwYXRjaENvbXBvbmVudDtcclxuZnVuY3Rpb24gcGF0Y2hUZXh0KGxhc3RWTm9kZSwgbmV4dFZOb2RlKSB7XHJcbiAgICB2YXIgbmV4dFRleHQgPSBuZXh0Vk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgIG5leHRWTm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAobGFzdFZOb2RlLmNoaWxkcmVuICE9PSBuZXh0VGV4dCkge1xyXG4gICAgICAgIGRvbS5ub2RlVmFsdWUgPSBuZXh0VGV4dDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoVGV4dCA9IHBhdGNoVGV4dDtcclxuZnVuY3Rpb24gcGF0Y2hWb2lkKGxhc3RWTm9kZSwgbmV4dFZOb2RlKSB7XHJcbiAgICBuZXh0Vk5vZGUuZG9tID0gbGFzdFZOb2RlLmRvbTtcclxufVxyXG5leHBvcnRzLnBhdGNoVm9pZCA9IHBhdGNoVm9pZDtcclxuZnVuY3Rpb24gcGF0Y2hOb25LZXllZENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbGFzdENoaWxkcmVuTGVuZ3RoID0gbGFzdENoaWxkcmVuLmxlbmd0aDtcclxuICAgIHZhciBuZXh0Q2hpbGRyZW5MZW5ndGggPSBuZXh0Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgdmFyIGNvbW1vbkxlbmd0aCA9IGxhc3RDaGlsZHJlbkxlbmd0aCA+IG5leHRDaGlsZHJlbkxlbmd0aCA/IG5leHRDaGlsZHJlbkxlbmd0aCA6IGxhc3RDaGlsZHJlbkxlbmd0aDtcclxuICAgIHZhciBpID0gMDtcclxuICAgIGZvciAoOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldO1xyXG4gICAgICAgIGlmIChuZXh0Q2hpbGQuZG9tKSB7XHJcbiAgICAgICAgICAgIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRDaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhdGNoKGxhc3RDaGlsZHJlbltpXSwgbmV4dENoaWxkLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGlmIChsYXN0Q2hpbGRyZW5MZW5ndGggPCBuZXh0Q2hpbGRyZW5MZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGkgPSBjb21tb25MZW5ndGg7IGkgPCBuZXh0Q2hpbGRyZW5MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAobmV4dENoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dENoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKGRvbSwgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGQsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChuZXh0Q2hpbGRyZW5MZW5ndGggPT09IDApIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgbGFzdENoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGxhc3RDaGlsZHJlbkxlbmd0aCA+IG5leHRDaGlsZHJlbkxlbmd0aCkge1xyXG4gICAgICAgIGZvciAoaSA9IGNvbW1vbkxlbmd0aDsgaSA8IGxhc3RDaGlsZHJlbkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGxhc3RDaGlsZHJlbltpXSwgZG9tLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hOb25LZXllZENoaWxkcmVuID0gcGF0Y2hOb25LZXllZENoaWxkcmVuO1xyXG5mdW5jdGlvbiBwYXRjaEtleWVkQ2hpbGRyZW4oYSwgYiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGFMZW5ndGggPSBhLmxlbmd0aDtcclxuICAgIHZhciBiTGVuZ3RoID0gYi5sZW5ndGg7XHJcbiAgICB2YXIgYUVuZCA9IGFMZW5ndGggLSAxO1xyXG4gICAgdmFyIGJFbmQgPSBiTGVuZ3RoIC0gMTtcclxuICAgIHZhciBhU3RhcnQgPSAwO1xyXG4gICAgdmFyIGJTdGFydCA9IDA7XHJcbiAgICB2YXIgaTtcclxuICAgIHZhciBqO1xyXG4gICAgdmFyIGFOb2RlO1xyXG4gICAgdmFyIGJOb2RlO1xyXG4gICAgdmFyIG5leHROb2RlO1xyXG4gICAgdmFyIG5leHRQb3M7XHJcbiAgICB2YXIgbm9kZTtcclxuICAgIGlmIChhTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgaWYgKGJMZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnRBcnJheUNoaWxkcmVuKGIsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGJMZW5ndGggPT09IDApIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgYSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICB2YXIgYlN0YXJ0Tm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgIHZhciBhRW5kTm9kZSA9IGFbYUVuZF07XHJcbiAgICB2YXIgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgaWYgKGJTdGFydE5vZGUuZG9tKSB7XHJcbiAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJFbmROb2RlLmRvbSkge1xyXG4gICAgICAgIGJbYkVuZF0gPSBiRW5kTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJFbmROb2RlKTtcclxuICAgIH1cclxuICAgIC8vIFN0ZXAgMVxyXG4gICAgLyogZXNsaW50IG5vLWNvbnN0YW50LWNvbmRpdGlvbjogMCAqL1xyXG4gICAgb3V0ZXI6IHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgLy8gU3luYyBub2RlcyB3aXRoIHRoZSBzYW1lIGtleSBhdCB0aGUgYmVnaW5uaW5nLlxyXG4gICAgICAgIHdoaWxlIChhU3RhcnROb2RlLmtleSA9PT0gYlN0YXJ0Tm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYVN0YXJ0Tm9kZSwgYlN0YXJ0Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIGFTdGFydCsrO1xyXG4gICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgaWYgKGFTdGFydCA+IGFFbmQgfHwgYlN0YXJ0ID4gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYVN0YXJ0Tm9kZSA9IGFbYVN0YXJ0XTtcclxuICAgICAgICAgICAgYlN0YXJ0Tm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgICAgICAgICAgaWYgKGJTdGFydE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JTdGFydF0gPSBiU3RhcnROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYlN0YXJ0Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3luYyBub2RlcyB3aXRoIHRoZSBzYW1lIGtleSBhdCB0aGUgZW5kLlxyXG4gICAgICAgIHdoaWxlIChhRW5kTm9kZS5rZXkgPT09IGJFbmROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhRW5kTm9kZSwgYkVuZE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBhRW5kLS07XHJcbiAgICAgICAgICAgIGJFbmQtLTtcclxuICAgICAgICAgICAgaWYgKGFTdGFydCA+IGFFbmQgfHwgYlN0YXJ0ID4gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgICAgICAgICBiRW5kTm9kZSA9IGJbYkVuZF07XHJcbiAgICAgICAgICAgIGlmIChiRW5kTm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgIGJbYkVuZF0gPSBiRW5kTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJFbmROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNb3ZlIGFuZCBzeW5jIG5vZGVzIGZyb20gcmlnaHQgdG8gbGVmdC5cclxuICAgICAgICBpZiAoYUVuZE5vZGUua2V5ID09PSBiU3RhcnROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhRW5kTm9kZSwgYlN0YXJ0Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBiU3RhcnROb2RlLmRvbSwgYVN0YXJ0Tm9kZS5kb20pO1xyXG4gICAgICAgICAgICBhRW5kLS07XHJcbiAgICAgICAgICAgIGJTdGFydCsrO1xyXG4gICAgICAgICAgICBhRW5kTm9kZSA9IGFbYUVuZF07XHJcbiAgICAgICAgICAgIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNb3ZlIGFuZCBzeW5jIG5vZGVzIGZyb20gbGVmdCB0byByaWdodC5cclxuICAgICAgICBpZiAoYVN0YXJ0Tm9kZS5rZXkgPT09IGJFbmROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhU3RhcnROb2RlLCBiRW5kTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG5leHRQb3MgPSBiRW5kICsgMTtcclxuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBiRW5kTm9kZS5kb20sIG5leHROb2RlKTtcclxuICAgICAgICAgICAgYVN0YXJ0Kys7XHJcbiAgICAgICAgICAgIGJFbmQtLTtcclxuICAgICAgICAgICAgYVN0YXJ0Tm9kZSA9IGFbYVN0YXJ0XTtcclxuICAgICAgICAgICAgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgICAgICAgICBpZiAoYkVuZE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgaWYgKGFTdGFydCA+IGFFbmQpIHtcclxuICAgICAgICBpZiAoYlN0YXJ0IDw9IGJFbmQpIHtcclxuICAgICAgICAgICAgbmV4dFBvcyA9IGJFbmQgKyAxO1xyXG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgd2hpbGUgKGJTdGFydCA8PSBiRW5kKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYltiU3RhcnRdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYlN0YXJ0ID4gYkVuZCkge1xyXG4gICAgICAgIHdoaWxlIChhU3RhcnQgPD0gYUVuZCkge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChhW2FTdGFydCsrXSwgZG9tLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYUxlbmd0aCA9IGFFbmQgLSBhU3RhcnQgKyAxO1xyXG4gICAgICAgIGJMZW5ndGggPSBiRW5kIC0gYlN0YXJ0ICsgMTtcclxuICAgICAgICB2YXIgc291cmNlcyA9IG5ldyBBcnJheShiTGVuZ3RoKTtcclxuICAgICAgICAvLyBNYXJrIGFsbCBub2RlcyBhcyBpbnNlcnRlZC5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNvdXJjZXNbaV0gPSAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHBvcyA9IDA7XHJcbiAgICAgICAgdmFyIHBhdGNoZWQgPSAwO1xyXG4gICAgICAgIC8vIFdoZW4gc2l6ZXMgYXJlIHNtYWxsLCBqdXN0IGxvb3AgdGhlbSB0aHJvdWdoXHJcbiAgICAgICAgaWYgKChiTGVuZ3RoIDw9IDQpIHx8IChhTGVuZ3RoICogYkxlbmd0aCA8PSAxNikpIHtcclxuICAgICAgICAgICAgZm9yIChpID0gYVN0YXJ0OyBpIDw9IGFFbmQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYU5vZGUgPSBhW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZWQgPCBiTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gYlN0YXJ0OyBqIDw9IGJFbmQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiTm9kZSA9IGJbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhTm9kZS5rZXkgPT09IGJOb2RlLmtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlc1tqIC0gYlN0YXJ0XSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zID4gaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYk5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYltqXSA9IGJOb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2goYU5vZGUsIGJOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBrZXlJbmRleCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgLy8gTWFwIGtleXMgYnkgdGhlaXIgaW5kZXggaW4gYXJyYXlcclxuICAgICAgICAgICAgZm9yIChpID0gYlN0YXJ0OyBpIDw9IGJFbmQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAga2V5SW5kZXguc2V0KGJbaV0ua2V5LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUcnkgdG8gcGF0Y2ggc2FtZSBrZXlzXHJcbiAgICAgICAgICAgIGZvciAoaSA9IGFTdGFydDsgaSA8PSBhRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkIDwgYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGogPSBrZXlJbmRleC5nZXQoYU5vZGUua2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYk5vZGUgPSBiW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW2ogLSBiU3RhcnRdID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJOb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltqXSA9IGJOb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoKGFOb2RlLCBiTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYVtpXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZhc3QtcGF0aDogaWYgbm90aGluZyBwYXRjaGVkIHJlbW92ZSBhbGwgb2xkIGFuZCBhZGQgYWxsIG5ld1xyXG4gICAgICAgIGlmIChhTGVuZ3RoID09PSBhLmxlbmd0aCAmJiBwYXRjaGVkID09PSAwKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBhLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgd2hpbGUgKGJTdGFydCA8IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICBiW2JTdGFydF0gPSBub2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaSA9IGFMZW5ndGggLSBwYXRjaGVkO1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVthU3RhcnQrK107XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGFOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGFOb2RlLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW92ZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXEgPSBsaXNfYWxnb3JpdGhtKHNvdXJjZXMpO1xyXG4gICAgICAgICAgICAgICAgaiA9IHNlcS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gYkxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbaV0gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltwb3NdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQb3MgPSBwb3MgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IHNlcVtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gaSArIGJTdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UG9zID0gcG9zICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG5vZGUuZG9tLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGF0Y2hlZCAhPT0gYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiBwYXRjaGVkIGNvdW50IGRvZXNuJ3QgbWF0Y2ggYiBsZW5ndGggd2UgbmVlZCB0byBpbnNlcnQgdGhvc2UgbmV3IG9uZXNcclxuICAgICAgICAgICAgICAgIC8vIGxvb3AgYmFja3dhcmRzIHNvIHdlIGNhbiB1c2UgaW5zZXJ0QmVmb3JlXHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBiTGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlc1tpXSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gaSArIGJTdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbcG9zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiW3Bvc10gPSBub2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBvcyA9IHBvcyArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoS2V5ZWRDaGlsZHJlbiA9IHBhdGNoS2V5ZWRDaGlsZHJlbjtcclxuLy8gLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9uZ2VzdF9pbmNyZWFzaW5nX3N1YnNlcXVlbmNlXHJcbmZ1bmN0aW9uIGxpc19hbGdvcml0aG0oYXJyKSB7XHJcbiAgICB2YXIgcCA9IGFyci5zbGljZSgwKTtcclxuICAgIHZhciByZXN1bHQgPSBbMF07XHJcbiAgICB2YXIgaTtcclxuICAgIHZhciBqO1xyXG4gICAgdmFyIHU7XHJcbiAgICB2YXIgdjtcclxuICAgIHZhciBjO1xyXG4gICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgYXJySSA9IGFycltpXTtcclxuICAgICAgICBpZiAoYXJySSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGlmIChhcnJbal0gPCBhcnJJKSB7XHJcbiAgICAgICAgICAgIHBbaV0gPSBqO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChpKTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHUgPSAwO1xyXG4gICAgICAgIHYgPSByZXN1bHQubGVuZ3RoIC0gMTtcclxuICAgICAgICB3aGlsZSAodSA8IHYpIHtcclxuICAgICAgICAgICAgYyA9ICgodSArIHYpIC8gMikgfCAwO1xyXG4gICAgICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XHJcbiAgICAgICAgICAgICAgICB1ID0gYyArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ID0gYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XHJcbiAgICAgICAgICAgIGlmICh1ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcFtpXSA9IHJlc3VsdFt1IC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0W3VdID0gaTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1ID0gcmVzdWx0Lmxlbmd0aDtcclxuICAgIHYgPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgd2hpbGUgKHUtLSA+IDApIHtcclxuICAgICAgICByZXN1bHRbdV0gPSB2O1xyXG4gICAgICAgIHYgPSBwW3ZdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBpc0F0dHJBbkV2ZW50KGF0dHIpIHtcclxuICAgIHJldHVybiBhdHRyWzBdID09PSAnbycgJiYgYXR0clsxXSA9PT0gJ24nO1xyXG59XHJcbmV4cG9ydHMuaXNBdHRyQW5FdmVudCA9IGlzQXR0ckFuRXZlbnQ7XHJcbmZ1bmN0aW9uIHBhdGNoUHJvcChwcm9wLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKSB7XHJcbiAgICBpZiAobGFzdFZhbHVlICE9PSBuZXh0VmFsdWUpIHtcclxuICAgICAgICBpZiAoY29uc3RhbnRzXzEuc2tpcFByb3BzLmhhcyhwcm9wKSB8fCAoaGFzQ29udHJvbGxlZFZhbHVlICYmIHByb3AgPT09ICd2YWx1ZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29uc3RhbnRzXzEuYm9vbGVhblByb3BzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICBwcm9wID0gcHJvcCA9PT0gJ2F1dG9Gb2N1cycgPyBwcm9wLnRvTG93ZXJDYXNlKCkgOiBwcm9wO1xyXG4gICAgICAgICAgICBkb21bcHJvcF0gPSAhIW5leHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29uc3RhbnRzXzEuc3RyaWN0UHJvcHMuaGFzKHByb3ApKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0VmFsdWUpID8gJycgOiBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChkb21bcHJvcF0gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBkb21bcHJvcF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc0F0dHJBbkV2ZW50KHByb3ApKSB7XHJcbiAgICAgICAgICAgIHBhdGNoRXZlbnQocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGRvbS5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgcGF0Y2hTdHlsZShsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xyXG4gICAgICAgICAgICB2YXIgbGFzdEh0bWwgPSBsYXN0VmFsdWUgJiYgbGFzdFZhbHVlLl9faHRtbDtcclxuICAgICAgICAgICAgdmFyIG5leHRIdG1sID0gbmV4dFZhbHVlICYmIG5leHRWYWx1ZS5fX2h0bWw7XHJcbiAgICAgICAgICAgIGlmIChsYXN0SHRtbCAhPT0gbmV4dEh0bWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIdG1sKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5pbm5lckhUTUwgPSBuZXh0SHRtbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gV2Ugb3B0aW1pemUgZm9yIE5TIGJlaW5nIGJvb2xlYW4uIEl0cyA5OS45JSB0aW1lIGZhbHNlXHJcbiAgICAgICAgICAgIGlmIChpc1NWRyAmJiBjb25zdGFudHNfMS5uYW1lc3BhY2VzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZW5kIHVwIGluIHRoaXMgcGF0aCB3ZSBjYW4gcmVhZCBwcm9wZXJ0eSBhZ2FpblxyXG4gICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZU5TKGNvbnN0YW50c18xLm5hbWVzcGFjZXMuZ2V0KHByb3ApLCBwcm9wLCBuZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShwcm9wLCBuZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hQcm9wID0gcGF0Y2hQcm9wO1xyXG5mdW5jdGlvbiBwYXRjaEV2ZW50KG5hbWUsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20pIHtcclxuICAgIGlmIChsYXN0VmFsdWUgIT09IG5leHRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChjb25zdGFudHNfMS5kZWxlZ2F0ZWRFdmVudHMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIGRlbGVnYXRpb25fMS5oYW5kbGVFdmVudChuYW1lLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lTG93ZXJDYXNlID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB2YXIgZG9tRXZlbnQgPSBkb21bbmFtZUxvd2VyQ2FzZV07XHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSBmdW5jdGlvbiBpcyB3cmFwcGVkLCB0aGF0IG1lYW5zIGl0J3MgYmVlbiBjb250cm9sbGVkIGJ5IGEgd3JhcHBlclxyXG4gICAgICAgICAgICBpZiAoZG9tRXZlbnQgJiYgZG9tRXZlbnQud3JhcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKG5leHRWYWx1ZSkgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlua0V2ZW50XzEgPSBuZXh0VmFsdWUuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlua0V2ZW50XzEgJiYgaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKGxpbmtFdmVudF8xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbVtuYW1lTG93ZXJDYXNlXSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtFdmVudF8xKG5leHRWYWx1ZS5kYXRhLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImFuIGV2ZW50IG9uIGEgVk5vZGUgXFxcIlwiICsgbmFtZSArIFwiXFxcIi4gd2FzIG5vdCBhIGZ1bmN0aW9uIG9yIGEgdmFsaWQgbGlua0V2ZW50LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEV2ZW50ID0gcGF0Y2hFdmVudDtcclxuLy8gV2UgYXJlIGFzc3VtaW5nIGhlcmUgdGhhdCB3ZSBjb21lIGZyb20gcGF0Y2hQcm9wIHJvdXRpbmVcclxuLy8gLW5leHRBdHRyVmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXHJcbmZ1bmN0aW9uIHBhdGNoU3R5bGUobGFzdEF0dHJWYWx1ZSwgbmV4dEF0dHJWYWx1ZSwgZG9tKSB7XHJcbiAgICB2YXIgZG9tU3R5bGUgPSBkb20uc3R5bGU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyhuZXh0QXR0clZhbHVlKSkge1xyXG4gICAgICAgIGRvbVN0eWxlLmNzc1RleHQgPSBuZXh0QXR0clZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAodmFyIHN0eWxlIGluIG5leHRBdHRyVmFsdWUpIHtcclxuICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRBdHRyVmFsdWVbc3R5bGVdO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bWJlcih2YWx1ZSkgfHwgY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlci5oYXMoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gdmFsdWUgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGxhc3RBdHRyVmFsdWUpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3R5bGUgaW4gbGFzdEF0dHJWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRBdHRyVmFsdWVbc3R5bGVdKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFN0eWxlID0gcGF0Y2hTdHlsZTtcclxuZnVuY3Rpb24gcmVtb3ZlUHJvcChwcm9wLCBsYXN0VmFsdWUsIGRvbSkge1xyXG4gICAgaWYgKHByb3AgPT09ICd2YWx1ZScpIHtcclxuICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgIGRlbGVnYXRpb25fMS5oYW5kbGVFdmVudChwcm9wLCBsYXN0VmFsdWUsIG51bGwsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgfVxyXG59XHJcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgVk5vZGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgaHlkcmF0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcclxudmFyIG1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbnZhciB1bm1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG4vLyByYXRoZXIgdGhhbiB1c2UgYSBNYXAsIGxpa2Ugd2UgZGlkIGJlZm9yZSwgd2UgY2FuIHVzZSBhbiBhcnJheSBoZXJlXHJcbi8vIGdpdmVuIHRoZXJlIHNob3VsZG4ndCBiZSBUSEFUIG1hbnkgcm9vdHMgb24gdGhlIHBhZ2UsIHRoZSBkaWZmZXJlbmNlXHJcbi8vIGluIHBlcmZvcm1hbmNlIGlzIGh1Z2U6IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTgwMmE2OTEzMzBhYjA5OTAwYTFhMmRhXHJcbmV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwID0gbmV3IE1hcCgpO1xyXG52YXIgcm9vdHMgPSBvcHRpb25zXzEub3B0aW9ucy5yb290cztcclxuLyoqXHJcbiAqIFdoZW4gaW5mZXJuby5vcHRpb25zLmZpbmRET01OT2RlRW5hYmxlZCBpcyB0cnVlLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIERPTSBOb2RlIGJ5IGNvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0gcmVmIENvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcmV0dXJucyB7KnxudWxsfSByZXR1cm5zIGRvbSBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kRE9NTm9kZShyZWYpIHtcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZmluZERPTU5vZGUoKSBoYXMgYmVlbiBkaXNhYmxlZCwgdXNlIEluZmVybm8ub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQgPSB0cnVlOyBlbmFibGVkIGZpbmRET01Ob2RlKCkuIFdhcm5pbmcgdGhpcyBjYW4gc2lnbmlmaWNhbnRseSBpbXBhY3QgcGVyZm9ybWFuY2UhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgdmFyIGRvbSA9IHJlZiAmJiByZWYubm9kZVR5cGUgPyByZWYgOiBudWxsO1xyXG4gICAgcmV0dXJuIGV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwLmdldChyZWYpIHx8IGRvbTtcclxufVxyXG5leHBvcnRzLmZpbmRET01Ob2RlID0gZmluZERPTU5vZGU7XHJcbmZ1bmN0aW9uIGdldFJvb3QoZG9tKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm9vdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgcm9vdCA9IHJvb3RzW2ldO1xyXG4gICAgICAgIGlmIChyb290LmRvbSA9PT0gZG9tKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHNldFJvb3QoZG9tLCBpbnB1dCwgbGlmZWN5Y2xlKSB7XHJcbiAgICB2YXIgcm9vdCA9IHtcclxuICAgICAgICBkb206IGRvbSxcclxuICAgICAgICBpbnB1dDogaW5wdXQsXHJcbiAgICAgICAgbGlmZWN5Y2xlOiBsaWZlY3ljbGVcclxuICAgIH07XHJcbiAgICByb290cy5wdXNoKHJvb3QpO1xyXG4gICAgcmV0dXJuIHJvb3Q7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlUm9vdChyb290KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm9vdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAocm9vdHNbaV0gPT09IHJvb3QpIHtcclxuICAgICAgICAgICAgcm9vdHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmlmIChmYWxzZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyICYmIGRvY3VtZW50LmJvZHkgPT09IG51bGwpIHtcclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gd2FybmluZzogeW91IGNhbm5vdCBpbml0aWFsaXplIGluZmVybm8gd2l0aG91dCBcImRvY3VtZW50LmJvZHlcIi4gV2FpdCBvbiBcIkRPTUNvbnRlbnRMb2FkZWRcIiBldmVudCwgYWRkIHNjcmlwdCB0byBib3R0b20gb2YgYm9keSwgb3IgdXNlIGFzeW5jL2RlZmVyIGF0dHJpYnV0ZXMgb24gc2NyaXB0IHRhZy4nKTtcclxuICAgIH1cclxufVxyXG52YXIgZG9jdW1lbnRCb2R5ID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgPyBkb2N1bWVudC5ib2R5IDogbnVsbDtcclxuLyoqXHJcbiAqIFJlbmRlcnMgdmlydHVhbCBub2RlIHRyZWUgaW50byBwYXJlbnQgbm9kZS5cclxuICogQHBhcmFtIHtWTm9kZSB8IG51bGwgfCBzdHJpbmcgfCBudW1iZXJ9IGlucHV0IHZOb2RlIHRvIGJlIHJlbmRlcmVkXHJcbiAqIEBwYXJhbSBwYXJlbnREb20gRE9NIG5vZGUgd2hpY2ggY29udGVudCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHZpcnR1YWwgbm9kZVxyXG4gKiBAcmV0dXJucyB7SW5mZXJub0NoaWxkcmVufSByZW5kZXJlZCB2aXJ0dWFsIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlcihpbnB1dCwgcGFyZW50RG9tKSB7XHJcbiAgICBpZiAoZG9jdW1lbnRCb2R5ID09PSBwYXJlbnREb20pIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCd5b3UgY2Fubm90IHJlbmRlcigpIHRvIHRoZSBcImRvY3VtZW50LmJvZHlcIi4gVXNlIGFuIGVtcHR5IGVsZW1lbnQgYXMgYSBjb250YWluZXIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcm9vdCA9IGdldFJvb3QocGFyZW50RG9tKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChyb290KSkge1xyXG4gICAgICAgIHZhciBsaWZlY3ljbGUgPSBuZXcgaW5mZXJub19zaGFyZWRfMS5MaWZlY3ljbGUoKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGlucHV0KSkge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWh5ZHJhdGlvbl8xLmh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQoaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvb3QgPSBzZXRSb290KHBhcmVudERvbSwgaW5wdXQsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGxpZmVjeWNsZSA9IHJvb3QubGlmZWN5Y2xlO1xyXG4gICAgICAgIGxpZmVjeWNsZS5saXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGlucHV0KSkge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChyb290LmlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlUm9vdChyb290KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2gocm9vdC5pbnB1dCwgaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm9vdC5pbnB1dCA9IGlucHV0O1xyXG4gICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICB9XHJcbiAgICBpZiAocm9vdCkge1xyXG4gICAgICAgIHZhciByb290SW5wdXQgPSByb290LmlucHV0O1xyXG4gICAgICAgIGlmIChyb290SW5wdXQgJiYgKHJvb3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3RJbnB1dC5jaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKHBhcmVudERvbSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlbmRlcmVyKGxhc3RJbnB1dCwgbmV4dElucHV0KSB7XHJcbiAgICAgICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICAgICAgcGFyZW50RG9tID0gbGFzdElucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZW5kZXIobmV4dElucHV0LCBwYXJlbnREb20pO1xyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxudmFyIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxudmFyIFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuX29uQ29tcG9uZW50UmVzb2x2ZWQgPSBmdW5jdGlvbiAoZXJyb3IsIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBhc3luY0NvbXBvbmVudDogY29tcG9uZW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGFzeW5jQ29tcG9uZW50OiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSB0aGlzLnByb3BzLm9uRW50ZXI7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKG9uRW50ZXIpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25FbnRlcih7IHByb3BzOiBfdGhpcy5wcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gdGhpcy5wcm9wcy5nZXRDb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKGdldENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnQoeyBwcm9wczogX3RoaXMucHJvcHMsIHJvdXRlcjogcm91dGVyIH0sIF90aGlzLl9vbkNvbXBvbmVudFJlc29sdmVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5vbkxlYXZlID0gZnVuY3Rpb24gKHRyaWdnZXIpIHtcclxuICAgICAgICBpZiAodHJpZ2dlciA9PT0gdm9pZCAwKSB7IHRyaWdnZXIgPSBmYWxzZTsgfVxyXG4gICAgICAgIHZhciBvbkxlYXZlID0gdGhpcy5wcm9wcy5vbkxlYXZlO1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xyXG4gICAgICAgIGlmIChvbkxlYXZlICYmIHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgb25MZWF2ZSh7IHByb3BzOiB0aGlzLnByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLm9uRW50ZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSBuZXh0UHJvcHMub25FbnRlcjtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBvbkVudGVyKSB7XHJcbiAgICAgICAgICAgIG9uRW50ZXIoeyBwcm9wczogbmV4dFByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gbmV4dFByb3BzLmdldENvbXBvbmVudDtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBnZXRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50KHsgcHJvcHM6IG5leHRQcm9wcywgcm91dGVyOiByb3V0ZXIgfSwgdGhpcy5fb25Db21wb25lbnRSZXNvbHZlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uRW50ZXIobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChfYXJncykge1xyXG4gICAgICAgIHZhciBjb21wb25lbnQgPSBfYXJncy5jb21wb25lbnQsIGNoaWxkcmVuID0gX2FyZ3MuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHByb3BzID0gdXRpbHNfMS5yZXN0KF9hcmdzLCBbJ2NvbXBvbmVudCcsICdjaGlsZHJlbicsICdwYXRoJywgJ2dldENvbXBvbmVudCddKTtcclxuICAgICAgICB2YXIgYXN5bmNDb21wb25lbnQgPSB0aGlzLnN0YXRlLmFzeW5jQ29tcG9uZW50O1xyXG4gICAgICAgIHZhciByZXNvbHZlZENvbXBvbmVudCA9IGNvbXBvbmVudCB8fCBhc3luY0NvbXBvbmVudDtcclxuICAgICAgICBpZiAoIXJlc29sdmVkQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KHJlc29sdmVkQ29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZTtcclxufShpbmZlcm5vX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmV4cG9ydHMueG1sTlMgPSAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJztcclxuZXhwb3J0cy5zdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbmV4cG9ydHMuc3RyaWN0UHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuc3RyaWN0UHJvcHMuYWRkKCd2b2x1bWUnKTtcclxuZXhwb3J0cy5zdHJpY3RQcm9wcy5hZGQoJ2RlZmF1bHRDaGVja2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ211dGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnc2NvcGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbG9vcCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ29wZW4nKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdjaGVja2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnZGVmYXVsdCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NhcHR1cmUnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdkaXNhYmxlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3JlYWRPbmx5Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgncmVxdWlyZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdhdXRvcGxheScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NvbnRyb2xzJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnc2VhbWxlc3MnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdyZXZlcnNlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2FsbG93ZnVsbHNjcmVlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ25vdmFsaWRhdGUnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdoaWRkZW4nKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdhdXRvRm9jdXMnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzZWxlY3RlZCcpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMgPSBuZXcgTWFwKCk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOmhyZWYnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazphcmNyb2xlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6YWN0dWF0ZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnNob3cnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazpyb2xlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6dGl0bGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazp0eXBlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOmJhc2UnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOmxhbmcnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOnNwYWNlJywgZXhwb3J0cy54bWxOUyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlciA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm9yZGVySW1hZ2VPdXRzZXQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm9yZGVySW1hZ2VTbGljZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZVdpZHRoJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JveEZsZXgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94RmxleEdyb3VwJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JveE9yZGluYWxHcm91cCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdjb2x1bW5Db3VudCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhHcm93Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhQb3NpdGl2ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4U2hyaW5rJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhOZWdhdGl2ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4T3JkZXInKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZ3JpZFJvdycpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdncmlkQ29sdW1uJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZvbnRXZWlnaHQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnbGluZUNsYW1wJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2xpbmVIZWlnaHQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnb3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcmRlcicpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcnBoYW5zJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3RhYlNpemUnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnd2lkb3dzJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3pJbmRleCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCd6b29tJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZpbGxPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2Zsb29kT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdG9wT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VEYXNoYXJyYXknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlRGFzaG9mZnNldCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VNaXRlcmxpbWl0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZU9wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlV2lkdGgnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnY2hpbGRyZW4nKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGlsZHJlblR5cGUnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdkZWZhdWx0VmFsdWUnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdyZWYnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdrZXknKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGVja2VkJyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnbXVsdGlwbGUnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25DbGljaycpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uTW91c2VEb3duJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZVVwJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZU1vdmUnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvblN1Ym1pdCcpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uRGJsQ2xpY2snKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleURvd24nKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleVVwJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25LZXlQcmVzcycpO1xyXG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIHBhdGNoaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG52YXIgcmVjeWNsaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcclxudmFyIHJlbmRlcmluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5mdW5jdGlvbiBtb3VudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCAoZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRWb2lkKHZOb2RlLCBwYXJlbnREb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRUZXh0KHZOb2RlLCBwYXJlbnREb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygdk5vZGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJtb3VudCgpIHJlY2VpdmVkIGFuIG9iamVjdCB0aGF0J3Mgbm90IGEgdmFsaWQgVk5vZGUsIHlvdSBzaG91bGQgc3RyaW5naWZ5IGl0IGZpcnN0LiBPYmplY3Q6IFxcXCJcIiArIEpTT04uc3RyaW5naWZ5KHZOb2RlKSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJtb3VudCgpIGV4cGVjdHMgYSB2YWxpZCBWTm9kZSwgaW5zdGVhZCBpdCByZWNlaXZlZCBhbiBvYmplY3Qgd2l0aCB0aGUgdHlwZSBcXFwiXCIgKyB0eXBlb2Ygdk5vZGUgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnQgPSBtb3VudDtcclxuZnVuY3Rpb24gbW91bnRUZXh0KHZOb2RlLCBwYXJlbnREb20pIHtcclxuICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2Tm9kZS5jaGlsZHJlbik7XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZXhwb3J0cy5tb3VudFRleHQgPSBtb3VudFRleHQ7XHJcbmZ1bmN0aW9uIG1vdW50Vm9pZCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRWb2lkID0gbW91bnRWb2lkO1xyXG5mdW5jdGlvbiBtb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLnJlY3ljbGluZ0VuYWJsZWQpIHtcclxuICAgICAgICB2YXIgZG9tXzEgPSByZWN5Y2xpbmdfMS5yZWN5Y2xlRWxlbWVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChkb21fMSkpIHtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tXzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkb21fMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlzU1ZHID0gaXNTVkcgfHwgKGZsYWdzICYgMTI4IC8qIFN2Z0VsZW1lbnQgKi8pID4gMDtcclxuICAgIHZhciBkb20gPSB1dGlsc18xLmRvY3VtZW50Q3JlYXRlRWxlbWVudCh2Tm9kZS50eXBlLCBpc1NWRyk7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IHZOb2RlLmNsYXNzTmFtZTtcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgbW91bnRBcnJheUNoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBtb3VudChjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzKSkge1xyXG4gICAgICAgIHZhciBoYXNDb250cm9sbGVkVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGb3JtRWxlbWVudCA9IChmbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoUHJvcChwcm9wLCBudWxsLCBwcm9wc1twcm9wXSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnRfMS5wcm9jZXNzRWxlbWVudChmbGFncywgdk5vZGUsIGRvbSwgcHJvcHMsIHRydWUsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocmVmKSkge1xyXG4gICAgICAgIG1vdW50UmVmKGRvbSwgcmVmLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRFbGVtZW50ID0gbW91bnRFbGVtZW50O1xyXG5mdW5jdGlvbiBtb3VudEFycmF5Q2hpbGRyZW4oY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgLy8gVmVyaWZ5IGNhbiBzdHJpbmcvbnVtYmVyIGJlIGhlcmUuIG1pZ2h0IGNhdXNlIGRlLW9wdC4gLSBOb3JtYWxpemF0aW9uIHRha2VzIGNhcmUgb2YgaXQuXHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkpIHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5baV0gPSBjaGlsZCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtb3VudChjaGlsZHJlbltpXSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudEFycmF5Q2hpbGRyZW4gPSBtb3VudEFycmF5Q2hpbGRyZW47XHJcbmZ1bmN0aW9uIG1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MpIHtcclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIGRvbV8yID0gcmVjeWNsaW5nXzEucmVjeWNsZUNvbXBvbmVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChkb21fMikpIHtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tXzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkb21fMjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgZG9tO1xyXG4gICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB1dGlsc18xLmNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2Uodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0LCBpc1NWRywgbGlmZWN5Y2xlKTtcclxuICAgICAgICB2YXIgaW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgIGluc3RhbmNlLl92Tm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGRvbSA9IG1vdW50KGlucHV0LCBudWxsLCBsaWZlY3ljbGUsIGluc3RhbmNlLl9jaGlsZENvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHV0aWxzXzEuY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gZG9tID0gbW91bnQoaW5wdXQsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIHZOb2RlLmNoaWxkcmVuID0gaW5wdXQ7XHJcbiAgICAgICAgbW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRDb21wb25lbnQgPSBtb3VudENvbXBvbmVudDtcclxuZnVuY3Rpb24gbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyh2Tm9kZSwgcmVmLCBpbnN0YW5jZSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAocmVmKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihyZWYpKSB7XHJcbiAgICAgICAgICAgIHJlZihpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QocmVmKSAmJiAodk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZnVuY3Rpb25hbCBjb21wb25lbnQgbGlmZWN5Y2xlIGV2ZW50cyBhcmUgbm90IHN1cHBvcnRlZCBvbiBFUzIwMTUgY2xhc3MgY29tcG9uZW50cy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImEgYmFkIHZhbHVlIGZvciBcXFwicmVmXFxcIiB3YXMgdXNlZCBvbiBjb21wb25lbnQ6IFxcXCJcIiArIEpTT04uc3RyaW5naWZ5KHJlZikgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGhhc0RpZE1vdW50ID0gIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQpO1xyXG4gICAgdmFyIGFmdGVyTW91bnQgPSBvcHRpb25zXzEub3B0aW9ucy5hZnRlck1vdW50O1xyXG4gICAgaWYgKGhhc0RpZE1vdW50IHx8ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhZnRlck1vdW50KSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChhZnRlck1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBhZnRlck1vdW50KHZOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGFzRGlkTW91bnQpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzID0gbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsTW91bnQpKSB7XHJcbiAgICAgICAgICAgIHJlZi5vbkNvbXBvbmVudFdpbGxNb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnREaWRNb3VudCkpIHtcclxuICAgICAgICAgICAgbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZi5vbkNvbXBvbmVudERpZE1vdW50KGRvbSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyA9IG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRSZWYoZG9tLCB2YWx1ZSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZShkb20pOyB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdzdHJpbmcgXCJyZWZzXCIgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gSW5mZXJubyAxLjAuIFVzZSBjYWxsYmFjayBcInJlZnNcIiBpbnN0ZWFkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50UmVmID0gbW91bnRSZWY7XHJcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSkuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbnZhciByZWN5Y2xpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbmZ1bmN0aW9uIHVubW91bnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgKDEgLyogVGV4dCAqLyB8IDQwOTYgLyogVm9pZCAqLykpIHtcclxuICAgICAgICB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnQgPSB1bm1vdW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgdk5vZGUuZG9tKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBpbnN0YW5jZSA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICB2YXIgaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgaWYgKCFpc1JlY3ljbGluZykge1xyXG4gICAgICAgIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2Jsb2NrU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVVubW91bnQodk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVmICYmICFpc1JlY3ljbGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZihudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5kZWxldGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdW5tb3VudChpbnN0YW5jZS5fbGFzdElucHV0LCBudWxsLCBpbnN0YW5jZS5fbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYub25Db21wb25lbnRXaWxsVW5tb3VudChkb20pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVubW91bnQoaW5zdGFuY2UsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGFyZW50RG9tKSB7XHJcbiAgICAgICAgdmFyIGxhc3RJbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGxhc3RJbnB1dCA9IGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmICFpc1N0YXRlZnVsQ29tcG9uZW50ICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sQ29tcG9uZW50KHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnRDb21wb25lbnQgPSB1bm1vdW50Q29tcG9uZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgaWYgKHJlZiAmJiAhaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICB1bm1vdW50UmVmKHJlZik7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzKSkge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBpZiAocHJvcHNbbmFtZV8xXSAhPT0gbnVsbCAmJiBwYXRjaGluZ18xLmlzQXR0ckFuRXZlbnQobmFtZV8xKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEV2ZW50KG5hbWVfMSwgcHJvcHNbbmFtZV8xXSwgbnVsbCwgZG9tKTtcclxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgbnVsbCwgYmVjYXVzZSBzYW1lIHByb3BzIG90aGVyd2lzZSBjb21lIGJhY2sgaWYgU0NVIHJldHVybnMgZmFsc2UgYW5kIHdlIGFyZSByZWN5bGluZ1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV8xXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sRWxlbWVudCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50RWxlbWVudCA9IHVubW91bnRFbGVtZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjaGlsZCwgbnVsbCwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50KGNoaWxkcmVuLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5tb3VudFJlZihyZWYpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIHJlZihudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChyZWYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBJbnB1dFdyYXBwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xyXG52YXIgU2VsZWN0V3JhcHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XHJcbnZhciBUZXh0YXJlYVdyYXBwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xyXG4vKipcclxuICogVGhlcmUgaXMgY3VycmVudGx5IG5vIHN1cHBvcnQgZm9yIHN3aXRjaGluZyBzYW1lIGlucHV0IGJldHdlZW4gY29udHJvbGxlZCBhbmQgbm9uQ29udHJvbGxlZFxyXG4gKiBJZiB0aGF0IGV2ZXIgYmVjb21lcyBhIHJlYWwgaXNzdWUsIHRoZW4gcmUgZGVzaWduIGNvbnRyb2xsZWQgZWxlbWVudHNcclxuICogQ3VycmVudGx5IHVzZXIgbXVzdCBjaG9vc2UgZWl0aGVyIGNvbnRyb2xsZWQgb3Igbm9uLWNvbnRyb2xsZWQgYW5kIHN0aWNrIHdpdGggdGhhdFxyXG4gKi9cclxuZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGlmIChmbGFncyAmIDUxMiAvKiBJbnB1dEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBJbnB1dFdyYXBwZXJfMS5wcm9jZXNzSW5wdXQodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZmxhZ3MgJiAyMDQ4IC8qIFNlbGVjdEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBTZWxlY3RXcmFwcGVyXzEucHJvY2Vzc1NlbGVjdCh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKTtcclxuICAgIH1cclxuICAgIGlmIChmbGFncyAmIDEwMjQgLyogVGV4dGFyZWFFbGVtZW50ICovKSB7XHJcbiAgICAgICAgVGV4dGFyZWFXcmFwcGVyXzEucHJvY2Vzc1RleHRhcmVhKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0VsZW1lbnQgPSBwcm9jZXNzRWxlbWVudDtcclxuZnVuY3Rpb24gaXNDb250cm9sbGVkRm9ybUVsZW1lbnQobmV4dFByb3BzT3JFbXB0eSkge1xyXG4gICAgcmV0dXJuIChuZXh0UHJvcHNPckVtcHR5LnR5cGUgJiYgSW5wdXRXcmFwcGVyXzEuaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSA/ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS5jaGVja2VkKSA6ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS52YWx1ZSk7XHJcbn1cclxuZXhwb3J0cy5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudCA9IGlzQ29udHJvbGxlZEZvcm1FbGVtZW50O1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIGFkZExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuYWRkTGVhZGluZ1NsYXNoID0gZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbn07XG5cbnZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuc3RyaXBMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xufTtcblxudmFyIHN0cmlwUHJlZml4ID0gZXhwb3J0cy5zdHJpcFByZWZpeCA9IGZ1bmN0aW9uIHN0cmlwUHJlZml4KHBhdGgsIHByZWZpeCkge1xuICByZXR1cm4gcGF0aC5pbmRleE9mKHByZWZpeCkgPT09IDAgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59O1xuXG52YXIgc3RyaXBUcmFpbGluZ1NsYXNoID0gZXhwb3J0cy5zdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxudmFyIHBhcnNlUGF0aCA9IGV4cG9ydHMucGFyc2VQYXRoID0gZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICB2YXIgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICBwYXRobmFtZSA9IGRlY29kZVVSSShwYXRobmFtZSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2ggPT09ICc/JyA/ICcnIDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2ggPT09ICcjJyA/ICcnIDogaGFzaFxuICB9O1xufTtcblxudmFyIGNyZWF0ZVBhdGggPSBleHBvcnRzLmNyZWF0ZVBhdGggPSBmdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLFxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG5cblxuICB2YXIgcGF0aCA9IGVuY29kZVVSSShwYXRobmFtZSB8fCAnLycpO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNikuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbmZ1bmN0aW9uIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpIHtcclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoMiAvKiBIdG1sRWxlbWVudCAqLywgJ2EnLCBjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcyk7XHJcbn1cclxuZnVuY3Rpb24gTGluayhwcm9wcywgX2EpIHtcclxuICAgIHZhciByb3V0ZXIgPSBfYS5yb3V0ZXI7XHJcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gcHJvcHMuYWN0aXZlQ2xhc3NOYW1lLCBhY3RpdmVTdHlsZSA9IHByb3BzLmFjdGl2ZVN0eWxlLCBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsIG9uQ2xpY2sgPSBwcm9wcy5vbkNsaWNrLCBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLCB0byA9IHByb3BzLnRvLCBvdGhlclByb3BzID0gX19yZXN0KHByb3BzLCBbXCJhY3RpdmVDbGFzc05hbWVcIiwgXCJhY3RpdmVTdHlsZVwiLCBcImNsYXNzTmFtZVwiLCBcIm9uQ2xpY2tcIiwgXCJjaGlsZHJlblwiLCBcInRvXCJdKTtcclxuICAgIHZhciBjbGFzc05tO1xyXG4gICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGNsYXNzTm0gPSBjbGFzc05hbWU7XHJcbiAgICB9XHJcbiAgICBpZiAoIXJvdXRlcikge1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJzxMaW5rLz4gY29tcG9uZW50IHVzZWQgb3V0c2lkZSBvZiA8Um91dGVyLz4uIEZhbGxiYWNrIHRvIDxhPiB0YWcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG90aGVyUHJvcHMuaHJlZiA9IHRvO1xyXG4gICAgICAgIG90aGVyUHJvcHMub25DbGljayA9IG9uQ2xpY2s7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG4gICAgfVxyXG4gICAgb3RoZXJQcm9wcy5ocmVmID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgPyByb3V0ZXIuY3JlYXRlSHJlZih7IHBhdGhuYW1lOiB0byB9KSA6IHJvdXRlci5sb2NhdGlvbi5iYXNlVXJsID8gcm91dGVyLmxvY2F0aW9uLmJhc2VVcmwgKyB0byA6IHRvO1xyXG4gICAgaWYgKHJvdXRlci5sb2NhdGlvbi5wYXRobmFtZSA9PT0gdG8pIHtcclxuICAgICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTm0gPSAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgYWN0aXZlQ2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aXZlU3R5bGUpIHtcclxuICAgICAgICAgICAgb3RoZXJQcm9wcy5zdHlsZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJvcHMuc3R5bGUsIGFjdGl2ZVN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdGhlclByb3BzLm9uY2xpY2sgPSBmdW5jdGlvbiBuYXZpZ2F0ZShlKSB7XHJcbiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwIHx8IGUuY3RybEtleSB8fCBlLmFsdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgb25DbGljayhlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm91dGVyLnB1c2godG8sIGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gcmVuZGVyTGluayhjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcyk7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gTGluaztcclxuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxudmFyIFJvdXRlckNvbnRleHQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJvdXRlckNvbnRleHQsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZXJDb250ZXh0KHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMubG9jYXRpb24gfHwgIXByb3BzLm1hdGNoZWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiaW5mZXJuby1yb3V0ZXJcIiByZXF1aXJlcyBhIFwibG9jYXRpb25cIiBhbmQgXCJtYXRjaGVkXCIgcHJvcHMgcGFzc2VkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGVyQ29udGV4dC5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJvdXRlcjogdGhpcy5wcm9wcy5yb3V0ZXIgfHwge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXJsOiB0aGlzLnByb3BzLmJhc2VVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IHRoaXMucHJvcHMubG9jYXRpb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgUm91dGVyQ29udGV4dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3BzLm1hdGNoZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJvdXRlckNvbnRleHQ7XHJcbn0oaW5mZXJub19jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlckNvbnRleHQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIHBhdGhfdG9fcmVnZXhwX2VzNl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XHJcbnZhciBjYWNoZSA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBub2RlIGNvbnRhaW5pbmcgb25seSB0aGUgbWF0Y2hlZCBjb21wb25lbnRzXHJcbiAqIEBwYXJhbSByb3V0ZXNcclxuICogQHBhcmFtIGN1cnJlbnRVUkxcclxuICogQHJldHVybnMgeyp9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXRjaChyb3V0ZXMsIGN1cnJlbnRVUkwpIHtcclxuICAgIHZhciBsb2NhdGlvbiA9IHV0aWxzXzEuZ2V0VVJMU3RyaW5nKGN1cnJlbnRVUkwpO1xyXG4gICAgcmV0dXJuIG1hdGNoUm91dGVzKGluZmVybm9fc2hhcmVkXzEudG9BcnJheShyb3V0ZXMpLCBlbmNvZGVVUkkobG9jYXRpb24pLCAnLycpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG1hdGNoO1xyXG4vKipcclxuICogR28gdGhyb3VnaCBldmVyeSByb3V0ZSBhbmQgY3JlYXRlIGEgbmV3IG5vZGVcclxuICogd2l0aCB0aGUgbWF0Y2hlZCBjb21wb25lbnRzXHJcbiAqIEBwYXJhbSBfcm91dGVzXHJcbiAqIEBwYXJhbSBjdXJyZW50VVJMXHJcbiAqIEBwYXJhbSBwYXJlbnRQYXRoXHJcbiAqIEBwYXJhbSByZWRpcmVjdFxyXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbWF0Y2hSb3V0ZXMoX3JvdXRlcywgY3VycmVudFVSTCwgcGFyZW50UGF0aCwgcmVkaXJlY3QpIHtcclxuICAgIGlmIChjdXJyZW50VVJMID09PSB2b2lkIDApIHsgY3VycmVudFVSTCA9ICcvJzsgfVxyXG4gICAgaWYgKHBhcmVudFBhdGggPT09IHZvaWQgMCkgeyBwYXJlbnRQYXRoID0gJy8nOyB9XHJcbiAgICBpZiAocmVkaXJlY3QgPT09IHZvaWQgMCkgeyByZWRpcmVjdCA9IGZhbHNlOyB9XHJcbiAgICB2YXIgcm91dGVzID0gaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KF9yb3V0ZXMpID8gdXRpbHNfMS5mbGF0dGVuKF9yb3V0ZXMpIDogaW5mZXJub19zaGFyZWRfMS50b0FycmF5KF9yb3V0ZXMpO1xyXG4gICAgdmFyIF9hID0gY3VycmVudFVSTC5zcGxpdCgnPycpLCBfYiA9IF9hWzBdLCBwYXRoVG9NYXRjaCA9IF9iID09PSB2b2lkIDAgPyAnLycgOiBfYiwgX2MgPSBfYVsxXSwgc2VhcmNoID0gX2MgPT09IHZvaWQgMCA/ICcnIDogX2M7XHJcbiAgICB2YXIgcGFyYW1zID0gdXRpbHNfMS5tYXBTZWFyY2hQYXJhbXMoc2VhcmNoKTtcclxuICAgIHJvdXRlcy5zb3J0KHV0aWxzXzEucGF0aFJhbmtTb3J0KTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb3V0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgcm91dGUgPSByb3V0ZXNbaV07XHJcbiAgICAgICAgdmFyIHByb3BzID0gcm91dGUucHJvcHMgfHwgdXRpbHNfMS5lbXB0eU9iamVjdDtcclxuICAgICAgICB2YXIgcm91dGVQYXRoID0gcHJvcHMuZnJvbSB8fCBwcm9wcy5wYXRoIHx8ICcvJztcclxuICAgICAgICB2YXIgbG9jYXRpb25fMSA9IHBhcmVudFBhdGggKyB1dGlsc18xLnRvUGFydGlhbFVSTChyb3V0ZVBhdGgsIHBhcmVudFBhdGgpLnJlcGxhY2UoL1xcL1xcLy9nLCAnLycpO1xyXG4gICAgICAgIHZhciBpc0xhc3QgPSB1dGlsc18xLmlzRW1wdHkocHJvcHMuY2hpbGRyZW4pO1xyXG4gICAgICAgIHZhciBtYXRjaEJhc2UgPSBtYXRjaFBhdGgoaXNMYXN0LCBsb2NhdGlvbl8xLCBwYXRoVG9NYXRjaCk7XHJcbiAgICAgICAgaWYgKG1hdGNoQmFzZSkge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgaWYgKHByb3BzLmZyb20pIHtcclxuICAgICAgICAgICAgICAgIHJlZGlyZWN0ID0gcHJvcHMudG87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hDaGlsZCA9IG1hdGNoUm91dGVzKGNoaWxkcmVuLCBjdXJyZW50VVJMLCBsb2NhdGlvbl8xLCByZWRpcmVjdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaENoaWxkLnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25fMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBtYXRjaENoaWxkLnJlZGlyZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gbWF0Y2hDaGlsZC5tYXRjaGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZFByb3BzID0gY2hpbGRyZW4ucHJvcHMucGFyYW1zO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjaGlsZFByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1trZXldID0gY2hpbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IGluZmVybm9fMS5kZWZhdWx0LmNsb25lVk5vZGUocm91dGUsIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtczogaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShwYXJhbXMsIG1hdGNoQmFzZS5wYXJhbXMpLFxyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzEsXHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdDogcmVkaXJlY3QsXHJcbiAgICAgICAgICAgICAgICBtYXRjaGVkOiBtYXRjaGVkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBwYXRoIHRvIGEgcmVnZXgsIGlmIGEgbWF0Y2ggaXMgZm91bmQgdGhlbiB3ZSBleHRyYWN0IHBhcmFtcyBmcm9tIGl0XHJcbiAqIEBwYXJhbSBlbmRcclxuICogQHBhcmFtIHJvdXRlUGF0aFxyXG4gKiBAcGFyYW0gcGF0aFRvTWF0Y2hcclxuICogQHJldHVybnMge2FueX1cclxuICovXHJcbmZ1bmN0aW9uIG1hdGNoUGF0aChlbmQsIHJvdXRlUGF0aCwgcGF0aFRvTWF0Y2gpIHtcclxuICAgIHZhciBrZXkgPSByb3V0ZVBhdGggKyBcInxcIiArIGVuZDtcclxuICAgIHZhciByZWdleHAgPSBjYWNoZS5nZXQoa2V5KTtcclxuICAgIGlmIChyZWdleHAgPT09IHZvaWQgMCkge1xyXG4gICAgICAgIHZhciBrZXlzID0gW107XHJcbiAgICAgICAgcmVnZXhwID0geyBwYXR0ZXJuOiBwYXRoX3RvX3JlZ2V4cF9lczZfMS5kZWZhdWx0KHJvdXRlUGF0aCwga2V5cywgeyBlbmQ6IGVuZCB9KSwga2V5czoga2V5cyB9O1xyXG4gICAgICAgIGNhY2hlLnNldChrZXksIHJlZ2V4cCk7XHJcbiAgICB9XHJcbiAgICB2YXIgbSA9IHJlZ2V4cC5wYXR0ZXJuLmV4ZWMocGF0aFRvTWF0Y2gpO1xyXG4gICAgaWYgKCFtKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICB2YXIgcGF0aCA9IG1bMF07XHJcbiAgICB2YXIgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBtLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XHJcbiAgICAgICAgcGFyYW1zW3JlZ2V4cC5rZXlzW2kgLSAxXS5uYW1lXSA9IHV0aWxzXzEuZGVjb2RlKG1baV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwYXRoOiBwYXRoID09PSAnJyA/ICcvJyA6IHBhdGgsXHJcbiAgICAgICAgcGFyYW1zOiBwYXJhbXNcclxuICAgIH07XHJcbn1cclxuZXhwb3J0cy5tYXRjaFBhdGggPSBtYXRjaFBhdGg7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG5leHBvcnRzLmVtcHR5T2JqZWN0ID0ge307XHJcbmZ1bmN0aW9uIGRlY29kZSh2YWwpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsICE9PSAnc3RyaW5nJyA/IHZhbCA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xyXG59XHJcbmV4cG9ydHMuZGVjb2RlID0gZGVjb2RlO1xyXG5mdW5jdGlvbiBpc0VtcHR5KGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gIWNoaWxkcmVuIHx8ICEoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogT2JqZWN0LmtleXMoY2hpbGRyZW4pKS5sZW5ndGg7XHJcbn1cclxuZXhwb3J0cy5pc0VtcHR5ID0gaXNFbXB0eTtcclxuZnVuY3Rpb24gZmxhdHRlbihvbGRBcnJheSkge1xyXG4gICAgdmFyIG5ld0FycmF5ID0gW107XHJcbiAgICBmbGF0dGVuQXJyYXkob2xkQXJyYXksIG5ld0FycmF5KTtcclxuICAgIHJldHVybiBuZXdBcnJheTtcclxufVxyXG5leHBvcnRzLmZsYXR0ZW4gPSBmbGF0dGVuO1xyXG5mdW5jdGlvbiBnZXRVUkxTdHJpbmcobG9jYXRpb24pIHtcclxuICAgIHJldHVybiBpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nKGxvY2F0aW9uKSA/IGxvY2F0aW9uIDogKGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoKTtcclxufVxyXG5leHBvcnRzLmdldFVSTFN0cmluZyA9IGdldFVSTFN0cmluZztcclxuLyoqXHJcbiAqIE1hcHMgYSBxdWVyeXN0cmluZyB0byBhbiBvYmplY3RcclxuICogU3VwcG9ydHMgYXJyYXlzIGFuZCB1dGYtOCBjaGFyYWN0ZXJzXHJcbiAqIEBwYXJhbSBzZWFyY2hcclxuICogQHJldHVybnMge2FueX1cclxuICovXHJcbmZ1bmN0aW9uIG1hcFNlYXJjaFBhcmFtcyhzZWFyY2gpIHtcclxuICAgIGlmIChzZWFyY2ggPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgLy8gQ3JlYXRlIGFuIG9iamVjdCB3aXRoIG5vIHByb3RvdHlwZVxyXG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICB2YXIgZnJhZ21lbnRzID0gc2VhcmNoLnNwbGl0KCcmJyk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZnJhZ21lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gZnJhZ21lbnRzW2ldO1xyXG4gICAgICAgIHZhciBfYSA9IGZyYWdtZW50LnNwbGl0KCc9JykubWFwKG1hcEZyYWdtZW50KS5tYXAoZGVjb2RlVVJJQ29tcG9uZW50KSwgayA9IF9hWzBdLCB2ID0gX2FbMV07XHJcbiAgICAgICAgaWYgKG1hcFtrXSkge1xyXG4gICAgICAgICAgICBtYXBba10gPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobWFwW2tdKSA/IG1hcFtrXSA6IFttYXBba11dO1xyXG4gICAgICAgICAgICBtYXBba10ucHVzaCh2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcFtrXSA9IHY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hcDtcclxufVxyXG5leHBvcnRzLm1hcFNlYXJjaFBhcmFtcyA9IG1hcFNlYXJjaFBhcmFtcztcclxuLyoqXHJcbiAqIEdldHMgdGhlIHJlbGV2YW50IHBhcnQgb2YgdGhlIFVSTCBmb3IgbWF0Y2hpbmdcclxuICogQHBhcmFtIGZ1bGxVUkxcclxuICogQHBhcmFtIHBhcnRVUkxcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIHRvUGFydGlhbFVSTChmdWxsVVJMLCBwYXJ0VVJMKSB7XHJcbiAgICBpZiAoZnVsbFVSTC5pbmRleE9mKHBhcnRVUkwpID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bGxVUkwuc3Vic3RyKHBhcnRVUkwubGVuZ3RoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdWxsVVJMO1xyXG59XHJcbmV4cG9ydHMudG9QYXJ0aWFsVVJMID0gdG9QYXJ0aWFsVVJMO1xyXG4vKipcclxuICogU2ltdWxhdGVzIC4uLiBvcGVyYXRvciBieSByZXR1cm5pbmcgZmlyc3QgYXJndW1lbnRcclxuICogd2l0aCB0aGUga2V5cyBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50IGV4Y2x1ZGVkXHJcbiAqIEBwYXJhbSBfYXJnc1xyXG4gKiBAcGFyYW0gZXhjbHVkZWRcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzdChfYXJncywgZXhjbHVkZWQpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIF9hcmdzKSB7XHJcbiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2YocCkgPCAwKSB7XHJcbiAgICAgICAgICAgIHRbcF0gPSBfYXJnc1twXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5leHBvcnRzLnJlc3QgPSByZXN0O1xyXG4vKipcclxuICogU29ydHMgYW4gYXJyYXkgYWNjb3JkaW5nIHRvIGl0cyBgcGF0aGAgcHJvcCBsZW5ndGhcclxuICogQHBhcmFtIGFcclxuICogQHBhcmFtIGJcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIHBhdGhSYW5rU29ydChhLCBiKSB7XHJcbiAgICB2YXIgYUF0dHIgPSBhLnByb3BzIHx8IGV4cG9ydHMuZW1wdHlPYmplY3Q7XHJcbiAgICB2YXIgYkF0dHIgPSBiLnByb3BzIHx8IGV4cG9ydHMuZW1wdHlPYmplY3Q7XHJcbiAgICB2YXIgZGlmZiA9IHJhbmsoYkF0dHIucGF0aCkgLSByYW5rKGFBdHRyLnBhdGgpO1xyXG4gICAgcmV0dXJuIGRpZmYgfHwgKChiQXR0ci5wYXRoICYmIGFBdHRyLnBhdGgpID8gKGJBdHRyLnBhdGgubGVuZ3RoIC0gYUF0dHIucGF0aC5sZW5ndGgpIDogMCk7XHJcbn1cclxuZXhwb3J0cy5wYXRoUmFua1NvcnQgPSBwYXRoUmFua1NvcnQ7XHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIHBhcnNpbmcgcXVlcnlzdHJpbmcgYXJyYXlzXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXBGcmFnbWVudChwLCBpc1ZhbCkge1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpc1ZhbCB8IDAgPyBwIDogcC5yZXBsYWNlKCdbXScsICcnKSk7XHJcbn1cclxuZnVuY3Rpb24gc3RyaXAodXJsKSB7XHJcbiAgICByZXR1cm4gdXJsLnJlcGxhY2UoLyheXFwvK3xcXC8rJCkvZywgJycpO1xyXG59XHJcbmZ1bmN0aW9uIHJhbmsodXJsKSB7XHJcbiAgICBpZiAodXJsID09PSB2b2lkIDApIHsgdXJsID0gJyc7IH1cclxuICAgIHJldHVybiAoc3RyaXAodXJsKS5tYXRjaCgvXFwvKy9nKSB8fCAnJykubGVuZ3RoO1xyXG59XHJcbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShvbGRBcnJheSwgbmV3QXJyYXkpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBvbGRBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBpdGVtID0gb2xkQXJyYXlbaV07XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpdGVtKSkge1xyXG4gICAgICAgICAgICBmbGF0dGVuQXJyYXkoaXRlbSwgbmV3QXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBwYXRjaGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxudmFyIGNvbXBvbmVudFBvb2xzID0gbmV3IE1hcCgpO1xyXG52YXIgZWxlbWVudFBvb2xzID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiByZWN5Y2xlRWxlbWVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIHRhZyA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcG9vbHMgPSBlbGVtZW50UG9vbHMuZ2V0KHRhZyk7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgICAgICB2YXIgcG9vbCA9IGtleSA9PT0gbnVsbCA/IHBvb2xzLm5vbktleWVkIDogcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHZhciByZWN5Y2xlZFZOb2RlID0gcG9vbC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHJlY3ljbGVkVk5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoRWxlbWVudChyZWN5Y2xlZFZOb2RlLCB2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdk5vZGUuZG9tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZXhwb3J0cy5yZWN5Y2xlRWxlbWVudCA9IHJlY3ljbGVFbGVtZW50O1xyXG5mdW5jdGlvbiBwb29sRWxlbWVudCh2Tm9kZSkge1xyXG4gICAgdmFyIHRhZyA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIga2V5ID0gdk5vZGUua2V5O1xyXG4gICAgdmFyIHBvb2xzID0gZWxlbWVudFBvb2xzLmdldCh0YWcpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgcG9vbHMgPSB7XHJcbiAgICAgICAgICAgIGtleWVkOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgIG5vbktleWVkOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZWxlbWVudFBvb2xzLnNldCh0YWcsIHBvb2xzKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChrZXkpKSB7XHJcbiAgICAgICAgcG9vbHMubm9uS2V5ZWQucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcG9vbCA9IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHBvb2wgPSBbXTtcclxuICAgICAgICAgICAgcG9vbHMua2V5ZWQuc2V0KGtleSwgcG9vbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvb2wucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wb29sRWxlbWVudCA9IHBvb2xFbGVtZW50O1xyXG5mdW5jdGlvbiByZWN5Y2xlQ29tcG9uZW50KHZOb2RlLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcG9vbHMgPSBjb21wb25lbnRQb29scy5nZXQodHlwZSk7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgICAgICB2YXIgcG9vbCA9IGtleSA9PT0gbnVsbCA/IHBvb2xzLm5vbktleWVkIDogcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHZhciByZWN5Y2xlZFZOb2RlID0gcG9vbC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHJlY3ljbGVkVk5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgICAgICAgICAgICAgIHZhciBmYWlsZWQgPSBwYXRjaGluZ18xLnBhdGNoQ29tcG9uZW50KHJlY3ljbGVkVk5vZGUsIHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmYWlsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdk5vZGUuZG9tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZXhwb3J0cy5yZWN5Y2xlQ29tcG9uZW50ID0gcmVjeWNsZUNvbXBvbmVudDtcclxuZnVuY3Rpb24gcG9vbENvbXBvbmVudCh2Tm9kZSkge1xyXG4gICAgdmFyIGhvb2tzID0gdk5vZGUucmVmO1xyXG4gICAgdmFyIG5vblJlY3ljbGVIb29rcyA9IGhvb2tzICYmIChob29rcy5vbkNvbXBvbmVudFdpbGxNb3VudCB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50V2lsbFVubW91bnQgfHxcclxuICAgICAgICBob29rcy5vbkNvbXBvbmVudERpZE1vdW50IHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlIHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnREaWRVcGRhdGUpO1xyXG4gICAgaWYgKG5vblJlY3ljbGVIb29rcykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciB0eXBlID0gdk5vZGUudHlwZTtcclxuICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICB2YXIgcG9vbHMgPSBjb21wb25lbnRQb29scy5nZXQodHlwZSk7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29scykpIHtcclxuICAgICAgICBwb29scyA9IHtcclxuICAgICAgICAgICAga2V5ZWQ6IG5ldyBNYXAoKSxcclxuICAgICAgICAgICAgbm9uS2V5ZWQ6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb21wb25lbnRQb29scy5zZXQodHlwZSwgcG9vbHMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGtleSkpIHtcclxuICAgICAgICBwb29scy5ub25LZXllZC5wdXNoKHZOb2RlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBwb29sID0gcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbCkpIHtcclxuICAgICAgICAgICAgcG9vbCA9IFtdO1xyXG4gICAgICAgICAgICBwb29scy5rZXllZC5zZXQoa2V5LCBwb29sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcG9vbC5wdXNoKHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBvb2xDb21wb25lbnQgPSBwb29sQ29tcG9uZW50O1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuZnVuY3Rpb24gYXBwbHlLZXkoa2V5LCB2Tm9kZSkge1xyXG4gICAgdk5vZGUua2V5ID0ga2V5O1xyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5S2V5SWZNaXNzaW5nKGtleSwgdk5vZGUpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVtYmVyKGtleSkpIHtcclxuICAgICAgICBrZXkgPSBcIi5cIiArIGtleTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbCh2Tm9kZS5rZXkpIHx8IHZOb2RlLmtleVswXSA9PT0gJy4nKSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcGx5S2V5KGtleSwgdk5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5S2V5UHJlZml4KGtleSwgdk5vZGUpIHtcclxuICAgIHZOb2RlLmtleSA9IGtleSArIHZOb2RlLmtleTtcclxuICAgIHJldHVybiB2Tm9kZTtcclxufVxyXG5mdW5jdGlvbiBfbm9ybWFsaXplVk5vZGVzKG5vZGVzLCByZXN1bHQsIGluZGV4LCBjdXJyZW50S2V5KSB7XHJcbiAgICBmb3IgKHZhciBsZW4gPSBub2Rlcy5sZW5ndGg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XHJcbiAgICAgICAgdmFyIG4gPSBub2Rlc1tpbmRleF07XHJcbiAgICAgICAgdmFyIGtleSA9IGN1cnJlbnRLZXkgKyBcIi5cIiArIGluZGV4O1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobikpIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuKSkge1xyXG4gICAgICAgICAgICAgICAgX25vcm1hbGl6ZVZOb2RlcyhuLCByZXN1bHQsIDAsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFZOb2Rlc18xLmlzVk5vZGUobikgJiYgbi5kb20gfHwgKG4ua2V5ICYmIG4ua2V5WzBdID09PSAnLicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG4ua2V5KSB8fCBuLmtleVswXSA9PT0gJy4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IGFwcGx5S2V5KGtleSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gYXBwbHlLZXlQcmVmaXgoY3VycmVudEtleSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVWTm9kZXMobm9kZXMpIHtcclxuICAgIHZhciBuZXdOb2RlcztcclxuICAgIC8vIHdlIGFzc2lnbiAkIHdoaWNoIGJhc2ljYWxseSBtZWFucyB3ZSd2ZSBmbGFnZ2VkIHRoaXMgYXJyYXkgZm9yIGZ1dHVyZSBub3RlXHJcbiAgICAvLyBpZiBpdCBjb21lcyBiYWNrIGFnYWluLCB3ZSBuZWVkIHRvIGNsb25lIGl0LCBhcyBwZW9wbGUgYXJlIHVzaW5nIGl0XHJcbiAgICAvLyBpbiBhbiBpbW11dGFibGUgd2F5XHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZVxyXG4gICAgaWYgKG5vZGVzWyckJ10gPT09IHRydWUpIHtcclxuICAgICAgICBub2RlcyA9IG5vZGVzLnNsaWNlKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBub2Rlc1snJCddID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIHRzbGludDplbmFibGVcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBuID0gbm9kZXNbaV07XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG4pIHx8IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gKG5ld05vZGVzIHx8IG5vZGVzKS5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgX25vcm1hbGl6ZVZOb2Rlcyhub2RlcywgcmVzdWx0LCBpLCBcIlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG4pKSB7XHJcbiAgICAgICAgICAgIGlmICghbmV3Tm9kZXMpIHtcclxuICAgICAgICAgICAgICAgIG5ld05vZGVzID0gbm9kZXMuc2xpY2UoMCwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Tm9kZXMucHVzaChhcHBseUtleUlmTWlzc2luZyhpLCBWTm9kZXNfMS5jcmVhdGVUZXh0Vk5vZGUobiwgbnVsbCkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKFZOb2Rlc18xLmlzVk5vZGUobikgJiYgbi5kb20gIT09IG51bGwpIHx8IChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChuLmtleSkgJiYgKG4uZmxhZ3MgJiA2NCAvKiBIYXNOb25LZXllZENoaWxkcmVuICovKSA9PT0gMCkpIHtcclxuICAgICAgICAgICAgaWYgKCFuZXdOb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZXMgPSBub2Rlcy5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdOb2Rlcy5wdXNoKGFwcGx5S2V5SWZNaXNzaW5nKGksIFZOb2Rlc18xLmRpcmVjdENsb25lKG4pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5ld05vZGVzKSB7XHJcbiAgICAgICAgICAgIG5ld05vZGVzLnB1c2goYXBwbHlLZXlJZk1pc3NpbmcoaSwgVk5vZGVzXzEuZGlyZWN0Q2xvbmUobikpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Tm9kZXMgfHwgbm9kZXM7XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemVWTm9kZXMgPSBub3JtYWxpemVWTm9kZXM7XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHJldHVybiBub3JtYWxpemVWTm9kZXMoY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikgJiYgY2hpbGRyZW4uZG9tICE9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIFZOb2Rlc18xLmRpcmVjdENsb25lKGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjaGlsZHJlbjtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyh2Tm9kZSwgcHJvcHMsIGNoaWxkcmVuKSB7XHJcbiAgICBpZiAodk5vZGUuZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5jbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIHZOb2RlLmNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgICAgICAgZGVsZXRlIHByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcHMucmVmKSB7XHJcbiAgICAgICAgdk5vZGUucmVmID0gcHJvcHMucmVmO1xyXG4gICAgICAgIGRlbGV0ZSBwcm9wcy5yZWY7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5rZXkpKSB7XHJcbiAgICAgICAgdk5vZGUua2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgIGRlbGV0ZSBwcm9wcy5rZXk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUodHlwZSkge1xyXG4gICAgaWYgKHR5cGUgPT09ICdzdmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIDEyOCAvKiBTdmdFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2lucHV0Jykge1xyXG4gICAgICAgIHJldHVybiA1MTIgLyogSW5wdXRFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3NlbGVjdCcpIHtcclxuICAgICAgICByZXR1cm4gMjA0OCAvKiBTZWxlY3RFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3RleHRhcmVhJykge1xyXG4gICAgICAgIHJldHVybiAxMDI0IC8qIFRleHRhcmVhRWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdtZWRpYScpIHtcclxuICAgICAgICByZXR1cm4gMjU2IC8qIE1lZGlhRWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIHJldHVybiAyIC8qIEh0bWxFbGVtZW50ICovO1xyXG59XHJcbmV4cG9ydHMuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUgPSBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTtcclxuZnVuY3Rpb24gbm9ybWFsaXplKHZOb2RlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgLy8gY29udmVydCBhIHdyb25nbHkgY3JlYXRlZCB0eXBlIGJhY2sgdG8gZWxlbWVudFxyXG4gICAgLy8gUHJpbWl0aXZlIG5vZGUgZG9lc24ndCBoYXZlIGRlZmF1bHRQcm9wcywgb25seSBDb21wb25lbnRcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IHByb3BzXHJcbiAgICAgICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0UHJvcHMpKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzID0gdk5vZGUucHJvcHMgPSBkZWZhdWx0UHJvcHM7IC8vIENyZWF0ZSBuZXcgb2JqZWN0IGlmIG9ubHkgZGVmYXVsdFByb3BzIGdpdmVuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHByb3BzW3Byb3BdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1twcm9wXSA9IGRlZmF1bHRQcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcodHlwZSkpIHtcclxuICAgICAgICAgICAgdk5vZGUuZmxhZ3MgPSBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSh0eXBlKTtcclxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIG5vcm1hbGl6ZVByb3BzKHZOb2RlLCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQocHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4ocHJvcHMuY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdk5vZGUuY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAvLyBUaGlzIGNvZGUgd2lsbCBiZSBzdHJpcHBlZCBvdXQgZnJvbSBwcm9kdWN0aW9uIENPREVcclxuICAgICAgICAvLyBJdCBoZWxwcyB1c2VycyB0byB0cmFjayBlcnJvcnMgaW4gdGhlaXIgYXBwbGljYXRpb25zLlxyXG4gICAgICAgIHZhciB2ZXJpZnlLZXlzID0gZnVuY3Rpb24gKHZOb2Rlcykge1xyXG4gICAgICAgICAgICB2YXIga2V5VmFsdWVzID0gdk5vZGVzLm1hcChmdW5jdGlvbiAodm5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBrZXlWYWx1ZXMuc29tZShmdW5jdGlvbiAoaXRlbSwgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzRHVwbGljYXRlID0ga2V5VmFsdWVzLmluZGV4T2YoaXRlbSkgIT09IGlkeDtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNEdXBsaWNhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gbm9ybWFsaXNhdGlvbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCBzYW1lIGtleSwgYWxsIGtleXMgbXVzdCBiZSB1bmlxdWUgd2l0aGluIGl0cyBzaWJsaW5ncy4gRHVwbGljYXRlZCBrZXkgaXM6JyArIGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc0R1cGxpY2F0ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodk5vZGUuY2hpbGRyZW4gJiYgQXJyYXkuaXNBcnJheSh2Tm9kZS5jaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdmVyaWZ5S2V5cyh2Tm9kZS5jaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubm9ybWFsaXplID0gbm9ybWFsaXplO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblxuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChmYWxzZSkge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQmVzbHVpdCA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIEJlc2x1aXQgPSBleHBvcnRzLkJlc2x1aXQgPSBmdW5jdGlvbiBCZXNsdWl0KCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIkJlc2x1aXRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiVWl0IGhldCB3ZXJrIGt1bm5lbiB3ZSBiZXNsdWl0ZW4gZGF0IGRlIGhpXFx4RUJyYXJjaGllIHZhbiBkZSBSb21laW5lbiBnb2VkIGluIGVsa2FhciB6YXQgYWFuZ2V6aWVuIGllZGVyZWVuIHppam4gcGxhYXRzIGtlbmRlIGVuIGVyIHJlc3BlY3QgZW4gYWFuemllbiB3YXMuIERvb3IgZGV6ZSBvcmdhbmlzYXRpZSB3YXMgaGV0IFJvbWVpbnNlIGxlZ2VyIGVlbiB2YW4gZGUgc3VjY2Vzdm9sc3RlIGxlZ2VycyB1aXQgZGllIHRpamQuIFdhbm5lZXIgd2UgaGV0IGh1aWRpZ2UgbGVnZXIgdmVyZ2VsaWprZW4gbWV0IGhldCBSb21laW5zZSBzdGVsbGVuIHdlIHZhc3QgZGF0IG9uemUgaGlcXHhFQnJhcmNoaWUgZWVuIHplZXIgdWl0Z2VicmVpZGUgdmVyc2llIGlzIHZhbiBkaWUgdmFuIGhldCBSb21laW5zZSBsZWdlci4gRXIgemlqbiBtZWVyIG9uZGVydmVyZGVsaW5nZW4gZW4gbWVlciBjb21wb25lbnRlbiBkYW4gYmlqIGRlIFJvbWVpbmVuLCBtYWFyIGRpdCBpcyB0ZSB3aWp0ZW4gYWFuIHRlY2hub2xvZ2lzY2hlIGVuIHdldGVuc2NoYXBwZWxpamtlIHZvb3J1aXRnYW5nLiBabyB6aWpuIGVyIG51IHZsaWVndHVpZ2VuLCB0YW5rcywgamVlcHMgZW4gdmxpZWdkZWtzY2hlcGVuIHdhdCBlcnZvb3Igem9yZ3QgZGF0IGllZGVyZSBwZXJzb29uIGJpbm5lbiBoZXQgbGVnZXIgemlqbiBzcGVjaWZpZWtlIGZ1bmN0aWUgaGVlZnQgZW4gZXIgZHVzIG1lZXIgdmVyZGVlbGRoZWlkIGlzLiBPcCBoZXQgdmxhayB2YW4gYmV3YXBlbmluZyB3YXJlbiBkZSBSb21laW5lbiBvb2sgZ29lZCB2b29yemllbi4gWmUgd2FyZW4gdmVlbCBiZXppZyBtZXQgaGV0IG9udHdpa2tlbGVuIHZhbiBuaWV1d2Ugd2FwZW5zIG9tIGh1biB2aWphbmRlbiB0ZSBrdW5uZW4gdmVycmFzc2VuLiBIdW4gd2FwZW5zIHdhcmVuIGVmZmljaVxceEVCbnQgZW4gZG9lbHRyZWZmZW5kIHdhYXJkb29yIHplIHZlbGUgdmVsZHNsYWdlbiBoZWJiZW4gZ2V3b25uZW4uIFdhbm5lZXIgd2UgaGV0IFJvbWVpbnNlIGxlZ2VyIG1ldCBoZXQgaHVpZGlnZSB2ZXJnZWxpamtlbiBzdGVsbGVuIHdlIHZhc3QgZGF0IGFsbGVzIGlzIHZlcmFuZGVyZC4gRGl0IGlzIHdlZXIgdGUgd2lqdGVuIGFhbiB0ZWNobm9sb2dpc2NoZSBlbiB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZy4gSW4gaHVpZGlnZSB0aWpkZW4gd29yZHQgZXIgbmlldCBtZWVyIGdlc3RyZWRlbiBtZXQgendhYXJkZW4sIHNjaGlsZGVuIGVuIHNwZXJlbiwgbWFhciBtZXQgbWFjaGluZWdld2VyZW4sIGxhbmdlYWZzdGFuZHNyYWtldHRlbiBlbiBjb21wdXRlcnMuIERlIFJvbWVpbmVuIHdhcmVuIG9uZ2V0d2lqZmVsZCBkZSBncm9uZGxlZ2dlcnMgdmFuIHZlcnNjaGVpZGVuZSBsZWdlcnMgZGllIGxhdGVyIHppam4gb250c3RhYW4sIG1hYXIgc3BvcmVuIHZhbiBodW4gd2FwZW5zIHppam4gaW4gaGV0IGh1aWRpZ2UgbGVnZXIgbmlldCBtZWVyIHRlIHZpbmRlbi4gSGV0IFJvbWVpbnNlIGxlZ2VyIHdhcyBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRlIGdlc2NoaWVkZW5pcy4gRGl0IGlzIHRlIHdpanRlbiBhYW4gaHVuIGlqemVyc3RlcmtlIGRpc2NpcGxpbmUgZW4gZ29lZCBiZWRhY2h0ZSB0YWN0aWVrZW4gZW4gYWFudmFsc3BsYW5uZW4uIERlIFJvbWVpbmVuIGJlZ3JlcGVuIG9vayB6ZWVyIGdvZWQgZGF0IGVlbiB2ZWxkc2xhZyBuaWV0IGVua2VsIGZ5c2llayB3ZXJkIGdlc3RyZWRlbiwgbWFhciBvb2sgbWVudGFhbC4gWmUgd2lzdGVuIGdvZWQgaG9lIHplIGhldCBtb3JlZWwgYmlqIGh1biB0cm9lcGVuIGhvb2cgbW9lc3RlbiBob3VkZW4gdGVyd2lqbCB6ZSBkYXQgdmFuIGRlIHZpamFuZCB2ZXJ6d2FrdGVuLiBIZXQgdmVybGllcyB2YW4gZWVuIHZlbGRzbGFnIHZvbmQgemlqbiBvb3J6YWFrIG1lZXN0YWwgYmlqIHNsZWNodCBsZWlkZXJzY2hhcC4gRGUgdGFjdGlla2VuIHZhbiBoZXQgaHVpZGlnZSBsZWdlciB6aWpuIHplZXIgc3RlcmsgdmVyYW5kZXJkIGFhbmdlemllbiBhbGxlcyB2YW5vcCBlZW4gbGFuZ2VyZSBhZnN0YW5kIGdlYmV1cnQgZW4gZXIgbWVlciBlbiBtZWVyIHZpYSByb2JvdHMgd29yZHQgZ2V3ZXJrdC4gVnJvZWdlciB3YXJlbiBiaWpuYSBhbGxlIGdldmVjaHRlbiBtYW4gdG90IG1hbiBnZXZlY2h0ZW4gd2FhcmRvb3IgbWVuIHRhY3RpZWtlbiBrb24gdG9lcGFzc2VuIHpvYWxzIGJpanZvb3JiZWVsZDogcnVpdGVycyBsYW5ncyBkZSBmbGFua2VuIGxhdGVuIGlua29tZW4uIFRlZ2Vud29vcmRpZyBoZWVmdCBkaXQgZ2VlbiBudXQgbWVlciBhYW5nZXppZW4gaGV0IGFhbnRhbCBzb2xkYXRlbiB3YWFybWVlIG1lbiBvb3Jsb2cgdm9lcnQgc3RlcmsgdmVybWluZGVyZCBpcy5cIildKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQmV3YXBlbmluZyA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIEJld2FwZW5pbmcgPSBleHBvcnRzLkJld2FwZW5pbmcgPSBmdW5jdGlvbiBCZXdhcGVuaW5nKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIkhvZSB3YXMgZGUgYmV3YXBlbmluZyBiaWogZGUgUm9tZWluZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiR2VkdXJlbmRlIGVua2VsZSBlZXV3ZW4gdG90IG9wIGRlIGRhZyB2YW4gdmFuZGFhZyBvbnRzdG9uZCBlciBlZW4gdm9vcnRkdXJlbmRlIG9udHdpa2tlbGluZyB2YW4gYmV3YXBlbmluZy4gRGl0IGhlZWZ0IHppY2gga3VubmVuIHZlcndlemVubGlqa2VuIGRvb3IgZGUgdGVjaG5vbG9naXNjaGUgdm9vcnVpdGdhbmcgbWV0IGFscyBnZXZvbGcgZGF0IGRlIGtyYWNodCB2YW4gd2FwZW5zIGFhbnppZW5saWprIGlzIHZlcmdyb290LiBNYWFyIG9tIGRlIGV2b2x1dGllIHZhbiBkZSBiZXdhcGVuaW5nIHdhYXIgdGUgbmVtZW4sIG1vZXRlbiB3ZSB0ZXJ1Z2JsaWtrZW4gdGVuIHRpamRlIHZhbiBoZXQgUm9tZWluc2UgaW1wZXJpdW0gd2FhciBkZSBiYXNpcyB3ZXJkIGdlbGVnZC5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIkRyYWFnYmFyZSBiZXdhcGVuaW5nXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBbXCJWZWxlIGtpbmRlcmVuIG9mIGpvbmdlcmVuIGxlemVuIHdlbGVlbnMgc3RyaXBzIHpvYWxzIEFzdGVyaXggZW4gT2JlbGl4IG9mIG1vZXRlbiBvcCBzY2hvb2wgZW5rZWxlIHdlcmtqZXMgbWFrZW4gb210cmVudCBkZSBSb21laW5zZSBiZXNjaGF2aW5nLiBIaWVyZG9vciBrcmlqZ2VuIHplIGVlbiBiZXBhYWxkIGJlZWxkIG92ZXIgaGV0IFJvbWVpbnNlIGxldmVuIGVuIG1ldCB3ZWxrZSB3YXBlbnMgZGUgc29sZGF0ZW4gdGUgd2VyayBnaW5nZW4uIEhldCBhbGdlbWVuZSBiZWVsZCBkaWUgd2lqIGhpZXJ2YW4gaGViYmVuLCBpcyBkYXQgZWxrZSBzb2xkYWF0IGVlbiBhYW52YWxzd2FwZW4gZW4gZWVuIHZlcmRlZGlnaW5nc3dhcGVuIHRlciBiZXNjaGlra2luZyBoYWQgZW4gZGF0IGllZGVyZSBzb2xkYWF0IHZvb3J6aWVuIHdlcmQgdmFuIHN0b2VyZSB2ZWNodGVyc2tsZWRpai4gSGllcmJpaiB6aWpuIHZhYWsgaGV0IHp3YWFyZCBlbiBkZSBzcGVlciBkZSBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbnMgZW4gdGVyIHZlcmRlZGlnaW5nIGdlYnJ1aWt0ZW4gemUgaGV0IHNjaGlsZC4gT20gemljaCB0ZSBiZXNjaGVybWVuIGRyb2VnZW4gemUgdmFhayBlZW4gaGFybmFzLiBPZiBkZXplIGFsZ2VtZW5lIHZvb3JzdGVsbGluZyBhbHRpamQgd2FhciBpcywgd29yZHQgaW4gZGl0IGhvb2Zkc3R1ayBvbmRlcnpvY2h0LlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJCZXdhcGVuaW5nIGJpaiBSb21laW5zZSBsZWdpb25haXJzIGhpZWxkZW4gdGVsa2VucyB2ZXJiYW5kIG1ldCBkZSByYW5nIHdhYXJ0b2UgemUgYmVob29yZGVuLiBCZXdhcGVuaW5nIGlzIG5ldCB6b2FscyBkZSByYW5nZW4gaW4gdmVyc2NoaWxsZW5kZSBncm9lcGVuIHRlIHZlcmRlbGVuLiBCZWdpbm5lbiBkb2VuIHdlIG1ldCBkZSB2ZXJzY2hpbGxlbmRlIHRpamRwZXJrZW4gZ2FhbmRlIHZhbiAxMDUgdi5DaHIuIHRvdCBlaW5kZSAyZGUgZWV1dy4gSGllcmJpaiB3b3JkdCBlZW4gbmlldXcgdGlqZHBlcmsgdGVsa2VucyBpbmdlbGVpZCBiaWogb250c3RhYW4gdmFuIG5pZXV3ZSBlbiBiZWxhbmdyaWprZSBiZXdhcGVuaW5nLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJCaWogZGUgZWVyc3RlIGdlbmVyYXRpZSB3YXMgZGUgZ2xhZGl1cyAoPSB6d2FhcmQpIGhldCBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbi4gRGV6ZSB3ZXJkIGFsdGlqZCBnZWJydWlrdCBpbiBjb21iaW5hdGllIG1ldCBkZSBhc3BpcyAoPSBzY2hpbGQpIHdhYXJtZWUgemUgemljaCBrb25kZW4gdmVyZGVkaWdlbi4gSW4gaGV0IGJlZ2luIGhhZCBkZSBnbGFkaXVzIGVlbiBrb3J0ZSBsZW5ndGUsIGdlXFx4RUZuc3BpcmVlcmQgb3AgaGV0IG1vZGVsIHZhbiBkZSBHcmlla3NlIHhpcGhvcy4gSGV0IHNjaGlsZCBvZiBkZSB6b2dlbmFhbWRlIGFzcGlzIHdlcmQgdmVydmFhcmRpZ2QgdWl0IGhvdXQgbWV0IHRlbGtlbnMgZWVuIGJyb256ZW4gcmFuZCB0ZXIgdmVyc3RlcmtpbmcuIERlIHZvcm0gdmFuIGhldCBzY2hpbGQgd2FzIHJvbmQgZW4gcmVsYXRpZWYgZ3Jvb3QgdGVyIHZlcmdlbGlqa2luZyBtZXQgd2F0IGVyIG5vZyB6b3Ugdm9sZ2VuLiBPb2sgaGllcmJpaiBoZWJiZW4gZGUgUm9tZWluZW4gemljaCB3ZWVyIGxhdGVuIGluc3BpcmVyZW4gZG9vciBkZSBHcmlla2VuLiBCaWogZGUgdm9sZ2VuZGUgZ2VuZXJhdGllIHdpbGRlbiBkZSBSb21laW5lbiBodW4gZWlnZW4gc3RpamwgY3JlXFx4RUJyZW4gd2FhcmluIEdyaWVrc2UsIEtlbHRpc2NoZSBlbiBJdGFsaXNjaGUgaW52bG9lZGVuIHZlcndlcmt0IHdlcmRlbi4gWm8gY3JlXFx4RUJlcmRlbiB6ZSBkZSBzY3V0dW0gYWxzIHZlcnZhbmdpbmcgdmFuIGRlIGFzcGlzLiBIZXQgaGFkIGVlbiBvdmFsZSB2b3JtIGVuIGJlc2NoaWt0ZSBvdmVyIHRhbCB2YW4gdm9vcmRlbGVuLiBabyBpcyBoZXQgc2NoaWxkIGR1dXJ6YW1lciBlbiBsaWNodGVyIGRhbiBkZSB2b3JpZ2UgZW4gaGV0IGJlc2NoaWt0ZSBvdmVyIGVlbiBzY2hpbGRrbm9wICg9IG1ldGFsZW4gYm9sIGRpZSB6aWNoIGNlbnRyYWFsIG9wIGhldCBzY2hpbGQgYmV2b25kKS4gRGUgZnVuY3RpZSB2YW4gZGllIGtub3Agd2FzIG1lZXIgc2NoYWRlIHRvZSBicmVuZ2VuIGFhbiBkZSB2aWphbmQuIERlIGFzcGlzIHdlcmQgYWx0aWpkIGluIGRlIGxpbmtlcmhhbmQgZ2VkcmFnZW4gd2FhcmRvb3IgemUgaGV0IHp3YWFyZCBpbiBkZSByZWNodGVyaGFuZCBrb25kZW4gbGVnZ2VuLiBEZSByZWRlIGhpZXJ2b29yIHdhcyBkYXQgZGUgbWVlc3RlIFJvbWVpbnNlIHNvbGRhdGVuIHJlY2h0c2hhbmRpZyB3YXJlbiB3YWFyZG9vciB6ZSBtZWVyIGtyYWNodCBoYWRkZW4gaW4gaHVuIHJlY2h0ZXJhcm0gd2F0IG5vb2R6YWtlbGlqayB3YXMgb20gYnJ1dXNrZSBiZXdlZ2luZ2VuIHRlIG1ha2VuIG1ldCBkZSBnbGFkaXVzLiBFbmlnZSB0aWpkIGxhdGVyIGdpbmdlbiB6ZSBnZWJydWlrIG1ha2VuIHZhbiBlZW4gaWV0cyBsYW5nZXIgendhYXJkIHdhdCBvdmVyZ2Vub21lbiB3YXMgdmFuIGRlIHZpamFuZCB0aWpkZW5zIGRlIFB1bmlzY2hlIG9vcmxvZ2VuLiBEaWV6ZWxmZGUgZ2VuZXJhdGllIGdpbmcgemljaCBvb2sgcmljaHRlbiBvcCBkZSBvbnR3aWtrZWxpbmcgdmFuIHN0b290c3BlcmVuICg9IGVlcnN0ZSB2ZXJzaWUgc3BlcmVuKS4gRGV6ZSBoYWRkZW4gb25nZXZlZXIgZGV6ZWxmZGUgZnVuY3RpZSBhbHMgaGV0IHp3YWFyZC5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkhldCBlbmlnZSB2ZXJzY2hpbCB3YXMgZGF0IHplIG5vZyBsYW5nZXIgd2FyZW4uIFplIHdhcmVuIGluIGhldCBiZWdpbiBuaWV0IGJlZG9lbGQgb20gd2VnIHRlIGdvb2llbiBpbiBkZSByaWNodGluZyB2YW4gZGUgdmlqYW5kLiBTdG9vdHNwZXJlbiB3ZXJkZW4gZ2VicnVpa3QgZG9vciBkZSBoYXN0YXRpICg9IGxlZ2lvbmFyaWkgdmFuIGhldCBlZXJzdGUgbWFuaXBlbCkuIFVpdGVpbmRlbGlqayB3ZXJkIGRlIHN0b290c3BlZXIgbWluZGVyIGdlYnJ1aWt0IGRvb3IgZGUgbGVnaW9uYWlycyBlbiBldm9sdWVlcmRlIG1lbiBuYWFyIGhldCBvbnR3aWtrZWxlbiB2YW4gZWVuIGxpY2h0ZXJlIHdlcnBzcGVlciBubCBkZSBwaWx1bS4gRGl0IHJlc3VsdGVlcmRlIGluIGVlbiBuaWV1d2UgZ2VuZXJhdGllLiBFbGtlIGxlZ2F0dXMgYmVzY2hpa3RlIG92ZXIgMiBwaWxhIHdhYXJkb29yIHplIGJpaiBkZSBzdGFydCB2YW4gZWVuIGdldmVjaHQgZGUgdmlqYW5kIG9ubWlkZGVsbGlqayBrb25kZW4gdmVyendha2tlbi4gRGUgcGlsdW0gd2FzIHplbGZzIHpvIGdlbWFha3QgZGF0IGRlIHB1bnQgdmFuIGRlIHNwZWVyIGJpaiBib3RzaW5nIGtyb20gZ2luZyBzdGFhbiBvZiBhZmJyYWsgd2FhcmRvb3IgZGUgdmlqYW5kIGRlIHNwZWVyIG5pZXQga29uIGhlcmdlYnJ1aWtlbi4gU3RlbCBkYXQgZGUgcGlsdW0gaW4gZWVuIHNjaGlsZCBiZWxhbmRkZSwgZGFuIHdhcyBoZXQgZ2V2b2xnIGRhdCBkZSB6d2FyZSBhY2h0ZXJrYW50IHZhbiBkZSBzcGVlciBuYWFyIGJlbmVkZW4gemFrdGUgd2FhcmRvb3IgaGV0IG9ubW9nZWxpamsgd2FzIG9tIGVyIHZlcmRlciBtZWUgcm9uZCB0ZSBsb3Blbi4gSGllcmRvb3Igd2FzIGRlIHZpamFuZCB2YWFrIGdlbm9vZHphYWt0IG9tIHpvbmRlciBzY2hpbGQgdmVyZGVyIHRlIHZlY2h0ZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkluIGRlIDNkZSBlZXV3IGt3YW0gZXIgb3BuaWV1dyBlZW4gb3B2YWxsZW5kZSB2b29ydWl0Z2FuZywgbWFhciBkaXRtYWFsIG9wIGhldCBnZWJpZWQgdmFuIHZlcmRlZGlnaW5nLiBEZSBiZWtlbmRlIHNjdXR1bSB3ZXJkIGFhbmdlcGFzdCBlbiB6byBvbnRzdG9uZCBkZSBzcGljdWx1bS4gSGV0IHdhcyBlZW4gdmxhayBzY2hpbGQsIG5vZyBsaWNodGVyIGVuIG5ldCB6b2FscyBkZSBzY3V0dW0gbWV0IGVlbiBzbGFna25vcCBpbiBoZXQgbWlkZGVuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJEZSBiZXdhcGVuaW5nIHZhbiBkZSBodWxwdHJvZXBlbiBpcyBvb2sgb3AgdGUgZGVsZW4gaW4gZW5rZWxlIGdyb2VwZW4uIFRpamRlbnMgZGUgZWVyc3RlIGphcmVuIHZhbiBkZSBlcXVpdGF0dXMgd2VyZCBkZSBnbGFkaXVzIGdlYnJ1aWt0IG9tIGRlIHZpamFuZCBhYW4gdGUgdmFsbGVuIHZhbm9wIGhldCBwYWFyZC4gRG9vcmRhdCBoZXQgendhYXJkIGtvcnQgd2FzLCBtYWFrdGVuIHplIGthbnMgb20gc25lbCB2YW4gaGV0IHBhYXJkIHRlIHZhbGxlbi4gSW4gZGUgbG9vcCB2YW4gZGUgM2RlIGVldXcgd2FzIG1lbiBlcmluIGdlc2xhYWdkIGVlbiBsYW5nZXJlIHZlcnNpZSB2YW4gZGUgZ2xhZGl1cyB0ZSBjcmVcXHhFQnJlbiBubCBkZSBzcGF0aGEuIERlIHNhZ2l0dGFyaWkgbWFrZW4gZ2VicnVpayB2YW4gZGUgc2FnaXR0YSAoPSBwaWpsZW5ib29nKS4gRGUgZ2Vib2dlbiB2b3JtIHZhbiBkZSBzYWdpdHRhIHdlcmQgZ2V2b3JtZCBkb29yIGJlZ2luIGVuIGVpbmRlIGFhbiB0ZSBzcGFubmVuIG1ldCBlZW4gc3RldmlnZSwgc3RyYWtrZSBkcmFhZC4gSGllcm1lZSBrb25kZW4gemUgaHVuIHBpamxlbiBvdmVyIGVlbiBncm90ZSBhZnN0YW5kIHNjaGlldGVuLiBUb3Qgc2xvdCBoYW50ZXJlbiBkZSBmdW5kaXRvcmVzIGRlIGZ1bmRhLiBEaXQgaXMgZWVuIHNsaW5nZXIgd2FhcmluIHplIGxvZGVuIGtvZ2VscyBsZWdkZSBvbSBkaWUgdmVydm9sZ2VucyBuYWFyIGRlIHZpamFuZCB0ZSBnb29pZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIlVpdCBhbCBkZXplIGdlZ2V2ZW5zIHdldGVuIHdlIGRhdCBoZXQgYWxnZW1lbmUgYmVlbGQgZ3JvdGVuZGVlbHMganVpc3QgaXMuIE1hYXIgamUga2FuIG9ubW9nZWxpamsgYmVzbHVpdGVuIGRhdCBqZSBtZXQgZGF0IGJlZWxkIGFsbGVzIHdlZXQgb3ZlciBkZSBiZXdhcGVuaW5nIHZhbiBSb21laW5zZSBzb2xkYXRlbi4gTmFhc3QgaGV0IHp3YWFyZCwgZGUgc3BlZXIgZW4gaGV0IHNjaGlsZCB3YXJlbiBlciBub2cgdGFsIHZhbiBhbmRlcmUgYWFudmFscy0gZW4gdmVyZGVkaWdpbmdzd2FwZW5zIGRpZSBnZWJydWlrdCB3ZXJkZW4gdGlqZGVucyBkZSBnZXZlY2h0ZW4gdGVuIHRpamRlIHZhbiBkZSBSb21laW5lbi5cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGFibGVcIiwgXCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoZWFkXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwiQmV3YXBlbmluZyBsZWdpb25haXJzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJhYW52YWxzd2FwZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcInZlcmRlZGluZ2luZ3N3YXBlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIpXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIjFzdGUgZ2VuZXJhdGllXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJnbGFkaXVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJhc3BpYVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiR2VuZXJhdGllcyBnYWFuZGUgdmFuYWYgXFx4QjEgM2RlIGVldXcgdi5DaHIuIFxcdTIwMTMgM2RlIGVldXdcIiwge1xuICAgIFwicm93c3BhblwiOiBcIjRcIlxuICB9KV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIjJkZSBnZW5lcmF0aWVcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImhhc3RhICsgZ2xhZGl1c1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwic2N1dHVtXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiM2RlIGdlbmVyYXRpZVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwicGlsdW0gKyBnbGFkaXVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzY3V0dW1cIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCI0ZGUgZ2VuZXJhdGllXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzcGF0aGFcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcInNwaWN1bHVtXCIpXSldKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0YWJsZVwiLCBcImJld2FwZW5pbmctbGVnaW9uLXRhYmxlXCIsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhlYWRcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJCZXdhcGVuaW5nIGh1bHB0cm9lcGVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJhYW52YWxzd2FwZW5zXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJ2ZXJkZWRpZ2luZ3N3YXBlbnNcIildKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZXF1aXRhdHVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzcGF0aGFcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIlZlcmRlZGlnaW5nIGtvbXQgZ3JvdGVuZGVlbHMgb3ZlcmVlbiBtZXQgZGllIHZhbiBkZSBsZWdpb25haXJzXCIsIHtcbiAgICBcInJvd3NwYW5cIjogXCIzXCJcbiAgfSldKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzYWdpdHRhcmlpXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzYWdpdHRhXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZnVuZGl0b3Jlc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZnVuZGFcIildKV0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJBYW5nZXppZW4gZXIgd2VpbmlnIGJldHJvdXdiYXJlIGJyb25uZW4gemlqbiBvdmVyIGRlIGV4YWN0ZSBkYXRhJ3MgaS52Lm0uIGhldCBvbnRzdGFhbiB2YW4gcmVlZHMgdmVybWVsZGUgYmV3YXBlbmluZywgd2VyZCBkZSBjaHJvbm9sb2dpc2NoZSB2b2xnb3JkZSB2YW4gaGV0IG9udHN0YWFuIHdlZXJnZWdldmVuIGEuZC5oLnYuIGdlbmVyYXRpZXMuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJPb3Jsb2dzdHVpZ2VuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIlRlbnNsb3R0ZSBiZXNwcmVrZW4gd2UgaW4gZGl0IGhvb2Zkc3R1ayBkZSBSb21laW5zZSBvb3Jsb2dzdHVpZ2VuIGFhbmdlemllbiBoZXQgZWVuIGJlbGFuZ3JpamsgYXNwZWN0IHdhcyB2YW4gZGUgZ2V2ZWNodGVuLiBIaWVyYmlqIGdhYW4gd2UgZWVuIG9wZGVsaW5nIG1ha2VuIHR1c3NlbiBkZSB0b3JtZW50YSAoPSBhYW52YWxzd2FwZW5zKSBlbiBlbmtlbGUgYW5kZXJlIG9vcmxvZ3N2b2VydHVpZ2VuIHRlciB2ZXJkZWRpZ2luZy5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoNFwiLCBudWxsLCBcIkFhbnZhbHN3YXBlbnNcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRGUgYWFudmFsc3dhcGVucyB3YXJlbiB2ZWVsIGtyYWNodGlnZXIgZGFuIGRlZ2VuZSBkaWUgemUgb3AgemFrIGRyb2VnZW4uIERlIGJla2VuZHN0ZSBhYW52YWxzbWFjaGluZXMgd2FyZW4gZGUgY2F0YXB1bHRhZSAoPSBrYXRhcHVsdGVuKSwgb25kZXIgdGUgdmVyZGVsZW4gaW4gZW5rZWxlIGNhdGVnb3JpZVxceEVCbi4gWmUgd2VyZGVuIGdlYnJ1aWt0IG9tIHByb2plY3RpZWxlbiB3ZWcgdGUgc2NoaWV0ZW4gbS5iLnYuIG1lY2hhbmlzY2hlIGVuZXJnaWUuIERlIGVlcnN0ZSBrYXRhcHVsdGVuIHNjaG90ZW4gaHVuIHBpamxlbiBpbiBiaWpuYSBob3Jpem9udGFsZSByaWNodGluZyB3YWFyZG9vciBkZSBhZnN0YW5kIGRpZSB6ZSBrb25kZW4gYWZsZWdnZW4gbmlldCBhbCB0ZSBzdWNjZXN2b2wgd2FzLiBEZSBSb21laW5zZSBpbmdlbmlldXJzIHZhbiBkaWUgdGlqZCBnaW5nZW4gZGFuIHpvZWtlbiBuYWFyIG1ldGhvZGVzIG9tIGhldCByZWVkcyB2ZXJtZWxkZSBwcm9ibGVlbSBvcCB0ZSBsb3NzZW4uIEhpZXJ1aXQgb250c3RvbmQgZGUgYmFsbGlzdGEuIERlemUga2F0YXB1bHQgaGFkIHR1c3NlbiBkZSAyIGhvcml6b250YWFsIHNjaHVpbiBnZXBsYWF0c3RlIGJhbGtlbiBlZW4gZ2VzcGFubmVuIHRvdXcuIE9uZGVyIGhldCB0b3V3IGJldm9uZCB6aWNoIGVlbiBoYWx2ZSBjaWxpbmRlciB3YWFyaW4gaGV0IHByb2plY3RpZWwgd2VyZCBnZWxlZ2QuIERlemUgaGFsdmUgY2lsaW5kZXIgd2VyZCBhbHRpamQgbmFhciBib3ZlbiBnZXJpY2h0IGVuIGRlIGhvZWsgd2FhcmluIGhldCB6aWNoIGJldm9uZCBrb25kZW4gemUgYmlqc3R1cmVuIGluZGllbiBub2RpZy4gSGV0IHdhcyBkdXMgbmlldCB6byBkYXQgYmFsbGlzdGEncyBlZW4gdmFzdGUgaG9layBtZWVrcmVnZW4gem9hbHMgYmlqIGRlIGVlcnN0ZSB2ZXJzaWVzIHZhbiBkZSBrYXRhcHVsdGVuLiBEb29yIGRpZSByZWdlbGJhcmUgaG9layBrb25kZW4gemUgaHVuIHBpamxlbiBvdmVyIGVlbiBhZnN0YW5kIHZhbiA0MDAgbWV0ZXIgc2NoaWV0ZW4uIE5ldCB6b2FscyBiaWogZGUgb3Vkc3RlIGthdGFwdWx0ZW4gd2FyZW4gZXIgdmVlbCBzb2xkYXRlbiAoXFx4QjE0KSBub2RpZyBvbSBoZXQgaW4gZ2VicnVpayB0ZSBrdW5uZW4gbmVtZW4uIERhYXJvbSB6b2NodGVuIGRlIGluZ2VuaWV1cnMgbm9nIHN0ZWVkcyBuYWFyIGVlbiB2ZXJiZXRlcmRlIHZlcnNpZS4gRGUgaW5nZW5pZXVycyBwbGFhdHN0ZW4gZGl0IG5hZGVlbCBjZW50cmFhbCBpbiBodW4gdm9sZ2VuZGUgb250d2VycGVuIHdhYXJkb29yIGRlIHNjb3JwaW9uZXMgKGtydWlzYm9vZyBvcCB2b2V0KSB3YXJlbiBvbnRzdGFhbi4gSGV0IHdhcmVuIGtsZWluZSBrYXRhcHVsdGVuIGRpZSBkb29yIDEgbWFuIGdlZHJhZ2VuIGtvbmRlbiB3b3JkZW4uIFplIGJlc3RvbmRlbiB1aXQgZWVuIGlqemVyZW4gYm9vZyB3YWFydHVzc2VuIGVlbiBzbmFhciB3ZXJkIGdlc3Bhbm5lbi4gRGUgcHJvamVjdGllbGVuIGRpZSB6ZSBrb25kZW4gYWZ2dXJlbiB3YXJlbiBob3V0ZW4gc3BpZXNlbiB2YW4gNjdjbS4gTmEgZGUgc2NvcnBpb25lcyBvbnR3aWtrZWxkZSBtZW4gZGUgY2hlaW9iYWxsaXN0cmEgZGllIGJlc2NoaWt0ZSBvdmVyIG1ldGFsZW4gZnJhbWVzIHdhdCB2ZWVsIHN0ZXJrZXIgd2FzIGRhbiB2b29yZGllbi4gRGUgb25hZ2VyIHdhcyBkZSBsYWF0c3RlIGhlcnZvcm1pbmcgdmFuIGRlIGthdGFwdWx0IGVuIHdlcmQgYWxnZW1lZW4gaW4gZ2VicnVpayBnZW5vbWVuIHJvbmQgZGUgNGRlIGVldXcuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlemUgaGFkIGVlbiB0b3RhYWwgYW5kZXJlIHdlcmt3aWp6ZSBkYW4gZGUgdm9yaWdlLiBIZXQgd2FzIGVlbiBoZWVsIGdyb290IGVuIHp3YWFyIG1hY2hpbmUgYmVkb2VsZCBvbSBncm90ZSBwcm9qZWN0aWVsZW4gbmFhciBkZSB2aWphbmQgdGUgd2VycGVuLiBEZXJnZWxpamtlIHByb2plY3RpZWxlbiB3YXJlbiBtZWVzdGFsIHN0ZW5lbi4gSGV0IG9wdmFsbGVuZHN0ZSBrZW5tZXJrIHZhbiBkZSBvbmFnZXIgd2FzIGRhdCBlciBvcG5pZXV3IHZlbGUgc29sZGF0ZW4gbm9kaWcgd2FyZW4gb20gZGUga2F0YXB1bHQgaW4gZ2VicnVpayB0ZSBuZW1lbiBlbiBkaXQgd2FzIGp1aXN0IHdhdCBtZW4gYmlqIGRlIG9udHdpa2tlbGluZyB2YW4gZGUga2F0YXB1bHQgd2lsZGUgdGVnZW5nYWFuLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiVmVyZGVkaWdpbmdzd2FwZW5zXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBbXCJEZSB2ZXJkZWRpZ2luZ3NtYWNoaW5lcyB3YXJlbiBuZXQgem9hbHMgZGUgYWFudmFsc21hY2hpbmVzIGtyYWNodGlnZXIgaW4gdmVyZ2VsaWpraW5nIG1ldCB3YXQgZGUgc29sZGF0ZW4gYmlqIHppY2ggZHJvZWdlbi4gVSB6YWwgdGVsa2VucyBlZW4ga29ydGUgYmVzY2hyaWp2aW5nIGtyaWpnZW4gb3ZlciBlbmtlbGUgb29ybG9nc3R1aWdlbiBkaWUgdGVyIHZlcmRlZGlnaW5nIHdlcmRlbiBnZWJydWlrdC5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiQmVnaW5uZW4gZG9lbiB3ZSBtZXQgZGUgcGx1dGVpLCBlZW4gaGFsZmNpcmtlbHZvcm1pZyBzY2hpbGQgb3Agd2llbGVuIGRpZSB2ZWVsIHdlZXJzdGFuZCBib29kLiBWZXJ2b2xnZW5zIHdhcyBlciBkZSB0ZXN0dWRvLiBEZXplIHdhcyBuZXQgem9hbHMgZGUgcGx1dGVpIGVlbiBiZXNjaGVybWluZyBvcCB3aWVsZW4gKGthbiBvb2sgem9uZGVyIHdpZWxlbikuIE1hYXIgaGV0IHZlcnNjaGlsIHdhcyBkYXQgYmlqIGRlIHRlc3R1ZG8gc2NoaWxkZW4gYWFuIGVsa2FhciB3ZXJkZW4gZ2VoZWNodCBkaWUgemUgZGFuIGFscyBhZmRhayBnZWJydWlrdGVuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJUb3Qgc2xvdCBiZXN0b25kIGVyIGVlbiBtYWNoaW5lIGRpZSB6b3dlbCBiaWogZGUgYWFudmFscy0gYWxzIGJpaiBkZSB2ZXJkZWRpZ2luZ3N3YXBlbnMgem91IGt1bm5lbiBob3JlbiwgbmwgZGUgdHVyZXMgYW1idWxhdG9yaWFlLiBIZXQgd2FzIGVlbiBob3V0ZW4gdG9yZW4gb3Agd2llbGVuIHdhYXJpbiB6ZSBrb25kZW4gc2NodWlsZW4gZW4gb3AgZGllIG1hbmllciBrb25kZW4gemUgb25nZXNjaG9uZGVuIGRlIHZpamFuZCBuYWRlcmVuLiBab1xcdTIwMTluIHRvcmVuIHRlbGRlIGVua2VsZSB2ZXJkaWVwaW5nZW4gZW4gaGFkIHRlbGtlbnMgZWVuIHZhbGx1aWsgcGVyIHZlcmRpZXAuIERpdCBnYWYgaGVuIGRlIGthbnMgb20gb3ZlciBkZSBtdXJlbiB0ZSBnZXJha2VuIHZhbiBkZSB2aWphbmQuIEhlbGVtYWFsIG9uZGVyYWFuIHdlcmQgZWVuIHN0b3JtcmFtIGluZ2Vib3V3ZCBlbiBkZXplIGhhZCBhbHMgZnVuY3RpZSBkZSBwb29ydGVuIHZhbiBoZXQgdmlqYW5kZWxpamtlIGdlYmllZCB0ZSBkb29yYnJla2VuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGFibGVcIiwgXCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoZWFkXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwiT29ybG9nc3R1aWdlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwid2FwZW5zXCIpXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImFhbnZhbHN3YXBlbnMgKD0gdG9ybWVudGEpXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJjYXRhcHVsdGFlXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJCYWxsaXN0YWVcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIlNjb3JwaW9uZXNcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImNoZWlvYmFsbGlzdHJhXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJvbmFnZXJcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJ2ZXJkZWRpbmdpbnN3YXBlbnNcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIlBsdXRlaVwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwidGVzdHVkb1wiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImNvbWJpbmF0aWV3YXBlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiVHVyZXMgYW1idWxhdG9yaWFlXCIpXSldKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiVmVyZ2VsaWpraW5nXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkFscyB3ZSBlZW4gdmVyZ2VsaWpraW5nIG1ha2VuIHZhbiBkZSBSb21laW5zZSBiZXdhcGVuaW5nIHQuby52LiBkZSBodWlkaWdlLCBkYW4ga3VubmVuIHdlIGVlbiB6ZWVyIHN0ZXJrZSBldm9sdXRpZSB2YXN0c3RlbGxlbiB2b29ydGdla29tZW4gdWl0IGRlIHdldGVuc2NoYXBwZWxpamtlIHZvb3J1aXRnYW5nIGRpZSBtZW4gZG9vcmhlZW4gZGUgamFyZW4gYm9la3RlLiBaZSBoZWJiZW4gemljaCBhbHRpamQgd2lsbGVuIHZlcmJldGVyZW4gaW4gaGV0IG1ha2VuIHZhbiBtYWNoaW5lcyBkaWUgcHJvamVjdGllbGVuIGtvbmRlbiBhZnNjaGlldGVuLiBabyB3ZXJkIGRlIGthdGFwdWx0IG9tZ2V2b3JtZCB0b3QgZWVuIGxhbmdlIGFmc3RhbmRzcmFrZXQuIE1lbiBvbnR3aWtrZWxkZSB6ZWxmcyBlZW4gc3lzdGVlbSBvbSB6d2FhcmRlbiB0ZSB2ZXJ2YW5nZW4gZG9vciBtYWNoaW5lcyBkaWUga29nZWxzIGtvbmRlbiBhZnZ1cmVuLlwiKV0pO1xufTtcblxuLyoqKi8gfSksXG4vKiAyNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5Ccm9ubmVuID0gdW5kZWZpbmVkO1xuXG52YXIgX2luZmVybm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgQnJvbm5lbiA9IGV4cG9ydHMuQnJvbm5lbiA9IGZ1bmN0aW9uIEJyb25uZW4oKSB7XG4gIHJldHVybiAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYXJ0aWNsZVwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgyXCIsIG51bGwsIFwiQnJvbm5lblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIFwiYnJvblwiLCBcIkJvZWtlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ1bFwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiQ29tbWVudGFyaWkgZGUgYmVsbG8gR2FsbGljbywgVklJLCBMWElYXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJWYW4gR2VsZGVyLCBKLiAoMTk1MikgTGF0aWpuc2UgZ2VzY2hpZWRzY2hyaWp2ZXJzLiBCbG9lbWxlemluZyB1aXQgZGUgd2Vya2VuIHZhbiBTYWxsdXN0aXVzLCBDYWVzYXIsIExpdml1cyBlbiBUYWNpdHVzLiBIYWFybGVtOiBTcGFhcm5lc3RhZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiSGFycHVyLCBKLiAoMjAwNykgR3VlcnJpZXJzOiBMZXMgZ3JhbmRzIGhcXHhFOXJvcyBkZSBsJ2hpc3RvaXJlLiBNSUxBTjogVG91bG91c2VcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIlZhbiBEYWVsZSwgQi4gKDIwMDMpIEhldCBSb21laW5zZSBMZWdlci4gRGF2aWRzZm9uZHM6IExldXZlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiR29sZHN3b3J0aHksIEEuICgyMDE3KSBSb21laW5zZSBsZWdpb2VuZW4uIE9tbmlib2VrOiBVdHJlY2h0XCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJSb2RnZXJzLCBOLiAoMjAxMikgSGV0IFJvbWVpbnNlIFJpamsuIFZlbHRtYW46IFV0cmVjaHRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIkFub25pZW0uICgyMDE1KS4gRGUgVmVsZHNsYWdlbiwgSGV0IFBvcC1VcGJvZWsuIFRpZWx0OiBMYW5ub28uXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJXYXJyeSwgVy4gKDE5ODEpLiBPb3Jsb2d2b2VyaW5nIGluIGRlIGtsYXNzaWVrZSB3ZXJlbGQuIEhlbW9uZDogSGVsbW9uZC5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIkRhbmRvLUNvbGxpbnMsIFMuICgyMDEwKS4gTGVnaW9ucyBvZiBSb21lOiBUaGUgRGVmaW5pdGl2ZSBIaXN0b3J5IG9mIEV2ZXJ5IEltcGVyaWFsIFJvbWFuIExlZ2lvbi4gTG9uZGVuOiBRdWVyY3VzIFB1Ymxpc2hpbmcuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJGZXVnZXJlLCBNLiAoMjAwMikuIFRoZSBXZWFwb25zIG9mIHRoZSBSb21hbnMuIFVuaXRlZCBLaW5nZG9tOiBUaGUgSGlzdG9yeSBQcmVzcy5cIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIFwiYnJvblwiLCBcIk1vbmRlbGluZ1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJNb25kZWxpbmdlIGJyb24gZ2VsZXZlcmQgZG9vciBLb2xvbmVsIFNCSCBNYXJjIEFsZXhhbmRlciAoSG9vZ2xlcmFhciBhYW4gZGUgS01TKVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIFwiYnJvblwiLCBcIldlYnNpdGVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidWxcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkdvZWRlIGtlaXplcnMsIHNsZWNodGUga2VpemVyc1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9tYXJjYXVyLndvcmRwcmVzcy5jb20vMjAxNS8wMy8yMC9kZS12aWpmLWdyb290c3RlLW92ZXJ3aW5uaW5nZW4tdmFuLWRlLXJvbWVpbmVuLWxvbmdyZWFkL1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwibWlsaXRhaXIubmV0XCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3Lm1pbGl0YWlyLm5ldC9Pb3Jsb2dlbi9Sb21laW5zZSUyMG9vcmxvZ2VuL1NsYWclMjBiaWolMjBUZXV0b2J1cmdlcndvdWQvXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCI0IG9wbWVya2VsaWprZSB2ZWxkc2xhZ2VuIHVpdCBkZSBSb21laW5zZSBnZXNjaGllZGVuaXNcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cuaXNnZXNjaGllZGVuaXMubmwvbmlldXdzLzQtb3BtZXJrZWxpamtlLXZlbGRzbGFnZW4tcm9tZWluc2UtZ2VzY2hpZWRlbmlzL1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiQmVsZWcgdmFuIEFsZXNpYVwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9ubC53aWtpcGVkaWEub3JnL3dpa2kvQmVsZWclMjB2YW4lMjBBbGVzaWFcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIldhYXIgbGFnIEFsXFx4RTlzaWE/XCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL3d3dy5rdW5zdGdlb2dyYWZpZS5ubC9oZW52L2hlbGRlbi5hbGVzaWEuc2xhZy5odG1cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcImRlIGdlc2NoaWVkZW5pcyB2YW4gQWxlc2lhXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LmNlbmVucy5iZS9hbGVzaWEvb21nZXZpbmcuaHRtbFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiRHJpZSBncm90ZSB2ZWxkc2xhZ2VuIHVpdCBkZSBSb21laW5zZSB0aWpkXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL3BsYXppbGxhLmNvbS9wYWdlLzQyOTUwMjg5MTMvZHJpZS1ncm90ZS12ZWxkc2xhZ2VuLXVpdC1kZS1yb21laW5zZS10aWpkXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJTbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL25sLndpa2lwZWRpYS5vcmcvd2lraS9TbGFnX2Jpal9oZXRfVGV1dG9idXJnZXJ3b3VkXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJTbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkOiBWYXJ1cyBsb29wdCBpbiBlZW4gR2VybWFhbnNlIGhpbmRlcmxhYWdcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cuaXNnZXNjaGllZGVuaXMubmwvbWlsaXRhaXJlLWNvbmZyb250YXRpZXMvc2xhZy1iaWotaGV0LXRldXRvYnVyZ2Vyd291ZC12YXJ1cy1sb29wdC1pbi1lZW4tZ2VybWFhbnNlLWhpbmRlcmxhYWcvXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJWYXJ1c3NsYWc6IDIwMDAgamFhciBnZWxlZGVuXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL3d3dy5oaXN0b3Jpc2NoZWNhcnRvZ3JhZmllLm5sL25pZXV3cy8yMDA5LzExL3ZhcnVzc2xhZy0yMDAwLWphYXItZ2VsZWRlbi9cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkRlIFZhcnVzc2xhZyBpbiA5IG4uQ2hyLlwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5ub3Zpb21hZ3VzLmluZm8vdmFydXNzbGFnLmh0bVwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiUHVibGl1cyBRdWluY3RpbGl1cyBWYXJ1c1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9ubC53aWtpcGVkaWEub3JnL3dpa2kvUHVibGl1c19RdWluY3RpbGl1c19WYXJ1c1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiVGFjdGlla2VuXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LmxlZ2lveGkuYmUvZWR1Y2F0aWVmL3RhY3RpZWtlbiAob3BlbiB2ZWxkc2xhZylcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkhldCBSb21laW5zZSBsZWdlclwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5rbGFzc2lla2V2ZXJ0YWxpbmdlbi5ubC9jdWx0dXVyL2xlZ2VyLmh0bVwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiSHVscHRyb2VwZW5cIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly91c2Vycy50ZWxlbmV0LmJlL3Bob2VuaWNhL2h1bHB0cm9lcGVuLmh0bVwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiRGUgYmV3YXBlbmluZyB2YW4gZGUgUm9tZWluc2UgbGVnaW9uYWlyXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vcm9tZWluZW4uaW5mby9kZS1iZXdhcGVuaW5nLXZhbi1kZS1yb21laW5zZS1sZWdpb25haXJcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlZlcmRlZGlnaW5nc3dlcmtlbiBlbiBiZWxlZ2VyaW5nc29vcmxvZ1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3VzZXJzLnNreW5ldC5iZS92ZW5pX3ZpZGlfdmljaS9iZXN0b3JtaW5nLmh0bWxcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIldlYXBvbnNcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cucHJpbWFyeWhvbWV3b3JraGVscC5jby51ay9yb21hbnMvd2VhcG9ucy5odG1sXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJUb29scyBvZiBXYXJcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vcm9tYW5taWxpdGFyeS5uZXQvdG9vbHMvXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJBbmNpZW50IHJvbWFuIG1pbGl0YXJ5LCB3ZWFwb25zIGFuZCBzcGllc1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL2ZhY3RzYW5kZGV0YWlscy5jb20vd29ybGQvY2F0NTYvc3ViMzY4L2l0ZW0yMDU1Lmh0bWxcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIldlYXBvbnMgJiBUYWN0aWNzXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL3d3dy50aGUtcm9tYW5zLmNvLnVrL3dlYXBvbnMuaHRtXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJPcmdhbml6YXRpb24gb2YgdGhlIFJvbWFuIEltcGVyaWFsIExlZ2lvblwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy51bnJ2LmNvbS9taWxpdGFyeS9sZWdpb24ucGhwXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJUaGUgUm9tYW4gQXJteVwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5yb21hbi1lbXBpcmUubmV0L2FybXkvYXJteS5odG1sXCJcbiAgfSkpXSkpXSldKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSW5sZWlkaW5nID0gdW5kZWZpbmVkO1xuXG52YXIgX2luZmVybm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgSW5sZWlkaW5nID0gZXhwb3J0cy5JbmxlaWRpbmcgPSBmdW5jdGlvbiBJbmxlaWRpbmcoKSB7XG4gIHJldHVybiAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYXJ0aWNsZVwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgyXCIsIG51bGwsIFwiSW5sZWlkaW5nXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIldpaiBoZWJiZW4gYmVzbGlzdCBvbSBvbnMgd2VyayBvdmVyIGhldCBSb21laW5zZSBsZWdlciB0ZSBiZWdpbm5lbiBtZXQgZGUgb25kZXJ2ZXJkZWxpbmcgdmFuIGhldCBsZWdlci4gSGllcmRvb3Iga3JpamcgamUgYWwgZWVuIGluemljaHQgaW4gaG9lIGRlIGhpXFx4RUJyYXJjaGllIHdhcyB0ZW4gdGlqZGUgdmFuIGRlIFJvbWVpbmVuLiBIaWVybmEgemlqbiB3aWogZGllcGVyIGluZ2VnYWFuIG9wIGRlIGJld2FwZW5pbmcgdmFuIGRlIFJvbWVpbmVuIHpvZGF0IGplIGdvZWQgd2VldCBob2UgemUgdG9lbiB2b2NodGVuIGVuIHdhdCB6ZSB0ZXIgYmVzY2hpa2tpbmcgaGFkZGVuIG9tIGh1biB2aWphbmQgdGUgb3Zlcm1lZXN0ZXJlbi4gQWxzIGxhYXRzdGUgaGViYmVuIHdpaiBnZWtla2VuIG5hYXIgaGV0IHZlcmxvb3AgdmFuIHR3ZWUgdmVsZHNsYWdlbiBlbiBoZWJiZW4gd2UgZGV6ZSB2b2xsZWRpZyBnZWFuYWx5c2VlcmQgb20gdWl0ZWluZGVsaWprIHRlIGt1bm5lbiB6ZWdnZW4gaG9lIGRlemUgYmV0ZXIgaGFkZGVuIGt1bm5lbiB2ZXJsb3Blbi4gV2lqIGhlYmJlbiB2ZXJzY2hlaWRlbmUgYnJvbm5lbiBnZWJydWlrdCBvbSBvbnMgd2VyayB0ZSBvbmRlcmJvdXdlbiwgZ2FhbmRlIHZhbiBib2VrZW4gdWl0IGhldCBhcmNoaWVmIHZhbiBkZSBLb25pbmtsaWprZSBNaWxpdGFpcmUgU2Nob29sIHRvdCB3ZWJzaXRlcyB2YW4gcHJvZmVzc29yZW4gbGF0aWpuIGRpZSB0aGVzaXNzZW4gb3ZlciBoZXQgUm9tZWluc2UgbGVnZXIgaGViYmVuIGdlc2NocmV2ZW4uIE9tIG5vZyBleHRyYSBkb2N1bWVudGF0aWUgZW4gYWZiZWVsZGluZ2VuIHRlIHZlcnNjaGFmZmVuIGJpaiBkZXplIG9uZGVyem9la3Njb21wZXRlbnRpZSwgaGViYmVuIHdpaiBiZXNsb3RlbiBvbSBkZXplIHNpdGUgdGUgbWFrZW4uXCIpXSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDI2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk9uZGVydmVyZGVsaW5nID0gdW5kZWZpbmVkO1xuXG52YXIgX2luZmVybm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgT25kZXJ2ZXJkZWxpbmcgPSBleHBvcnRzLk9uZGVydmVyZGVsaW5nID0gZnVuY3Rpb24gT25kZXJ2ZXJkZWxpbmcoKSB7XG4gIHJldHVybiAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYXJ0aWNsZVwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgyXCIsIG51bGwsIFwiT25kZXJ2ZXJkZWxpbmcgdmFuIGhldCBsZWdlclwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJEZSBSb21laW5lbiBoYWRkZW4gdmVyc2NoaWxsZW5kZSByYW5nZW4gYmlubmVuIGhldCBsZWdlciB3YWFydG9lIGplIGtvbiBiZWhvcmVuLiBIZXQgbGVnZXIgd2VyZCBvcGdlZGVlbGQgaW4gbWVlcmRlcmUgbGVnaW9lbmVuIGVuIGh1bHB0cm9lcGVuIHdhYXJtZWUgemUgdmFudWl0IHZlcnNjaGlsbGVuZGUgaG9la2VuIGRlIHZpamFuZCBnZXN0cnVjdHVyZWVyZCBrb25kZW4gYWFudmFsbGVuLiBEb29yaGVlbiBkZSBqYXJlbiBuYW0gaGV0IGFhbnRhbCBzb2xkYXRlbiBzdGVyayB0b2UuIERlIHJlZGVuIGRhYXJ0b2Ugd2FzIHZyaWogZWVudm91ZGlnLiBFZW5tYWFsIGVlbiBiZXBhYWxkZSBiZXZvbGtpbmdzZ3JvZXAgemlqbiBzdHJpamRtYW5zY2hhcHBlbiB2ZXJncm9vdHRlLCB3YXMgZGUgYW5kZXJlIHZlcnBsaWNodCBvbSBoZXR6ZWxmZGUgdGUgZG9lbiwgYWFuZ2V6aWVuIHplIGFuZGVycyBnZWVuIGVua2VsZSBrYW5zIHpvdWRlbiBoZWJiZW4gb3AgZGUgb3Zlcndpbm5pbmcuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJIZXQgbGVnaW9lblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJFZW4gbGVnaW9lbiB3ZXJkIG9wZ2VkZWVsZCBpbiAxMCBjb2hvcnRlbiB3YWFyYmlqIDEgY29ob3J0ZSBlZW4gYWFudGFsIHZhbiA2MDAgc29sZGF0ZW4gdGVsZGUgb3Agdm9vcndhYXJkZSBkYXQgaGV0IGxlZ2lvZW4gYmVzdG9uZCB1aXQgb25nZXZlZXIgNjAwMCBsZWdpb25hcmlpICg9IHNvbGRhdGVuKS4gRGUgbGVpZGVyIHZhbiBlZW4gbGVnaW9lbiB3ZXJkIGVlbiBsZWdhdHVzIGdlbm9lbWQuIEhldCB3YXMgYWx0aWpkIGVlbiBtYW4gb21kYXQgZW5rZWwgZGUgbWFubmVuIHRvZWdlbGF0ZW4gd2VyZGVuIGJpaiBoZXQgbGVnZXIgKFZyb3V3ZW4gbW9lc3RlbiBoZXQgaHVpc2hvdWRlbiBkb2VuKS4gRGUgbGVnYXR1cyBoYWQgb29rIDUgXFx4RTAgNiBhc3Npc3RlbnRlbiB0ZXIgYmVzY2hpa2tpbmcgZGllIGRlIG5hYW0gdHJpYnVuaSBrcmVnZW4uIERhdCB3YXJlbiBzdGVlZHMgam9uZ2UgbWFubmVuIGRpZSBlZW4gcG9saXRpZWtlIGNhcnJpXFx4RThyZSB3aWxkZSBzdGFydGVuIG1hYXIgZWVyc3Qgd2F0IG1pbGl0YWlyZSBlcnZhcmluZyBub2RpZyBoYWRkZW4uIFZlcnZvbGdlbnMgd2VyZGVuIGFsbGUgY29ob3J0ZW4gbm9nIGVlbnMgb25kZXJ2ZXJkZWVsZCBpbiAzIG1hbmlwZWxzIG1ldCB0ZWxrZW5zIGVlbiBhYW50YWwgdmFuIDIwMCBtYW4uIEhldCAxc3RlIG1hbmlwZWwgdmFuIGllZGVyZSBjb2hvcnRlIGtyZWVnIGRlIG5hYW0gcGlsdXMuIEhldCAxc3RlIG1hbmlwZWwgdmFuIGRlIDFzdGUgY29ob3J0ZSB3ZXJkIGRlIHByaW11cyBwaWx1cyBnZW5vZW1kIG1ldCBkZSBwcmltaSBwaWxpIGNlbnR1cmlvIGFhbiBoZXQgaG9vZmQuIERlemUgMjAwIG1hbm5lbiB3ZXJkZW4gbm9nbWFhbHMgZ2VzcGxpdHN0IGluIDIgZ3JvZXBlbiB2YW4gMTAwIHNvbGRhdGVuLiBEZXJnZWxpamtlIGdyb2VwZW4gYmVob29yZGVuIHRvdCBkZSByYW5nIHZhbiBkZSBjZW50dXJpYS4gSGllcmJpaiB3YXMgZWVuIGNlbnR1cmlvICg9IG9uZGVyb2ZmaWNpZXIpIGRlIGFhbnZvZXJkZXIgdmFuIDEgdmFuIGRlIDYgY2VudHVyaVxceEVCbi4gSGlqIGJlc2NoaWt0ZSBvdmVyIGVlbiBhYW50YWwgc29sZGF0ZW4sIDEgdmVsZHRla2VuZHJhZ2VyIGVuIGVlbiBvcHRpby4gWmlqbiBiZWxhbmdyaWpraGVpZCB3YXMgYWZoYW5rZWxpamsgdmFuIGRlIHJhbmcgZGllIHppam4gY2VudHVyaWEgaGFkLiBabyBpcyBkZSBjZW50dXJpbyB2YW4gaGV0IDFzdGUgY2VudHVyaWUsIDFzdGUgbWFuaXBlbCBlbiAxc3RlIGNvaG9ydGUgZGUgYmVsYW5ncmlqa3N0ZSBlbiBuYWFybWF0ZSBqZSB2ZXJkZXIgZ2FhdCBpbiBkZSBoaVxceEVCcmFyY2hpZSBuZW1lbiB6ZSBhYW4gYmVsYW5ncmlqa2hlaWQgYWYuIEVlbiBjZW50dXJpbyBiZXNjaGlrdGUgbmV0IHpvYWxzIGVlbiBsZWdhdHVzIG92ZXIgZWVuIGFzc2lzdGVudCBkaWUgZGUgbmFhbSBvcHRpbyBhYW5nZWJvZGVuIGtyZWVnLiBEZXplIG9wdGlvIGJlc2NoaWt0ZSBvdmVyIGVlbiBrbGVpbiBtYW5zY2hhcCBvbSB3YXQgZXJ2YXJpbmcgdGUga3JpamdlbiBvdmVyIGhvZSBqZSBsZWlkaW5nIG1vZXN0IGdldmVuLiBIZXQgdWl0ZWluZGVsaWprZSBkb2VsIHZhbiBkZSBvcHRpbyB3YXMgdGUgcHJvbW92ZXJlbiBvbSB6byBkZSBmdW5jdGllIHZhbiBlZW4gY2VudHVyaW8gdGUga3Jpamdlbi4gWmVlciBlcnZhcmVuIGNlbnR1cmlvJ3Mga3JlZ2VuIG9vayBub2cga2FucyBvbSBwcmFlZmVjdHVzIGNhc3Ryb3J1bSAoPSBrYW1wY29tbWFuZGFudCkgdGUgd29yZGVuLiBUb3Qgc2xvdCB3ZXJkZW4gZGllIDEwMCBtYW4gbm9nIGVlbiBrZWVyIG9wZ2VkZWVsZCBpbiAxMCBncm9lcGplcyB2YW4gdGVsa2VucyAxMCBzb2xkYXRlbiBkaWUgc2FtZW4gZWVuIGtsZWluZSB0ZW50IG1vZXN0ZW4gZGVsZW4gd2FhcmluIHplIGtvbmRlbiBvdmVybmFjaHRlbi4gRGVyZ2VsaWprIHRlbnRlbiB3YXJlbiBvbmdldmVlciA0IGJpaiAzIG1ldGVyLiBEZSByZWRlbiBoaWVydm9vciB3YXMgZGF0IHplIG9td2lsbGUgdmFuIGh1biBncm9vdHRlIG1ha2tlbGlqayB0ZSB2ZXJ2b2VyZW4gd2FyZW4uIERlemUgZ3JvZXBqZXMgd2VyZGVuIGNvbnR1cmJlcm5pdW0gZ2Vub2VtZC4gRWxrIGNvbnR1cmJlcm5pdW0gYmVzY2hpa3RlIG92ZXIgZWVuIG11aWxlemVsIGRpZSBkZSBzb2xkYXRlbiBoaWVscCBiaWogaGV0IHZlcnZvZXJlbiB2YW4gaHVuIGdvZWRlcmVuLiBIZXQgbGVnaW9lbiBiZXZhdHRlIG5hYXN0IHJlZWRzIHZlcm1lbGRlIHJhbmdlbiBub2cgYW5kZXJlIHBlcnNvbmVuIGRpZSBlZW4gc3BlY2lmaWVrZSB0YWFrIHVpdHZvZXJkZW4uXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBbXCJFZW4gYXF1aWxpZmVyICg9IHN0YW5kYWFyZGRyYWdlcikga3JlZWcgZGUgdGFhayBvbSBtZXQgaGV0IFJvbWVpbnNlIGVtYmxlZW0gdmFuIGVlbiBhcXVpbGEgKD0gYXJlbmQpIGhldCBsZWdpb2VuIHZvb3JhZiB0ZSBnYWFuIGVuIHN0b25kIGFhbiBoZXQgaG9vZmQgdmFuIGFsbGUgYW5kZXJlIHZlbGR0ZWtlbmRyYWdlcnMuIEluIGVlbiBsZWdpb2VuIHdhcmVuIGVyIG9vayBiYWtrZXJzLCBzbWVkZW4sIGRva3RlciwgXFx1MjAyNlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJFZW4gbGVnaW9lbiBrb24gZHVzIHpvbmRlciBlbmlnIHByb2JsZWVtIGVua2VsZSBtYWFuZGVuIHJvbmR0cmVra2VuIGRvb3IgZGUgZ3JvdGUgdm9vcnJhYWQgdmFuIGRpbmdlbiBkaWUgemUgbWVlc2xldXJkZSB0aWpkZW5zIGh1biB0b2NodCBlbiBoZXQgZ3Jvb3QgYWFuYm9kIHZhbiBhc3Npc3RlbnRlbi5cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJEZSBodWxwdHJvZXBlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgW1wiTmFhc3QgbGVnaW9lbmVuIG1hYWt0ZSBkZSBSb21laW5lbiBvb2sgdmVlbHZ1bGRpZyBnZWJydWlrIHZhbiBkZSBhdXhpbGlhICg9IGh1bHB0cm9lcGVuKS4gRGFhcnRvZSBiZWhvb3JkZW4gZGUgc29sZGF0ZW4gZGllIG5pZXQgZGUgc3RhdHVzIGhhZGRlbiB2YW4gUm9tZWluc2Ugc3RhYXRzYnVyZ2VyIGRvb3JkYXQgemUgYWZrb21zdGlnIHdhcmVuIHVpdCBhbmRlcmUgdm9sa2VyZW4uIE9td2lsbGUgdmFuIGh1biBhbmRlcmUgYWZrb21zdCBrcmVnZW4gemUgbWFhciAxLzMgdmFuIGhldCBsb29uIHZhbiBlZW4gbGVnaW9uYXJpdXMuXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkh1biB2b29ybmFhbXN0ZSBmdW5jdGllIHdhcyBvbSBkZSBsZWdpb2VuZW4gdGUgaGVscGVuIGVuIG9tIGRlIGdyZW56ZW4gdGUgYmV3YWtlbiBlbiB0ZSB2ZXJkZWRpZ2VuLiBEZXplIHRha2VuIG1vZXN0ZW4gemUgdWl0dm9lcmVuIG9uZGVyIGJldmVsIHZhbiBwcmFlZmVjdGkgKD0gUm9tZWluc2Ugb2ZmaWNpZXJlbikuIEFscyBlZW4gYXV4aWxpYXJpdXMgKD0gZWVuIHNvbGRhYXQgdmFuIGRlIGh1bHB0cm9lcGVuKSBlZW4gZGllbnN0dGVybWlqbiB2YW4gMjUgamFhciBoYWQgYWZnZXNsb3Rlbiwga3JlZWcgaGlqIGVuIHppam4gZ2V6aW4gdmFuYWYgZGF0IG1vbWVudCBkZSBzdGF0dXMgdmFuIGVlbiBSb21laW5zIHN0YWF0c2J1cmdlci4gRGUgem9uZW4gdmFuIGVlbiBleC1hdXhpbGlhcml1cyBnaW5nZW4gYWxzIGxlZ2lvbmFyaXVzIHdlcmtlbiB3YXQgaGVuIGRlIGthbnMgZ2FmIG9tIG1lZXIgdGUgdmVyZGllbmVuIGRhbiBodW4gdmFkZXIuIERlIGV4LWF1eGlsaWFyaXVzIHplbGYgbmFtIGRlIG5hYW0gdmFuIGRlIHJlZ2VyZW5kZSBrZWl6ZXIgYWFuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJOZXQgem9hbHMgZGUgbGVnaW9lbmVuIHppam4gZXIgdmVyc2NoaWxsZW5kZSBvbmRlcmRlbGVuIGJpbm5lbiBkZSBodWxwdHJvZXBlbiB6b2FsczogZGUgZXF1aXRhdHVzICg9IHJ1aXRlcnMpLCBkZSBzYWdpdHRhcmlpICg9IGJvb2dzY2h1dHRlcnMpIGVuIGRlIGZ1bmRpdG9yZXMgKD0gc2xpbmdlcmFhcnMpLiBFbGtlIHNvbGRhYXQgYmlubmVuIGRlIGh1bHB0cm9lcGVuIGtyZWVnIGVlbiBiaWpwYXNzZW5kIHdhcGVuIGFmaGFua2VsaWprIHRvdCB3ZWxrZSBncm9lcCBoaWogYmVob29yZGUuXCJdKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRhYmxlXCIsIFwib25kZXJ2ZXJkZWxpbmctdGFibGVcIiwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aGVhZFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcImdyb2VwZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcImxlZ2lvZW5lblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwiaHVscHRyb2VwZW5cIildKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiYmVsYW5ncmlqa3N0ZSBvbmRlcmRlbGVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgW1wiY29ob3J0ZW5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcIm1hbmlwZWxzXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJjZW50dXJpYVwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiY29udHVyYmVybml1bVwiXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBbXCJzYWdpdHRhcmlpXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJlcXVpdGF0dXNcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcImZ1bmRpdG9yZXNcIl0pXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiYWFudGFsXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgW1wiMSBjb2hvcnQgPSBcXHhCMSA2MDBcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcIjEgbWFuaXBlbCA9IFxceEIxIDIwMFwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiMSBjZW50dXJpYSA9IFxceEIxIDEwMFwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiMSBjb250dXJiZXJuaXVtID0gXFx4QjEgMTBcIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJhYW50YWwgaXMgb25kdWlkZWxpamtcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJsZWlkZXJzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJsZWdpb2VuIC0tPiBsZWdhdHVzIGNlbnR1cmlhIC0tPiBjZW50dXJpbyB6ZWVyIGVydmFyZW4gY2VudHVyaW8gLS0+ICBwcmFlZmVjdHVzIGNhc3Ryb3J1bVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiSHVscHRyb2VwZW4gLS0+IHByYWVmZWN0aVwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcInN0YXR1c1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiUm9tZWlucyBzdGFhdHNidXJnZXJcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImdlZW4gUm9tZWlucyBzdGFhdHNidXJnZXIuIEFma29tc3RpZyB2YW4gYW5kZXJlIHZvbGtlcmVuXCIpXSldKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIlZlcmdlbGlqa2luZ1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJBbHMgd2UgZGUgb25kZXJ2ZXJkZWxpbmcgYmlqIGRlIFJvbWVpbmVuIHZlcmdlbGlqa2VuIG1ldCBkZSBvbnplIGRhbiBtZXJrZW4gd2Ugb3AgZGF0IGRlIHN0cnVjdHV1ciB2b29yIGVlbiBncm9vdCBkZWVsIGJld2FhcmQgaXMgZ2VibGV2ZW4uIFRvY2gga3VubmVuIHdlIHN0ZWxsZW4gZGF0IGhldCBodWlkaWdlIHN5c3RlZW0gbWVlciBvbmRlcnZlcmRlbGluZ2VuIGhlZWZ0IGVuIGRhdCBkZSBuYW1lbiBvb2sgc3RlZWRzIGdld2lqemlnZCB6aWpuLiBabyBpcyBpbiAyMDE3IGRlIGdlbmVyYWFsIGRlIGxlaWRlciB2YW4gaGV0IGxlZ2VyIGVuIHZyb2VnZXIgc3ByYWsgbWVuIG92ZXIgbGVnYXR1cyBkaWUgZGUgbGVpZGluZyBoYWQgb3ZlciBoZXQgbGVnaW9lbi5cIildKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuVmVsZHNsYWdlbiA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIFZlbGRzbGFnZW4gPSBleHBvcnRzLlZlbGRzbGFnZW4gPSBmdW5jdGlvbiBWZWxkc2xhZ2VuKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIlZlbGRzbGFnZW4gZW4gb29ybG9nZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRGUgUm9tZWluZW4gaGViYmVuIGRvb3JoZWVuIGh1biBsYW5nZSBiZXN0YWFuIGluIHZlbGUgZGVsZW4gdmFuIGRlIHdlcmVsZCBnZXZvY2h0ZW4gdGVnZW4gdmVyc2NoaWxsZW5kZSByaWprZW4sIHN0YWRzdGF0ZW4sIGhhbmRlbHNuYXRpZXMgZW4gYmFyYmFhcnNlIHN0YW1tZW4gYWFuZ2V6aWVuIHplIHN0ZWVkcyBtZWVyIGdyb25kZ2ViaWVkIHdpbGRlbiB2ZXJvdmVyZW4uIEhvZXdlbCB2ZWxlbiBoaWVydmFuIHdlcmRlbiBnZXdvbm5lbiBkYW5remlqIGh1biBkb29yZGFjaHRlIHRhY3RpZWtlbiBlbiBpanplcnN0ZXJrZSBkaXNjaXBsaW5lLCB3YXJlbiBlciBvb2sgendhcmUgbmVkZXJsYWdlbiBiaWogem9hbHM6IGRlIHNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQsIGRlIHNsYWcgYmlqIENhbm5hZSBlbiBkZSBzbGFnIGJpaiBBZHJpYW5vcG9saXMuIERvb3IgZGV6ZSBuZWRlcmxhZ2VuIHNjaGFhZmRlbiB6ZSBodW4gdGFjdGlla2VuIGJpaiBvbSBkZXplbGZkZSBmb3V0ZW4gbmlldCBub2cgZWVucyB0ZSBtYWtlbi5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIkRlIHNsYWcgYmlqIEFsZXNpYVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJEZSBzbGFnIGJpaiBBbGVzaWEgd2VyZCBnZXZvY2h0ZW4gdHVzc2VuIGRlIFJvbWVpbnNlIHRyb2VwZW4gdmFuIEp1bGl1cyBDYWVzYXIgZW4gZGUgQXZlcm5pc2NoZSB0cm9lcGVuIHZhbiBWZXJjaW5nZXRvcml4LiBEZXplIHNsYWcgd2FzIGRlIGJlc2xpc3NlbmRlIHNsYWcgaW4gZGUgc3RyaWpkIHR1c3NlbiBkZSBHYWxsaVxceEVCcnMgZW4gZGUgUm9tZWluZW4gZW4gaGV0IHdhcyB0ZXZlbnMgZWVuIHZhbiBkZSBncm9vdHN0ZSBvdmVyd2lubmluZ2VuIHZhbiBDYWVzYXIuIERlIHNsYWcgdm9uZCBwbGFhdHMgaW4gNTIgdi5DLiBiaWogaGV0IEdhbGxpc2NoZSBBbGVzaWEgcm9uZCBlZW4gdmVyc3Rlcmt0IGZvcnQgdmFuIGhldCB2b2xrIE1hbmR1YmlpLiBIZXQgZm9ydCB2YW4gQWxlc2lhIHdhcyBnZWxlZ2VuIGJvdmVub3AgZWVuIGhldXZlbCB3YWFyIHJpdmllcmVuIGxhbmdzIHN0cm9vbWRlbi4gQ2Flc2FyIGdhZiB2YW4gZGUgb21nZXZpbmcgZWVuIHplZXIgZ29lZGUgYmVzY2hyaWp2aW5nIGluIHppam4gQ29tbWVudGFyaWkgZGUgYmVsbG8gR2FsbGljbzogXFxcIklwc3VtIGVyYXQgb3BwaWR1bSBBbGVzaWEgaW4gY29sbGUgc3VtbW8gYWRtb2R1bSBlZGl0byBsb2NvLCB1dCBuaXNpIG9ic2lkaW9uZSBleHB1Z25hcmkgbm9uIHBvc3NlIHZpZGVyZXR1ci4gQ3VpdXMgY29sbGlzIHJhZGljZXMgZHVvIGR1YWJ1cyBleCBwYXJ0aWJ1cyBmbHVtaW5hIHN1Ymx1ZWJhbnQuIEFudGUgaWQgb3BwaWR1bSBwbGFuaXRpZXMgY2lyY2l0ZXIgbWlsbGlhIHBhc3N1dW0gSUlJIGluIGxvbmdpdHVkaW5lIHBhdGViYXQ7IHJlbGlxdWlzIGV4IG9tbmlidXMgcGFydGlidXMgY29sbGVzIG1lZGlvY3JpIGludGVyaWVjdG8gc3BhdGlvIHBhcmkgYWx0aXR1ZGluaXMgZmFzdGlnaW8gb3BwaWR1bSBjaW5nZWJhbnQuXFxcIiBEaXQga2FuIG1lbiB2ZXJ0YWxlbiBhbHM6ICdEZSB2ZXN0aW5nIEFsZXNpYSB6ZWxmIGxhZyBvcCBlZW4gaGV1dmVsdG9wIGRpZSBhYW56aWVubGlqayBib3ZlbiBkZSB2bGFrdGUgdWl0c3Rhaywgem9kYXQgemlqIG9uaW5uZWVtYmFhciBzY2hlZW4gdGVuemlqIGRvb3IgYmxva2thZGUuIERlIHZvZXQgdmFuIGRpZSBoZXV2ZWwgd29yZHQgYWFuIHR3ZWUgemlqZGVuIGJlc3BvZWxkIGRvb3Igd2F0ZXJsb3Blbi4gVlxceEYzXFx4RjNyIGRlIHZlc3Rpbmcgc3RyZWt0ZSB6aWNoIGVlbiBvbmdldmVlciBkcmllIG1pamwgYnJlZGUgdmxha3RlIHVpdDsgYWFuIGFsIGRlIGFuZGVyZSB6aWpkZW4gb21yaW5nZGUgaGV1dmVscywgb3Aga29ydGUgYWZzdGFuZCB2YW4gZWxrYWFyIGdlbGVnZW4gZW4gbWV0IGdlbGlqa2UgdG9waG9vZ3RlLCBkZSB2ZXN0aW5nLicgRG9vciBkZXplIHVpdHN0ZWtlbmRlIGxvY2F0aWUgd2FzIGhldCB6ZWVyIG1vZWlsaWprIG9tIGhldCBmb3J0IGluIHRlIG5lbWVuIGR1cyBiZXNsb290IENhZXNhciBvbSBoZXQgZm9ydCB0ZSBiZWxlZ2VyZW4gZG9vciBnZWJydWlrIHRlIG1ha2VuIHZhbiBlZW4gY2lyY3VtdmFsbGF0aWVsaW5pZSBvbSB6byBkZSB0cm9lcGVuIGVuIGRlIGJldm9sa2luZyB2YW4gQWxlc2lhIHVpdCB0ZSBob25nZXJlbi5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFtcIkRlIGxpbmllIGJlc3RvbmQgdWl0IG1lZXJkZXJlIHZlcnN0ZXZpZ2luZ2VuIGVuIHdhbGxlbiBtZXQgZWVuIHRvdGFsZSBsZW5ndGUgdmFuIG9uZ2V2ZWVyIDE4a20uIERlIHRhY3RpZWsgdmFuIENhZXNhciBibGVlayB6ZWVyIGdvZWQgdGUgd2Vya2VuIGFhbmdlemllbiBWZXJjaW5nZXRvcml4IHJhZGVsb29zIHdhcy4gRGUgZW5pZ2UgbW9nZWxpamtoZWlkIGRpZSBWZXJjaW5nZXRvcml4IG5vZyBoYWQgd2FzIG9tIGVlbiBkZWVsIHZhbiBkZSBHYWxsaXNjaGUgY2F2YWxlcmllIHRlIGRvZW4gb250c25hcHBlbiBkb29yIGVlbiBub2cgb252b2x0b29pZCBnZWRlZWx0ZSB2YW4gZGUgbGluaWUgb20gdmVyc3RlcmtpbmcgdGUgaGFsZW4uIFppaiBzbGFhZ2RlbiBpbiBkZXplIG9wemV0IGVuIGJyYWNodGVuIHN1Y2Nlc3ZvbCBlZW4gb250emV0dGluZ3NsZWdlciBvcCBkZSBiZWVuLiBDYWVzYXIgaGFkIGVjaHRlciBhYW4gYWxsZSBtb2dlbGlqa2Ugc2NlbmFyaW8ncyBnZWRhY2h0IGVuIGhpaiBoYWQgYmVzbG90ZW4gb20gZWVuIGNvbnRyYXZhbGxhdGllbGluaWUgdmFuIDIxIGtpbG9tZXRlciB0ZSBib3V3ZW4gcm9uZCBkZSBjaXJjdW12YWxsYXRpZWxpbmllLCB3YWFyZG9vciBkZSBSb21laW5lbiBsYW5ncyB0d2VlIHppamRlbiB0ZWdlbiBkZSBHYWxsaXNjaGUgYWFudmFsbGVuIGJlc2NoZXJtZCB3YXJlbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcIkVlbm1hYWwgaGV0IG9udHpldHRpbmdzbGVnZXIgYmlqIEFsZXNpYSB3YXMgYWFuZ2Vrb21lbiwgd2FyZW4gaGV0IGVpZ2VubGlqayBkZSBSb21laW5lbiBkaWUgYmVsZWdlcmQgd2FyZW4gYWFuZ2V6aWVuIHplIGluZ2VzbG90ZW4gemF0ZW4gdHVzc2VuIHR3ZWUgR2FsbGlzY2hlIGxlZ2Vycy4gT25kZXIgbGVpZGluZyB2YW4gQ29tbWl1cyB2aWVsIGhldCBvbnR6ZXR0aW5nc2xlZ2VyIGRlIGNvbnRyYXZhbGxhdGllbGluaWUgYWFuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiZGl2XCIsIFwic2llZ2VvZmFsZXhpYS1pbWdcIiksIFwiVGVnZWxpamtlcnRpamQgbGlldCBWZXJjaW5nZXRvcml4IHppam4gdHJvZXBlbiBkZSBjaXJjdW12YWxsYXRpZWxpbmllIGFhbnZhbGxlbi4gRGUgZWVyc3RlIGRhZyBoaWVsZGVuIGRlIFJvbWVpbmVuIGdvZWQgc3RhbmQgdGVnZW4gZGUgYWFudmFsbGVuIHZhbiBkZSBHYWxsaVxceEVCcnMsIG1hYXIgZGUgZGFhciBvcHZvbGdlbmRlIGRhZ2VuIGdpbmdlbiBiZXJnYWYuIFplIHdlcmRlbiBnZWR3b25nZW4gb20gZm9ydGVuIGVuIGthbXBlbiBpbiBkZSBjb250cmF2YWxsYXRpZWxpbmllIG9wIHRlIGdldmVuLCBtYWFyIEdhaXVzIHJlYm9uaXVzIGtvbiBtZXQgZGUgY2F2YWxlcmllIHZvb3Jrb21lbiBkYXQgZGUgR2FsbGlcXHhFQnJzIGhpZXIgZ2VicnVpayB2YW4ga29uZGVuIG1ha2VuLiBOYSBtYWFuZGVubGFuZyB2ZWNodGVuIGJlc2xvb3QgZGUgbmVlZiB2YW4gVmVyY2luZ2V0b3JpeCwgVmVyY2Fzc2l2ZWxsYXVub3MsIG9tIG1ldCA2MC4wMDAgbWFuc2NoYXBwZW4gZGUgUm9tZWluc2Ugc3RlbGxpbmdlbiBhYW4gdGUgdmFsbGVuLiBIaWoga29vcyBkZSBwbGVrIHdhYXIgZGUgc3RlbGxpbmdlbiBoZXQgendha3N0IHdhcmVuLCBuYW1lbGlqayB3YWFyIGRlIGxpbmllcyBvcCBkZXplbGZkZSBwbGVrIGVlbiByaXZpZXIga3J1aXN0ZW4uIFZlcmNpbmdldG9yaXggbGlldCB2YW4gYmlubmVudWl0IG9wIGRlemVsZmRlIHBsYWF0cyBlZW4gYWFudmFsIHVpdHZvZXJlbiwgbWFhciBDYWVzYXIgaGFkIHpvdmVlbCB2ZXJ0cm91d2VuIGluIHppam4gdHJvZXBlbiBkYXQgaGlqIGhldCBiZXZlbCBnYWYgb20gZGUgc3RlbGxpbmdlbiB0ZSBiZWhvdWRlbi4gQ2Flc2FyIG5hbSBlZW4gZ3JvdGUgZ29rIGRvb3IgbWV0IDYuMDAwIG1hbnNjaGFwcGVuIGVlbiBsZWdlciB2YW4gNjAuMDAwIG1hbnNjaGFwcGVuIGFhbiB0ZSB2YWxsZW4sIG1hYXIgaGlqIG92ZXJkb25kZXJkZSBkZSBHYWxsaVxceEVCcnMgem8gaGFyZCBkYXQgemUgemljaCBnZW5vb2R6YWFrdCB2b2VsZGVuIG9tIHppY2ggdGVydWcgdGUgdHJla2tlbi5cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkhpZXJtZWUgd2FzIGhldCBiZWxhbmdyaWprc3RlIGVuIG1lZXN0IGJlc2xpc3NlbmRlIGdldmVjaHQgZ2VzdHJlZGVuIHdhYXJuYSBkZSB0cm9lcGVuIGluIEFsZXNpYSB6aWNoIG92ZXJnYXZlbiBkb29yIGhvbmdlcnNub29kIGVuIGdlYnJlayBhYW4gbWFuc2NoYXBwZW4uIFJvbWUgd2FzIGRlIGdyb3RlIG92ZXJ3aW5uYWFyIGJpaiBkZXplIHNsYWcgZGllIGRlIGJhc2lzIHZvcm1kZSB2b29yIGhldCB2ZXJkZXIgdmVyb3ZlcmVuIHZhbiBHYWxsaVxceEVCIGVuIEJyaXR0YW5uaVxceEVCLiBEZSBHYWxsaXNjaGUgc29sZGF0ZW4gd2VyZGVuIGFscyBzbGF2ZW4gbWVlZ2Vub21lbiBlbiB2ZXJrb2NodC4gVmVyY2luZ2V0b3JpeCB3ZXJkIHRldmVucyBnZXZhbmdlbmdlbm9tZW4sIG1hYXIgbmlldCB2ZXJrb2NodCBhYW5nZXppZW4gZGUgUm9tZWluZW4gaGVtIHdpbGRlbiBob3VkZW4gYWxzIHRyb2ZlZS4gTmEgZWVuIHBhYXIgamFhciB3ZXJkIGhpaiByaXR1ZWVsIGdld3VyZ2QgdGlqZGVucyBlZW4gdHJpb21mdG9jaHQuIERlIGVsZW1lbnRlbiBkaWUgZGUgUm9tZWluZW4gZGUgb3Zlcndpbm5pbmcgaGViYmVuIGJlem9yZ2QgemlqbiB2b29yYWwgYmVydXN0IG9wIGRlIGdlZXN0LiBDYWVzYXIgaGVlZnQgc3RlZWRzIGRlIG1vcmVlbCBiaWogemlqbiB0cm9lcGVuIGhvb2cgd2V0ZW4gdGUgaG91ZGVuIGhvZXdlbCB6ZSBzb21zIG5lZGVybGFnZW4gbGVkZW4uIERpdCB6b3JnZGUgZXJ2b29yIGRhdCBkZSBzdHJpamRsdXN0IGJpaiBkZSBzb2xkYXRlbiBhYW53ZXppZyBibGVlZiBlbiB6ZSBzdGVlZHMgdm9lbGRlbiBkYXQgemUgZGUgYm92ZW5oYW5kIGhhZGRlbiBpbiBoZXQgZ2V2ZWNodC4gQ2Flc2FyIG5hbSBoZXQgbW9yZWVsIHZhbiB6aWpuIHRyb2VwZW4gemVlciBzZXJpZXVzIGVuIGdpbmcgemVsZnMgem8gdmVyIGRhdCBoaWogbWV0IGhlbiBtZWVzdHJlZWQuIEhldCBtb3JlZWwgdmFuIHppam4gdHJvZXBlbiBsYWcgYWFuIGRlIGJhc2lzIHZhbiBkZSBsYWF0c3RlIGJlbGFuZ3JpamtlIHNsYWcgYWFuZ2V6aWVuIHplIGhldCBnZXZlY2h0IG9uZGVyYmVtYW5kIG1vZXN0ZW4gYWFuZ2FhbiwgbWFhciB1aXRlaW5kZWxpamsgaGViYmVuIHplIGRlIG92ZXJ3aW5uaW5nIGJlaGFhbGQuIEVlbiB0d2VlZGUgcHVudCB3YWFyZG9vciB6ZSBkZXplIHNsYWcgaGViYmVuIGdld29ubmVuLCBpcyBoZXQgZ29lZCBkb29yZGFjaHRlIGFhbnZhbHNwbGFuIHZhbiBDYWVzYXIuIFpvIGhhZCBoaWogZGUgY29udHJhdmFsbGF0aWVsaW5pZSB2b29yemllbiB2b29yIGVlbiBldmVudHVlbGUgYWFudmFsLiBXYXMgZGV6ZSBsaW5pZSBlciBuaWV0IGdld2Vlc3QsIGhhZGRlbiBkZSBHYWxsaVxceEVCcnMgZGV6ZSB2ZWxkc2xhZyBnZWdhcmFuZGVlcmQgZ2V3b25uZW4gZG9vciBodW4gZ3JvdGUgYWFudGFsbGVuLiBDYWVzYXIgd2FzIG9vayBkZWdlbmUgZGllIGVlbiB2ZXJyYXNzaW5nc2FhbnZhbCBoZWVmdCBrdW5uZW4gYWZ3ZW5kZW4gZG9vciBkZSB2cm91d2VuIGVuIGtpbmRlcmVuIG5pZXQgdWl0IEFsZXNpYSB0ZSBsYXRlbiB2ZXJ0cmVra2VuLiBEZSBHYWxsaVxceEVCcnMgd2lsZGVuIGhlbiBuYW1lbGlqayBhbHMgYWZsZWlkaW5nIGdlYnJ1aWtlbiBvbSBvbmRlcnR1c3NlbiBlZW4gdmVyc3RldmlnaW5nIGFhbiB0ZSB2YWxsZW4sIG1hYXIgZG9vciBDYWVzYXIgemlqbiBiZXNsdWl0IG9tIGRlIHZyb3V3ZW4gZW4ga2luZGVyZW4gbmlldCBidWl0ZW4gdGUgbGF0ZW4gaXMgZGUgYWFudmFsIG5pZXQga3VubmVuIGRvb3JnYWFuLiBIZXQgZW5pZ2UgbmVnYXRpZXZlIHB1bnQgZGF0IGdlb3B0aW1hbGlzZWVyZCBoYWQga3VubmVuIHdvcmRlbiBpcyBkZSBib3V3IHZhbiBkZSBsaW5pZXMgYmlqIGRlIHJpdmllcmVuIGFhbmdlemllbiBkaXQgaGV0IHp3YWtrZSBwdW50IHdhcyB2YW4gaGV0IGthbXAuIERlemUgc2xhZyBpcyBlZW4gZ29lZCB2b29yYmVlbGQgdmFuIGRlIFJvbWVpbnNlIGRpc2NpcGxpbmUgZW4gc3RyaWpkbHVzdCBhYW5nZXppZW4gemUgZ2VlbiBlbmtlbGUgZ3JvdGUgZm91dCBoZWJiZW4gYmVnYWFuIGRpZSB0b3QgZWVuIGV2ZW50dWVlbCB2ZXJsaWVzIGhhZCBrdW5uZW4gbGlqZGVuLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiRGUgc2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJEZSBzbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkIHdlcmQgZ2V2b2NodGVuIHR1c3NlbiBkZSBSb21laW5zZSB0cm9lcGVuIHZhbiBWYXJ1cyBlbiBkZSBHZXJtYWFuc2UgdHJvZXBlbiB2YW4gQXJtaW5pdXMuIERlemUgc2xhZyBsZWlkZGUgZWVuIHpldmVuamFyaWdlIG9vcmxvZyBpbiwgZGllIHVpdGVpbmRlbGlqayB0b3QgZ2V2b2xnIGhhZCBkYXQgZGUgUmlqbiB2b29yIGVlbiBwZXJpb2RlIHZhbiA0MDAgamFhciB3ZXJkIHZhc3RnZWxlZ2QgYWxzIGdyZW5zIHZhbiBoZXQgUm9tZWluc2UgUmlqay4gRGUgc2xhZyB2b25kIHBsYWF0cyBpbiA5IG4uQy4gbmFiaWogS2Fsa3JpZXNlIGRhdCBpbiBEdWl0c2xhbmQgaXMgZ2VsZWdlbi4gRGUgc2xhZyB3YXMgZWVuIHZhbiBkZSBncm9vdHN0ZSBuZWRlcmxhZ2VuIHVpdCBkZSBnZXNjaGllZGVuaXMgdmFuIGhldCBSb21laW5zZSBsZWdlci5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFtcIkRlIFJvbWVpbmVuIHdhcmVuIG5hbWVsaWprIGluIGVlbiBsaXN0IGdldHJhcHQgdmFuIEFybWluaXVzLCBkZSBsZWlkZXIgdmFuIGRlIEdlcm1hYW5zZSBzdGFtbWVuLiBIaWogbGlldCBkb29yZ2V2ZW4gZGF0IGVyIGVlbiBvcHN0YW5kIGFhbiBkZSBnYW5nIHdhcyB2YW4gdmVyb3ZlcmRlIEdlcm1hYW5zZSBzdGFtbWVuLiBIaWogd2lsZGUgZGUgUm9tZWluZW4gbmFtZWxpamsgbmFhciBlZW4gdm9vciBoZW4gb25iZWtlbmQgZ2ViaWVkIGxva2tlbiB6b2RhdCBkZSBHZXJtYW5lbiBlZW4gc3RyYXRlZ2lzY2ggdm9vcmRlZWwgaGFkZGVuLiBEZSBSb21laW5zZSBhYW52b2VyZGVyIFZhcnVzIHdhcyBvcCBkYXQgbW9tZW50IG1ldCB6aWpuIGxlZ2VyIG9wIHdlZyBuYWFyIGh1biB3aW50ZXJrYW1wZW4gdm9vciBkZSBvcGtvbWVuZGUgd2ludGVyLiBIaWogZ2Vsb29mZGUgZWNodGVyIGhldCBuZXBiZXJpY2h0IHZhbiBBcm1pbml1cyBlbiBoaWogd2VlayB2YW4gemlqbiByb3V0ZSBhZiBlbiBnaW5nIGRvb3IgaGV0IFRldXRvYnVyZ2Vyd291ZCBuYWFyIGRlIHpvZ2V6ZWdkZSBvcHN0YW5kLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiV2F0IGhpaiBlY2h0ZXIgbmlldCB3aXN0LCB3YXMgZGF0IGhpaiBvcGdld2FjaHQgd2VyZCBkb29yIGVlbiBncm9vdCBHZXJtYWFucyBsZWdlciBkYXQgemljaCBpbiBoZXQgYm9zIGhhZCB2ZXJzdG9wdCBvbSBlZW4gdmVycmFzc2luZ3NhYW52YWwgdWl0IHRlIHZvZXJlbi4gSGV0IFRldXRvYnVyZ2Vyd291ZCB3YXMgb25kb29yZHJpbmdiYWFyLCBtaXN0aWcgZW4gdm9jaHRpZywgaWV0cyB3YXQgZGUgUm9tZWluZW4gbmlldCBnZXdlbmQgd2FyZW4gYWFuZ2V6aWVuIHppaiBhbHRpamQgb3Agdmxha2tlIGVuIG9wZW4gc2xhZ3ZlbGRlbiBzdHJlZGVuLiBEb29yIGhldCBnZWJyZWsgYWFuIG92ZXJ6aWNodCBlbiBkZSB3aWxsZWtldXIgdmFuIGRlIEdlcm1hbmVuIGhhZGRlbiBkZSBSb21laW5lbiB2YW5hZiBoZXQgYmVnaW4gZWVuIG5hZGVlbC4gWmUga29uZGVuIG5hbWVsaWprIGh1biBnZWJydWlrZWxpamtlIHRhY3RpZWtlbiBuaWV0IHVpdHZvZXJlbiBkb29yIGhldCBnZWJyZWsgYWFuIG9yZ2FuaXNhdGllIGVuIHJ1aW10ZS4gVG9lbiBuYSBlZW4gcGFhciBkYWdlbiBkZSBSb21laW5zZSBvbmRlcmdhbmcgb25hZndlbmRiYWFyIGxlZWssIHBsZWVnZGUgVmFydXMgemVsZm1vb3JkLiBIaWVybWVlIHdhcyBoZXQgbG90IHZhbiB6aWpuIHRyb2VwZW4gb29rIGJlemVnZWxkIGFhbmdlemllbiB6ZSBnZWVuIGxlaWRlciBtZWVyIGhhZGRlbi4gVmFuIGRlIDE4XFx4QTAwMDAgbWFuc2NoYXBwZW4gc2xhYWdkZW4gc2xlY2h0cyBlbmtlbGVuIGVyaW4gYWFuIGRlIHZpamFuZCB0ZSBvbnRzbmFwcGVuIGVuIGRlIFJvbWVpbnNlIHdpbnRlcmthbXBlbiBhYW4gZGUgUmlqbiB0ZSBiZXJlaWtlbi5cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiZGl2XCIsIFwidGV1dG9idXJnZXJ3b3VkLWltZ1wiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwic3BhblwiLCBcInRldXRvYnVyZ2Vyd291ZC1pbWctdHh0XCIsIFwiVWl0emljaHQgdmFuIGhldCBUZXV0b2J1cmdlcndvdWQgZ2ViYXNlZXJkIG9wIHRla3N0ZW4gdmFuIGRlIGVlcnN0ZSBlZXV3IG4uQy5cIikpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlemUgc2xhZyBoYWQgdG90IGdldm9sZyBkYXQgZXIgZWVuIGVpbmRlIGt3YW0gYWFuIGRlIFJvbWVpbnNlIGV4cGFuc2llIGluIE5vb3JkLUV1cm9wYS4gT29rIGhhZCBrZWl6ZXIgQXVndXN0dXMgYmVzbG90ZW4gZGF0IHZhbmFmIHRvZW4gZGUgUmlqbiBkZSB2YXN0ZSBncmVucyB6b3Ugd29yZGVuIHZhbiBoZXQgSW1wZXJpdW0gUm9tYW51bS5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiSW4gZGV6ZSBzbGFnIGlzIGhlZWwgd2F0IG1pc2dlbG9wZW4sIHZvb3JhbCBvcCBoZXQgdmxhayB2YW4gbGVpZGVyc2NoYXAuIEdvZWQgbGVpZGVyc2NoYXAgdm9ybXQgZGUgYmFzaXMgdm9vciBlbGtlIHNsYWcgYWxzIGplIGthbnMgd2lsdCBtYWtlbiBvcCBkZSBvdmVyd2lubmluZy4gVmFydXMgd2FzIGluIGdlZW4gZW5rZWwgb3B6aWNodCBlZW4gZ29lZGUgbGVpZGVyIGluIGRlemUgc2xhZy4gSGlqIG5hbSBpcnJhdGlvbmVsZSBiZXNsaXNzaW5nZW4gZW4gZGFjaHQgbmlldCBuYSBvdmVyIGRlIGdldm9sZ2VuIGhpZXJ2YW4uIEhldCBiZWdvbiByZWVkcyBiaWogaGV0IG5pZXQgbmFnYWFuIHZhbiBkZSBpbmZvcm1hdGllIGRpZSBoaWogaGFkIHZlcmtyZWdlbi4gSGlqIHZlcnRyb3V3ZGUgYmxpbmQgb3AgZGUgdmVya3JlZ2VuIGluZm9ybWF0aWUgZW4gc3RpcHBlbGRlIG1ldGVlbiBlZW4gcm91dGUgdWl0LiBIaWogaGFkIGVpZ2VubGlqayBlZXJzdCBkZSBzaXR1YXRpZSBtb2V0ZW4gYmVraWprZW4gZW4gZXZlbnR1ZWVsIHJ1aXRlcnMgdm9vcm9wIG1vZXRlbiBzdHVyZW4gb20gbmEgdGUgZ2FhbiBvZiBlciB3ZWwgZGVnZWxpamsgZWVuIG9wc3RhbmQgd2FzLiBIaWVybWVlIGhhZCBoaWogaGV0IGNvbmZsaWN0IGt1bm5lbiB2ZXJtaWpkZW4gYWFuZ2V6aWVuIGRlIHJ1aXRlcnMgZGFuIGhhZGRlbiBnZXppZW4gZGF0IGVyIGdlZW4gb3BzdGFuZCB3YXMuIFppam4gdHdlZWRlIGdyb3RlIGZvdXQgd2FzIG9tIGhldCBsZWdlciB3aWpkIGdlc3ByZWlkIHRlIGxhdGVuIGxvcGVuIGluIGVlbiBnZWJpZWQgZGF0IGhpaiBuaWV0IGtlbmRlLiBIZXQgbGVnZXIgd2FzIG5hbWVsaWprIGFhbiBoZXQgbWFyY2hlcmVuIG1ldCBlZW4gYWZzdGFuZCB2YW4gMTUga2lsb21ldGVyIHR1c3NlbiBkZSBlZXJzdGUgZW4gZGUgbGFhdHN0ZSBzb2xkYXRlbi4gSGllcmRvb3Iga29uZGVuIGRlIEdlcm1hbmVuIG1ldCBodW4gZ3JvdGVyZSBhYW50YWxsZW4gZGUga2xlaW5lIGdyb2VwamVzIFJvbWVpbmVuIHpvbmRlciBlbmlnIHByb2JsZWVtIGFhbnZhbGxlbi4gSGFkIGhpaiB6aWpuIGxlZ2VyIGNvbXBhY3QgbGF0ZW4gbWFyY2hlcmVuLCBoYWRkZW4gZGUgUm9tZWluZW4gbm9nIGVlbiBoYWFsYmFyZSBrYW5zIGdlaGFkIG9wIGRlIG92ZXJ3aW5uaW5nIGluIGhldCBnZXZlY2h0IGFhbmdlemllbiBkZSBsYWF0c3RlIHRyb2VwZW4gZGFuIHNuZWwga29uZGVuIGJpanNwcmluZ2VuIG9tIGRlIGVlcnN0ZSB0ZSBoZWxwZW4uIFRpamRlbnMgaGV0IGdldmVjaHQgemVsZiBuYW0gaGlqIGFsbGVlbiBtYWFyIHNsZWNodGUgYmVzbGlzc2luZ2VuLiBIaWogaGFkIHdlbCB2ZWVsIHRlZ2Vuc2xhZyBtZXQgaGV0IHdlZXIgd2FhcmRvb3IgZGUgc2NodXR0ZXJzIGh1biBib2dlbiBuaWV0IGtvbmRlbiBnZWJydWlrZW4gZW4gZGUgaG91dGVuIHNjaGlsZGVuIHRlIHp3YWFyIHdlcmRlbiBvbSB0ZSBkcmFnZW4gZG9vciBoZXQgZ2V3aWNodCB2YW4gaGV0IHdhdGVyIGRhdCBpbiBoZXQgaG91dCB3YXMgb3BnZXNsb3JwdC4gSGlqIGdhZiBoZXQgb3JkZXIgb20gZG9vciB0ZSBtYXJjaGVyZW4gbmFhciBlZW4gb3BlbiBwbGVrLCBtYWFyIGFhbmdlemllbiBoaWogaGV0IGJvcyBuaWV0IGtlbmRlIHdpc3QgaGlqIG5pZXQgZGF0IGVyIGdlZW4gb3BlbiBwbGVra2VuIGluIGh1biBuYWJpamhlaWQgd2FyZW4uIERpdCB3YXMgZWVuIGZvdXQgb3JkZXIgYWFuZ2V6aWVuIGhpaiBkZSBvbWdldmluZyBuaWV0IGtlbmRlIGVuIGR1cyBvb2sgbmlldCB3aXN0IHdhYXIgZXIgemljaCBub2cgR2VybWFuZW4gYmV2b25kZW4uIEhpaiBoYWQgemlqbiBwb3NpdGllIG1vZXRlbiB2ZXJkZWRpZ2VuIG9tIHpvIGVlbiBiYXNpcyBwcm9iZXJlbiBvcCB0ZSByaWNodGVuIGFhbmdlemllbiBoZXQgbGVnZXIgaGV0IGt3ZXRzYmFhcnN0IGlzIHdhbm5lZXIgemUgemljaCBhYW4gaGV0IHZlcnBsYWF0c2VuIHppam4uIFZhcnVzIGdhZiBvb2sgZ2VlbiBzdGV1biBhYW4gemlqbiBtYW5zY2hhcHBlbiB3YWFyZG9vciBkZSBzdHJpamRsdXN0IHdlZyBnaW5nIGVuIHZlbGVuIGhldCBudXQgdmFuIGRlIHN0cmlqZCBuaWV0IG1lZXIgemFnZW4uIERlIExlZ2F0dXMsIE51bW9uaXVzIFZhbGEsIHZhbiBlZW4gdmFuIHppam4gZHJpZSBsZWdpb2VuZW4gd2FzIGVlbiB2YW4gZGllIHBlcnNvbmVuIGRpZSBoZXQgbGVpZGVyc2NoYXAgdmFuIFZhcnVzIGluIHR3aWpmZWwgdHJvayBlbiBkZSB2ZXJ6d2FrdGUgbW9yZWVsIGFhbnZvZWxkZS4gSGlqIHdhcyBkYW4gb29rIGRlZ2VuZSBkaWUgc2FtZW4gbWV0IGRlIHJ1aXRlcnMgdmx1Y2h0dGUgZW4gem8gZGUgdHJvZXBlbiBpbiBkZSBzdGVlayBsaWV0LiBNYWFyIHZlciBrd2FtIGhpaiBuaWV0IGFhbmdlemllbiBoaWogaW4gaGV0IGJvcyB6ZWxmIG5vZyB3ZXJkIGFmZ2VtYWFrdCBkb29yIGRlIHJ1aXRlcnMgdmFuIGRlIEdlcm1hbmVuLiBab25kZXIgZGUgc3RldW4gdmFuIGRlIHJ1aXRlcnMgd2FzIGhldCBsZWdlciB2ZXJ6d2FrdCBlbiBkdXMgZ3JlcGVuIGRlIEdlcm1hbmVuIGh1biBrYW5zLiBaZSBiZWdvbm5lbiBiaWpuYSBpZWRlcmVlbiBnZW5hZGVsb29zIGFmIHRlIHNsYWNodGVuLiBWYXJ1cyB6YWcgb3AgZGF0IG9nZW5ibGlrIGluIGRhdCBoaWogendhYXIgaGFkIGdlZmFhbGQgZW4gcGxlZWdkZSBkYWFyb20gemVsZm1vb3JkLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiVmVyZ2VsaWpraW5nXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkhldCBpcyB6ZWVyIG1vZWlsaWprIG9tIGhldCBodWlkaWdlIGxlZ2VyIHRlIHZlcmdlbGlqa2VuIG1ldCBoZXQgUm9tZWluc2UgbGVnZXIgYWFuZ2V6aWVuIGVyIHppY2ggZWVuIHplZXIgZ3JvdGUgb250d2lra2VsaW5nIGhlZWZ0IHBsYWF0c2dldm9uZGVuIG9wIGhldCBnZWJpZWQgdmFuIHdldGVuc2NoYXBwZW4gZW4gdGVjaG5vbG9naWUuIFZyb2VnZXIgc3RyZWVkIG1lbiBtZXQgZWVuIHp3YWFyZCBlbiBlZW4gc2NoaWxkIGVuIGhhZCBqZSBhbHMgc3RldW4gZW5rZWwgcnVpdGVycy4gTnUgd29yZHQgZXIgZ2VzdHJlZGVuIHZhbm9wIGVlbiB6ZWVyIGdyb3RlIGFmc3RhbmQgYWFuZ2V6aWVuIG1lbiBtYWNoaW5lZ2V3ZXJlbiwgcGlzdG9sZW4sIGxhbmdlYWZzdGFuZHNyYWtrZXR0ZW4sXFx1MjAyNiBnZWJydWlrdC4gRXIgemlqbiBudSBvb2sgdmVlbCBuaWV1d2Ugb25kZXJzdGV1bmluZ3Ntb2dlbGlqa2hlZGVuIHpvYWxzIHRhbmtzLCBzY2hlcGVuIGVuIHZsaWVndHVpZ2VuIHdhYXJkb29yIGVyIGVlbiBoZWxlYm9lbCBuaWV1d2UgdGFjdGlla2VuIG1vZ2VsaWprIHppam4uIERvb3IgYWwgZGV6ZSB2ZXJhbmRlcmluZ2VuIGhlZWZ0IG1lbiBkZSB0YWN0aWVrZW4gZGllIG1lbiBnZWJydWlrdCBvb2sgbW9ldGVuIHZlcmFuZGVyZW4uIFZyb2VnZXIga29uIG1lbiBpbiBlZW4gbWFuIG9wIG1hbiBnZXZlY2h0IHRhY3RpZWtlbiBnZWJydWlrZW4gZGllIHplZXIgZWZmZWN0aWVmIHdhcmVuIG9wIGtvcnRlIGFmc3RhbmQgZW4gZWVuIGtsZWluIHNsYWd2ZWxkLiBBbHMgbWVuIGRlemUgdGVnZW53b29yZGlnIHpvdSB1aXR2b2VyZW4sIHpvdWRlbiBkZSBzb2xkYXRlbiB0ZXIgcGxhYXRzZSB3b3JkZW4gYWZnZW1hYWt0LiBEZSBob2V2ZWVsaGVpZCBzb2xkYXRlbiBkaWUgZGFhZHdlcmtlbGlqayB2ZWNodGVuIGlzIG9vayBzdGVyayBhZmdlbm9tZW4gaW4gdmVyZ2VsaWpraW5nIG1ldCBoZXQgUm9tZWluc2UgbGVnZXIuIFZyb2VnZXIgc3RyZWVkIG1lbiBtZXQgbGVnZXJzIHZhbiB6ZWVyIGdyb3RlIGFhbnRhbGxlbi4gRGV6ZSBhYW50YWxsZW4ga3VubmVuIHdlIG9ucyB0ZWdlbndvb3JkaWcgbmlldCBtZWVyIHZvb3JzdGVsbGVuLiBFciBnZWJldXJ0IG51IHZlZWwgbWVlciBhY2h0ZXIgZGUgc2NoZXJtZW4gb20gZGUgc29sZGF0ZW4gZGllIG1vZXRlbiB2ZWNodGVuIHRlIGhlbHBlbi4gWm8gd29yZHQgZXIgdmlhIHNhdGVsbGlldGVuIG9mIGRyb25lcyBpbmZvcm1hdGllIHZlcnphbWVsZCBvdmVyIGRlIG9tZ2V2aW5nIHdhYXJpbiBkZSBzb2xkYXRlbiB6aWNoIGJldmluZGVuIGVuIGV2ZW50dWVlbCB3YWFyIGh1biB2aWphbmRlbiBzY2h1aWxlbi4gRWVuIHNvbGRhYXQgaGVlZnQgbnUgb29rIGRlIG1vZ2VsaWpraGVpZCBvbSwgbWl0cyBkZSBnb2Vka2V1cmluZyB2YW4gemlqbiBhYW52b2VyZGVyLCBlZW4gbHVjaHRhYW52YWwgaW4gdGUgcm9lcGVuLiBEZSBodWlkaWdlIHRhY3RpZWtlbiBkcmFhaWVuIG9vayBuaWV0IG1lZXIgYWxsZWVuIG1hYXIgcm9uZCBoZXQgbWlsaXRhaXJlIGFzcGVjdCwgbWFhciBvb2sgcm9uZCBvbmRlciBhbmRlcmUgaGV0IGVjb25vbWlzY2hlLiBBbHMgbWVuIHppam4gdmlqYW5kIGVjb25vbWlzY2gga2FuIHZlcnp3YWtrZW4gemFsIGRlemUgb29rIG1pbmRlciB3ZWVyYmFhciB6aWpuLlwiKV0pO1xufTtcblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KSxcbi8qIDI5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9Mb2NhdGlvblV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cbnZhciBfUGF0aFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcik7XG5cbnZhciBfRE9NVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFBvcFN0YXRlRXZlbnQgPSAncG9wc3RhdGUnO1xudmFyIEhhc2hDaGFuZ2VFdmVudCA9ICdoYXNoY2hhbmdlJztcblxudmFyIGdldEhpc3RvcnlTdGF0ZSA9IGZ1bmN0aW9uIGdldEhpc3RvcnlTdGF0ZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwge307XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJRSAxMSBzb21ldGltZXMgdGhyb3dzIHdoZW4gYWNjZXNzaW5nIHdpbmRvdy5oaXN0b3J5LnN0YXRlXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdFRyYWluaW5nL2hpc3RvcnkvcHVsbC8yODlcbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgdXNlcyB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaW5jbHVkaW5nXG4gKiBwdXNoU3RhdGUsIHJlcGxhY2VTdGF0ZSwgYW5kIHRoZSBwb3BzdGF0ZSBldmVudC5cbiAqL1xudmFyIGNyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3RvcnkoKSB7XG4gIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKF9ET01VdGlscy5jYW5Vc2VET00sICdCcm93c2VyIGhpc3RvcnkgbmVlZHMgYSBET00nKTtcblxuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICB2YXIgY2FuVXNlSGlzdG9yeSA9ICgwLCBfRE9NVXRpbHMuc3VwcG9ydHNIaXN0b3J5KSgpO1xuICB2YXIgbmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIgPSAhKDAsIF9ET01VdGlscy5zdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKSgpO1xuXG4gIHZhciBfcHJvcHMkZm9yY2VSZWZyZXNoID0gcHJvcHMuZm9yY2VSZWZyZXNoLFxuICAgICAgZm9yY2VSZWZyZXNoID0gX3Byb3BzJGZvcmNlUmVmcmVzaCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcHJvcHMkZm9yY2VSZWZyZXNoLFxuICAgICAgX3Byb3BzJGdldFVzZXJDb25maXJtID0gcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHVuZGVmaW5lZCA/IF9ET01VdGlscy5nZXRDb25maXJtYXRpb24gOiBfcHJvcHMkZ2V0VXNlckNvbmZpcm0sXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdW5kZWZpbmVkID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG5cbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyAoMCwgX1BhdGhVdGlscy5zdHJpcFRyYWlsaW5nU2xhc2gpKCgwLCBfUGF0aFV0aWxzLmFkZExlYWRpbmdTbGFzaCkocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuXG4gIHZhciBnZXRET01Mb2NhdGlvbiA9IGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKGhpc3RvcnlTdGF0ZSkge1xuICAgIHZhciBfcmVmID0gaGlzdG9yeVN0YXRlIHx8IHt9LFxuICAgICAgICBrZXkgPSBfcmVmLmtleSxcbiAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXG4gICAgdmFyIF93aW5kb3ckbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG4gICAgICAgIHBhdGhuYW1lID0gX3dpbmRvdyRsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgc2VhcmNoID0gX3dpbmRvdyRsb2NhdGlvbi5zZWFyY2gsXG4gICAgICAgIGhhc2ggPSBfd2luZG93JGxvY2F0aW9uLmhhc2g7XG5cblxuICAgIHZhciBwYXRoID0gcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuXG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gKDAsIF9QYXRoVXRpbHMuc3RyaXBQcmVmaXgpKHBhdGgsIGJhc2VuYW1lKTtcblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgKDAsIF9QYXRoVXRpbHMucGFyc2VQYXRoKShwYXRoKSwge1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAga2V5OiBrZXlcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlS2V5ID0gZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSAoMCwgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMi5kZWZhdWx0KSgpO1xuXG4gIHZhciBzZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlUG9wU3RhdGUgPSBmdW5jdGlvbiBoYW5kbGVQb3BTdGF0ZShldmVudCkge1xuICAgIC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG4gICAgaWYgKCgwLCBfRE9NVXRpbHMuaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCkoZXZlbnQpKSByZXR1cm47XG5cbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlSGFzaENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKSk7XG4gIH07XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuXG4gIHZhciBoYW5kbGVQb3AgPSBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcblxuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmV2ZXJ0UG9wID0gZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcblxuICAgIC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2Yga2V5cyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBrZXlzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbEtleXMuaW5kZXhPZih0b0xvY2F0aW9uLmtleSk7XG5cbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuXG4gICAgdmFyIGZyb21JbmRleCA9IGFsbEtleXMuaW5kZXhPZihmcm9tTG9jYXRpb24ua2V5KTtcblxuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuXG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcblxuICAgIGlmIChkZWx0YSkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcbiAgICAgIGdvKGRlbHRhKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKTtcbiAgdmFyIGFsbEtleXMgPSBbaW5pdGlhbExvY2F0aW9uLmtleV07XG5cbiAgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBiYXNlbmFtZSArICgwLCBfUGF0aFV0aWxzLmNyZWF0ZVBhdGgpKGxvY2F0aW9uKTtcbiAgfTtcblxuICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9ICgwLCBfTG9jYXRpb25VdGlscy5jcmVhdGVMb2NhdGlvbikocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoeyBrZXk6IGtleSwgc3RhdGU6IHN0YXRlIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgdmFyIG5leHRLZXlzID0gYWxsS2V5cy5zbGljZSgwLCBwcmV2SW5kZXggPT09IC0xID8gMCA6IHByZXZJbmRleCArIDEpO1xuXG4gICAgICAgICAgbmV4dEtleXMucHVzaChsb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGFsbEtleXMgPSBuZXh0S2V5cztcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9ICgwLCBfTG9jYXRpb25VdGlscy5jcmVhdGVMb2NhdGlvbikocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoeyBrZXk6IGtleSwgc3RhdGU6IHN0YXRlIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcblxuICAgICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxLZXlzW3ByZXZJbmRleF0gPSBsb2NhdGlvbi5rZXk7XG5cbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKTtcblxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ28gPSBmdW5jdGlvbiBnbyhuKSB7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfTtcblxuICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIHJldHVybiBnbygtMSk7XG4gIH07XG5cbiAgdmFyIGdvRm9yd2FyZCA9IGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICByZXR1cm4gZ28oMSk7XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwO1xuXG4gIHZhciBjaGVja0RPTUxpc3RlbmVycyA9IGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XG4gICAgbGlzdGVuZXJDb3VudCArPSBkZWx0YTtcblxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxKSB7XG4gICAgICAoMCwgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIpKHdpbmRvdywgUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpICgwLCBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcikod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAobGlzdGVuZXJDb3VudCA9PT0gMCkge1xuICAgICAgKDAsIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKSh3aW5kb3csIFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcblxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSAoMCwgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIpKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIHZhciBibG9jayA9IGZ1bmN0aW9uIGJsb2NrKCkge1xuICAgIHZhciBwcm9tcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5O1xuXG4vKioqLyB9KSxcbi8qIDMwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MikuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9pbmZlcm5vMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZmVybm8pO1xuXG52YXIgX2luZmVybm9Sb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblxudmFyIF9jcmVhdGVCcm93c2VySGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUJyb3dzZXJIaXN0b3J5KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cbnZhciBfaW5sZWlkaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbnZhciBfb25kZXJ2ZXJkZWxpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9iZXdhcGVuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfdmVsZHNsYWdlbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXG52YXIgX2Jlc2x1aXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxudmFyIF9icm9ubmVuID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBicm93c2VySGlzdG9yeSA9ICgwLCBfY3JlYXRlQnJvd3Nlckhpc3RvcnkyLmRlZmF1bHQpKCk7XG5cbmZ1bmN0aW9uIEFwcChfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2RpdicsICdwYWdlJywgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2hlYWRlcicsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdoMScsIG51bGwsICdIZXQgUm9tZWluc2UgTGVnZXInKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbmF2JywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAndWwnLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbGknLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5MaW5rLCBudWxsLCBudWxsLCB7XG4gICAgJ3RvJzogJy9vY2xhdCcsXG4gICAgJ2FjdGl2ZUNsYXNzTmFtZSc6ICdsaW5rQWN0aXZlQ2xhc3MnLFxuICAgIGNoaWxkcmVuOiAnSW5sZWlkaW5nJ1xuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2xpJywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuTGluaywgbnVsbCwgbnVsbCwge1xuICAgICd0byc6ICcvb2NsYXQvb25kZXJ2ZXJkZWxpbmcnLFxuICAgICdhY3RpdmVDbGFzc05hbWUnOiAnbGlua0FjdGl2ZUNsYXNzJyxcbiAgICBjaGlsZHJlbjogJ29uZGVydmVyZGVsaW5nJ1xuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2xpJywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuTGluaywgbnVsbCwgbnVsbCwge1xuICAgICd0byc6ICcvb2NsYXQvYmV3YXBlbmluZycsXG4gICAgJ2FjdGl2ZUNsYXNzTmFtZSc6ICdsaW5rQWN0aXZlQ2xhc3MnLFxuICAgIGNoaWxkcmVuOiAnYmV3YXBlbmluZydcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdsaScsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLkxpbmssIG51bGwsIG51bGwsIHtcbiAgICAndG8nOiAnL29jbGF0L3ZlbGRzbGFnZW4nLFxuICAgICdhY3RpdmVDbGFzc05hbWUnOiAnbGlua0FjdGl2ZUNsYXNzJyxcbiAgICBjaGlsZHJlbjogJ3ZlbGRzbGFnZW4nXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbGknLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5MaW5rLCBudWxsLCBudWxsLCB7XG4gICAgJ3RvJzogJy9vY2xhdC9iZXNsdWl0JyxcbiAgICAnYWN0aXZlQ2xhc3NOYW1lJzogJ2xpbmtBY3RpdmVDbGFzcycsXG4gICAgY2hpbGRyZW46ICdiZXNsdWl0J1xuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2xpJywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuTGluaywgbnVsbCwgbnVsbCwge1xuICAgICd0byc6ICcvb2NsYXQvYnJvbm5lbicsXG4gICAgJ2FjdGl2ZUNsYXNzTmFtZSc6ICdsaW5rQWN0aXZlQ2xhc3MnLFxuICAgIGNoaWxkcmVuOiAnYnJvbm5lbidcbiAgfSkpXSwge1xuICAgICdvbkNsaWNrJzogb25OYXZpZ2F0ZVxuICB9KSldKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnc2VjdGlvbicsICdjb250ZW50JywgY2hpbGRyZW4pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdmb290ZXInLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnc3BhbicsIG51bGwsICdtZWkgMjAxNycpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdzcGFuJywgbnVsbCwgJ0tvc2ggNkxXaWInKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnc3BhbicsIG51bGwsICdBcXVpbGEgWmllZGlucyAoNiksIFRvYmlhcyBBbGV4YW5kZXIgKDEpJyldKV0pO1xufVxuXG5mdW5jdGlvbiBOb01hdGNoKF9yZWYyKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYyLmNoaWxkcmVuO1xuXG4gIHJldHVybiAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdkaXYnLCBudWxsLCAnSGllciBiZW50IHUgdWl0IGhldCBSb21laW5zZSByaWprJyk7XG59XG5cbnZhciByb3V0ZXMgPSAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZXIsIG51bGwsIG51bGwsIHtcbiAgJ2hpc3RvcnknOiBicm93c2VySGlzdG9yeSxcbiAgY2hpbGRyZW46ICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgJ3BhdGgnOiAnL29jbGF0JyxcbiAgICAnY29tcG9uZW50JzogQXBwLFxuICAgIGNoaWxkcmVuOiBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuSW5kZXhSb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ2NvbXBvbmVudCc6IF9pbmxlaWRpbmcuSW5sZWlkaW5nXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICcvb2NsYXQnLFxuICAgICAgJ2NvbXBvbmVudCc6IF9pbmxlaWRpbmcuSW5sZWlkaW5nXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICcvb2NsYXQvb25kZXJ2ZXJkZWxpbmcnLFxuICAgICAgJ2NvbXBvbmVudCc6IF9vbmRlcnZlcmRlbGluZy5PbmRlcnZlcmRlbGluZ1xuICAgIH0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ3BhdGgnOiAnL29jbGF0L2Jld2FwZW5pbmcnLFxuICAgICAgJ2NvbXBvbmVudCc6IF9iZXdhcGVuaW5nLkJld2FwZW5pbmdcbiAgICB9KSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuUm91dGUsIG51bGwsIG51bGwsIHtcbiAgICAgICdwYXRoJzogJy9vY2xhdC92ZWxkc2xhZ2VuJyxcbiAgICAgICdjb21wb25lbnQnOiBfdmVsZHNsYWdlbi5WZWxkc2xhZ2VuXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICcvb2NsYXQvYmVzbHVpdCcsXG4gICAgICAnY29tcG9uZW50JzogX2Jlc2x1aXQuQmVzbHVpdFxuICAgIH0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ3BhdGgnOiAnL29jbGF0L2Jyb25uZW4nLFxuICAgICAgJ2NvbXBvbmVudCc6IF9icm9ubmVuLkJyb25uZW5cbiAgICB9KSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuUm91dGUsIG51bGwsIG51bGwsIHtcbiAgICAgICdwYXRoJzogJyonLFxuICAgICAgJ2NvbXBvbmVudCc6IE5vTWF0Y2hcbiAgICB9KV1cbiAgfSlcbn0pO1xuXG5faW5mZXJubzIuZGVmYXVsdC5yZW5kZXIocm91dGVzLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpO1xuXG52YXIgb25OYXZpZ2F0ZSA9IGZ1bmN0aW9uIG9uTmF2aWdhdGUoZSkge1xuICB2YXIgY29udGVudEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcblxuICBpZiAoY29udGVudEVsKSB7XG4gICAgY29udGVudEVsLnNjcm9sbFRvcCA9IDA7XG4gIH1cbn07XG5cbi8qKiovIH0pLFxuLyogMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBjYW5Vc2VET00gPSBleHBvcnRzLmNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbnZhciBhZGRFdmVudExpc3RlbmVyID0gZXhwb3J0cy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIG5vZGUuYWRkRXZlbnRMaXN0ZW5lciA/IG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKSA6IG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG59O1xuXG52YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGV4cG9ydHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxudmFyIGdldENvbmZpcm1hdGlvbiA9IGV4cG9ydHMuZ2V0Q29uZmlybWF0aW9uID0gZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBjYWxsYmFjayh3aW5kb3cuY29uZmlybShtZXNzYWdlKSk7XG59OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWFsZXJ0XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXG4gKiBjaGFuZ2VkIHRvIGF2b2lkIGZhbHNlIG5lZ2F0aXZlcyBmb3IgV2luZG93cyBQaG9uZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cbnZhciBzdXBwb3J0c0hpc3RvcnkgPSBleHBvcnRzLnN1cHBvcnRzSGlzdG9yeSA9IGZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cbiAqIElFMTAgYW5kIElFMTEgZG8gbm90LlxuICovXG52YXIgc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSA9IGV4cG9ydHMuc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSA9IGZ1bmN0aW9uIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cbnZhciBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IGV4cG9ydHMuc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBmdW5jdGlvbiBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpIHtcbiAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA9PT0gLTE7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIGdpdmVuIHBvcHN0YXRlIGV2ZW50IGlzIGFuIGV4dHJhbmVvdXMgV2ViS2l0IGV2ZW50LlxuICogQWNjb3VudHMgZm9yIHRoZSBmYWN0IHRoYXQgQ2hyb21lIG9uIGlPUyBmaXJlcyByZWFsIHBvcHN0YXRlIGV2ZW50c1xuICogY29udGFpbmluZyB1bmRlZmluZWQgc3RhdGUgd2hlbiBwcmVzc2luZyB0aGUgYmFjayBidXR0b24uXG4gKi9cbnZhciBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZXhwb3J0cy5pc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZnVuY3Rpb24gaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkge1xuICByZXR1cm4gZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xufTtcblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVzb2x2ZVBhdGhuYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cbnZhciBfcmVzb2x2ZVBhdGhuYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc29sdmVQYXRobmFtZSk7XG5cbnZhciBfdmFsdWVFcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXG52YXIgX3ZhbHVlRXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFsdWVFcXVhbCk7XG5cbnZhciBfUGF0aFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjcmVhdGVMb2NhdGlvbiA9IGV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gKDAsIF9QYXRoVXRpbHMucGFyc2VQYXRoKShwYXRoKTtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9IGVsc2Uge1xuICAgIC8vIE9uZS1hcmcgZm9ybTogcHVzaChsb2NhdGlvbilcbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBwYXRoKTtcblxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5wYXRobmFtZSA9ICcnO1xuXG4gICAgaWYgKGxvY2F0aW9uLnNlYXJjaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5jaGFyQXQoMCkgIT09ICc/JykgbG9jYXRpb24uc2VhcmNoID0gJz8nICsgbG9jYXRpb24uc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5zZWFyY2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLmhhc2guY2hhckF0KDApICE9PSAnIycpIGxvY2F0aW9uLmhhc2ggPSAnIycgKyBsb2NhdGlvbi5oYXNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlICE9PSB1bmRlZmluZWQgJiYgbG9jYXRpb24uc3RhdGUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIGxvY2F0aW9uLmtleSA9IGtleTtcblxuICBpZiAoY3VycmVudExvY2F0aW9uKSB7XG4gICAgLy8gUmVzb2x2ZSBpbmNvbXBsZXRlL3JlbGF0aXZlIHBhdGhuYW1lIHJlbGF0aXZlIHRvIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWU7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAoMCwgX3Jlc29sdmVQYXRobmFtZTIuZGVmYXVsdCkobG9jYXRpb24ucGF0aG5hbWUsIGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxudmFyIGxvY2F0aW9uc0FyZUVxdWFsID0gZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiAoMCwgX3ZhbHVlRXF1YWwyLmRlZmF1bHQpKGEuc3RhdGUsIGIuc3RhdGUpO1xufTtcblxuLyoqKi8gfSksXG4vKiAzNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSBmdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpIHtcbiAgdmFyIHByb21wdCA9IG51bGw7XG5cbiAgdmFyIHNldFByb21wdCA9IGZ1bmN0aW9uIHNldFByb21wdChuZXh0UHJvbXB0KSB7XG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShwcm9tcHQgPT0gbnVsbCwgJ0EgaGlzdG9yeSBzdXBwb3J0cyBvbmx5IG9uZSBwcm9tcHQgYXQgYSB0aW1lJyk7XG5cbiAgICBwcm9tcHQgPSBuZXh0UHJvbXB0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9tcHQgPT09IG5leHRQcm9tcHQpIHByb21wdCA9IG51bGw7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY29uZmlybVRyYW5zaXRpb25UbyA9IGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiBJZiBhbm90aGVyIHRyYW5zaXRpb24gc3RhcnRzIHdoaWxlIHdlJ3JlIHN0aWxsIGNvbmZpcm1pbmdcbiAgICAvLyB0aGUgcHJldmlvdXMgb25lLCB3ZSBtYXkgZW5kIHVwIGluIGEgd2VpcmQgc3RhdGUuIEZpZ3VyZSBvdXQgdGhlXG4gICAgLy8gYmVzdCB3YXkgdG8gaGFuZGxlIHRoaXMuXG4gICAgaWYgKHByb21wdCAhPSBudWxsKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHlwZW9mIHByb21wdCA9PT0gJ2Z1bmN0aW9uJyA/IHByb21wdChsb2NhdGlvbiwgYWN0aW9uKSA6IHByb21wdDtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2V0VXNlckNvbmZpcm1hdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGdldFVzZXJDb25maXJtYXRpb24ocmVzdWx0LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0EgaGlzdG9yeSBuZWVkcyBhIGdldFVzZXJDb25maXJtYXRpb24gZnVuY3Rpb24gaW4gb3JkZXIgdG8gdXNlIGEgcHJvbXB0IG1lc3NhZ2UnKTtcblxuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgZnJvbSBhIHRyYW5zaXRpb24gaG9vayB0byBjYW5jZWwgdGhlIHRyYW5zaXRpb24uXG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCAhPT0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIHZhciBhcHBlbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFwcGVuZExpc3RlbmVyKGZuKSB7XG4gICAgdmFyIGlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgaWYgKGlzQWN0aXZlKSBmbi5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBub3RpZnlMaXN0ZW5lcnMgPSBmdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gbGlzdGVuZXIuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHNldFByb21wdDogc2V0UHJvbXB0LFxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG86IGNvbmZpcm1UcmFuc2l0aW9uVG8sXG4gICAgYXBwZW5kTGlzdGVuZXI6IGFwcGVuZExpc3RlbmVyLFxuICAgIG5vdGlmeUxpc3RlbmVyczogbm90aWZ5TGlzdGVuZXJzXG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjtcblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vIE1ha2Ugc3VyZSB1IHVzZSBFTVBUWV9PQkogZnJvbSAnaW5mZXJubycsIG90aGVyd2lzZSBpdCdsbCBiZSBhIGRpZmZlcmVudCByZWZlcmVuY2VcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIG5vT3AgPSBpbmZlcm5vX3NoYXJlZF8xLkVSUk9SX01TRztcclxuaWYgKGZhbHNlKSB7XHJcbiAgICBub09wID0gJ0luZmVybm8gRXJyb3I6IENhbiBvbmx5IHVwZGF0ZSBhIG1vdW50ZWQgb3IgbW91bnRpbmcgY29tcG9uZW50LiBUaGlzIHVzdWFsbHkgbWVhbnMgeW91IGNhbGxlZCBzZXRTdGF0ZSgpIG9yIGZvcmNlVXBkYXRlKCkgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4gVGhpcyBpcyBhIG5vLW9wLic7XHJcbn1cclxudmFyIGNvbXBvbmVudENhbGxiYWNrUXVldWUgPSBuZXcgTWFwKCk7XHJcbi8vIHdoZW4gYSBjb21wb25lbnRzIHJvb3QgVk5vZGUgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgY2FuIHJ1biBpbnRvIGlzc3Vlc1xyXG4vLyB0aGlzIHdpbGwgcmVjdXJzaXZlbHkgbG9vayBmb3Igdk5vZGUucGFyZW50Tm9kZSBpZiB0aGUgVk5vZGUgaXMgYSBjb21wb25lbnRcclxuZnVuY3Rpb24gdXBkYXRlUGFyZW50Q29tcG9uZW50Vk5vZGVzKHZOb2RlLCBkb20pIHtcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHZhciBwYXJlbnRWTm9kZSA9IHZOb2RlLnBhcmVudFZOb2RlO1xyXG4gICAgICAgIGlmIChwYXJlbnRWTm9kZSkge1xyXG4gICAgICAgICAgICBwYXJlbnRWTm9kZS5kb20gPSBkb207XHJcbiAgICAgICAgICAgIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2RlcyhwYXJlbnRWTm9kZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxudmFyIHJlc29sdmVkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5mdW5jdGlvbiBhZGRUb1F1ZXVlKGNvbXBvbmVudCwgZm9yY2UsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgcXVldWUgPSBjb21wb25lbnRDYWxsYmFja1F1ZXVlLmdldChjb21wb25lbnQpO1xyXG4gICAgaWYgKHF1ZXVlID09PSB2b2lkIDApIHtcclxuICAgICAgICBxdWV1ZSA9IFtdO1xyXG4gICAgICAgIGNvbXBvbmVudENhbGxiYWNrUXVldWUuc2V0KGNvbXBvbmVudCwgcXVldWUpO1xyXG4gICAgICAgIHJlc29sdmVkUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50Q2FsbGJhY2tRdWV1ZS5kZWxldGUoY29tcG9uZW50KTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmb3JjZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHF1ZXVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVbaV0uY2FsbChjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2FsbGJhY2spKSB7XHJcbiAgICAgICAgcXVldWUucHVzaChjYWxsYmFjayk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVTdGF0ZUNoYW5nZXMoY29tcG9uZW50LCBuZXdTdGF0ZSwgY2FsbGJhY2spIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24obmV3U3RhdGUpKSB7XHJcbiAgICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZShjb21wb25lbnQuc3RhdGUsIGNvbXBvbmVudC5wcm9wcywgY29tcG9uZW50LmNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgdmFyIHBlbmRpbmcgPSBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZTtcclxuICAgIGlmIChwZW5kaW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBwZW5kaW5nID0gbmV3U3RhdGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmb3IgKHZhciBzdGF0ZUtleSBpbiBuZXdTdGF0ZSkge1xyXG4gICAgICAgICAgICBwZW5kaW5nW3N0YXRlS2V5XSA9IG5ld1N0YXRlW3N0YXRlS2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgJiYgIWNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlICYmICFjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgaWYgKCFjb21wb25lbnQuX3VwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmYWxzZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhZGRUb1F1ZXVlKGNvbXBvbmVudCwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgc3RhdGUgPSBjb21wb25lbnQuc3RhdGU7XHJcbiAgICAgICAgaWYgKHN0YXRlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IHBlbmRpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgc3RhdGVba2V5XSA9IHBlbmRpbmdba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2FsbGJhY2spICYmIGNvbXBvbmVudC5fYmxvY2tSZW5kZXIpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll9saWZlY3ljbGUuYWRkTGlzdGVuZXIoY2FsbGJhY2suYmluZChjb21wb25lbnQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlTdGF0ZShjb21wb25lbnQsIGZvcmNlLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKGNvbXBvbmVudC5fdW5tb3VudGVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGZvcmNlIHx8ICFjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgcGVuZGluZ1N0YXRlID0gY29tcG9uZW50Ll9wZW5kaW5nU3RhdGU7XHJcbiAgICAgICAgdmFyIHByZXZTdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZTtcclxuICAgICAgICB2YXIgbmV4dFN0YXRlID0gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShwcmV2U3RhdGUsIHBlbmRpbmdTdGF0ZSk7XHJcbiAgICAgICAgdmFyIHByb3BzID0gY29tcG9uZW50LnByb3BzO1xyXG4gICAgICAgIHZhciBjb250ZXh0XzEgPSBjb21wb25lbnQuY29udGV4dDtcclxuICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIG5leHRJbnB1dCA9IGNvbXBvbmVudC5fdXBkYXRlQ29tcG9uZW50KHByZXZTdGF0ZSwgbmV4dFN0YXRlLCBwcm9wcywgcHJvcHMsIGNvbnRleHRfMSwgZm9yY2UsIHRydWUpO1xyXG4gICAgICAgIHZhciBkaWRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIG5leHRJbnB1dCA9IGluZmVybm9fMS5jcmVhdGVWTm9kZSg0MDk2IC8qIFZvaWQgKi8sIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuZXh0SW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICAgICAgbmV4dElucHV0ID0gY29tcG9uZW50Ll9sYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgIGRpZFVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBuZXh0SW5wdXQgPSBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoMSAvKiBUZXh0ICovLCBudWxsLCBudWxsLCBuZXh0SW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsYXN0SW5wdXQgPSBjb21wb25lbnQuX2xhc3RJbnB1dDtcclxuICAgICAgICB2YXIgdk5vZGUgPSBjb21wb25lbnQuX3ZOb2RlO1xyXG4gICAgICAgIHZhciBwYXJlbnREb20gPSAobGFzdElucHV0LmRvbSAmJiBsYXN0SW5wdXQuZG9tLnBhcmVudE5vZGUpIHx8IChsYXN0SW5wdXQuZG9tID0gdk5vZGUuZG9tKTtcclxuICAgICAgICBjb21wb25lbnQuX2xhc3RJbnB1dCA9IG5leHRJbnB1dDtcclxuICAgICAgICBpZiAoZGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZENvbnRleHQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50LmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50Ll9jaGlsZENvbnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKGNvbnRleHRfMSwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGlmZUN5Y2xlID0gY29tcG9uZW50Ll9saWZlY3ljbGU7XHJcbiAgICAgICAgICAgIGluZmVybm9fMS5pbnRlcm5hbF9wYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlQ3ljbGUsIGNoaWxkQ29udGV4dCwgY29tcG9uZW50Ll9pc1NWRywgZmFsc2UpO1xyXG4gICAgICAgICAgICBsaWZlQ3ljbGUudHJpZ2dlcigpO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJvcHMsIHByZXZTdGF0ZSwgY29udGV4dF8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGluZmVybm9fMS5vcHRpb25zLmFmdGVyVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUodk5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkb20gPSB2Tm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgaW5mZXJub18xLmludGVybmFsX0RPTU5vZGVNYXAuc2V0KGNvbXBvbmVudCwgbmV4dElucHV0LmRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2Rlcyh2Tm9kZSwgZG9tKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwoY29tcG9uZW50KTtcclxuICAgIH1cclxufVxyXG52YXIgYWxyZWFkeVdhcm5lZCA9IGZhbHNlO1xyXG52YXIgQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fYmxvY2tTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9sYXN0SW5wdXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3ZOb2RlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl91bm1vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9saWZlY3ljbGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2NoaWxkQ29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5faXNTVkcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzIHx8IGluZmVybm9fMS5FTVBUWV9PQko7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCBpbmZlcm5vXzEuRU1QVFlfT0JKOyAvLyBjb250ZXh0IHNob3VsZCBub3QgYmUgbXV0YWJsZVxyXG4gICAgfVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl91bm1vdW50ZWQgfHwgIWluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwbHlTdGF0ZSh0aGlzLCB0cnVlLCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChuZXdTdGF0ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ibG9ja1NldFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlU3RhdGVDaGFuZ2VzKHRoaXMsIG5ld1N0YXRlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignY2Fubm90IHVwZGF0ZSBzdGF0ZSB2aWEgc2V0U3RhdGUoKSBpbiBjb21wb25lbnRXaWxsVXBkYXRlKCkgb3IgY29uc3RydWN0b3IuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGVTeW5jID0gZnVuY3Rpb24gKG5ld1N0YXRlKSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICghYWxyZWFkeVdhcm5lZCkge1xyXG4gICAgICAgICAgICAgICAgYWxyZWFkeVdhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0luZmVybm8gV0FSTklORzogc2V0U3RhdGVTeW5jIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IHJlbGVhc2UuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuX3VwZGF0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcHJldlByb3BzLCBuZXh0UHJvcHMsIGNvbnRleHQsIGZvcmNlLCBmcm9tU2V0U3RhdGUpIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5tb3VudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKG5vT3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikgfHwgcHJldlN0YXRlICE9PSBuZXh0U3RhdGUgfHwgZm9yY2UpIHtcclxuICAgICAgICAgICAgaWYgKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgJiYgIWZyb21TZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1JlbmRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20obmV4dFN0YXRlLCB0aGlzLl9wZW5kaW5nU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogVXBkYXRlIGlmIHNjdSBpcyBub3QgZGVmaW5lZCwgb3IgaXQgcmV0dXJucyB0cnV0aHkgdmFsdWUgb3IgZm9yY2UgKi9cclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQodGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUpIHx8IHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBjb250ZXh0KSB8fCBmb3JjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyID0gdGhpcy5yZW5kZXIobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fMS5vcHRpb25zLmFmdGVyUmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZlcm5vX3NoYXJlZF8xLk5PX09QO1xyXG4gICAgfTtcclxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KSB7IH07XHJcbiAgICByZXR1cm4gQ29tcG9uZW50O1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBDb21wb25lbnQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDM2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIGNvbXBvbmVudEhvb2tzID0gbmV3IFNldCgpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50V2lsbE1vdW50Jyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnREaWRNb3VudCcpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50V2lsbFVubW91bnQnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudFNob3VsZFVwZGF0ZScpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50V2lsbFVwZGF0ZScpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50RGlkVXBkYXRlJyk7XHJcbi8qKlxyXG4gKiBDcmVhdGVzIHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0ge3N0cmluZ3xGdW5jdGlvbnxDb21wb25lbnQ8YW55LCBhbnk+fSB0eXBlIFR5cGUgb2Ygbm9kZVxyXG4gKiBAcGFyYW0ge29iamVjdD19IHByb3BzIE9wdGlvbmFsIHByb3BzIGZvciB2aXJ0dWFsIG5vZGVcclxuICogQHBhcmFtIHsuLi57b2JqZWN0fT19IF9jaGlsZHJlbiBPcHRpb25hbCBjaGlsZHJlbiBmb3IgdmlydHVhbCBub2RlXHJcbiAqIEByZXR1cm5zIHtWTm9kZX0gbmV3IHZpcnR1YWwgbmRvZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBwcm9wcykge1xyXG4gICAgdmFyIF9jaGlsZHJlbiA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBfY2hpbGRyZW5bX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQodHlwZSkgfHwgaW5mZXJub19zaGFyZWRfMS5pc09iamVjdCh0eXBlKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW5mZXJubyBFcnJvcjogY3JlYXRlRWxlbWVudCgpIG5hbWUgcGFyYW1ldGVyIGNhbm5vdCBiZSB1bmRlZmluZWQsIG51bGwsIGZhbHNlIG9yIHRydWUsIEl0IG11c3QgYmUgYSBzdHJpbmcsIGNsYXNzIG9yIGZ1bmN0aW9uLicpO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gX2NoaWxkcmVuO1xyXG4gICAgdmFyIHJlZiA9IG51bGw7XHJcbiAgICB2YXIga2V5ID0gbnVsbDtcclxuICAgIHZhciBjbGFzc05hbWUgPSBudWxsO1xyXG4gICAgdmFyIGZsYWdzID0gMDtcclxuICAgIHZhciBuZXdQcm9wcztcclxuICAgIGlmIChfY2hpbGRyZW4pIHtcclxuICAgICAgICBpZiAoX2NoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IF9jaGlsZHJlblswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoX2NoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IHZvaWQgMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyh0eXBlKSkge1xyXG4gICAgICAgIGZsYWdzID0gaW5mZXJub18xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlKHR5cGUpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzKSkge1xyXG4gICAgICAgICAgICBuZXdQcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2NsYXNzTmFtZScgfHwgcHJvcCA9PT0gJ2NsYXNzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2tleScpIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXkgPSBwcm9wcy5rZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnY2hpbGRyZW4nICYmIGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjsgLy8gYWx3YXlzIGZhdm91ciBjaGlsZHJlbiBhcmdzLCBkZWZhdWx0IHRvIHByb3BzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAncmVmJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IHByb3BzLnJlZjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzW3Byb3BdID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmbGFncyA9IDE2IC8qIENvbXBvbmVudFVua25vd24gKi87XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIG5ld1Byb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRIb29rcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWYgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmW3Byb3BdID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAna2V5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHByb3BzLmtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzW3Byb3BdID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKGZsYWdzLCB0eXBlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCBuZXdQcm9wcywga2V5LCByZWYpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUVsZW1lbnQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDM3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBMaW5rXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcclxuZnVuY3Rpb24gSW5kZXhMaW5rKHByb3BzKSB7XHJcbiAgICBwcm9wcy50byA9ICcvJztcclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoOCAvKiBDb21wb25lbnRGdW5jdGlvbiAqLywgTGlua18xLmRlZmF1bHQsIG51bGwsIG51bGwsIHByb3BzKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBJbmRleExpbms7XHJcblxuXG4vKioqLyB9KSxcbi8qIDM4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSb3V0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxudmFyIEluZGV4Um91dGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEluZGV4Um91dGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBJbmRleFJvdXRlKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgcHJvcHMucGF0aCA9ICcvJztcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSW5kZXhSb3V0ZTtcclxufShSb3V0ZV8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXhSb3V0ZTtcclxuXG5cbi8qKiovIH0pLFxuLyogMzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJvdXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG52YXIgUmVkaXJlY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlZGlyZWN0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVkaXJlY3QocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBpZiAoIXByb3BzLnRvKSB7XHJcbiAgICAgICAgICAgIHByb3BzLnRvID0gJy8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVkaXJlY3Q7XHJcbn0oUm91dGVfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJlZGlyZWN0O1xyXG5cblxuLyoqKi8gfSksXG4vKiA0MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxudmFyIG1hdGNoXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcclxudmFyIFJvdXRlckNvbnRleHRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xyXG5mdW5jdGlvbiBjcmVhdGVyUm91dGVyKGhpc3RvcnkpIHtcclxuICAgIGlmICghaGlzdG9yeSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZmVybm86IEVycm9yIFwiaW5mZXJuby1yb3V0ZXJcIiByZXF1aXJlcyBhIGhpc3RvcnkgcHJvcCBwYXNzZWQnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3JlYXRlSHJlZjogaGlzdG9yeS5jcmVhdGVIcmVmLFxyXG4gICAgICAgIGxpc3RlbjogaGlzdG9yeS5saXN0ZW4sXHJcbiAgICAgICAgcHVzaDogaGlzdG9yeS5wdXNoLFxyXG4gICAgICAgIHJlcGxhY2U6IGhpc3RvcnkucmVwbGFjZSxcclxuICAgICAgICBpc0FjdGl2ZTogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hfMS5tYXRjaFBhdGgodHJ1ZSwgdXJsLCB0aGlzLnVybCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgbG9jYXRpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAnYmxhbmsnID8gaGlzdG9yeS5sb2NhdGlvbiA6IHtcclxuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiAnLycsXHJcbiAgICAgICAgICAgICAgICBzZWFyY2g6ICcnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgdXJsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbi5wYXRobmFtZSArIHRoaXMubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxudmFyIFJvdXRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUm91dGVyKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucm91dGVyID0gY3JlYXRlclJvdXRlcihwcm9wcy5oaXN0b3J5KTtcclxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgdXJsOiBwcm9wcy51cmwgfHwgX3RoaXMucm91dGVyLnVybFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5yb3V0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy51bmxpc3RlbiA9IHRoaXMucm91dGVyLmxpc3RlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZVRvKF90aGlzLnJvdXRlci51cmwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogbmV4dFByb3BzLnVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51bmxpc3Rlbikge1xyXG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlci5wcm90b3R5cGUucm91dGVUbyA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB1cmw6IHVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBoaXQgPSBtYXRjaF8xLmRlZmF1bHQocHJvcHMuY2hpbGRyZW4sIHRoaXMuc3RhdGUudXJsKTtcclxuICAgICAgICBpZiAoaGl0LnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucm91dGVyLnJlcGxhY2UoaGl0LnJlZGlyZWN0KTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIFJvdXRlckNvbnRleHRfMS5kZWZhdWx0LCBudWxsLCBudWxsLCB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLnN0YXRlLnVybCxcclxuICAgICAgICAgICAgbWF0Y2hlZDogaGl0Lm1hdGNoZWQsXHJcbiAgICAgICAgICAgIHJvdXRlcjogdGhpcy5yb3V0ZXJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUm91dGVyO1xyXG59KGluZmVybm9fY29tcG9uZW50XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIHBhcnNpbmcgcGxhaW4gcm91dGUgY29uZmlndXJhdGlvbnNcclxuICogYmFzZWQgb24gcmVhY3Qtcm91dGVyIGNyZWF0ZVJvdXRlcyBoYW5kbGVyLlxyXG4gKlxyXG4gKiBjdXJyZW50bHkgc3VwcG9ydGVkIGtleXM6XHJcbiAqIC0gcGF0aFxyXG4gKiAtIGNvbXBvbmVudFxyXG4gKiAtIGNoaWxkUm91dGVzXHJcbiAqIC0gaW5kZXhSb3V0ZVxyXG4gKlxyXG4gKiBVc2FnZSBleGFtcGxlOlxyXG4gKiBjb25zdCByb3V0ZXMgPSBjcmVhdGVSb3V0ZXMoW1xyXG4gKiAge1xyXG4gKiAgICBwYXRoICAgICAgICA6ICcvJyxcclxuICogICAgY29tcG9uZW50ICAgOiBBcHAsXHJcbiAqICAgIGluZGV4Um91dGUgIDoge1xyXG4gKiAgICAgIGNvbXBvbmVudCAgICAgOiBIb21lLFxyXG4gKiAgICB9LFxyXG4gKiAgICBjaGlsZFJvdXRlcyA6IFtcclxuICogICAgICB7XHJcbiAqICAgICAgICBwYXRoIDogJ2ZpbG1zLycsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBGaWxtcyxcclxuICogICAgICAgIGNoaWxkUm91dGVzIDoge1xyXG4gKiAgICAgICAgICBwYXRoIDogJ2RldGFpbC86aWQnLFxyXG4gKiAgICAgICAgICBjb21wb25lbnQgOiBGaWxtRGV0YWlsLFxyXG4gKiAgICAgICAgfVxyXG4gKiAgICAgIH0sXHJcbiAqICAgICAge1xyXG4gKiAgICAgICAgcGF0aCA6ICcvKicsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBOb01hdGNoXHJcbiAqICAgICAgfVxyXG4gKiAgICBdXHJcbiAqICB9XHJcbiAqIF0pO1xyXG4gKlxyXG4gKiBVc2FnZSBvbiBSb3V0ZXIgSlNYXHJcbiAqIDxSb3V0ZXIgaGlzdG9yeT17YnJvd3Nlckhpc3Rvcnl9IGNoaWxkcmVuPXtyb3V0ZXN9IC8+XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgUm91dGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcbnZhciBoYW5kbGVJbmRleFJvdXRlID0gZnVuY3Rpb24gKGluZGV4Um91dGVOb2RlKSB7IHJldHVybiBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEuZGVmYXVsdChSb3V0ZV8xLmRlZmF1bHQsIGluZGV4Um91dGVOb2RlKTsgfTtcclxudmFyIGhhbmRsZUNoaWxkUm91dGUgPSBmdW5jdGlvbiAoY2hpbGRSb3V0ZU5vZGUpIHsgcmV0dXJuIGhhbmRsZVJvdXRlTm9kZShjaGlsZFJvdXRlTm9kZSk7IH07XHJcbnZhciBoYW5kbGVDaGlsZFJvdXRlcyA9IGZ1bmN0aW9uIChjaGlsZFJvdXRlTm9kZXMpIHsgcmV0dXJuIGNoaWxkUm91dGVOb2Rlcy5tYXAoaGFuZGxlQ2hpbGRSb3V0ZSk7IH07XHJcbmZ1bmN0aW9uIGhhbmRsZVJvdXRlTm9kZShyb3V0ZUNvbmZpZ05vZGUpIHtcclxuICAgIGlmIChyb3V0ZUNvbmZpZ05vZGUuaW5kZXhSb3V0ZSAmJiAhcm91dGVDb25maWdOb2RlLmNoaWxkUm91dGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgcm91dGVDb25maWdOb2RlKTtcclxuICAgIH1cclxuICAgIC8vIGNyZWF0ZSBkZWVwIGNvcHkgb2YgY29uZmlnXHJcbiAgICB2YXIgbm9kZSA9IHt9O1xyXG4gICAgZm9yICh2YXIga2V5IGluIHJvdXRlQ29uZmlnTm9kZSkge1xyXG4gICAgICAgIG5vZGVba2V5XSA9IHJvdXRlQ29uZmlnTm9kZVtrZXldO1xyXG4gICAgfVxyXG4gICAgbm9kZS5jaGlsZHJlbiA9IFtdO1xyXG4gICAgLy8gaGFuZGxlIGluZGV4IHJvdXRlIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuaW5kZXhSb3V0ZSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChoYW5kbGVJbmRleFJvdXRlKG5vZGUuaW5kZXhSb3V0ZSkpO1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmluZGV4Um91dGU7XHJcbiAgICB9XHJcbiAgICAvLyBoYW5kbGUgY2hpbGQgcm91dGVzIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuY2hpbGRSb3V0ZXMpIHtcclxuICAgICAgICB2YXIgbm9kZXMgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZFJvdXRlcykgPyBub2RlLmNoaWxkUm91dGVzIDogW25vZGUuY2hpbGRSb3V0ZXNdO1xyXG4gICAgICAgIChfYSA9IG5vZGUuY2hpbGRyZW4pLnB1c2guYXBwbHkoX2EsIGhhbmRsZUNoaWxkUm91dGVzKG5vZGVzKSk7XHJcbiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRSb3V0ZXM7XHJcbiAgICB9XHJcbiAgICAvLyBjbGVhbnVwIHRvIG1hdGNoIG5hdGl2ZSByZW5kZXJlZCByZXN1bHRcclxuICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuWzBdO1xyXG4gICAgfVxyXG4gICAgaWYgKChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHx8XHJcbiAgICAgICAgKCFpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgT2JqZWN0LmtleXMobm9kZS5jaGlsZHJlbikubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgbm9kZSk7XHJcbiAgICB2YXIgX2E7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHJvdXRlQ29uZmlnKSB7IHJldHVybiByb3V0ZUNvbmZpZy5tYXAoaGFuZGxlUm91dGVOb2RlKTsgfTtcclxuXG5cbi8qKiovIH0pLFxuLyogNDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY3JlYXRlUm91dGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcclxuZXhwb3J0cy5jcmVhdGVSb3V0ZXMgPSBjcmVhdGVSb3V0ZXNfMS5kZWZhdWx0O1xyXG52YXIgSW5kZXhMaW5rXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcclxuZXhwb3J0cy5JbmRleExpbmsgPSBJbmRleExpbmtfMS5kZWZhdWx0O1xyXG52YXIgSW5kZXhSb3V0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XHJcbmV4cG9ydHMuSW5kZXhSb3V0ZSA9IEluZGV4Um91dGVfMS5kZWZhdWx0O1xyXG52YXIgTGlua18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XHJcbmV4cG9ydHMuTGluayA9IExpbmtfMS5kZWZhdWx0O1xyXG52YXIgbWF0Y2hfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xyXG5leHBvcnRzLm1hdGNoID0gbWF0Y2hfMS5kZWZhdWx0O1xyXG52YXIgUmVkaXJlY3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xyXG5leHBvcnRzLlJlZGlyZWN0ID0gUmVkaXJlY3RfMS5kZWZhdWx0O1xyXG5leHBvcnRzLkluZGV4UmVkaXJlY3QgPSBSZWRpcmVjdF8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxuZXhwb3J0cy5Sb3V0ZSA9IFJvdXRlXzEuZGVmYXVsdDtcclxudmFyIFJvdXRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XHJcbmV4cG9ydHMuUm91dGVyID0gUm91dGVyXzEuZGVmYXVsdDtcclxudmFyIFJvdXRlckNvbnRleHRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xyXG5leHBvcnRzLlJvdXRlckNvbnRleHQgPSBSb3V0ZXJDb250ZXh0XzEuZGVmYXVsdDtcclxuZXhwb3J0cy5kZWZhdWx0ID0ge1xyXG4gICAgUm91dGU6IFJvdXRlXzEuZGVmYXVsdCxcclxuICAgIEluZGV4Um91dGU6IEluZGV4Um91dGVfMS5kZWZhdWx0LFxyXG4gICAgUmVkaXJlY3Q6IFJlZGlyZWN0XzEuZGVmYXVsdCxcclxuICAgIEluZGV4UmVkaXJlY3Q6IFJlZGlyZWN0XzEuZGVmYXVsdCxcclxuICAgIFJvdXRlcjogUm91dGVyXzEuZGVmYXVsdCxcclxuICAgIFJvdXRlckNvbnRleHQ6IFJvdXRlckNvbnRleHRfMS5kZWZhdWx0LFxyXG4gICAgTGluazogTGlua18xLmRlZmF1bHQsXHJcbiAgICBJbmRleExpbms6IEluZGV4TGlua18xLmRlZmF1bHQsXHJcbiAgICBtYXRjaDogbWF0Y2hfMS5kZWZhdWx0LFxyXG4gICAgY3JlYXRlUm91dGVzOiBjcmVhdGVSb3V0ZXNfMS5kZWZhdWx0XHJcbn07XHJcblxuXG4vKioqLyB9KSxcbi8qIDQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5OT19PUCA9ICckTk9fT1AnO1xyXG5leHBvcnRzLkVSUk9SX01TRyA9ICdhIHJ1bnRpbWUgZXJyb3Igb2NjdXJlZCEgVXNlIEluZmVybm8gaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQgdG8gZmluZCB0aGUgZXJyb3IuJztcclxuLy8gVGhpcyBzaG91bGQgYmUgYm9vbGVhbiBhbmQgbm90IHJlZmVyZW5jZSB0byB3aW5kb3cuZG9jdW1lbnRcclxuZXhwb3J0cy5pc0Jyb3dzZXIgPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpO1xyXG5mdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gZXhwb3J0cy5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogKGNoaWxkcmVuID8gW2NoaWxkcmVuXSA6IGNoaWxkcmVuKTtcclxufVxyXG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xyXG4vLyB0aGlzIGlzIE1VQ0ggZmFzdGVyIHRoYW4gLmNvbnN0cnVjdG9yID09PSBBcnJheSBhbmQgaW5zdGFuY2VvZiBBcnJheVxyXG4vLyBpbiBOb2RlIDcgYW5kIHRoZSBsYXRlciB2ZXJzaW9ucyBvZiBWOCwgc2xvd2VyIGluIG9sZGVyIHZlcnNpb25zIHRob3VnaFxyXG5leHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KG8pIHtcclxuICAgIHJldHVybiAhaXNVbmRlZmluZWQoby5wcm90b3R5cGUpICYmICFpc1VuZGVmaW5lZChvLnByb3RvdHlwZS5yZW5kZXIpO1xyXG59XHJcbmV4cG9ydHMuaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGlzU3RhdGVmdWxDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIGlzU3RyaW5nT3JOdW1iZXIobykge1xyXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgbztcclxuICAgIHJldHVybiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzU3RyaW5nT3JOdW1iZXIgPSBpc1N0cmluZ09yTnVtYmVyO1xyXG5mdW5jdGlvbiBpc051bGxPclVuZGVmKG8pIHtcclxuICAgIHJldHVybiBpc1VuZGVmaW5lZChvKSB8fCBpc051bGwobyk7XHJcbn1cclxuZXhwb3J0cy5pc051bGxPclVuZGVmID0gaXNOdWxsT3JVbmRlZjtcclxuZnVuY3Rpb24gaXNJbnZhbGlkKG8pIHtcclxuICAgIHJldHVybiBpc051bGwobykgfHwgbyA9PT0gZmFsc2UgfHwgaXNUcnVlKG8pIHx8IGlzVW5kZWZpbmVkKG8pO1xyXG59XHJcbmV4cG9ydHMuaXNJbnZhbGlkID0gaXNJbnZhbGlkO1xyXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG8pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJztcclxufVxyXG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xyXG5mdW5jdGlvbiBpc1N0cmluZyhvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdzdHJpbmcnO1xyXG59XHJcbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcclxuZnVuY3Rpb24gaXNOdW1iZXIobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XHJcbmZ1bmN0aW9uIGlzTnVsbChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gbnVsbDtcclxufVxyXG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcclxuZnVuY3Rpb24gaXNUcnVlKG8pIHtcclxuICAgIHJldHVybiBvID09PSB0cnVlO1xyXG59XHJcbmV4cG9ydHMuaXNUcnVlID0gaXNUcnVlO1xyXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gdm9pZCAwO1xyXG59XHJcbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcclxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JztcclxufVxyXG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XHJcbmZ1bmN0aW9uIHRocm93RXJyb3IobWVzc2FnZSkge1xyXG4gICAgaWYgKCFtZXNzYWdlKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IGV4cG9ydHMuRVJST1JfTVNHO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW5mZXJubyBFcnJvcjogXCIgKyBtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLnRocm93RXJyb3IgPSB0aHJvd0Vycm9yO1xyXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcclxuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLndhcm5pbmcgPSB3YXJuaW5nO1xyXG5mdW5jdGlvbiBjb21iaW5lRnJvbShmaXJzdCwgc2Vjb25kKSB7XHJcbiAgICB2YXIgb3V0ID0ge307XHJcbiAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZmlyc3QpIHtcclxuICAgICAgICAgICAgb3V0W2tleV0gPSBmaXJzdFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChzZWNvbmQpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2Vjb25kKSB7XHJcbiAgICAgICAgICAgIG91dFtrZXldID0gc2Vjb25kW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufVxyXG5leHBvcnRzLmNvbWJpbmVGcm9tID0gY29tYmluZUZyb207XHJcbmZ1bmN0aW9uIExpZmVjeWNsZSgpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbn1cclxuZXhwb3J0cy5MaWZlY3ljbGUgPSBMaWZlY3ljbGU7XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbn07XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIoKSB7XHJcbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnM7XHJcbiAgICB2YXIgbGlzdGVuZXI7XHJcbiAgICAvLyBXZSBuZWVkIHRvIHJlbW92ZSBjdXJyZW50IGxpc3RlbmVyIGZyb20gYXJyYXkgd2hlbiBjYWxsaW5nIGl0LCBiZWNhdXNlIG1vcmUgbGlzdGVuZXJzIG1pZ2h0IGJlIGFkZGVkXHJcbiAgICB3aGlsZSAobGlzdGVuZXIgPSBsaXN0ZW5lcnMuc2hpZnQoKSkge1xyXG4gICAgICAgIGxpc3RlbmVyKCk7XHJcbiAgICB9XHJcbn07XHJcblxuXG4vKioqLyB9KSxcbi8qIDQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgaXNpT1MgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3NlciAmJiAhIW5hdmlnYXRvci5wbGF0Zm9ybSAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xyXG52YXIgZGVsZWdhdGVkRXZlbnRzID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBoYW5kbGVFdmVudChuYW1lLCBsYXN0RXZlbnQsIG5leHRFdmVudCwgZG9tKSB7XHJcbiAgICB2YXIgZGVsZWdhdGVkUm9vdHMgPSBkZWxlZ2F0ZWRFdmVudHMuZ2V0KG5hbWUpO1xyXG4gICAgaWYgKG5leHRFdmVudCkge1xyXG4gICAgICAgIGlmICghZGVsZWdhdGVkUm9vdHMpIHtcclxuICAgICAgICAgICAgZGVsZWdhdGVkUm9vdHMgPSB7IGl0ZW1zOiBuZXcgTWFwKCksIGRvY0V2ZW50OiBudWxsIH07XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZFJvb3RzLmRvY0V2ZW50ID0gYXR0YWNoRXZlbnRUb0RvY3VtZW50KG5hbWUsIGRlbGVnYXRlZFJvb3RzKTtcclxuICAgICAgICAgICAgZGVsZWdhdGVkRXZlbnRzLnNldChuYW1lLCBkZWxlZ2F0ZWRSb290cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGFzdEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpc2lPUyAmJiBuYW1lID09PSAnb25DbGljaycpIHtcclxuICAgICAgICAgICAgICAgIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZWdhdGVkUm9vdHMuaXRlbXMuc2V0KGRvbSwgbmV4dEV2ZW50KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGRlbGVnYXRlZFJvb3RzKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gZGVsZWdhdGVkUm9vdHMuaXRlbXM7XHJcbiAgICAgICAgaWYgKGl0ZW1zLmRlbGV0ZShkb20pKSB7XHJcbiAgICAgICAgICAgIC8vIElmIGFueSBpdGVtcyB3ZXJlIGRlbGV0ZWQsIGNoZWNrIGlmIGxpc3RlbmVyIG5lZWQgdG8gYmUgcmVtb3ZlZFxyXG4gICAgICAgICAgICBpZiAoaXRlbXMuc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihub3JtYWxpemVFdmVudE5hbWUobmFtZSksIGRlbGVnYXRlZFJvb3RzLmRvY0V2ZW50KTtcclxuICAgICAgICAgICAgICAgIGRlbGVnYXRlZEV2ZW50cy5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5oYW5kbGVFdmVudCA9IGhhbmRsZUV2ZW50O1xyXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50LCB0YXJnZXQsIGl0ZW1zLCBjb3VudCwgaXNDbGljaywgZXZlbnREYXRhKSB7XHJcbiAgICB2YXIgZXZlbnRzVG9UcmlnZ2VyID0gaXRlbXMuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoZXZlbnRzVG9UcmlnZ2VyKSB7XHJcbiAgICAgICAgY291bnQtLTtcclxuICAgICAgICAvLyBsaW5rRXZlbnQgb2JqZWN0XHJcbiAgICAgICAgZXZlbnREYXRhLmRvbSA9IHRhcmdldDtcclxuICAgICAgICBpZiAoZXZlbnRzVG9UcmlnZ2VyLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1RvVHJpZ2dlci5ldmVudChldmVudHNUb1RyaWdnZXIuZGF0YSwgZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRzVG9UcmlnZ2VyKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgICAgIHZhciBwYXJlbnREb20gPSB0YXJnZXQucGFyZW50Tm9kZTtcclxuICAgICAgICAvLyBIdG1sIE5vZGVzIGNhbiBiZSBuZXN0ZWQgZmU6IHNwYW4gaW5zaWRlIGJ1dHRvbiBpbiB0aGF0IHNjZW5hcmlvIGJyb3dzZXIgZG9lcyBub3QgaGFuZGxlIGRpc2FibGVkIGF0dHJpYnV0ZSBvbiBwYXJlbnQsXHJcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgZXZlbnQgbGlzdGVuZXIgaXMgb24gZG9jdW1lbnQuYm9keVxyXG4gICAgICAgIC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzXHJcbiAgICAgICAgaWYgKHBhcmVudERvbSA9PT0gbnVsbCB8fCAoaXNDbGljayAmJiBwYXJlbnREb20ubm9kZVR5cGUgPT09IDEgJiYgcGFyZW50RG9tLmRpc2FibGVkKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQsIHBhcmVudERvbSwgaXRlbXMsIGNvdW50LCBpc0NsaWNrLCBldmVudERhdGEpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50TmFtZShuYW1lKSB7XHJcbiAgICByZXR1cm4gbmFtZS5zdWJzdHIoMikudG9Mb3dlckNhc2UoKTtcclxufVxyXG5mdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XHJcbiAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICB0aGlzLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG59XHJcbmZ1bmN0aW9uIGF0dGFjaEV2ZW50VG9Eb2N1bWVudChuYW1lLCBkZWxlZ2F0ZWRSb290cykge1xyXG4gICAgdmFyIGRvY0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gZGVsZWdhdGVkUm9vdHMuaXRlbXMuc2l6ZTtcclxuICAgICAgICBpZiAoY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjtcclxuICAgICAgICAgICAgLy8gRXZlbnQgZGF0YSBuZWVkcyB0byBiZSBvYmplY3QgdG8gc2F2ZSByZWZlcmVuY2UgdG8gY3VycmVudFRhcmdldCBnZXR0ZXJcclxuICAgICAgICAgICAgdmFyIGV2ZW50RGF0YV8xID0ge1xyXG4gICAgICAgICAgICAgICAgZG9tOiBkb2N1bWVudFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAnY3VycmVudFRhcmdldCcsIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudERhdGFfMS5kb207XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KGV2ZW50LCBldmVudC50YXJnZXQsIGRlbGVnYXRlZFJvb3RzLml0ZW1zLCBjb3VudCwgZXZlbnQudHlwZSA9PT0gJ2NsaWNrJywgZXZlbnREYXRhXzEpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKG5vcm1hbGl6ZUV2ZW50TmFtZShuYW1lKSwgZG9jRXZlbnQpO1xyXG4gICAgcmV0dXJuIGRvY0V2ZW50O1xyXG59XHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eVxyXG5mdW5jdGlvbiBlbXB0eUZuKCkgeyB9XHJcbmZ1bmN0aW9uIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbSkge1xyXG4gICAgLy8gTW9iaWxlIFNhZmFyaSBkb2VzIG5vdCBmaXJlIHByb3Blcmx5IGJ1YmJsZSBjbGljayBldmVudHMgb25cclxuICAgIC8vIG5vbi1pbnRlcmFjdGl2ZSBlbGVtZW50cywgd2hpY2ggbWVhbnMgZGVsZWdhdGVkIGNsaWNrIGxpc3RlbmVycyBkbyBub3RcclxuICAgIC8vIGZpcmUuIFRoZSB3b3JrYXJvdW5kIGZvciB0aGlzIGJ1ZyBpbnZvbHZlcyBhdHRhY2hpbmcgYW4gZW1wdHkgY2xpY2tcclxuICAgIC8vIGxpc3RlbmVyIG9uIHRoZSB0YXJnZXQgbm9kZS5cclxuICAgIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDEwLzA5L2NsaWNrX2V2ZW50X2RlbC5odG1sXHJcbiAgICAvLyBKdXN0IHNldCBpdCB1c2luZyB0aGUgb25jbGljayBwcm9wZXJ0eSBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gbWFuYWdlIGFueVxyXG4gICAgLy8gYm9va2tlZXBpbmcgZm9yIGl0LiBOb3Qgc3VyZSBpZiB3ZSBuZWVkIHRvIGNsZWFyIGl0IHdoZW4gdGhlIGxpc3RlbmVyIGlzXHJcbiAgICAvLyByZW1vdmVkLlxyXG4gICAgLy8gVE9ETzogT25seSBkbyB0aGlzIGZvciB0aGUgcmVsZXZhbnQgU2FmYXJpcyBtYXliZT9cclxuICAgIGRvbS5vbmNsaWNrID0gZW1wdHlGbjtcclxufVxyXG5cblxuLyoqKi8gfSksXG4vKiA0NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBMaW5rcyBnaXZlbiBkYXRhIHRvIGV2ZW50IGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0geyp9IGRhdGEgZGF0YSB0byBiZSBsaW5rZWQsIGl0IHdpbGwgYmUgYXZhaWxhYmxlIGluIGZ1bmN0aW9uIGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBldmVudCBGdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBldmVudCBvY2N1cnNcclxuICogQHJldHVybnMge3tkYXRhOiAqLCBldmVudDogRnVuY3Rpb259fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlua0V2ZW50KGRhdGEsIGV2ZW50KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBkYXRhLCBldmVudDogZXZlbnQgfTtcclxufVxyXG5leHBvcnRzLmxpbmtFdmVudCA9IGxpbmtFdmVudDtcclxuXG5cbi8qKiovIH0pLFxuLyogNDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgY29uc3RhbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG52YXIgbW91bnRpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcbnZhciBwYXRjaGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxudmFyIHJlbmRlcmluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZE5vZGVzKHBhcmVudERvbSkge1xyXG4gICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgd2hpbGUgKGRvbSkge1xyXG4gICAgICAgIGlmIChkb20ubm9kZVR5cGUgPT09IDgpIHtcclxuICAgICAgICAgICAgaWYgKGRvbS5kYXRhID09PSAnIScpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcclxuICAgICAgICAgICAgICAgIHBhcmVudERvbS5yZXBsYWNlQ2hpbGQocGxhY2Vob2xkZXIsIGRvbSk7XHJcbiAgICAgICAgICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdERvbSA9IGRvbS5wcmV2aW91c1NpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICAgICAgICAgIGRvbSA9IGxhc3REb20gfHwgcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemVDaGlsZE5vZGVzID0gbm9ybWFsaXplQ2hpbGROb2RlcztcclxuZnVuY3Rpb24gaHlkcmF0ZUNvbXBvbmVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc0NsYXNzKSB7XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICBpZiAoaXNDbGFzcykge1xyXG4gICAgICAgIHZhciBfaXNTVkcgPSBkb20ubmFtZXNwYWNlVVJJID09PSBjb25zdGFudHNfMS5zdmdOUztcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB1dGlsc18xLmNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2Uodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0LCBfaXNTVkcsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5zdGFuY2UuX2xhc3RJbnB1dDtcclxuICAgICAgICBpbnN0YW5jZS5fdk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCwgX2lzU1ZHKTtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7IC8vIE1vdW50IGZpbmlzaGVkIGFsbG93IGdvaW5nIHN5bmNcclxuICAgICAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5zZXQoaW5zdGFuY2UsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gdXRpbHNfMS5jcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIHZOb2RlLmNoaWxkcmVuID0gaW5wdXQ7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gaW5wdXQuZG9tO1xyXG4gICAgICAgIG1vdW50aW5nXzEubW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlRWxlbWVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IHZOb2RlLmNsYXNzTmFtZTtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIGlzU1ZHID0gaXNTVkcgfHwgKGZsYWdzICYgMTI4IC8qIFN2Z0VsZW1lbnQgKi8pID4gMDtcclxuICAgIGlmIChkb20ubm9kZVR5cGUgIT09IDEgfHwgZG9tLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gdk5vZGUudHlwZSkge1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gaHlkcmF0aW9uOiBTZXJ2ZXItc2lkZSBtYXJrdXAgZG9lc25cXCd0IG1hdGNoIGNsaWVudC1zaWRlIG1hcmt1cCBvciBJbml0aWFsIHJlbmRlciB0YXJnZXQgaXMgbm90IGVtcHR5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuZXdEb20gPSBtb3VudGluZ18xLm1vdW50RWxlbWVudCh2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gbmV3RG9tO1xyXG4gICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKGRvbS5wYXJlbnROb2RlLCBuZXdEb20sIGRvbSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld0RvbTtcclxuICAgIH1cclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIGh5ZHJhdGVDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIHZhciBoYXNDb250cm9sbGVkVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGb3JtRWxlbWVudCA9IChmbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoUHJvcChwcm9wLCBudWxsLCBwcm9wc1twcm9wXSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnRfMS5wcm9jZXNzRWxlbWVudChmbGFncywgdk5vZGUsIGRvbSwgcHJvcHMsIHRydWUsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgcmVmLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlQ2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgbm9ybWFsaXplQ2hpbGROb2RlcyhwYXJlbnREb20pO1xyXG4gICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoY2hpbGQpICYmIGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20gPSBoeWRyYXRlKGNoaWxkLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudChjaGlsZCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoZG9tICYmIGRvbS5ub2RlVHlwZSA9PT0gMykge1xyXG4gICAgICAgICAgICBpZiAoZG9tLm5vZGVWYWx1ZSAhPT0gY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGRvbS5ub2RlVmFsdWUgPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBwYXJlbnREb20udGV4dENvbnRlbnQgPSBjaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICBoeWRyYXRlKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgIH1cclxuICAgIC8vIGNsZWFyIGFueSBvdGhlciBET00gbm9kZXMsIHRoZXJlIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGVudHJ5IGZvciB0aGUgcm9vdFxyXG4gICAgd2hpbGUgKGRvbSkge1xyXG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IGRvbS5uZXh0U2libGluZztcclxuICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICBkb20gPSBuZXh0U2libGluZztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlVGV4dCh2Tm9kZSwgZG9tKSB7XHJcbiAgICBpZiAoZG9tLm5vZGVUeXBlICE9PSAzKSB7XHJcbiAgICAgICAgdmFyIG5ld0RvbSA9IG1vdW50aW5nXzEubW91bnRUZXh0KHZOb2RlLCBudWxsKTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBuZXdEb207XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlQ2hpbGQoZG9tLnBhcmVudE5vZGUsIG5ld0RvbSwgZG9tKTtcclxuICAgICAgICByZXR1cm4gbmV3RG9tO1xyXG4gICAgfVxyXG4gICAgdmFyIHRleHQgPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmIChkb20ubm9kZVZhbHVlICE9PSB0ZXh0KSB7XHJcbiAgICAgICAgZG9tLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbiAgICB9XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVWb2lkKHZOb2RlLCBkb20pIHtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZSh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlQ29tcG9uZW50KHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlRWxlbWVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVUZXh0KHZOb2RlLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICByZXR1cm4gaHlkcmF0ZVZvaWQodk5vZGUsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwiaHlkcmF0ZSgpIGV4cGVjdHMgYSB2YWxpZCBWTm9kZSwgaW5zdGVhZCBpdCByZWNlaXZlZCBhbiBvYmplY3Qgd2l0aCB0aGUgdHlwZSBcXFwiXCIgKyB0eXBlb2Ygdk5vZGUgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlUm9vdChpbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHZhciBkb20gPSBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGRvbSkpIHtcclxuICAgICAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIHV0aWxzXzEuRU1QVFlfT0JKLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAvLyBjbGVhciBhbnkgb3RoZXIgRE9NIG5vZGVzLCB0aGVyZSBzaG91bGQgYmUgb25seSBhIHNpbmdsZSBlbnRyeSBmb3IgdGhlIHJvb3RcclxuICAgICAgICAgICAgd2hpbGUgKGRvbSA9IGRvbS5uZXh0U2libGluZykge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmV4cG9ydHMuaHlkcmF0ZVJvb3QgPSBoeWRyYXRlUm9vdDtcclxuXG5cbi8qKiovIH0pLFxuLyogNDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuZnVuY3Rpb24gaXNDaGVja2VkVHlwZSh0eXBlKSB7XHJcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nO1xyXG59XHJcbmV4cG9ydHMuaXNDaGVja2VkVHlwZSA9IGlzQ2hlY2tlZFR5cGU7XHJcbmZ1bmN0aW9uIG9uVGV4dElucHV0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uSW5wdXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmlucHV0KSB7XHJcbiAgICAgICAgcHJvcHMub25pbnB1dChlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1Byb3BzLCBkb20pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHdyYXBwZWRPbkNoYW5nZShlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGV2ZW50ID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICBpZiAoZXZlbnQuZXZlbnQpIHtcclxuICAgICAgICBldmVudC5ldmVudChldmVudC5kYXRhLCBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV2ZW50KGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uQ2hlY2tib3hDaGFuZ2UoZSkge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gVGhpcyBjbGljayBzaG91bGQgbm90IHByb3BhZ2F0ZSBpdHMgZm9yIGludGVybmFsIHVzZVxyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25DbGljaykge1xyXG4gICAgICAgIHZhciBldmVudF8yID0gcHJvcHMub25DbGljaztcclxuICAgICAgICBpZiAoZXZlbnRfMi5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8yLmV2ZW50KGV2ZW50XzIuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2xpY2spIHtcclxuICAgICAgICBwcm9wcy5vbmNsaWNrKGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3UHJvcHMsIGRvbSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc0lucHV0KHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBpZiAoaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmNsaWNrID0gb25DaGVja2JveENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICAgICAgZG9tLm9uY2xpY2sud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dCA9IG9uVGV4dElucHV0Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dC53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5leHRQcm9wc09yRW1wdHkub25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlID0gd3JhcHBlZE9uQ2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2Uud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0lucHV0ID0gcHJvY2Vzc0lucHV0O1xyXG5mdW5jdGlvbiBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSkge1xyXG4gICAgdmFyIHR5cGUgPSBuZXh0UHJvcHNPckVtcHR5LnR5cGU7XHJcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LnZhbHVlO1xyXG4gICAgdmFyIGNoZWNrZWQgPSBuZXh0UHJvcHNPckVtcHR5LmNoZWNrZWQ7XHJcbiAgICB2YXIgbXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IG5leHRQcm9wc09yRW1wdHkuZGVmYXVsdFZhbHVlO1xyXG4gICAgdmFyIGhhc1ZhbHVlID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSk7XHJcbiAgICBpZiAodHlwZSAmJiB0eXBlICE9PSBkb20udHlwZSkge1xyXG4gICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGlmIChtdWx0aXBsZSAmJiBtdWx0aXBsZSAhPT0gZG9tLm11bHRpcGxlKSB7XHJcbiAgICAgICAgZG9tLm11bHRpcGxlID0gbXVsdGlwbGU7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0VmFsdWUpICYmICFoYXNWYWx1ZSkge1xyXG4gICAgICAgIGRvbS5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWUgKyAnJztcclxuICAgIH1cclxuICAgIGlmIChpc0NoZWNrZWRUeXBlKHR5cGUpKSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvbS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGVja2VkKSkge1xyXG4gICAgICAgICAgICBkb20uY2hlY2tlZCA9IGNoZWNrZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlICYmIGRvbS52YWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hlY2tlZCkpIHtcclxuICAgICAgICAgICAgZG9tLmNoZWNrZWQgPSBjaGVja2VkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA0OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5mdW5jdGlvbiB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgaWYgKHR5cGUgPT09ICdvcHRncm91cCcpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb24oY2hpbGRyZW4sIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbih2Tm9kZSwgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUNoaWxkT3B0aW9uKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgLy8gd2UgZG8gdGhpcyBhcyBtdWx0aXBsZSBtYXkgaGF2ZSBjaGFuZ2VkXHJcbiAgICBkb20udmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmICgoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5pbmRleE9mKHByb3BzLnZhbHVlKSAhPT0gLTEpIHx8IHByb3BzLnZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKSB8fCAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLnNlbGVjdGVkKSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uU2VsZWN0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzEgPSBwcm9wcy5vbkNoYW5nZTtcclxuICAgICAgICBpZiAoZXZlbnRfMS5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8xLmV2ZW50KGV2ZW50XzEuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8xKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2hhbmdlKSB7XHJcbiAgICAgICAgcHJvcHMub25jaGFuZ2UoZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdWTm9kZSwgZG9tLCBuZXdQcm9wcywgZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NTZWxlY3Qodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZyk7XHJcbiAgICBpZiAobW91bnRpbmcgJiYgaXNDb250cm9sbGVkKSB7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlID0gb25TZWxlY3RDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlLndyYXBwZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc1NlbGVjdCA9IHByb2Nlc3NTZWxlY3Q7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcpIHtcclxuICAgIGlmIChuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlICE9PSBkb20ubXVsdGlwbGUpIHtcclxuICAgICAgICBkb20ubXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkudmFsdWU7XHJcbiAgICAgICAgaWYgKG1vdW50aW5nICYmIGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb25Hcm91cChjaGlsZHJlbiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA0OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5mdW5jdGlvbiB3cmFwcGVkT25DaGFuZ2UoZSkge1xyXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBldmVudCA9IHByb3BzLm9uQ2hhbmdlO1xyXG4gICAgaWYgKGV2ZW50LmV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQuZXZlbnQoZXZlbnQuZGF0YSwgZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBldmVudChlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBvblRleHRhcmVhSW5wdXRDaGFuZ2UoZSkge1xyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmIChwcm9wcy5vbklucHV0KSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzEgPSBwcm9wcy5vbklucHV0O1xyXG4gICAgICAgIGlmIChldmVudF8xLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEuZXZlbnQoZXZlbnRfMS5kYXRhLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvcHMub25pbnB1dCkge1xyXG4gICAgICAgIHByb3BzLm9uaW5wdXQoZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdWTm9kZSwgdk5vZGUuZG9tLCBmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc1RleHRhcmVhKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tLCBtb3VudGluZyk7XHJcbiAgICBpZiAobW91bnRpbmcgJiYgaXNDb250cm9sbGVkKSB7XHJcbiAgICAgICAgZG9tLm9uaW5wdXQgPSBvblRleHRhcmVhSW5wdXRDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgZG9tLm9uaW5wdXQud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgaWYgKG5leHRQcm9wc09yRW1wdHkub25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlID0gd3JhcHBlZE9uQ2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2Uud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc1RleHRhcmVhID0gcHJvY2Vzc1RleHRhcmVhO1xyXG5mdW5jdGlvbiBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSwgbW91bnRpbmcpIHtcclxuICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkudmFsdWU7XHJcbiAgICB2YXIgZG9tVmFsdWUgPSBkb20udmFsdWU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKSkge1xyXG4gICAgICAgIGlmIChtb3VudGluZykge1xyXG4gICAgICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS5kZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGRlZmF1bHRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IGRvbVZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tLnZhbHVlID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRvbVZhbHVlICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgZG9tLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvKiBUaGVyZSBpcyB2YWx1ZSBzbyBrZWVwIGl0IGNvbnRyb2xsZWQgKi9cclxuICAgICAgICBpZiAoZG9tVmFsdWUgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvbS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA1MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxuZXhwb3J0cy5OT19PUCA9IGluZmVybm9fc2hhcmVkXzEuTk9fT1A7XHJcbnZhciBub3JtYWxpemF0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcclxuZXhwb3J0cy5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSA9IG5vcm1hbGl6YXRpb25fMS5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTtcclxuZXhwb3J0cy5pbnRlcm5hbF9ub3JtYWxpemUgPSBub3JtYWxpemF0aW9uXzEubm9ybWFsaXplO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxuZXhwb3J0cy5vcHRpb25zID0gb3B0aW9uc18xLm9wdGlvbnM7XHJcbnZhciBWTm9kZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcbmV4cG9ydHMuY2xvbmVWTm9kZSA9IFZOb2Rlc18xLmNsb25lVk5vZGU7XHJcbmV4cG9ydHMuY3JlYXRlVk5vZGUgPSBWTm9kZXNfMS5jcmVhdGVWTm9kZTtcclxudmFyIGNvbnN0YW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxuZXhwb3J0cy5pbnRlcm5hbF9pc1VuaXRsZXNzTnVtYmVyID0gY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlcjtcclxudmFyIGxpbmtFdmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XHJcbmV4cG9ydHMubGlua0V2ZW50ID0gbGlua0V2ZW50XzEubGlua0V2ZW50O1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbmV4cG9ydHMuaW50ZXJuYWxfcGF0Y2ggPSBwYXRjaGluZ18xLnBhdGNoO1xyXG52YXIgcmVuZGVyaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5leHBvcnRzLmludGVybmFsX0RPTU5vZGVNYXAgPSByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXA7XHJcbmV4cG9ydHMuY3JlYXRlUmVuZGVyZXIgPSByZW5kZXJpbmdfMS5jcmVhdGVSZW5kZXJlcjtcclxuZXhwb3J0cy5maW5kRE9NTm9kZSA9IHJlbmRlcmluZ18xLmZpbmRET01Ob2RlO1xyXG5leHBvcnRzLnJlbmRlciA9IHJlbmRlcmluZ18xLnJlbmRlcjtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5leHBvcnRzLkVNUFRZX09CSiA9IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG5pZiAoZmFsc2UpIHtcclxuICAgIC8qIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eSAqL1xyXG4gICAgdmFyIHRlc3RGdW5jID0gZnVuY3Rpb24gdGVzdEZuKCkgeyB9O1xyXG4gICAgaWYgKCh0ZXN0RnVuYy5uYW1lIHx8IHRlc3RGdW5jLnRvU3RyaW5nKCkpLmluZGV4T2YoJ3Rlc3RGbicpID09PSAtMSkge1xyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEud2FybmluZygoJ0l0IGxvb2tzIGxpa2UgeW91XFwncmUgdXNpbmcgYSBtaW5pZmllZCBjb3B5IG9mIHRoZSBkZXZlbG9wbWVudCBidWlsZCAnICtcclxuICAgICAgICAgICAgJ29mIEluZmVybm8uIFdoZW4gZGVwbG95aW5nIEluZmVybm8gYXBwcyB0byBwcm9kdWN0aW9uLCBtYWtlIHN1cmUgdG8gdXNlICcgK1xyXG4gICAgICAgICAgICAndGhlIHByb2R1Y3Rpb24gYnVpbGQgd2hpY2ggc2tpcHMgZGV2ZWxvcG1lbnQgd2FybmluZ3MgYW5kIGlzIGZhc3Rlci4gJyArXHJcbiAgICAgICAgICAgICdTZWUgaHR0cDovL2luZmVybm9qcy5vcmcgZm9yIG1vcmUgZGV0YWlscy4nKSk7XHJcbiAgICB9XHJcbn1cclxudmFyIHZlcnNpb24gPSAnMy4xLjAnO1xyXG5leHBvcnRzLnZlcnNpb24gPSB2ZXJzaW9uO1xyXG4vLyB3ZSBkdXBsaWNhdGUgaXQgc28gaXQgcGxheXMgbmljZWx5IHdpdGggZGlmZmVyZW50IG1vZHVsZSBsb2FkaW5nIHN5c3RlbXNcclxuZXhwb3J0cy5kZWZhdWx0ID0ge1xyXG4gICAgZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGU6IG5vcm1hbGl6YXRpb25fMS5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSxcclxuICAgIGxpbmtFdmVudDogbGlua0V2ZW50XzEubGlua0V2ZW50LFxyXG4gICAgLy8gY29yZSBzaGFwZXNcclxuICAgIGNyZWF0ZVZOb2RlOiBWTm9kZXNfMS5jcmVhdGVWTm9kZSxcclxuICAgIC8vIGNsb25pbmdcclxuICAgIGNsb25lVk5vZGU6IFZOb2Rlc18xLmNsb25lVk5vZGUsXHJcbiAgICAvLyB1c2VkIHRvIHNoYXJlZCBjb21tb24gaXRlbXMgYmV0d2VlbiBJbmZlcm5vIGxpYnNcclxuICAgIE5PX09QOiBpbmZlcm5vX3NoYXJlZF8xLk5PX09QLFxyXG4gICAgRU1QVFlfT0JKOiB1dGlsc18xLkVNUFRZX09CSixcclxuICAgIC8vIERPTVxyXG4gICAgcmVuZGVyOiByZW5kZXJpbmdfMS5yZW5kZXIsXHJcbiAgICBmaW5kRE9NTm9kZTogcmVuZGVyaW5nXzEuZmluZERPTU5vZGUsXHJcbiAgICBjcmVhdGVSZW5kZXJlcjogcmVuZGVyaW5nXzEuY3JlYXRlUmVuZGVyZXIsXHJcbiAgICBvcHRpb25zOiBvcHRpb25zXzEub3B0aW9ucyxcclxuICAgIHZlcnNpb246IHZlcnNpb24sXHJcbiAgICBpbnRlcm5hbF9wYXRjaDogcGF0Y2hpbmdfMS5wYXRjaCxcclxuICAgIGludGVybmFsX0RPTU5vZGVNYXA6IHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcCxcclxuICAgIGludGVybmFsX2lzVW5pdGxlc3NOdW1iZXI6IGNvbnN0YW50c18xLmlzVW5pdGxlc3NOdW1iZXIsXHJcbiAgICBpbnRlcm5hbF9ub3JtYWxpemU6IG5vcm1hbGl6YXRpb25fMS5ub3JtYWxpemVcclxufTtcclxuXG5cbi8qKiovIH0pLFxuLyogNTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5cblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChmYWxzZSkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cbi8qKiovIH0pLFxuLyogNTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhdGhUb1JlZ0V4cCA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpXHJcblxyXG4vKipcclxuICogRXhwb3NlIGBwYXRoVG9SZWdleHBgIGFzIEVTNiBtb2R1bGVcclxuICovXHJcbm1vZHVsZS5leHBvcnRzID0gcGF0aFRvUmVnRXhwO1xyXG5tb2R1bGUuZXhwb3J0cy5wYXJzZSA9IHBhdGhUb1JlZ0V4cC5wYXJzZVxyXG5tb2R1bGUuZXhwb3J0cy5jb21waWxlID0gcGF0aFRvUmVnRXhwLmNvbXBpbGVcclxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9GdW5jdGlvbiA9IHBhdGhUb1JlZ0V4cC50b2tlbnNUb0Z1bmN0aW9uXHJcbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvUmVnRXhwID0gcGF0aFRvUmVnRXhwLnRva2Vuc1RvUmVnRXhwXHJcbm1vZHVsZS5leHBvcnRzWydkZWZhdWx0J10gPSBtb2R1bGUuZXhwb3J0cztcclxuXG5cbi8qKiovIH0pLFxuLyogNTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzYXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKVxuXG4vKipcbiAqIEV4cG9zZSBgcGF0aFRvUmVnZXhwYC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdleHBcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGFyc2Vcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gdG9rZW5zVG9GdW5jdGlvblxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSB0b2tlbnNUb1JlZ0V4cFxuXG4vKipcbiAqIFRoZSBtYWluIHBhdGggbWF0Y2hpbmcgcmVnZXhwIHV0aWxpdHkuXG4gKlxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIFBBVEhfUkVHRVhQID0gbmV3IFJlZ0V4cChbXG4gIC8vIE1hdGNoIGVzY2FwZWQgY2hhcmFjdGVycyB0aGF0IHdvdWxkIG90aGVyd2lzZSBhcHBlYXIgaW4gZnV0dXJlIG1hdGNoZXMuXG4gIC8vIFRoaXMgYWxsb3dzIHRoZSB1c2VyIHRvIGVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgdGhhdCB3b24ndCB0cmFuc2Zvcm0uXG4gICcoXFxcXFxcXFwuKScsXG4gIC8vIE1hdGNoIEV4cHJlc3Mtc3R5bGUgcGFyYW1ldGVycyBhbmQgdW4tbmFtZWQgcGFyYW1ldGVycyB3aXRoIGEgcHJlZml4XG4gIC8vIGFuZCBvcHRpb25hbCBzdWZmaXhlcy4gTWF0Y2hlcyBhcHBlYXIgYXM6XG4gIC8vXG4gIC8vIFwiLzp0ZXN0KFxcXFxkKyk/XCIgPT4gW1wiL1wiLCBcInRlc3RcIiwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgXCI/XCIsIHVuZGVmaW5lZF1cbiAgLy8gXCIvcm91dGUoXFxcXGQrKVwiICA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAvLyBcIi8qXCIgICAgICAgICAgICA9PiBbXCIvXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCIqXCJdXG4gICcoW1xcXFwvLl0pPyg/Oig/OlxcXFw6KFxcXFx3KykoPzpcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKT98XFxcXCgoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKV0pKylcXFxcKSkoWysqP10pP3woXFxcXCopKSdcbl0uam9pbignfCcpLCAnZycpXG5cbi8qKlxuICogUGFyc2UgYSBzdHJpbmcgZm9yIHRoZSByYXcgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHN0clxuICogQHBhcmFtICB7T2JqZWN0PX0gb3B0aW9uc1xuICogQHJldHVybiB7IUFycmF5fVxuICovXG5mdW5jdGlvbiBwYXJzZSAoc3RyLCBvcHRpb25zKSB7XG4gIHZhciB0b2tlbnMgPSBbXVxuICB2YXIga2V5ID0gMFxuICB2YXIgaW5kZXggPSAwXG4gIHZhciBwYXRoID0gJydcbiAgdmFyIGRlZmF1bHREZWxpbWl0ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJ1xuICB2YXIgcmVzXG5cbiAgd2hpbGUgKChyZXMgPSBQQVRIX1JFR0VYUC5leGVjKHN0cikpICE9IG51bGwpIHtcbiAgICB2YXIgbSA9IHJlc1swXVxuICAgIHZhciBlc2NhcGVkID0gcmVzWzFdXG4gICAgdmFyIG9mZnNldCA9IHJlcy5pbmRleFxuICAgIHBhdGggKz0gc3RyLnNsaWNlKGluZGV4LCBvZmZzZXQpXG4gICAgaW5kZXggPSBvZmZzZXQgKyBtLmxlbmd0aFxuXG4gICAgLy8gSWdub3JlIGFscmVhZHkgZXNjYXBlZCBzZXF1ZW5jZXMuXG4gICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgIHBhdGggKz0gZXNjYXBlZFsxXVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICB2YXIgbmV4dCA9IHN0cltpbmRleF1cbiAgICB2YXIgcHJlZml4ID0gcmVzWzJdXG4gICAgdmFyIG5hbWUgPSByZXNbM11cbiAgICB2YXIgY2FwdHVyZSA9IHJlc1s0XVxuICAgIHZhciBncm91cCA9IHJlc1s1XVxuICAgIHZhciBtb2RpZmllciA9IHJlc1s2XVxuICAgIHZhciBhc3RlcmlzayA9IHJlc1s3XVxuXG4gICAgLy8gUHVzaCB0aGUgY3VycmVudCBwYXRoIG9udG8gdGhlIHRva2Vucy5cbiAgICBpZiAocGF0aCkge1xuICAgICAgdG9rZW5zLnB1c2gocGF0aClcbiAgICAgIHBhdGggPSAnJ1xuICAgIH1cblxuICAgIHZhciBwYXJ0aWFsID0gcHJlZml4ICE9IG51bGwgJiYgbmV4dCAhPSBudWxsICYmIG5leHQgIT09IHByZWZpeFxuICAgIHZhciByZXBlYXQgPSBtb2RpZmllciA9PT0gJysnIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgb3B0aW9uYWwgPSBtb2RpZmllciA9PT0gJz8nIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgZGVsaW1pdGVyID0gcmVzWzJdIHx8IGRlZmF1bHREZWxpbWl0ZXJcbiAgICB2YXIgcGF0dGVybiA9IGNhcHR1cmUgfHwgZ3JvdXBcblxuICAgIHRva2Vucy5wdXNoKHtcbiAgICAgIG5hbWU6IG5hbWUgfHwga2V5KyssXG4gICAgICBwcmVmaXg6IHByZWZpeCB8fCAnJyxcbiAgICAgIGRlbGltaXRlcjogZGVsaW1pdGVyLFxuICAgICAgb3B0aW9uYWw6IG9wdGlvbmFsLFxuICAgICAgcmVwZWF0OiByZXBlYXQsXG4gICAgICBwYXJ0aWFsOiBwYXJ0aWFsLFxuICAgICAgYXN0ZXJpc2s6ICEhYXN0ZXJpc2ssXG4gICAgICBwYXR0ZXJuOiBwYXR0ZXJuID8gZXNjYXBlR3JvdXAocGF0dGVybikgOiAoYXN0ZXJpc2sgPyAnLionIDogJ1teJyArIGVzY2FwZVN0cmluZyhkZWxpbWl0ZXIpICsgJ10rPycpXG4gICAgfSlcbiAgfVxuXG4gIC8vIE1hdGNoIGFueSBjaGFyYWN0ZXJzIHN0aWxsIHJlbWFpbmluZy5cbiAgaWYgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIHBhdGggKz0gc3RyLnN1YnN0cihpbmRleClcbiAgfVxuXG4gIC8vIElmIHRoZSBwYXRoIGV4aXN0cywgcHVzaCBpdCBvbnRvIHRoZSBlbmQuXG4gIGlmIChwYXRoKSB7XG4gICAgdG9rZW5zLnB1c2gocGF0aClcbiAgfVxuXG4gIHJldHVybiB0b2tlbnNcbn1cblxuLyoqXG4gKiBDb21waWxlIGEgc3RyaW5nIHRvIGEgdGVtcGxhdGUgZnVuY3Rpb24gZm9yIHRoZSBwYXRoLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgc3RyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFmdW5jdGlvbihPYmplY3Q9LCBPYmplY3Q9KX1cbiAqL1xuZnVuY3Rpb24gY29tcGlsZSAoc3RyLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb0Z1bmN0aW9uKHBhcnNlKHN0ciwgb3B0aW9ucykpXG59XG5cbi8qKlxuICogUHJldHRpZXIgZW5jb2Rpbmcgb2YgVVJJIHBhdGggc2VnbWVudHMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvW1xcLz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFbmNvZGUgdGhlIGFzdGVyaXNrIHBhcmFtZXRlci4gU2ltaWxhciB0byBgcHJldHR5YCwgYnV0IGFsbG93cyBzbGFzaGVzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlQXN0ZXJpc2sgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBtZXRob2QgZm9yIHRyYW5zZm9ybWluZyB0b2tlbnMgaW50byB0aGUgcGF0aCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9GdW5jdGlvbiAodG9rZW5zKSB7XG4gIC8vIENvbXBpbGUgYWxsIHRoZSB0b2tlbnMgaW50byByZWdleHBzLlxuICB2YXIgbWF0Y2hlcyA9IG5ldyBBcnJheSh0b2tlbnMubGVuZ3RoKVxuXG4gIC8vIENvbXBpbGUgYWxsIHRoZSBwYXR0ZXJucyBiZWZvcmUgY29tcGlsYXRpb24uXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbnNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICBtYXRjaGVzW2ldID0gbmV3IFJlZ0V4cCgnXig/OicgKyB0b2tlbnNbaV0ucGF0dGVybiArICcpJCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIG9wdHMpIHtcbiAgICB2YXIgcGF0aCA9ICcnXG4gICAgdmFyIGRhdGEgPSBvYmogfHwge31cbiAgICB2YXIgb3B0aW9ucyA9IG9wdHMgfHwge31cbiAgICB2YXIgZW5jb2RlID0gb3B0aW9ucy5wcmV0dHkgPyBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgOiBlbmNvZGVVUklDb21wb25lbnRcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV1cblxuICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGF0aCArPSB0b2tlblxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSA9IGRhdGFbdG9rZW4ubmFtZV1cbiAgICAgIHZhciBzZWdtZW50XG5cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICAgIC8vIFByZXBlbmQgcGFydGlhbCBzZWdtZW50IHByZWZpeGVzLlxuICAgICAgICAgIGlmICh0b2tlbi5wYXJ0aWFsKSB7XG4gICAgICAgICAgICBwYXRoICs9IHRva2VuLnByZWZpeFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBiZSBkZWZpbmVkJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNhcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKCF0b2tlbi5yZXBlYXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCByZXBlYXQsIGJ1dCByZWNlaXZlZCBgJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICdgJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbm90IGJlIGVtcHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgc2VnbWVudCA9IGVuY29kZSh2YWx1ZVtqXSlcblxuICAgICAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhbGwgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeShzZWdtZW50KSArICdgJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXRoICs9IChqID09PSAwID8gdG9rZW4ucHJlZml4IDogdG9rZW4uZGVsaW1pdGVyKSArIHNlZ21lbnRcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHNlZ21lbnQgPSB0b2tlbi5hc3RlcmlzayA/IGVuY29kZUFzdGVyaXNrKHZhbHVlKSA6IGVuY29kZSh2YWx1ZSlcblxuICAgICAgaWYgKCFtYXRjaGVzW2ldLnRlc3Qoc2VnbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgXCInICsgc2VnbWVudCArICdcIicpXG4gICAgICB9XG5cbiAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4ICsgc2VnbWVudFxuICAgIH1cblxuICAgIHJldHVybiBwYXRoXG4gIH1cbn1cblxuLyoqXG4gKiBFc2NhcGUgYSByZWd1bGFyIGV4cHJlc3Npb24gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyAoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKyo/PV4hOiR7fSgpW1xcXXxcXC9cXFxcXSkvZywgJ1xcXFwkMScpXG59XG5cbi8qKlxuICogRXNjYXBlIHRoZSBjYXB0dXJpbmcgZ3JvdXAgYnkgZXNjYXBpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzIGFuZCBtZWFuaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gZ3JvdXBcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZXNjYXBlR3JvdXAgKGdyb3VwKSB7XG4gIHJldHVybiBncm91cC5yZXBsYWNlKC8oWz0hOiRcXC8oKV0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEF0dGFjaCB0aGUga2V5cyBhcyBhIHByb3BlcnR5IG9mIHRoZSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IVJlZ0V4cH0gcmVcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEtleXMgKHJlLCBrZXlzKSB7XG4gIHJlLmtleXMgPSBrZXlzXG4gIHJldHVybiByZVxufVxuXG4vKipcbiAqIEdldCB0aGUgZmxhZ3MgZm9yIGEgcmVnZXhwIGZyb20gdGhlIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGZsYWdzIChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLnNlbnNpdGl2ZSA/ICcnIDogJ2knXG59XG5cbi8qKlxuICogUHVsbCBvdXQga2V5cyBmcm9tIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHJlZ2V4cFRvUmVnZXhwIChwYXRoLCBrZXlzKSB7XG4gIC8vIFVzZSBhIG5lZ2F0aXZlIGxvb2thaGVhZCB0byBtYXRjaCBvbmx5IGNhcHR1cmluZyBncm91cHMuXG4gIHZhciBncm91cHMgPSBwYXRoLnNvdXJjZS5tYXRjaCgvXFwoKD8hXFw/KS9nKVxuXG4gIGlmIChncm91cHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgbmFtZTogaSxcbiAgICAgICAgcHJlZml4OiBudWxsLFxuICAgICAgICBkZWxpbWl0ZXI6IG51bGwsXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcbiAgICAgICAgcGFydGlhbDogZmFsc2UsXG4gICAgICAgIGFzdGVyaXNrOiBmYWxzZSxcbiAgICAgICAgcGF0dGVybjogbnVsbFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhwYXRoLCBrZXlzKVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhbiBhcnJheSBpbnRvIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gIHBhdGhcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnRzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBwYXJ0cy5wdXNoKHBhdGhUb1JlZ2V4cChwYXRoW2ldLCBrZXlzLCBvcHRpb25zKS5zb3VyY2UpXG4gIH1cblxuICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnKD86JyArIHBhcnRzLmpvaW4oJ3wnKSArICcpJywgZmxhZ3Mob3B0aW9ucykpXG5cbiAgcmV0dXJuIGF0dGFjaEtleXMocmVnZXhwLCBrZXlzKVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIHBhdGggcmVnZXhwIGZyb20gc3RyaW5nIGlucHV0LlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ1RvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb1JlZ0V4cChwYXJzZShwYXRoLCBvcHRpb25zKSwga2V5cywgb3B0aW9ucylcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBmdW5jdGlvbiBmb3IgdGFraW5nIHRva2VucyBhbmQgcmV0dXJuaW5nIGEgUmVnRXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gICAgICAgICAgdG9rZW5zXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19IGtleXNcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9SZWdFeHAgKHRva2Vucywga2V5cywgb3B0aW9ucykge1xuICBpZiAoIWlzYXJyYXkoa2V5cykpIHtcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxuICAgIGtleXMgPSBbXVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICB2YXIgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3RcbiAgdmFyIGVuZCA9IG9wdGlvbnMuZW5kICE9PSBmYWxzZVxuICB2YXIgcm91dGUgPSAnJ1xuXG4gIC8vIEl0ZXJhdGUgb3ZlciB0aGUgdG9rZW5zIGFuZCBjcmVhdGUgb3VyIHJlZ2V4cCBzdHJpbmcuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgcm91dGUgKz0gZXNjYXBlU3RyaW5nKHRva2VuKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJlZml4ID0gZXNjYXBlU3RyaW5nKHRva2VuLnByZWZpeClcbiAgICAgIHZhciBjYXB0dXJlID0gJyg/OicgKyB0b2tlbi5wYXR0ZXJuICsgJyknXG5cbiAgICAgIGtleXMucHVzaCh0b2tlbilcblxuICAgICAgaWYgKHRva2VuLnJlcGVhdCkge1xuICAgICAgICBjYXB0dXJlICs9ICcoPzonICsgcHJlZml4ICsgY2FwdHVyZSArICcpKidcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgIGlmICghdG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgIGNhcHR1cmUgPSAnKD86JyArIHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKSk/J1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyk/J1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpJ1xuICAgICAgfVxuXG4gICAgICByb3V0ZSArPSBjYXB0dXJlXG4gICAgfVxuICB9XG5cbiAgdmFyIGRlbGltaXRlciA9IGVzY2FwZVN0cmluZyhvcHRpb25zLmRlbGltaXRlciB8fCAnLycpXG4gIHZhciBlbmRzV2l0aERlbGltaXRlciA9IHJvdXRlLnNsaWNlKC1kZWxpbWl0ZXIubGVuZ3RoKSA9PT0gZGVsaW1pdGVyXG5cbiAgLy8gSW4gbm9uLXN0cmljdCBtb2RlIHdlIGFsbG93IGEgc2xhc2ggYXQgdGhlIGVuZCBvZiBtYXRjaC4gSWYgdGhlIHBhdGggdG9cbiAgLy8gbWF0Y2ggYWxyZWFkeSBlbmRzIHdpdGggYSBzbGFzaCwgd2UgcmVtb3ZlIGl0IGZvciBjb25zaXN0ZW5jeS4gVGhlIHNsYXNoXG4gIC8vIGlzIHZhbGlkIGF0IHRoZSBlbmQgb2YgYSBwYXRoIG1hdGNoLCBub3QgaW4gdGhlIG1pZGRsZS4gVGhpcyBpcyBpbXBvcnRhbnRcbiAgLy8gaW4gbm9uLWVuZGluZyBtb2RlLCB3aGVyZSBcIi90ZXN0L1wiIHNob3VsZG4ndCBtYXRjaCBcIi90ZXN0Ly9yb3V0ZVwiLlxuICBpZiAoIXN0cmljdCkge1xuICAgIHJvdXRlID0gKGVuZHNXaXRoRGVsaW1pdGVyID8gcm91dGUuc2xpY2UoMCwgLWRlbGltaXRlci5sZW5ndGgpIDogcm91dGUpICsgJyg/OicgKyBkZWxpbWl0ZXIgKyAnKD89JCkpPydcbiAgfVxuXG4gIGlmIChlbmQpIHtcbiAgICByb3V0ZSArPSAnJCdcbiAgfSBlbHNlIHtcbiAgICAvLyBJbiBub24tZW5kaW5nIG1vZGUsIHdlIG5lZWQgdGhlIGNhcHR1cmluZyBncm91cHMgdG8gbWF0Y2ggYXMgbXVjaCBhc1xuICAgIC8vIHBvc3NpYmxlIGJ5IHVzaW5nIGEgcG9zaXRpdmUgbG9va2FoZWFkIHRvIHRoZSBlbmQgb3IgbmV4dCBwYXRoIHNlZ21lbnQuXG4gICAgcm91dGUgKz0gc3RyaWN0ICYmIGVuZHNXaXRoRGVsaW1pdGVyID8gJycgOiAnKD89JyArIGRlbGltaXRlciArICd8JCknXG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhuZXcgUmVnRXhwKCdeJyArIHJvdXRlLCBmbGFncyhvcHRpb25zKSksIGtleXMpXG59XG5cbi8qKlxuICogTm9ybWFsaXplIHRoZSBnaXZlbiBwYXRoIHN0cmluZywgcmV0dXJuaW5nIGEgcmVndWxhciBleHByZXNzaW9uLlxuICpcbiAqIEFuIGVtcHR5IGFycmF5IGNhbiBiZSBwYXNzZWQgaW4gZm9yIHRoZSBrZXlzLCB3aGljaCB3aWxsIGhvbGQgdGhlXG4gKiBwbGFjZWhvbGRlciBrZXkgZGVzY3JpcHRpb25zLiBGb3IgZXhhbXBsZSwgdXNpbmcgYC91c2VyLzppZGAsIGBrZXlzYCB3aWxsXG4gKiBjb250YWluIGBbeyBuYW1lOiAnaWQnLCBkZWxpbWl0ZXI6ICcvJywgb3B0aW9uYWw6IGZhbHNlLCByZXBlYXQ6IGZhbHNlIH1dYC5cbiAqXG4gKiBAcGFyYW0gIHsoc3RyaW5nfFJlZ0V4cHxBcnJheSl9IHBhdGhcbiAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpPX0gICAgICAga2V5c1xuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBwYXRoVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XG4gICAgb3B0aW9ucyA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGtleXMgfHwgb3B0aW9ucylcbiAgICBrZXlzID0gW11cbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgaWYgKHBhdGggaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gcmVnZXhwVG9SZWdleHAocGF0aCwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSlcbiAgfVxuXG4gIGlmIChpc2FycmF5KHBhdGgpKSB7XG4gICAgcmV0dXJuIGFycmF5VG9SZWdleHAoLyoqIEB0eXBlIHshQXJyYXl9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdUb1JlZ2V4cCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxufVxuXG5cbi8qKiovIH0pLFxuLyogNTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGlzQWJzb2x1dGUgPSBmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGhuYW1lKSB7XG4gIHJldHVybiBwYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxudmFyIHNwbGljZU9uZSA9IGZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpIHtcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgfWxpc3QucG9wKCk7XG59O1xuXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGJhc2VkIGhlYXZpbHkgb24gbm9kZSdzIHVybC5wYXJzZVxudmFyIHJlc29sdmVQYXRobmFtZSA9IGZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZSh0bykge1xuICB2YXIgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgdmFyIHRvUGFydHMgPSB0byAmJiB0by5zcGxpdCgnLycpIHx8IFtdO1xuICB2YXIgZnJvbVBhcnRzID0gZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykgfHwgW107XG5cbiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTtcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcbiAgdmFyIG11c3RFbmRBYnMgPSBpc1RvQWJzIHx8IGlzRnJvbUFicztcblxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcbiAgICAvLyB0byBpcyBhYnNvbHV0ZVxuICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7XG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcbiAgICAvLyB0byBpcyByZWxhdGl2ZSwgZHJvcCB0aGUgZmlsZW5hbWVcbiAgICBmcm9tUGFydHMucG9wKCk7XG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcbiAgfVxuXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcblxuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IHZvaWQgMDtcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdCA9IGZyb21QYXJ0c1tmcm9tUGFydHMubGVuZ3RoIC0gMV07XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnO1xuICB9IGVsc2Uge1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBmcm9tUGFydHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xuXG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbXVzdEVuZEFicykgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgZnJvbVBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gIH1pZiAobXVzdEVuZEFicyAmJiBmcm9tUGFydHNbMF0gIT09ICcnICYmICghZnJvbVBhcnRzWzBdIHx8ICFpc0Fic29sdXRlKGZyb21QYXJ0c1swXSkpKSBmcm9tUGFydHMudW5zaGlmdCgnJyk7XG5cbiAgdmFyIHJlc3VsdCA9IGZyb21QYXJ0cy5qb2luKCcvJyk7XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgcmVzdWx0LnN1YnN0cigtMSkgIT09ICcvJykgcmVzdWx0ICs9ICcvJztcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlUGF0aG5hbWU7XG5cbi8qKiovIH0pLFxuLyogNTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgdmFsdWVFcXVhbCA9IGZ1bmN0aW9uIHZhbHVlRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkgcmV0dXJuIEFycmF5LmlzQXJyYXkoYikgJiYgYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlRXF1YWwoaXRlbSwgYltpbmRleF0pO1xuICB9KTtcblxuICB2YXIgYVR5cGUgPSB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYSk7XG4gIHZhciBiVHlwZSA9IHR5cGVvZiBiID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihiKTtcblxuICBpZiAoYVR5cGUgIT09IGJUeXBlKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGFUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBhVmFsdWUgPSBhLnZhbHVlT2YoKTtcbiAgICB2YXIgYlZhbHVlID0gYi52YWx1ZU9mKCk7XG5cbiAgICBpZiAoYVZhbHVlICE9PSBhIHx8IGJWYWx1ZSAhPT0gYikgcmV0dXJuIHZhbHVlRXF1YWwoYVZhbHVlLCBiVmFsdWUpO1xuXG4gICAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgdmFyIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG5cbiAgICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiBhS2V5cy5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChhW2tleV0sIGJba2V5XSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSB2YWx1ZUVxdWFsO1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGJ1bmRsZS5qcyIsIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbiBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gXHJcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4gXHRcdGlmKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdH0gO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcclxuIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiBcdFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xyXG4gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xyXG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbiBcdFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdFx0Ly8gdGltZW91dFxyXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcclxuIFx0XHRcdFx0XHRcdHJldHVybjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0pO1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiOTJjNDc1ODU4M2U0YTc2NmY5YzBcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHNUZW1wID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdGlmKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XHJcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4gXHRcdFx0aWYobWUuaG90LmFjdGl2ZSkge1xyXG4gXHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XHJcbiBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbiBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpIDwgMClcclxuIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4gXHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4gXHRcdH07XHJcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcclxuIFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuIFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fTtcclxuIFx0XHR9O1xyXG4gXHRcdGZvcih2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiYgbmFtZSAhPT0gXCJlXCIpIHtcclxuIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XHJcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4gXHRcdFx0XHR0aHJvdyBlcnI7XHJcbiBcdFx0XHR9KTtcclxuIFx0XHJcbiBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcclxuIFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4gXHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH07XHJcbiBcdFx0cmV0dXJuIGZuO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBob3QgPSB7XHJcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXHJcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcclxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxyXG4gXHRcclxuIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcclxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbiBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXHJcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXHJcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aWYoIWwpIHJldHVybiBob3RTdGF0dXM7XHJcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdH0sXHJcbiBcdFxyXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXHJcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cclxuIFx0XHR9O1xyXG4gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcclxuIFx0XHRyZXR1cm4gaG90O1xyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90RGVmZXJyZWQ7XHJcbiBcdFxyXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xyXG4gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdCgpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XHJcbiBcdFx0XHRpZighdXBkYXRlKSB7XHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0XHRcdHJldHVybiBudWxsO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcclxuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuIFx0XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XHJcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcclxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxyXG4gXHRcdFx0XHR9O1xyXG4gXHRcdFx0fSk7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XHJcbiBcdFx0fSk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxyXG4gXHRcdFx0cmV0dXJuO1xyXG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4gXHRcdGlmKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XHJcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcclxuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcclxuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XHJcbiBcdFx0aWYoIWRlZmVycmVkKSByZXR1cm47XHJcbiBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4gXHRcdFx0aG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuIFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xyXG4gXHRcdFx0fSwgZnVuY3Rpb24oZXJyKSB7XHJcbiBcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xyXG4gXHRcdFx0fSk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbiBcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xyXG4gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XHJcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiBcdFxyXG4gXHRcdHZhciBjYjtcclxuIFx0XHR2YXIgaTtcclxuIFx0XHR2YXIgajtcclxuIFx0XHR2YXIgbW9kdWxlO1xyXG4gXHRcdHZhciBtb2R1bGVJZDtcclxuIFx0XHJcbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcclxuIFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcclxuIFx0XHRcdFx0XHRpZDogaWRcclxuIFx0XHRcdFx0fTtcclxuIFx0XHRcdH0pO1xyXG4gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcclxuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xyXG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0aWYoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4gXHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcclxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcclxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxyXG4gXHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fbWFpbikge1xyXG4gXHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcclxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcclxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxyXG4gXHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdGlmKCFwYXJlbnQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxyXG4gXHRcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xyXG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xyXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcclxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxyXG4gXHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxyXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXHJcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxyXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbiBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbiBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbiBcdFxyXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XHJcbiBcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCIpO1xyXG4gXHRcdH07XHJcbiBcdFxyXG4gXHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuIFx0XHRcdFx0dmFyIHJlc3VsdDtcclxuIFx0XHRcdFx0aWYoaG90VXBkYXRlW2lkXSkge1xyXG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcclxuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcclxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxyXG4gXHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcclxuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcclxuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xyXG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcclxuIFx0XHRcdFx0aWYocmVzdWx0LmNoYWluKSB7XHJcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdHN3aXRjaChyZXN1bHQudHlwZSkge1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGVjbGluZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXHJcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIGNoYWluSW5mbyk7XHJcbiBcdFx0XHRcdFx0XHRicmVhaztcclxuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiIGluIFwiICsgcmVzdWx0LnBhcmVudElkICsgY2hhaW5JbmZvKTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uVW5hY2NlcHRlZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvKTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGlzcG9zZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGRlZmF1bHQ6XHJcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKGFib3J0RXJyb3IpIHtcclxuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYoZG9BcHBseSkge1xyXG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdFx0XHRcdGZvcihtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxyXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihkb0Rpc3Bvc2UpIHtcclxuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4gXHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiYgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcclxuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcclxuIFx0XHRcdFx0fSk7XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcclxuIFx0XHRcdGlmKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xyXG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fSk7XHJcbiBcdFxyXG4gXHRcdHZhciBpZHg7XHJcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0aWYoIW1vZHVsZSkgY29udGludWU7XHJcbiBcdFxyXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuIFx0XHJcbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XHJcbiBcdFx0XHRmb3IoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XHJcbiBcdFx0XHRcdGNiKGRhdGEpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcclxuIFx0XHJcbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcclxuIFx0XHJcbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHJcbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4gXHRcdFx0Zm9yKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcclxuIFx0XHRcdFx0aWYoIWNoaWxkKSBjb250aW51ZTtcclxuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xyXG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcclxuIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUpIHtcclxuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0XHRmb3IoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XHJcbiBcdFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4gXHRcclxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XHJcbiBcdFxyXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxyXG4gXHRcdGZvcihtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XHJcbiBcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcihpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gXHRcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbiBcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXHJcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0XHR9KTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycjIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcclxuIFx0XHRcdFx0XHRcdFx0XHRvcmdpbmFsRXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0XHR9KTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyMjtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcclxuIFx0XHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcclxuIFx0XHRpZihlcnJvcikge1xyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcclxuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDMxKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgOTJjNDc1ODU4M2U0YTc2NmY5YzAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGlzdCcpO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1zaGFyZWQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL29wdGlvbnNcIik7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL1ZOb2Rlc1wiKTtcclxudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xyXG52YXIgbW91bnRpbmdfMSA9IHJlcXVpcmUoXCIuL21vdW50aW5nXCIpO1xyXG52YXIgdW5tb3VudGluZ18xID0gcmVxdWlyZShcIi4vdW5tb3VudGluZ1wiKTtcclxuLy8gV2UgbmVlZCBFTVBUWV9PQkogZGVmaW5lZCBpbiBvbmUgcGxhY2UuXHJcbi8vIEl0cyB1c2VkIGZvciBjb21wYXJpc29uIHNvIHdlIGNhbnQgaW5saW5lIGl0IGludG8gc2hhcmVkXHJcbmV4cG9ydHMuRU1QVFlfT0JKID0ge307XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICBPYmplY3QuZnJlZXplKGV4cG9ydHMuRU1QVFlfT0JKKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCBDb21wb25lbnQsIHByb3BzLCBjb250ZXh0LCBpc1NWRywgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb250ZXh0KSkge1xyXG4gICAgICAgIGNvbnRleHQgPSBleHBvcnRzLkVNUFRZX09CSjsgLy8gQ29udGV4dCBzaG91bGQgbm90IGJlIG11dGFibGVcclxuICAgIH1cclxuICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb21wb25lbnQocHJvcHMsIGNvbnRleHQpO1xyXG4gICAgdk5vZGUuY2hpbGRyZW4gPSBpbnN0YW5jZTtcclxuICAgIGluc3RhbmNlLl9ibG9ja1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gY29udGV4dDtcclxuICAgIGlmIChpbnN0YW5jZS5wcm9wcyA9PT0gZXhwb3J0cy5FTVBUWV9PQkopIHtcclxuICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xyXG4gICAgfVxyXG4gICAgLy8gc2V0U3RhdGUgY2FsbGJhY2tzIG11c3QgZmlyZSBhZnRlciByZW5kZXIgaXMgZG9uZSB3aGVuIGNhbGxlZCBmcm9tIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgb3IgY29tcG9uZW50V2lsbE1vdW50XHJcbiAgICBpbnN0YW5jZS5fbGlmZWN5Y2xlID0gbGlmZWN5Y2xlO1xyXG4gICAgaW5zdGFuY2UuX3VubW91bnRlZCA9IGZhbHNlO1xyXG4gICAgaW5zdGFuY2UuX3BlbmRpbmdTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICBpbnN0YW5jZS5faXNTVkcgPSBpc1NWRztcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2Jsb2NrUmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKTtcclxuICAgICAgICBpbnN0YW5jZS5fYmxvY2tSZW5kZXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhciBjaGlsZENvbnRleHQ7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgIGNoaWxkQ29udGV4dCA9IGluc3RhbmNlLmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShjb250ZXh0LCBjaGlsZENvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIpKSB7XHJcbiAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYmVmb3JlUmVuZGVyKGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIHZhciBpbnB1dCA9IGluc3RhbmNlLnJlbmRlcihwcm9wcywgaW5zdGFuY2Uuc3RhdGUsIGNvbnRleHQpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5hZnRlclJlbmRlcikpIHtcclxuICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5hZnRlclJlbmRlcihpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGlucHV0KSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoaW5wdXQpKSB7XHJcbiAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShpbnB1dCwgbnVsbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbiBpbnB1dCB0aGF0IGlzIGFsc28gYSBjb21wb25lbnQsIHdlIHJ1biBpbnRvIGEgdHJpY2t5IHNpdHVhdGlvblxyXG4gICAgICAgICAgICAvLyB3aGVyZSB0aGUgcm9vdCB2Tm9kZSBuZWVkcyB0byBhbHdheXMgaGF2ZSB0aGUgY29ycmVjdCBET00gZW50cnlcclxuICAgICAgICAgICAgLy8gc28gd2UgYnJlYWsgbW9ub21vcnBoaXNtIG9uIG91ciBpbnB1dCBhbmQgc3VwcGx5IGl0IG91ciB2Tm9kZSBhcyBwYXJlbnRWTm9kZVxyXG4gICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBpbiB0aGUgZnV0dXJlLCBidXQgdGhpcyBnZXRzIHVzIG91dCBvZiBhIGxvdCBvZiBpc3N1ZXNcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50Vk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICBpbnN0YW5jZS5fbGFzdElucHV0ID0gaW5wdXQ7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlID0gY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZTtcclxuZnVuY3Rpb24gcmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQobGFzdElucHV0LCBuZXh0SW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnQobmV4dElucHV0LCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbGFzdElucHV0LCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VMYXN0Q2hpbGRBbmRVbm1vdW50ID0gcmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQ7XHJcbmZ1bmN0aW9uIHJlcGxhY2VWTm9kZShwYXJlbnREb20sIGRvbSwgdk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHVubW91bnRpbmdfMS51bm1vdW50KHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICByZXBsYWNlQ2hpbGQocGFyZW50RG9tLCBkb20sIHZOb2RlLmRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZXBsYWNlVk5vZGUgPSByZXBsYWNlVk5vZGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCh2Tm9kZSwgY29tcG9uZW50LCBwcm9wcywgY29udGV4dCkge1xyXG4gICAgdmFyIGlucHV0ID0gY29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKGlucHV0LCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGlucHV0IHRoYXQgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgcnVuIGludG8gYSB0cmlja3kgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgIC8vIHdoZXJlIHRoZSByb290IHZOb2RlIG5lZWRzIHRvIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IERPTSBlbnRyeVxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBicmVhayBtb25vbW9ycGhpc20gb24gb3VyIGlucHV0IGFuZCBzdXBwbHkgaXQgb3VyIHZOb2RlIGFzIHBhcmVudFZOb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGlzIGdldHMgdXMgb3V0IG9mIGEgbG90IG9mIGlzc3Vlc1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRWTm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbnB1dDtcclxufVxyXG5leHBvcnRzLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCA9IGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dDtcclxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQoZG9tLCB0ZXh0KSB7XHJcbiAgICBpZiAodGV4dCAhPT0gJycpIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZXRUZXh0Q29udGVudCA9IHNldFRleHRDb250ZW50O1xyXG5mdW5jdGlvbiB1cGRhdGVUZXh0Q29udGVudChkb20sIHRleHQpIHtcclxuICAgIGRvbS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbn1cclxuZXhwb3J0cy51cGRhdGVUZXh0Q29udGVudCA9IHVwZGF0ZVRleHRDb250ZW50O1xyXG5mdW5jdGlvbiBhcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLmFwcGVuZENoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5hcHBlbmRDaGlsZCA9IGFwcGVuZENoaWxkO1xyXG5mdW5jdGlvbiBpbnNlcnRPckFwcGVuZChwYXJlbnREb20sIG5ld05vZGUsIG5leHROb2RlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHROb2RlKSkge1xyXG4gICAgICAgIGFwcGVuZENoaWxkKHBhcmVudERvbSwgbmV3Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwYXJlbnREb20uaW5zZXJ0QmVmb3JlKG5ld05vZGUsIG5leHROb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmluc2VydE9yQXBwZW5kID0gaW5zZXJ0T3JBcHBlbmQ7XHJcbmZ1bmN0aW9uIGRvY3VtZW50Q3JlYXRlRWxlbWVudCh0YWcsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcgPT09IHRydWUpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGNvbnN0YW50c18xLnN2Z05TLCB0YWcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudDtcclxuZnVuY3Rpb24gcmVwbGFjZVdpdGhOZXdOb2RlKGxhc3ROb2RlLCBuZXh0Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdW5tb3VudGluZ18xLnVubW91bnQobGFzdE5vZGUsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgIHZhciBkb20gPSBtb3VudGluZ18xLm1vdW50KG5leHROb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIG5leHROb2RlLmRvbSA9IGRvbTtcclxuICAgIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIGRvbSwgbGFzdE5vZGUuZG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VXaXRoTmV3Tm9kZSA9IHJlcGxhY2VXaXRoTmV3Tm9kZTtcclxuZnVuY3Rpb24gcmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbmV4dERvbSwgbGFzdERvbSkge1xyXG4gICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICBwYXJlbnREb20gPSBsYXN0RG9tLnBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKG5leHREb20sIGxhc3REb20pO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZUNoaWxkID0gcmVwbGFjZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZW1vdmVDaGlsZCA9IHJlbW92ZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVBbGxDaGlsZHJlbihkb20sIGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCB8fCAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAhaXNSZWN5Y2xpbmcpKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2hpbGRyZW4obnVsbCwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQWxsQ2hpbGRyZW4gPSByZW1vdmVBbGxDaGlsZHJlbjtcclxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoY2hpbGQsIGRvbSwgbGlmZWN5Y2xlLCB0cnVlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQ2hpbGRyZW4gPSByZW1vdmVDaGlsZHJlbjtcclxuZnVuY3Rpb24gaXNLZXllZChsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbikge1xyXG4gICAgcmV0dXJuIG5leHRDaGlsZHJlbi5sZW5ndGggPiAwICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dENoaWxkcmVuWzBdKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDaGlsZHJlblswXS5rZXkpXHJcbiAgICAgICAgJiYgbGFzdENoaWxkcmVuLmxlbmd0aCA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0Q2hpbGRyZW5bMF0pICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdENoaWxkcmVuWzBdLmtleSk7XHJcbn1cclxuZXhwb3J0cy5pc0tleWVkID0gaXNLZXllZDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vdXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5vcHRpb25zID0ge1xyXG4gICAgYWZ0ZXJNb3VudDogbnVsbCxcclxuICAgIGFmdGVyUmVuZGVyOiBudWxsLFxyXG4gICAgYWZ0ZXJVcGRhdGU6IG51bGwsXHJcbiAgICBiZWZvcmVSZW5kZXI6IG51bGwsXHJcbiAgICBiZWZvcmVVbm1vdW50OiBudWxsLFxyXG4gICAgY3JlYXRlVk5vZGU6IG51bGwsXHJcbiAgICBmaW5kRE9NTm9kZUVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgcmVjeWNsaW5nRW5hYmxlZDogZmFsc2UsXHJcbiAgICByb290czogW11cclxufTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9jb3JlL29wdGlvbnMuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL0RPTS91dGlsc1wiKTtcclxudmFyIG5vcm1hbGl6YXRpb25fMSA9IHJlcXVpcmUoXCIuL25vcm1hbGl6YXRpb25cIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi9vcHRpb25zXCIpO1xyXG5mdW5jdGlvbiBWTm9kZShjaGlsZHJlbiwgY2xhc3NOYW1lLCBmbGFncywga2V5LCBwcm9wcywgcmVmLCB0eXBlKSB7XHJcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgIHRoaXMuZG9tID0gbnVsbDtcclxuICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcclxuICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xyXG4gICAgdGhpcy5yZWYgPSByZWY7XHJcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcclxuICogQHBhcmFtIHtzdHJpbmd8RnVuY3Rpb258bnVsbH0gdHlwZVxyXG4gKiBAcGFyYW0ge3N0cmluZ3xudWxsPX0gY2xhc3NOYW1lXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gY2hpbGRyZW5cclxuICogQHBhcmFtIHtvYmplY3Q9fSBwcm9wc1xyXG4gKiBAcGFyYW0geyo9fSBrZXlcclxuICogQHBhcmFtIHtvYmplY3R8RnVuY3Rpb249fSByZWZcclxuICogQHBhcmFtIHtib29sZWFuPX0gbm9Ob3JtYWxpc2VcclxuICogQHJldHVybnMge1ZOb2RlfSByZXR1cm5zIG5ldyB2aXJ0dWFsIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVZOb2RlKGZsYWdzLCB0eXBlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCBwcm9wcywga2V5LCByZWYsIG5vTm9ybWFsaXNlKSB7XHJcbiAgICBpZiAoZmxhZ3MgJiAxNiAvKiBDb21wb25lbnRVbmtub3duICovKSB7XHJcbiAgICAgICAgZmxhZ3MgPSBpbmZlcm5vX3NoYXJlZF8xLmlzU3RhdGVmdWxDb21wb25lbnQodHlwZSkgPyA0IC8qIENvbXBvbmVudENsYXNzICovIDogOCAvKiBDb21wb25lbnRGdW5jdGlvbiAqLztcclxuICAgIH1cclxuICAgIHZhciB2Tm9kZSA9IG5ldyBWTm9kZShjaGlsZHJlbiA9PT0gdm9pZCAwID8gbnVsbCA6IGNoaWxkcmVuLCBjbGFzc05hbWUgPT09IHZvaWQgMCA/IG51bGwgOiBjbGFzc05hbWUsIGZsYWdzLCBrZXkgPT09IHZvaWQgMCA/IG51bGwgOiBrZXksIHByb3BzID09PSB2b2lkIDAgPyBudWxsIDogcHJvcHMsIHJlZiA9PT0gdm9pZCAwID8gbnVsbCA6IHJlZiwgdHlwZSk7XHJcbiAgICBpZiAobm9Ob3JtYWxpc2UgIT09IHRydWUpIHtcclxuICAgICAgICBub3JtYWxpemF0aW9uXzEubm9ybWFsaXplKHZOb2RlKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5jcmVhdGVWTm9kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmNyZWF0ZVZOb2RlKHZOb2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2Tm9kZTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVZOb2RlID0gY3JlYXRlVk5vZGU7XHJcbmZ1bmN0aW9uIGRpcmVjdENsb25lKHZOb2RlVG9DbG9uZSkge1xyXG4gICAgdmFyIG5ld1ZOb2RlO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGVUb0Nsb25lLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgdmFyIHByb3BzID0gdm9pZCAwO1xyXG4gICAgICAgIHZhciBwcm9wc1RvQ2xvbmUgPSB2Tm9kZVRvQ2xvbmUucHJvcHM7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzVG9DbG9uZSkpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wc1RvQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSBwcm9wc1RvQ2xvbmVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgbnVsbCwgbnVsbCwgcHJvcHMsIHZOb2RlVG9DbG9uZS5rZXksIHZOb2RlVG9DbG9uZS5yZWYsIHRydWUpO1xyXG4gICAgICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IG5ld1Byb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gYWxzbyBjbG9uZSBjb21wb25lbnQgY2hpbGRyZW4gdGhhdCBhcmUgaW4gcHJvcHNcclxuICAgICAgICAvLyBhcyB0aGUgY2hpbGRyZW4gbWF5IGFsc28gaGF2ZSBiZWVuIGhvaXN0ZWRcclxuICAgICAgICBpZiAobmV3Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBuZXdDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXBBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpICYmIGlzVk5vZGUoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKGNoaWxkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSB0bXBBcnJheTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1ZOb2RlKG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSBkaXJlY3RDbG9uZShuZXdDaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Vk5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZVRvQ2xvbmUuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHByb3BzID0gdm9pZCAwO1xyXG4gICAgICAgIHZhciBwcm9wc1RvQ2xvbmUgPSB2Tm9kZVRvQ2xvbmUucHJvcHM7XHJcbiAgICAgICAgaWYgKHByb3BzVG9DbG9uZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzVG9DbG9uZSkge1xyXG4gICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHByb3BzVG9DbG9uZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCB2Tm9kZVRvQ2xvbmUuY2xhc3NOYW1lLCBjaGlsZHJlbiwgcHJvcHMsIHZOb2RlVG9DbG9uZS5rZXksIHZOb2RlVG9DbG9uZS5yZWYsICFjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVGV4dFZOb2RlKHZOb2RlVG9DbG9uZS5jaGlsZHJlbiwgdk5vZGVUb0Nsb25lLmtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Vk5vZGU7XHJcbn1cclxuZXhwb3J0cy5kaXJlY3RDbG9uZSA9IGRpcmVjdENsb25lO1xyXG4vKlxyXG4gZGlyZWN0Q2xvbmUgaXMgcHJlZmVycmVkIG92ZXIgY2xvbmVWTm9kZSBhbmQgdXNlZCBpbnRlcm5hbGx5IGFsc28uXHJcbiBUaGlzIGZ1bmN0aW9uIG1ha2VzIEluZmVybm8gYmFja3dhcmRzIGNvbXBhdGlibGUuXHJcbiBBbmQgY2FuIGJlIHRyZWUtc2hha2VkIGJ5IG1vZGVybiBidW5kbGVyc1xyXG5cclxuIFdvdWxkIGJlIG5pY2UgdG8gY29tYmluZSB0aGlzIHdpdGggZGlyZWN0Q2xvbmUgYnV0IGNvdWxkIG5vdCBkbyBpdCB3aXRob3V0IGJyZWFraW5nIGNoYW5nZVxyXG4gKi9cclxuLyoqXHJcbiAqIENsb25lcyBnaXZlbiB2aXJ0dWFsIG5vZGUgYnkgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGl0XHJcbiAqIEBwYXJhbSB7Vk5vZGV9IHZOb2RlVG9DbG9uZSB2aXJ0dWFsIG5vZGUgdG8gYmUgY2xvbmVkXHJcbiAqIEBwYXJhbSB7UHJvcHM9fSBwcm9wcyBhZGRpdGlvbmFsIHByb3BzIGZvciBuZXcgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7Li4uKn0gX2NoaWxkcmVuIG5ldyBjaGlsZHJlbiBmb3IgbmV3IHZpcnR1YWwgbm9kZVxyXG4gKiBAcmV0dXJucyB7Vk5vZGV9IG5ldyB2aXJ0dWFsIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIGNsb25lVk5vZGUodk5vZGVUb0Nsb25lLCBwcm9wcykge1xyXG4gICAgdmFyIF9jaGlsZHJlbiA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBfY2hpbGRyZW5bX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBfY2hpbGRyZW47XHJcbiAgICB2YXIgY2hpbGRyZW5MZW4gPSBfY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgaWYgKGNoaWxkcmVuTGVuID4gMCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChfY2hpbGRyZW5bMF0pKSB7XHJcbiAgICAgICAgaWYgKCFwcm9wcykge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hpbGRyZW5MZW4gPT09IDEpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfY2hpbGRyZW5bMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgbmV3Vk5vZGU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KHZOb2RlVG9DbG9uZSkpIHtcclxuICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdk5vZGVUb0Nsb25lLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRtcEFycmF5LnB1c2goZGlyZWN0Q2xvbmUodk5vZGVUb0Nsb25lW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlID0gdG1wQXJyYXk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZmxhZ3MgPSB2Tm9kZVRvQ2xvbmUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHZOb2RlVG9DbG9uZS5jbGFzc05hbWUgfHwgKHByb3BzICYmIHByb3BzLmNsYXNzTmFtZSk7XHJcbiAgICAgICAgdmFyIGtleSA9ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodk5vZGVUb0Nsb25lLmtleSkgPyB2Tm9kZVRvQ2xvbmUua2V5IDogKHByb3BzID8gcHJvcHMua2V5IDogbnVsbCk7XHJcbiAgICAgICAgdmFyIHJlZiA9IHZOb2RlVG9DbG9uZS5yZWYgfHwgKHByb3BzID8gcHJvcHMucmVmIDogbnVsbCk7XHJcbiAgICAgICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCBjbGFzc05hbWUsIG51bGwsICghdk5vZGVUb0Nsb25lLnByb3BzICYmICFwcm9wcykgPyB1dGlsc18xLkVNUFRZX09CSiA6IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20odk5vZGVUb0Nsb25lLnByb3BzLCBwcm9wcyksIGtleSwgcmVmLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgICAgIGlmIChuZXdQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkcmVuID0gbmV3UHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGFsc28gY2xvbmUgY29tcG9uZW50IGNoaWxkcmVuIHRoYXQgYXJlIGluIHByb3BzXHJcbiAgICAgICAgICAgICAgICAvLyBhcyB0aGUgY2hpbGRyZW4gbWF5IGFsc28gaGF2ZSBiZWVuIGhvaXN0ZWRcclxuICAgICAgICAgICAgICAgIGlmIChuZXdDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV3Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW4gPSBuZXdDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZW4gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBuZXdDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpc1ZOb2RlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKGNoaWxkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSB0bXBBcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1ZOb2RlKG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcy5jaGlsZHJlbiA9IGRpcmVjdENsb25lKG5ld0NoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Vk5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IChwcm9wcyAmJiAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwcm9wcy5jaGlsZHJlbikpID8gcHJvcHMuY2hpbGRyZW4gOiB2Tm9kZVRvQ2xvbmUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCAoIXZOb2RlVG9DbG9uZS5wcm9wcyAmJiAhcHJvcHMpID8gdXRpbHNfMS5FTVBUWV9PQkogOiBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHZOb2RlVG9DbG9uZS5wcm9wcywgcHJvcHMpLCBrZXksIHJlZiwgIWNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVUZXh0Vk5vZGUodk5vZGVUb0Nsb25lLmNoaWxkcmVuLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXdWTm9kZTtcclxufVxyXG5leHBvcnRzLmNsb25lVk5vZGUgPSBjbG9uZVZOb2RlO1xyXG5mdW5jdGlvbiBjcmVhdGVWb2lkVk5vZGUoKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoNDA5NiAvKiBWb2lkICovLCBudWxsKTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVZvaWRWTm9kZSA9IGNyZWF0ZVZvaWRWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQsIGtleSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKDEgLyogVGV4dCAqLywgbnVsbCwgbnVsbCwgdGV4dCwgbnVsbCwga2V5KTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVRleHRWTm9kZSA9IGNyZWF0ZVRleHRWTm9kZTtcclxuZnVuY3Rpb24gaXNWTm9kZShvKSB7XHJcbiAgICByZXR1cm4gISFvLmZsYWdzO1xyXG59XHJcbmV4cG9ydHMuaXNWTm9kZSA9IGlzVk5vZGU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvY29yZS9WTm9kZXMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vY29yZS9vcHRpb25zXCIpO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi4vY29yZS9WTm9kZXNcIik7XHJcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcclxudmFyIGRlbGVnYXRpb25fMSA9IHJlcXVpcmUoXCIuL2V2ZW50cy9kZWxlZ2F0aW9uXCIpO1xyXG52YXIgbW91bnRpbmdfMSA9IHJlcXVpcmUoXCIuL21vdW50aW5nXCIpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJpbmdcIik7XHJcbnZhciB1bm1vdW50aW5nXzEgPSByZXF1aXJlKFwiLi91bm1vdW50aW5nXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL3dyYXBwZXJzL3Byb2Nlc3NFbGVtZW50XCIpO1xyXG5mdW5jdGlvbiBwYXRjaChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgaWYgKGxhc3RWTm9kZSAhPT0gbmV4dFZOb2RlKSB7XHJcbiAgICAgICAgdmFyIGxhc3RGbGFncyA9IGxhc3RWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dEZsYWdzID0gbmV4dFZOb2RlLmZsYWdzO1xyXG4gICAgICAgIGlmIChuZXh0RmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgaWYgKGxhc3RGbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hDb21wb25lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgbmV4dEZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50Q29tcG9uZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgKG5leHRGbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRWxlbWVudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRFbGVtZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRUZXh0KG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRWb2lkKG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGNhc2U6IG1vdW50IG5ldyBvbmUgcmVwbGFjaW5nIG9sZCBvbmVcclxuICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2ggPSBwYXRjaDtcclxuZnVuY3Rpb24gdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaEVsZW1lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBuZXh0VGFnID0gbmV4dFZOb2RlLnR5cGU7XHJcbiAgICB2YXIgbGFzdFRhZyA9IGxhc3RWTm9kZS50eXBlO1xyXG4gICAgaWYgKGxhc3RUYWcgIT09IG5leHRUYWcpIHtcclxuICAgICAgICB1dGlsc18xLnJlcGxhY2VXaXRoTmV3Tm9kZShsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICB2YXIgbGFzdFByb3BzID0gbGFzdFZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgdmFyIGxhc3RDaGlsZHJlbiA9IGxhc3RWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBsYXN0RmxhZ3MgPSBsYXN0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRGbGFncyA9IG5leHRWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dFJlZiA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgdmFyIGxhc3RDbGFzc05hbWUgPSBsYXN0Vk5vZGUuY2xhc3NOYW1lO1xyXG4gICAgICAgIHZhciBuZXh0Q2xhc3NOYW1lID0gbmV4dFZOb2RlLmNsYXNzTmFtZTtcclxuICAgICAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgKG5leHRGbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGxhc3RDaGlsZHJlbiAhPT0gbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4obGFzdEZsYWdzLCBuZXh0RmxhZ3MsIGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5saW5lZCBwYXRjaFByb3BzICAtLSBzdGFydHMgLS1cclxuICAgICAgICBpZiAobGFzdFByb3BzICE9PSBuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wc09yRW1wdHkgPSBsYXN0UHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgICAgIHZhciBuZXh0UHJvcHNPckVtcHR5ID0gbmV4dFByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHNPckVtcHR5ICE9PSB1dGlsc18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAobmV4dEZsYWdzICYgMzU4NCAvKiBGb3JtRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KG5leHRQcm9wc09yRW1wdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBuZXh0UHJvcHNPckVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gbGFzdFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQobmV4dEZsYWdzLCBuZXh0Vk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgZmFsc2UsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxhc3RQcm9wc09yRW1wdHkgIT09IHV0aWxzXzEuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxhc3RQcm9wc09yRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eVtwcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvcChwcm9wLCBsYXN0UHJvcHNPckVtcHR5W3Byb3BdLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbmxpbmVkIHBhdGNoUHJvcHMgIC0tIGVuZHMgLS1cclxuICAgICAgICBpZiAobGFzdENsYXNzTmFtZSAhPT0gbmV4dENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBuZXh0Q2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBuZXh0Q2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXh0UmVmKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0Vk5vZGUucmVmICE9PSBuZXh0UmVmIHx8IGlzUmVjeWNsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgbmV4dFJlZiwgbGlmZWN5Y2xlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoRWxlbWVudCA9IHBhdGNoRWxlbWVudDtcclxuZnVuY3Rpb24gcGF0Y2hDaGlsZHJlbihsYXN0RmxhZ3MsIG5leHRGbGFncywgbGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBwYXRjaEFycmF5ID0gZmFsc2U7XHJcbiAgICB2YXIgcGF0Y2hLZXllZCA9IGZhbHNlO1xyXG4gICAgaWYgKG5leHRGbGFncyAmIDY0IC8qIEhhc05vbktleWVkQ2hpbGRyZW4gKi8pIHtcclxuICAgICAgICBwYXRjaEFycmF5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChsYXN0RmxhZ3MgJiAzMiAvKiBIYXNLZXllZENoaWxkcmVuICovKSA+IDAgJiYgKG5leHRGbGFncyAmIDMyIC8qIEhhc0tleWVkQ2hpbGRyZW4gKi8pID4gMCkge1xyXG4gICAgICAgIHBhdGNoS2V5ZWQgPSB0cnVlO1xyXG4gICAgICAgIHBhdGNoQXJyYXkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEudXBkYXRlVGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgdXRpbHNfMS5zZXRUZXh0Q29udGVudChkb20sIG5leHRDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGxhc3RDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcGF0Y2hBcnJheSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh1dGlsc18xLmlzS2V5ZWQobGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudEFycmF5Q2hpbGRyZW4obmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoVk5vZGVzXzEuaXNWTm9kZShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXRjaEFycmF5KSB7XHJcbiAgICAgICAgaWYgKHBhdGNoS2V5ZWQpIHtcclxuICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhdGNoQ29tcG9uZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbGFzdFR5cGUgPSBsYXN0Vk5vZGUudHlwZTtcclxuICAgIHZhciBuZXh0VHlwZSA9IG5leHRWTm9kZS50eXBlO1xyXG4gICAgdmFyIGxhc3RLZXkgPSBsYXN0Vk5vZGUua2V5O1xyXG4gICAgdmFyIG5leHRLZXkgPSBuZXh0Vk5vZGUua2V5O1xyXG4gICAgaWYgKGxhc3RUeXBlICE9PSBuZXh0VHlwZSB8fCBsYXN0S2V5ICE9PSBuZXh0S2V5KSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlV2l0aE5ld05vZGUobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudENvbXBvbmVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChuZXh0Vk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApLCBsYXN0Vk5vZGUuZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNDb21wb25lbnREaWRVcGRhdGUgPSAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgLy8gV2hlbiBjb21wb25lbnQgaGFzIGNvbXBvbmVudERpZFVwZGF0ZSBob29rLCB3ZSBuZWVkIHRvIGNsb25lIGxhc3RTdGF0ZSBvciB3aWxsIGJlIG1vZGlmaWVkIGJ5IHJlZmVyZW5jZSBkdXJpbmcgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdFN0YXRlID0gaGFzQ29tcG9uZW50RGlkVXBkYXRlID8gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShuZXh0U3RhdGUsIG51bGwpIDogbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGluc3RhbmNlLnByb3BzO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9pc1NWRyA9IGlzU1ZHO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBsYXN0SW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRJbnB1dCA9IGluc3RhbmNlLl91cGRhdGVDb21wb25lbnQobGFzdFN0YXRlLCBuZXh0U3RhdGUsIGxhc3RQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gY2hpbGRDb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHRJbnB1dCA9PT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IGxhc3RJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChuZXh0SW5wdXQuZG9tKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuZXh0SW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQucGFyZW50Vk5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsYXN0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0SW5wdXQucGFyZW50Vk5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fbGFzdElucHV0ID0gbmV4dElucHV0O1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX3ZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpZFVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2hpbGRDb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKGxhc3RQcm9wcywgbGFzdFN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5hZnRlclVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUobmV4dFZOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBuZXh0SW5wdXQuZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuZG9tID0gbmV4dElucHV0LmRvbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBzaG91bGRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgbGFzdFByb3BzID0gbGFzdFZOb2RlLnByb3BzO1xyXG4gICAgICAgICAgICB2YXIgbmV4dEhvb2tzID0gbmV4dFZOb2RlLnJlZjtcclxuICAgICAgICAgICAgdmFyIG5leHRIb29rc0RlZmluZWQgPSAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIb29rcyk7XHJcbiAgICAgICAgICAgIHZhciBsYXN0SW5wdXQgPSBsYXN0Vk5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIHZhciBuZXh0SW5wdXQgPSBsYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgIG5leHRWTm9kZS5kb20gPSBsYXN0Vk5vZGUuZG9tO1xyXG4gICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBsYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgIGlmIChsYXN0S2V5ICE9PSBuZXh0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnRTaG91bGRVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gbmV4dEhvb2tzLm9uQ29tcG9uZW50U2hvdWxkVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRIb29rcy5vbkNvbXBvbmVudFdpbGxVcGRhdGUobGFzdFByb3BzLCBuZXh0UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dElucHV0ID0gbmV4dFR5cGUobmV4dFByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVm9pZFZOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dElucHV0KSAmJiBuZXh0SW5wdXQgIT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVUZXh0Vk5vZGUobmV4dElucHV0LCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG5leHRJbnB1dC5kb20pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRJbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbnB1dCAhPT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBuZXh0SW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnREaWRVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRIb29rcy5vbkNvbXBvbmVudERpZFVwZGF0ZShsYXN0UHJvcHMsIG5leHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRWTm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuZXh0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIG5leHRJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIGxhc3RJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLnBhdGNoQ29tcG9uZW50ID0gcGF0Y2hDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSkge1xyXG4gICAgdmFyIG5leHRUZXh0ID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGRvbSA9IGxhc3RWTm9kZS5kb207XHJcbiAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKGxhc3RWTm9kZS5jaGlsZHJlbiAhPT0gbmV4dFRleHQpIHtcclxuICAgICAgICBkb20ubm9kZVZhbHVlID0gbmV4dFRleHQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFRleHQgPSBwYXRjaFRleHQ7XHJcbmZ1bmN0aW9uIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSkge1xyXG4gICAgbmV4dFZOb2RlLmRvbSA9IGxhc3RWTm9kZS5kb207XHJcbn1cclxuZXhwb3J0cy5wYXRjaFZvaWQgPSBwYXRjaFZvaWQ7XHJcbmZ1bmN0aW9uIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGxhc3RDaGlsZHJlbkxlbmd0aCA9IGxhc3RDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICB2YXIgbmV4dENoaWxkcmVuTGVuZ3RoID0gbmV4dENoaWxkcmVuLmxlbmd0aDtcclxuICAgIHZhciBjb21tb25MZW5ndGggPSBsYXN0Q2hpbGRyZW5MZW5ndGggPiBuZXh0Q2hpbGRyZW5MZW5ndGggPyBuZXh0Q2hpbGRyZW5MZW5ndGggOiBsYXN0Q2hpbGRyZW5MZW5ndGg7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBmb3IgKDsgaSA8IGNvbW1vbkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXTtcclxuICAgICAgICBpZiAobmV4dENoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICBuZXh0Q2hpbGQgPSBuZXh0Q2hpbGRyZW5baV0gPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuZXh0Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXRjaChsYXN0Q2hpbGRyZW5baV0sIG5leHRDaGlsZCwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAobGFzdENoaWxkcmVuTGVuZ3RoIDwgbmV4dENoaWxkcmVuTGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChpID0gY29tbW9uTGVuZ3RoOyBpIDwgbmV4dENoaWxkcmVuTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKG5leHRDaGlsZC5kb20pIHtcclxuICAgICAgICAgICAgICAgIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRDaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChkb20sIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobmV4dENoaWxkcmVuTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsYXN0Q2hpbGRyZW5MZW5ndGggPiBuZXh0Q2hpbGRyZW5MZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGkgPSBjb21tb25MZW5ndGg7IGkgPCBsYXN0Q2hpbGRyZW5MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChsYXN0Q2hpbGRyZW5baV0sIGRvbSwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoTm9uS2V5ZWRDaGlsZHJlbiA9IHBhdGNoTm9uS2V5ZWRDaGlsZHJlbjtcclxuZnVuY3Rpb24gcGF0Y2hLZXllZENoaWxkcmVuKGEsIGIsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBhTGVuZ3RoID0gYS5sZW5ndGg7XHJcbiAgICB2YXIgYkxlbmd0aCA9IGIubGVuZ3RoO1xyXG4gICAgdmFyIGFFbmQgPSBhTGVuZ3RoIC0gMTtcclxuICAgIHZhciBiRW5kID0gYkxlbmd0aCAtIDE7XHJcbiAgICB2YXIgYVN0YXJ0ID0gMDtcclxuICAgIHZhciBiU3RhcnQgPSAwO1xyXG4gICAgdmFyIGk7XHJcbiAgICB2YXIgajtcclxuICAgIHZhciBhTm9kZTtcclxuICAgIHZhciBiTm9kZTtcclxuICAgIHZhciBuZXh0Tm9kZTtcclxuICAgIHZhciBuZXh0UG9zO1xyXG4gICAgdmFyIG5vZGU7XHJcbiAgICBpZiAoYUxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlmIChiTGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihiLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChiTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGEsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBhU3RhcnROb2RlID0gYVthU3RhcnRdO1xyXG4gICAgdmFyIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICB2YXIgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgdmFyIGJFbmROb2RlID0gYltiRW5kXTtcclxuICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgIGJbYlN0YXJ0XSA9IGJTdGFydE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiU3RhcnROb2RlKTtcclxuICAgIH1cclxuICAgIGlmIChiRW5kTm9kZS5kb20pIHtcclxuICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICB9XHJcbiAgICAvLyBTdGVwIDFcclxuICAgIC8qIGVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IDAgKi9cclxuICAgIG91dGVyOiB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIC8vIFN5bmMgbm9kZXMgd2l0aCB0aGUgc2FtZSBrZXkgYXQgdGhlIGJlZ2lubmluZy5cclxuICAgICAgICB3aGlsZSAoYVN0YXJ0Tm9kZS5rZXkgPT09IGJTdGFydE5vZGUua2V5KSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGFTdGFydE5vZGUsIGJTdGFydE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBhU3RhcnQrKztcclxuICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgIGlmIChhU3RhcnQgPiBhRW5kIHx8IGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICAgICAgICAgIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN5bmMgbm9kZXMgd2l0aCB0aGUgc2FtZSBrZXkgYXQgdGhlIGVuZC5cclxuICAgICAgICB3aGlsZSAoYUVuZE5vZGUua2V5ID09PSBiRW5kTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYUVuZE5vZGUsIGJFbmROb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgYUVuZC0tO1xyXG4gICAgICAgICAgICBiRW5kLS07XHJcbiAgICAgICAgICAgIGlmIChhU3RhcnQgPiBhRW5kIHx8IGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFFbmROb2RlID0gYVthRW5kXTtcclxuICAgICAgICAgICAgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgICAgICAgICBpZiAoYkVuZE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTW92ZSBhbmQgc3luYyBub2RlcyBmcm9tIHJpZ2h0IHRvIGxlZnQuXHJcbiAgICAgICAgaWYgKGFFbmROb2RlLmtleSA9PT0gYlN0YXJ0Tm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYUVuZE5vZGUsIGJTdGFydE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgYlN0YXJ0Tm9kZS5kb20sIGFTdGFydE5vZGUuZG9tKTtcclxuICAgICAgICAgICAgYUVuZC0tO1xyXG4gICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgICAgICAgICBiU3RhcnROb2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICBpZiAoYlN0YXJ0Tm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IGJTdGFydE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiU3RhcnROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTW92ZSBhbmQgc3luYyBub2RlcyBmcm9tIGxlZnQgdG8gcmlnaHQuXHJcbiAgICAgICAgaWYgKGFTdGFydE5vZGUua2V5ID09PSBiRW5kTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYVN0YXJ0Tm9kZSwgYkVuZE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBuZXh0UG9zID0gYkVuZCArIDE7XHJcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgYkVuZE5vZGUuZG9tLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgIGFTdGFydCsrO1xyXG4gICAgICAgICAgICBiRW5kLS07XHJcbiAgICAgICAgICAgIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICAgICAgICAgIGJFbmROb2RlID0gYltiRW5kXTtcclxuICAgICAgICAgICAgaWYgKGJFbmROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiRW5kXSA9IGJFbmROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYkVuZE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGlmIChhU3RhcnQgPiBhRW5kKSB7XHJcbiAgICAgICAgaWYgKGJTdGFydCA8PSBiRW5kKSB7XHJcbiAgICAgICAgICAgIG5leHRQb3MgPSBiRW5kICsgMTtcclxuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgIHdoaWxlIChiU3RhcnQgPD0gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJTdGFydCsrO1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICB3aGlsZSAoYVN0YXJ0IDw9IGFFbmQpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoYVthU3RhcnQrK10sIGRvbSwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFMZW5ndGggPSBhRW5kIC0gYVN0YXJ0ICsgMTtcclxuICAgICAgICBiTGVuZ3RoID0gYkVuZCAtIGJTdGFydCArIDE7XHJcbiAgICAgICAgdmFyIHNvdXJjZXMgPSBuZXcgQXJyYXkoYkxlbmd0aCk7XHJcbiAgICAgICAgLy8gTWFyayBhbGwgbm9kZXMgYXMgaW5zZXJ0ZWQuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzb3VyY2VzW2ldID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBwb3MgPSAwO1xyXG4gICAgICAgIHZhciBwYXRjaGVkID0gMDtcclxuICAgICAgICAvLyBXaGVuIHNpemVzIGFyZSBzbWFsbCwganVzdCBsb29wIHRoZW0gdGhyb3VnaFxyXG4gICAgICAgIGlmICgoYkxlbmd0aCA8PSA0KSB8fCAoYUxlbmd0aCAqIGJMZW5ndGggPD0gMTYpKSB7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGFTdGFydDsgaSA8PSBhRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkIDwgYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IGJTdGFydDsgaiA8PSBiRW5kOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYk5vZGUgPSBiW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYU5vZGUua2V5ID09PSBiTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXNbaiAtIGJTdGFydF0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJOb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbal0gPSBiTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoKGFOb2RlLCBiTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2ldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIga2V5SW5kZXggPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIC8vIE1hcCBrZXlzIGJ5IHRoZWlyIGluZGV4IGluIGFycmF5XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGJTdGFydDsgaSA8PSBiRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGtleUluZGV4LnNldChiW2ldLmtleSwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVHJ5IHRvIHBhdGNoIHNhbWUga2V5c1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBhU3RhcnQ7IGkgPD0gYUVuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhTm9kZSA9IGFbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA8IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBqID0ga2V5SW5kZXguZ2V0KGFOb2RlLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJOb2RlID0gYltqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlc1tqIC0gYlN0YXJ0XSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPiBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiTm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbal0gPSBiTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaChhTm9kZSwgYk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmYXN0LXBhdGg6IGlmIG5vdGhpbmcgcGF0Y2hlZCByZW1vdmUgYWxsIG9sZCBhbmQgYWRkIGFsbCBuZXdcclxuICAgICAgICBpZiAoYUxlbmd0aCA9PT0gYS5sZW5ndGggJiYgcGF0Y2hlZCA9PT0gMCkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgYSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIHdoaWxlIChiU3RhcnQgPCBiTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYltiU3RhcnRdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGkgPSBhTGVuZ3RoIC0gcGF0Y2hlZDtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhTm9kZSA9IGFbYVN0YXJ0KytdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChhTm9kZSwgZG9tLCBsaWZlY3ljbGUsIHRydWUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VxID0gbGlzX2FsZ29yaXRobShzb3VyY2VzKTtcclxuICAgICAgICAgICAgICAgIGogPSBzZXEubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGJMZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW2ldID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBpICsgYlN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltwb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbcG9zXSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UG9zID0gcG9zICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBzZXFbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltwb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBvcyA9IHBvcyArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBub2RlLmRvbSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBhdGNoZWQgIT09IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcGF0Y2hlZCBjb3VudCBkb2Vzbid0IG1hdGNoIGIgbGVuZ3RoIHdlIG5lZWQgdG8gaW5zZXJ0IHRob3NlIG5ldyBvbmVzXHJcbiAgICAgICAgICAgICAgICAvLyBsb29wIGJhY2t3YXJkcyBzbyB3ZSBjYW4gdXNlIGluc2VydEJlZm9yZVxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gYkxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbaV0gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltwb3NdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQb3MgPSBwb3MgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEtleWVkQ2hpbGRyZW4gPSBwYXRjaEtleWVkQ2hpbGRyZW47XHJcbi8vIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xvbmdlc3RfaW5jcmVhc2luZ19zdWJzZXF1ZW5jZVxyXG5mdW5jdGlvbiBsaXNfYWxnb3JpdGhtKGFycikge1xyXG4gICAgdmFyIHAgPSBhcnIuc2xpY2UoMCk7XHJcbiAgICB2YXIgcmVzdWx0ID0gWzBdO1xyXG4gICAgdmFyIGk7XHJcbiAgICB2YXIgajtcclxuICAgIHZhciB1O1xyXG4gICAgdmFyIHY7XHJcbiAgICB2YXIgYztcclxuICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGFyckkgPSBhcnJbaV07XHJcbiAgICAgICAgaWYgKGFyckkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xyXG4gICAgICAgICAgICBwW2ldID0gajtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1ID0gMDtcclxuICAgICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgd2hpbGUgKHUgPCB2KSB7XHJcbiAgICAgICAgICAgIGMgPSAoKHUgKyB2KSAvIDIpIHwgMDtcclxuICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgdSA9IGMgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdiA9IGM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyckkgPCBhcnJbcmVzdWx0W3VdXSkge1xyXG4gICAgICAgICAgICBpZiAodSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdFt1XSA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdSA9IHJlc3VsdC5sZW5ndGg7XHJcbiAgICB2ID0gcmVzdWx0W3UgLSAxXTtcclxuICAgIHdoaWxlICh1LS0gPiAwKSB7XHJcbiAgICAgICAgcmVzdWx0W3VdID0gdjtcclxuICAgICAgICB2ID0gcFt2XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gaXNBdHRyQW5FdmVudChhdHRyKSB7XHJcbiAgICByZXR1cm4gYXR0clswXSA9PT0gJ28nICYmIGF0dHJbMV0gPT09ICduJztcclxufVxyXG5leHBvcnRzLmlzQXR0ckFuRXZlbnQgPSBpc0F0dHJBbkV2ZW50O1xyXG5mdW5jdGlvbiBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSkge1xyXG4gICAgaWYgKGxhc3RWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGNvbnN0YW50c18xLnNraXBQcm9wcy5oYXMocHJvcCkgfHwgKGhhc0NvbnRyb2xsZWRWYWx1ZSAmJiBwcm9wID09PSAndmFsdWUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLmJvb2xlYW5Qcm9wcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgcHJvcCA9IHByb3AgPT09ICdhdXRvRm9jdXMnID8gcHJvcC50b0xvd2VyQ2FzZSgpIDogcHJvcDtcclxuICAgICAgICAgICAgZG9tW3Byb3BdID0gISFuZXh0VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLnN0cmljdFByb3BzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSA/ICcnIDogbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZG9tW3Byb3BdICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZG9tW3Byb3BdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgICAgICBwYXRjaEV2ZW50KHByb3AsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSkge1xyXG4gICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgIHBhdGNoU3R5bGUobGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdkYW5nZXJvdXNseVNldElubmVySFRNTCcpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFZhbHVlICYmIGxhc3RWYWx1ZS5fX2h0bWw7XHJcbiAgICAgICAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRWYWx1ZSAmJiBuZXh0VmFsdWUuX19odG1sO1xyXG4gICAgICAgICAgICBpZiAobGFzdEh0bWwgIT09IG5leHRIdG1sKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SHRtbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20uaW5uZXJIVE1MID0gbmV4dEh0bWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFdlIG9wdGltaXplIGZvciBOUyBiZWluZyBib29sZWFuLiBJdHMgOTkuOSUgdGltZSBmYWxzZVxyXG4gICAgICAgICAgICBpZiAoaXNTVkcgJiYgY29uc3RhbnRzXzEubmFtZXNwYWNlcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGVuZCB1cCBpbiB0aGlzIHBhdGggd2UgY2FuIHJlYWQgcHJvcGVydHkgYWdhaW5cclxuICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGVOUyhjb25zdGFudHNfMS5uYW1lc3BhY2VzLmdldChwcm9wKSwgcHJvcCwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUocHJvcCwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoUHJvcCA9IHBhdGNoUHJvcDtcclxuZnVuY3Rpb24gcGF0Y2hFdmVudChuYW1lLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKSB7XHJcbiAgICBpZiAobGFzdFZhbHVlICE9PSBuZXh0VmFsdWUpIHtcclxuICAgICAgICBpZiAoY29uc3RhbnRzXzEuZGVsZWdhdGVkRXZlbnRzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICBkZWxlZ2F0aW9uXzEuaGFuZGxlRXZlbnQobmFtZSwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbmFtZUxvd2VyQ2FzZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gZG9tW25hbWVMb3dlckNhc2VdO1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgZnVuY3Rpb24gaXMgd3JhcHBlZCwgdGhhdCBtZWFucyBpdCdzIGJlZW4gY29udHJvbGxlZCBieSBhIHdyYXBwZXJcclxuICAgICAgICAgICAgaWYgKGRvbUV2ZW50ICYmIGRvbUV2ZW50LndyYXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihuZXh0VmFsdWUpICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmtFdmVudF8xID0gbmV4dFZhbHVlLmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmtFdmVudF8xICYmIGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihsaW5rRXZlbnRfMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rRXZlbnRfMShuZXh0VmFsdWUuZGF0YSwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImFuIGV2ZW50IG9uIGEgVk5vZGUgXFxcIlwiICsgbmFtZSArIFwiXFxcIi4gd2FzIG5vdCBhIGZ1bmN0aW9uIG9yIGEgdmFsaWQgbGlua0V2ZW50LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEV2ZW50ID0gcGF0Y2hFdmVudDtcclxuLy8gV2UgYXJlIGFzc3VtaW5nIGhlcmUgdGhhdCB3ZSBjb21lIGZyb20gcGF0Y2hQcm9wIHJvdXRpbmVcclxuLy8gLW5leHRBdHRyVmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXHJcbmZ1bmN0aW9uIHBhdGNoU3R5bGUobGFzdEF0dHJWYWx1ZSwgbmV4dEF0dHJWYWx1ZSwgZG9tKSB7XHJcbiAgICB2YXIgZG9tU3R5bGUgPSBkb20uc3R5bGU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyhuZXh0QXR0clZhbHVlKSkge1xyXG4gICAgICAgIGRvbVN0eWxlLmNzc1RleHQgPSBuZXh0QXR0clZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAodmFyIHN0eWxlIGluIG5leHRBdHRyVmFsdWUpIHtcclxuICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRBdHRyVmFsdWVbc3R5bGVdO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bWJlcih2YWx1ZSkgfHwgY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlci5oYXMoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gdmFsdWUgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGxhc3RBdHRyVmFsdWUpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3R5bGUgaW4gbGFzdEF0dHJWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRBdHRyVmFsdWVbc3R5bGVdKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFN0eWxlID0gcGF0Y2hTdHlsZTtcclxuZnVuY3Rpb24gcmVtb3ZlUHJvcChwcm9wLCBsYXN0VmFsdWUsIGRvbSkge1xyXG4gICAgaWYgKHByb3AgPT09ICd2YWx1ZScpIHtcclxuICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgIGRlbGVnYXRpb25fMS5oYW5kbGVFdmVudChwcm9wLCBsYXN0VmFsdWUsIG51bGwsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3BhdGNoaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgb3B0aW9uc18xID0gcmVxdWlyZShcIi4uL2NvcmUvb3B0aW9uc1wiKTtcclxudmFyIFZOb2Rlc18xID0gcmVxdWlyZShcIi4uL2NvcmUvVk5vZGVzXCIpO1xyXG52YXIgaHlkcmF0aW9uXzEgPSByZXF1aXJlKFwiLi9oeWRyYXRpb25cIik7XHJcbnZhciBtb3VudGluZ18xID0gcmVxdWlyZShcIi4vbW91bnRpbmdcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciB1bm1vdW50aW5nXzEgPSByZXF1aXJlKFwiLi91bm1vdW50aW5nXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG4vLyByYXRoZXIgdGhhbiB1c2UgYSBNYXAsIGxpa2Ugd2UgZGlkIGJlZm9yZSwgd2UgY2FuIHVzZSBhbiBhcnJheSBoZXJlXHJcbi8vIGdpdmVuIHRoZXJlIHNob3VsZG4ndCBiZSBUSEFUIG1hbnkgcm9vdHMgb24gdGhlIHBhZ2UsIHRoZSBkaWZmZXJlbmNlXHJcbi8vIGluIHBlcmZvcm1hbmNlIGlzIGh1Z2U6IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTgwMmE2OTEzMzBhYjA5OTAwYTFhMmRhXHJcbmV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwID0gbmV3IE1hcCgpO1xyXG52YXIgcm9vdHMgPSBvcHRpb25zXzEub3B0aW9ucy5yb290cztcclxuLyoqXHJcbiAqIFdoZW4gaW5mZXJuby5vcHRpb25zLmZpbmRET01OT2RlRW5hYmxlZCBpcyB0cnVlLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIERPTSBOb2RlIGJ5IGNvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0gcmVmIENvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcmV0dXJucyB7KnxudWxsfSByZXR1cm5zIGRvbSBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kRE9NTm9kZShyZWYpIHtcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdmaW5kRE9NTm9kZSgpIGhhcyBiZWVuIGRpc2FibGVkLCB1c2UgSW5mZXJuby5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCA9IHRydWU7IGVuYWJsZWQgZmluZERPTU5vZGUoKS4gV2FybmluZyB0aGlzIGNhbiBzaWduaWZpY2FudGx5IGltcGFjdCBwZXJmb3JtYW5jZSEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgZG9tID0gcmVmICYmIHJlZi5ub2RlVHlwZSA/IHJlZiA6IG51bGw7XHJcbiAgICByZXR1cm4gZXhwb3J0cy5jb21wb25lbnRUb0RPTU5vZGVNYXAuZ2V0KHJlZikgfHwgZG9tO1xyXG59XHJcbmV4cG9ydHMuZmluZERPTU5vZGUgPSBmaW5kRE9NTm9kZTtcclxuZnVuY3Rpb24gZ2V0Um9vdChkb20pIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb290cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciByb290ID0gcm9vdHNbaV07XHJcbiAgICAgICAgaWYgKHJvb3QuZG9tID09PSBkb20pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZnVuY3Rpb24gc2V0Um9vdChkb20sIGlucHV0LCBsaWZlY3ljbGUpIHtcclxuICAgIHZhciByb290ID0ge1xyXG4gICAgICAgIGRvbTogZG9tLFxyXG4gICAgICAgIGlucHV0OiBpbnB1dCxcclxuICAgICAgICBsaWZlY3ljbGU6IGxpZmVjeWNsZVxyXG4gICAgfTtcclxuICAgIHJvb3RzLnB1c2gocm9vdCk7XHJcbiAgICByZXR1cm4gcm9vdDtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVSb290KHJvb3QpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb290cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGlmIChyb290c1tpXSA9PT0gcm9vdCkge1xyXG4gICAgICAgICAgICByb290cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3NlciAmJiBkb2N1bWVudC5ib2R5ID09PSBudWxsKSB7XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCdJbmZlcm5vIHdhcm5pbmc6IHlvdSBjYW5ub3QgaW5pdGlhbGl6ZSBpbmZlcm5vIHdpdGhvdXQgXCJkb2N1bWVudC5ib2R5XCIuIFdhaXQgb24gXCJET01Db250ZW50TG9hZGVkXCIgZXZlbnQsIGFkZCBzY3JpcHQgdG8gYm90dG9tIG9mIGJvZHksIG9yIHVzZSBhc3luYy9kZWZlciBhdHRyaWJ1dGVzIG9uIHNjcmlwdCB0YWcuJyk7XHJcbiAgICB9XHJcbn1cclxudmFyIGRvY3VtZW50Qm9keSA9IGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XHJcbi8qKlxyXG4gKiBSZW5kZXJzIHZpcnR1YWwgbm9kZSB0cmVlIGludG8gcGFyZW50IG5vZGUuXHJcbiAqIEBwYXJhbSB7Vk5vZGUgfCBudWxsIHwgc3RyaW5nIHwgbnVtYmVyfSBpbnB1dCB2Tm9kZSB0byBiZSByZW5kZXJlZFxyXG4gKiBAcGFyYW0gcGFyZW50RG9tIERPTSBub2RlIHdoaWNoIGNvbnRlbnQgd2lsbCBiZSByZXBsYWNlZCBieSB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge0luZmVybm9DaGlsZHJlbn0gcmVuZGVyZWQgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXIoaW5wdXQsIHBhcmVudERvbSkge1xyXG4gICAgaWYgKGRvY3VtZW50Qm9keSA9PT0gcGFyZW50RG9tKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCd5b3UgY2Fubm90IHJlbmRlcigpIHRvIHRoZSBcImRvY3VtZW50LmJvZHlcIi4gVXNlIGFuIGVtcHR5IGVsZW1lbnQgYXMgYSBjb250YWluZXIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcm9vdCA9IGdldFJvb3QocGFyZW50RG9tKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChyb290KSkge1xyXG4gICAgICAgIHZhciBsaWZlY3ljbGUgPSBuZXcgaW5mZXJub19zaGFyZWRfMS5MaWZlY3ljbGUoKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGlucHV0KSkge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWh5ZHJhdGlvbl8xLmh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQoaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvb3QgPSBzZXRSb290KHBhcmVudERvbSwgaW5wdXQsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGxpZmVjeWNsZSA9IHJvb3QubGlmZWN5Y2xlO1xyXG4gICAgICAgIGxpZmVjeWNsZS5saXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGlucHV0KSkge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChyb290LmlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlUm9vdChyb290KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2gocm9vdC5pbnB1dCwgaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm9vdC5pbnB1dCA9IGlucHV0O1xyXG4gICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICB9XHJcbiAgICBpZiAocm9vdCkge1xyXG4gICAgICAgIHZhciByb290SW5wdXQgPSByb290LmlucHV0O1xyXG4gICAgICAgIGlmIChyb290SW5wdXQgJiYgKHJvb3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3RJbnB1dC5jaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKHBhcmVudERvbSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlbmRlcmVyKGxhc3RJbnB1dCwgbmV4dElucHV0KSB7XHJcbiAgICAgICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICAgICAgcGFyZW50RG9tID0gbGFzdElucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZW5kZXIobmV4dElucHV0LCBwYXJlbnREb20pO1xyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3JlbmRlcmluZy5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jb21wb25lbnRcIik7XHJcbnZhciBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jcmVhdGUtZWxlbWVudFwiKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxudmFyIFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuX29uQ29tcG9uZW50UmVzb2x2ZWQgPSBmdW5jdGlvbiAoZXJyb3IsIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBhc3luY0NvbXBvbmVudDogY29tcG9uZW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGFzeW5jQ29tcG9uZW50OiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSB0aGlzLnByb3BzLm9uRW50ZXI7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKG9uRW50ZXIpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25FbnRlcih7IHByb3BzOiBfdGhpcy5wcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gdGhpcy5wcm9wcy5nZXRDb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKGdldENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnQoeyBwcm9wczogX3RoaXMucHJvcHMsIHJvdXRlcjogcm91dGVyIH0sIF90aGlzLl9vbkNvbXBvbmVudFJlc29sdmVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5vbkxlYXZlID0gZnVuY3Rpb24gKHRyaWdnZXIpIHtcclxuICAgICAgICBpZiAodHJpZ2dlciA9PT0gdm9pZCAwKSB7IHRyaWdnZXIgPSBmYWxzZTsgfVxyXG4gICAgICAgIHZhciBvbkxlYXZlID0gdGhpcy5wcm9wcy5vbkxlYXZlO1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xyXG4gICAgICAgIGlmIChvbkxlYXZlICYmIHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgb25MZWF2ZSh7IHByb3BzOiB0aGlzLnByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLm9uRW50ZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSBuZXh0UHJvcHMub25FbnRlcjtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBvbkVudGVyKSB7XHJcbiAgICAgICAgICAgIG9uRW50ZXIoeyBwcm9wczogbmV4dFByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gbmV4dFByb3BzLmdldENvbXBvbmVudDtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBnZXRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50KHsgcHJvcHM6IG5leHRQcm9wcywgcm91dGVyOiByb3V0ZXIgfSwgdGhpcy5fb25Db21wb25lbnRSZXNvbHZlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uRW50ZXIobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChfYXJncykge1xyXG4gICAgICAgIHZhciBjb21wb25lbnQgPSBfYXJncy5jb21wb25lbnQsIGNoaWxkcmVuID0gX2FyZ3MuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHByb3BzID0gdXRpbHNfMS5yZXN0KF9hcmdzLCBbJ2NvbXBvbmVudCcsICdjaGlsZHJlbicsICdwYXRoJywgJ2dldENvbXBvbmVudCddKTtcclxuICAgICAgICB2YXIgYXN5bmNDb21wb25lbnQgPSB0aGlzLnN0YXRlLmFzeW5jQ29tcG9uZW50O1xyXG4gICAgICAgIHZhciByZXNvbHZlZENvbXBvbmVudCA9IGNvbXBvbmVudCB8fCBhc3luY0NvbXBvbmVudDtcclxuICAgICAgICBpZiAoIXJlc29sdmVkQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KHJlc29sdmVkQ29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZTtcclxufShpbmZlcm5vX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L1JvdXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMueGxpbmtOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcclxuZXhwb3J0cy54bWxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnO1xyXG5leHBvcnRzLnN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuZXhwb3J0cy5zdHJpY3RQcm9wcyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5zdHJpY3RQcm9wcy5hZGQoJ3ZvbHVtZScpO1xyXG5leHBvcnRzLnN0cmljdFByb3BzLmFkZCgnZGVmYXVsdENoZWNrZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbXV0ZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzY29wZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdsb29wJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnb3BlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NoZWNrZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdkZWZhdWx0Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnY2FwdHVyZScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2Rpc2FibGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgncmVhZE9ubHknKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdyZXF1aXJlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2F1dG9wbGF5Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnY29udHJvbHMnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzZWFtbGVzcycpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3JldmVyc2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnYWxsb3dmdWxsc2NyZWVuJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbm92YWxpZGF0ZScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2hpZGRlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2F1dG9Gb2N1cycpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3NlbGVjdGVkJyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcyA9IG5ldyBNYXAoKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6aHJlZicsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOmFyY3JvbGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazphY3R1YXRlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6c2hvdycsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnJvbGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazp0aXRsZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnR5cGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bWw6YmFzZScsIGV4cG9ydHMueG1sTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bWw6bGFuZycsIGV4cG9ydHMueG1sTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bWw6c3BhY2UnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdhbmltYXRpb25JdGVyYXRpb25Db3VudCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZU91dHNldCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZVNsaWNlJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JvcmRlckltYWdlV2lkdGgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94RmxleCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3hGbGV4R3JvdXAnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94T3JkaW5hbEdyb3VwJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2NvbHVtbkNvdW50Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleEdyb3cnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleFBvc2l0aXZlJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhTaHJpbmsnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleE5lZ2F0aXZlJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhPcmRlcicpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdncmlkUm93Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2dyaWRDb2x1bW4nKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZm9udFdlaWdodCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdsaW5lQ2xhbXAnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnbGluZUhlaWdodCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ29yZGVyJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ29ycGhhbnMnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgndGFiU2l6ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCd3aWRvd3MnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnekluZGV4Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3pvb20nKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmlsbE9wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxvb2RPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0b3BPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZURhc2hhcnJheScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VEYXNob2Zmc2V0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZU1pdGVybGltaXQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VXaWR0aCcpO1xyXG5leHBvcnRzLnNraXBQcm9wcyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGlsZHJlbicpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2NoaWxkcmVuVHlwZScpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2RlZmF1bHRWYWx1ZScpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ3JlZicpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2tleScpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2NoZWNrZWQnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdtdWx0aXBsZScpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbkNsaWNrJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZURvd24nKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbk1vdXNlVXAnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbk1vdXNlTW92ZScpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uU3VibWl0Jyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25EYmxDbGljaycpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uS2V5RG93bicpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uS2V5VXAnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleVByZXNzJyk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL2NvbnN0YW50cy5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL29wdGlvbnNcIik7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL1ZOb2Rlc1wiKTtcclxudmFyIHBhdGNoaW5nXzEgPSByZXF1aXJlKFwiLi9wYXRjaGluZ1wiKTtcclxudmFyIHJlY3ljbGluZ18xID0gcmVxdWlyZShcIi4vcmVjeWNsaW5nXCIpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJpbmdcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbnZhciBwcm9jZXNzRWxlbWVudF8xID0gcmVxdWlyZShcIi4vd3JhcHBlcnMvcHJvY2Vzc0VsZW1lbnRcIik7XHJcbmZ1bmN0aW9uIG1vdW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDQwOTYgLyogVm9pZCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudFZvaWQodk5vZGUsIHBhcmVudERvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudFRleHQodk5vZGUsIHBhcmVudERvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZOb2RlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwibW91bnQoKSByZWNlaXZlZCBhbiBvYmplY3QgdGhhdCdzIG5vdCBhIHZhbGlkIFZOb2RlLCB5b3Ugc2hvdWxkIHN0cmluZ2lmeSBpdCBmaXJzdC4gT2JqZWN0OiBcXFwiXCIgKyBKU09OLnN0cmluZ2lmeSh2Tm9kZSkgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwibW91bnQoKSBleHBlY3RzIGEgdmFsaWQgVk5vZGUsIGluc3RlYWQgaXQgcmVjZWl2ZWQgYW4gb2JqZWN0IHdpdGggdGhlIHR5cGUgXFxcIlwiICsgdHlwZW9mIHZOb2RlICsgXCJcXFwiLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50ID0gbW91bnQ7XHJcbmZ1bmN0aW9uIG1vdW50VGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodk5vZGUuY2hpbGRyZW4pO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRUZXh0ID0gbW91bnRUZXh0O1xyXG5mdW5jdGlvbiBtb3VudFZvaWQodk5vZGUsIHBhcmVudERvbSkge1xyXG4gICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50Vm9pZCA9IG1vdW50Vm9pZDtcclxuZnVuY3Rpb24gbW91bnRFbGVtZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIGRvbV8xID0gcmVjeWNsaW5nXzEucmVjeWNsZUVsZW1lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tXzEpKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbV8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZG9tXzE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpc1NWRyA9IGlzU1ZHIHx8IChmbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICB2YXIgZG9tID0gdXRpbHNfMS5kb2N1bWVudENyZWF0ZUVsZW1lbnQodk5vZGUudHlwZSwgaXNTVkcpO1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZS5jbGFzc05hbWU7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnNldFRleHRDb250ZW50KGRvbSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIG1vdW50QXJyYXlDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgbW91bnQoY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wcykpIHtcclxuICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAoZmxhZ3MgJiAzNTg0IC8qIEZvcm1FbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaGFzQ29udHJvbGxlZFZhbHVlID0gcHJvY2Vzc0VsZW1lbnRfMS5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudChwcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaFByb3AocHJvcCwgbnVsbCwgcHJvcHNbcHJvcF0sIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIHByb3BzLCB0cnVlLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjbGFzc05hbWUgIT09IG51bGwpIHtcclxuICAgICAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHJlZikpIHtcclxuICAgICAgICBtb3VudFJlZihkb20sIHJlZiwgbGlmZWN5Y2xlKTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50RWxlbWVudCA9IG1vdW50RWxlbWVudDtcclxuZnVuY3Rpb24gbW91bnRBcnJheUNoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIC8vIFZlcmlmeSBjYW4gc3RyaW5nL251bWJlciBiZSBoZXJlLiBtaWdodCBjYXVzZSBkZS1vcHQuIC0gTm9ybWFsaXphdGlvbiB0YWtlcyBjYXJlIG9mIGl0LlxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuW2ldID0gY2hpbGQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbW91bnQoY2hpbGRyZW5baV0sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnRBcnJheUNoaWxkcmVuID0gbW91bnRBcnJheUNoaWxkcmVuO1xyXG5mdW5jdGlvbiBtb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc0NsYXNzKSB7XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCkge1xyXG4gICAgICAgIHZhciBkb21fMiA9IHJlY3ljbGluZ18xLnJlY3ljbGVDb21wb25lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tXzIpKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbV8yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZG9tXzI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdmFyIGRvbTtcclxuICAgIGlmIChpc0NsYXNzKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdXRpbHNfMS5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCwgaXNTVkcsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5zdGFuY2UuX2xhc3RJbnB1dDtcclxuICAgICAgICBpbnN0YW5jZS5fdk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBkb20gPSBtb3VudChpbnB1dCwgbnVsbCwgbGlmZWN5Y2xlLCBpbnN0YW5jZS5fY2hpbGRDb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzKHZOb2RlLCByZWYsIGluc3RhbmNlLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLnNldChpbnN0YW5jZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSB1dGlsc18xLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCh2Tm9kZSwgdHlwZSwgcHJvcHMsIGNvbnRleHQpO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGRvbSA9IG1vdW50KGlucHV0LCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IGlucHV0O1xyXG4gICAgICAgIG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50Q29tcG9uZW50ID0gbW91bnRDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIG1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKHJlZikge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgICAgICByZWYoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QocmVmKSAmJiAodk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZnVuY3Rpb25hbCBjb21wb25lbnQgbGlmZWN5Y2xlIGV2ZW50cyBhcmUgbm90IHN1cHBvcnRlZCBvbiBFUzIwMTUgY2xhc3MgY29tcG9uZW50cy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImEgYmFkIHZhbHVlIGZvciBcXFwicmVmXFxcIiB3YXMgdXNlZCBvbiBjb21wb25lbnQ6IFxcXCJcIiArIEpTT04uc3RyaW5naWZ5KHJlZikgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGhhc0RpZE1vdW50ID0gIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQpO1xyXG4gICAgdmFyIGFmdGVyTW91bnQgPSBvcHRpb25zXzEub3B0aW9ucy5hZnRlck1vdW50O1xyXG4gICAgaWYgKGhhc0RpZE1vdW50IHx8ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhZnRlck1vdW50KSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChhZnRlck1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBhZnRlck1vdW50KHZOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGFzRGlkTW91bnQpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzID0gbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsTW91bnQpKSB7XHJcbiAgICAgICAgICAgIHJlZi5vbkNvbXBvbmVudFdpbGxNb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnREaWRNb3VudCkpIHtcclxuICAgICAgICAgICAgbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZi5vbkNvbXBvbmVudERpZE1vdW50KGRvbSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyA9IG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRSZWYoZG9tLCB2YWx1ZSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZShkb20pOyB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ3N0cmluZyBcInJlZnNcIiBhcmUgbm90IHN1cHBvcnRlZCBpbiBJbmZlcm5vIDEuMC4gVXNlIGNhbGxiYWNrIFwicmVmc1wiIGluc3RlYWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnRSZWYgPSBtb3VudFJlZjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vbW91bnRpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1jb21wb25lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgb3B0aW9uc18xID0gcmVxdWlyZShcIi4uL2NvcmUvb3B0aW9uc1wiKTtcclxudmFyIHBhdGNoaW5nXzEgPSByZXF1aXJlKFwiLi9wYXRjaGluZ1wiKTtcclxudmFyIHJlY3ljbGluZ18xID0gcmVxdWlyZShcIi4vcmVjeWNsaW5nXCIpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJpbmdcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbmZ1bmN0aW9uIHVubW91bnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgKDEgLyogVGV4dCAqLyB8IDQwOTYgLyogVm9pZCAqLykpIHtcclxuICAgICAgICB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnQgPSB1bm1vdW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgdk5vZGUuZG9tKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBpbnN0YW5jZSA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICB2YXIgaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgaWYgKCFpc1JlY3ljbGluZykge1xyXG4gICAgICAgIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2Jsb2NrU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVVubW91bnQodk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVmICYmICFpc1JlY3ljbGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZihudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5kZWxldGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdW5tb3VudChpbnN0YW5jZS5fbGFzdElucHV0LCBudWxsLCBpbnN0YW5jZS5fbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYub25Db21wb25lbnRXaWxsVW5tb3VudChkb20pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVubW91bnQoaW5zdGFuY2UsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGFyZW50RG9tKSB7XHJcbiAgICAgICAgdmFyIGxhc3RJbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGxhc3RJbnB1dCA9IGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmICFpc1N0YXRlZnVsQ29tcG9uZW50ICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sQ29tcG9uZW50KHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnRDb21wb25lbnQgPSB1bm1vdW50Q29tcG9uZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgaWYgKHJlZiAmJiAhaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICB1bm1vdW50UmVmKHJlZik7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzKSkge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBpZiAocHJvcHNbbmFtZV8xXSAhPT0gbnVsbCAmJiBwYXRjaGluZ18xLmlzQXR0ckFuRXZlbnQobmFtZV8xKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEV2ZW50KG5hbWVfMSwgcHJvcHNbbmFtZV8xXSwgbnVsbCwgZG9tKTtcclxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgbnVsbCwgYmVjYXVzZSBzYW1lIHByb3BzIG90aGVyd2lzZSBjb21lIGJhY2sgaWYgU0NVIHJldHVybnMgZmFsc2UgYW5kIHdlIGFyZSByZWN5bGluZ1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV8xXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sRWxlbWVudCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50RWxlbWVudCA9IHVubW91bnRFbGVtZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjaGlsZCwgbnVsbCwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50KGNoaWxkcmVuLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5tb3VudFJlZihyZWYpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIHJlZihudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChyZWYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdzdHJpbmcgXCJyZWZzXCIgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gSW5mZXJubyAxLjAuIFVzZSBjYWxsYmFjayBcInJlZnNcIiBpbnN0ZWFkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS91bm1vdW50aW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIElucHV0V3JhcHBlcl8xID0gcmVxdWlyZShcIi4vSW5wdXRXcmFwcGVyXCIpO1xyXG52YXIgU2VsZWN0V3JhcHBlcl8xID0gcmVxdWlyZShcIi4vU2VsZWN0V3JhcHBlclwiKTtcclxudmFyIFRleHRhcmVhV3JhcHBlcl8xID0gcmVxdWlyZShcIi4vVGV4dGFyZWFXcmFwcGVyXCIpO1xyXG4vKipcclxuICogVGhlcmUgaXMgY3VycmVudGx5IG5vIHN1cHBvcnQgZm9yIHN3aXRjaGluZyBzYW1lIGlucHV0IGJldHdlZW4gY29udHJvbGxlZCBhbmQgbm9uQ29udHJvbGxlZFxyXG4gKiBJZiB0aGF0IGV2ZXIgYmVjb21lcyBhIHJlYWwgaXNzdWUsIHRoZW4gcmUgZGVzaWduIGNvbnRyb2xsZWQgZWxlbWVudHNcclxuICogQ3VycmVudGx5IHVzZXIgbXVzdCBjaG9vc2UgZWl0aGVyIGNvbnRyb2xsZWQgb3Igbm9uLWNvbnRyb2xsZWQgYW5kIHN0aWNrIHdpdGggdGhhdFxyXG4gKi9cclxuZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGlmIChmbGFncyAmIDUxMiAvKiBJbnB1dEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBJbnB1dFdyYXBwZXJfMS5wcm9jZXNzSW5wdXQodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZmxhZ3MgJiAyMDQ4IC8qIFNlbGVjdEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBTZWxlY3RXcmFwcGVyXzEucHJvY2Vzc1NlbGVjdCh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKTtcclxuICAgIH1cclxuICAgIGlmIChmbGFncyAmIDEwMjQgLyogVGV4dGFyZWFFbGVtZW50ICovKSB7XHJcbiAgICAgICAgVGV4dGFyZWFXcmFwcGVyXzEucHJvY2Vzc1RleHRhcmVhKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0VsZW1lbnQgPSBwcm9jZXNzRWxlbWVudDtcclxuZnVuY3Rpb24gaXNDb250cm9sbGVkRm9ybUVsZW1lbnQobmV4dFByb3BzT3JFbXB0eSkge1xyXG4gICAgcmV0dXJuIChuZXh0UHJvcHNPckVtcHR5LnR5cGUgJiYgSW5wdXRXcmFwcGVyXzEuaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSA/ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS5jaGVja2VkKSA6ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS52YWx1ZSk7XHJcbn1cclxuZXhwb3J0cy5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudCA9IGlzQ29udHJvbGxlZEZvcm1FbGVtZW50O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9wcm9jZXNzRWxlbWVudC5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIGFkZExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuYWRkTGVhZGluZ1NsYXNoID0gZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbn07XG5cbnZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuc3RyaXBMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xufTtcblxudmFyIHN0cmlwUHJlZml4ID0gZXhwb3J0cy5zdHJpcFByZWZpeCA9IGZ1bmN0aW9uIHN0cmlwUHJlZml4KHBhdGgsIHByZWZpeCkge1xuICByZXR1cm4gcGF0aC5pbmRleE9mKHByZWZpeCkgPT09IDAgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59O1xuXG52YXIgc3RyaXBUcmFpbGluZ1NsYXNoID0gZXhwb3J0cy5zdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxudmFyIHBhcnNlUGF0aCA9IGV4cG9ydHMucGFyc2VQYXRoID0gZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICB2YXIgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICBwYXRobmFtZSA9IGRlY29kZVVSSShwYXRobmFtZSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2ggPT09ICc/JyA/ICcnIDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2ggPT09ICcjJyA/ICcnIDogaGFzaFxuICB9O1xufTtcblxudmFyIGNyZWF0ZVBhdGggPSBleHBvcnRzLmNyZWF0ZVBhdGggPSBmdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLFxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG5cblxuICB2YXIgcGF0aCA9IGVuY29kZVVSSShwYXRobmFtZSB8fCAnLycpO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L1BhdGhVdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1jcmVhdGUtZWxlbWVudC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG5mdW5jdGlvbiByZW5kZXJMaW5rKGNsYXNzTm0sIGNoaWxkcmVuLCBvdGhlclByb3BzKSB7XHJcbiAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDIgLyogSHRtbEVsZW1lbnQgKi8sICdhJywgY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG59XHJcbmZ1bmN0aW9uIExpbmsocHJvcHMsIF9hKSB7XHJcbiAgICB2YXIgcm91dGVyID0gX2Eucm91dGVyO1xyXG4gICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IHByb3BzLmFjdGl2ZUNsYXNzTmFtZSwgYWN0aXZlU3R5bGUgPSBwcm9wcy5hY3RpdmVTdHlsZSwgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBvbkNsaWNrID0gcHJvcHMub25DbGljaywgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbiwgdG8gPSBwcm9wcy50bywgb3RoZXJQcm9wcyA9IF9fcmVzdChwcm9wcywgW1wiYWN0aXZlQ2xhc3NOYW1lXCIsIFwiYWN0aXZlU3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJvbkNsaWNrXCIsIFwiY2hpbGRyZW5cIiwgXCJ0b1wiXSk7XHJcbiAgICB2YXIgY2xhc3NObTtcclxuICAgIGlmIChjbGFzc05hbWUpIHtcclxuICAgICAgICBjbGFzc05tID0gY2xhc3NOYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKCFyb3V0ZXIpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJzxMaW5rLz4gY29tcG9uZW50IHVzZWQgb3V0c2lkZSBvZiA8Um91dGVyLz4uIEZhbGxiYWNrIHRvIDxhPiB0YWcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG90aGVyUHJvcHMuaHJlZiA9IHRvO1xyXG4gICAgICAgIG90aGVyUHJvcHMub25DbGljayA9IG9uQ2xpY2s7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG4gICAgfVxyXG4gICAgb3RoZXJQcm9wcy5ocmVmID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgPyByb3V0ZXIuY3JlYXRlSHJlZih7IHBhdGhuYW1lOiB0byB9KSA6IHJvdXRlci5sb2NhdGlvbi5iYXNlVXJsID8gcm91dGVyLmxvY2F0aW9uLmJhc2VVcmwgKyB0byA6IHRvO1xyXG4gICAgaWYgKHJvdXRlci5sb2NhdGlvbi5wYXRobmFtZSA9PT0gdG8pIHtcclxuICAgICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTm0gPSAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgYWN0aXZlQ2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aXZlU3R5bGUpIHtcclxuICAgICAgICAgICAgb3RoZXJQcm9wcy5zdHlsZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJvcHMuc3R5bGUsIGFjdGl2ZVN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdGhlclByb3BzLm9uY2xpY2sgPSBmdW5jdGlvbiBuYXZpZ2F0ZShlKSB7XHJcbiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwIHx8IGUuY3RybEtleSB8fCBlLmFsdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgb25DbGljayhlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm91dGVyLnB1c2godG8sIGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gcmVuZGVyTGluayhjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcyk7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gTGluaztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvTGluay5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NvbXBvbmVudF8xID0gcmVxdWlyZShcImluZmVybm8tY29tcG9uZW50XCIpO1xyXG52YXIgUm91dGVyQ29udGV4dCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGVyQ29udGV4dCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlckNvbnRleHQocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BzLmxvY2F0aW9uIHx8ICFwcm9wcy5tYXRjaGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImluZmVybm8tcm91dGVyXCIgcmVxdWlyZXMgYSBcImxvY2F0aW9uXCIgYW5kIFwibWF0Y2hlZFwiIHByb3BzIHBhc3NlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJvdXRlckNvbnRleHQucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByb3V0ZXI6IHRoaXMucHJvcHMucm91dGVyIHx8IHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogdGhpcy5wcm9wcy5iYXNlVXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiB0aGlzLnByb3BzLmxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFJvdXRlckNvbnRleHQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgICAgIHJldHVybiBwcm9wcy5tYXRjaGVkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZXJDb250ZXh0O1xyXG59KGluZmVybm9fY29tcG9uZW50XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXJDb250ZXh0O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9Sb3V0ZXJDb250ZXh0LmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgcGF0aF90b19yZWdleHBfZXM2XzEgPSByZXF1aXJlKFwicGF0aC10by1yZWdleHAtZXM2XCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG52YXIgY2FjaGUgPSBuZXcgTWFwKCk7XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbm9kZSBjb250YWluaW5nIG9ubHkgdGhlIG1hdGNoZWQgY29tcG9uZW50c1xyXG4gKiBAcGFyYW0gcm91dGVzXHJcbiAqIEBwYXJhbSBjdXJyZW50VVJMXHJcbiAqIEByZXR1cm5zIHsqfVxyXG4gKi9cclxuZnVuY3Rpb24gbWF0Y2gocm91dGVzLCBjdXJyZW50VVJMKSB7XHJcbiAgICB2YXIgbG9jYXRpb24gPSB1dGlsc18xLmdldFVSTFN0cmluZyhjdXJyZW50VVJMKTtcclxuICAgIHJldHVybiBtYXRjaFJvdXRlcyhpbmZlcm5vX3NoYXJlZF8xLnRvQXJyYXkocm91dGVzKSwgZW5jb2RlVVJJKGxvY2F0aW9uKSwgJy8nKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBtYXRjaDtcclxuLyoqXHJcbiAqIEdvIHRocm91Z2ggZXZlcnkgcm91dGUgYW5kIGNyZWF0ZSBhIG5ldyBub2RlXHJcbiAqIHdpdGggdGhlIG1hdGNoZWQgY29tcG9uZW50c1xyXG4gKiBAcGFyYW0gX3JvdXRlc1xyXG4gKiBAcGFyYW0gY3VycmVudFVSTFxyXG4gKiBAcGFyYW0gcGFyZW50UGF0aFxyXG4gKiBAcGFyYW0gcmVkaXJlY3RcclxuICogQHJldHVybnMge29iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIG1hdGNoUm91dGVzKF9yb3V0ZXMsIGN1cnJlbnRVUkwsIHBhcmVudFBhdGgsIHJlZGlyZWN0KSB7XHJcbiAgICBpZiAoY3VycmVudFVSTCA9PT0gdm9pZCAwKSB7IGN1cnJlbnRVUkwgPSAnLyc7IH1cclxuICAgIGlmIChwYXJlbnRQYXRoID09PSB2b2lkIDApIHsgcGFyZW50UGF0aCA9ICcvJzsgfVxyXG4gICAgaWYgKHJlZGlyZWN0ID09PSB2b2lkIDApIHsgcmVkaXJlY3QgPSBmYWxzZTsgfVxyXG4gICAgdmFyIHJvdXRlcyA9IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShfcm91dGVzKSA/IHV0aWxzXzEuZmxhdHRlbihfcm91dGVzKSA6IGluZmVybm9fc2hhcmVkXzEudG9BcnJheShfcm91dGVzKTtcclxuICAgIHZhciBfYSA9IGN1cnJlbnRVUkwuc3BsaXQoJz8nKSwgX2IgPSBfYVswXSwgcGF0aFRvTWF0Y2ggPSBfYiA9PT0gdm9pZCAwID8gJy8nIDogX2IsIF9jID0gX2FbMV0sIHNlYXJjaCA9IF9jID09PSB2b2lkIDAgPyAnJyA6IF9jO1xyXG4gICAgdmFyIHBhcmFtcyA9IHV0aWxzXzEubWFwU2VhcmNoUGFyYW1zKHNlYXJjaCk7XHJcbiAgICByb3V0ZXMuc29ydCh1dGlsc18xLnBhdGhSYW5rU29ydCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm91dGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHJvdXRlLnByb3BzIHx8IHV0aWxzXzEuZW1wdHlPYmplY3Q7XHJcbiAgICAgICAgdmFyIHJvdXRlUGF0aCA9IHByb3BzLmZyb20gfHwgcHJvcHMucGF0aCB8fCAnLyc7XHJcbiAgICAgICAgdmFyIGxvY2F0aW9uXzEgPSBwYXJlbnRQYXRoICsgdXRpbHNfMS50b1BhcnRpYWxVUkwocm91dGVQYXRoLCBwYXJlbnRQYXRoKS5yZXBsYWNlKC9cXC9cXC8vZywgJy8nKTtcclxuICAgICAgICB2YXIgaXNMYXN0ID0gdXRpbHNfMS5pc0VtcHR5KHByb3BzLmNoaWxkcmVuKTtcclxuICAgICAgICB2YXIgbWF0Y2hCYXNlID0gbWF0Y2hQYXRoKGlzTGFzdCwgbG9jYXRpb25fMSwgcGF0aFRvTWF0Y2gpO1xyXG4gICAgICAgIGlmIChtYXRjaEJhc2UpIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5mcm9tKSB7XHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdCA9IHByb3BzLnRvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoQ2hpbGQgPSBtYXRjaFJvdXRlcyhjaGlsZHJlbiwgY3VycmVudFVSTCwgbG9jYXRpb25fMSwgcmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoQ2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hDaGlsZC5yZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogbWF0Y2hDaGlsZC5yZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IG1hdGNoQ2hpbGQubWF0Y2hlZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRQcm9wcyA9IGNoaWxkcmVuLnByb3BzLnBhcmFtcztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY2hpbGRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNba2V5XSA9IGNoaWxkUHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG1hdGNoZWQgPSBpbmZlcm5vXzEuZGVmYXVsdC5jbG9uZVZOb2RlKHJvdXRlLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocGFyYW1zLCBtYXRjaEJhc2UucGFyYW1zKSxcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbl8xLFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6IHJlZGlyZWN0LFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hlZDogbWF0Y2hlZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ29udmVydHMgcGF0aCB0byBhIHJlZ2V4LCBpZiBhIG1hdGNoIGlzIGZvdW5kIHRoZW4gd2UgZXh0cmFjdCBwYXJhbXMgZnJvbSBpdFxyXG4gKiBAcGFyYW0gZW5kXHJcbiAqIEBwYXJhbSByb3V0ZVBhdGhcclxuICogQHBhcmFtIHBhdGhUb01hdGNoXHJcbiAqIEByZXR1cm5zIHthbnl9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXRjaFBhdGgoZW5kLCByb3V0ZVBhdGgsIHBhdGhUb01hdGNoKSB7XHJcbiAgICB2YXIga2V5ID0gcm91dGVQYXRoICsgXCJ8XCIgKyBlbmQ7XHJcbiAgICB2YXIgcmVnZXhwID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICBpZiAocmVnZXhwID09PSB2b2lkIDApIHtcclxuICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgIHJlZ2V4cCA9IHsgcGF0dGVybjogcGF0aF90b19yZWdleHBfZXM2XzEuZGVmYXVsdChyb3V0ZVBhdGgsIGtleXMsIHsgZW5kOiBlbmQgfSksIGtleXM6IGtleXMgfTtcclxuICAgICAgICBjYWNoZS5zZXQoa2V5LCByZWdleHApO1xyXG4gICAgfVxyXG4gICAgdmFyIG0gPSByZWdleHAucGF0dGVybi5leGVjKHBhdGhUb01hdGNoKTtcclxuICAgIGlmICghbSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgdmFyIHBhdGggPSBtWzBdO1xyXG4gICAgdmFyIHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gbS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xyXG4gICAgICAgIHBhcmFtc1tyZWdleHAua2V5c1tpIC0gMV0ubmFtZV0gPSB1dGlsc18xLmRlY29kZShtW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGF0aDogcGF0aCA9PT0gJycgPyAnLycgOiBwYXRoLFxyXG4gICAgICAgIHBhcmFtczogcGFyYW1zXHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydHMubWF0Y2hQYXRoID0gbWF0Y2hQYXRoO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9tYXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbmV4cG9ydHMuZW1wdHlPYmplY3QgPSB7fTtcclxuZnVuY3Rpb24gZGVjb2RlKHZhbCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWwgIT09ICdzdHJpbmcnID8gdmFsIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCk7XHJcbn1cclxuZXhwb3J0cy5kZWNvZGUgPSBkZWNvZGU7XHJcbmZ1bmN0aW9uIGlzRW1wdHkoY2hpbGRyZW4pIHtcclxuICAgIHJldHVybiAhY2hpbGRyZW4gfHwgIShpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4gOiBPYmplY3Qua2V5cyhjaGlsZHJlbikpLmxlbmd0aDtcclxufVxyXG5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xyXG5mdW5jdGlvbiBmbGF0dGVuKG9sZEFycmF5KSB7XHJcbiAgICB2YXIgbmV3QXJyYXkgPSBbXTtcclxuICAgIGZsYXR0ZW5BcnJheShvbGRBcnJheSwgbmV3QXJyYXkpO1xyXG4gICAgcmV0dXJuIG5ld0FycmF5O1xyXG59XHJcbmV4cG9ydHMuZmxhdHRlbiA9IGZsYXR0ZW47XHJcbmZ1bmN0aW9uIGdldFVSTFN0cmluZyhsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuIGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcobG9jYXRpb24pID8gbG9jYXRpb24gOiAobG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2gpO1xyXG59XHJcbmV4cG9ydHMuZ2V0VVJMU3RyaW5nID0gZ2V0VVJMU3RyaW5nO1xyXG4vKipcclxuICogTWFwcyBhIHF1ZXJ5c3RyaW5nIHRvIGFuIG9iamVjdFxyXG4gKiBTdXBwb3J0cyBhcnJheXMgYW5kIHV0Zi04IGNoYXJhY3RlcnNcclxuICogQHBhcmFtIHNlYXJjaFxyXG4gKiBAcmV0dXJucyB7YW55fVxyXG4gKi9cclxuZnVuY3Rpb24gbWFwU2VhcmNoUGFyYW1zKHNlYXJjaCkge1xyXG4gICAgaWYgKHNlYXJjaCA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICAvLyBDcmVhdGUgYW4gb2JqZWN0IHdpdGggbm8gcHJvdG90eXBlXHJcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHZhciBmcmFnbWVudHMgPSBzZWFyY2guc3BsaXQoJyYnKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmcmFnbWVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgZnJhZ21lbnQgPSBmcmFnbWVudHNbaV07XHJcbiAgICAgICAgdmFyIF9hID0gZnJhZ21lbnQuc3BsaXQoJz0nKS5tYXAobWFwRnJhZ21lbnQpLm1hcChkZWNvZGVVUklDb21wb25lbnQpLCBrID0gX2FbMF0sIHYgPSBfYVsxXTtcclxuICAgICAgICBpZiAobWFwW2tdKSB7XHJcbiAgICAgICAgICAgIG1hcFtrXSA9IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShtYXBba10pID8gbWFwW2tdIDogW21hcFtrXV07XHJcbiAgICAgICAgICAgIG1hcFtrXS5wdXNoKHYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWFwW2tdID0gdjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwO1xyXG59XHJcbmV4cG9ydHMubWFwU2VhcmNoUGFyYW1zID0gbWFwU2VhcmNoUGFyYW1zO1xyXG4vKipcclxuICogR2V0cyB0aGUgcmVsZXZhbnQgcGFydCBvZiB0aGUgVVJMIGZvciBtYXRjaGluZ1xyXG4gKiBAcGFyYW0gZnVsbFVSTFxyXG4gKiBAcGFyYW0gcGFydFVSTFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gdG9QYXJ0aWFsVVJMKGZ1bGxVUkwsIHBhcnRVUkwpIHtcclxuICAgIGlmIChmdWxsVVJMLmluZGV4T2YocGFydFVSTCkgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gZnVsbFVSTC5zdWJzdHIocGFydFVSTC5sZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bGxVUkw7XHJcbn1cclxuZXhwb3J0cy50b1BhcnRpYWxVUkwgPSB0b1BhcnRpYWxVUkw7XHJcbi8qKlxyXG4gKiBTaW11bGF0ZXMgLi4uIG9wZXJhdG9yIGJ5IHJldHVybmluZyBmaXJzdCBhcmd1bWVudFxyXG4gKiB3aXRoIHRoZSBrZXlzIGluIHRoZSBzZWNvbmQgYXJndW1lbnQgZXhjbHVkZWRcclxuICogQHBhcmFtIF9hcmdzXHJcbiAqIEBwYXJhbSBleGNsdWRlZFxyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiByZXN0KF9hcmdzLCBleGNsdWRlZCkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gX2FyZ3MpIHtcclxuICAgICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihwKSA8IDApIHtcclxuICAgICAgICAgICAgdFtwXSA9IF9hcmdzW3BdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcbmV4cG9ydHMucmVzdCA9IHJlc3Q7XHJcbi8qKlxyXG4gKiBTb3J0cyBhbiBhcnJheSBhY2NvcmRpbmcgdG8gaXRzIGBwYXRoYCBwcm9wIGxlbmd0aFxyXG4gKiBAcGFyYW0gYVxyXG4gKiBAcGFyYW0gYlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gcGF0aFJhbmtTb3J0KGEsIGIpIHtcclxuICAgIHZhciBhQXR0ciA9IGEucHJvcHMgfHwgZXhwb3J0cy5lbXB0eU9iamVjdDtcclxuICAgIHZhciBiQXR0ciA9IGIucHJvcHMgfHwgZXhwb3J0cy5lbXB0eU9iamVjdDtcclxuICAgIHZhciBkaWZmID0gcmFuayhiQXR0ci5wYXRoKSAtIHJhbmsoYUF0dHIucGF0aCk7XHJcbiAgICByZXR1cm4gZGlmZiB8fCAoKGJBdHRyLnBhdGggJiYgYUF0dHIucGF0aCkgPyAoYkF0dHIucGF0aC5sZW5ndGggLSBhQXR0ci5wYXRoLmxlbmd0aCkgOiAwKTtcclxufVxyXG5leHBvcnRzLnBhdGhSYW5rU29ydCA9IHBhdGhSYW5rU29ydDtcclxuLyoqXHJcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgcGFyc2luZyBxdWVyeXN0cmluZyBhcnJheXNcclxuICovXHJcbmZ1bmN0aW9uIG1hcEZyYWdtZW50KHAsIGlzVmFsKSB7XHJcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGlzVmFsIHwgMCA/IHAgOiBwLnJlcGxhY2UoJ1tdJywgJycpKTtcclxufVxyXG5mdW5jdGlvbiBzdHJpcCh1cmwpIHtcclxuICAgIHJldHVybiB1cmwucmVwbGFjZSgvKF5cXC8rfFxcLyskKS9nLCAnJyk7XHJcbn1cclxuZnVuY3Rpb24gcmFuayh1cmwpIHtcclxuICAgIGlmICh1cmwgPT09IHZvaWQgMCkgeyB1cmwgPSAnJzsgfVxyXG4gICAgcmV0dXJuIChzdHJpcCh1cmwpLm1hdGNoKC9cXC8rL2cpIHx8ICcnKS5sZW5ndGg7XHJcbn1cclxuZnVuY3Rpb24gZmxhdHRlbkFycmF5KG9sZEFycmF5LCBuZXdBcnJheSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG9sZEFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSBvbGRBcnJheVtpXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGZsYXR0ZW5BcnJheShpdGVtLCBuZXdBcnJheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC91dGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciBjb21wb25lbnRQb29scyA9IG5ldyBNYXAoKTtcclxudmFyIGVsZW1lbnRQb29scyA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gcmVjeWNsZUVsZW1lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciB0YWcgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHBvb2xzID0gZWxlbWVudFBvb2xzLmdldCh0YWcpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBrZXkgPT09IG51bGwgPyBwb29scy5ub25LZXllZCA6IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjeWNsZWRWTm9kZSA9IHBvb2wucG9wKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChyZWN5Y2xlZFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEVsZW1lbnQocmVjeWNsZWRWTm9kZSwgdk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZOb2RlLmRvbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmV4cG9ydHMucmVjeWNsZUVsZW1lbnQgPSByZWN5Y2xlRWxlbWVudDtcclxuZnVuY3Rpb24gcG9vbEVsZW1lbnQodk5vZGUpIHtcclxuICAgIHZhciB0YWcgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgIHZhciBwb29scyA9IGVsZW1lbnRQb29scy5nZXQodGFnKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHBvb2xzID0ge1xyXG4gICAgICAgICAgICBrZXllZDogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgICBub25LZXllZDogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIGVsZW1lbnRQb29scy5zZXQodGFnLCBwb29scyk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwoa2V5KSkge1xyXG4gICAgICAgIHBvb2xzLm5vbktleWVkLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBwb29scy5rZXllZC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICBwb29sID0gW107XHJcbiAgICAgICAgICAgIHBvb2xzLmtleWVkLnNldChrZXksIHBvb2wpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwb29sLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucG9vbEVsZW1lbnQgPSBwb29sRWxlbWVudDtcclxuZnVuY3Rpb24gcmVjeWNsZUNvbXBvbmVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHBvb2xzID0gY29tcG9uZW50UG9vbHMuZ2V0KHR5cGUpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBrZXkgPT09IG51bGwgPyBwb29scy5ub25LZXllZCA6IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjeWNsZWRWTm9kZSA9IHBvb2wucG9wKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChyZWN5Y2xlZFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmFpbGVkID0gcGF0Y2hpbmdfMS5wYXRjaENvbXBvbmVudChyZWN5Y2xlZFZOb2RlLCB2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmFpbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZOb2RlLmRvbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmV4cG9ydHMucmVjeWNsZUNvbXBvbmVudCA9IHJlY3ljbGVDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIHBvb2xDb21wb25lbnQodk5vZGUpIHtcclxuICAgIHZhciBob29rcyA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBub25SZWN5Y2xlSG9va3MgPSBob29rcyAmJiAoaG9va3Mub25Db21wb25lbnRXaWxsTW91bnQgfHxcclxuICAgICAgICBob29rcy5vbkNvbXBvbmVudFdpbGxVbm1vdW50IHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnREaWRNb3VudCB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50V2lsbFVwZGF0ZSB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50RGlkVXBkYXRlKTtcclxuICAgIGlmIChub25SZWN5Y2xlSG9va3MpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIga2V5ID0gdk5vZGUua2V5O1xyXG4gICAgdmFyIHBvb2xzID0gY29tcG9uZW50UG9vbHMuZ2V0KHR5cGUpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgcG9vbHMgPSB7XHJcbiAgICAgICAgICAgIGtleWVkOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgIG5vbktleWVkOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29tcG9uZW50UG9vbHMuc2V0KHR5cGUsIHBvb2xzKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChrZXkpKSB7XHJcbiAgICAgICAgcG9vbHMubm9uS2V5ZWQucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcG9vbCA9IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHBvb2wgPSBbXTtcclxuICAgICAgICAgICAgcG9vbHMua2V5ZWQuc2V0KGtleSwgcG9vbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvb2wucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wb29sQ29tcG9uZW50ID0gcG9vbENvbXBvbmVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vcmVjeWNsaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIFZOb2Rlc18xID0gcmVxdWlyZShcIi4vVk5vZGVzXCIpO1xyXG5mdW5jdGlvbiBhcHBseUtleShrZXksIHZOb2RlKSB7XHJcbiAgICB2Tm9kZS5rZXkgPSBrZXk7XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlLZXlJZk1pc3Npbmcoa2V5LCB2Tm9kZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdW1iZXIoa2V5KSkge1xyXG4gICAgICAgIGtleSA9IFwiLlwiICsga2V5O1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHZOb2RlLmtleSkgfHwgdk5vZGUua2V5WzBdID09PSAnLicpIHtcclxuICAgICAgICByZXR1cm4gYXBwbHlLZXkoa2V5LCB2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlLZXlQcmVmaXgoa2V5LCB2Tm9kZSkge1xyXG4gICAgdk5vZGUua2V5ID0ga2V5ICsgdk5vZGUua2V5O1xyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIF9ub3JtYWxpemVWTm9kZXMobm9kZXMsIHJlc3VsdCwgaW5kZXgsIGN1cnJlbnRLZXkpIHtcclxuICAgIGZvciAodmFyIGxlbiA9IG5vZGVzLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcclxuICAgICAgICB2YXIgbiA9IG5vZGVzW2luZGV4XTtcclxuICAgICAgICB2YXIga2V5ID0gY3VycmVudEtleSArIFwiLlwiICsgaW5kZXg7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuKSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG4pKSB7XHJcbiAgICAgICAgICAgICAgICBfbm9ybWFsaXplVk5vZGVzKG4sIHJlc3VsdCwgMCwga2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobikpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG4sIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShuKSAmJiBuLmRvbSB8fCAobi5rZXkgJiYgbi5rZXlbMF0gPT09ICcuJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwobi5rZXkpIHx8IG4ua2V5WzBdID09PSAnLicpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gYXBwbHlLZXkoa2V5LCBuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBhcHBseUtleVByZWZpeChjdXJyZW50S2V5LCBuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2Rlcyhub2Rlcykge1xyXG4gICAgdmFyIG5ld05vZGVzO1xyXG4gICAgLy8gd2UgYXNzaWduICQgd2hpY2ggYmFzaWNhbGx5IG1lYW5zIHdlJ3ZlIGZsYWdnZWQgdGhpcyBhcnJheSBmb3IgZnV0dXJlIG5vdGVcclxuICAgIC8vIGlmIGl0IGNvbWVzIGJhY2sgYWdhaW4sIHdlIG5lZWQgdG8gY2xvbmUgaXQsIGFzIHBlb3BsZSBhcmUgdXNpbmcgaXRcclxuICAgIC8vIGluIGFuIGltbXV0YWJsZSB3YXlcclxuICAgIC8vIHRzbGludDpkaXNhYmxlXHJcbiAgICBpZiAobm9kZXNbJyQnXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIG5vZGVzID0gbm9kZXMuc2xpY2UoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG5vZGVzWyckJ10gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gdHNsaW50OmVuYWJsZVxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG4gPSBub2Rlc1tpXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobikgfHwgaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG4pKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAobmV3Tm9kZXMgfHwgbm9kZXMpLnNsaWNlKDAsIGkpO1xyXG4gICAgICAgICAgICBfbm9ybWFsaXplVk5vZGVzKG5vZGVzLCByZXN1bHQsIGksIFwiXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobikpIHtcclxuICAgICAgICAgICAgaWYgKCFuZXdOb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZXMgPSBub2Rlcy5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdOb2Rlcy5wdXNoKGFwcGx5S2V5SWZNaXNzaW5nKGksIFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuLCBudWxsKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoVk5vZGVzXzEuaXNWTm9kZShuKSAmJiBuLmRvbSAhPT0gbnVsbCkgfHwgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG4ua2V5KSAmJiAobi5mbGFncyAmIDY0IC8qIEhhc05vbktleWVkQ2hpbGRyZW4gKi8pID09PSAwKSkge1xyXG4gICAgICAgICAgICBpZiAoIW5ld05vZGVzKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdOb2RlcyA9IG5vZGVzLnNsaWNlKDAsIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld05vZGVzLnB1c2goYXBwbHlLZXlJZk1pc3NpbmcoaSwgVk5vZGVzXzEuZGlyZWN0Q2xvbmUobikpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV3Tm9kZXMpIHtcclxuICAgICAgICAgICAgbmV3Tm9kZXMucHVzaChhcHBseUtleUlmTWlzc2luZyhpLCBWTm9kZXNfMS5kaXJlY3RDbG9uZShuKSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXdOb2RlcyB8fCBub2RlcztcclxufVxyXG5leHBvcnRzLm5vcm1hbGl6ZVZOb2RlcyA9IG5vcm1hbGl6ZVZOb2RlcztcclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVZOb2RlcyhjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSAmJiBjaGlsZHJlbi5kb20gIT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzKHZOb2RlLCBwcm9wcywgY2hpbGRyZW4pIHtcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRyZW4pICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHZOb2RlLmNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgdk5vZGUuY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwcm9wcy5yZWYpIHtcclxuICAgICAgICB2Tm9kZS5yZWYgPSBwcm9wcy5yZWY7XHJcbiAgICAgICAgZGVsZXRlIHByb3BzLnJlZjtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmtleSkpIHtcclxuICAgICAgICB2Tm9kZS5rZXkgPSBwcm9wcy5rZXk7XHJcbiAgICAgICAgZGVsZXRlIHByb3BzLmtleTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSh0eXBlKSB7XHJcbiAgICBpZiAodHlwZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgICByZXR1cm4gMTI4IC8qIFN2Z0VsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnaW5wdXQnKSB7XHJcbiAgICAgICAgcmV0dXJuIDUxMiAvKiBJbnB1dEVsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnc2VsZWN0Jykge1xyXG4gICAgICAgIHJldHVybiAyMDQ4IC8qIFNlbGVjdEVsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAndGV4dGFyZWEnKSB7XHJcbiAgICAgICAgcmV0dXJuIDEwMjQgLyogVGV4dGFyZWFFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ21lZGlhJykge1xyXG4gICAgICAgIHJldHVybiAyNTYgLyogTWVkaWFFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDIgLyogSHRtbEVsZW1lbnQgKi87XHJcbn1cclxuZXhwb3J0cy5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSA9IGdldEZsYWdzRm9yRWxlbWVudFZub2RlO1xyXG5mdW5jdGlvbiBub3JtYWxpemUodk5vZGUpIHtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICAvLyBjb252ZXJ0IGEgd3JvbmdseSBjcmVhdGVkIHR5cGUgYmFjayB0byBlbGVtZW50XHJcbiAgICAvLyBQcmltaXRpdmUgbm9kZSBkb2Vzbid0IGhhdmUgZGVmYXVsdFByb3BzLCBvbmx5IENvbXBvbmVudFxyXG4gICAgaWYgKHZOb2RlLmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgcHJvcHNcclxuICAgICAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGRlZmF1bHRQcm9wcykpIHtcclxuICAgICAgICAgICAgaWYgKCFwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgcHJvcHMgPSB2Tm9kZS5wcm9wcyA9IGRlZmF1bHRQcm9wczsgLy8gQ3JlYXRlIG5ldyBvYmplY3QgaWYgb25seSBkZWZhdWx0UHJvcHMgZ2l2ZW5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gZGVmYXVsdFByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocHJvcHNbcHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW3Byb3BdID0gZGVmYXVsdFByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyh0eXBlKSkge1xyXG4gICAgICAgICAgICB2Tm9kZS5mbGFncyA9IGdldEZsYWdzRm9yRWxlbWVudFZub2RlKHR5cGUpO1xyXG4gICAgICAgICAgICBpZiAocHJvcHMgJiYgcHJvcHMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIHZOb2RlLmNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgbm9ybWFsaXplUHJvcHModk5vZGUsIHByb3BzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChwcm9wcy5jaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihwcm9wcy5jaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZHJlbikpIHtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgLy8gVGhpcyBjb2RlIHdpbGwgYmUgc3RyaXBwZWQgb3V0IGZyb20gcHJvZHVjdGlvbiBDT0RFXHJcbiAgICAgICAgLy8gSXQgaGVscHMgdXNlcnMgdG8gdHJhY2sgZXJyb3JzIGluIHRoZWlyIGFwcGxpY2F0aW9ucy5cclxuICAgICAgICB2YXIgdmVyaWZ5S2V5cyA9IGZ1bmN0aW9uICh2Tm9kZXMpIHtcclxuICAgICAgICAgICAgdmFyIGtleVZhbHVlcyA9IHZOb2Rlcy5tYXAoZnVuY3Rpb24gKHZub2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdm5vZGUua2V5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAga2V5VmFsdWVzLnNvbWUoZnVuY3Rpb24gKGl0ZW0sIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhc0R1cGxpY2F0ZSA9IGtleVZhbHVlcy5pbmRleE9mKGl0ZW0pICE9PSBpZHg7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzRHVwbGljYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCdJbmZlcm5vIG5vcm1hbGlzYXRpb24oLi4uKTogRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggc2FtZSBrZXksIGFsbCBrZXlzIG11c3QgYmUgdW5pcXVlIHdpdGhpbiBpdHMgc2libGluZ3MuIER1cGxpY2F0ZWQga2V5IGlzOicgKyBpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNEdXBsaWNhdGU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHZOb2RlLmNoaWxkcmVuICYmIEFycmF5LmlzQXJyYXkodk5vZGUuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHZlcmlmeUtleXModk5vZGUuY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9jb3JlL25vcm1hbGl6YXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3dhcm5pbmcvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0IGNvbnN0IEJlc2x1aXQgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgIDxhcnRpY2xlPlxuICAgIDxoMj5CZXNsdWl0PC9oMj5cbiAgICA8cD5cbiAgICAgIFVpdCBoZXQgd2VyayBrdW5uZW4gd2UgYmVzbHVpdGVuIGRhdCBkZSBoacOrcmFyY2hpZSB2YW4gZGUgUm9tZWluZW4gZ29lZCBpbiBlbGthYXIgemF0IGFhbmdlemllbiBpZWRlcmVlbiB6aWpuIHBsYWF0cyBrZW5kZSBlbiBlciByZXNwZWN0IGVuIGFhbnppZW4gd2FzLiBEb29yIGRlemUgb3JnYW5pc2F0aWUgd2FzIGhldCBSb21laW5zZSBsZWdlciBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRpZSB0aWpkLiBXYW5uZWVyIHdlIGhldCBodWlkaWdlIGxlZ2VyIHZlcmdlbGlqa2VuIG1ldCBoZXQgUm9tZWluc2Ugc3RlbGxlbiB3ZSB2YXN0IGRhdCBvbnplIGhpw6tyYXJjaGllIGVlbiB6ZWVyIHVpdGdlYnJlaWRlIHZlcnNpZSBpcyB2YW4gZGllIHZhbiBoZXQgUm9tZWluc2UgbGVnZXIuIEVyIHppam4gbWVlciBvbmRlcnZlcmRlbGluZ2VuIGVuIG1lZXIgY29tcG9uZW50ZW4gZGFuIGJpaiBkZSBSb21laW5lbiwgbWFhciBkaXQgaXMgdGUgd2lqdGVuIGFhbiB0ZWNobm9sb2dpc2NoZSBlbiB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZy4gWm8gemlqbiBlciBudSB2bGllZ3R1aWdlbiwgdGFua3MsIGplZXBzIGVuIHZsaWVnZGVrc2NoZXBlbiB3YXQgZXJ2b29yIHpvcmd0IGRhdCBpZWRlcmUgcGVyc29vbiBiaW5uZW4gaGV0IGxlZ2VyIHppam4gc3BlY2lmaWVrZSBmdW5jdGllIGhlZWZ0IGVuIGVyIGR1cyBtZWVyIHZlcmRlZWxkaGVpZCBpcy5cbiAgICAgIE9wIGhldCB2bGFrIHZhbiBiZXdhcGVuaW5nIHdhcmVuIGRlIFJvbWVpbmVuIG9vayBnb2VkIHZvb3J6aWVuLiBaZSB3YXJlbiB2ZWVsIGJlemlnIG1ldCBoZXQgb250d2lra2VsZW4gdmFuIG5pZXV3ZSB3YXBlbnMgb20gaHVuIHZpamFuZGVuIHRlIGt1bm5lbiB2ZXJyYXNzZW4uIEh1biB3YXBlbnMgd2FyZW4gZWZmaWNpw6tudCBlbiBkb2VsdHJlZmZlbmQgd2FhcmRvb3IgemUgdmVsZSB2ZWxkc2xhZ2VuIGhlYmJlbiBnZXdvbm5lbi4gV2FubmVlciB3ZSBoZXQgUm9tZWluc2UgbGVnZXIgbWV0IGhldCBodWlkaWdlIHZlcmdlbGlqa2VuIHN0ZWxsZW4gd2UgdmFzdCBkYXQgYWxsZXMgaXMgdmVyYW5kZXJkLiBEaXQgaXMgd2VlciB0ZSB3aWp0ZW4gYWFuIHRlY2hub2xvZ2lzY2hlIGVuIHdldGVuc2NoYXBwZWxpamtlIHZvb3J1aXRnYW5nLiBJbiBodWlkaWdlIHRpamRlbiB3b3JkdCBlciBuaWV0IG1lZXIgZ2VzdHJlZGVuIG1ldCB6d2FhcmRlbiwgc2NoaWxkZW4gZW4gc3BlcmVuLCBtYWFyIG1ldCBtYWNoaW5lZ2V3ZXJlbiwgbGFuZ2VhZnN0YW5kc3Jha2V0dGVuIGVuIGNvbXB1dGVycy4gRGUgUm9tZWluZW4gd2FyZW4gb25nZXR3aWpmZWxkIGRlIGdyb25kbGVnZ2VycyB2YW4gdmVyc2NoZWlkZW5lIGxlZ2VycyBkaWUgbGF0ZXIgemlqbiBvbnRzdGFhbiwgbWFhciBzcG9yZW4gdmFuIGh1biB3YXBlbnMgemlqbiBpbiBoZXQgaHVpZGlnZSBsZWdlciBuaWV0IG1lZXIgdGUgdmluZGVuLlxuICAgICAgSGV0IFJvbWVpbnNlIGxlZ2VyIHdhcyBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRlIGdlc2NoaWVkZW5pcy4gRGl0IGlzIHRlIHdpanRlbiBhYW4gaHVuIGlqemVyc3RlcmtlIGRpc2NpcGxpbmUgZW4gZ29lZCBiZWRhY2h0ZSB0YWN0aWVrZW4gZW4gYWFudmFsc3BsYW5uZW4uIERlIFJvbWVpbmVuIGJlZ3JlcGVuIG9vayB6ZWVyIGdvZWQgZGF0IGVlbiB2ZWxkc2xhZyBuaWV0IGVua2VsIGZ5c2llayB3ZXJkIGdlc3RyZWRlbiwgbWFhciBvb2sgbWVudGFhbC4gWmUgd2lzdGVuIGdvZWQgaG9lIHplIGhldCBtb3JlZWwgYmlqIGh1biB0cm9lcGVuIGhvb2cgbW9lc3RlbiBob3VkZW4gdGVyd2lqbCB6ZSBkYXQgdmFuIGRlIHZpamFuZCB2ZXJ6d2FrdGVuLiBIZXQgdmVybGllcyB2YW4gZWVuIHZlbGRzbGFnIHZvbmQgemlqbiBvb3J6YWFrIG1lZXN0YWwgYmlqIHNsZWNodCBsZWlkZXJzY2hhcC4gRGUgdGFjdGlla2VuIHZhbiBoZXQgaHVpZGlnZSBsZWdlciB6aWpuIHplZXIgc3RlcmsgdmVyYW5kZXJkIGFhbmdlemllbiBhbGxlcyB2YW5vcCBlZW4gbGFuZ2VyZSBhZnN0YW5kIGdlYmV1cnQgZW4gZXIgbWVlciBlbiBtZWVyIHZpYSByb2JvdHMgd29yZHQgZ2V3ZXJrdC4gVnJvZWdlciB3YXJlbiBiaWpuYSBhbGxlIGdldmVjaHRlbiBtYW4gdG90IG1hbiBnZXZlY2h0ZW4gd2FhcmRvb3IgbWVuIHRhY3RpZWtlbiBrb24gdG9lcGFzc2VuIHpvYWxzIGJpanZvb3JiZWVsZDogcnVpdGVycyBsYW5ncyBkZSBmbGFua2VuIGxhdGVuIGlua29tZW4uIFRlZ2Vud29vcmRpZyBoZWVmdCBkaXQgZ2VlbiBudXQgbWVlciBhYW5nZXppZW4gaGV0IGFhbnRhbCBzb2xkYXRlbiB3YWFybWVlIG1lbiBvb3Jsb2cgdm9lcnQgc3RlcmsgdmVybWluZGVyZCBpcy5cbiAgICA8L3A+XG4gIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmVzbHVpdC5qc3giLCJleHBvcnQgY29uc3QgQmV3YXBlbmluZyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8YXJ0aWNsZT5cbiAgICAgIDxoMj5Ib2Ugd2FzIGRlIGJld2FwZW5pbmcgYmlqIGRlIFJvbWVpbmVuPC9oMj5cbiAgICAgIDxwPlxuICAgICAgICBHZWR1cmVuZGUgZW5rZWxlIGVldXdlbiB0b3Qgb3AgZGUgZGFnIHZhbiB2YW5kYWFnIG9udHN0b25kIGVyIGVlbiB2b29ydGR1cmVuZGUgb250d2lra2VsaW5nIHZhbiBiZXdhcGVuaW5nLiBEaXQgaGVlZnQgemljaCBrdW5uZW4gdmVyd2V6ZW5saWprZW4gZG9vciBkZSB0ZWNobm9sb2dpc2NoZSB2b29ydWl0Z2FuZyBtZXQgYWxzIGdldm9sZyBkYXQgZGUga3JhY2h0IHZhbiB3YXBlbnMgYWFuemllbmxpamsgaXMgdmVyZ3Jvb3QuIE1hYXIgb20gZGUgZXZvbHV0aWUgdmFuIGRlIGJld2FwZW5pbmcgd2FhciB0ZSBuZW1lbiwgbW9ldGVuIHdlIHRlcnVnYmxpa2tlbiB0ZW4gdGlqZGUgdmFuIGhldCBSb21laW5zZSBpbXBlcml1bSB3YWFyIGRlIGJhc2lzIHdlcmQgZ2VsZWdkLlxuICAgICAgPC9wPlxuXG4gICAgICA8aDM+RHJhYWdiYXJlIGJld2FwZW5pbmc8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIFZlbGUga2luZGVyZW4gb2Ygam9uZ2VyZW4gbGV6ZW4gd2VsZWVucyBzdHJpcHMgem9hbHMgQXN0ZXJpeCBlbiBPYmVsaXggb2YgbW9ldGVuIG9wIHNjaG9vbCBlbmtlbGUgd2Vya2plcyBtYWtlbiBvbXRyZW50IGRlIFJvbWVpbnNlIGJlc2NoYXZpbmcuIEhpZXJkb29yIGtyaWpnZW4gemUgZWVuIGJlcGFhbGQgYmVlbGQgb3ZlciBoZXQgUm9tZWluc2UgbGV2ZW4gZW4gbWV0IHdlbGtlIHdhcGVucyBkZSBzb2xkYXRlbiB0ZSB3ZXJrIGdpbmdlbi5cbiAgICAgICAgSGV0IGFsZ2VtZW5lIGJlZWxkIGRpZSB3aWogaGllcnZhbiBoZWJiZW4sIGlzIGRhdCBlbGtlIHNvbGRhYXQgZWVuIGFhbnZhbHN3YXBlbiBlbiBlZW4gdmVyZGVkaWdpbmdzd2FwZW4gdGVyIGJlc2NoaWtraW5nIGhhZCBlbiBkYXQgaWVkZXJlIHNvbGRhYXQgdm9vcnppZW4gd2VyZCB2YW4gc3RvZXJlIHZlY2h0ZXJza2xlZGlqLiBIaWVyYmlqIHppam4gdmFhayBoZXQgendhYXJkIGVuIGRlIHNwZWVyIGRlIGJlbGFuZ3JpamtzdGUgYWFudmFsc3dhcGVucyBlbiB0ZXIgdmVyZGVkaWdpbmcgZ2VicnVpa3RlbiB6ZSBoZXQgc2NoaWxkLiBPbSB6aWNoIHRlIGJlc2NoZXJtZW4gZHJvZWdlbiB6ZSB2YWFrIGVlbiBoYXJuYXMuIE9mIGRlemUgYWxnZW1lbmUgdm9vcnN0ZWxsaW5nIGFsdGlqZCB3YWFyIGlzLCB3b3JkdCBpbiBkaXQgaG9vZmRzdHVrIG9uZGVyem9jaHQuXG4gICAgICAgIDxwLz5cbiAgICAgICAgQmV3YXBlbmluZyBiaWogUm9tZWluc2UgbGVnaW9uYWlycyBoaWVsZGVuIHRlbGtlbnMgdmVyYmFuZCBtZXQgZGUgcmFuZyB3YWFydG9lIHplIGJlaG9vcmRlbi4gQmV3YXBlbmluZyBpcyBuZXQgem9hbHMgZGUgcmFuZ2VuIGluIHZlcnNjaGlsbGVuZGUgZ3JvZXBlbiB0ZSB2ZXJkZWxlbi4gQmVnaW5uZW4gZG9lbiB3ZSBtZXQgZGUgdmVyc2NoaWxsZW5kZSB0aWpkcGVya2VuIGdhYW5kZSB2YW4gMTA1IHYuQ2hyLiB0b3QgZWluZGUgMmRlIGVldXcuIEhpZXJiaWogd29yZHQgZWVuIG5pZXV3IHRpamRwZXJrIHRlbGtlbnMgaW5nZWxlaWQgYmlqIG9udHN0YWFuIHZhbiBuaWV1d2UgZW4gYmVsYW5ncmlqa2UgYmV3YXBlbmluZy5cbiAgICAgICAgPHAvPlxuICAgICAgICBCaWogZGUgZWVyc3RlIGdlbmVyYXRpZSB3YXMgZGUgZ2xhZGl1cyAoPSB6d2FhcmQpIGhldCBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbi4gRGV6ZSB3ZXJkIGFsdGlqZCBnZWJydWlrdCBpbiBjb21iaW5hdGllIG1ldCBkZSBhc3BpcyAoPSBzY2hpbGQpIHdhYXJtZWUgemUgemljaCBrb25kZW4gdmVyZGVkaWdlbi4gSW4gaGV0IGJlZ2luIGhhZCBkZSBnbGFkaXVzIGVlbiBrb3J0ZSBsZW5ndGUsIGdlw69uc3BpcmVlcmQgb3AgaGV0IG1vZGVsIHZhbiBkZSBHcmlla3NlIHhpcGhvcy4gSGV0IHNjaGlsZCBvZiBkZSB6b2dlbmFhbWRlIGFzcGlzIHdlcmQgdmVydmFhcmRpZ2QgdWl0IGhvdXQgbWV0IHRlbGtlbnMgZWVuIGJyb256ZW4gcmFuZCB0ZXIgdmVyc3RlcmtpbmcuIERlIHZvcm0gdmFuIGhldCBzY2hpbGQgd2FzIHJvbmQgZW4gcmVsYXRpZWYgZ3Jvb3QgdGVyIHZlcmdlbGlqa2luZyBtZXQgd2F0IGVyIG5vZyB6b3Ugdm9sZ2VuLiBPb2sgaGllcmJpaiBoZWJiZW4gZGUgUm9tZWluZW4gemljaCB3ZWVyIGxhdGVuIGluc3BpcmVyZW4gZG9vciBkZSBHcmlla2VuLlxuICAgICAgICBCaWogZGUgdm9sZ2VuZGUgZ2VuZXJhdGllIHdpbGRlbiBkZSBSb21laW5lbiBodW4gZWlnZW4gc3RpamwgY3Jlw6tyZW4gd2FhcmluIEdyaWVrc2UsIEtlbHRpc2NoZSBlbiBJdGFsaXNjaGUgaW52bG9lZGVuIHZlcndlcmt0IHdlcmRlbi4gWm8gY3Jlw6tlcmRlbiB6ZSBkZSBzY3V0dW0gYWxzIHZlcnZhbmdpbmcgdmFuIGRlIGFzcGlzLiBIZXQgaGFkIGVlbiBvdmFsZSB2b3JtIGVuIGJlc2NoaWt0ZSBvdmVyIHRhbCB2YW4gdm9vcmRlbGVuLiBabyBpcyBoZXQgc2NoaWxkIGR1dXJ6YW1lciBlbiBsaWNodGVyIGRhbiBkZSB2b3JpZ2UgZW4gaGV0IGJlc2NoaWt0ZSBvdmVyIGVlbiBzY2hpbGRrbm9wICg9IG1ldGFsZW4gYm9sIGRpZSB6aWNoIGNlbnRyYWFsIG9wIGhldCBzY2hpbGQgYmV2b25kKS4gRGUgZnVuY3RpZSB2YW4gZGllIGtub3Agd2FzIG1lZXIgc2NoYWRlIHRvZSBicmVuZ2VuIGFhbiBkZSB2aWphbmQuIERlIGFzcGlzIHdlcmQgYWx0aWpkIGluIGRlIGxpbmtlcmhhbmQgZ2VkcmFnZW4gd2FhcmRvb3IgemUgaGV0IHp3YWFyZCBpbiBkZSByZWNodGVyaGFuZCBrb25kZW4gbGVnZ2VuLiBEZSByZWRlIGhpZXJ2b29yIHdhcyBkYXQgZGUgbWVlc3RlIFJvbWVpbnNlIHNvbGRhdGVuIHJlY2h0c2hhbmRpZyB3YXJlbiB3YWFyZG9vciB6ZSBtZWVyIGtyYWNodCBoYWRkZW4gaW4gaHVuIHJlY2h0ZXJhcm0gd2F0IG5vb2R6YWtlbGlqayB3YXMgb20gYnJ1dXNrZSBiZXdlZ2luZ2VuIHRlIG1ha2VuIG1ldCBkZSBnbGFkaXVzLiBFbmlnZSB0aWpkIGxhdGVyIGdpbmdlbiB6ZSBnZWJydWlrIG1ha2VuIHZhbiBlZW4gaWV0cyBsYW5nZXIgendhYXJkIHdhdCBvdmVyZ2Vub21lbiB3YXMgdmFuIGRlIHZpamFuZCB0aWpkZW5zIGRlIFB1bmlzY2hlIG9vcmxvZ2VuLlxuICAgICAgICBEaWV6ZWxmZGUgZ2VuZXJhdGllIGdpbmcgemljaCBvb2sgcmljaHRlbiBvcCBkZSBvbnR3aWtrZWxpbmcgdmFuIHN0b290c3BlcmVuICg9IGVlcnN0ZSB2ZXJzaWUgc3BlcmVuKS4gRGV6ZSBoYWRkZW4gb25nZXZlZXIgZGV6ZWxmZGUgZnVuY3RpZSBhbHMgaGV0IHp3YWFyZC5cbiAgICAgICAgPHAvPlxuXG4gICAgICAgIDxwLz5cbiAgICAgICAgSGV0IGVuaWdlIHZlcnNjaGlsIHdhcyBkYXQgemUgbm9nIGxhbmdlciB3YXJlbi4gWmUgd2FyZW4gaW4gaGV0IGJlZ2luIG5pZXQgYmVkb2VsZCBvbSB3ZWcgdGUgZ29vaWVuIGluIGRlIHJpY2h0aW5nIHZhbiBkZSB2aWphbmQuXG4gICAgICAgIFN0b290c3BlcmVuIHdlcmRlbiBnZWJydWlrdCBkb29yIGRlIGhhc3RhdGkgKD0gbGVnaW9uYXJpaSB2YW4gaGV0IGVlcnN0ZSBtYW5pcGVsKS5cbiAgICAgICAgVWl0ZWluZGVsaWprIHdlcmQgZGUgc3Rvb3RzcGVlciBtaW5kZXIgZ2VicnVpa3QgZG9vciBkZSBsZWdpb25haXJzIGVuIGV2b2x1ZWVyZGUgbWVuIG5hYXIgaGV0IG9udHdpa2tlbGVuIHZhbiBlZW4gbGljaHRlcmUgd2VycHNwZWVyIG5sIGRlIHBpbHVtLiBEaXQgcmVzdWx0ZWVyZGUgaW4gZWVuIG5pZXV3ZSBnZW5lcmF0aWUuIEVsa2UgbGVnYXR1cyBiZXNjaGlrdGUgb3ZlciAyIHBpbGEgd2FhcmRvb3IgemUgYmlqIGRlIHN0YXJ0IHZhbiBlZW4gZ2V2ZWNodCBkZSB2aWphbmQgb25taWRkZWxsaWprIGtvbmRlbiB2ZXJ6d2Fra2VuLiBEZSBwaWx1bSB3YXMgemVsZnMgem8gZ2VtYWFrdCBkYXQgZGUgcHVudCB2YW4gZGUgc3BlZXIgYmlqIGJvdHNpbmcga3JvbSBnaW5nIHN0YWFuIG9mIGFmYnJhayB3YWFyZG9vciBkZSB2aWphbmQgZGUgc3BlZXIgbmlldCBrb24gaGVyZ2VicnVpa2VuLiBTdGVsIGRhdCBkZSBwaWx1bSBpbiBlZW4gc2NoaWxkIGJlbGFuZGRlLCBkYW4gd2FzIGhldCBnZXZvbGcgZGF0IGRlIHp3YXJlIGFjaHRlcmthbnQgdmFuIGRlIHNwZWVyIG5hYXIgYmVuZWRlbiB6YWt0ZSB3YWFyZG9vciBoZXQgb25tb2dlbGlqayB3YXMgb20gZXIgdmVyZGVyIG1lZSByb25kIHRlIGxvcGVuLiBIaWVyZG9vciB3YXMgZGUgdmlqYW5kIHZhYWsgZ2Vub29kemFha3Qgb20gem9uZGVyIHNjaGlsZCB2ZXJkZXIgdGUgdmVjaHRlbi5cbiAgICAgICAgPHAvPlxuICAgICAgICBJbiBkZSAzZGUgZWV1dyBrd2FtIGVyIG9wbmlldXcgZWVuIG9wdmFsbGVuZGUgdm9vcnVpdGdhbmcsIG1hYXIgZGl0bWFhbCBvcCBoZXQgZ2ViaWVkIHZhbiB2ZXJkZWRpZ2luZy4gRGUgYmVrZW5kZSBzY3V0dW0gd2VyZCBhYW5nZXBhc3QgZW4gem8gb250c3RvbmQgZGUgc3BpY3VsdW0uIEhldCB3YXMgZWVuIHZsYWsgc2NoaWxkLCBub2cgbGljaHRlciBlbiBuZXQgem9hbHMgZGUgc2N1dHVtIG1ldCBlZW4gc2xhZ2tub3AgaW4gaGV0IG1pZGRlbi5cbiAgICAgICAgPHAvPlxuICAgICAgICBEZSBiZXdhcGVuaW5nIHZhbiBkZSBodWxwdHJvZXBlbiBpcyBvb2sgb3AgdGUgZGVsZW4gaW4gZW5rZWxlIGdyb2VwZW4uIFRpamRlbnMgZGUgZWVyc3RlIGphcmVuIHZhbiBkZSBlcXVpdGF0dXMgd2VyZCBkZSBnbGFkaXVzIGdlYnJ1aWt0IG9tIGRlIHZpamFuZCBhYW4gdGUgdmFsbGVuIHZhbm9wIGhldCBwYWFyZC4gRG9vcmRhdCBoZXQgendhYXJkIGtvcnQgd2FzLCBtYWFrdGVuIHplIGthbnMgb20gc25lbCB2YW4gaGV0IHBhYXJkIHRlIHZhbGxlbi4gSW4gZGUgbG9vcCB2YW4gZGUgM2RlIGVldXcgd2FzIG1lbiBlcmluIGdlc2xhYWdkIGVlbiBsYW5nZXJlIHZlcnNpZSB2YW4gZGUgZ2xhZGl1cyB0ZSBjcmXDq3JlbiBubCBkZSBzcGF0aGEuIERlIHNhZ2l0dGFyaWkgbWFrZW4gZ2VicnVpayB2YW4gZGUgc2FnaXR0YSAoPSBwaWpsZW5ib29nKS4gRGUgZ2Vib2dlbiB2b3JtIHZhbiBkZSBzYWdpdHRhIHdlcmQgZ2V2b3JtZCBkb29yIGJlZ2luIGVuIGVpbmRlIGFhbiB0ZSBzcGFubmVuIG1ldCBlZW4gc3RldmlnZSwgc3RyYWtrZSBkcmFhZC4gSGllcm1lZSBrb25kZW4gemUgaHVuIHBpamxlbiBvdmVyIGVlbiBncm90ZSBhZnN0YW5kIHNjaGlldGVuLlxuICAgICAgICBUb3Qgc2xvdCBoYW50ZXJlbiBkZSBmdW5kaXRvcmVzIGRlIGZ1bmRhLiBEaXQgaXMgZWVuIHNsaW5nZXIgd2FhcmluIHplIGxvZGVuIGtvZ2VscyBsZWdkZSBvbSBkaWUgdmVydm9sZ2VucyBuYWFyIGRlIHZpamFuZCB0ZSBnb29pZW4uXG4gICAgICAgIDxwLz5cbiAgICAgICAgVWl0IGFsIGRlemUgZ2VnZXZlbnMgd2V0ZW4gd2UgZGF0IGhldCBhbGdlbWVuZSBiZWVsZCBncm90ZW5kZWVscyBqdWlzdCBpcy4gTWFhciBqZSBrYW4gb25tb2dlbGlqayBiZXNsdWl0ZW4gZGF0IGplIG1ldCBkYXQgYmVlbGQgYWxsZXMgd2VldCBvdmVyIGRlIGJld2FwZW5pbmcgdmFuIFJvbWVpbnNlIHNvbGRhdGVuLiBOYWFzdCBoZXQgendhYXJkLCBkZSBzcGVlciBlbiBoZXQgc2NoaWxkIHdhcmVuIGVyIG5vZyB0YWwgdmFuIGFuZGVyZSBhYW52YWxzLSBlbiB2ZXJkZWRpZ2luZ3N3YXBlbnMgZGllIGdlYnJ1aWt0IHdlcmRlbiB0aWpkZW5zIGRlIGdldmVjaHRlbiB0ZW4gdGlqZGUgdmFuIGRlIFJvbWVpbmVuLlxuXG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiPlxuICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPkJld2FwZW5pbmcgbGVnaW9uYWlyczwvdGg+XG4gICAgICAgICAgICAgIDx0aD5hYW52YWxzd2FwZW48L3RoPlxuICAgICAgICAgICAgICA8dGg+dmVyZGVkaW5naW5nc3dhcGVuPC90aD5cbiAgICAgICAgICAgICAgPHRoPjwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPjFzdGUgZ2VuZXJhdGllPC90ZD5cbiAgICAgICAgICAgIDx0ZD5nbGFkaXVzPC90ZD5cbiAgICAgICAgICAgIDx0ZD5hc3BpYTwvdGQ+XG4gICAgICAgICAgICA8dGQgcm93c3Bhbj1cIjRcIj5cbiAgICAgICAgICAgICAgR2VuZXJhdGllcyBnYWFuZGUgdmFuYWZcbiAgICAgICAgICAgICAgwrEgM2RlIGVldXcgdi5DaHIuIOKAkyAzZGUgZWV1d1xuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD4yZGUgZ2VuZXJhdGllPC90ZD5cbiAgICAgICAgICAgIDx0ZD5oYXN0YSArIGdsYWRpdXM8L3RkPlxuICAgICAgICAgICAgPHRkPnNjdXR1bTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+M2RlIGdlbmVyYXRpZTwvdGQ+XG4gICAgICAgICAgICA8dGQ+cGlsdW0gKyBnbGFkaXVzPC90ZD5cbiAgICAgICAgICAgIDx0ZD5zY3V0dW08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPjRkZSBnZW5lcmF0aWU8L3RkPlxuICAgICAgICAgICAgPHRkPnNwYXRoYTwvdGQ+XG4gICAgICAgICAgICA8dGQ+c3BpY3VsdW08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiPlxuICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPkJld2FwZW5pbmcgaHVscHRyb2VwZW48L3RoPlxuICAgICAgICAgICAgICA8dGg+YWFudmFsc3dhcGVuczwvdGg+XG4gICAgICAgICAgICAgIDx0aD52ZXJkZWRpZ2luZ3N3YXBlbnM8L3RoPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5lcXVpdGF0dXM8L3RkPlxuICAgICAgICAgICAgPHRkPnNwYXRoYTwvdGQ+XG4gICAgICAgICAgICA8dGQgcm93c3Bhbj1cIjNcIj5cbiAgICAgICAgICAgICAgVmVyZGVkaWdpbmcga29tdCBncm90ZW5kZWVscyBvdmVyZWVuIG1ldCBkaWUgdmFuIGRlIGxlZ2lvbmFpcnNcbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+c2FnaXR0YXJpaTwvdGQ+XG4gICAgICAgICAgICA8dGQ+c2FnaXR0YTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+ZnVuZGl0b3JlczwvdGQ+XG4gICAgICAgICAgICA8dGQ+ZnVuZGE8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L3A+XG4gICAgICA8cD5cbiAgICAgICAgQWFuZ2V6aWVuIGVyIHdlaW5pZyBiZXRyb3V3YmFyZSBicm9ubmVuIHppam4gb3ZlciBkZSBleGFjdGUgZGF0YSdzIGkudi5tLiBoZXQgb250c3RhYW4gdmFuIHJlZWRzIHZlcm1lbGRlIGJld2FwZW5pbmcsIHdlcmQgZGUgY2hyb25vbG9naXNjaGUgdm9sZ29yZGUgdmFuIGhldCBvbnRzdGFhbiB3ZWVyZ2VnZXZlbiBhLmQuaC52LiBnZW5lcmF0aWVzLlxuICAgICAgPC9wPlxuXG4gICAgICA8aDM+T29ybG9nc3R1aWdlbjwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgVGVuc2xvdHRlIGJlc3ByZWtlbiB3ZSBpbiBkaXQgaG9vZmRzdHVrIGRlIFJvbWVpbnNlIG9vcmxvZ3N0dWlnZW4gYWFuZ2V6aWVuIGhldCBlZW4gYmVsYW5ncmlqayBhc3BlY3Qgd2FzIHZhbiBkZSBnZXZlY2h0ZW4uIEhpZXJiaWogZ2FhbiB3ZSBlZW4gb3BkZWxpbmcgbWFrZW4gdHVzc2VuIGRlIHRvcm1lbnRhICg9IGFhbnZhbHN3YXBlbnMpIGVuIGVua2VsZSBhbmRlcmUgb29ybG9nc3ZvZXJ0dWlnZW4gdGVyIHZlcmRlZGlnaW5nLlxuICAgICAgPC9wPlxuICAgICAgPGg0PlxuICAgICAgICBBYW52YWxzd2FwZW5zXG4gICAgICA8L2g0PlxuICAgICAgPHA+XG4gICAgICAgIERlIGFhbnZhbHN3YXBlbnMgd2FyZW4gdmVlbCBrcmFjaHRpZ2VyIGRhbiBkZWdlbmUgZGllIHplIG9wIHphayBkcm9lZ2VuLiBEZSBiZWtlbmRzdGUgYWFudmFsc21hY2hpbmVzIHdhcmVuIGRlIGNhdGFwdWx0YWUgKD0ga2F0YXB1bHRlbiksIG9uZGVyIHRlIHZlcmRlbGVuIGluIGVua2VsZSBjYXRlZ29yaWXDq24uIFplIHdlcmRlbiBnZWJydWlrdCBvbSBwcm9qZWN0aWVsZW4gd2VnIHRlIHNjaGlldGVuIG0uYi52LiBtZWNoYW5pc2NoZSBlbmVyZ2llLlxuICAgICAgICBEZSBlZXJzdGUga2F0YXB1bHRlbiBzY2hvdGVuIGh1biBwaWpsZW4gaW4gYmlqbmEgaG9yaXpvbnRhbGUgcmljaHRpbmcgd2FhcmRvb3IgZGUgYWZzdGFuZCBkaWUgemUga29uZGVuIGFmbGVnZ2VuIG5pZXQgYWwgdGUgc3VjY2Vzdm9sIHdhcy5cbiAgICAgICAgRGUgUm9tZWluc2UgaW5nZW5pZXVycyB2YW4gZGllIHRpamQgZ2luZ2VuIGRhbiB6b2VrZW4gbmFhciBtZXRob2RlcyBvbSBoZXQgcmVlZHMgdmVybWVsZGUgcHJvYmxlZW0gb3AgdGUgbG9zc2VuLiBIaWVydWl0IG9udHN0b25kIGRlIGJhbGxpc3RhLiBEZXplIGthdGFwdWx0IGhhZCB0dXNzZW4gZGUgMiBob3Jpem9udGFhbCBzY2h1aW4gZ2VwbGFhdHN0ZSBiYWxrZW4gZWVuIGdlc3Bhbm5lbiB0b3V3LiBPbmRlciBoZXQgdG91dyBiZXZvbmQgemljaCBlZW4gaGFsdmUgY2lsaW5kZXIgd2FhcmluIGhldCBwcm9qZWN0aWVsIHdlcmQgZ2VsZWdkLiBEZXplIGhhbHZlIGNpbGluZGVyIHdlcmQgYWx0aWpkIG5hYXIgYm92ZW4gZ2VyaWNodCBlbiBkZSBob2VrIHdhYXJpbiBoZXQgemljaCBiZXZvbmQga29uZGVuIHplIGJpanN0dXJlbiBpbmRpZW4gbm9kaWcuIEhldCB3YXMgZHVzIG5pZXQgem8gZGF0IGJhbGxpc3RhJ3MgZWVuIHZhc3RlIGhvZWsgbWVla3JlZ2VuIHpvYWxzIGJpaiBkZSBlZXJzdGUgdmVyc2llcyB2YW4gZGUga2F0YXB1bHRlbi4gRG9vciBkaWUgcmVnZWxiYXJlIGhvZWsga29uZGVuIHplIGh1biBwaWpsZW4gb3ZlciBlZW4gYWZzdGFuZCB2YW4gNDAwIG1ldGVyIHNjaGlldGVuLiBOZXQgem9hbHMgYmlqIGRlIG91ZHN0ZSBrYXRhcHVsdGVuIHdhcmVuIGVyIHZlZWwgc29sZGF0ZW4gKMKxNCkgbm9kaWcgb20gaGV0IGluIGdlYnJ1aWsgdGUga3VubmVuIG5lbWVuLiBEYWFyb20gem9jaHRlbiBkZSBpbmdlbmlldXJzIG5vZyBzdGVlZHMgbmFhciBlZW4gdmVyYmV0ZXJkZSB2ZXJzaWUuXG4gICAgICAgIERlIGluZ2VuaWV1cnMgcGxhYXRzdGVuIGRpdCBuYWRlZWwgY2VudHJhYWwgaW4gaHVuIHZvbGdlbmRlIG9udHdlcnBlbiB3YWFyZG9vciBkZSBzY29ycGlvbmVzIChrcnVpc2Jvb2cgb3Agdm9ldCkgd2FyZW4gb250c3RhYW4uIEhldCB3YXJlbiBrbGVpbmUga2F0YXB1bHRlbiBkaWUgZG9vciAxIG1hbiBnZWRyYWdlbiBrb25kZW4gd29yZGVuLiBaZSBiZXN0b25kZW4gdWl0IGVlbiBpanplcmVuIGJvb2cgd2FhcnR1c3NlbiBlZW4gc25hYXIgd2VyZCBnZXNwYW5uZW4uIERlIHByb2plY3RpZWxlbiBkaWUgemUga29uZGVuIGFmdnVyZW4gd2FyZW4gaG91dGVuIHNwaWVzZW4gdmFuIDY3Y20uXG4gICAgICAgIE5hIGRlIHNjb3JwaW9uZXMgb250d2lra2VsZGUgbWVuIGRlIGNoZWlvYmFsbGlzdHJhIGRpZSBiZXNjaGlrdGUgb3ZlciBtZXRhbGVuIGZyYW1lcyB3YXQgdmVlbCBzdGVya2VyIHdhcyBkYW4gdm9vcmRpZW4uXG4gICAgICAgIERlIG9uYWdlciB3YXMgZGUgbGFhdHN0ZSBoZXJ2b3JtaW5nIHZhbiBkZSBrYXRhcHVsdCBlbiB3ZXJkIGFsZ2VtZWVuIGluIGdlYnJ1aWsgZ2Vub21lbiByb25kIGRlIDRkZSBlZXV3LlxuXG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICBEZXplIGhhZCBlZW4gdG90YWFsIGFuZGVyZSB3ZXJrd2lqemUgZGFuIGRlIHZvcmlnZS4gSGV0IHdhcyBlZW4gaGVlbCBncm9vdCBlbiB6d2FhciBtYWNoaW5lIGJlZG9lbGQgb20gZ3JvdGUgcHJvamVjdGllbGVuIG5hYXIgZGUgdmlqYW5kIHRlIHdlcnBlbi4gRGVyZ2VsaWprZSBwcm9qZWN0aWVsZW4gd2FyZW4gbWVlc3RhbCBzdGVuZW4uXG4gICAgICAgIEhldCBvcHZhbGxlbmRzdGUga2VubWVyayB2YW4gZGUgb25hZ2VyIHdhcyBkYXQgZXIgb3BuaWV1dyB2ZWxlIHNvbGRhdGVuIG5vZGlnIHdhcmVuIG9tIGRlIGthdGFwdWx0IGluIGdlYnJ1aWsgdGUgbmVtZW4gZW4gZGl0IHdhcyBqdWlzdCB3YXQgbWVuIGJpaiBkZSBvbnR3aWtrZWxpbmcgdmFuIGRlIGthdGFwdWx0IHdpbGRlIHRlZ2VuZ2Fhbi5cbiAgICAgIDwvcD5cblxuICAgICAgPGgzPlZlcmRlZGlnaW5nc3dhcGVuczwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgRGUgdmVyZGVkaWdpbmdzbWFjaGluZXMgd2FyZW4gbmV0IHpvYWxzIGRlIGFhbnZhbHNtYWNoaW5lcyBrcmFjaHRpZ2VyIGluIHZlcmdlbGlqa2luZyBtZXQgd2F0IGRlIHNvbGRhdGVuIGJpaiB6aWNoIGRyb2VnZW4uIFUgemFsIHRlbGtlbnMgZWVuIGtvcnRlIGJlc2NocmlqdmluZyBrcmlqZ2VuIG92ZXIgZW5rZWxlIG9vcmxvZ3N0dWlnZW4gZGllIHRlciB2ZXJkZWRpZ2luZyB3ZXJkZW4gZ2VicnVpa3QuXG4gICAgICAgIDxwLz5cbiAgICAgICAgQmVnaW5uZW4gZG9lbiB3ZSBtZXQgZGUgcGx1dGVpLCBlZW4gaGFsZmNpcmtlbHZvcm1pZyBzY2hpbGQgb3Agd2llbGVuIGRpZSB2ZWVsIHdlZXJzdGFuZCBib29kLlxuICAgICAgICBWZXJ2b2xnZW5zIHdhcyBlciBkZSB0ZXN0dWRvLiBEZXplIHdhcyBuZXQgem9hbHMgZGUgcGx1dGVpIGVlbiBiZXNjaGVybWluZyBvcCB3aWVsZW4gKGthbiBvb2sgem9uZGVyIHdpZWxlbikuIE1hYXIgaGV0IHZlcnNjaGlsIHdhcyBkYXQgYmlqIGRlIHRlc3R1ZG8gc2NoaWxkZW4gYWFuIGVsa2FhciB3ZXJkZW4gZ2VoZWNodCBkaWUgemUgZGFuIGFscyBhZmRhayBnZWJydWlrdGVuLlxuICAgICAgICA8cC8+XG4gICAgICAgIFRvdCBzbG90IGJlc3RvbmQgZXIgZWVuIG1hY2hpbmUgZGllIHpvd2VsIGJpaiBkZSBhYW52YWxzLSBhbHMgYmlqIGRlIHZlcmRlZGlnaW5nc3dhcGVucyB6b3Uga3VubmVuIGhvcmVuLCBubCBkZSB0dXJlcyBhbWJ1bGF0b3JpYWUuIEhldCB3YXMgZWVuIGhvdXRlbiB0b3JlbiBvcCB3aWVsZW4gd2FhcmluIHplIGtvbmRlbiBzY2h1aWxlbiBlbiBvcCBkaWUgbWFuaWVyIGtvbmRlbiB6ZSBvbmdlc2Nob25kZW4gZGUgdmlqYW5kIG5hZGVyZW4uIFpv4oCZbiB0b3JlbiB0ZWxkZSBlbmtlbGUgdmVyZGllcGluZ2VuIGVuIGhhZCB0ZWxrZW5zIGVlbiB2YWxsdWlrIHBlciB2ZXJkaWVwLiBEaXQgZ2FmIGhlbiBkZSBrYW5zIG9tIG92ZXIgZGUgbXVyZW4gdGUgZ2VyYWtlbiB2YW4gZGUgdmlqYW5kLiBIZWxlbWFhbCBvbmRlcmFhbiB3ZXJkIGVlbiBzdG9ybXJhbSBpbmdlYm91d2QgZW4gZGV6ZSBoYWQgYWxzIGZ1bmN0aWUgZGUgcG9vcnRlbiB2YW4gaGV0IHZpamFuZGVsaWprZSBnZWJpZWQgdGUgZG9vcmJyZWtlbi5cbiAgICAgICAgPHAvPlxuICAgICAgPC9wPlxuXG4gICAgICA8dGFibGUgY2xhc3M9XCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPk9vcmxvZ3N0dWlnZW48L3RoPlxuICAgICAgICAgICAgPHRoPndhcGVuczwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5hYW52YWxzd2FwZW5zICg9IHRvcm1lbnRhKTwvdGQ+XG4gICAgICAgICAgPHRkPmNhdGFwdWx0YWU8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgPHRkPkJhbGxpc3RhZTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+PC90ZD5cbiAgICAgICAgICA8dGQ+U2NvcnBpb25lczwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+PC90ZD5cbiAgICAgICAgICA8dGQ+Y2hlaW9iYWxsaXN0cmE8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgPHRkPm9uYWdlcjwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+dmVyZGVkaW5naW5zd2FwZW5zPC90ZD5cbiAgICAgICAgICA8dGQ+UGx1dGVpPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD48L3RkPlxuICAgICAgICAgIDx0ZD50ZXN0dWRvPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5jb21iaW5hdGlld2FwZW48L3RkPlxuICAgICAgICAgIDx0ZD5UdXJlcyBhbWJ1bGF0b3JpYWU8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90YWJsZT5cblxuICAgICAgPGgzPlZlcmdlbGlqa2luZzwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgQWxzIHdlIGVlbiB2ZXJnZWxpamtpbmcgbWFrZW4gdmFuIGRlIFJvbWVpbnNlIGJld2FwZW5pbmcgdC5vLnYuIGRlIGh1aWRpZ2UsIGRhbiBrdW5uZW4gd2UgZWVuIHplZXIgc3RlcmtlIGV2b2x1dGllIHZhc3RzdGVsbGVuIHZvb3J0Z2Vrb21lbiB1aXQgZGUgd2V0ZW5zY2hhcHBlbGlqa2Ugdm9vcnVpdGdhbmcgZGllIG1lbiBkb29yaGVlbiBkZSBqYXJlbiBib2VrdGUuIFplIGhlYmJlbiB6aWNoIGFsdGlqZCB3aWxsZW4gdmVyYmV0ZXJlbiBpbiBoZXQgbWFrZW4gdmFuIG1hY2hpbmVzIGRpZSBwcm9qZWN0aWVsZW4ga29uZGVuIGFmc2NoaWV0ZW4uIFpvIHdlcmQgZGUga2F0YXB1bHQgb21nZXZvcm1kIHRvdCBlZW4gbGFuZ2UgYWZzdGFuZHNyYWtldC4gTWVuIG9udHdpa2tlbGRlIHplbGZzIGVlbiBzeXN0ZWVtIG9tIHp3YWFyZGVuIHRlIHZlcnZhbmdlbiBkb29yIG1hY2hpbmVzIGRpZSBrb2dlbHMga29uZGVuIGFmdnVyZW4uXG4gICAgICA8L3A+XG5cbiAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iZXdhcGVuaW5nLmpzeCIsImV4cG9ydCBjb25zdCBCcm9ubmVuID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgICA8YXJ0aWNsZT5cbiAgICA8aDI+QnJvbm5lbjwvaDI+XG5cbiAgICA8aDMgY2xhc3M9XCJicm9uXCI+Qm9la2VuPC9oMz5cbiAgICA8cD5cblxuICAgICAgPHVsPlxuICAgICAgICA8bGk+Q29tbWVudGFyaWkgZGUgYmVsbG8gR2FsbGljbywgVklJLCBMWElYPC9saT5cbiAgICAgICAgPGxpPlZhbiBHZWxkZXIsIEouICgxOTUyKSBMYXRpam5zZSBnZXNjaGllZHNjaHJpanZlcnMuIEJsb2VtbGV6aW5nIHVpdCBkZSB3ZXJrZW4gdmFuIFNhbGx1c3RpdXMsIENhZXNhciwgTGl2aXVzIGVuIFRhY2l0dXMuIEhhYXJsZW06IFNwYWFybmVzdGFkPC9saT5cbiAgICAgICAgPGxpPkhhcnB1ciwgSi4gKDIwMDcpIEd1ZXJyaWVyczogTGVzIGdyYW5kcyBow6lyb3MgZGUgbCdoaXN0b2lyZS4gTUlMQU46IFRvdWxvdXNlPC9saT5cbiAgICAgICAgPGxpPlZhbiBEYWVsZSwgQi4gKDIwMDMpIEhldCBSb21laW5zZSBMZWdlci4gRGF2aWRzZm9uZHM6IExldXZlbjwvbGk+XG4gICAgICAgIDxsaT5Hb2xkc3dvcnRoeSwgQS4gKDIwMTcpIFJvbWVpbnNlIGxlZ2lvZW5lbi4gT21uaWJvZWs6IFV0cmVjaHQ8L2xpPlxuICAgICAgICA8bGk+Um9kZ2VycywgTi4gKDIwMTIpIEhldCBSb21laW5zZSBSaWprLiBWZWx0bWFuOiBVdHJlY2h0PC9saT5cbiAgICAgICAgPGxpPkFub25pZW0uICgyMDE1KS4gRGUgVmVsZHNsYWdlbiwgSGV0IFBvcC1VcGJvZWsuIFRpZWx0OiBMYW5ub28uPC9saT5cbiAgICAgICAgPGxpPldhcnJ5LCBXLiAoMTk4MSkuIE9vcmxvZ3ZvZXJpbmcgaW4gZGUga2xhc3NpZWtlIHdlcmVsZC4gSGVtb25kOiBIZWxtb25kLjwvbGk+XG4gICAgICAgIDxsaT5EYW5kby1Db2xsaW5zLCBTLiAoMjAxMCkuIExlZ2lvbnMgb2YgUm9tZTogVGhlIERlZmluaXRpdmUgSGlzdG9yeSBvZiBFdmVyeSBJbXBlcmlhbCBSb21hbiBMZWdpb24uIExvbmRlbjogUXVlcmN1cyBQdWJsaXNoaW5nLjwvbGk+XG4gICAgICAgIDxsaT5GZXVnZXJlLCBNLiAoMjAwMikuIFRoZSBXZWFwb25zIG9mIHRoZSBSb21hbnMuIFVuaXRlZCBLaW5nZG9tOiBUaGUgSGlzdG9yeSBQcmVzcy48L2xpPlxuICAgICAgPC91bD5cblxuICAgICAgPGgzIGNsYXNzPVwiYnJvblwiPk1vbmRlbGluZzwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgTW9uZGVsaW5nZSBicm9uIGdlbGV2ZXJkIGRvb3IgS29sb25lbCBTQkggTWFyYyBBbGV4YW5kZXIgKEhvb2dsZXJhYXIgYWFuIGRlIEtNUylcbiAgICAgIDwvcD5cbiAgICAgIDxoMyBjbGFzcz1cImJyb25cIj5XZWJzaXRlczwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgPHVsPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9tYXJjYXVyLndvcmRwcmVzcy5jb20vMjAxNS8wMy8yMC9kZS12aWpmLWdyb290c3RlLW92ZXJ3aW5uaW5nZW4tdmFuLWRlLXJvbWVpbmVuLWxvbmdyZWFkL1wiPkdvZWRlIGtlaXplcnMsIHNsZWNodGUga2VpemVyczwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5taWxpdGFpci5uZXQvT29ybG9nZW4vUm9tZWluc2UlMjBvb3Jsb2dlbi9TbGFnJTIwYmlqJTIwVGV1dG9idXJnZXJ3b3VkL1wiPm1pbGl0YWlyLm5ldDwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5pc2dlc2NoaWVkZW5pcy5ubC9uaWV1d3MvNC1vcG1lcmtlbGlqa2UtdmVsZHNsYWdlbi1yb21laW5zZS1nZXNjaGllZGVuaXMvXCI+NCBvcG1lcmtlbGlqa2UgdmVsZHNsYWdlbiB1aXQgZGUgUm9tZWluc2UgZ2VzY2hpZWRlbmlzPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL25sLndpa2lwZWRpYS5vcmcvd2lraS9CZWxlZyUyMHZhbiUyMEFsZXNpYVwiPkJlbGVnIHZhbiBBbGVzaWE8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vd3d3Lmt1bnN0Z2VvZ3JhZmllLm5sL2hlbnYvaGVsZGVuLmFsZXNpYS5zbGFnLmh0bVwiPldhYXIgbGFnIEFsw6lzaWE/PC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LmNlbmVucy5iZS9hbGVzaWEvb21nZXZpbmcuaHRtbFwiPmRlIGdlc2NoaWVkZW5pcyB2YW4gQWxlc2lhPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3BsYXppbGxhLmNvbS9wYWdlLzQyOTUwMjg5MTMvZHJpZS1ncm90ZS12ZWxkc2xhZ2VuLXVpdC1kZS1yb21laW5zZS10aWpkXCI+RHJpZSBncm90ZSB2ZWxkc2xhZ2VuIHVpdCBkZSBSb21laW5zZSB0aWpkPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL25sLndpa2lwZWRpYS5vcmcvd2lraS9TbGFnX2Jpal9oZXRfVGV1dG9idXJnZXJ3b3VkXCI+U2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZDwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5pc2dlc2NoaWVkZW5pcy5ubC9taWxpdGFpcmUtY29uZnJvbnRhdGllcy9zbGFnLWJpai1oZXQtdGV1dG9idXJnZXJ3b3VkLXZhcnVzLWxvb3B0LWluLWVlbi1nZXJtYWFuc2UtaGluZGVybGFhZy9cIj5TbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkOiBWYXJ1cyBsb29wdCBpbiBlZW4gR2VybWFhbnNlIGhpbmRlcmxhYWc8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vd3d3Lmhpc3RvcmlzY2hlY2FydG9ncmFmaWUubmwvbmlldXdzLzIwMDkvMTEvdmFydXNzbGFnLTIwMDAtamFhci1nZWxlZGVuL1wiPlZhcnVzc2xhZzogMjAwMCBqYWFyIGdlbGVkZW48L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cubm92aW9tYWd1cy5pbmZvL3ZhcnVzc2xhZy5odG1cIj5EZSBWYXJ1c3NsYWcgaW4gOSBuLkNoci48L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vbmwud2lraXBlZGlhLm9yZy93aWtpL1B1YmxpdXNfUXVpbmN0aWxpdXNfVmFydXNcIj5QdWJsaXVzIFF1aW5jdGlsaXVzIFZhcnVzPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LmxlZ2lveGkuYmUvZWR1Y2F0aWVmL3RhY3RpZWtlbiAob3BlbiB2ZWxkc2xhZylcIj5UYWN0aWVrZW48L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cua2xhc3NpZWtldmVydGFsaW5nZW4ubmwvY3VsdHV1ci9sZWdlci5odG1cIj5IZXQgUm9tZWluc2UgbGVnZXI8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly91c2Vycy50ZWxlbmV0LmJlL3Bob2VuaWNhL2h1bHB0cm9lcGVuLmh0bVwiPkh1bHB0cm9lcGVuPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vcm9tZWluZW4uaW5mby9kZS1iZXdhcGVuaW5nLXZhbi1kZS1yb21laW5zZS1sZWdpb25haXJcIj5EZSBiZXdhcGVuaW5nIHZhbiBkZSBSb21laW5zZSBsZWdpb25haXI8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly91c2Vycy5za3luZXQuYmUvdmVuaV92aWRpX3ZpY2kvYmVzdG9ybWluZy5odG1sXCI+VmVyZGVkaWdpbmdzd2Vya2VuIGVuIGJlbGVnZXJpbmdzb29ybG9nPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LnByaW1hcnlob21ld29ya2hlbHAuY28udWsvcm9tYW5zL3dlYXBvbnMuaHRtbFwiPldlYXBvbnM8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vcm9tYW5taWxpdGFyeS5uZXQvdG9vbHMvXCI+VG9vbHMgb2YgV2FyPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vZmFjdHNhbmRkZXRhaWxzLmNvbS93b3JsZC9jYXQ1Ni9zdWIzNjgvaXRlbTIwNTUuaHRtbFwiPkFuY2llbnQgcm9tYW4gbWlsaXRhcnksIHdlYXBvbnMgYW5kIHNwaWVzPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3d3dy50aGUtcm9tYW5zLmNvLnVrL3dlYXBvbnMuaHRtXCI+V2VhcG9ucyAmIFRhY3RpY3M8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cudW5ydi5jb20vbWlsaXRhcnkvbGVnaW9uLnBocFwiPk9yZ2FuaXphdGlvbiBvZiB0aGUgUm9tYW4gSW1wZXJpYWwgTGVnaW9uPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LnJvbWFuLWVtcGlyZS5uZXQvYXJteS9hcm15Lmh0bWxcIj5UaGUgUm9tYW4gQXJteTwvYT48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9wPlxuICAgIDwvcD5cbiAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9icm9ubmVuLmpzeCIsImV4cG9ydCBjb25zdCBJbmxlaWRpbmcgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGFydGljbGU+XG4gICAgPGgyPklubGVpZGluZzwvaDI+XG4gICAgPHA+XG4gICAgICBXaWogaGViYmVuIGJlc2xpc3Qgb20gb25zIHdlcmsgb3ZlciBoZXQgUm9tZWluc2UgbGVnZXIgdGUgYmVnaW5uZW4gbWV0IGRlIG9uZGVydmVyZGVsaW5nIHZhbiBoZXQgbGVnZXIuIEhpZXJkb29yIGtyaWpnIGplIGFsIGVlbiBpbnppY2h0IGluIGhvZSBkZSBoacOrcmFyY2hpZSB3YXMgdGVuIHRpamRlIHZhbiBkZSBSb21laW5lbi4gSGllcm5hIHppam4gd2lqIGRpZXBlciBpbmdlZ2FhbiBvcCBkZSBiZXdhcGVuaW5nIHZhbiBkZSBSb21laW5lbiB6b2RhdCBqZSBnb2VkIHdlZXQgaG9lIHplIHRvZW4gdm9jaHRlbiBlbiB3YXQgemUgdGVyIGJlc2NoaWtraW5nIGhhZGRlbiBvbSBodW4gdmlqYW5kIHRlIG92ZXJtZWVzdGVyZW4uIEFscyBsYWF0c3RlIGhlYmJlbiB3aWogZ2VrZWtlbiBuYWFyIGhldCB2ZXJsb29wIHZhbiB0d2VlIHZlbGRzbGFnZW4gZW4gaGViYmVuIHdlIGRlemUgdm9sbGVkaWcgZ2VhbmFseXNlZXJkIG9tIHVpdGVpbmRlbGlqayB0ZSBrdW5uZW4gemVnZ2VuIGhvZSBkZXplIGJldGVyIGhhZGRlbiBrdW5uZW4gdmVybG9wZW4uIFdpaiBoZWJiZW4gdmVyc2NoZWlkZW5lIGJyb25uZW4gZ2VicnVpa3Qgb20gb25zIHdlcmsgdGUgb25kZXJib3V3ZW4sIGdhYW5kZSB2YW4gYm9la2VuIHVpdCBoZXQgYXJjaGllZiB2YW4gZGUgS29uaW5rbGlqa2UgTWlsaXRhaXJlIFNjaG9vbCB0b3Qgd2Vic2l0ZXMgdmFuIHByb2Zlc3NvcmVuIGxhdGlqbiBkaWUgdGhlc2lzc2VuIG92ZXIgaGV0IFJvbWVpbnNlIGxlZ2VyIGhlYmJlbiBnZXNjaHJldmVuLiBPbSBub2cgZXh0cmEgZG9jdW1lbnRhdGllIGVuIGFmYmVlbGRpbmdlbiB0ZSB2ZXJzY2hhZmZlbiBiaWogZGV6ZSBvbmRlcnpvZWtzY29tcGV0ZW50aWUsIGhlYmJlbiB3aWogYmVzbG90ZW4gb20gZGV6ZSBzaXRlIHRlIG1ha2VuLlxuICAgIDwvcD5cbiAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbmxlaWRpbmcuanN4IiwiZXhwb3J0IGNvbnN0IE9uZGVydmVyZGVsaW5nID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxhcnRpY2xlPlxuXG4gICAgPGgyPk9uZGVydmVyZGVsaW5nIHZhbiBoZXQgbGVnZXI8L2gyPlxuICAgIDxwPlxuICAgICAgRGUgUm9tZWluZW4gaGFkZGVuIHZlcnNjaGlsbGVuZGUgcmFuZ2VuIGJpbm5lbiBoZXQgbGVnZXIgd2FhcnRvZSBqZSBrb24gYmVob3Jlbi4gSGV0IGxlZ2VyIHdlcmQgb3BnZWRlZWxkIGluIG1lZXJkZXJlIGxlZ2lvZW5lbiBlbiBodWxwdHJvZXBlbiB3YWFybWVlIHplIHZhbnVpdCB2ZXJzY2hpbGxlbmRlIGhvZWtlbiBkZSB2aWphbmQgZ2VzdHJ1Y3R1cmVlcmQga29uZGVuIGFhbnZhbGxlbi4gRG9vcmhlZW4gZGUgamFyZW4gbmFtIGhldCBhYW50YWwgc29sZGF0ZW4gc3RlcmsgdG9lLiBEZSByZWRlbiBkYWFydG9lIHdhcyB2cmlqIGVlbnZvdWRpZy4gRWVubWFhbCBlZW4gYmVwYWFsZGUgYmV2b2xraW5nc2dyb2VwIHppam4gc3RyaWpkbWFuc2NoYXBwZW4gdmVyZ3Jvb3R0ZSwgd2FzIGRlIGFuZGVyZSB2ZXJwbGljaHQgb20gaGV0emVsZmRlIHRlIGRvZW4sIGFhbmdlemllbiB6ZSBhbmRlcnMgZ2VlbiBlbmtlbGUga2FucyB6b3VkZW4gaGViYmVuIG9wIGRlIG92ZXJ3aW5uaW5nLlxuICAgIDwvcD5cblxuICAgIDxoMz5IZXQgbGVnaW9lbjwvaDM+XG4gICAgPHA+XG4gICAgICBFZW4gbGVnaW9lbiB3ZXJkIG9wZ2VkZWVsZCBpbiAxMCBjb2hvcnRlbiB3YWFyYmlqIDEgY29ob3J0ZSBlZW4gYWFudGFsIHZhbiA2MDAgc29sZGF0ZW4gdGVsZGUgb3Agdm9vcndhYXJkZSBkYXQgaGV0IGxlZ2lvZW4gYmVzdG9uZCB1aXQgb25nZXZlZXIgNjAwMCBsZWdpb25hcmlpICg9IHNvbGRhdGVuKS4gRGUgbGVpZGVyIHZhbiBlZW4gbGVnaW9lbiB3ZXJkIGVlbiBsZWdhdHVzIGdlbm9lbWQuIEhldCB3YXMgYWx0aWpkIGVlbiBtYW4gb21kYXQgZW5rZWwgZGUgbWFubmVuIHRvZWdlbGF0ZW4gd2VyZGVuIGJpaiBoZXQgbGVnZXIgKFZyb3V3ZW4gbW9lc3RlbiBoZXQgaHVpc2hvdWRlbiBkb2VuKS4gRGUgbGVnYXR1cyBoYWQgb29rIDUgw6AgNiBhc3Npc3RlbnRlbiB0ZXIgYmVzY2hpa2tpbmcgZGllIGRlIG5hYW0gdHJpYnVuaSBrcmVnZW4uIERhdCB3YXJlbiBzdGVlZHMgam9uZ2UgbWFubmVuIGRpZSBlZW4gcG9saXRpZWtlIGNhcnJpw6hyZSB3aWxkZSBzdGFydGVuIG1hYXIgZWVyc3Qgd2F0IG1pbGl0YWlyZSBlcnZhcmluZyBub2RpZyBoYWRkZW4uXG5cbiAgICAgIFZlcnZvbGdlbnMgd2VyZGVuIGFsbGUgY29ob3J0ZW4gbm9nIGVlbnMgb25kZXJ2ZXJkZWVsZCBpbiAzIG1hbmlwZWxzIG1ldCB0ZWxrZW5zIGVlbiBhYW50YWwgdmFuIDIwMCBtYW4uIEhldCAxc3RlIG1hbmlwZWwgdmFuIGllZGVyZSBjb2hvcnRlIGtyZWVnIGRlIG5hYW0gcGlsdXMuIEhldCAxc3RlIG1hbmlwZWwgdmFuIGRlIDFzdGUgY29ob3J0ZSB3ZXJkIGRlIHByaW11cyBwaWx1cyBnZW5vZW1kIG1ldCBkZSBwcmltaSBwaWxpIGNlbnR1cmlvIGFhbiBoZXQgaG9vZmQuXG4gICAgICBEZXplIDIwMCBtYW5uZW4gd2VyZGVuIG5vZ21hYWxzIGdlc3BsaXRzdCBpbiAyIGdyb2VwZW4gdmFuIDEwMCBzb2xkYXRlbi4gRGVyZ2VsaWprZSBncm9lcGVuIGJlaG9vcmRlbiB0b3QgZGUgcmFuZyB2YW4gZGUgY2VudHVyaWEuIEhpZXJiaWogd2FzIGVlbiBjZW50dXJpbyAoPSBvbmRlcm9mZmljaWVyKSBkZSBhYW52b2VyZGVyIHZhbiAxIHZhbiBkZSA2IGNlbnR1cmnDq24uIEhpaiBiZXNjaGlrdGUgb3ZlciBlZW4gYWFudGFsIHNvbGRhdGVuLCAxIHZlbGR0ZWtlbmRyYWdlciBlbiBlZW4gb3B0aW8uIFppam4gYmVsYW5ncmlqa2hlaWQgd2FzIGFmaGFua2VsaWprIHZhbiBkZSByYW5nIGRpZSB6aWpuIGNlbnR1cmlhIGhhZC4gWm8gaXMgZGUgY2VudHVyaW8gdmFuIGhldCAxc3RlIGNlbnR1cmllLCAxc3RlIG1hbmlwZWwgZW4gMXN0ZSBjb2hvcnRlIGRlIGJlbGFuZ3JpamtzdGUgZW4gbmFhcm1hdGUgamUgdmVyZGVyIGdhYXQgaW4gZGUgaGnDq3JhcmNoaWUgbmVtZW4gemUgYWFuIGJlbGFuZ3JpamtoZWlkIGFmLiBFZW4gY2VudHVyaW8gYmVzY2hpa3RlIG5ldCB6b2FscyBlZW4gbGVnYXR1cyBvdmVyIGVlbiBhc3Npc3RlbnQgZGllIGRlIG5hYW0gb3B0aW8gYWFuZ2Vib2RlbiBrcmVlZy4gRGV6ZSBvcHRpbyBiZXNjaGlrdGUgb3ZlciBlZW4ga2xlaW4gbWFuc2NoYXAgb20gd2F0IGVydmFyaW5nIHRlIGtyaWpnZW4gb3ZlciBob2UgamUgbGVpZGluZyBtb2VzdCBnZXZlbi4gSGV0IHVpdGVpbmRlbGlqa2UgZG9lbCB2YW4gZGUgb3B0aW8gd2FzIHRlIHByb21vdmVyZW4gb20gem8gZGUgZnVuY3RpZSB2YW4gZWVuIGNlbnR1cmlvIHRlIGtyaWpnZW4uIFplZXIgZXJ2YXJlbiBjZW50dXJpbydzIGtyZWdlbiBvb2sgbm9nIGthbnMgb20gcHJhZWZlY3R1cyBjYXN0cm9ydW0gKD0ga2FtcGNvbW1hbmRhbnQpIHRlIHdvcmRlbi5cbiAgICAgIFRvdCBzbG90IHdlcmRlbiBkaWUgMTAwIG1hbiBub2cgZWVuIGtlZXIgb3BnZWRlZWxkIGluIDEwIGdyb2VwamVzIHZhbiB0ZWxrZW5zIDEwIHNvbGRhdGVuIGRpZSBzYW1lbiBlZW4ga2xlaW5lIHRlbnQgbW9lc3RlbiBkZWxlbiB3YWFyaW4gemUga29uZGVuIG92ZXJuYWNodGVuLiBEZXJnZWxpamsgdGVudGVuIHdhcmVuIG9uZ2V2ZWVyIDQgYmlqIDMgbWV0ZXIuIERlIHJlZGVuIGhpZXJ2b29yIHdhcyBkYXQgemUgb213aWxsZSB2YW4gaHVuIGdyb290dGUgbWFra2VsaWprIHRlIHZlcnZvZXJlbiB3YXJlbi4gRGV6ZSBncm9lcGplcyB3ZXJkZW4gY29udHVyYmVybml1bSBnZW5vZW1kLiBFbGsgY29udHVyYmVybml1bSBiZXNjaGlrdGUgb3ZlciBlZW4gbXVpbGV6ZWwgZGllIGRlIHNvbGRhdGVuIGhpZWxwIGJpaiBoZXQgdmVydm9lcmVuIHZhbiBodW4gZ29lZGVyZW4uXG4gICAgICBIZXQgbGVnaW9lbiBiZXZhdHRlIG5hYXN0IHJlZWRzIHZlcm1lbGRlIHJhbmdlbiBub2cgYW5kZXJlIHBlcnNvbmVuIGRpZSBlZW4gc3BlY2lmaWVrZSB0YWFrIHVpdHZvZXJkZW4uXG4gICAgPC9wPlxuXG4gICAgPHA+XG4gICAgICBFZW4gYXF1aWxpZmVyICg9IHN0YW5kYWFyZGRyYWdlcikga3JlZWcgZGUgdGFhayBvbSBtZXQgaGV0IFJvbWVpbnNlIGVtYmxlZW0gdmFuIGVlbiBhcXVpbGEgKD0gYXJlbmQpIGhldCBsZWdpb2VuIHZvb3JhZiB0ZSBnYWFuIGVuIHN0b25kIGFhbiBoZXQgaG9vZmQgdmFuIGFsbGUgYW5kZXJlIHZlbGR0ZWtlbmRyYWdlcnMuXG4gICAgICBJbiBlZW4gbGVnaW9lbiB3YXJlbiBlciBvb2sgYmFra2Vycywgc21lZGVuLCBkb2t0ZXIsIOKAplxuICAgICAgPHAvPlxuICAgICAgRWVuIGxlZ2lvZW4ga29uIGR1cyB6b25kZXIgZW5pZyBwcm9ibGVlbSBlbmtlbGUgbWFhbmRlbiByb25kdHJla2tlbiBkb29yIGRlIGdyb3RlIHZvb3JyYWFkIHZhbiBkaW5nZW4gZGllIHplIG1lZXNsZXVyZGUgdGlqZGVucyBodW4gdG9jaHQgZW4gaGV0IGdyb290IGFhbmJvZCB2YW4gYXNzaXN0ZW50ZW4uXG4gICAgPC9wPlxuXG4gICAgPGgzPkRlIGh1bHB0cm9lcGVuPC9oMz5cbiAgICA8cD5cbiAgICAgIE5hYXN0IGxlZ2lvZW5lbiBtYWFrdGUgZGUgUm9tZWluZW4gb29rIHZlZWx2dWxkaWcgZ2VicnVpayB2YW4gZGUgYXV4aWxpYSAoPSBodWxwdHJvZXBlbikuIERhYXJ0b2UgYmVob29yZGVuIGRlIHNvbGRhdGVuIGRpZSBuaWV0IGRlIHN0YXR1cyBoYWRkZW4gdmFuIFJvbWVpbnNlIHN0YWF0c2J1cmdlciBkb29yZGF0IHplIGFma29tc3RpZyB3YXJlbiB1aXQgYW5kZXJlIHZvbGtlcmVuLiBPbXdpbGxlIHZhbiBodW4gYW5kZXJlIGFma29tc3Qga3JlZ2VuIHplIG1hYXIgMS8zIHZhbiBoZXQgbG9vbiB2YW4gZWVuIGxlZ2lvbmFyaXVzLlxuICAgICAgPHAvPlxuICAgICAgSHVuIHZvb3JuYWFtc3RlIGZ1bmN0aWUgd2FzIG9tIGRlIGxlZ2lvZW5lbiB0ZSBoZWxwZW4gZW4gb20gZGUgZ3JlbnplbiB0ZSBiZXdha2VuIGVuIHRlIHZlcmRlZGlnZW4uIERlemUgdGFrZW4gbW9lc3RlbiB6ZSB1aXR2b2VyZW4gb25kZXIgYmV2ZWwgdmFuIHByYWVmZWN0aSAoPSBSb21laW5zZSBvZmZpY2llcmVuKS4gQWxzIGVlbiBhdXhpbGlhcml1cyAoPSBlZW4gc29sZGFhdCB2YW4gZGUgaHVscHRyb2VwZW4pIGVlbiBkaWVuc3R0ZXJtaWpuIHZhbiAyNSBqYWFyIGhhZCBhZmdlc2xvdGVuLCBrcmVlZyBoaWogZW4gemlqbiBnZXppbiB2YW5hZiBkYXQgbW9tZW50IGRlIHN0YXR1cyB2YW4gZWVuIFJvbWVpbnMgc3RhYXRzYnVyZ2VyLiBEZSB6b25lbiB2YW4gZWVuIGV4LWF1eGlsaWFyaXVzIGdpbmdlbiBhbHMgbGVnaW9uYXJpdXMgd2Vya2VuIHdhdCBoZW4gZGUga2FucyBnYWYgb20gbWVlciB0ZSB2ZXJkaWVuZW4gZGFuIGh1biB2YWRlci4gRGUgZXgtYXV4aWxpYXJpdXMgemVsZiBuYW0gZGUgbmFhbSB2YW4gZGUgcmVnZXJlbmRlIGtlaXplciBhYW4uXG4gICAgICA8cC8+XG4gICAgICBOZXQgem9hbHMgZGUgbGVnaW9lbmVuIHppam4gZXIgdmVyc2NoaWxsZW5kZSBvbmRlcmRlbGVuIGJpbm5lbiBkZSBodWxwdHJvZXBlbiB6b2FsczogZGUgZXF1aXRhdHVzICg9IHJ1aXRlcnMpLCBkZSBzYWdpdHRhcmlpICg9IGJvb2dzY2h1dHRlcnMpIGVuIGRlIGZ1bmRpdG9yZXMgKD0gc2xpbmdlcmFhcnMpLiBFbGtlIHNvbGRhYXQgYmlubmVuIGRlIGh1bHB0cm9lcGVuIGtyZWVnIGVlbiBiaWpwYXNzZW5kIHdhcGVuIGFmaGFua2VsaWprIHRvdCB3ZWxrZSBncm9lcCBoaWogYmVob29yZGUuXG4gICAgPC9wPlxuXG4gICAgPHA+XG4gICAgICA8dGFibGUgY2xhc3M9XCJvbmRlcnZlcmRlbGluZy10YWJsZVwiPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPmdyb2VwZW48L3RoPlxuICAgICAgICAgICAgPHRoPmxlZ2lvZW5lbjwvdGg+XG4gICAgICAgICAgICA8dGg+aHVscHRyb2VwZW48L3RoPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+YmVsYW5ncmlqa3N0ZSBvbmRlcmRlbGVuPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIGNvaG9ydGVuPGJyLz5cbiAgICAgICAgICAgICAgbWFuaXBlbHM8YnIvPlxuICAgICAgICAgICAgICBjZW50dXJpYTxici8+XG4gICAgICAgICAgICAgIGNvbnR1cmJlcm5pdW1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIHNhZ2l0dGFyaWk8YnIvPlxuICAgICAgICAgICAgZXF1aXRhdHVzPGJyLz5cbiAgICAgICAgICAgIGZ1bmRpdG9yZXNcbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPmFhbnRhbDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgMSBjb2hvcnQgPSDCsSA2MDA8YnIvPlxuICAgICAgICAgICAgMSBtYW5pcGVsID0gwrEgMjAwPGJyLz5cbiAgICAgICAgICAgIDEgY2VudHVyaWEgPSDCsSAxMDA8YnIvPlxuICAgICAgICAgICAgMSBjb250dXJiZXJuaXVtID0gwrEgMTBcbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIGFhbnRhbCBpcyBvbmR1aWRlbGlqa1xuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+bGVpZGVyczwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgbGVnaW9lbiAtLSZndDsgbGVnYXR1c1xuICAgICAgICAgICAgY2VudHVyaWEgLS0mZ3Q7IGNlbnR1cmlvXG4gICAgICAgICAgICB6ZWVyIGVydmFyZW4gY2VudHVyaW8gLS0mZ3Q7ICBwcmFlZmVjdHVzIGNhc3Ryb3J1bVxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkPkh1bHB0cm9lcGVuIC0tJmd0OyBwcmFlZmVjdGk8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPnN0YXR1czwvdGQ+XG4gICAgICAgICAgPHRkPlJvbWVpbnMgc3RhYXRzYnVyZ2VyPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICBnZWVuIFJvbWVpbnMgc3RhYXRzYnVyZ2VyLiBBZmtvbXN0aWcgdmFuIGFuZGVyZSB2b2xrZXJlblxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICA8L3RhYmxlPlxuICAgIDwvcD5cblxuXG4gICAgPGgzPlZlcmdlbGlqa2luZzwvaDM+XG4gICAgPHA+XG4gICAgICBBbHMgd2UgZGUgb25kZXJ2ZXJkZWxpbmcgYmlqIGRlIFJvbWVpbmVuIHZlcmdlbGlqa2VuIG1ldCBkZSBvbnplIGRhbiBtZXJrZW4gd2Ugb3AgZGF0IGRlIHN0cnVjdHV1ciB2b29yIGVlbiBncm9vdCBkZWVsIGJld2FhcmQgaXMgZ2VibGV2ZW4uIFRvY2gga3VubmVuIHdlIHN0ZWxsZW4gZGF0IGhldCBodWlkaWdlIHN5c3RlZW0gbWVlciBvbmRlcnZlcmRlbGluZ2VuIGhlZWZ0IGVuIGRhdCBkZSBuYW1lbiBvb2sgc3RlZWRzIGdld2lqemlnZCB6aWpuLiBabyBpcyBpbiAyMDE3IGRlIGdlbmVyYWFsIGRlIGxlaWRlciB2YW4gaGV0IGxlZ2VyIGVuIHZyb2VnZXIgc3ByYWsgbWVuIG92ZXIgbGVnYXR1cyBkaWUgZGUgbGVpZGluZyBoYWQgb3ZlciBoZXQgbGVnaW9lbi5cbiAgICA8L3A+XG5cbiAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9vbmRlcnZlcmRlbGluZy5qc3giLCJleHBvcnQgY29uc3QgVmVsZHNsYWdlbiA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgPGFydGljbGU+XG4gICAgPGgyPlZlbGRzbGFnZW4gZW4gb29ybG9nZW48L2gyPlxuICAgIDxwPlxuICAgICAgRGUgUm9tZWluZW4gaGViYmVuIGRvb3JoZWVuIGh1biBsYW5nZSBiZXN0YWFuIGluIHZlbGUgZGVsZW4gdmFuIGRlIHdlcmVsZCBnZXZvY2h0ZW4gdGVnZW4gdmVyc2NoaWxsZW5kZSByaWprZW4sIHN0YWRzdGF0ZW4sIGhhbmRlbHNuYXRpZXMgZW4gYmFyYmFhcnNlIHN0YW1tZW4gYWFuZ2V6aWVuIHplIHN0ZWVkcyBtZWVyIGdyb25kZ2ViaWVkIHdpbGRlbiB2ZXJvdmVyZW4uIEhvZXdlbCB2ZWxlbiBoaWVydmFuIHdlcmRlbiBnZXdvbm5lbiBkYW5remlqIGh1biBkb29yZGFjaHRlIHRhY3RpZWtlbiBlbiBpanplcnN0ZXJrZSBkaXNjaXBsaW5lLCB3YXJlbiBlciBvb2sgendhcmUgbmVkZXJsYWdlbiBiaWogem9hbHM6IGRlIHNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQsIGRlIHNsYWcgYmlqIENhbm5hZSBlbiBkZSBzbGFnIGJpaiBBZHJpYW5vcG9saXMuIERvb3IgZGV6ZSBuZWRlcmxhZ2VuIHNjaGFhZmRlbiB6ZSBodW4gdGFjdGlla2VuIGJpaiBvbSBkZXplbGZkZSBmb3V0ZW4gbmlldCBub2cgZWVucyB0ZSBtYWtlbi5cbiAgICA8L3A+XG4gICAgPGgzPkRlIHNsYWcgYmlqIEFsZXNpYTwvaDM+XG4gICAgPHA+XG4gICAgICBEZSBzbGFnIGJpaiBBbGVzaWEgd2VyZCBnZXZvY2h0ZW4gdHVzc2VuIGRlIFJvbWVpbnNlIHRyb2VwZW4gdmFuIEp1bGl1cyBDYWVzYXIgZW4gZGUgQXZlcm5pc2NoZSB0cm9lcGVuIHZhbiBWZXJjaW5nZXRvcml4LiBEZXplIHNsYWcgd2FzIGRlIGJlc2xpc3NlbmRlIHNsYWcgaW4gZGUgc3RyaWpkIHR1c3NlbiBkZSBHYWxsacOrcnMgZW4gZGUgUm9tZWluZW4gZW4gaGV0IHdhcyB0ZXZlbnMgZWVuIHZhbiBkZSBncm9vdHN0ZSBvdmVyd2lubmluZ2VuIHZhbiBDYWVzYXIuIERlIHNsYWcgdm9uZCBwbGFhdHMgaW4gNTIgdi5DLiBiaWogaGV0IEdhbGxpc2NoZSBBbGVzaWEgcm9uZCBlZW4gdmVyc3Rlcmt0IGZvcnQgdmFuIGhldCB2b2xrIE1hbmR1YmlpLlxuICAgICAgSGV0IGZvcnQgdmFuIEFsZXNpYSB3YXMgZ2VsZWdlbiBib3Zlbm9wIGVlbiBoZXV2ZWwgd2FhciByaXZpZXJlbiBsYW5ncyBzdHJvb21kZW4uIENhZXNhciBnYWYgdmFuIGRlIG9tZ2V2aW5nIGVlbiB6ZWVyIGdvZWRlIGJlc2NocmlqdmluZyBpbiB6aWpuIENvbW1lbnRhcmlpIGRlIGJlbGxvIEdhbGxpY286IFwiSXBzdW0gZXJhdCBvcHBpZHVtIEFsZXNpYSBpbiBjb2xsZSBzdW1tbyBhZG1vZHVtIGVkaXRvIGxvY28sIHV0IG5pc2kgb2JzaWRpb25lIGV4cHVnbmFyaSBub24gcG9zc2UgdmlkZXJldHVyLiBDdWl1cyBjb2xsaXMgcmFkaWNlcyBkdW8gZHVhYnVzIGV4IHBhcnRpYnVzIGZsdW1pbmEgc3VibHVlYmFudC4gQW50ZSBpZCBvcHBpZHVtIHBsYW5pdGllcyBjaXJjaXRlciBtaWxsaWEgcGFzc3V1bSBJSUkgaW4gbG9uZ2l0dWRpbmUgcGF0ZWJhdDsgcmVsaXF1aXMgZXggb21uaWJ1cyBwYXJ0aWJ1cyBjb2xsZXMgbWVkaW9jcmkgaW50ZXJpZWN0byBzcGF0aW8gcGFyaSBhbHRpdHVkaW5pcyBmYXN0aWdpbyBvcHBpZHVtIGNpbmdlYmFudC5cIiBEaXQga2FuIG1lbiB2ZXJ0YWxlbiBhbHM6ICdEZSB2ZXN0aW5nIEFsZXNpYSB6ZWxmIGxhZyBvcCBlZW4gaGV1dmVsdG9wIGRpZSBhYW56aWVubGlqayBib3ZlbiBkZSB2bGFrdGUgdWl0c3Rhaywgem9kYXQgemlqIG9uaW5uZWVtYmFhciBzY2hlZW4gdGVuemlqIGRvb3IgYmxva2thZGUuIERlIHZvZXQgdmFuIGRpZSBoZXV2ZWwgd29yZHQgYWFuIHR3ZWUgemlqZGVuIGJlc3BvZWxkIGRvb3Igd2F0ZXJsb3Blbi5cbiAgICAgIFbDs8OzciBkZSB2ZXN0aW5nIHN0cmVrdGUgemljaCBlZW4gb25nZXZlZXIgZHJpZSBtaWpsIGJyZWRlIHZsYWt0ZSB1aXQ7IGFhbiBhbCBkZSBhbmRlcmUgemlqZGVuIG9tcmluZ2RlIGhldXZlbHMsIG9wIGtvcnRlIGFmc3RhbmQgdmFuIGVsa2FhciBnZWxlZ2VuIGVuIG1ldCBnZWxpamtlIHRvcGhvb2d0ZSwgZGUgdmVzdGluZy4nXG4gICAgICBEb29yIGRlemUgdWl0c3Rla2VuZGUgbG9jYXRpZSB3YXMgaGV0IHplZXIgbW9laWxpamsgb20gaGV0IGZvcnQgaW4gdGUgbmVtZW4gZHVzIGJlc2xvb3QgQ2Flc2FyIG9tIGhldCBmb3J0IHRlIGJlbGVnZXJlbiBkb29yIGdlYnJ1aWsgdGUgbWFrZW4gdmFuIGVlbiBjaXJjdW12YWxsYXRpZWxpbmllIG9tIHpvIGRlIHRyb2VwZW4gZW4gZGUgYmV2b2xraW5nIHZhbiBBbGVzaWEgdWl0IHRlIGhvbmdlcmVuLlxuICAgIDwvcD5cblxuICAgICAgPHA+XG4gICAgICAgIERlIGxpbmllIGJlc3RvbmQgdWl0IG1lZXJkZXJlIHZlcnN0ZXZpZ2luZ2VuIGVuIHdhbGxlbiBtZXQgZWVuIHRvdGFsZSBsZW5ndGUgdmFuIG9uZ2V2ZWVyIDE4a20uIERlIHRhY3RpZWsgdmFuIENhZXNhciBibGVlayB6ZWVyIGdvZWQgdGUgd2Vya2VuIGFhbmdlemllbiBWZXJjaW5nZXRvcml4IHJhZGVsb29zIHdhcy5cbiAgICAgICAgRGUgZW5pZ2UgbW9nZWxpamtoZWlkIGRpZSBWZXJjaW5nZXRvcml4IG5vZyBoYWQgd2FzIG9tIGVlbiBkZWVsIHZhbiBkZSBHYWxsaXNjaGUgY2F2YWxlcmllIHRlIGRvZW4gb250c25hcHBlbiBkb29yIGVlbiBub2cgb252b2x0b29pZCBnZWRlZWx0ZSB2YW4gZGUgbGluaWUgb20gdmVyc3RlcmtpbmcgdGUgaGFsZW4uIFppaiBzbGFhZ2RlbiBpbiBkZXplIG9wemV0IGVuIGJyYWNodGVuIHN1Y2Nlc3ZvbCBlZW4gb250emV0dGluZ3NsZWdlciBvcCBkZSBiZWVuLiBDYWVzYXIgaGFkIGVjaHRlciBhYW4gYWxsZSBtb2dlbGlqa2Ugc2NlbmFyaW8ncyBnZWRhY2h0IGVuIGhpaiBoYWQgYmVzbG90ZW4gb20gZWVuIGNvbnRyYXZhbGxhdGllbGluaWUgdmFuIDIxIGtpbG9tZXRlciB0ZSBib3V3ZW4gcm9uZCBkZSBjaXJjdW12YWxsYXRpZWxpbmllLCB3YWFyZG9vciBkZSBSb21laW5lbiBsYW5ncyB0d2VlIHppamRlbiB0ZWdlbiBkZSBHYWxsaXNjaGUgYWFudmFsbGVuIGJlc2NoZXJtZCB3YXJlbi5cbiAgICAgICAgPGJyLz5cblxuICAgICAgICBFZW5tYWFsIGhldCBvbnR6ZXR0aW5nc2xlZ2VyIGJpaiBBbGVzaWEgd2FzIGFhbmdla29tZW4sIHdhcmVuIGhldCBlaWdlbmxpamsgZGUgUm9tZWluZW4gZGllIGJlbGVnZXJkIHdhcmVuIGFhbmdlemllbiB6ZSBpbmdlc2xvdGVuIHphdGVuIHR1c3NlbiB0d2VlIEdhbGxpc2NoZSBsZWdlcnMuIE9uZGVyIGxlaWRpbmcgdmFuIENvbW1pdXMgdmllbCBoZXQgb250emV0dGluZ3NsZWdlciBkZSBjb250cmF2YWxsYXRpZWxpbmllIGFhbi5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNpZWdlb2ZhbGV4aWEtaW1nXCIgLz5cbiAgICAgICAgIFRlZ2VsaWprZXJ0aWpkIGxpZXQgVmVyY2luZ2V0b3JpeCB6aWpuIHRyb2VwZW4gZGUgY2lyY3VtdmFsbGF0aWVsaW5pZSBhYW52YWxsZW4uIERlIGVlcnN0ZSBkYWcgaGllbGRlbiBkZSBSb21laW5lbiBnb2VkIHN0YW5kIHRlZ2VuIGRlIGFhbnZhbGxlbiB2YW4gZGUgR2FsbGnDq3JzLCBtYWFyIGRlIGRhYXIgb3B2b2xnZW5kZSBkYWdlbiBnaW5nZW4gYmVyZ2FmLiBaZSB3ZXJkZW4gZ2Vkd29uZ2VuIG9tIGZvcnRlbiBlbiBrYW1wZW4gaW4gZGUgY29udHJhdmFsbGF0aWVsaW5pZSBvcCB0ZSBnZXZlbiwgbWFhciBHYWl1cyByZWJvbml1cyBrb24gbWV0IGRlIGNhdmFsZXJpZSB2b29ya29tZW4gZGF0IGRlIEdhbGxpw6tycyBoaWVyIGdlYnJ1aWsgdmFuIGtvbmRlbiBtYWtlbi5cbiAgICAgICAgTmEgbWFhbmRlbmxhbmcgdmVjaHRlbiBiZXNsb290IGRlIG5lZWYgdmFuIFZlcmNpbmdldG9yaXgsIFZlcmNhc3NpdmVsbGF1bm9zLCBvbSBtZXQgNjAuMDAwIG1hbnNjaGFwcGVuIGRlIFJvbWVpbnNlIHN0ZWxsaW5nZW4gYWFuIHRlIHZhbGxlbi4gSGlqIGtvb3MgZGUgcGxlayB3YWFyIGRlIHN0ZWxsaW5nZW4gaGV0IHp3YWtzdCB3YXJlbiwgbmFtZWxpamsgd2FhciBkZSBsaW5pZXMgb3AgZGV6ZWxmZGUgcGxlayBlZW4gcml2aWVyIGtydWlzdGVuLiBWZXJjaW5nZXRvcml4IGxpZXQgdmFuIGJpbm5lbnVpdCBvcCBkZXplbGZkZSBwbGFhdHMgZWVuIGFhbnZhbCB1aXR2b2VyZW4sIG1hYXIgQ2Flc2FyIGhhZCB6b3ZlZWwgdmVydHJvdXdlbiBpbiB6aWpuIHRyb2VwZW4gZGF0IGhpaiBoZXQgYmV2ZWwgZ2FmIG9tIGRlIHN0ZWxsaW5nZW4gdGUgYmVob3VkZW4uIENhZXNhciBuYW0gZWVuIGdyb3RlIGdvayBkb29yIG1ldCA2LjAwMCBtYW5zY2hhcHBlbiBlZW4gbGVnZXIgdmFuIDYwLjAwMCBtYW5zY2hhcHBlbiBhYW4gdGUgdmFsbGVuLCBtYWFyIGhpaiBvdmVyZG9uZGVyZGUgZGUgR2FsbGnDq3JzIHpvIGhhcmQgZGF0IHplIHppY2ggZ2Vub29kemFha3Qgdm9lbGRlbiBvbSB6aWNoIHRlcnVnIHRlIHRyZWtrZW4uXG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICBIaWVybWVlIHdhcyBoZXQgYmVsYW5ncmlqa3N0ZSBlbiBtZWVzdCBiZXNsaXNzZW5kZSBnZXZlY2h0IGdlc3RyZWRlbiB3YWFybmEgZGUgdHJvZXBlbiBpbiBBbGVzaWEgemljaCBvdmVyZ2F2ZW4gZG9vciBob25nZXJzbm9vZCBlbiBnZWJyZWsgYWFuIG1hbnNjaGFwcGVuLlxuICAgICAgICBSb21lIHdhcyBkZSBncm90ZSBvdmVyd2lubmFhciBiaWogZGV6ZSBzbGFnIGRpZSBkZSBiYXNpcyB2b3JtZGUgdm9vciBoZXQgdmVyZGVyIHZlcm92ZXJlbiB2YW4gR2FsbGnDqyBlbiBCcml0dGFubmnDqy4gRGUgR2FsbGlzY2hlIHNvbGRhdGVuIHdlcmRlbiBhbHMgc2xhdmVuIG1lZWdlbm9tZW4gZW4gdmVya29jaHQuIFZlcmNpbmdldG9yaXggd2VyZCB0ZXZlbnMgZ2V2YW5nZW5nZW5vbWVuLCBtYWFyIG5pZXQgdmVya29jaHQgYWFuZ2V6aWVuIGRlIFJvbWVpbmVuIGhlbSB3aWxkZW4gaG91ZGVuIGFscyB0cm9mZWUuIE5hIGVlbiBwYWFyIGphYXIgd2VyZCBoaWogcml0dWVlbCBnZXd1cmdkIHRpamRlbnMgZWVuIHRyaW9tZnRvY2h0LlxuICAgICAgICBEZSBlbGVtZW50ZW4gZGllIGRlIFJvbWVpbmVuIGRlIG92ZXJ3aW5uaW5nIGhlYmJlbiBiZXpvcmdkIHppam4gdm9vcmFsIGJlcnVzdCBvcCBkZSBnZWVzdC4gQ2Flc2FyIGhlZWZ0IHN0ZWVkcyBkZSBtb3JlZWwgYmlqIHppam4gdHJvZXBlbiBob29nIHdldGVuIHRlIGhvdWRlbiBob2V3ZWwgemUgc29tcyBuZWRlcmxhZ2VuIGxlZGVuLiBEaXQgem9yZ2RlIGVydm9vciBkYXQgZGUgc3RyaWpkbHVzdCBiaWogZGUgc29sZGF0ZW4gYWFud2V6aWcgYmxlZWYgZW4gemUgc3RlZWRzIHZvZWxkZW4gZGF0IHplIGRlIGJvdmVuaGFuZCBoYWRkZW4gaW4gaGV0IGdldmVjaHQuIENhZXNhciBuYW0gaGV0IG1vcmVlbCB2YW4gemlqbiB0cm9lcGVuIHplZXIgc2VyaWV1cyBlbiBnaW5nIHplbGZzIHpvIHZlciBkYXQgaGlqIG1ldCBoZW4gbWVlc3RyZWVkLiBIZXQgbW9yZWVsIHZhbiB6aWpuIHRyb2VwZW4gbGFnIGFhbiBkZSBiYXNpcyB2YW4gZGUgbGFhdHN0ZSBiZWxhbmdyaWprZSBzbGFnIGFhbmdlemllbiB6ZSBoZXQgZ2V2ZWNodCBvbmRlcmJlbWFuZCBtb2VzdGVuIGFhbmdhYW4sIG1hYXIgdWl0ZWluZGVsaWprIGhlYmJlbiB6ZSBkZSBvdmVyd2lubmluZyBiZWhhYWxkLiBFZW4gdHdlZWRlIHB1bnQgd2FhcmRvb3IgemUgZGV6ZSBzbGFnIGhlYmJlbiBnZXdvbm5lbiwgaXMgaGV0IGdvZWQgZG9vcmRhY2h0ZSBhYW52YWxzcGxhbiB2YW4gQ2Flc2FyLiBabyBoYWQgaGlqIGRlIGNvbnRyYXZhbGxhdGllbGluaWUgdm9vcnppZW4gdm9vciBlZW4gZXZlbnR1ZWxlIGFhbnZhbC4gV2FzIGRlemUgbGluaWUgZXIgbmlldCBnZXdlZXN0LCBoYWRkZW4gZGUgR2FsbGnDq3JzIGRlemUgdmVsZHNsYWcgZ2VnYXJhbmRlZXJkIGdld29ubmVuIGRvb3IgaHVuIGdyb3RlIGFhbnRhbGxlbi4gQ2Flc2FyIHdhcyBvb2sgZGVnZW5lIGRpZSBlZW4gdmVycmFzc2luZ3NhYW52YWwgaGVlZnQga3VubmVuIGFmd2VuZGVuIGRvb3IgZGUgdnJvdXdlbiBlbiBraW5kZXJlbiBuaWV0IHVpdCBBbGVzaWEgdGUgbGF0ZW4gdmVydHJla2tlbi4gRGUgR2FsbGnDq3JzIHdpbGRlbiBoZW4gbmFtZWxpamsgYWxzIGFmbGVpZGluZyBnZWJydWlrZW4gb20gb25kZXJ0dXNzZW4gZWVuIHZlcnN0ZXZpZ2luZyBhYW4gdGUgdmFsbGVuLCBtYWFyIGRvb3IgQ2Flc2FyIHppam4gYmVzbHVpdCBvbSBkZSB2cm91d2VuIGVuIGtpbmRlcmVuIG5pZXQgYnVpdGVuIHRlIGxhdGVuIGlzIGRlIGFhbnZhbCBuaWV0IGt1bm5lbiBkb29yZ2Fhbi4gSGV0IGVuaWdlIG5lZ2F0aWV2ZSBwdW50IGRhdCBnZW9wdGltYWxpc2VlcmQgaGFkIGt1bm5lbiB3b3JkZW4gaXMgZGUgYm91dyB2YW4gZGUgbGluaWVzIGJpaiBkZSByaXZpZXJlbiBhYW5nZXppZW4gZGl0IGhldCB6d2Fra2UgcHVudCB3YXMgdmFuIGhldCBrYW1wLiBEZXplIHNsYWcgaXMgZWVuIGdvZWQgdm9vcmJlZWxkIHZhbiBkZSBSb21laW5zZSBkaXNjaXBsaW5lIGVuIHN0cmlqZGx1c3QgYWFuZ2V6aWVuIHplIGdlZW4gZW5rZWxlIGdyb3RlIGZvdXQgaGViYmVuIGJlZ2FhbiBkaWUgdG90IGVlbiBldmVudHVlZWwgdmVybGllcyBoYWQga3VubmVuIGxpamRlbi5cbiAgICAgIDwvcD5cblxuICAgICAgPGgzPkRlIHNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQ8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIERlIHNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQgd2VyZCBnZXZvY2h0ZW4gdHVzc2VuIGRlIFJvbWVpbnNlIHRyb2VwZW4gdmFuIFZhcnVzIGVuIGRlIEdlcm1hYW5zZSB0cm9lcGVuIHZhbiBBcm1pbml1cy4gRGV6ZSBzbGFnIGxlaWRkZSBlZW4gemV2ZW5qYXJpZ2Ugb29ybG9nIGluLCBkaWUgdWl0ZWluZGVsaWprIHRvdCBnZXZvbGcgaGFkIGRhdCBkZSBSaWpuIHZvb3IgZWVuIHBlcmlvZGUgdmFuIDQwMCBqYWFyIHdlcmQgdmFzdGdlbGVnZCBhbHMgZ3JlbnMgdmFuIGhldCBSb21laW5zZSBSaWprLiBEZSBzbGFnIHZvbmQgcGxhYXRzIGluIDkgbi5DLiBuYWJpaiBLYWxrcmllc2UgZGF0IGluIER1aXRzbGFuZCBpcyBnZWxlZ2VuLlxuICAgICAgICBEZSBzbGFnIHdhcyBlZW4gdmFuIGRlIGdyb290c3RlIG5lZGVybGFnZW4gdWl0IGRlIGdlc2NoaWVkZW5pcyB2YW4gaGV0IFJvbWVpbnNlIGxlZ2VyLlxuICAgICAgPC9wPlxuXG4gICAgICAgIDxwPlxuICAgICAgICAgIERlIFJvbWVpbmVuIHdhcmVuIG5hbWVsaWprIGluIGVlbiBsaXN0IGdldHJhcHQgdmFuIEFybWluaXVzLCBkZSBsZWlkZXIgdmFuIGRlIEdlcm1hYW5zZSBzdGFtbWVuLiBIaWogbGlldCBkb29yZ2V2ZW4gZGF0IGVyIGVlbiBvcHN0YW5kIGFhbiBkZSBnYW5nIHdhcyB2YW4gdmVyb3ZlcmRlIEdlcm1hYW5zZSBzdGFtbWVuLiBIaWogd2lsZGUgZGUgUm9tZWluZW4gbmFtZWxpamsgbmFhciBlZW4gdm9vciBoZW4gb25iZWtlbmQgZ2ViaWVkIGxva2tlbiB6b2RhdCBkZSBHZXJtYW5lbiBlZW4gc3RyYXRlZ2lzY2ggdm9vcmRlZWwgaGFkZGVuLiBEZSBSb21laW5zZSBhYW52b2VyZGVyIFZhcnVzIHdhcyBvcCBkYXQgbW9tZW50IG1ldCB6aWpuIGxlZ2VyIG9wIHdlZyBuYWFyIGh1biB3aW50ZXJrYW1wZW4gdm9vciBkZSBvcGtvbWVuZGUgd2ludGVyLiBIaWogZ2Vsb29mZGUgZWNodGVyIGhldCBuZXBiZXJpY2h0IHZhbiBBcm1pbml1cyBlbiBoaWogd2VlayB2YW4gemlqbiByb3V0ZSBhZiBlbiBnaW5nIGRvb3IgaGV0IFRldXRvYnVyZ2Vyd291ZCBuYWFyIGRlIHpvZ2V6ZWdkZSBvcHN0YW5kLlxuICAgICAgICAgIDxici8+XG4gICAgICAgICAgV2F0IGhpaiBlY2h0ZXIgbmlldCB3aXN0LCB3YXMgZGF0IGhpaiBvcGdld2FjaHQgd2VyZCBkb29yIGVlbiBncm9vdCBHZXJtYWFucyBsZWdlciBkYXQgemljaCBpbiBoZXQgYm9zIGhhZCB2ZXJzdG9wdCBvbSBlZW4gdmVycmFzc2luZ3NhYW52YWwgdWl0IHRlIHZvZXJlbi4gSGV0IFRldXRvYnVyZ2Vyd291ZCB3YXMgb25kb29yZHJpbmdiYWFyLCBtaXN0aWcgZW4gdm9jaHRpZywgaWV0cyB3YXQgZGUgUm9tZWluZW4gbmlldCBnZXdlbmQgd2FyZW4gYWFuZ2V6aWVuIHppaiBhbHRpamQgb3Agdmxha2tlIGVuIG9wZW4gc2xhZ3ZlbGRlbiBzdHJlZGVuLiBEb29yIGhldCBnZWJyZWsgYWFuIG92ZXJ6aWNodCBlbiBkZSB3aWxsZWtldXIgdmFuIGRlIEdlcm1hbmVuIGhhZGRlbiBkZSBSb21laW5lbiB2YW5hZiBoZXQgYmVnaW4gZWVuIG5hZGVlbC4gWmUga29uZGVuIG5hbWVsaWprIGh1biBnZWJydWlrZWxpamtlIHRhY3RpZWtlbiBuaWV0IHVpdHZvZXJlbiBkb29yIGhldCBnZWJyZWsgYWFuIG9yZ2FuaXNhdGllIGVuIHJ1aW10ZS4gVG9lbiBuYSBlZW4gcGFhciBkYWdlbiBkZSBSb21laW5zZSBvbmRlcmdhbmcgb25hZndlbmRiYWFyIGxlZWssIHBsZWVnZGUgVmFydXMgemVsZm1vb3JkLiBIaWVybWVlIHdhcyBoZXQgbG90IHZhbiB6aWpuIHRyb2VwZW4gb29rIGJlemVnZWxkIGFhbmdlemllbiB6ZSBnZWVuIGxlaWRlciBtZWVyIGhhZGRlbi4gVmFuIGRlIDE4wqAwMDAgbWFuc2NoYXBwZW4gc2xhYWdkZW4gc2xlY2h0cyBlbmtlbGVuIGVyaW4gYWFuIGRlIHZpamFuZCB0ZSBvbnRzbmFwcGVuIGVuIGRlIFJvbWVpbnNlIHdpbnRlcmthbXBlbiBhYW4gZGUgUmlqbiB0ZSBiZXJlaWtlbi5cbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXV0b2J1cmdlcndvdWQtaW1nXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRldXRvYnVyZ2Vyd291ZC1pbWctdHh0XCI+VWl0emljaHQgdmFuIGhldCBUZXV0b2J1cmdlcndvdWQgZ2ViYXNlZXJkIG9wIHRla3N0ZW4gdmFuIGRlIGVlcnN0ZSBlZXV3IG4uQy48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cD5cbiAgICAgICAgICBEZXplIHNsYWcgaGFkIHRvdCBnZXZvbGcgZGF0IGVyIGVlbiBlaW5kZSBrd2FtIGFhbiBkZSBSb21laW5zZSBleHBhbnNpZSBpbiBOb29yZC1FdXJvcGEuIE9vayBoYWQga2VpemVyIEF1Z3VzdHVzIGJlc2xvdGVuIGRhdCB2YW5hZiB0b2VuIGRlIFJpam4gZGUgdmFzdGUgZ3JlbnMgem91IHdvcmRlbiB2YW4gaGV0IEltcGVyaXVtIFJvbWFudW0uXG4gICAgICAgIDwvcD5cblxuICAgICAgPHA+XG4gICAgICAgIEluIGRlemUgc2xhZyBpcyBoZWVsIHdhdCBtaXNnZWxvcGVuLCB2b29yYWwgb3AgaGV0IHZsYWsgdmFuIGxlaWRlcnNjaGFwLiBHb2VkIGxlaWRlcnNjaGFwIHZvcm10IGRlIGJhc2lzIHZvb3IgZWxrZSBzbGFnIGFscyBqZSBrYW5zIHdpbHQgbWFrZW4gb3AgZGUgb3Zlcndpbm5pbmcuIFZhcnVzIHdhcyBpbiBnZWVuIGVua2VsIG9wemljaHQgZWVuIGdvZWRlIGxlaWRlciBpbiBkZXplIHNsYWcuIEhpaiBuYW0gaXJyYXRpb25lbGUgYmVzbGlzc2luZ2VuIGVuIGRhY2h0IG5pZXQgbmEgb3ZlciBkZSBnZXZvbGdlbiBoaWVydmFuLlxuICAgICAgICBIZXQgYmVnb24gcmVlZHMgYmlqIGhldCBuaWV0IG5hZ2FhbiB2YW4gZGUgaW5mb3JtYXRpZSBkaWUgaGlqIGhhZCB2ZXJrcmVnZW4uIEhpaiB2ZXJ0cm91d2RlIGJsaW5kIG9wIGRlIHZlcmtyZWdlbiBpbmZvcm1hdGllIGVuIHN0aXBwZWxkZSBtZXRlZW4gZWVuIHJvdXRlIHVpdC4gSGlqIGhhZCBlaWdlbmxpamsgZWVyc3QgZGUgc2l0dWF0aWUgbW9ldGVuIGJla2lqa2VuIGVuIGV2ZW50dWVlbCBydWl0ZXJzIHZvb3JvcCBtb2V0ZW4gc3R1cmVuIG9tIG5hIHRlIGdhYW4gb2YgZXIgd2VsIGRlZ2VsaWprIGVlbiBvcHN0YW5kIHdhcy4gSGllcm1lZSBoYWQgaGlqIGhldCBjb25mbGljdCBrdW5uZW4gdmVybWlqZGVuIGFhbmdlemllbiBkZSBydWl0ZXJzIGRhbiBoYWRkZW4gZ2V6aWVuIGRhdCBlciBnZWVuIG9wc3RhbmQgd2FzLlxuICAgICAgICBaaWpuIHR3ZWVkZSBncm90ZSBmb3V0IHdhcyBvbSBoZXQgbGVnZXIgd2lqZCBnZXNwcmVpZCB0ZSBsYXRlbiBsb3BlbiBpbiBlZW4gZ2ViaWVkIGRhdCBoaWogbmlldCBrZW5kZS4gSGV0IGxlZ2VyIHdhcyBuYW1lbGlqayBhYW4gaGV0IG1hcmNoZXJlbiBtZXQgZWVuIGFmc3RhbmQgdmFuIDE1IGtpbG9tZXRlciB0dXNzZW4gZGUgZWVyc3RlIGVuIGRlIGxhYXRzdGUgc29sZGF0ZW4uIEhpZXJkb29yIGtvbmRlbiBkZSBHZXJtYW5lbiBtZXQgaHVuIGdyb3RlcmUgYWFudGFsbGVuIGRlIGtsZWluZSBncm9lcGplcyBSb21laW5lbiB6b25kZXIgZW5pZyBwcm9ibGVlbSBhYW52YWxsZW4uIEhhZCBoaWogemlqbiBsZWdlciBjb21wYWN0IGxhdGVuIG1hcmNoZXJlbiwgaGFkZGVuIGRlIFJvbWVpbmVuIG5vZyBlZW4gaGFhbGJhcmUga2FucyBnZWhhZCBvcCBkZSBvdmVyd2lubmluZyBpbiBoZXQgZ2V2ZWNodCBhYW5nZXppZW4gZGUgbGFhdHN0ZSB0cm9lcGVuIGRhbiBzbmVsIGtvbmRlbiBiaWpzcHJpbmdlbiBvbSBkZSBlZXJzdGUgdGUgaGVscGVuLlxuICAgICAgICBUaWpkZW5zIGhldCBnZXZlY2h0IHplbGYgbmFtIGhpaiBhbGxlZW4gbWFhciBzbGVjaHRlIGJlc2xpc3Npbmdlbi4gSGlqIGhhZCB3ZWwgdmVlbCB0ZWdlbnNsYWcgbWV0IGhldCB3ZWVyIHdhYXJkb29yIGRlIHNjaHV0dGVycyBodW4gYm9nZW4gbmlldCBrb25kZW4gZ2VicnVpa2VuIGVuIGRlIGhvdXRlbiBzY2hpbGRlbiB0ZSB6d2FhciB3ZXJkZW4gb20gdGUgZHJhZ2VuIGRvb3IgaGV0IGdld2ljaHQgdmFuIGhldCB3YXRlciBkYXQgaW4gaGV0IGhvdXQgd2FzIG9wZ2VzbG9ycHQuIEhpaiBnYWYgaGV0IG9yZGVyIG9tIGRvb3IgdGUgbWFyY2hlcmVuIG5hYXIgZWVuIG9wZW4gcGxlaywgbWFhciBhYW5nZXppZW4gaGlqIGhldCBib3MgbmlldCBrZW5kZSB3aXN0IGhpaiBuaWV0IGRhdCBlciBnZWVuIG9wZW4gcGxla2tlbiBpbiBodW4gbmFiaWpoZWlkIHdhcmVuLiBEaXQgd2FzIGVlbiBmb3V0IG9yZGVyIGFhbmdlemllbiBoaWogZGUgb21nZXZpbmcgbmlldCBrZW5kZSBlbiBkdXMgb29rIG5pZXQgd2lzdCB3YWFyIGVyIHppY2ggbm9nIEdlcm1hbmVuIGJldm9uZGVuLiBIaWogaGFkIHppam4gcG9zaXRpZSBtb2V0ZW4gdmVyZGVkaWdlbiBvbSB6byBlZW4gYmFzaXMgcHJvYmVyZW4gb3AgdGUgcmljaHRlbiBhYW5nZXppZW4gaGV0IGxlZ2VyIGhldCBrd2V0c2JhYXJzdCBpcyB3YW5uZWVyIHplIHppY2ggYWFuIGhldCB2ZXJwbGFhdHNlbiB6aWpuLlxuICAgICAgICBWYXJ1cyBnYWYgb29rIGdlZW4gc3RldW4gYWFuIHppam4gbWFuc2NoYXBwZW4gd2FhcmRvb3IgZGUgc3RyaWpkbHVzdCB3ZWcgZ2luZyBlbiB2ZWxlbiBoZXQgbnV0IHZhbiBkZSBzdHJpamQgbmlldCBtZWVyIHphZ2VuLiBEZSBMZWdhdHVzLCBOdW1vbml1cyBWYWxhLCB2YW4gZWVuIHZhbiB6aWpuIGRyaWUgbGVnaW9lbmVuIHdhcyBlZW4gdmFuIGRpZSBwZXJzb25lbiBkaWUgaGV0IGxlaWRlcnNjaGFwIHZhbiBWYXJ1cyBpbiB0d2lqZmVsIHRyb2sgZW4gZGUgdmVyendha3RlIG1vcmVlbCBhYW52b2VsZGUuIEhpaiB3YXMgZGFuIG9vayBkZWdlbmUgZGllIHNhbWVuIG1ldCBkZSBydWl0ZXJzIHZsdWNodHRlIGVuIHpvIGRlIHRyb2VwZW4gaW4gZGUgc3RlZWsgbGlldC4gTWFhciB2ZXIga3dhbSBoaWogbmlldCBhYW5nZXppZW4gaGlqIGluIGhldCBib3MgemVsZiBub2cgd2VyZCBhZmdlbWFha3QgZG9vciBkZSBydWl0ZXJzIHZhbiBkZSBHZXJtYW5lbi4gWm9uZGVyIGRlIHN0ZXVuIHZhbiBkZSBydWl0ZXJzIHdhcyBoZXQgbGVnZXIgdmVyendha3QgZW4gZHVzIGdyZXBlbiBkZSBHZXJtYW5lbiBodW4ga2Fucy4gWmUgYmVnb25uZW4gYmlqbmEgaWVkZXJlZW4gZ2VuYWRlbG9vcyBhZiB0ZSBzbGFjaHRlbi4gVmFydXMgemFnIG9wIGRhdCBvZ2VuYmxpayBpbiBkYXQgaGlqIHp3YWFyIGhhZCBnZWZhYWxkIGVuIHBsZWVnZGUgZGFhcm9tIHplbGZtb29yZC5cbiAgICAgIDwvcD5cblxuICAgICAgPGgzPlZlcmdlbGlqa2luZzwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgSGV0IGlzIHplZXIgbW9laWxpamsgb20gaGV0IGh1aWRpZ2UgbGVnZXIgdGUgdmVyZ2VsaWprZW4gbWV0IGhldCBSb21laW5zZSBsZWdlciBhYW5nZXppZW4gZXIgemljaCBlZW4gemVlciBncm90ZSBvbnR3aWtrZWxpbmcgaGVlZnQgcGxhYXRzZ2V2b25kZW4gb3AgaGV0IGdlYmllZCB2YW4gd2V0ZW5zY2hhcHBlbiBlbiB0ZWNobm9sb2dpZS4gVnJvZWdlciBzdHJlZWQgbWVuIG1ldCBlZW4gendhYXJkIGVuIGVlbiBzY2hpbGQgZW4gaGFkIGplIGFscyBzdGV1biBlbmtlbCBydWl0ZXJzLiBOdSB3b3JkdCBlciBnZXN0cmVkZW4gdmFub3AgZWVuIHplZXIgZ3JvdGUgYWZzdGFuZCBhYW5nZXppZW4gbWVuIG1hY2hpbmVnZXdlcmVuLCBwaXN0b2xlbiwgbGFuZ2VhZnN0YW5kc3Jha2tldHRlbizigKYgZ2VicnVpa3QuIEVyIHppam4gbnUgb29rIHZlZWwgbmlldXdlIG9uZGVyc3RldW5pbmdzbW9nZWxpamtoZWRlbiB6b2FscyB0YW5rcywgc2NoZXBlbiBlbiB2bGllZ3R1aWdlbiB3YWFyZG9vciBlciBlZW4gaGVsZWJvZWwgbmlldXdlIHRhY3RpZWtlbiBtb2dlbGlqayB6aWpuLlxuICAgICAgICBEb29yIGFsIGRlemUgdmVyYW5kZXJpbmdlbiBoZWVmdCBtZW4gZGUgdGFjdGlla2VuIGRpZSBtZW4gZ2VicnVpa3Qgb29rIG1vZXRlbiB2ZXJhbmRlcmVuLiBWcm9lZ2VyIGtvbiBtZW4gaW4gZWVuIG1hbiBvcCBtYW4gZ2V2ZWNodCB0YWN0aWVrZW4gZ2VicnVpa2VuIGRpZSB6ZWVyIGVmZmVjdGllZiB3YXJlbiBvcCBrb3J0ZSBhZnN0YW5kIGVuIGVlbiBrbGVpbiBzbGFndmVsZC4gQWxzIG1lbiBkZXplIHRlZ2Vud29vcmRpZyB6b3UgdWl0dm9lcmVuLCB6b3VkZW4gZGUgc29sZGF0ZW4gdGVyIHBsYWF0c2Ugd29yZGVuIGFmZ2VtYWFrdC4gRGUgaG9ldmVlbGhlaWQgc29sZGF0ZW4gZGllIGRhYWR3ZXJrZWxpamsgdmVjaHRlbiBpcyBvb2sgc3RlcmsgYWZnZW5vbWVuIGluIHZlcmdlbGlqa2luZyBtZXQgaGV0IFJvbWVpbnNlIGxlZ2VyLiBWcm9lZ2VyIHN0cmVlZCBtZW4gbWV0IGxlZ2VycyB2YW4gemVlciBncm90ZSBhYW50YWxsZW4uIERlemUgYWFudGFsbGVuIGt1bm5lbiB3ZSBvbnMgdGVnZW53b29yZGlnIG5pZXQgbWVlciB2b29yc3RlbGxlbi5cbiAgICAgICAgRXIgZ2ViZXVydCBudSB2ZWVsIG1lZXIgYWNodGVyIGRlIHNjaGVybWVuIG9tIGRlIHNvbGRhdGVuIGRpZSBtb2V0ZW4gdmVjaHRlbiB0ZSBoZWxwZW4uIFpvIHdvcmR0IGVyIHZpYSBzYXRlbGxpZXRlbiBvZiBkcm9uZXMgaW5mb3JtYXRpZSB2ZXJ6YW1lbGQgb3ZlciBkZSBvbWdldmluZyB3YWFyaW4gZGUgc29sZGF0ZW4gemljaCBiZXZpbmRlbiBlbiBldmVudHVlZWwgd2FhciBodW4gdmlqYW5kZW4gc2NodWlsZW4uIEVlbiBzb2xkYWF0IGhlZWZ0IG51IG9vayBkZSBtb2dlbGlqa2hlaWQgb20sIG1pdHMgZGUgZ29lZGtldXJpbmcgdmFuIHppam4gYWFudm9lcmRlciwgZWVuIGx1Y2h0YWFudmFsIGluIHRlIHJvZXBlbi5cbiAgICAgICAgRGUgaHVpZGlnZSB0YWN0aWVrZW4gZHJhYWllbiBvb2sgbmlldCBtZWVyIGFsbGVlbiBtYWFyIHJvbmQgaGV0IG1pbGl0YWlyZSBhc3BlY3QsIG1hYXIgb29rIHJvbmQgb25kZXIgYW5kZXJlIGhldCBlY29ub21pc2NoZS4gQWxzIG1lbiB6aWpuIHZpamFuZCBlY29ub21pc2NoIGthbiB2ZXJ6d2Fra2VuIHphbCBkZXplIG9vayBtaW5kZXIgd2VlcmJhYXIgemlqbi5cbiAgICAgIDwvcD5cblxuICAgIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmVsZHNsYWdlbi5qc3giLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfTG9jYXRpb25VdGlscyA9IHJlcXVpcmUoJy4vTG9jYXRpb25VdGlscycpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyJyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIpO1xuXG52YXIgX0RPTVV0aWxzID0gcmVxdWlyZSgnLi9ET01VdGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG52YXIgZ2V0SGlzdG9yeVN0YXRlID0gZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDExIHNvbWV0aW1lcyB0aHJvd3Mgd2hlbiBhY2Nlc3Npbmcgd2luZG93Lmhpc3Rvcnkuc3RhdGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpbmNsdWRpbmdcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxuICovXG52YXIgY3JlYXRlQnJvd3Nlckhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeSgpIHtcbiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoX0RPTVV0aWxzLmNhblVzZURPTSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpO1xuXG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Vc2VIaXN0b3J5ID0gKDAsIF9ET01VdGlscy5zdXBwb3J0c0hpc3RvcnkpKCk7XG4gIHZhciBuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lciA9ICEoMCwgX0RPTVV0aWxzLnN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UpKCk7XG5cbiAgdmFyIF9wcm9wcyRmb3JjZVJlZnJlc2ggPSBwcm9wcy5mb3JjZVJlZnJlc2gsXG4gICAgICBmb3JjZVJlZnJlc2ggPSBfcHJvcHMkZm9yY2VSZWZyZXNoID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9wcm9wcyRmb3JjZVJlZnJlc2gsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBwcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdW5kZWZpbmVkID8gX0RPTVV0aWxzLmdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBwcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB1bmRlZmluZWQgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcblxuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/ICgwLCBfUGF0aFV0aWxzLnN0cmlwVHJhaWxpbmdTbGFzaCkoKDAsIF9QYXRoVXRpbHMuYWRkTGVhZGluZ1NsYXNoKShwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG5cbiAgdmFyIGdldERPTUxvY2F0aW9uID0gZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgdmFyIF9yZWYgPSBoaXN0b3J5U3RhdGUgfHwge30sXG4gICAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cbiAgICB2YXIgX3dpbmRvdyRsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgICAgcGF0aG5hbWUgPSBfd2luZG93JGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2ggPSBfd2luZG93JGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzaCA9IF93aW5kb3ckbG9jYXRpb24uaGFzaDtcblxuXG4gICAgdmFyIHBhdGggPSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG5cbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSAoMCwgX1BhdGhVdGlscy5zdHJpcFByZWZpeCkocGF0aCwgYmFzZW5hbWUpO1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCAoMCwgX1BhdGhVdGlscy5wYXJzZVBhdGgpKHBhdGgpLCB7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBrZXk6IGtleVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVLZXkgPSBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9O1xuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9ICgwLCBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyLmRlZmF1bHQpKCk7XG5cbiAgdmFyIHNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9O1xuXG4gIHZhciBoYW5kbGVQb3BTdGF0ZSA9IGZ1bmN0aW9uIGhhbmRsZVBvcFN0YXRlKGV2ZW50KSB7XG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cbiAgICBpZiAoKDAsIF9ET01VdGlscy5pc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KShldmVudCkpIHJldHVybjtcblxuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihldmVudC5zdGF0ZSkpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVIYXNoQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpKTtcbiAgfTtcblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG5cbiAgdmFyIGhhbmRsZVBvcCA9IGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuXG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXZlcnRQb3AgPSBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuXG4gICAgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBrZXlzIHdlJ3ZlIHNlZW4gaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgLy8gSW5zdGVhZCwgd2UganVzdCBkZWZhdWx0IHRvIDAgZm9yIGtleXMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsS2V5cy5pbmRleE9mKHRvTG9jYXRpb24ua2V5KTtcblxuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG5cbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGZyb21Mb2NhdGlvbi5rZXkpO1xuXG4gICAgaWYgKGZyb21JbmRleCA9PT0gLTEpIGZyb21JbmRleCA9IDA7XG5cbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpO1xuICB2YXIgYWxsS2V5cyA9IFtpbml0aWFsTG9jYXRpb24ua2V5XTtcblxuICAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2VuYW1lICsgKDAsIF9QYXRoVXRpbHMuY3JlYXRlUGF0aCkobG9jYXRpb24pO1xuICB9O1xuXG4gIHZhciBwdXNoID0gZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gKDAsIF9Mb2NhdGlvblV0aWxzLmNyZWF0ZUxvY2F0aW9uKShwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICB2YXIgbmV4dEtleXMgPSBhbGxLZXlzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XG5cbiAgICAgICAgICBuZXh0S2V5cy5wdXNoKGxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgYWxsS2V5cyA9IG5leHRLZXlzO1xuXG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gKDAsIF9Mb2NhdGlvblV0aWxzLmNyZWF0ZUxvY2F0aW9uKShwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuXG4gICAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbEtleXNbcHJldkluZGV4XSA9IGxvY2F0aW9uLmtleTtcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnbyA9IGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9O1xuXG4gIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgcmV0dXJuIGdvKC0xKTtcbiAgfTtcblxuICB2YXIgZ29Gb3J3YXJkID0gZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIHJldHVybiBnbygxKTtcbiAgfTtcblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgdmFyIGNoZWNrRE9NTGlzdGVuZXJzID0gZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEpIHtcbiAgICAgICgwLCBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcikod2luZG93LCBQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgKDAsIF9ET01VdGlscy5hZGRFdmVudExpc3RlbmVyKSh3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICAoMCwgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIpKHdpbmRvdywgUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpICgwLCBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcikod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgdmFyIGJsb2NrID0gZnVuY3Rpb24gYmxvY2soKSB7XG4gICAgdmFyIHByb21wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuXG4gIHJldHVybiBoaXN0b3J5O1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlQnJvd3Nlckhpc3Rvcnk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvY3JlYXRlQnJvd3Nlckhpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0JykuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgSW5mZXJubyBmcm9tICdpbmZlcm5vJztcbmltcG9ydCB7IFJvdXRlciwgUm91dGUsIEluZGV4Um91dGUsIExpbmssIEluZGV4TGluayB9IGZyb20gJ2luZmVybm8tcm91dGVyJztcbmltcG9ydCBjcmVhdGVCcm93c2VySGlzdG9yeSBmcm9tICdoaXN0b3J5L2NyZWF0ZUJyb3dzZXJIaXN0b3J5JztcbmltcG9ydCAnLi9tYWluLmxlc3MnO1xuaW1wb3J0IHtJbmxlaWRpbmd9IGZyb20gJy4vaW5sZWlkaW5nJztcbmltcG9ydCB7T25kZXJ2ZXJkZWxpbmd9IGZyb20gJy4vb25kZXJ2ZXJkZWxpbmcnO1xuaW1wb3J0IHtCZXdhcGVuaW5nfSBmcm9tICcuL2Jld2FwZW5pbmcnO1xuaW1wb3J0IHtWZWxkc2xhZ2VufSBmcm9tICcuL3ZlbGRzbGFnZW4nO1xuaW1wb3J0IHtCZXNsdWl0fSBmcm9tICcuL2Jlc2x1aXQnO1xuaW1wb3J0IHtCcm9ubmVufSBmcm9tICcuL2Jyb25uZW4nO1xuXG5jb25zdCBicm93c2VySGlzdG9yeSA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCk7XG5cblxuZnVuY3Rpb24gQXBwKHsgY2hpbGRyZW4gfSkge1xuICByZXR1cm4gKFxuICA8ZGl2IGNsYXNzPVwicGFnZVwiPlxuICAgIDxoZWFkZXI+XG4gICAgICA8aDE+SGV0IFJvbWVpbnNlIExlZ2VyPC9oMT5cbiAgICAgIDxuYXY+XG4gICAgICAgIDx1bCBvbkNsaWNrPXtvbk5hdmlnYXRlfT5cbiAgICAgICAgICA8bGk+PExpbmsgdG89eycvb2NsYXQnfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+SW5sZWlkaW5nPC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL29jbGF0L29uZGVydmVyZGVsaW5nJ30gYWN0aXZlQ2xhc3NOYW1lPVwibGlua0FjdGl2ZUNsYXNzXCIgPm9uZGVydmVyZGVsaW5nPC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL29jbGF0L2Jld2FwZW5pbmcnfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+YmV3YXBlbmluZzwvTGluaz48L2xpPlxuICAgICAgICAgIDxsaT48TGluayB0bz17Jy9vY2xhdC92ZWxkc2xhZ2VuJ30gYWN0aXZlQ2xhc3NOYW1lPVwibGlua0FjdGl2ZUNsYXNzXCIgPnZlbGRzbGFnZW48L0xpbms+PC9saT5cbiAgICAgICAgICA8bGk+PExpbmsgdG89eycvb2NsYXQvYmVzbHVpdCd9IGFjdGl2ZUNsYXNzTmFtZT1cImxpbmtBY3RpdmVDbGFzc1wiID5iZXNsdWl0PC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL29jbGF0L2Jyb25uZW4nfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+YnJvbm5lbjwvTGluaz48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9uYXY+XG4gICAgPC9oZWFkZXI+XG5cbiAgICA8c2VjdGlvbiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L3NlY3Rpb24+XG5cbiAgICA8Zm9vdGVyPlxuICAgICAgPHNwYW4+bWVpIDIwMTc8L3NwYW4+XG4gICAgICA8c3Bhbj5Lb3NoIDZMV2liPC9zcGFuPlxuICAgICAgPHNwYW4+QXF1aWxhIFppZWRpbnMgKDYpLCBUb2JpYXMgQWxleGFuZGVyICgxKTwvc3Bhbj5cbiAgICA8L2Zvb3Rlcj5cbiAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIE5vTWF0Y2goeyBjaGlsZHJlbiB9KSB7XG4gIHJldHVybiA8ZGl2PkhpZXIgYmVudCB1IHVpdCBoZXQgUm9tZWluc2UgcmlqazwvZGl2PlxufVxuXG5jb25zdCByb3V0ZXMgPSAoXG4gIDxSb3V0ZXIgaGlzdG9yeT17IGJyb3dzZXJIaXN0b3J5IH0+XG4gICAgPFJvdXRlIHBhdGg9XCIvb2NsYXRcIiBjb21wb25lbnQ9eyBBcHAgfT5cbiAgICAgIDxJbmRleFJvdXRlIGNvbXBvbmVudD17IElubGVpZGluZyB9Lz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiL29jbGF0XCIgY29tcG9uZW50PXsgSW5sZWlkaW5nIH0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiL29jbGF0L29uZGVydmVyZGVsaW5nXCIgY29tcG9uZW50PXsgT25kZXJ2ZXJkZWxpbmcgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvYmV3YXBlbmluZ1wiIGNvbXBvbmVudD17IEJld2FwZW5pbmcgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvdmVsZHNsYWdlblwiIGNvbXBvbmVudD17IFZlbGRzbGFnZW4gfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvYmVzbHVpdFwiIGNvbXBvbmVudD17IEJlc2x1aXQgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvYnJvbm5lblwiIGNvbXBvbmVudD17IEJyb25uZW4gfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIqXCIgY29tcG9uZW50PXsgTm9NYXRjaCB9Lz5cbiAgICA8L1JvdXRlPlxuICA8L1JvdXRlcj5cbik7XG5cbkluZmVybm8ucmVuZGVyKHJvdXRlcywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKTtcblxuY29uc3Qgb25OYXZpZ2F0ZSA9IChlKSA9PiB7XG4gIGxldCBjb250ZW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xuXG4gIGlmKGNvbnRlbnRFbCl7XG4gICAgY29udGVudEVsLnNjcm9sbFRvcCA9IDA7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYWluLmpzeCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBjYW5Vc2VET00gPSBleHBvcnRzLmNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbnZhciBhZGRFdmVudExpc3RlbmVyID0gZXhwb3J0cy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIG5vZGUuYWRkRXZlbnRMaXN0ZW5lciA/IG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKSA6IG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG59O1xuXG52YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGV4cG9ydHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxudmFyIGdldENvbmZpcm1hdGlvbiA9IGV4cG9ydHMuZ2V0Q29uZmlybWF0aW9uID0gZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBjYWxsYmFjayh3aW5kb3cuY29uZmlybShtZXNzYWdlKSk7XG59OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWFsZXJ0XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXG4gKiBjaGFuZ2VkIHRvIGF2b2lkIGZhbHNlIG5lZ2F0aXZlcyBmb3IgV2luZG93cyBQaG9uZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cbnZhciBzdXBwb3J0c0hpc3RvcnkgPSBleHBvcnRzLnN1cHBvcnRzSGlzdG9yeSA9IGZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cbiAqIElFMTAgYW5kIElFMTEgZG8gbm90LlxuICovXG52YXIgc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSA9IGV4cG9ydHMuc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSA9IGZ1bmN0aW9uIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cbnZhciBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IGV4cG9ydHMuc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBmdW5jdGlvbiBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpIHtcbiAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA9PT0gLTE7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIGdpdmVuIHBvcHN0YXRlIGV2ZW50IGlzIGFuIGV4dHJhbmVvdXMgV2ViS2l0IGV2ZW50LlxuICogQWNjb3VudHMgZm9yIHRoZSBmYWN0IHRoYXQgQ2hyb21lIG9uIGlPUyBmaXJlcyByZWFsIHBvcHN0YXRlIGV2ZW50c1xuICogY29udGFpbmluZyB1bmRlZmluZWQgc3RhdGUgd2hlbiBwcmVzc2luZyB0aGUgYmFjayBidXR0b24uXG4gKi9cbnZhciBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZXhwb3J0cy5pc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZnVuY3Rpb24gaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkge1xuICByZXR1cm4gZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9ET01VdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVzb2x2ZVBhdGhuYW1lID0gcmVxdWlyZSgncmVzb2x2ZS1wYXRobmFtZScpO1xuXG52YXIgX3Jlc29sdmVQYXRobmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNvbHZlUGF0aG5hbWUpO1xuXG52YXIgX3ZhbHVlRXF1YWwgPSByZXF1aXJlKCd2YWx1ZS1lcXVhbCcpO1xuXG52YXIgX3ZhbHVlRXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFsdWVFcXVhbCk7XG5cbnZhciBfUGF0aFV0aWxzID0gcmVxdWlyZSgnLi9QYXRoVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGNyZWF0ZUxvY2F0aW9uID0gZXhwb3J0cy5jcmVhdGVMb2NhdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXksIGN1cnJlbnRMb2NhdGlvbikge1xuICB2YXIgbG9jYXRpb24gPSB2b2lkIDA7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBUd28tYXJnIGZvcm06IHB1c2gocGF0aCwgc3RhdGUpXG4gICAgbG9jYXRpb24gPSAoMCwgX1BhdGhVdGlscy5wYXJzZVBhdGgpKHBhdGgpO1xuICAgIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gT25lLWFyZyBmb3JtOiBwdXNoKGxvY2F0aW9uKVxuICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIHBhdGgpO1xuXG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9ICgwLCBfcmVzb2x2ZVBhdGhuYW1lMi5kZWZhdWx0KShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbG9jYXRpb247XG59O1xuXG52YXIgbG9jYXRpb25zQXJlRXF1YWwgPSBleHBvcnRzLmxvY2F0aW9uc0FyZUVxdWFsID0gZnVuY3Rpb24gbG9jYXRpb25zQXJlRXF1YWwoYSwgYikge1xuICByZXR1cm4gYS5wYXRobmFtZSA9PT0gYi5wYXRobmFtZSAmJiBhLnNlYXJjaCA9PT0gYi5zZWFyY2ggJiYgYS5oYXNoID09PSBiLmhhc2ggJiYgYS5rZXkgPT09IGIua2V5ICYmICgwLCBfdmFsdWVFcXVhbDIuZGVmYXVsdCkoYS5zdGF0ZSwgYi5zdGF0ZSk7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L0xvY2F0aW9uVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCkge1xuICB2YXIgcHJvbXB0ID0gbnVsbDtcblxuICB2YXIgc2V0UHJvbXB0ID0gZnVuY3Rpb24gc2V0UHJvbXB0KG5leHRQcm9tcHQpIHtcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKHByb21wdCA9PSBudWxsLCAnQSBoaXN0b3J5IHN1cHBvcnRzIG9ubHkgb25lIHByb21wdCBhdCBhIHRpbWUnKTtcblxuICAgIHByb21wdCA9IG5leHRQcm9tcHQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByb21wdCA9PT0gbmV4dFByb21wdCkgcHJvbXB0ID0gbnVsbDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjb25maXJtVHJhbnNpdGlvblRvID0gZnVuY3Rpb24gY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IElmIGFub3RoZXIgdHJhbnNpdGlvbiBzdGFydHMgd2hpbGUgd2UncmUgc3RpbGwgY29uZmlybWluZ1xuICAgIC8vIHRoZSBwcmV2aW91cyBvbmUsIHdlIG1heSBlbmQgdXAgaW4gYSB3ZWlyZCBzdGF0ZS4gRmlndXJlIG91dCB0aGVcbiAgICAvLyBiZXN0IHdheSB0byBoYW5kbGUgdGhpcy5cbiAgICBpZiAocHJvbXB0ICE9IG51bGwpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnZnVuY3Rpb24nID8gcHJvbXB0KGxvY2F0aW9uLCBhY3Rpb24pIDogcHJvbXB0O1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZXRVc2VyQ29uZmlybWF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihyZXN1bHQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnQSBoaXN0b3J5IG5lZWRzIGEgZ2V0VXNlckNvbmZpcm1hdGlvbiBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgYSBwcm9tcHQgbWVzc2FnZScpO1xuXG4gICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiBmYWxzZSBmcm9tIGEgdHJhbnNpdGlvbiBob29rIHRvIGNhbmNlbCB0aGUgdHJhbnNpdGlvbi5cbiAgICAgICAgY2FsbGJhY2socmVzdWx0ICE9PSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgdmFyIGFwcGVuZExpc3RlbmVyID0gZnVuY3Rpb24gYXBwZW5kTGlzdGVuZXIoZm4pIHtcbiAgICB2YXIgaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBpZiAoaXNBY3RpdmUpIGZuLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBsaXN0ZW5lcjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIG5vdGlmeUxpc3RlbmVycyA9IGZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2V0UHJvbXB0OiBzZXRQcm9tcHQsXG4gICAgY29uZmlybVRyYW5zaXRpb25UbzogY29uZmlybVRyYW5zaXRpb25UbyxcbiAgICBhcHBlbmRMaXN0ZW5lcjogYXBwZW5kTGlzdGVuZXIsXG4gICAgbm90aWZ5TGlzdGVuZXJzOiBub3RpZnlMaXN0ZW5lcnNcbiAgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyBNYWtlIHN1cmUgdSB1c2UgRU1QVFlfT0JKIGZyb20gJ2luZmVybm8nLCBvdGhlcndpc2UgaXQnbGwgYmUgYSBkaWZmZXJlbnQgcmVmZXJlbmNlXHJcbnZhciBpbmZlcm5vXzEgPSByZXF1aXJlKFwiaW5mZXJub1wiKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBub09wID0gaW5mZXJub19zaGFyZWRfMS5FUlJPUl9NU0c7XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICBub09wID0gJ0luZmVybm8gRXJyb3I6IENhbiBvbmx5IHVwZGF0ZSBhIG1vdW50ZWQgb3IgbW91bnRpbmcgY29tcG9uZW50LiBUaGlzIHVzdWFsbHkgbWVhbnMgeW91IGNhbGxlZCBzZXRTdGF0ZSgpIG9yIGZvcmNlVXBkYXRlKCkgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4gVGhpcyBpcyBhIG5vLW9wLic7XHJcbn1cclxudmFyIGNvbXBvbmVudENhbGxiYWNrUXVldWUgPSBuZXcgTWFwKCk7XHJcbi8vIHdoZW4gYSBjb21wb25lbnRzIHJvb3QgVk5vZGUgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgY2FuIHJ1biBpbnRvIGlzc3Vlc1xyXG4vLyB0aGlzIHdpbGwgcmVjdXJzaXZlbHkgbG9vayBmb3Igdk5vZGUucGFyZW50Tm9kZSBpZiB0aGUgVk5vZGUgaXMgYSBjb21wb25lbnRcclxuZnVuY3Rpb24gdXBkYXRlUGFyZW50Q29tcG9uZW50Vk5vZGVzKHZOb2RlLCBkb20pIHtcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHZhciBwYXJlbnRWTm9kZSA9IHZOb2RlLnBhcmVudFZOb2RlO1xyXG4gICAgICAgIGlmIChwYXJlbnRWTm9kZSkge1xyXG4gICAgICAgICAgICBwYXJlbnRWTm9kZS5kb20gPSBkb207XHJcbiAgICAgICAgICAgIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2RlcyhwYXJlbnRWTm9kZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxudmFyIHJlc29sdmVkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5mdW5jdGlvbiBhZGRUb1F1ZXVlKGNvbXBvbmVudCwgZm9yY2UsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgcXVldWUgPSBjb21wb25lbnRDYWxsYmFja1F1ZXVlLmdldChjb21wb25lbnQpO1xyXG4gICAgaWYgKHF1ZXVlID09PSB2b2lkIDApIHtcclxuICAgICAgICBxdWV1ZSA9IFtdO1xyXG4gICAgICAgIGNvbXBvbmVudENhbGxiYWNrUXVldWUuc2V0KGNvbXBvbmVudCwgcXVldWUpO1xyXG4gICAgICAgIHJlc29sdmVkUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50Q2FsbGJhY2tRdWV1ZS5kZWxldGUoY29tcG9uZW50KTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmb3JjZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHF1ZXVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVbaV0uY2FsbChjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2FsbGJhY2spKSB7XHJcbiAgICAgICAgcXVldWUucHVzaChjYWxsYmFjayk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVTdGF0ZUNoYW5nZXMoY29tcG9uZW50LCBuZXdTdGF0ZSwgY2FsbGJhY2spIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24obmV3U3RhdGUpKSB7XHJcbiAgICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZShjb21wb25lbnQuc3RhdGUsIGNvbXBvbmVudC5wcm9wcywgY29tcG9uZW50LmNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgdmFyIHBlbmRpbmcgPSBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZTtcclxuICAgIGlmIChwZW5kaW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBwZW5kaW5nID0gbmV3U3RhdGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmb3IgKHZhciBzdGF0ZUtleSBpbiBuZXdTdGF0ZSkge1xyXG4gICAgICAgICAgICBwZW5kaW5nW3N0YXRlS2V5XSA9IG5ld1N0YXRlW3N0YXRlS2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgJiYgIWNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlICYmICFjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgaWYgKCFjb21wb25lbnQuX3VwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmYWxzZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhZGRUb1F1ZXVlKGNvbXBvbmVudCwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgc3RhdGUgPSBjb21wb25lbnQuc3RhdGU7XHJcbiAgICAgICAgaWYgKHN0YXRlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IHBlbmRpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgc3RhdGVba2V5XSA9IHBlbmRpbmdba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2FsbGJhY2spICYmIGNvbXBvbmVudC5fYmxvY2tSZW5kZXIpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll9saWZlY3ljbGUuYWRkTGlzdGVuZXIoY2FsbGJhY2suYmluZChjb21wb25lbnQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlTdGF0ZShjb21wb25lbnQsIGZvcmNlLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKGNvbXBvbmVudC5fdW5tb3VudGVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGZvcmNlIHx8ICFjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgcGVuZGluZ1N0YXRlID0gY29tcG9uZW50Ll9wZW5kaW5nU3RhdGU7XHJcbiAgICAgICAgdmFyIHByZXZTdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZTtcclxuICAgICAgICB2YXIgbmV4dFN0YXRlID0gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShwcmV2U3RhdGUsIHBlbmRpbmdTdGF0ZSk7XHJcbiAgICAgICAgdmFyIHByb3BzID0gY29tcG9uZW50LnByb3BzO1xyXG4gICAgICAgIHZhciBjb250ZXh0XzEgPSBjb21wb25lbnQuY29udGV4dDtcclxuICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIG5leHRJbnB1dCA9IGNvbXBvbmVudC5fdXBkYXRlQ29tcG9uZW50KHByZXZTdGF0ZSwgbmV4dFN0YXRlLCBwcm9wcywgcHJvcHMsIGNvbnRleHRfMSwgZm9yY2UsIHRydWUpO1xyXG4gICAgICAgIHZhciBkaWRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIG5leHRJbnB1dCA9IGluZmVybm9fMS5jcmVhdGVWTm9kZSg0MDk2IC8qIFZvaWQgKi8sIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuZXh0SW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICAgICAgbmV4dElucHV0ID0gY29tcG9uZW50Ll9sYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgIGRpZFVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBuZXh0SW5wdXQgPSBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoMSAvKiBUZXh0ICovLCBudWxsLCBudWxsLCBuZXh0SW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxhc3RJbnB1dCA9IGNvbXBvbmVudC5fbGFzdElucHV0O1xyXG4gICAgICAgIHZhciB2Tm9kZSA9IGNvbXBvbmVudC5fdk5vZGU7XHJcbiAgICAgICAgdmFyIHBhcmVudERvbSA9IChsYXN0SW5wdXQuZG9tICYmIGxhc3RJbnB1dC5kb20ucGFyZW50Tm9kZSkgfHwgKGxhc3RJbnB1dC5kb20gPSB2Tm9kZS5kb20pO1xyXG4gICAgICAgIGNvbXBvbmVudC5fbGFzdElucHV0ID0gbmV4dElucHV0O1xyXG4gICAgICAgIGlmIChkaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBjb21wb25lbnQuX2NoaWxkQ29udGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dF8xLCBjaGlsZENvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsaWZlQ3ljbGUgPSBjb21wb25lbnQuX2xpZmVjeWNsZTtcclxuICAgICAgICAgICAgaW5mZXJub18xLmludGVybmFsX3BhdGNoKGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVDeWNsZSwgY2hpbGRDb250ZXh0LCBjb21wb25lbnQuX2lzU1ZHLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGxpZmVDeWNsZS50cmlnZ2VyKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZShwcm9wcywgcHJldlN0YXRlLCBjb250ZXh0XzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vXzEub3B0aW9ucy5hZnRlclVwZGF0ZSh2Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRvbSA9IHZOb2RlLmRvbSA9IG5leHRJbnB1dC5kb207XHJcbiAgICAgICAgaWYgKGluZmVybm9fMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpbmZlcm5vXzEuaW50ZXJuYWxfRE9NTm9kZU1hcC5zZXQoY29tcG9uZW50LCBuZXh0SW5wdXQuZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlUGFyZW50Q29tcG9uZW50Vk5vZGVzKHZOb2RlLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29tcG9uZW50LnN0YXRlID0gY29tcG9uZW50Ll9wZW5kaW5nU3RhdGU7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2FsbGJhY2spKSB7XHJcbiAgICAgICAgY2FsbGJhY2suY2FsbChjb21wb25lbnQpO1xyXG4gICAgfVxyXG59XHJcbnZhciBhbHJlYWR5V2FybmVkID0gZmFsc2U7XHJcbnZhciBDb21wb25lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fYmxvY2tSZW5kZXIgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9ibG9ja1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9wZW5kaW5nU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2xhc3RJbnB1dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fdk5vZGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3VubW91bnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2xpZmVjeWNsZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fY2hpbGRDb250ZXh0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9pc1NWRyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAvKiogQHR5cGUge29iamVjdH0gKi9cclxuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHMgfHwgaW5mZXJub18xLkVNUFRZX09CSjtcclxuICAgICAgICAvKiogQHR5cGUge29iamVjdH0gKi9cclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0IHx8IGluZmVybm9fMS5FTVBUWV9PQko7IC8vIGNvbnRleHQgc2hvdWxkIG5vdCBiZSBtdXRhYmxlXHJcbiAgICB9XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3VubW91bnRlZCB8fCAhaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcHBseVN0YXRlKHRoaXMsIHRydWUsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl91bm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuX2Jsb2NrU2V0U3RhdGUpIHtcclxuICAgICAgICAgICAgcXVldWVTdGF0ZUNoYW5nZXModGhpcywgbmV3U3RhdGUsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2Nhbm5vdCB1cGRhdGUgc3RhdGUgdmlhIHNldFN0YXRlKCkgaW4gY29tcG9uZW50V2lsbFVwZGF0ZSgpIG9yIGNvbnN0cnVjdG9yLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlU3luYyA9IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmICghYWxyZWFkeVdhcm5lZCkge1xyXG4gICAgICAgICAgICAgICAgYWxyZWFkeVdhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0luZmVybm8gV0FSTklORzogc2V0U3RhdGVTeW5jIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IHJlbGVhc2UuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuX3VwZGF0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcHJldlByb3BzLCBuZXh0UHJvcHMsIGNvbnRleHQsIGZvcmNlLCBmcm9tU2V0U3RhdGUpIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5tb3VudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3Iobm9PcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJldlByb3BzICE9PSBuZXh0UHJvcHMgfHwgbmV4dFByb3BzID09PSBpbmZlcm5vXzEuRU1QVFlfT0JKKSB8fCBwcmV2U3RhdGUgIT09IG5leHRTdGF0ZSB8fCBmb3JjZSkge1xyXG4gICAgICAgICAgICBpZiAocHJldlByb3BzICE9PSBuZXh0UHJvcHMgfHwgbmV4dFByb3BzID09PSBpbmZlcm5vXzEuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQodGhpcy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSAmJiAhZnJvbVNldFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxvY2tSZW5kZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NldFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlID0gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShuZXh0U3RhdGUsIHRoaXMuX3BlbmRpbmdTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBVcGRhdGUgaWYgc2N1IGlzIG5vdCBkZWZpbmVkLCBvciBpdCByZXR1cm5zIHRydXRoeSB2YWx1ZSBvciBmb3JjZSAqL1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZCh0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSkgfHwgdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpIHx8IGZvcmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQodGhpcy5jb21wb25lbnRXaWxsVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxvY2tTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fMS5vcHRpb25zLmJlZm9yZVJlbmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fMS5vcHRpb25zLmJlZm9yZVJlbmRlcih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciByZW5kZXIgPSB0aGlzLnJlbmRlcihuZXh0UHJvcHMsIG5leHRTdGF0ZSwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vXzEub3B0aW9ucy5hZnRlclJlbmRlcih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzID0gbmV4dFByb3BzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fc2hhcmVkXzEuTk9fT1A7XHJcbiAgICB9O1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQpIHsgfTtcclxuICAgIHJldHVybiBDb21wb25lbnQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IENvbXBvbmVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tY29tcG9uZW50L2Rpc3QvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSByZXF1aXJlKFwiaW5mZXJub1wiKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBjb21wb25lbnRIb29rcyA9IG5ldyBTZXQoKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudFdpbGxNb3VudCcpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50RGlkTW91bnQnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudFdpbGxVbm1vdW50Jyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRTaG91bGRVcGRhdGUnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudFdpbGxVcGRhdGUnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudERpZFVwZGF0ZScpO1xyXG4vKipcclxuICogQ3JlYXRlcyB2aXJ0dWFsIG5vZGVcclxuICogQHBhcmFtIHtzdHJpbmd8RnVuY3Rpb258Q29tcG9uZW50PGFueSwgYW55Pn0gdHlwZSBUeXBlIG9mIG5vZGVcclxuICogQHBhcmFtIHtvYmplY3Q9fSBwcm9wcyBPcHRpb25hbCBwcm9wcyBmb3IgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7Li4ue29iamVjdH09fSBfY2hpbGRyZW4gT3B0aW9uYWwgY2hpbGRyZW4gZm9yIHZpcnR1YWwgbm9kZVxyXG4gKiBAcmV0dXJucyB7Vk5vZGV9IG5ldyB2aXJ0dWFsIG5kb2VcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgcHJvcHMpIHtcclxuICAgIHZhciBfY2hpbGRyZW4gPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgX2NoaWxkcmVuW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKHR5cGUpIHx8IGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QodHlwZSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmVybm8gRXJyb3I6IGNyZWF0ZUVsZW1lbnQoKSBuYW1lIHBhcmFtZXRlciBjYW5ub3QgYmUgdW5kZWZpbmVkLCBudWxsLCBmYWxzZSBvciB0cnVlLCBJdCBtdXN0IGJlIGEgc3RyaW5nLCBjbGFzcyBvciBmdW5jdGlvbi4nKTtcclxuICAgIH1cclxuICAgIHZhciBjaGlsZHJlbiA9IF9jaGlsZHJlbjtcclxuICAgIHZhciByZWYgPSBudWxsO1xyXG4gICAgdmFyIGtleSA9IG51bGw7XHJcbiAgICB2YXIgY2xhc3NOYW1lID0gbnVsbDtcclxuICAgIHZhciBmbGFncyA9IDA7XHJcbiAgICB2YXIgbmV3UHJvcHM7XHJcbiAgICBpZiAoX2NoaWxkcmVuKSB7XHJcbiAgICAgICAgaWYgKF9jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfY2hpbGRyZW5bMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKF9jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSB2b2lkIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcodHlwZSkpIHtcclxuICAgICAgICBmbGFncyA9IGluZmVybm9fMS5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSh0eXBlKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcykpIHtcclxuICAgICAgICAgICAgbmV3UHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdjbGFzc05hbWUnIHx8IHByb3AgPT09ICdjbGFzcycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdrZXknKSB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2NoaWxkcmVuJyAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47IC8vIGFsd2F5cyBmYXZvdXIgY2hpbGRyZW4gYXJncywgZGVmYXVsdCB0byBwcm9wc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ3JlZicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYgPSBwcm9wcy5yZWY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1twcm9wXSA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmxhZ3MgPSAxNiAvKiBDb21wb25lbnRVbmtub3duICovO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgaWYgKCFwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzKSkge1xyXG4gICAgICAgICAgICBuZXdQcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50SG9va3MuaGFzKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZltwcm9wXSA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2tleScpIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXkgPSBwcm9wcy5rZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1twcm9wXSA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluZmVybm9fMS5jcmVhdGVWTm9kZShmbGFncywgdHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgbmV3UHJvcHMsIGtleSwgcmVmKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVFbGVtZW50O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1jcmVhdGUtZWxlbWVudC9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBMaW5rXzEgPSByZXF1aXJlKFwiLi9MaW5rXCIpO1xyXG5mdW5jdGlvbiBJbmRleExpbmsocHJvcHMpIHtcclxuICAgIHByb3BzLnRvID0gJy8nO1xyXG4gICAgcmV0dXJuIGluZmVybm9fMS5jcmVhdGVWTm9kZSg4IC8qIENvbXBvbmVudEZ1bmN0aW9uICovLCBMaW5rXzEuZGVmYXVsdCwgbnVsbCwgbnVsbCwgcHJvcHMpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEluZGV4TGluaztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvSW5kZXhMaW5rLmpzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJvdXRlXzEgPSByZXF1aXJlKFwiLi9Sb3V0ZVwiKTtcclxudmFyIEluZGV4Um91dGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEluZGV4Um91dGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBJbmRleFJvdXRlKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgcHJvcHMucGF0aCA9ICcvJztcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSW5kZXhSb3V0ZTtcclxufShSb3V0ZV8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXhSb3V0ZTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvSW5kZXhSb3V0ZS5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbnZhciBSZWRpcmVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVkaXJlY3QsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWRpcmVjdChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIGlmICghcHJvcHMudG8pIHtcclxuICAgICAgICAgICAgcHJvcHMudG8gPSAnLyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBSZWRpcmVjdDtcclxufShSb3V0ZV8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUmVkaXJlY3Q7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L1JlZGlyZWN0LmpzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IHJlcXVpcmUoXCJpbmZlcm5vXCIpO1xyXG52YXIgaW5mZXJub19jb21wb25lbnRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLWNvbXBvbmVudFwiKTtcclxudmFyIG1hdGNoXzEgPSByZXF1aXJlKFwiLi9tYXRjaFwiKTtcclxudmFyIFJvdXRlckNvbnRleHRfMSA9IHJlcXVpcmUoXCIuL1JvdXRlckNvbnRleHRcIik7XHJcbmZ1bmN0aW9uIGNyZWF0ZXJSb3V0ZXIoaGlzdG9yeSkge1xyXG4gICAgaWYgKCFoaXN0b3J5KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5mZXJubzogRXJyb3IgXCJpbmZlcm5vLXJvdXRlclwiIHJlcXVpcmVzIGEgaGlzdG9yeSBwcm9wIHBhc3NlZCcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjcmVhdGVIcmVmOiBoaXN0b3J5LmNyZWF0ZUhyZWYsXHJcbiAgICAgICAgbGlzdGVuOiBoaXN0b3J5Lmxpc3RlbixcclxuICAgICAgICBwdXNoOiBoaXN0b3J5LnB1c2gsXHJcbiAgICAgICAgcmVwbGFjZTogaGlzdG9yeS5yZXBsYWNlLFxyXG4gICAgICAgIGlzQWN0aXZlOiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaF8xLm1hdGNoUGF0aCh0cnVlLCB1cmwsIHRoaXMudXJsKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBsb2NhdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWUgIT09ICdibGFuaycgPyBoaXN0b3J5LmxvY2F0aW9uIDoge1xyXG4gICAgICAgICAgICAgICAgcGF0aG5hbWU6ICcvJyxcclxuICAgICAgICAgICAgICAgIHNlYXJjaDogJydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCB1cmwoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lICsgdGhpcy5sb2NhdGlvbi5zZWFyY2g7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG52YXIgUm91dGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZXIocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5yb3V0ZXIgPSBjcmVhdGVyUm91dGVyKHByb3BzLmhpc3RvcnkpO1xyXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB1cmw6IHByb3BzLnVybCB8fCBfdGhpcy5yb3V0ZXIudXJsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnJvdXRlcikge1xyXG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuID0gdGhpcy5yb3V0ZXIubGlzdGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJvdXRlVG8oX3RoaXMucm91dGVyLnVybCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXJsOiBuZXh0UHJvcHMudXJsIH0sIHRoaXMucHJvcHMub25VcGRhdGUgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wcm9wcy5vblVwZGF0ZSgpOyB9IDogdm9pZCAwKTtcclxuICAgIH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnVubGlzdGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5yb3V0ZVRvID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogdXJsIH0sIHRoaXMucHJvcHMub25VcGRhdGUgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wcm9wcy5vblVwZGF0ZSgpOyB9IDogdm9pZCAwKTtcclxuICAgIH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGhpdCA9IG1hdGNoXzEuZGVmYXVsdChwcm9wcy5jaGlsZHJlbiwgdGhpcy5zdGF0ZS51cmwpO1xyXG4gICAgICAgIGlmIChoaXQucmVkaXJlY3QpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZXIucmVwbGFjZShoaXQucmVkaXJlY3QpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoNCAvKiBDb21wb25lbnRDbGFzcyAqLywgUm91dGVyQ29udGV4dF8xLmRlZmF1bHQsIG51bGwsIG51bGwsIHtcclxuICAgICAgICAgICAgbG9jYXRpb246IHRoaXMuc3RhdGUudXJsLFxyXG4gICAgICAgICAgICBtYXRjaGVkOiBoaXQubWF0Y2hlZCxcclxuICAgICAgICAgICAgcm91dGVyOiB0aGlzLnJvdXRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZXI7XHJcbn0oaW5mZXJub19jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgcGFyc2luZyBwbGFpbiByb3V0ZSBjb25maWd1cmF0aW9uc1xyXG4gKiBiYXNlZCBvbiByZWFjdC1yb3V0ZXIgY3JlYXRlUm91dGVzIGhhbmRsZXIuXHJcbiAqXHJcbiAqIGN1cnJlbnRseSBzdXBwb3J0ZWQga2V5czpcclxuICogLSBwYXRoXHJcbiAqIC0gY29tcG9uZW50XHJcbiAqIC0gY2hpbGRSb3V0ZXNcclxuICogLSBpbmRleFJvdXRlXHJcbiAqXHJcbiAqIFVzYWdlIGV4YW1wbGU6XHJcbiAqIGNvbnN0IHJvdXRlcyA9IGNyZWF0ZVJvdXRlcyhbXHJcbiAqICB7XHJcbiAqICAgIHBhdGggICAgICAgIDogJy8nLFxyXG4gKiAgICBjb21wb25lbnQgICA6IEFwcCxcclxuICogICAgaW5kZXhSb3V0ZSAgOiB7XHJcbiAqICAgICAgY29tcG9uZW50ICAgICA6IEhvbWUsXHJcbiAqICAgIH0sXHJcbiAqICAgIGNoaWxkUm91dGVzIDogW1xyXG4gKiAgICAgIHtcclxuICogICAgICAgIHBhdGggOiAnZmlsbXMvJyxcclxuICogICAgICAgIGNvbXBvbmVudCA6IEZpbG1zLFxyXG4gKiAgICAgICAgY2hpbGRSb3V0ZXMgOiB7XHJcbiAqICAgICAgICAgIHBhdGggOiAnZGV0YWlsLzppZCcsXHJcbiAqICAgICAgICAgIGNvbXBvbmVudCA6IEZpbG1EZXRhaWwsXHJcbiAqICAgICAgICB9XHJcbiAqICAgICAgfSxcclxuICogICAgICB7XHJcbiAqICAgICAgICBwYXRoIDogJy8qJyxcclxuICogICAgICAgIGNvbXBvbmVudCA6IE5vTWF0Y2hcclxuICogICAgICB9XHJcbiAqICAgIF1cclxuICogIH1cclxuICogXSk7XHJcbiAqXHJcbiAqIFVzYWdlIG9uIFJvdXRlciBKU1hcclxuICogPFJvdXRlciBoaXN0b3J5PXticm93c2VySGlzdG9yeX0gY2hpbGRyZW49e3JvdXRlc30gLz5cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLWNyZWF0ZS1lbGVtZW50XCIpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIFJvdXRlXzEgPSByZXF1aXJlKFwiLi9Sb3V0ZVwiKTtcclxudmFyIGhhbmRsZUluZGV4Um91dGUgPSBmdW5jdGlvbiAoaW5kZXhSb3V0ZU5vZGUpIHsgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgaW5kZXhSb3V0ZU5vZGUpOyB9O1xyXG52YXIgaGFuZGxlQ2hpbGRSb3V0ZSA9IGZ1bmN0aW9uIChjaGlsZFJvdXRlTm9kZSkgeyByZXR1cm4gaGFuZGxlUm91dGVOb2RlKGNoaWxkUm91dGVOb2RlKTsgfTtcclxudmFyIGhhbmRsZUNoaWxkUm91dGVzID0gZnVuY3Rpb24gKGNoaWxkUm91dGVOb2RlcykgeyByZXR1cm4gY2hpbGRSb3V0ZU5vZGVzLm1hcChoYW5kbGVDaGlsZFJvdXRlKTsgfTtcclxuZnVuY3Rpb24gaGFuZGxlUm91dGVOb2RlKHJvdXRlQ29uZmlnTm9kZSkge1xyXG4gICAgaWYgKHJvdXRlQ29uZmlnTm9kZS5pbmRleFJvdXRlICYmICFyb3V0ZUNvbmZpZ05vZGUuY2hpbGRSb3V0ZXMpIHtcclxuICAgICAgICByZXR1cm4gaW5mZXJub19jcmVhdGVfZWxlbWVudF8xLmRlZmF1bHQoUm91dGVfMS5kZWZhdWx0LCByb3V0ZUNvbmZpZ05vZGUpO1xyXG4gICAgfVxyXG4gICAgLy8gY3JlYXRlIGRlZXAgY29weSBvZiBjb25maWdcclxuICAgIHZhciBub2RlID0ge307XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gcm91dGVDb25maWdOb2RlKSB7XHJcbiAgICAgICAgbm9kZVtrZXldID0gcm91dGVDb25maWdOb2RlW2tleV07XHJcbiAgICB9XHJcbiAgICBub2RlLmNoaWxkcmVuID0gW107XHJcbiAgICAvLyBoYW5kbGUgaW5kZXggcm91dGUgY29uZmlnXHJcbiAgICBpZiAobm9kZS5pbmRleFJvdXRlKSB7XHJcbiAgICAgICAgbm9kZS5jaGlsZHJlbi5wdXNoKGhhbmRsZUluZGV4Um91dGUobm9kZS5pbmRleFJvdXRlKSk7XHJcbiAgICAgICAgZGVsZXRlIG5vZGUuaW5kZXhSb3V0ZTtcclxuICAgIH1cclxuICAgIC8vIGhhbmRsZSBjaGlsZCByb3V0ZXMgY29uZmlnXHJcbiAgICBpZiAobm9kZS5jaGlsZFJvdXRlcykge1xyXG4gICAgICAgIHZhciBub2RlcyA9IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShub2RlLmNoaWxkUm91dGVzKSA/IG5vZGUuY2hpbGRSb3V0ZXMgOiBbbm9kZS5jaGlsZFJvdXRlc107XHJcbiAgICAgICAgKF9hID0gbm9kZS5jaGlsZHJlbikucHVzaC5hcHBseShfYSwgaGFuZGxlQ2hpbGRSb3V0ZXMobm9kZXMpKTtcclxuICAgICAgICBkZWxldGUgbm9kZS5jaGlsZFJvdXRlcztcclxuICAgIH1cclxuICAgIC8vIGNsZWFudXAgdG8gbWF0Y2ggbmF0aXZlIHJlbmRlcmVkIHJlc3VsdFxyXG4gICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgbm9kZS5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW5bMF07XHJcbiAgICB9XHJcbiAgICBpZiAoKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgfHxcclxuICAgICAgICAoIWluZmVybm9fc2hhcmVkXzEuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJiBPYmplY3Qua2V5cyhub2RlLmNoaWxkcmVuKS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5mZXJub19jcmVhdGVfZWxlbWVudF8xLmRlZmF1bHQoUm91dGVfMS5kZWZhdWx0LCBub2RlKTtcclxuICAgIHZhciBfYTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocm91dGVDb25maWcpIHsgcmV0dXJuIHJvdXRlQ29uZmlnLm1hcChoYW5kbGVSb3V0ZU5vZGUpOyB9O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9jcmVhdGVSb3V0ZXMuanNcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjcmVhdGVSb3V0ZXNfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZVJvdXRlc1wiKTtcclxuZXhwb3J0cy5jcmVhdGVSb3V0ZXMgPSBjcmVhdGVSb3V0ZXNfMS5kZWZhdWx0O1xyXG52YXIgSW5kZXhMaW5rXzEgPSByZXF1aXJlKFwiLi9JbmRleExpbmtcIik7XHJcbmV4cG9ydHMuSW5kZXhMaW5rID0gSW5kZXhMaW5rXzEuZGVmYXVsdDtcclxudmFyIEluZGV4Um91dGVfMSA9IHJlcXVpcmUoXCIuL0luZGV4Um91dGVcIik7XHJcbmV4cG9ydHMuSW5kZXhSb3V0ZSA9IEluZGV4Um91dGVfMS5kZWZhdWx0O1xyXG52YXIgTGlua18xID0gcmVxdWlyZShcIi4vTGlua1wiKTtcclxuZXhwb3J0cy5MaW5rID0gTGlua18xLmRlZmF1bHQ7XHJcbnZhciBtYXRjaF8xID0gcmVxdWlyZShcIi4vbWF0Y2hcIik7XHJcbmV4cG9ydHMubWF0Y2ggPSBtYXRjaF8xLmRlZmF1bHQ7XHJcbnZhciBSZWRpcmVjdF8xID0gcmVxdWlyZShcIi4vUmVkaXJlY3RcIik7XHJcbmV4cG9ydHMuUmVkaXJlY3QgPSBSZWRpcmVjdF8xLmRlZmF1bHQ7XHJcbmV4cG9ydHMuSW5kZXhSZWRpcmVjdCA9IFJlZGlyZWN0XzEuZGVmYXVsdDtcclxudmFyIFJvdXRlXzEgPSByZXF1aXJlKFwiLi9Sb3V0ZVwiKTtcclxuZXhwb3J0cy5Sb3V0ZSA9IFJvdXRlXzEuZGVmYXVsdDtcclxudmFyIFJvdXRlcl8xID0gcmVxdWlyZShcIi4vUm91dGVyXCIpO1xyXG5leHBvcnRzLlJvdXRlciA9IFJvdXRlcl8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZXJDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9Sb3V0ZXJDb250ZXh0XCIpO1xyXG5leHBvcnRzLlJvdXRlckNvbnRleHQgPSBSb3V0ZXJDb250ZXh0XzEuZGVmYXVsdDtcclxuZXhwb3J0cy5kZWZhdWx0ID0ge1xyXG4gICAgUm91dGU6IFJvdXRlXzEuZGVmYXVsdCxcclxuICAgIEluZGV4Um91dGU6IEluZGV4Um91dGVfMS5kZWZhdWx0LFxyXG4gICAgUmVkaXJlY3Q6IFJlZGlyZWN0XzEuZGVmYXVsdCxcclxuICAgIEluZGV4UmVkaXJlY3Q6IFJlZGlyZWN0XzEuZGVmYXVsdCxcclxuICAgIFJvdXRlcjogUm91dGVyXzEuZGVmYXVsdCxcclxuICAgIFJvdXRlckNvbnRleHQ6IFJvdXRlckNvbnRleHRfMS5kZWZhdWx0LFxyXG4gICAgTGluazogTGlua18xLmRlZmF1bHQsXHJcbiAgICBJbmRleExpbms6IEluZGV4TGlua18xLmRlZmF1bHQsXHJcbiAgICBtYXRjaDogbWF0Y2hfMS5kZWZhdWx0LFxyXG4gICAgY3JlYXRlUm91dGVzOiBjcmVhdGVSb3V0ZXNfMS5kZWZhdWx0XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLk5PX09QID0gJyROT19PUCc7XHJcbmV4cG9ydHMuRVJST1JfTVNHID0gJ2EgcnVudGltZSBlcnJvciBvY2N1cmVkISBVc2UgSW5mZXJubyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudCB0byBmaW5kIHRoZSBlcnJvci4nO1xyXG4vLyBUaGlzIHNob3VsZCBiZSBib29sZWFuIGFuZCBub3QgcmVmZXJlbmNlIHRvIHdpbmRvdy5kb2N1bWVudFxyXG5leHBvcnRzLmlzQnJvd3NlciA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCk7XHJcbmZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcclxuICAgIHJldHVybiBleHBvcnRzLmlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4gOiAoY2hpbGRyZW4gPyBbY2hpbGRyZW5dIDogY2hpbGRyZW4pO1xyXG59XHJcbmV4cG9ydHMudG9BcnJheSA9IHRvQXJyYXk7XHJcbi8vIHRoaXMgaXMgTVVDSCBmYXN0ZXIgdGhhbiAuY29uc3RydWN0b3IgPT09IEFycmF5IGFuZCBpbnN0YW5jZW9mIEFycmF5XHJcbi8vIGluIE5vZGUgNyBhbmQgdGhlIGxhdGVyIHZlcnNpb25zIG9mIFY4LCBzbG93ZXIgaW4gb2xkZXIgdmVyc2lvbnMgdGhvdWdoXHJcbmV4cG9ydHMuaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XHJcbmZ1bmN0aW9uIGlzU3RhdGVmdWxDb21wb25lbnQobykge1xyXG4gICAgcmV0dXJuICFpc1VuZGVmaW5lZChvLnByb3RvdHlwZSkgJiYgIWlzVW5kZWZpbmVkKG8ucHJvdG90eXBlLnJlbmRlcik7XHJcbn1cclxuZXhwb3J0cy5pc1N0YXRlZnVsQ29tcG9uZW50ID0gaXNTdGF0ZWZ1bENvbXBvbmVudDtcclxuZnVuY3Rpb24gaXNTdHJpbmdPck51bWJlcihvKSB7XHJcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBvO1xyXG4gICAgcmV0dXJuIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdudW1iZXInO1xyXG59XHJcbmV4cG9ydHMuaXNTdHJpbmdPck51bWJlciA9IGlzU3RyaW5nT3JOdW1iZXI7XHJcbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWYobykge1xyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKG8pIHx8IGlzTnVsbChvKTtcclxufVxyXG5leHBvcnRzLmlzTnVsbE9yVW5kZWYgPSBpc051bGxPclVuZGVmO1xyXG5mdW5jdGlvbiBpc0ludmFsaWQobykge1xyXG4gICAgcmV0dXJuIGlzTnVsbChvKSB8fCBvID09PSBmYWxzZSB8fCBpc1RydWUobykgfHwgaXNVbmRlZmluZWQobyk7XHJcbn1cclxuZXhwb3J0cy5pc0ludmFsaWQgPSBpc0ludmFsaWQ7XHJcbmZ1bmN0aW9uIGlzRnVuY3Rpb24obykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nO1xyXG59XHJcbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XHJcbmZ1bmN0aW9uIGlzU3RyaW5nKG8pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ3N0cmluZyc7XHJcbn1cclxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xyXG5mdW5jdGlvbiBpc051bWJlcihvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdudW1iZXInO1xyXG59XHJcbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcclxuZnVuY3Rpb24gaXNOdWxsKG8pIHtcclxuICAgIHJldHVybiBvID09PSBudWxsO1xyXG59XHJcbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xyXG5mdW5jdGlvbiBpc1RydWUobykge1xyXG4gICAgcmV0dXJuIG8gPT09IHRydWU7XHJcbn1cclxuZXhwb3J0cy5pc1RydWUgPSBpc1RydWU7XHJcbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG8pIHtcclxuICAgIHJldHVybiBvID09PSB2b2lkIDA7XHJcbn1cclxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xyXG5mdW5jdGlvbiBpc09iamVjdChvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnO1xyXG59XHJcbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcclxuZnVuY3Rpb24gdGhyb3dFcnJvcihtZXNzYWdlKSB7XHJcbiAgICBpZiAoIW1lc3NhZ2UpIHtcclxuICAgICAgICBtZXNzYWdlID0gZXhwb3J0cy5FUlJPUl9NU0c7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmZlcm5vIEVycm9yOiBcIiArIG1lc3NhZ2UpO1xyXG59XHJcbmV4cG9ydHMudGhyb3dFcnJvciA9IHRocm93RXJyb3I7XHJcbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xyXG4gICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xyXG59XHJcbmV4cG9ydHMud2FybmluZyA9IHdhcm5pbmc7XHJcbmZ1bmN0aW9uIGNvbWJpbmVGcm9tKGZpcnN0LCBzZWNvbmQpIHtcclxuICAgIHZhciBvdXQgPSB7fTtcclxuICAgIGlmIChmaXJzdCkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBmaXJzdCkge1xyXG4gICAgICAgICAgICBvdXRba2V5XSA9IGZpcnN0W2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNlY29uZCkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzZWNvbmQpIHtcclxuICAgICAgICAgICAgb3V0W2tleV0gPSBzZWNvbmRba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG59XHJcbmV4cG9ydHMuY29tYmluZUZyb20gPSBjb21iaW5lRnJvbTtcclxuZnVuY3Rpb24gTGlmZWN5Y2xlKCkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxufVxyXG5leHBvcnRzLkxpZmVjeWNsZSA9IExpZmVjeWNsZTtcclxuTGlmZWN5Y2xlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxufTtcclxuTGlmZWN5Y2xlLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gdHJpZ2dlcigpIHtcclxuICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycztcclxuICAgIHZhciBsaXN0ZW5lcjtcclxuICAgIC8vIFdlIG5lZWQgdG8gcmVtb3ZlIGN1cnJlbnQgbGlzdGVuZXIgZnJvbSBhcnJheSB3aGVuIGNhbGxpbmcgaXQsIGJlY2F1c2UgbW9yZSBsaXN0ZW5lcnMgbWlnaHQgYmUgYWRkZWRcclxuICAgIHdoaWxlIChsaXN0ZW5lciA9IGxpc3RlbmVycy5zaGlmdCgpKSB7XHJcbiAgICAgICAgbGlzdGVuZXIoKTtcclxuICAgIH1cclxufTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tc2hhcmVkL2Rpc3QvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDQzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgaXNpT1MgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3NlciAmJiAhIW5hdmlnYXRvci5wbGF0Zm9ybSAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xyXG52YXIgZGVsZWdhdGVkRXZlbnRzID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBoYW5kbGVFdmVudChuYW1lLCBsYXN0RXZlbnQsIG5leHRFdmVudCwgZG9tKSB7XHJcbiAgICB2YXIgZGVsZWdhdGVkUm9vdHMgPSBkZWxlZ2F0ZWRFdmVudHMuZ2V0KG5hbWUpO1xyXG4gICAgaWYgKG5leHRFdmVudCkge1xyXG4gICAgICAgIGlmICghZGVsZWdhdGVkUm9vdHMpIHtcclxuICAgICAgICAgICAgZGVsZWdhdGVkUm9vdHMgPSB7IGl0ZW1zOiBuZXcgTWFwKCksIGRvY0V2ZW50OiBudWxsIH07XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZFJvb3RzLmRvY0V2ZW50ID0gYXR0YWNoRXZlbnRUb0RvY3VtZW50KG5hbWUsIGRlbGVnYXRlZFJvb3RzKTtcclxuICAgICAgICAgICAgZGVsZWdhdGVkRXZlbnRzLnNldChuYW1lLCBkZWxlZ2F0ZWRSb290cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGFzdEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpc2lPUyAmJiBuYW1lID09PSAnb25DbGljaycpIHtcclxuICAgICAgICAgICAgICAgIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZWdhdGVkUm9vdHMuaXRlbXMuc2V0KGRvbSwgbmV4dEV2ZW50KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGRlbGVnYXRlZFJvb3RzKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gZGVsZWdhdGVkUm9vdHMuaXRlbXM7XHJcbiAgICAgICAgaWYgKGl0ZW1zLmRlbGV0ZShkb20pKSB7XHJcbiAgICAgICAgICAgIC8vIElmIGFueSBpdGVtcyB3ZXJlIGRlbGV0ZWQsIGNoZWNrIGlmIGxpc3RlbmVyIG5lZWQgdG8gYmUgcmVtb3ZlZFxyXG4gICAgICAgICAgICBpZiAoaXRlbXMuc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihub3JtYWxpemVFdmVudE5hbWUobmFtZSksIGRlbGVnYXRlZFJvb3RzLmRvY0V2ZW50KTtcclxuICAgICAgICAgICAgICAgIGRlbGVnYXRlZEV2ZW50cy5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5oYW5kbGVFdmVudCA9IGhhbmRsZUV2ZW50O1xyXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50LCB0YXJnZXQsIGl0ZW1zLCBjb3VudCwgaXNDbGljaywgZXZlbnREYXRhKSB7XHJcbiAgICB2YXIgZXZlbnRzVG9UcmlnZ2VyID0gaXRlbXMuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoZXZlbnRzVG9UcmlnZ2VyKSB7XHJcbiAgICAgICAgY291bnQtLTtcclxuICAgICAgICAvLyBsaW5rRXZlbnQgb2JqZWN0XHJcbiAgICAgICAgZXZlbnREYXRhLmRvbSA9IHRhcmdldDtcclxuICAgICAgICBpZiAoZXZlbnRzVG9UcmlnZ2VyLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1RvVHJpZ2dlci5ldmVudChldmVudHNUb1RyaWdnZXIuZGF0YSwgZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRzVG9UcmlnZ2VyKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgICAgIHZhciBwYXJlbnREb20gPSB0YXJnZXQucGFyZW50Tm9kZTtcclxuICAgICAgICAvLyBIdG1sIE5vZGVzIGNhbiBiZSBuZXN0ZWQgZmU6IHNwYW4gaW5zaWRlIGJ1dHRvbiBpbiB0aGF0IHNjZW5hcmlvIGJyb3dzZXIgZG9lcyBub3QgaGFuZGxlIGRpc2FibGVkIGF0dHJpYnV0ZSBvbiBwYXJlbnQsXHJcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgZXZlbnQgbGlzdGVuZXIgaXMgb24gZG9jdW1lbnQuYm9keVxyXG4gICAgICAgIC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzXHJcbiAgICAgICAgaWYgKHBhcmVudERvbSA9PT0gbnVsbCB8fCAoaXNDbGljayAmJiBwYXJlbnREb20ubm9kZVR5cGUgPT09IDEgJiYgcGFyZW50RG9tLmRpc2FibGVkKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQsIHBhcmVudERvbSwgaXRlbXMsIGNvdW50LCBpc0NsaWNrLCBldmVudERhdGEpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50TmFtZShuYW1lKSB7XHJcbiAgICByZXR1cm4gbmFtZS5zdWJzdHIoMikudG9Mb3dlckNhc2UoKTtcclxufVxyXG5mdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XHJcbiAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICB0aGlzLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG59XHJcbmZ1bmN0aW9uIGF0dGFjaEV2ZW50VG9Eb2N1bWVudChuYW1lLCBkZWxlZ2F0ZWRSb290cykge1xyXG4gICAgdmFyIGRvY0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gZGVsZWdhdGVkUm9vdHMuaXRlbXMuc2l6ZTtcclxuICAgICAgICBpZiAoY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjtcclxuICAgICAgICAgICAgLy8gRXZlbnQgZGF0YSBuZWVkcyB0byBiZSBvYmplY3QgdG8gc2F2ZSByZWZlcmVuY2UgdG8gY3VycmVudFRhcmdldCBnZXR0ZXJcclxuICAgICAgICAgICAgdmFyIGV2ZW50RGF0YV8xID0ge1xyXG4gICAgICAgICAgICAgICAgZG9tOiBkb2N1bWVudFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAnY3VycmVudFRhcmdldCcsIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudERhdGFfMS5kb207XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KGV2ZW50LCBldmVudC50YXJnZXQsIGRlbGVnYXRlZFJvb3RzLml0ZW1zLCBjb3VudCwgZXZlbnQudHlwZSA9PT0gJ2NsaWNrJywgZXZlbnREYXRhXzEpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKG5vcm1hbGl6ZUV2ZW50TmFtZShuYW1lKSwgZG9jRXZlbnQpO1xyXG4gICAgcmV0dXJuIGRvY0V2ZW50O1xyXG59XHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eVxyXG5mdW5jdGlvbiBlbXB0eUZuKCkgeyB9XHJcbmZ1bmN0aW9uIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbSkge1xyXG4gICAgLy8gTW9iaWxlIFNhZmFyaSBkb2VzIG5vdCBmaXJlIHByb3Blcmx5IGJ1YmJsZSBjbGljayBldmVudHMgb25cclxuICAgIC8vIG5vbi1pbnRlcmFjdGl2ZSBlbGVtZW50cywgd2hpY2ggbWVhbnMgZGVsZWdhdGVkIGNsaWNrIGxpc3RlbmVycyBkbyBub3RcclxuICAgIC8vIGZpcmUuIFRoZSB3b3JrYXJvdW5kIGZvciB0aGlzIGJ1ZyBpbnZvbHZlcyBhdHRhY2hpbmcgYW4gZW1wdHkgY2xpY2tcclxuICAgIC8vIGxpc3RlbmVyIG9uIHRoZSB0YXJnZXQgbm9kZS5cclxuICAgIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDEwLzA5L2NsaWNrX2V2ZW50X2RlbC5odG1sXHJcbiAgICAvLyBKdXN0IHNldCBpdCB1c2luZyB0aGUgb25jbGljayBwcm9wZXJ0eSBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gbWFuYWdlIGFueVxyXG4gICAgLy8gYm9va2tlZXBpbmcgZm9yIGl0LiBOb3Qgc3VyZSBpZiB3ZSBuZWVkIHRvIGNsZWFyIGl0IHdoZW4gdGhlIGxpc3RlbmVyIGlzXHJcbiAgICAvLyByZW1vdmVkLlxyXG4gICAgLy8gVE9ETzogT25seSBkbyB0aGlzIGZvciB0aGUgcmVsZXZhbnQgU2FmYXJpcyBtYXliZT9cclxuICAgIGRvbS5vbmNsaWNrID0gZW1wdHlGbjtcclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS9ldmVudHMvZGVsZWdhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIExpbmtzIGdpdmVuIGRhdGEgdG8gZXZlbnQgYXMgZmlyc3QgcGFyYW1ldGVyXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBkYXRhIHRvIGJlIGxpbmtlZCwgaXQgd2lsbCBiZSBhdmFpbGFibGUgaW4gZnVuY3Rpb24gYXMgZmlyc3QgcGFyYW1ldGVyXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV2ZW50IEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGV2ZW50IG9jY3Vyc1xyXG4gKiBAcmV0dXJucyB7e2RhdGE6ICosIGV2ZW50OiBGdW5jdGlvbn19XHJcbiAqL1xyXG5mdW5jdGlvbiBsaW5rRXZlbnQoZGF0YSwgZXZlbnQpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IGRhdGEsIGV2ZW50OiBldmVudCB9O1xyXG59XHJcbmV4cG9ydHMubGlua0V2ZW50ID0gbGlua0V2ZW50O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS9ldmVudHMvbGlua0V2ZW50LmpzXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL29wdGlvbnNcIik7XHJcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcclxudmFyIG1vdW50aW5nXzEgPSByZXF1aXJlKFwiLi9tb3VudGluZ1wiKTtcclxudmFyIHBhdGNoaW5nXzEgPSByZXF1aXJlKFwiLi9wYXRjaGluZ1wiKTtcclxudmFyIHJlbmRlcmluZ18xID0gcmVxdWlyZShcIi4vcmVuZGVyaW5nXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL3dyYXBwZXJzL3Byb2Nlc3NFbGVtZW50XCIpO1xyXG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZE5vZGVzKHBhcmVudERvbSkge1xyXG4gICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgd2hpbGUgKGRvbSkge1xyXG4gICAgICAgIGlmIChkb20ubm9kZVR5cGUgPT09IDgpIHtcclxuICAgICAgICAgICAgaWYgKGRvbS5kYXRhID09PSAnIScpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcclxuICAgICAgICAgICAgICAgIHBhcmVudERvbS5yZXBsYWNlQ2hpbGQocGxhY2Vob2xkZXIsIGRvbSk7XHJcbiAgICAgICAgICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdERvbSA9IGRvbS5wcmV2aW91c1NpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICAgICAgICAgIGRvbSA9IGxhc3REb20gfHwgcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemVDaGlsZE5vZGVzID0gbm9ybWFsaXplQ2hpbGROb2RlcztcclxuZnVuY3Rpb24gaHlkcmF0ZUNvbXBvbmVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc0NsYXNzKSB7XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICBpZiAoaXNDbGFzcykge1xyXG4gICAgICAgIHZhciBfaXNTVkcgPSBkb20ubmFtZXNwYWNlVVJJID09PSBjb25zdGFudHNfMS5zdmdOUztcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB1dGlsc18xLmNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2Uodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0LCBfaXNTVkcsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5zdGFuY2UuX2xhc3RJbnB1dDtcclxuICAgICAgICBpbnN0YW5jZS5fdk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCwgX2lzU1ZHKTtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7IC8vIE1vdW50IGZpbmlzaGVkIGFsbG93IGdvaW5nIHN5bmNcclxuICAgICAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5zZXQoaW5zdGFuY2UsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gdXRpbHNfMS5jcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIHZOb2RlLmNoaWxkcmVuID0gaW5wdXQ7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gaW5wdXQuZG9tO1xyXG4gICAgICAgIG1vdW50aW5nXzEubW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlRWxlbWVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IHZOb2RlLmNsYXNzTmFtZTtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIGlzU1ZHID0gaXNTVkcgfHwgKGZsYWdzICYgMTI4IC8qIFN2Z0VsZW1lbnQgKi8pID4gMDtcclxuICAgIGlmIChkb20ubm9kZVR5cGUgIT09IDEgfHwgZG9tLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gdk5vZGUudHlwZSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEud2FybmluZygnSW5mZXJubyBoeWRyYXRpb246IFNlcnZlci1zaWRlIG1hcmt1cCBkb2VzblxcJ3QgbWF0Y2ggY2xpZW50LXNpZGUgbWFya3VwIG9yIEluaXRpYWwgcmVuZGVyIHRhcmdldCBpcyBub3QgZW1wdHknKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG5ld0RvbSA9IG1vdW50aW5nXzEubW91bnRFbGVtZW50KHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBuZXdEb207XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlQ2hpbGQoZG9tLnBhcmVudE5vZGUsIG5ld0RvbSwgZG9tKTtcclxuICAgICAgICByZXR1cm4gbmV3RG9tO1xyXG4gICAgfVxyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgaHlkcmF0ZUNoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgdmFyIGhhc0NvbnRyb2xsZWRWYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpc0Zvcm1FbGVtZW50ID0gKGZsYWdzICYgMzU4NCAvKiBGb3JtRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGhhc0NvbnRyb2xsZWRWYWx1ZSA9IHByb2Nlc3NFbGVtZW50XzEuaXNDb250cm9sbGVkRm9ybUVsZW1lbnQocHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgIC8vIGRvIG5vdCBhZGQgYSBoYXNPd25Qcm9wZXJ0eSBjaGVjayBoZXJlLCBpdCBhZmZlY3RzIHBlcmZvcm1hbmNlXHJcbiAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2hQcm9wKHByb3AsIG51bGwsIHByb3BzW3Byb3BdLCBkb20sIGlzU1ZHLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBwcm9jZXNzRWxlbWVudF8xLnByb2Nlc3NFbGVtZW50KGZsYWdzLCB2Tm9kZSwgZG9tLCBwcm9wcywgdHJ1ZSwgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNsYXNzTmFtZSkpIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlZikge1xyXG4gICAgICAgIG1vdW50aW5nXzEubW91bnRSZWYoZG9tLCByZWYsIGxpZmVjeWNsZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICBub3JtYWxpemVDaGlsZE5vZGVzKHBhcmVudERvbSk7XHJcbiAgICB2YXIgZG9tID0gcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChjaGlsZCkgJiYgaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbSA9IGh5ZHJhdGUoY2hpbGQsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KGNoaWxkLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGlmIChkb20gJiYgZG9tLm5vZGVUeXBlID09PSAzKSB7XHJcbiAgICAgICAgICAgIGlmIChkb20ubm9kZVZhbHVlICE9PSBjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgZG9tLm5vZGVWYWx1ZSA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHBhcmVudERvbS50ZXh0Q29udGVudCA9IGNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGh5ZHJhdGUoY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgfVxyXG4gICAgLy8gY2xlYXIgYW55IG90aGVyIERPTSBub2RlcywgdGhlcmUgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgZW50cnkgZm9yIHRoZSByb290XHJcbiAgICB3aGlsZSAoZG9tKSB7XHJcbiAgICAgICAgdmFyIG5leHRTaWJsaW5nID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb20pO1xyXG4gICAgICAgIGRvbSA9IG5leHRTaWJsaW5nO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVUZXh0KHZOb2RlLCBkb20pIHtcclxuICAgIGlmIChkb20ubm9kZVR5cGUgIT09IDMpIHtcclxuICAgICAgICB2YXIgbmV3RG9tID0gbW91bnRpbmdfMS5tb3VudFRleHQodk5vZGUsIG51bGwpO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IG5ld0RvbTtcclxuICAgICAgICB1dGlsc18xLnJlcGxhY2VDaGlsZChkb20ucGFyZW50Tm9kZSwgbmV3RG9tLCBkb20pO1xyXG4gICAgICAgIHJldHVybiBuZXdEb207XHJcbiAgICB9XHJcbiAgICB2YXIgdGV4dCA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgaWYgKGRvbS5ub2RlVmFsdWUgIT09IHRleHQpIHtcclxuICAgICAgICBkb20ubm9kZVZhbHVlID0gdGV4dDtcclxuICAgIH1cclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVZvaWQodk5vZGUsIGRvbSkge1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlKHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVDb21wb25lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgKGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLykgPiAwKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVFbGVtZW50KHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICByZXR1cm4gaHlkcmF0ZVRleHQodk5vZGUsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDQwOTYgLyogVm9pZCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlVm9pZCh2Tm9kZSwgZG9tKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImh5ZHJhdGUoKSBleHBlY3RzIGEgdmFsaWQgVk5vZGUsIGluc3RlYWQgaXQgcmVjZWl2ZWQgYW4gb2JqZWN0IHdpdGggdGhlIHR5cGUgXFxcIlwiICsgdHlwZW9mIHZOb2RlICsgXCJcXFwiLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVJvb3QoaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB2YXIgZG9tID0gcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChkb20pKSB7XHJcbiAgICAgICAgICAgIGh5ZHJhdGUoaW5wdXQsIGRvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBkb20gPSBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgICAgICAgICAgLy8gY2xlYXIgYW55IG90aGVyIERPTSBub2RlcywgdGhlcmUgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgZW50cnkgZm9yIHRoZSByb290XHJcbiAgICAgICAgICAgIHdoaWxlIChkb20gPSBkb20ubmV4dFNpYmxpbmcpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLmh5ZHJhdGVSb290ID0gaHlkcmF0ZVJvb3Q7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL2h5ZHJhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gNDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xyXG5mdW5jdGlvbiBpc0NoZWNrZWRUeXBlKHR5cGUpIHtcclxuICAgIHJldHVybiB0eXBlID09PSAnY2hlY2tib3gnIHx8IHR5cGUgPT09ICdyYWRpbyc7XHJcbn1cclxuZXhwb3J0cy5pc0NoZWNrZWRUeXBlID0gaXNDaGVja2VkVHlwZTtcclxuZnVuY3Rpb24gb25UZXh0SW5wdXRDaGFuZ2UoZSkge1xyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25JbnB1dCkge1xyXG4gICAgICAgIHZhciBldmVudF8xID0gcHJvcHMub25JbnB1dDtcclxuICAgICAgICBpZiAoZXZlbnRfMS5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8xLmV2ZW50KGV2ZW50XzEuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8xKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uaW5wdXQpIHtcclxuICAgICAgICBwcm9wcy5vbmlucHV0KGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3UHJvcHMsIGRvbSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gd3JhcHBlZE9uQ2hhbmdlKGUpIHtcclxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZXZlbnQgPSBwcm9wcy5vbkNoYW5nZTtcclxuICAgIGlmIChldmVudC5ldmVudCkge1xyXG4gICAgICAgIGV2ZW50LmV2ZW50KGV2ZW50LmRhdGEsIGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZXZlbnQoZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gb25DaGVja2JveENoYW5nZShlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBUaGlzIGNsaWNrIHNob3VsZCBub3QgcHJvcGFnYXRlIGl0cyBmb3IgaW50ZXJuYWwgdXNlXHJcbiAgICB2YXIgdk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmIChwcm9wcy5vbkNsaWNrKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzIgPSBwcm9wcy5vbkNsaWNrO1xyXG4gICAgICAgIGlmIChldmVudF8yLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzIuZXZlbnQoZXZlbnRfMi5kYXRhLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzIoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvcHMub25jbGljaykge1xyXG4gICAgICAgIHByb3BzLm9uY2xpY2soZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdQcm9wcywgZG9tKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzSW5wdXQodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZShuZXh0UHJvcHNPckVtcHR5LCBkb20pO1xyXG4gICAgaWYgKG1vdW50aW5nICYmIGlzQ29udHJvbGxlZCkge1xyXG4gICAgICAgIGlmIChpc0NoZWNrZWRUeXBlKG5leHRQcm9wc09yRW1wdHkudHlwZSkpIHtcclxuICAgICAgICAgICAgZG9tLm9uY2xpY2sgPSBvbkNoZWNrYm94Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25jbGljay53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmlucHV0ID0gb25UZXh0SW5wdXRDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIGRvbS5vbmlucHV0LndyYXBwZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV4dFByb3BzT3JFbXB0eS5vbkNoYW5nZSkge1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2UgPSB3cmFwcGVkT25DaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIGRvbS5vbmNoYW5nZS53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wcm9jZXNzSW5wdXQgPSBwcm9jZXNzSW5wdXQ7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tKSB7XHJcbiAgICB2YXIgdHlwZSA9IG5leHRQcm9wc09yRW1wdHkudHlwZTtcclxuICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkudmFsdWU7XHJcbiAgICB2YXIgY2hlY2tlZCA9IG5leHRQcm9wc09yRW1wdHkuY2hlY2tlZDtcclxuICAgIHZhciBtdWx0aXBsZSA9IG5leHRQcm9wc09yRW1wdHkubXVsdGlwbGU7XHJcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS5kZWZhdWx0VmFsdWU7XHJcbiAgICB2YXIgaGFzVmFsdWUgPSAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKTtcclxuICAgIGlmICh0eXBlICYmIHR5cGUgIT09IGRvbS50eXBlKSB7XHJcbiAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgndHlwZScsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKG11bHRpcGxlICYmIG11bHRpcGxlICE9PSBkb20ubXVsdGlwbGUpIHtcclxuICAgICAgICBkb20ubXVsdGlwbGUgPSBtdWx0aXBsZTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGRlZmF1bHRWYWx1ZSkgJiYgIWhhc1ZhbHVlKSB7XHJcbiAgICAgICAgZG9tLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZSArICcnO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQ2hlY2tlZFR5cGUodHlwZSkpIHtcclxuICAgICAgICBpZiAoaGFzVmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoZWNrZWQpKSB7XHJcbiAgICAgICAgICAgIGRvbS5jaGVja2VkID0gY2hlY2tlZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaGFzVmFsdWUgJiYgZG9tLnZhbHVlICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICBkb20udmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGVja2VkKSkge1xyXG4gICAgICAgICAgICBkb20uY2hlY2tlZCA9IGNoZWNrZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYXBwbHlWYWx1ZSA9IGFwcGx5VmFsdWU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3dyYXBwZXJzL0lucHV0V3JhcHBlci5qc1xuLy8gbW9kdWxlIGlkID0gNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb3JlL1ZOb2Rlc1wiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XHJcbmZ1bmN0aW9uIHVwZGF0ZUNoaWxkT3B0aW9uR3JvdXAodk5vZGUsIHZhbHVlKSB7XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICBpZiAodHlwZSA9PT0gJ29wdGdyb3VwJykge1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb24oY2hpbGRyZW5baV0sIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbihjaGlsZHJlbiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uKHZOb2RlLCB2YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlQ2hpbGRPcHRpb24odk5vZGUsIHZhbHVlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICAvLyB3ZSBkbyB0aGlzIGFzIG11bHRpcGxlIG1heSBoYXZlIGNoYW5nZWRcclxuICAgIGRvbS52YWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmluZGV4T2YocHJvcHMudmFsdWUpICE9PSAtMSkgfHwgcHJvcHMudmFsdWUgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgZG9tLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodmFsdWUpIHx8ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMuc2VsZWN0ZWQpKSB7XHJcbiAgICAgICAgZG9tLnNlbGVjdGVkID0gcHJvcHMuc2VsZWN0ZWQgfHwgZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gb25TZWxlY3RDaGFuZ2UoZSkge1xyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25DaGFuZ2UpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uQ2hhbmdlO1xyXG4gICAgICAgIGlmIChldmVudF8xLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEuZXZlbnQoZXZlbnRfMS5kYXRhLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvcHMub25jaGFuZ2UpIHtcclxuICAgICAgICBwcm9wcy5vbmNoYW5nZShlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1ZOb2RlLCBkb20sIG5ld1Byb3BzLCBmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc1NlbGVjdCh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKSB7XHJcbiAgICBhcHBseVZhbHVlKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBkb20ub25jaGFuZ2UgPSBvblNlbGVjdENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICBkb20ub25jaGFuZ2Uud3JhcHBlZCA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wcm9jZXNzU2VsZWN0ID0gcHJvY2Vzc1NlbGVjdDtcclxuZnVuY3Rpb24gYXBwbHlWYWx1ZSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZykge1xyXG4gICAgaWYgKG5leHRQcm9wc09yRW1wdHkubXVsdGlwbGUgIT09IGRvbS5tdWx0aXBsZSkge1xyXG4gICAgICAgIGRvbS5tdWx0aXBsZSA9IG5leHRQcm9wc09yRW1wdHkubXVsdGlwbGU7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS52YWx1ZTtcclxuICAgICAgICBpZiAobW91bnRpbmcgJiYgaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkuZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uR3JvdXAoY2hpbGRyZW5baV0sIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKGNoaWxkcmVuLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYXBwbHlWYWx1ZSA9IGFwcGx5VmFsdWU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3dyYXBwZXJzL1NlbGVjdFdyYXBwZXIuanNcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcclxuZnVuY3Rpb24gd3JhcHBlZE9uQ2hhbmdlKGUpIHtcclxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZXZlbnQgPSBwcm9wcy5vbkNoYW5nZTtcclxuICAgIGlmIChldmVudC5ldmVudCkge1xyXG4gICAgICAgIGV2ZW50LmV2ZW50KGV2ZW50LmRhdGEsIGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZXZlbnQoZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gb25UZXh0YXJlYUlucHV0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25JbnB1dCkge1xyXG4gICAgICAgIHZhciBldmVudF8xID0gcHJvcHMub25JbnB1dDtcclxuICAgICAgICBpZiAoZXZlbnRfMS5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8xLmV2ZW50KGV2ZW50XzEuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8xKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uaW5wdXQpIHtcclxuICAgICAgICBwcm9wcy5vbmlucHV0KGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3Vk5vZGUsIHZOb2RlLmRvbSwgZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NUZXh0YXJlYSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKSB7XHJcbiAgICBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSwgbW91bnRpbmcpO1xyXG4gICAgaWYgKG1vdW50aW5nICYmIGlzQ29udHJvbGxlZCkge1xyXG4gICAgICAgIGRvbS5vbmlucHV0ID0gb25UZXh0YXJlYUlucHV0Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgIGRvbS5vbmlucHV0LndyYXBwZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChuZXh0UHJvcHNPckVtcHR5Lm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmNoYW5nZSA9IHdyYXBwZWRPbkNoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlLndyYXBwZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnByb2Nlc3NUZXh0YXJlYSA9IHByb2Nlc3NUZXh0YXJlYTtcclxuZnVuY3Rpb24gYXBwbHlWYWx1ZShuZXh0UHJvcHNPckVtcHR5LCBkb20sIG1vdW50aW5nKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LnZhbHVlO1xyXG4gICAgdmFyIGRvbVZhbHVlID0gZG9tLnZhbHVlO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSkpIHtcclxuICAgICAgICBpZiAobW91bnRpbmcpIHtcclxuICAgICAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IG5leHRQcm9wc09yRW1wdHkuZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSBkb21WYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS52YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkb21WYWx1ZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGRvbS52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLyogVGhlcmUgaXMgdmFsdWUgc28ga2VlcCBpdCBjb250cm9sbGVkICovXHJcbiAgICAgICAgaWYgKGRvbVZhbHVlICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICBkb20udmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5hcHBseVZhbHVlID0gYXBwbHlWYWx1ZTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vd3JhcHBlcnMvVGV4dGFyZWFXcmFwcGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxuZXhwb3J0cy5OT19PUCA9IGluZmVybm9fc2hhcmVkXzEuTk9fT1A7XHJcbnZhciBub3JtYWxpemF0aW9uXzEgPSByZXF1aXJlKFwiLi9jb3JlL25vcm1hbGl6YXRpb25cIik7XHJcbmV4cG9ydHMuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUgPSBub3JtYWxpemF0aW9uXzEuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGU7XHJcbmV4cG9ydHMuaW50ZXJuYWxfbm9ybWFsaXplID0gbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuL2NvcmUvb3B0aW9uc1wiKTtcclxuZXhwb3J0cy5vcHRpb25zID0gb3B0aW9uc18xLm9wdGlvbnM7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuL2NvcmUvVk5vZGVzXCIpO1xyXG5leHBvcnRzLmNsb25lVk5vZGUgPSBWTm9kZXNfMS5jbG9uZVZOb2RlO1xyXG5leHBvcnRzLmNyZWF0ZVZOb2RlID0gVk5vZGVzXzEuY3JlYXRlVk5vZGU7XHJcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL0RPTS9jb25zdGFudHNcIik7XHJcbmV4cG9ydHMuaW50ZXJuYWxfaXNVbml0bGVzc051bWJlciA9IGNvbnN0YW50c18xLmlzVW5pdGxlc3NOdW1iZXI7XHJcbnZhciBsaW5rRXZlbnRfMSA9IHJlcXVpcmUoXCIuL0RPTS9ldmVudHMvbGlua0V2ZW50XCIpO1xyXG5leHBvcnRzLmxpbmtFdmVudCA9IGxpbmtFdmVudF8xLmxpbmtFdmVudDtcclxudmFyIHBhdGNoaW5nXzEgPSByZXF1aXJlKFwiLi9ET00vcGF0Y2hpbmdcIik7XHJcbmV4cG9ydHMuaW50ZXJuYWxfcGF0Y2ggPSBwYXRjaGluZ18xLnBhdGNoO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9ET00vcmVuZGVyaW5nXCIpO1xyXG5leHBvcnRzLmludGVybmFsX0RPTU5vZGVNYXAgPSByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXA7XHJcbmV4cG9ydHMuY3JlYXRlUmVuZGVyZXIgPSByZW5kZXJpbmdfMS5jcmVhdGVSZW5kZXJlcjtcclxuZXhwb3J0cy5maW5kRE9NTm9kZSA9IHJlbmRlcmluZ18xLmZpbmRET01Ob2RlO1xyXG5leHBvcnRzLnJlbmRlciA9IHJlbmRlcmluZ18xLnJlbmRlcjtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi9ET00vdXRpbHNcIik7XHJcbmV4cG9ydHMuRU1QVFlfT0JKID0gdXRpbHNfMS5FTVBUWV9PQko7XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHkgKi9cclxuICAgIHZhciB0ZXN0RnVuYyA9IGZ1bmN0aW9uIHRlc3RGbigpIHsgfTtcclxuICAgIGlmICgodGVzdEZ1bmMubmFtZSB8fCB0ZXN0RnVuYy50b1N0cmluZygpKS5pbmRleE9mKCd0ZXN0Rm4nKSA9PT0gLTEpIHtcclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoKCdJdCBsb29rcyBsaWtlIHlvdVxcJ3JlIHVzaW5nIGEgbWluaWZpZWQgY29weSBvZiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgJyArXHJcbiAgICAgICAgICAgICdvZiBJbmZlcm5vLiBXaGVuIGRlcGxveWluZyBJbmZlcm5vIGFwcHMgdG8gcHJvZHVjdGlvbiwgbWFrZSBzdXJlIHRvIHVzZSAnICtcclxuICAgICAgICAgICAgJ3RoZSBwcm9kdWN0aW9uIGJ1aWxkIHdoaWNoIHNraXBzIGRldmVsb3BtZW50IHdhcm5pbmdzIGFuZCBpcyBmYXN0ZXIuICcgK1xyXG4gICAgICAgICAgICAnU2VlIGh0dHA6Ly9pbmZlcm5vanMub3JnIGZvciBtb3JlIGRldGFpbHMuJykpO1xyXG4gICAgfVxyXG59XHJcbnZhciB2ZXJzaW9uID0gJzMuMS4wJztcclxuZXhwb3J0cy52ZXJzaW9uID0gdmVyc2lvbjtcclxuLy8gd2UgZHVwbGljYXRlIGl0IHNvIGl0IHBsYXlzIG5pY2VseSB3aXRoIGRpZmZlcmVudCBtb2R1bGUgbG9hZGluZyBzeXN0ZW1zXHJcbmV4cG9ydHMuZGVmYXVsdCA9IHtcclxuICAgIGdldEZsYWdzRm9yRWxlbWVudFZub2RlOiBub3JtYWxpemF0aW9uXzEuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUsXHJcbiAgICBsaW5rRXZlbnQ6IGxpbmtFdmVudF8xLmxpbmtFdmVudCxcclxuICAgIC8vIGNvcmUgc2hhcGVzXHJcbiAgICBjcmVhdGVWTm9kZTogVk5vZGVzXzEuY3JlYXRlVk5vZGUsXHJcbiAgICAvLyBjbG9uaW5nXHJcbiAgICBjbG9uZVZOb2RlOiBWTm9kZXNfMS5jbG9uZVZOb2RlLFxyXG4gICAgLy8gdXNlZCB0byBzaGFyZWQgY29tbW9uIGl0ZW1zIGJldHdlZW4gSW5mZXJubyBsaWJzXHJcbiAgICBOT19PUDogaW5mZXJub19zaGFyZWRfMS5OT19PUCxcclxuICAgIEVNUFRZX09CSjogdXRpbHNfMS5FTVBUWV9PQkosXHJcbiAgICAvLyBET01cclxuICAgIHJlbmRlcjogcmVuZGVyaW5nXzEucmVuZGVyLFxyXG4gICAgZmluZERPTU5vZGU6IHJlbmRlcmluZ18xLmZpbmRET01Ob2RlLFxyXG4gICAgY3JlYXRlUmVuZGVyZXI6IHJlbmRlcmluZ18xLmNyZWF0ZVJlbmRlcmVyLFxyXG4gICAgb3B0aW9uczogb3B0aW9uc18xLm9wdGlvbnMsXHJcbiAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxyXG4gICAgaW50ZXJuYWxfcGF0Y2g6IHBhdGNoaW5nXzEucGF0Y2gsXHJcbiAgICBpbnRlcm5hbF9ET01Ob2RlTWFwOiByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAsXHJcbiAgICBpbnRlcm5hbF9pc1VuaXRsZXNzTnVtYmVyOiBjb25zdGFudHNfMS5pc1VuaXRsZXNzTnVtYmVyLFxyXG4gICAgaW50ZXJuYWxfbm9ybWFsaXplOiBub3JtYWxpemF0aW9uXzEubm9ybWFsaXplXHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW52YXJpYW50L2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pc2FycmF5L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgcGF0aFRvUmVnRXhwID0gcmVxdWlyZSgncGF0aC10by1yZWdleHAnKVxyXG5cclxuLyoqXHJcbiAqIEV4cG9zZSBgcGF0aFRvUmVnZXhwYCBhcyBFUzYgbW9kdWxlXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGhUb1JlZ0V4cDtcclxubW9kdWxlLmV4cG9ydHMucGFyc2UgPSBwYXRoVG9SZWdFeHAucGFyc2VcclxubW9kdWxlLmV4cG9ydHMuY29tcGlsZSA9IHBhdGhUb1JlZ0V4cC5jb21waWxlXHJcbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvRnVuY3Rpb24gPSBwYXRoVG9SZWdFeHAudG9rZW5zVG9GdW5jdGlvblxyXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb1JlZ0V4cCA9IHBhdGhUb1JlZ0V4cC50b2tlbnNUb1JlZ0V4cFxyXG5tb2R1bGUuZXhwb3J0c1snZGVmYXVsdCddID0gbW9kdWxlLmV4cG9ydHM7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9wYXRoLXRvLXJlZ2V4cC1lczYvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBpc2FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbi8qKlxuICogRXhwb3NlIGBwYXRoVG9SZWdleHBgLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGhUb1JlZ2V4cFxubW9kdWxlLmV4cG9ydHMucGFyc2UgPSBwYXJzZVxubW9kdWxlLmV4cG9ydHMuY29tcGlsZSA9IGNvbXBpbGVcbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvRnVuY3Rpb24gPSB0b2tlbnNUb0Z1bmN0aW9uXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb1JlZ0V4cCA9IHRva2Vuc1RvUmVnRXhwXG5cbi8qKlxuICogVGhlIG1haW4gcGF0aCBtYXRjaGluZyByZWdleHAgdXRpbGl0eS5cbiAqXG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG52YXIgUEFUSF9SRUdFWFAgPSBuZXcgUmVnRXhwKFtcbiAgLy8gTWF0Y2ggZXNjYXBlZCBjaGFyYWN0ZXJzIHRoYXQgd291bGQgb3RoZXJ3aXNlIGFwcGVhciBpbiBmdXR1cmUgbWF0Y2hlcy5cbiAgLy8gVGhpcyBhbGxvd3MgdGhlIHVzZXIgdG8gZXNjYXBlIHNwZWNpYWwgY2hhcmFjdGVycyB0aGF0IHdvbid0IHRyYW5zZm9ybS5cbiAgJyhcXFxcXFxcXC4pJyxcbiAgLy8gTWF0Y2ggRXhwcmVzcy1zdHlsZSBwYXJhbWV0ZXJzIGFuZCB1bi1uYW1lZCBwYXJhbWV0ZXJzIHdpdGggYSBwcmVmaXhcbiAgLy8gYW5kIG9wdGlvbmFsIHN1ZmZpeGVzLiBNYXRjaGVzIGFwcGVhciBhczpcbiAgLy9cbiAgLy8gXCIvOnRlc3QoXFxcXGQrKT9cIiA9PiBbXCIvXCIsIFwidGVzdFwiLCBcIlxcZCtcIiwgdW5kZWZpbmVkLCBcIj9cIiwgdW5kZWZpbmVkXVxuICAvLyBcIi9yb3V0ZShcXFxcZCspXCIgID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBcIlxcZCtcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gIC8vIFwiLypcIiAgICAgICAgICAgID0+IFtcIi9cIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBcIipcIl1cbiAgJyhbXFxcXC8uXSk/KD86KD86XFxcXDooXFxcXHcrKSg/OlxcXFwoKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKCldKSspXFxcXCkpP3xcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKShbKyo/XSk/fChcXFxcKikpJ1xuXS5qb2luKCd8JyksICdnJylcblxuLyoqXG4gKiBQYXJzZSBhIHN0cmluZyBmb3IgdGhlIHJhdyB0b2tlbnMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSAgc3RyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSBvcHRpb25zXG4gKiBAcmV0dXJuIHshQXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlIChzdHIsIG9wdGlvbnMpIHtcbiAgdmFyIHRva2VucyA9IFtdXG4gIHZhciBrZXkgPSAwXG4gIHZhciBpbmRleCA9IDBcbiAgdmFyIHBhdGggPSAnJ1xuICB2YXIgZGVmYXVsdERlbGltaXRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kZWxpbWl0ZXIgfHwgJy8nXG4gIHZhciByZXNcblxuICB3aGlsZSAoKHJlcyA9IFBBVEhfUkVHRVhQLmV4ZWMoc3RyKSkgIT0gbnVsbCkge1xuICAgIHZhciBtID0gcmVzWzBdXG4gICAgdmFyIGVzY2FwZWQgPSByZXNbMV1cbiAgICB2YXIgb2Zmc2V0ID0gcmVzLmluZGV4XG4gICAgcGF0aCArPSBzdHIuc2xpY2UoaW5kZXgsIG9mZnNldClcbiAgICBpbmRleCA9IG9mZnNldCArIG0ubGVuZ3RoXG5cbiAgICAvLyBJZ25vcmUgYWxyZWFkeSBlc2NhcGVkIHNlcXVlbmNlcy5cbiAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgcGF0aCArPSBlc2NhcGVkWzFdXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIHZhciBuZXh0ID0gc3RyW2luZGV4XVxuICAgIHZhciBwcmVmaXggPSByZXNbMl1cbiAgICB2YXIgbmFtZSA9IHJlc1szXVxuICAgIHZhciBjYXB0dXJlID0gcmVzWzRdXG4gICAgdmFyIGdyb3VwID0gcmVzWzVdXG4gICAgdmFyIG1vZGlmaWVyID0gcmVzWzZdXG4gICAgdmFyIGFzdGVyaXNrID0gcmVzWzddXG5cbiAgICAvLyBQdXNoIHRoZSBjdXJyZW50IHBhdGggb250byB0aGUgdG9rZW5zLlxuICAgIGlmIChwYXRoKSB7XG4gICAgICB0b2tlbnMucHVzaChwYXRoKVxuICAgICAgcGF0aCA9ICcnXG4gICAgfVxuXG4gICAgdmFyIHBhcnRpYWwgPSBwcmVmaXggIT0gbnVsbCAmJiBuZXh0ICE9IG51bGwgJiYgbmV4dCAhPT0gcHJlZml4XG4gICAgdmFyIHJlcGVhdCA9IG1vZGlmaWVyID09PSAnKycgfHwgbW9kaWZpZXIgPT09ICcqJ1xuICAgIHZhciBvcHRpb25hbCA9IG1vZGlmaWVyID09PSAnPycgfHwgbW9kaWZpZXIgPT09ICcqJ1xuICAgIHZhciBkZWxpbWl0ZXIgPSByZXNbMl0gfHwgZGVmYXVsdERlbGltaXRlclxuICAgIHZhciBwYXR0ZXJuID0gY2FwdHVyZSB8fCBncm91cFxuXG4gICAgdG9rZW5zLnB1c2goe1xuICAgICAgbmFtZTogbmFtZSB8fCBrZXkrKyxcbiAgICAgIHByZWZpeDogcHJlZml4IHx8ICcnLFxuICAgICAgZGVsaW1pdGVyOiBkZWxpbWl0ZXIsXG4gICAgICBvcHRpb25hbDogb3B0aW9uYWwsXG4gICAgICByZXBlYXQ6IHJlcGVhdCxcbiAgICAgIHBhcnRpYWw6IHBhcnRpYWwsXG4gICAgICBhc3RlcmlzazogISFhc3RlcmlzayxcbiAgICAgIHBhdHRlcm46IHBhdHRlcm4gPyBlc2NhcGVHcm91cChwYXR0ZXJuKSA6IChhc3RlcmlzayA/ICcuKicgOiAnW14nICsgZXNjYXBlU3RyaW5nKGRlbGltaXRlcikgKyAnXSs/JylcbiAgICB9KVxuICB9XG5cbiAgLy8gTWF0Y2ggYW55IGNoYXJhY3RlcnMgc3RpbGwgcmVtYWluaW5nLlxuICBpZiAoaW5kZXggPCBzdHIubGVuZ3RoKSB7XG4gICAgcGF0aCArPSBzdHIuc3Vic3RyKGluZGV4KVxuICB9XG5cbiAgLy8gSWYgdGhlIHBhdGggZXhpc3RzLCBwdXNoIGl0IG9udG8gdGhlIGVuZC5cbiAgaWYgKHBhdGgpIHtcbiAgICB0b2tlbnMucHVzaChwYXRoKVxuICB9XG5cbiAgcmV0dXJuIHRva2Vuc1xufVxuXG4vKipcbiAqIENvbXBpbGUgYSBzdHJpbmcgdG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbiBmb3IgdGhlIHBhdGguXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgICAgICBzdHJcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IWZ1bmN0aW9uKE9iamVjdD0sIE9iamVjdD0pfVxuICovXG5mdW5jdGlvbiBjb21waWxlIChzdHIsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRva2Vuc1RvRnVuY3Rpb24ocGFyc2Uoc3RyLCBvcHRpb25zKSlcbn1cblxuLyoqXG4gKiBQcmV0dGllciBlbmNvZGluZyBvZiBVUkkgcGF0aCBzZWdtZW50cy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZVVSSUNvbXBvbmVudFByZXR0eSAoc3RyKSB7XG4gIHJldHVybiBlbmNvZGVVUkkoc3RyKS5yZXBsYWNlKC9bXFwvPyNdL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG4vKipcbiAqIEVuY29kZSB0aGUgYXN0ZXJpc2sgcGFyYW1ldGVyLiBTaW1pbGFyIHRvIGBwcmV0dHlgLCBidXQgYWxsb3dzIHNsYXNoZXMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVBc3RlcmlzayAoc3RyKSB7XG4gIHJldHVybiBlbmNvZGVVUkkoc3RyKS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG4vKipcbiAqIEV4cG9zZSBhIG1ldGhvZCBmb3IgdHJhbnNmb3JtaW5nIHRva2VucyBpbnRvIHRoZSBwYXRoIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiB0b2tlbnNUb0Z1bmN0aW9uICh0b2tlbnMpIHtcbiAgLy8gQ29tcGlsZSBhbGwgdGhlIHRva2VucyBpbnRvIHJlZ2V4cHMuXG4gIHZhciBtYXRjaGVzID0gbmV3IEFycmF5KHRva2Vucy5sZW5ndGgpXG5cbiAgLy8gQ29tcGlsZSBhbGwgdGhlIHBhdHRlcm5zIGJlZm9yZSBjb21waWxhdGlvbi5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodHlwZW9mIHRva2Vuc1tpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG1hdGNoZXNbaV0gPSBuZXcgUmVnRXhwKCdeKD86JyArIHRva2Vuc1tpXS5wYXR0ZXJuICsgJykkJylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgb3B0cykge1xuICAgIHZhciBwYXRoID0gJydcbiAgICB2YXIgZGF0YSA9IG9iaiB8fCB7fVxuICAgIHZhciBvcHRpb25zID0gb3B0cyB8fCB7fVxuICAgIHZhciBlbmNvZGUgPSBvcHRpb25zLnByZXR0eSA/IGVuY29kZVVSSUNvbXBvbmVudFByZXR0eSA6IGVuY29kZVVSSUNvbXBvbmVudFxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXVxuXG4gICAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICBwYXRoICs9IHRva2VuXG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgdmFyIHZhbHVlID0gZGF0YVt0b2tlbi5uYW1lXVxuICAgICAgdmFyIHNlZ21lbnRcblxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgICAgLy8gUHJlcGVuZCBwYXJ0aWFsIHNlZ21lbnQgcHJlZml4ZXMuXG4gICAgICAgICAgaWYgKHRva2VuLnBhcnRpYWwpIHtcbiAgICAgICAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIGJlIGRlZmluZWQnKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc2FycmF5KHZhbHVlKSkge1xuICAgICAgICBpZiAoIXRva2VuLnJlcGVhdCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbm90IHJlcGVhdCwgYnV0IHJlY2VpdmVkIGAnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ2AnKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBub3QgYmUgZW1wdHknKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsdWUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBzZWdtZW50ID0gZW5jb2RlKHZhbHVlW2pdKVxuXG4gICAgICAgICAgaWYgKCFtYXRjaGVzW2ldLnRlc3Qoc2VnbWVudCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGFsbCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG1hdGNoIFwiJyArIHRva2VuLnBhdHRlcm4gKyAnXCIsIGJ1dCByZWNlaXZlZCBgJyArIEpTT04uc3RyaW5naWZ5KHNlZ21lbnQpICsgJ2AnKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhdGggKz0gKGogPT09IDAgPyB0b2tlbi5wcmVmaXggOiB0b2tlbi5kZWxpbWl0ZXIpICsgc2VnbWVudFxuICAgICAgICB9XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgc2VnbWVudCA9IHRva2VuLmFzdGVyaXNrID8gZW5jb2RlQXN0ZXJpc2sodmFsdWUpIDogZW5jb2RlKHZhbHVlKVxuXG4gICAgICBpZiAoIW1hdGNoZXNbaV0udGVzdChzZWdtZW50KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG1hdGNoIFwiJyArIHRva2VuLnBhdHRlcm4gKyAnXCIsIGJ1dCByZWNlaXZlZCBcIicgKyBzZWdtZW50ICsgJ1wiJylcbiAgICAgIH1cblxuICAgICAgcGF0aCArPSB0b2tlbi5wcmVmaXggKyBzZWdtZW50XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGhcbiAgfVxufVxuXG4vKipcbiAqIEVzY2FwZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBzdHJpbmcuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZXNjYXBlU3RyaW5nIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4rKj89XiE6JHt9KClbXFxdfFxcL1xcXFxdKS9nLCAnXFxcXCQxJylcbn1cblxuLyoqXG4gKiBFc2NhcGUgdGhlIGNhcHR1cmluZyBncm91cCBieSBlc2NhcGluZyBzcGVjaWFsIGNoYXJhY3RlcnMgYW5kIG1lYW5pbmcuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBncm91cFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVHcm91cCAoZ3JvdXApIHtcbiAgcmV0dXJuIGdyb3VwLnJlcGxhY2UoLyhbPSE6JFxcLygpXSkvZywgJ1xcXFwkMScpXG59XG5cbi8qKlxuICogQXR0YWNoIHRoZSBrZXlzIGFzIGEgcHJvcGVydHkgb2YgdGhlIHJlZ2V4cC5cbiAqXG4gKiBAcGFyYW0gIHshUmVnRXhwfSByZVxuICogQHBhcmFtICB7QXJyYXl9ICAga2V5c1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gYXR0YWNoS2V5cyAocmUsIGtleXMpIHtcbiAgcmUua2V5cyA9IGtleXNcbiAgcmV0dXJuIHJlXG59XG5cbi8qKlxuICogR2V0IHRoZSBmbGFncyBmb3IgYSByZWdleHAgZnJvbSB0aGUgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZmxhZ3MgKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG9wdGlvbnMuc2Vuc2l0aXZlID8gJycgOiAnaSdcbn1cblxuLyoqXG4gKiBQdWxsIG91dCBrZXlzIGZyb20gYSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IVJlZ0V4cH0gcGF0aFxuICogQHBhcmFtICB7IUFycmF5fSAga2V5c1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gcmVnZXhwVG9SZWdleHAgKHBhdGgsIGtleXMpIHtcbiAgLy8gVXNlIGEgbmVnYXRpdmUgbG9va2FoZWFkIHRvIG1hdGNoIG9ubHkgY2FwdHVyaW5nIGdyb3Vwcy5cbiAgdmFyIGdyb3VwcyA9IHBhdGguc291cmNlLm1hdGNoKC9cXCgoPyFcXD8pL2cpXG5cbiAgaWYgKGdyb3Vwcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBuYW1lOiBpLFxuICAgICAgICBwcmVmaXg6IG51bGwsXG4gICAgICAgIGRlbGltaXRlcjogbnVsbCxcbiAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICByZXBlYXQ6IGZhbHNlLFxuICAgICAgICBwYXJ0aWFsOiBmYWxzZSxcbiAgICAgICAgYXN0ZXJpc2s6IGZhbHNlLFxuICAgICAgICBwYXR0ZXJuOiBudWxsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhdHRhY2hLZXlzKHBhdGgsIGtleXMpXG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGFuIGFycmF5IGludG8gYSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IUFycmF5fSAgcGF0aFxuICogQHBhcmFtICB7QXJyYXl9ICAga2V5c1xuICogQHBhcmFtICB7IU9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gYXJyYXlUb1JlZ2V4cCAocGF0aCwga2V5cywgb3B0aW9ucykge1xuICB2YXIgcGFydHMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIHBhcnRzLnB1c2gocGF0aFRvUmVnZXhwKHBhdGhbaV0sIGtleXMsIG9wdGlvbnMpLnNvdXJjZSlcbiAgfVxuXG4gIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKCcoPzonICsgcGFydHMuam9pbignfCcpICsgJyknLCBmbGFncyhvcHRpb25zKSlcblxuICByZXR1cm4gYXR0YWNoS2V5cyhyZWdleHAsIGtleXMpXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgcGF0aCByZWdleHAgZnJvbSBzdHJpbmcgaW5wdXQuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSAgcGF0aFxuICogQHBhcmFtICB7IUFycmF5fSAga2V5c1xuICogQHBhcmFtICB7IU9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gc3RyaW5nVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRva2Vuc1RvUmVnRXhwKHBhcnNlKHBhdGgsIG9wdGlvbnMpLCBrZXlzLCBvcHRpb25zKVxufVxuXG4vKipcbiAqIEV4cG9zZSBhIGZ1bmN0aW9uIGZvciB0YWtpbmcgdG9rZW5zIGFuZCByZXR1cm5pbmcgYSBSZWdFeHAuXG4gKlxuICogQHBhcmFtICB7IUFycmF5fSAgICAgICAgICB0b2tlbnNcbiAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpPX0ga2V5c1xuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiB0b2tlbnNUb1JlZ0V4cCAodG9rZW5zLCBrZXlzLCBvcHRpb25zKSB7XG4gIGlmICghaXNhcnJheShrZXlzKSkge1xuICAgIG9wdGlvbnMgPSAvKiogQHR5cGUgeyFPYmplY3R9ICovIChrZXlzIHx8IG9wdGlvbnMpXG4gICAga2V5cyA9IFtdXG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIHZhciBzdHJpY3QgPSBvcHRpb25zLnN0cmljdFxuICB2YXIgZW5kID0gb3B0aW9ucy5lbmQgIT09IGZhbHNlXG4gIHZhciByb3V0ZSA9ICcnXG5cbiAgLy8gSXRlcmF0ZSBvdmVyIHRoZSB0b2tlbnMgYW5kIGNyZWF0ZSBvdXIgcmVnZXhwIHN0cmluZy5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV1cblxuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICByb3V0ZSArPSBlc2NhcGVTdHJpbmcodG9rZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcmVmaXggPSBlc2NhcGVTdHJpbmcodG9rZW4ucHJlZml4KVxuICAgICAgdmFyIGNhcHR1cmUgPSAnKD86JyArIHRva2VuLnBhdHRlcm4gKyAnKSdcblxuICAgICAga2V5cy5wdXNoKHRva2VuKVxuXG4gICAgICBpZiAodG9rZW4ucmVwZWF0KSB7XG4gICAgICAgIGNhcHR1cmUgKz0gJyg/OicgKyBwcmVmaXggKyBjYXB0dXJlICsgJykqJ1xuICAgICAgfVxuXG4gICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgaWYgKCF0b2tlbi5wYXJ0aWFsKSB7XG4gICAgICAgICAgY2FwdHVyZSA9ICcoPzonICsgcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpKT8nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FwdHVyZSA9IHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKT8nXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyknXG4gICAgICB9XG5cbiAgICAgIHJvdXRlICs9IGNhcHR1cmVcbiAgICB9XG4gIH1cblxuICB2YXIgZGVsaW1pdGVyID0gZXNjYXBlU3RyaW5nKG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJylcbiAgdmFyIGVuZHNXaXRoRGVsaW1pdGVyID0gcm91dGUuc2xpY2UoLWRlbGltaXRlci5sZW5ndGgpID09PSBkZWxpbWl0ZXJcblxuICAvLyBJbiBub24tc3RyaWN0IG1vZGUgd2UgYWxsb3cgYSBzbGFzaCBhdCB0aGUgZW5kIG9mIG1hdGNoLiBJZiB0aGUgcGF0aCB0b1xuICAvLyBtYXRjaCBhbHJlYWR5IGVuZHMgd2l0aCBhIHNsYXNoLCB3ZSByZW1vdmUgaXQgZm9yIGNvbnNpc3RlbmN5LiBUaGUgc2xhc2hcbiAgLy8gaXMgdmFsaWQgYXQgdGhlIGVuZCBvZiBhIHBhdGggbWF0Y2gsIG5vdCBpbiB0aGUgbWlkZGxlLiBUaGlzIGlzIGltcG9ydGFudFxuICAvLyBpbiBub24tZW5kaW5nIG1vZGUsIHdoZXJlIFwiL3Rlc3QvXCIgc2hvdWxkbid0IG1hdGNoIFwiL3Rlc3QvL3JvdXRlXCIuXG4gIGlmICghc3RyaWN0KSB7XG4gICAgcm91dGUgPSAoZW5kc1dpdGhEZWxpbWl0ZXIgPyByb3V0ZS5zbGljZSgwLCAtZGVsaW1pdGVyLmxlbmd0aCkgOiByb3V0ZSkgKyAnKD86JyArIGRlbGltaXRlciArICcoPz0kKSk/J1xuICB9XG5cbiAgaWYgKGVuZCkge1xuICAgIHJvdXRlICs9ICckJ1xuICB9IGVsc2Uge1xuICAgIC8vIEluIG5vbi1lbmRpbmcgbW9kZSwgd2UgbmVlZCB0aGUgY2FwdHVyaW5nIGdyb3VwcyB0byBtYXRjaCBhcyBtdWNoIGFzXG4gICAgLy8gcG9zc2libGUgYnkgdXNpbmcgYSBwb3NpdGl2ZSBsb29rYWhlYWQgdG8gdGhlIGVuZCBvciBuZXh0IHBhdGggc2VnbWVudC5cbiAgICByb3V0ZSArPSBzdHJpY3QgJiYgZW5kc1dpdGhEZWxpbWl0ZXIgPyAnJyA6ICcoPz0nICsgZGVsaW1pdGVyICsgJ3wkKSdcbiAgfVxuXG4gIHJldHVybiBhdHRhY2hLZXlzKG5ldyBSZWdFeHAoJ14nICsgcm91dGUsIGZsYWdzKG9wdGlvbnMpKSwga2V5cylcbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgdGhlIGdpdmVuIHBhdGggc3RyaW5nLCByZXR1cm5pbmcgYSByZWd1bGFyIGV4cHJlc3Npb24uXG4gKlxuICogQW4gZW1wdHkgYXJyYXkgY2FuIGJlIHBhc3NlZCBpbiBmb3IgdGhlIGtleXMsIHdoaWNoIHdpbGwgaG9sZCB0aGVcbiAqIHBsYWNlaG9sZGVyIGtleSBkZXNjcmlwdGlvbnMuIEZvciBleGFtcGxlLCB1c2luZyBgL3VzZXIvOmlkYCwgYGtleXNgIHdpbGxcbiAqIGNvbnRhaW4gYFt7IG5hbWU6ICdpZCcsIGRlbGltaXRlcjogJy8nLCBvcHRpb25hbDogZmFsc2UsIHJlcGVhdDogZmFsc2UgfV1gLlxuICpcbiAqIEBwYXJhbSAgeyhzdHJpbmd8UmVnRXhwfEFycmF5KX0gcGF0aFxuICogQHBhcmFtICB7KEFycmF5fE9iamVjdCk9fSAgICAgICBrZXlzXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHBhdGhUb1JlZ2V4cCAocGF0aCwga2V5cywgb3B0aW9ucykge1xuICBpZiAoIWlzYXJyYXkoa2V5cykpIHtcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxuICAgIGtleXMgPSBbXVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICBpZiAocGF0aCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIHJldHVybiByZWdleHBUb1JlZ2V4cChwYXRoLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpKVxuICB9XG5cbiAgaWYgKGlzYXJyYXkocGF0aCkpIHtcbiAgICByZXR1cm4gYXJyYXlUb1JlZ2V4cCgvKiogQHR5cGUgeyFBcnJheX0gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxuICB9XG5cbiAgcmV0dXJuIHN0cmluZ1RvUmVnZXhwKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocGF0aCksIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cyksIG9wdGlvbnMpXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcGF0aC10by1yZWdleHAvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxudmFyIGlzQWJzb2x1dGUgPSBmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGhuYW1lKSB7XG4gIHJldHVybiBwYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxudmFyIHNwbGljZU9uZSA9IGZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpIHtcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgfWxpc3QucG9wKCk7XG59O1xuXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGJhc2VkIGhlYXZpbHkgb24gbm9kZSdzIHVybC5wYXJzZVxudmFyIHJlc29sdmVQYXRobmFtZSA9IGZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZSh0bykge1xuICB2YXIgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgdmFyIHRvUGFydHMgPSB0byAmJiB0by5zcGxpdCgnLycpIHx8IFtdO1xuICB2YXIgZnJvbVBhcnRzID0gZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykgfHwgW107XG5cbiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTtcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcbiAgdmFyIG11c3RFbmRBYnMgPSBpc1RvQWJzIHx8IGlzRnJvbUFicztcblxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcbiAgICAvLyB0byBpcyBhYnNvbHV0ZVxuICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7XG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcbiAgICAvLyB0byBpcyByZWxhdGl2ZSwgZHJvcCB0aGUgZmlsZW5hbWVcbiAgICBmcm9tUGFydHMucG9wKCk7XG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcbiAgfVxuXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcblxuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IHZvaWQgMDtcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdCA9IGZyb21QYXJ0c1tmcm9tUGFydHMubGVuZ3RoIC0gMV07XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnO1xuICB9IGVsc2Uge1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBmcm9tUGFydHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xuXG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbXVzdEVuZEFicykgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgZnJvbVBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gIH1pZiAobXVzdEVuZEFicyAmJiBmcm9tUGFydHNbMF0gIT09ICcnICYmICghZnJvbVBhcnRzWzBdIHx8ICFpc0Fic29sdXRlKGZyb21QYXJ0c1swXSkpKSBmcm9tUGFydHMudW5zaGlmdCgnJyk7XG5cbiAgdmFyIHJlc3VsdCA9IGZyb21QYXJ0cy5qb2luKCcvJyk7XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgcmVzdWx0LnN1YnN0cigtMSkgIT09ICcvJykgcmVzdWx0ICs9ICcvJztcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlUGF0aG5hbWU7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Jlc29sdmUtcGF0aG5hbWUvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgdmFsdWVFcXVhbCA9IGZ1bmN0aW9uIHZhbHVlRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkgcmV0dXJuIEFycmF5LmlzQXJyYXkoYikgJiYgYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlRXF1YWwoaXRlbSwgYltpbmRleF0pO1xuICB9KTtcblxuICB2YXIgYVR5cGUgPSB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYSk7XG4gIHZhciBiVHlwZSA9IHR5cGVvZiBiID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihiKTtcblxuICBpZiAoYVR5cGUgIT09IGJUeXBlKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGFUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBhVmFsdWUgPSBhLnZhbHVlT2YoKTtcbiAgICB2YXIgYlZhbHVlID0gYi52YWx1ZU9mKCk7XG5cbiAgICBpZiAoYVZhbHVlICE9PSBhIHx8IGJWYWx1ZSAhPT0gYikgcmV0dXJuIHZhbHVlRXF1YWwoYVZhbHVlLCBiVmFsdWUpO1xuXG4gICAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgdmFyIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG5cbiAgICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiBhS2V5cy5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChhW2tleV0sIGJba2V5XSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSB2YWx1ZUVxdWFsO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92YWx1ZS1lcXVhbC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==