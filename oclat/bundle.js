!function(e){function n(e){delete installedChunks[e]}function t(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.src=h.p+""+e+"."+w+".hot-update.js",n.appendChild(t)}function r(){return new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var t=new XMLHttpRequest,r=h.p+""+w+".hot-update.json";t.open("GET",r,!0),t.timeout=1e4,t.send(null)}catch(e){return n(e)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)n(new Error("Manifest request to "+r+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)n(new Error("Manifest request to "+r+" failed."));else{try{var o=JSON.parse(t.responseText)}catch(e){return void n(e)}e(o)}}})}function o(e){var n=U[e];if(!n)return h;var t=function(t){return n.hot.active?(U[t]?U[t].parents.indexOf(e)<0&&U[t].parents.push(e):(y=[e],v=t),n.children.indexOf(t)<0&&n.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),y=[]),h(t)};for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&"e"!==r&&Object.defineProperty(t,r,function(e){return{configurable:!0,enumerable:!0,get:function(){return h[e]},set:function(n){h[e]=n}}}(r));return t.e=function(e){function n(){z--,"prepare"===O&&(C[e]||u(e),0===z&&0===_&&c())}return"ready"===O&&i("prepare"),z++,h.e(e).then(n,function(e){throw n(),e})},t}function a(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:v!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:d,apply:p,status:function(e){if(!e)return O;V.push(e)},addStatusHandler:function(e){V.push(e)},removeStatusHandler:function(e){var n=V.indexOf(e);n>=0&&V.splice(n,1)},data:N[e]};return v=void 0,n}function i(e){O=e;for(var n=0;n<V.length;n++)V[n].call(null,e)}function l(e){return+e+""===e?+e:e}function d(e){if("idle"!==O)throw new Error("check() is only allowed in idle status");return k=e,i("check"),r().then(function(e){if(!e)return i("idle"),null;x={},C={},E=e.c,b=e.h,i("prepare");var n=new Promise(function(e,n){g={resolve:e,reject:n}});m={};return u(0),"prepare"===O&&0===z&&0===_&&c(),n})}function s(e,n){if(E[e]&&x[e]){x[e]=!1;for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(m[t]=n[t]);0==--_&&0===z&&c()}}function u(e){E[e]?(x[e]=!0,_++,t(e)):C[e]=!0}function c(){i("ready");var e=g;if(g=null,e)if(k)p(k).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&n.push(l(t));e.resolve(n)}}function p(t){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];e.indexOf(r)<0&&e.push(r)}}if("ready"!==O)throw new Error("apply() is only allowed in ready status");t=t||{};var o,a,d,s,u,c={},p=[],f={},v=function(){console.warn("[HMR] unexpected require("+k.moduleId+") to disposed module")};for(var g in m)if(Object.prototype.hasOwnProperty.call(m,g)){u=l(g);var k;k=m[g]?function(e){for(var n=[e],t={},o=n.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var a=o.pop(),i=a.id,l=a.chain;if((s=U[i])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:l,moduleId:i};for(var d=0;d<s.parents.length;d++){var u=s.parents[d],c=U[u];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:l.concat([u]),moduleId:i,parentId:u};n.indexOf(u)>=0||(c.hot._acceptedDependencies[i]?(t[u]||(t[u]=[]),r(t[u],[i])):(delete t[u],n.push(u),o.push({chain:l.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}(u):{type:"disposed",moduleId:g};var j=!1,V=!1,_=!1,z="";switch(k.chain&&(z="\nUpdate propagation: "+k.chain.join(" -> ")),k.type){case"self-declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(j=new Error("Aborted because of self decline: "+k.moduleId+z));break;case"declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+k.moduleId+" in "+k.parentId+z));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(k),t.ignoreUnaccepted||(j=new Error("Aborted because "+u+" is not accepted"+z));break;case"accepted":t.onAccepted&&t.onAccepted(k),V=!0;break;case"disposed":t.onDisposed&&t.onDisposed(k),_=!0;break;default:throw new Error("Unexception type "+k.type)}if(j)return i("abort"),Promise.reject(j);if(V){f[u]=m[u],r(p,k.outdatedModules);for(u in k.outdatedDependencies)Object.prototype.hasOwnProperty.call(k.outdatedDependencies,u)&&(c[u]||(c[u]=[]),r(c[u],k.outdatedDependencies[u]))}_&&(r(p,[k.moduleId]),f[u]=v)}var C=[];for(a=0;a<p.length;a++)u=p[a],U[u]&&U[u].hot._selfAccepted&&C.push({module:u,errorHandler:U[u].hot._selfAccepted});i("dispose"),Object.keys(E).forEach(function(e){!1===E[e]&&n(e)});for(var x,P=p.slice();P.length>0;)if(u=P.pop(),s=U[u]){var R={},M=s.hot._disposeHandlers;for(d=0;d<M.length;d++)(o=M[d])(R);for(N[u]=R,s.hot.active=!1,delete U[u],d=0;d<s.children.length;d++){var S=U[s.children[d]];S&&((x=S.parents.indexOf(u))>=0&&S.parents.splice(x,1))}}var D,A;for(u in c)if(Object.prototype.hasOwnProperty.call(c,u)&&(s=U[u]))for(A=c[u],d=0;d<A.length;d++)D=A[d],(x=s.children.indexOf(D))>=0&&s.children.splice(x,1);i("apply"),w=b;for(u in f)Object.prototype.hasOwnProperty.call(f,u)&&(e[u]=f[u]);var T=null;for(u in c)if(Object.prototype.hasOwnProperty.call(c,u)){s=U[u],A=c[u];var I=[];for(a=0;a<A.length;a++)D=A[a],o=s.hot._acceptedDependencies[D],I.indexOf(o)>=0||I.push(o);for(a=0;a<I.length;a++){o=I[a];try{o(A)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:A[a],error:e}),t.ignoreErrored||T||(T=e)}}}for(a=0;a<C.length;a++){var H=C[a];u=H.module,y=[u];try{h(u)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,orginalError:e}),t.ignoreErrored||T||(T=n),T||(T=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||T||(T=e)}}return T?(i("fail"),Promise.reject(T)):(i("idle"),Promise.resolve(p))}function h(n){if(U[n])return U[n].exports;var t=U[n]={i:n,l:!1,exports:{},hot:a(n),parents:(j=y,y=[],j),children:[]};return e[n].call(t.exports,t,t.exports,o(n)),t.l=!0,t.exports}var f=this.webpackHotUpdate;this.webpackHotUpdate=function(e,n){s(e,n),f&&f(e,n)};var v,g,m,b,k=!0,w="0b63938467fdf6bc90be",N={},y=[],j=[],V=[],O="idle",_=0,z=0,C={},x={},E={},U={};h.m=e,h.c=U,h.i=function(e){return e},h.d=function(e,n,t){h.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},h.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(n,"a",n),n},h.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},h.p="",h.h=function(){return w},o(31)(h.s=31)}([function(e,n,t){e.exports=t(43),e.exports.default=e.exports},function(e,n,t){e.exports=t(50).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,t,r,o,a,i){b.isUndefined(o)&&(o=n.EMPTY_OBJ);var l=new t(r,o);e.children=l,l._blockSetState=!1,l.context=o,l.props===n.EMPTY_OBJ&&(l.props=r),l._lifecycle=i,l._unmounted=!1,l._pendingSetState=!0,l._isSVG=a,b.isUndefined(l.componentWillMount)||(l._blockRender=!0,l.componentWillMount(),l._blockRender=!1);var d;b.isUndefined(l.getChildContext)||(d=l.getChildContext()),b.isNullOrUndef(d)?l._childContext=o:l._childContext=b.combineFrom(o,d),b.isNull(k.options.beforeRender)||k.options.beforeRender(l);var s=l.render(r,l.state,o);return b.isNull(k.options.afterRender)||k.options.afterRender(l),b.isArray(s)?b.throwError():b.isInvalid(s)?s=w.createVoidVNode():b.isStringOrNumber(s)?s=w.createTextVNode(s,null):(s.dom&&(s=w.directClone(s)),28&s.flags&&(s.parentVNode=e)),l._pendingSetState=!1,l._lastInput=s,l}function o(e,n,t,r,o,i,l){a(t,y.mount(n,null,r,o,i),e,r,l)}function a(e,n,t,r,o){j.unmount(t,null,r,!1,o),h(e,n,t.dom)}function i(e,n,t,r){var o=n(t,r);return b.isArray(o)?b.throwError():b.isInvalid(o)?o=w.createVoidVNode():b.isStringOrNumber(o)?o=w.createTextVNode(o,null):(o.dom&&(o=w.directClone(o)),28&o.flags&&(o.parentVNode=e)),o}function l(e,n){""!==n?e.textContent=n:e.appendChild(document.createTextNode(""))}function d(e,n){e.firstChild.nodeValue=n}function s(e,n){e.appendChild(n)}function u(e,n,t){b.isNullOrUndef(t)?s(e,n):e.insertBefore(n,t)}function c(e,n){return!0===n?document.createElementNS(N.svgNS,e):document.createElement(e)}function p(e,n,t,r,o,a,i){j.unmount(e,null,r,!1,i);var l=y.mount(n,null,r,o,a);n.dom=l,h(t,l,e.dom)}function h(e,n,t){e||(e=t.parentNode),e.replaceChild(n,t)}function f(e,n){e.removeChild(n)}function v(e,n,t,r){e.textContent="",(!k.options.recyclingEnabled||k.options.recyclingEnabled&&!r)&&g(null,n,t,r)}function g(e,n,t,r){for(var o=0,a=n.length;o<a;o++){var i=n[o];b.isInvalid(i)||j.unmount(i,e,t,!0,r)}}function m(e,n){return n.length>0&&!b.isNullOrUndef(n[0])&&!b.isNullOrUndef(n[0].key)&&e.length>0&&!b.isNullOrUndef(e[0])&&!b.isNullOrUndef(e[0].key)}Object.defineProperty(n,"__esModule",{value:!0});var b=t(0),k=t(3),w=t(4),N=t(8),y=t(9),j=t(11);n.EMPTY_OBJ={},n.createClassComponentInstance=r,n.replaceLastChildAndUnmount=o,n.replaceVNode=a,n.createFunctionalComponentInput=i,n.setTextContent=l,n.updateTextContent=d,n.appendChild=s,n.insertOrAppend=u,n.documentCreateElement=c,n.replaceWithNewNode=p,n.replaceChild=h,n.removeChild=f,n.removeAllChildren=v,n.removeChildren=g,n.isKeyed=m},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.options={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]}},function(e,n,t){"use strict";function r(e,n,t,r,o,a,i){this.children=e,this.className=n,this.dom=null,this.flags=t,this.key=r,this.props=o,this.ref=a,this.type=i}function o(e,n,t,o,a,i,l,d){16&e&&(e=u.isStatefulComponent(n)?4:8);var s=new r(void 0===o?null:o,void 0===t?null:t,e,void 0===i?null:i,void 0===a?null:a,void 0===l?null:l,n);return!0!==d&&p.normalize(s),null!==h.options.createVNode&&h.options.createVNode(s),s}function a(e){var n,t=e.flags;if(28&t){var r=void 0,i=e.props;if(u.isNull(i))r=c.EMPTY_OBJ;else{r={};for(var l in i)r[l]=i[l]}n=o(t,e.type,null,null,r,e.key,e.ref,!0);var p=n.props,h=p.children;if(h)if(u.isArray(h)){var f=h.length;if(f>0){for(var v=[],g=0;g<f;g++){var m=h[g];u.isStringOrNumber(m)?v.push(m):!u.isInvalid(m)&&s(m)&&v.push(a(m))}p.children=v}}else s(h)&&(p.children=a(h));n.children=null}else if(3970&t){var b=e.children,r=void 0,i=e.props;if(null===i)r=c.EMPTY_OBJ;else{r={};for(var l in i)r[l]=i[l]}n=o(t,e.type,e.className,b,r,e.key,e.ref,!b)}else 1&t&&(n=d(e.children,e.key));return n}function i(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=t,l=t.length;l>0&&!u.isUndefined(t[0])&&(n||(n={}),1===l&&(i=t[0]),u.isUndefined(i)||(n.children=i));var p;if(u.isArray(e)){for(var h=[],f=0,v=e.length;f<v;f++)h.push(a(e[f]));p=h}else{var g=e.flags,m=e.className||n&&n.className,b=u.isNullOrUndef(e.key)?n?n.key:null:e.key,k=e.ref||(n?n.ref:null);if(28&g){p=o(g,e.type,m,null,e.props||n?u.combineFrom(e.props,n):c.EMPTY_OBJ,b,k,!0);var w=p.props;if(w){var N=w.children;if(N)if(u.isArray(N)){var v=N.length;if(v>0){for(var h=[],f=0;f<v;f++){var y=N[f];u.isStringOrNumber(y)?h.push(y):!u.isInvalid(y)&&s(y)&&h.push(a(y))}w.children=h}}else s(N)&&(w.children=a(N))}p.children=null}else 3970&g?(i=n&&!u.isUndefined(n.children)?n.children:e.children,p=o(g,e.type,m,i,e.props||n?u.combineFrom(e.props,n):c.EMPTY_OBJ,b,k,!i)):1&g&&(p=d(e.children,b))}return p}function l(){return o(4096,null)}function d(e,n){return o(1,null,null,e,null,n)}function s(e){return!!e.flags}Object.defineProperty(n,"__esModule",{value:!0});var u=t(0),c=t(2),p=t(20),h=t(3);n.createVNode=o,n.directClone=a,n.cloneVNode=i,n.createVoidVNode=l,n.createTextVNode=d,n.isVNode=s},function(e,n,t){"use strict";function r(e,n,t,r,o,i,u){if(e!==n){var c=e.flags,p=n.flags;28&p?28&c?l(e,n,t,r,o,i,4&p,u):_.replaceVNode(t,j.mountComponent(n,null,r,o,i,(4&p)>0),e,r,u):3970&p?3970&c?a(e,n,t,r,o,i,u):_.replaceVNode(t,j.mountElement(n,null,r,o,i),e,r,u):1&p?1&c?d(e,n):_.replaceVNode(t,j.mountText(n,null),e,r,u):4096&p?4096&c?s(e,n):_.replaceVNode(t,j.mountVoid(n,null),e,r,u):_.replaceLastChildAndUnmount(e,n,t,r,o,i,u)}}function o(e,n,t,r){w.isVNode(e)?O.unmount(e,n,t,!0,r):b.isArray(e)?_.removeAllChildren(n,e,t,r):n.textContent=""}function a(e,n,t,r,o,a,l){var d=n.type;if(e.type!==d)_.replaceWithNewNode(e,n,t,r,o,a,l);else{var s=e.dom,u=e.props,c=n.props,p=e.children,h=n.children,v=e.flags,g=n.flags,k=n.ref,w=e.className,N=n.className;if(n.dom=s,a=a||(128&g)>0,p!==h&&i(v,g,p,h,s,r,o,a,l),u!==c){var y=u||_.EMPTY_OBJ,V=c||_.EMPTY_OBJ,O=!1;if(V!==_.EMPTY_OBJ){var C=(3584&g)>0;C&&(O=z.isControlledFormElement(V));for(var x in V){var E=V[x];f(x,y[x],E,s,a,O)}C&&z.processElement(g,n,s,V,!1,O)}if(y!==_.EMPTY_OBJ)for(var x in y)b.isNullOrUndef(V[x])&&m(x,y[x],s)}w!==N&&(b.isNullOrUndef(N)?s.removeAttribute("class"):a?s.setAttribute("class",N):s.className=N),k&&(e.ref!==k||l)&&j.mountRef(s,k,r)}}function i(e,n,t,a,i,l,d,s,p){var h=!1,f=!1;64&n?h=!0:(32&e)>0&&(32&n)>0?(f=!0,h=!0):b.isInvalid(a)?o(t,i,l,p):b.isInvalid(t)?b.isStringOrNumber(a)?_.setTextContent(i,a):b.isArray(a)?j.mountArrayChildren(a,i,l,d,s):j.mount(a,i,l,d,s):b.isStringOrNumber(a)?b.isStringOrNumber(t)?_.updateTextContent(i,a):(o(t,i,l,p),_.setTextContent(i,a)):b.isArray(a)?b.isArray(t)?(h=!0,_.isKeyed(t,a)&&(f=!0)):(o(t,i,l,p),j.mountArrayChildren(a,i,l,d,s)):b.isArray(t)?(_.removeAllChildren(i,t,l,p),j.mount(a,i,l,d,s)):w.isVNode(a)&&(w.isVNode(t)?r(t,a,i,l,d,s,p):(o(t,i,l,p),j.mount(a,i,l,d,s))),h&&(f?c(t,a,i,l,d,s,p):u(t,a,i,l,d,s,p))}function l(e,n,t,o,a,i,l,d){var s=e.type,u=n.type,c=e.key,p=n.key;if(s!==u||c!==p)return _.replaceWithNewNode(e,n,t,o,a,i,d),!1;var h=n.props||_.EMPTY_OBJ;if(l){var f=e.children;if(f._updating=!0,f._unmounted){if(b.isNull(t))return!0;_.replaceChild(t,j.mountComponent(n,null,o,a,i,(4&n.flags)>0),e.dom)}else{var v=!b.isUndefined(f.componentDidUpdate),g=f.state,m=v?b.combineFrom(g,null):g,N=f.props,y=void 0;b.isUndefined(f.getChildContext)||(y=f.getChildContext()),n.children=f,f._isSVG=i,y=b.isNullOrUndef(y)?a:b.combineFrom(a,y);var O=f._lastInput,z=f._updateComponent(m,g,N,h,a,!1,!1),C=!0;f._childContext=y,b.isInvalid(z)?z=w.createVoidVNode():z===b.NO_OP?(z=O,C=!1):b.isStringOrNumber(z)?z=w.createTextVNode(z,null):b.isArray(z)?b.throwError():b.isObject(z)&&(b.isNull(z.dom)||(z=w.directClone(z))),28&z.flags?z.parentVNode=n:28&O.flags&&(O.parentVNode=n),f._lastInput=z,f._vNode=n,C&&(r(O,z,t,o,y,i,d),v&&f.componentDidUpdate(N,m),b.isNull(k.options.afterUpdate)||k.options.afterUpdate(n),k.options.findDOMNodeEnabled&&V.componentToDOMNodeMap.set(f,z.dom)),n.dom=z.dom}f._updating=!1}else{var x=!0,N=e.props,E=n.ref,U=!b.isNullOrUndef(E),O=e.children,z=O;n.dom=e.dom,n.children=O,c!==p?x=!0:U&&!b.isNullOrUndef(E.onComponentShouldUpdate)&&(x=E.onComponentShouldUpdate(N,h)),!1!==x&&(U&&!b.isNullOrUndef(E.onComponentWillUpdate)&&E.onComponentWillUpdate(N,h),z=u(h,a),b.isInvalid(z)?z=w.createVoidVNode():b.isStringOrNumber(z)&&z!==b.NO_OP?z=w.createTextVNode(z,null):b.isArray(z)?b.throwError():b.isObject(z)&&(b.isNull(z.dom)||(z=w.directClone(z))),z!==b.NO_OP&&(r(O,z,t,o,a,i,d),n.children=z,U&&!b.isNullOrUndef(E.onComponentDidUpdate)&&E.onComponentDidUpdate(N,h),n.dom=z.dom)),28&z.flags?z.parentVNode=n:28&O.flags&&(O.parentVNode=n)}return!1}function d(e,n){var t=n.children,r=e.dom;n.dom=r,e.children!==t&&(r.nodeValue=t)}function s(e,n){n.dom=e.dom}function u(e,n,t,o,a,i,l){for(var d=e.length,s=n.length,u=d>s?s:d,c=0;c<u;c++){var p=n[c];p.dom&&(p=n[c]=w.directClone(p)),r(e[c],p,t,o,a,i,l)}if(d<s)for(c=u;c<s;c++){var p=n[c];p.dom&&(p=n[c]=w.directClone(p)),_.appendChild(t,j.mount(p,null,o,a,i))}else if(0===s)_.removeAllChildren(t,e,o,l);else if(d>s)for(c=u;c<d;c++)O.unmount(e[c],t,o,!1,l)}function c(e,n,t,o,a,i,l){var d,s,u,c,h,f,v,g=e.length,m=n.length,k=g-1,N=m-1,y=0,V=0;if(0===g)return void(m>0&&j.mountArrayChildren(n,t,o,a,i));if(0===m)return void _.removeAllChildren(t,e,o,l);var z=e[y],C=n[V],x=e[k],E=n[N];C.dom&&(n[V]=C=w.directClone(C)),E.dom&&(n[N]=E=w.directClone(E));e:for(;;){for(;z.key===C.key;){if(r(z,C,t,o,a,i,l),y++,V++,y>k||V>N)break e;z=e[y],C=n[V],C.dom&&(n[V]=C=w.directClone(C))}for(;x.key===E.key;){if(r(x,E,t,o,a,i,l),k--,N--,y>k||V>N)break e;x=e[k],E=n[N],E.dom&&(n[N]=E=w.directClone(E))}if(x.key!==C.key){if(z.key!==E.key)break;r(z,E,t,o,a,i,l),f=N+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,E.dom,h),y++,N--,z=e[y],E=n[N],E.dom&&(n[N]=E=w.directClone(E))}else r(x,C,t,o,a,i,l),_.insertOrAppend(t,C.dom,z.dom),k--,V++,x=e[k],C=n[V],C.dom&&(n[V]=C=w.directClone(C))}if(y>k){if(V<=N)for(f=N+1,h=f<n.length?n[f].dom:null;V<=N;)v=n[V],v.dom&&(n[V]=v=w.directClone(v)),V++,_.insertOrAppend(t,j.mount(v,null,o,a,i),h)}else if(V>N)for(;y<=k;)O.unmount(e[y++],t,o,!1,l);else{g=k-y+1,m=N-V+1;var U=new Array(m);for(d=0;d<m;d++)U[d]=-1;var P=!1,R=0,M=0;if(m<=4||g*m<=16){for(d=y;d<=k;d++)if(u=e[d],M<m)for(s=V;s<=N;s++)if(c=n[s],u.key===c.key){U[s-V]=d,R>s?P=!0:R=s,c.dom&&(n[s]=c=w.directClone(c)),r(u,c,t,o,a,i,l),M++,e[d]=null;break}}else{var S=new Map;for(d=V;d<=N;d++)S.set(n[d].key,d);for(d=y;d<=k;d++)u=e[d],M<m&&(s=S.get(u.key),b.isUndefined(s)||(c=n[s],U[s-V]=d,R>s?P=!0:R=s,c.dom&&(n[s]=c=w.directClone(c)),r(u,c,t,o,a,i,l),M++,e[d]=null))}if(g===e.length&&0===M)for(_.removeAllChildren(t,e,o,l);V<m;)v=n[V],v.dom&&(n[V]=v=w.directClone(v)),V++,_.insertOrAppend(t,j.mount(v,null,o,a,i),null);else{for(d=g-M;d>0;)u=e[y++],b.isNull(u)||(O.unmount(u,t,o,!0,l),d--);if(P){var D=p(U);for(s=D.length-1,d=m-1;d>=0;d--)-1===U[d]?(R=d+V,v=n[R],v.dom&&(n[R]=v=w.directClone(v)),f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,j.mount(v,t,o,a,i),h)):s<0||d!==D[s]?(R=d+V,v=n[R],f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,v.dom,h)):s--}else if(M!==m)for(d=m-1;d>=0;d--)-1===U[d]&&(R=d+V,v=n[R],v.dom&&(n[R]=v=w.directClone(v)),f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,j.mount(v,null,o,a,i),h))}}}function p(e){var n,t,r,o,a,i=e.slice(0),l=[0],d=e.length;for(n=0;n<d;n++){var s=e[n];if(-1!==s)if(t=l[l.length-1],e[t]<s)i[n]=t,l.push(n);else{for(r=0,o=l.length-1;r<o;)a=(r+o)/2|0,e[l[a]]<s?r=a+1:o=a;s<e[l[r]]&&(r>0&&(i[n]=l[r-1]),l[r]=n)}}for(r=l.length,o=l[r-1];r-- >0;)l[r]=o,o=i[o];return l}function h(e){return"o"===e[0]&&"n"===e[1]}function f(e,n,t,r,o,a){if(n!==t){if(N.skipProps.has(e)||a&&"value"===e)return;if(N.booleanProps.has(e))e="autoFocus"===e?e.toLowerCase():e,r[e]=!!t;else if(N.strictProps.has(e)){var i=b.isNullOrUndef(t)?"":t;r[e]!==i&&(r[e]=i)}else if(h(e))v(e,n,t,r);else if(b.isNullOrUndef(t))r.removeAttribute(e);else if("style"===e)g(n,t,r);else if("dangerouslySetInnerHTML"===e){var l=n&&n.__html,d=t&&t.__html;l!==d&&(b.isNullOrUndef(d)||(r.innerHTML=d))}else o&&N.namespaces.has(e)?r.setAttributeNS(N.namespaces.get(e),e,t):r.setAttribute(e,t)}}function v(e,n,t,r){if(n!==t)if(N.delegatedEvents.has(e))y.handleEvent(e,n,t,r);else{var o=e.toLowerCase(),a=r[o];if(a&&a.wrapped)return;if(b.isFunction(t)||b.isNullOrUndef(t))r[o]=t;else{var i=t.event;i&&b.isFunction(i)?r[o]=function(e){i(t.data,e)}:b.throwError()}}}function g(e,n,t){var r=t.style;if(b.isString(n))return void(r.cssText=n);for(var o in n){var a=n[o];!b.isNumber(a)||N.isUnitlessNumber.has(o)?r[o]=a:r[o]=a+"px"}if(!b.isNullOrUndef(e))for(var o in e)b.isNullOrUndef(n[o])&&(r[o]="")}function m(e,n,t){"value"===e?t.value="":"style"===e?t.removeAttribute("style"):h(e)?y.handleEvent(e,n,null,t):t.removeAttribute(e)}Object.defineProperty(n,"__esModule",{value:!0});var b=t(0),k=t(3),w=t(4),N=t(8),y=t(44),j=t(9),V=t(6),O=t(11),_=t(2),z=t(12);n.patch=r,n.patchElement=a,n.patchComponent=l,n.patchText=d,n.patchVoid=s,n.patchNonKeyedChildren=u,n.patchKeyedChildren=c,n.isAttrAnEvent=h,n.patchProp=f,n.patchEvent=v,n.patchStyle=g},function(e,n,t){"use strict";function r(e){u.options.findDOMNodeEnabled||s.throwError();var t=e&&e.nodeType?e:null;return n.componentToDOMNodeMap.get(e)||t}function o(e){for(var n=0,t=m.length;n<t;n++){var r=m[n];if(r.dom===e)return r}return null}function a(e,n,t){var r={dom:e,input:n,lifecycle:t};return m.push(r),r}function i(e){for(var n=0,t=m.length;n<t;n++)if(m[n]===e)return void m.splice(n,1)}function l(e,n){if(b===n&&s.throwError(),e!==s.NO_OP){var t=o(n);if(s.isNull(t)){var r=new s.Lifecycle;s.isInvalid(e)||(e.dom&&(e=c.directClone(e)),p.hydrateRoot(e,n,r)||h.mount(e,n,r,g.EMPTY_OBJ,!1),t=a(n,e,r),r.trigger())}else{var r=t.lifecycle;r.listeners=[],s.isNullOrUndef(e)?(v.unmount(t.input,n,r,!1,!1),i(t)):(e.dom&&(e=c.directClone(e)),f.patch(t.input,e,n,r,g.EMPTY_OBJ,!1,!1)),t.input=e,r.trigger()}if(t){var l=t.input;if(l&&28&l.flags)return l.children}}}function d(e){return function(n,t){e||(e=n),l(t,e)}}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(3),c=t(4),p=t(46),h=t(9),f=t(5),v=t(11),g=t(2);n.componentToDOMNodeMap=new Map;var m=u.options.roots;n.findDOMNode=r;var b=s.isBrowser?document.body:null;n.render=l,n.createRenderer=d},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(10),a=t(14),i=t(0),l=t(18),d=Promise.resolve(),s=function(e){function n(n,t){var r=e.call(this,n,t)||this;return r._onComponentResolved=function(e,n){r.setState({asyncComponent:n})},r.state={asyncComponent:null},r}return r(n,e),n.prototype.componentWillMount=function(){var e=this,n=this.props.onEnter,t=this.context.router;n&&d.then(function(){n({props:e.props,router:t})});var r=this.props.getComponent;r&&d.then(function(){r({props:e.props,router:t},e._onComponentResolved)})},n.prototype.onLeave=function(e){void 0===e&&(e=!1);var n=this.props.onLeave,t=this.context.router;n&&e&&n({props:this.props,router:t})},n.prototype.onEnter=function(e){var n=e.onEnter,t=this.context.router;this.props.path!==e.path&&n&&n({props:e,router:t})},n.prototype.getComponent=function(e){var n=e.getComponent,t=this.context.router;this.props.path!==e.path&&n&&n({props:e,router:t},this._onComponentResolved)},n.prototype.componentWillUnmount=function(){this.onLeave(!0)},n.prototype.componentWillReceiveProps=function(e){this.getComponent(e),this.onEnter(e),this.onLeave(this.props.path!==e.path)},n.prototype.render=function(e){var n=e.component,t=e.children,r=l.rest(e,["component","children","path","getComponent"]),o=this.state.asyncComponent,d=n||o;return d?a.default(d,r,t):i.isArray(t)?null:t},n}(o.default);n.default=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.xlinkNS="http://www.w3.org/1999/xlink",n.xmlNS="http://www.w3.org/XML/1998/namespace",n.svgNS="http://www.w3.org/2000/svg",n.strictProps=new Set,n.strictProps.add("volume"),n.strictProps.add("defaultChecked"),n.booleanProps=new Set,n.booleanProps.add("muted"),n.booleanProps.add("scoped"),n.booleanProps.add("loop"),n.booleanProps.add("open"),n.booleanProps.add("checked"),n.booleanProps.add("default"),n.booleanProps.add("capture"),n.booleanProps.add("disabled"),n.booleanProps.add("readOnly"),n.booleanProps.add("required"),n.booleanProps.add("autoplay"),n.booleanProps.add("controls"),n.booleanProps.add("seamless"),n.booleanProps.add("reversed"),n.booleanProps.add("allowfullscreen"),n.booleanProps.add("novalidate"),n.booleanProps.add("hidden"),n.booleanProps.add("autoFocus"),n.booleanProps.add("selected"),n.namespaces=new Map,n.namespaces.set("xlink:href",n.xlinkNS),n.namespaces.set("xlink:arcrole",n.xlinkNS),n.namespaces.set("xlink:actuate",n.xlinkNS),n.namespaces.set("xlink:show",n.xlinkNS),n.namespaces.set("xlink:role",n.xlinkNS),n.namespaces.set("xlink:title",n.xlinkNS),n.namespaces.set("xlink:type",n.xlinkNS),n.namespaces.set("xml:base",n.xmlNS),n.namespaces.set("xml:lang",n.xmlNS),n.namespaces.set("xml:space",n.xmlNS),n.isUnitlessNumber=new Set,n.isUnitlessNumber.add("animationIterationCount"),n.isUnitlessNumber.add("borderImageOutset"),n.isUnitlessNumber.add("borderImageSlice"),n.isUnitlessNumber.add("borderImageWidth"),n.isUnitlessNumber.add("boxFlex"),n.isUnitlessNumber.add("boxFlexGroup"),n.isUnitlessNumber.add("boxOrdinalGroup"),n.isUnitlessNumber.add("columnCount"),n.isUnitlessNumber.add("flex"),n.isUnitlessNumber.add("flexGrow"),n.isUnitlessNumber.add("flexPositive"),n.isUnitlessNumber.add("flexShrink"),n.isUnitlessNumber.add("flexNegative"),n.isUnitlessNumber.add("flexOrder"),n.isUnitlessNumber.add("gridRow"),n.isUnitlessNumber.add("gridColumn"),n.isUnitlessNumber.add("fontWeight"),n.isUnitlessNumber.add("lineClamp"),n.isUnitlessNumber.add("lineHeight"),n.isUnitlessNumber.add("opacity"),n.isUnitlessNumber.add("order"),n.isUnitlessNumber.add("orphans"),n.isUnitlessNumber.add("tabSize"),n.isUnitlessNumber.add("widows"),n.isUnitlessNumber.add("zIndex"),n.isUnitlessNumber.add("zoom"),n.isUnitlessNumber.add("fillOpacity"),n.isUnitlessNumber.add("floodOpacity"),n.isUnitlessNumber.add("stopOpacity"),n.isUnitlessNumber.add("strokeDasharray"),n.isUnitlessNumber.add("strokeDashoffset"),n.isUnitlessNumber.add("strokeMiterlimit"),n.isUnitlessNumber.add("strokeOpacity"),n.isUnitlessNumber.add("strokeWidth"),n.skipProps=new Set,n.skipProps.add("children"),n.skipProps.add("childrenType"),n.skipProps.add("defaultValue"),n.skipProps.add("ref"),n.skipProps.add("key"),n.skipProps.add("checked"),n.skipProps.add("multiple"),n.delegatedEvents=new Set,n.delegatedEvents.add("onClick"),n.delegatedEvents.add("onMouseDown"),n.delegatedEvents.add("onMouseUp"),n.delegatedEvents.add("onMouseMove"),n.delegatedEvents.add("onSubmit"),n.delegatedEvents.add("onDblClick"),n.delegatedEvents.add("onKeyDown"),n.delegatedEvents.add("onKeyUp"),n.delegatedEvents.add("onKeyPress")},function(e,n,t){"use strict";function r(e,n,t,r,l){var s=e.flags;return 3970&s?i(e,n,t,r,l):28&s?d(e,n,t,r,l,(4&s)>0):4096&s?a(e,n):1&s?o(e,n):void p.throwError()}function o(e,n){var t=document.createTextNode(e.children);return e.dom=t,p.isNull(n)||b.appendChild(n,t),t}function a(e,n){var t=document.createTextNode("");return e.dom=t,p.isNull(n)||b.appendChild(n,t),t}function i(e,n,t,o,a){if(h.options.recyclingEnabled){var i=g.recycleElement(e,t,o,a);if(!p.isNull(i))return p.isNull(n)||b.appendChild(n,i),i}var d=e.flags;a=a||(128&d)>0;var s=b.documentCreateElement(e.type,a),u=e.children,m=e.props,w=e.className,N=e.ref;if(e.dom=s,p.isInvalid(u)||(p.isStringOrNumber(u)?b.setTextContent(s,u):p.isArray(u)?l(u,s,t,o,a):f.isVNode(u)&&r(u,s,t,o,a)),!p.isNull(m)){var y=!1,j=(3584&d)>0;j&&(y=k.isControlledFormElement(m));for(var V in m)v.patchProp(V,null,m[V],s,a,y);j&&k.processElement(d,e,s,m,!0,y)}return null!==w&&(a?s.setAttribute("class",w):s.className=w),p.isNull(N)||c(s,N,t),p.isNull(n)||b.appendChild(n,s),s}function l(e,n,t,o,a){for(var i=0,l=e.length;i<l;i++){var d=e[i];p.isInvalid(d)||(d.dom&&(e[i]=d=f.directClone(d)),r(e[i],n,t,o,a))}}function d(e,n,t,o,a,i){if(h.options.recyclingEnabled){var l=g.recycleComponent(e,t,o,a);if(!p.isNull(l))return p.isNull(n)||b.appendChild(n,l),l}var d,c=e.type,f=e.props||b.EMPTY_OBJ,v=e.ref;if(i){var k=b.createClassComponentInstance(e,c,f,o,a,t),w=k._lastInput;k._vNode=e,e.dom=d=r(w,null,t,k._childContext,a),p.isNull(n)||b.appendChild(n,d),s(e,v,k,t),k._updating=!1,h.options.findDOMNodeEnabled&&m.componentToDOMNodeMap.set(k,d)}else{var w=b.createFunctionalComponentInput(e,c,f,o);e.dom=d=r(w,null,t,o,a),e.children=w,u(v,d,t),p.isNull(n)||b.appendChild(n,d)}return d}function s(e,n,t,r){n&&(p.isFunction(n)?n(t):p.throwError());var o=!p.isUndefined(t.componentDidMount),a=h.options.afterMount;!o&&p.isNull(a)||r.addListener(function(){t._updating=!0,a&&a(e),o&&t.componentDidMount(),t._updating=!1})}function u(e,n,t){e&&(p.isNullOrUndef(e.onComponentWillMount)||e.onComponentWillMount(),p.isNullOrUndef(e.onComponentDidMount)||t.addListener(function(){return e.onComponentDidMount(n)}))}function c(e,n,t){if(p.isFunction(n))t.addListener(function(){return n(e)});else{if(p.isInvalid(n))return;p.throwError()}}Object.defineProperty(n,"__esModule",{value:!0});var p=t(0),h=t(3),f=t(4),v=t(5),g=t(19),m=t(6),b=t(2),k=t(12);n.mount=r,n.mountText=o,n.mountVoid=a,n.mountElement=i,n.mountArrayChildren=l,n.mountComponent=d,n.mountClassComponentCallbacks=s,n.mountFunctionalComponentCallbacks=u,n.mountRef=c},function(e,n,t){e.exports=t(35).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,n,t,r,l){var d=e.flags;28&d?a(e,n,t,r,l):3970&d?i(e,n,t,r,l):4097&d&&o(e,n)}function o(e,n){s.isNull(n)||f.removeChild(n,e.dom)}function a(e,n,t,o,a){var i=e.children,l=e.flags,d=4&l,c=e.ref,v=e.dom;if(a||(d?i._unmounted||(i._blockSetState=!0,s.isNull(u.options.beforeUnmount)||u.options.beforeUnmount(e),s.isUndefined(i.componentWillUnmount)||i.componentWillUnmount(),c&&!a&&c(null),i._unmounted=!0,u.options.findDOMNodeEnabled&&h.componentToDOMNodeMap.delete(i),r(i._lastInput,null,i._lifecycle,!1,a)):(s.isNullOrUndef(c)||s.isNullOrUndef(c.onComponentWillUnmount)||c.onComponentWillUnmount(v),r(i,null,t,!1,a))),n){var g=i._lastInput;s.isNullOrUndef(g)&&(g=i),f.removeChild(n,v)}u.options.recyclingEnabled&&!d&&(n||o)&&p.poolComponent(e)}function i(e,n,t,r,o){var a=e.dom,i=e.ref,h=e.props;i&&!o&&d(i);var v=e.children;if(s.isNullOrUndef(v)||l(v,t,o),!s.isNull(h))for(var g in h)null!==h[g]&&c.isAttrAnEvent(g)&&(c.patchEvent(g,h[g],null,a),h[g]=null);s.isNull(n)||f.removeChild(n,a),u.options.recyclingEnabled&&(n||r)&&p.poolElement(e)}function l(e,n,t){if(s.isArray(e))for(var o=0,a=e.length;o<a;o++){var i=e[o];!s.isInvalid(i)&&s.isObject(i)&&r(i,null,n,!1,t)}else s.isObject(e)&&r(e,null,n,!1,t)}function d(e){if(s.isFunction(e))e(null);else{if(s.isInvalid(e))return;s.throwError()}}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(3),c=t(5),p=t(19),h=t(6),f=t(2);n.unmount=r,n.unmountComponent=a,n.unmountElement=i},function(e,n,t){"use strict";function r(e,n,t,r,o,a){512&e&&i.processInput(n,t,r,o,a),2048&e&&l.processSelect(n,t,r,o,a),1024&e&&d.processTextarea(n,t,r,o,a)}function o(e){return e.type&&i.isCheckedType(e.type)?!a.isNullOrUndef(e.checked):!a.isNullOrUndef(e.value)}Object.defineProperty(n,"__esModule",{value:!0});var a=t(0),i=t(47),l=t(48),d=t(49);n.processElement=r,n.isControlledFormElement=o},function(e,n,t){"use strict";n.__esModule=!0;n.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},n.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},n.stripPrefix=function(e,n){return 0===e.indexOf(n)?e.substr(n.length):e},n.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},n.parsePath=function(e){var n=e||"/",t="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var a=n.indexOf("?");return-1!==a&&(t=n.substr(a),n=n.substr(0,a)),n=decodeURI(n),{pathname:n,search:"?"===t?"":t,hash:"#"===r?"":r}},n.createPath=function(e){var n=e.pathname,t=e.search,r=e.hash,o=encodeURI(n||"/");return t&&"?"!==t&&(o+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,n,t){e.exports=t(36).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,n,t){return i.createVNode(2,"a",e,n,t)}function o(e,n){var t,o=n.router,i=e.activeClassName,d=e.activeStyle,s=e.className,u=e.onClick,c=e.children,p=e.to,h=a(e,["activeClassName","activeStyle","className","onClick","children","to"]);return s&&(t=s),o?(h.href=l.isBrowser?o.createHref({pathname:p}):o.location.baseUrl?o.location.baseUrl+p:p,o.location.pathname===p&&(i&&(t=(s?s+" ":"")+i),d&&(h.style=l.combineFrom(e.style,d))),h.onclick=function(e){0!==e.button||e.ctrlKey||e.altKey||e.metaKey||e.shiftKey||(e.preventDefault(),"function"==typeof u&&u(e),o.push(p,e.target.textContent))},r(t,c,h)):(h.href=p,h.onClick=u,r(t,c,h))}var a=this&&this.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&(t[r[o]]=e[r[o]]);return t};Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),l=t(0);n.default=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(10),a=function(e){function n(n,t){return e.call(this,n,t)||this}return r(n,e),n.prototype.getChildContext=function(){return{router:this.props.router||{location:{baseUrl:this.props.baseUrl,pathname:this.props.location}}}},n.prototype.render=function(e){return e.matched},n}(o.default);n.default=a},function(e,n,t){"use strict";function r(e,n){var t=s.getURLString(n);return o(l.toArray(e),encodeURI(t),"/")}function o(e,n,t,r){void 0===n&&(n="/"),void 0===t&&(t="/"),void 0===r&&(r=!1);var d=l.isArray(e)?s.flatten(e):l.toArray(e),u=n.split("?"),c=u[0],p=void 0===c?"/":c,h=u[1],f=void 0===h?"":h,v=s.mapSearchParams(f);d.sort(s.pathRankSort);for(var g=0,m=d.length;g<m;g++){var b=d[g],k=b.props||s.emptyObject,w=k.from||k.path||"/",N=t+s.toPartialURL(w,t).replace(/\/\//g,"/"),y=s.isEmpty(k.children),j=a(y,N,p);if(j){var V=k.children;if(k.from&&(r=k.to),V){var O=o(V,n,N,r);if(O){if(O.redirect)return{location:N,redirect:O.redirect};V=O.matched;var _=V.props.params;for(var z in _)v[z]=_[z]}else V=null}return{location:N,redirect:r,matched:i.default.cloneVNode(b,{params:l.combineFrom(v,j.params),children:V})}}}}function a(e,n,t){var r=n+"|"+e,o=u.get(r);if(void 0===o){var a=[];o={pattern:d.default(n,a,{end:e}),keys:a},u.set(r,o)}var i=o.pattern.exec(t);if(!i)return null;for(var l=i[0],c=Object.create(null),p=1,h=i.length;p<h;p+=1)c[o.keys[p-1].name]=s.decode(i[p]);return{path:""===l?"/":l,params:c}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),l=t(0),d=t(53),s=t(18),u=new Map;n.default=r,n.matchPath=a},function(e,n,t){"use strict";function r(e){return"string"!=typeof e?e:decodeURIComponent(e)}function o(e){return!e||!(v.isArray(e)?e:Object.keys(e)).length}function a(e){var n=[];return f(e,n),n}function i(e){return v.isString(e)?e:e.pathname+e.search}function l(e){if(""===e)return{};for(var n=Object.create(null),t=e.split("&"),r=0,o=t.length;r<o;r++){var a=t[r],i=a.split("=").map(c).map(decodeURIComponent),l=i[0],d=i[1];n[l]?(n[l]=v.isArray(n[l])?n[l]:[n[l]],n[l].push(d)):n[l]=d}return n}function d(e,n){return 0===e.indexOf(n)?e.substr(n.length):e}function s(e,n){var t={};for(var r in e)n.indexOf(r)<0&&(t[r]=e[r]);return t}function u(e,t){var r=e.props||n.emptyObject,o=t.props||n.emptyObject;return h(o.path)-h(r.path)||(o.path&&r.path?o.path.length-r.path.length:0)}function c(e,n){return decodeURIComponent(0|n?e:e.replace("[]",""))}function p(e){return e.replace(/(^\/+|\/+$)/g,"")}function h(e){return void 0===e&&(e=""),(p(e).match(/\/+/g)||"").length}function f(e,n){for(var t=0,r=e.length;t<r;t++){var o=e[t];v.isArray(o)?f(o,n):n.push(o)}}Object.defineProperty(n,"__esModule",{value:!0});var v=t(0);n.emptyObject={},n.decode=r,n.isEmpty=o,n.flatten=a,n.getURLString=i,n.mapSearchParams=l,n.toPartialURL=d,n.rest=s,n.pathRankSort=u},function(e,n,t){"use strict";function r(e,n,t,r){var o=e.type,a=u.get(o);if(!l.isUndefined(a)){var i=e.key,s=null===i?a.nonKeyed:a.keyed.get(i);if(!l.isUndefined(s)){var c=s.pop();if(!l.isUndefined(c))return d.patchElement(c,e,null,n,t,r,!0),e.dom}}return null}function o(e){var n=e.type,t=e.key,r=u.get(n);if(l.isUndefined(r)&&(r={keyed:new Map,nonKeyed:[]},u.set(n,r)),l.isNull(t))r.nonKeyed.push(e);else{var o=r.keyed.get(t);l.isUndefined(o)&&(o=[],r.keyed.set(t,o)),o.push(e)}}function a(e,n,t,r){var o=e.type,a=s.get(o);if(!l.isUndefined(a)){var i=e.key,u=null===i?a.nonKeyed:a.keyed.get(i);if(!l.isUndefined(u)){var c=u.pop();if(!l.isUndefined(c)){var p=e.flags;if(!d.patchComponent(c,e,null,n,t,r,4&p,!0))return e.dom}}}return null}function i(e){var n=e.ref;if(!n||!(n.onComponentWillMount||n.onComponentWillUnmount||n.onComponentDidMount||n.onComponentWillUpdate||n.onComponentDidUpdate)){var t=e.type,r=e.key,o=s.get(t);if(l.isUndefined(o)&&(o={keyed:new Map,nonKeyed:[]},s.set(t,o)),l.isNull(r))o.nonKeyed.push(e);else{var a=o.keyed.get(r);l.isUndefined(a)&&(a=[],o.keyed.set(r,a)),a.push(e)}}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),d=t(5),s=new Map,u=new Map;n.recycleElement=r,n.poolElement=o,n.recycleComponent=a,n.poolComponent=i},function(e,n,t){"use strict";function r(e,n){return n.key=e,n}function o(e,n){return p.isNumber(e)&&(e="."+e),p.isNull(n.key)||"."===n.key[0]?r(e,n):n}function a(e,n){return n.key=e+n.key,n}function i(e,n,t,o){for(var l=e.length;t<l;t++){var d=e[t],s=o+"."+t;p.isInvalid(d)||(p.isArray(d)?i(d,n,0,s):(p.isStringOrNumber(d)?d=h.createTextVNode(d,null):(h.isVNode(d)&&d.dom||d.key&&"."===d.key[0])&&(d=h.directClone(d)),d=p.isNull(d.key)||"."===d.key[0]?r(s,d):a(o,d),n.push(d)))}}function l(e){var n;!0===e.$?e=e.slice():e.$=!0;for(var t=0,r=e.length;t<r;t++){var a=e[t];if(p.isInvalid(a)||p.isArray(a)){var l=(n||e).slice(0,t);return i(e,l,t,""),l}p.isStringOrNumber(a)?(n||(n=e.slice(0,t)),n.push(o(t,h.createTextVNode(a,null)))):h.isVNode(a)&&null!==a.dom||p.isNull(a.key)&&0==(64&a.flags)?(n||(n=e.slice(0,t)),n.push(o(t,h.directClone(a)))):n&&n.push(o(t,h.directClone(a)))}return n||e}function d(e){return p.isArray(e)?l(e):h.isVNode(e)&&null!==e.dom?h.directClone(e):e}function s(e,n,t){3970&e.flags&&(p.isNullOrUndef(t)&&!p.isNullOrUndef(n.children)&&(e.children=n.children),p.isNullOrUndef(n.className)||(e.className=n.className,delete n.className)),n.ref&&(e.ref=n.ref,delete n.ref),p.isNullOrUndef(n.key)||(e.key=n.key,delete n.key)}function u(e){return"svg"===e?128:"input"===e?512:"select"===e?2048:"textarea"===e?1024:"media"===e?256:2}function c(e){var n=e.props,t=e.children;if(28&e.flags){var r=e.type,o=r.defaultProps;if(!p.isNullOrUndef(o))if(n)for(var a in o)p.isUndefined(n[a])&&(n[a]=o[a]);else n=e.props=o;p.isString(r)&&(e.flags=u(r),n&&n.children&&(e.children=n.children,t=n.children))}n&&(s(e,n,t),p.isInvalid(n.children)||(n.children=d(n.children))),p.isInvalid(t)||(e.children=d(t))}Object.defineProperty(n,"__esModule",{value:!0});var p=t(0),h=t(4);n.normalizeVNodes=l,n.getFlagsForElementVnode=u,n.normalize=c},function(e,n,t){"use strict";var r=function(){};e.exports=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Besluit=void 0;var r=t(1);n.Besluit=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Besluit"),(0,r.createVNode)(2,"p",null,"Uit het werk kunnen we besluiten dat de hiërarchie van de Romeinen goed in elkaar zat aangezien iedereen zijn plaats kende en er respect en aanzien was. Door deze organisatie was het Romeinse leger een van de succesvolste legers uit die tijd. Wanneer we het huidige leger vergelijken met het Romeinse stellen we vast dat onze hiërarchie een zeer uitgebreide versie is van die van het Romeinse leger. Er zijn meer onderverdelingen en meer componenten dan bij de Romeinen, maar dit is te wijten aan technologische en wetenschappelijke vooruitgang. Zo zijn er nu vliegtuigen, tanks, jeeps en vliegdekschepen wat ervoor zorgt dat iedere persoon binnen het leger zijn specifieke functie heeft en er dus meer verdeeldheid is. Op het vlak van bewapening waren de Romeinen ook goed voorzien. Ze waren veel bezig met het ontwikkelen van nieuwe wapens om hun vijanden te kunnen verrassen. Hun wapens waren efficiënt en doeltreffend waardoor ze vele veldslagen hebben gewonnen. Wanneer we het Romeinse leger met het huidige vergelijken stellen we vast dat alles is veranderd. Dit is weer te wijten aan technologische en wetenschappelijke vooruitgang. In huidige tijden wordt er niet meer gestreden met zwaarden, schilden en speren, maar met machinegeweren, langeafstandsraketten en computers. De Romeinen waren ongetwijfeld de grondleggers van verscheidene legers die later zijn ontstaan, maar sporen van hun wapens zijn in het huidige leger niet meer te vinden. Het Romeinse leger was een van de succesvolste legers uit de geschiedenis. Dit is te wijten aan hun ijzersterke discipline en goed bedachte tactieken en aanvalsplannen. De Romeinen begrepen ook zeer goed dat een veldslag niet enkel fysiek werd gestreden, maar ook mentaal. Ze wisten goed hoe ze het moreel bij hun troepen hoog moesten houden terwijl ze dat van de vijand verzwakten. Het verlies van een veldslag vond zijn oorzaak meestal bij slecht leiderschap. De tactieken van het huidige leger zijn zeer sterk veranderd aangezien alles vanop een langere afstand gebeurt en er meer en meer via robots wordt gewerkt. Vroeger waren bijna alle gevechten man tot man gevechten waardoor men tactieken kon toepassen zoals bijvoorbeeld: ruiters langs de flanken laten inkomen. Tegenwoordig heeft dit geen nut meer aangezien het aantal soldaten waarmee men oorlog voert sterk verminderd is.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bewapening=void 0;var r=t(1);n.Bewapening=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Hoe was de bewapening bij de Romeinen"),(0,r.createVNode)(2,"p",null,"Gedurende enkele eeuwen tot op de dag van vandaag ontstond er een voortdurende ontwikkeling van bewapening. Dit heeft zich kunnen verwezenlijken door de technologische vooruitgang met als gevolg dat de kracht van wapens aanzienlijk is vergroot. Maar om de evolutie van de bewapening waar te nemen, moeten we terugblikken ten tijde van het Romeinse imperium waar de basis werd gelegd."),(0,r.createVNode)(2,"h3",null,"Draagbare bewapening"),(0,r.createVNode)(2,"p",null,["Vele kinderen of jongeren lezen weleens strips zoals Asterix en Obelix of moeten op school enkele werkjes maken omtrent de Romeinse beschaving. Hierdoor krijgen ze een bepaald beeld over het Romeinse leven en met welke wapens de soldaten te werk gingen. Het algemene beeld die wij hiervan hebben, is dat elke soldaat een aanvalswapen en een verdedigingswapen ter beschikking had en dat iedere soldaat voorzien werd van stoere vechterskledij. Hierbij zijn vaak het zwaard en de speer de belangrijkste aanvalswapens en ter verdediging gebruikten ze het schild. Om zich te beschermen droegen ze vaak een harnas. Of deze algemene voorstelling altijd waar is, wordt in dit hoofdstuk onderzocht.",(0,r.createVNode)(2,"p"),"Bewapening bij Romeinse legionairs hielden telkens verband met de rang waartoe ze behoorden. Bewapening is net zoals de rangen in verschillende groepen te verdelen. Beginnen doen we met de verschillende tijdperken gaande van 105 v.Chr. tot einde 2de eeuw. Hierbij wordt een nieuw tijdperk telkens ingeleid bij ontstaan van nieuwe en belangrijke bewapening.",(0,r.createVNode)(2,"p"),"Bij de eerste generatie was de gladius (= zwaard) het belangrijkste aanvalswapen. Deze werd altijd gebruikt in combinatie met de aspis (= schild) waarmee ze zich konden verdedigen. In het begin had de gladius een korte lengte, geïnspireerd op het model van de Griekse xiphos. Het schild of de zogenaamde aspis werd vervaardigd uit hout met telkens een bronzen rand ter versterking. De vorm van het schild was rond en relatief groot ter vergelijking met wat er nog zou volgen. Ook hierbij hebben de Romeinen zich weer laten inspireren door de Grieken. Bij de volgende generatie wilden de Romeinen hun eigen stijl creëren waarin Griekse, Keltische en Italische invloeden verwerkt werden. Zo creëerden ze de scutum als vervanging van de aspis. Het had een ovale vorm en beschikte over tal van voordelen. Zo is het schild duurzamer en lichter dan de vorige en het beschikte over een schildknop (= metalen bol die zich centraal op het schild bevond). De functie van die knop was meer schade toe brengen aan de vijand. De aspis werd altijd in de linkerhand gedragen waardoor ze het zwaard in de rechterhand konden leggen. De rede hiervoor was dat de meeste Romeinse soldaten rechtshandig waren waardoor ze meer kracht hadden in hun rechterarm wat noodzakelijk was om bruuske bewegingen te maken met de gladius. Enige tijd later gingen ze gebruik maken van een iets langer zwaard wat overgenomen was van de vijand tijdens de Punische oorlogen. Diezelfde generatie ging zich ook richten op de ontwikkeling van stootsperen (= eerste versie speren). Deze hadden ongeveer dezelfde functie als het zwaard.",(0,r.createVNode)(2,"p"),(0,r.createVNode)(2,"p"),"Het enige verschil was dat ze nog langer waren. Ze waren in het begin niet bedoeld om weg te gooien in de richting van de vijand. Stootsperen werden gebruikt door de hastati (= legionarii van het eerste manipel). Uiteindelijk werd de stootspeer minder gebruikt door de legionairs en evolueerde men naar het ontwikkelen van een lichtere werpspeer nl de pilum. Dit resulteerde in een nieuwe generatie. Elke legatus beschikte over 2 pila waardoor ze bij de start van een gevecht de vijand onmiddellijk konden verzwakken. De pilum was zelfs zo gemaakt dat de punt van de speer bij botsing krom ging staan of afbrak waardoor de vijand de speer niet kon hergebruiken. Stel dat de pilum in een schild belandde, dan was het gevolg dat de zware achterkant van de speer naar beneden zakte waardoor het onmogelijk was om er verder mee rond te lopen. Hierdoor was de vijand vaak genoodzaakt om zonder schild verder te vechten.",(0,r.createVNode)(2,"p"),"In de 3de eeuw kwam er opnieuw een opvallende vooruitgang, maar ditmaal op het gebied van verdediging. De bekende scutum werd aangepast en zo ontstond de spiculum. Het was een vlak schild, nog lichter en net zoals de scutum met een slagknop in het midden.",(0,r.createVNode)(2,"p"),"De bewapening van de hulptroepen is ook op te delen in enkele groepen. Tijdens de eerste jaren van de equitatus werd de gladius gebruikt om de vijand aan te vallen vanop het paard. Doordat het zwaard kort was, maakten ze kans om snel van het paard te vallen. In de loop van de 3de eeuw was men erin geslaagd een langere versie van de gladius te creëren nl de spatha. De sagittarii maken gebruik van de sagitta (= pijlenboog). De gebogen vorm van de sagitta werd gevormd door begin en einde aan te spannen met een stevige, strakke draad. Hiermee konden ze hun pijlen over een grote afstand schieten. Tot slot hanteren de funditores de funda. Dit is een slinger waarin ze loden kogels legde om die vervolgens naar de vijand te gooien.",(0,r.createVNode)(2,"p"),"Uit al deze gegevens weten we dat het algemene beeld grotendeels juist is. Maar je kan onmogelijk besluiten dat je met dat beeld alles weet over de bewapening van Romeinse soldaten. Naast het zwaard, de speer en het schild waren er nog tal van andere aanvals- en verdedigingswapens die gebruikt werden tijdens de gevechten ten tijde van de Romeinen."]),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Bewapening legionairs"),(0,r.createVNode)(2,"th",null,"aanvalswapen"),(0,r.createVNode)(2,"th",null,"verdedingingswapen"),(0,r.createVNode)(2,"th")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"1ste generatie"),(0,r.createVNode)(2,"td",null,"gladius"),(0,r.createVNode)(2,"td",null,"aspia"),(0,r.createVNode)(2,"td",null,"Generaties gaande vanaf ± 3de eeuw v.Chr. – 3de eeuw",{rowspan:"4"})]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"2de generatie"),(0,r.createVNode)(2,"td",null,"hasta + gladius"),(0,r.createVNode)(2,"td",null,"scutum")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"3de generatie"),(0,r.createVNode)(2,"td",null,"pilum + gladius"),(0,r.createVNode)(2,"td",null,"scutum")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"4de generatie"),(0,r.createVNode)(2,"td",null,"spatha"),(0,r.createVNode)(2,"td",null,"spiculum")])])),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Bewapening hulptroepen"),(0,r.createVNode)(2,"th",null,"aanvalswapens"),(0,r.createVNode)(2,"th",null,"verdedigingswapens")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"equitatus"),(0,r.createVNode)(2,"td",null,"spatha"),(0,r.createVNode)(2,"td",null,"Verdediging komt grotendeels overeen met die van de legionairs",{rowspan:"3"})]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"sagittarii"),(0,r.createVNode)(2,"td",null,"sagitta")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"funditores"),(0,r.createVNode)(2,"td",null,"funda")])])),(0,r.createVNode)(2,"p",null,"Aangezien er weinig betrouwbare bronnen zijn over de exacte data ’s i.v.m. het ontstaan van reeds vermelde bewapening, werd de chronologische volgorde van het ontstaan weergegeven a.d.h.v. generaties."),(0,r.createVNode)(2,"h3",null,"Oorlogstuigen"),(0,r.createVNode)(2,"p",null,"Tenslotte bespreken we in dit hoofdstuk de Romeinse oorlogstuigen aangezien het een belangrijk aspect was van de gevechten. Hierbij gaan we een opdeling maken tussen de tormenta (= aanvalswapens) en enkele andere oorlogsvoertuigen ter verdediging."),(0,r.createVNode)(2,"h4",null,"Aanvalswapens"),(0,r.createVNode)(2,"p",null,"De aanvalswapens waren veel krachtiger dan degene die ze op zak droegen. De bekendste aanvalsmachines waren de catapultae (= katapulten), onder te verdelen in enkele categorieën. Ze werden gebruikt om projectielen weg te schieten m.b.v. mechanische energie. De eerste katapulten schoten hun pijlen in bijna horizontale richting waardoor de afstand die ze konden afleggen niet al te succesvol was. De Romeinse ingenieurs van die tijd gingen dan zoeken naar methodes om het reeds vermelde probleem op te lossen. Hieruit ontstond de ballista. Deze katapult had tussen de 2 horizontaal schuin geplaatste balken een gespannen touw. Onder het touw bevond zich een halve cilinder waarin het projectiel werd gelegd. Deze halve cilinder werd altijd naar boven gericht en de hoek waarin het zich bevond konden ze bijsturen indien nodig. Het was dus niet zo dat ballista's een vaste hoek meekregen zoals bij de eerste versies van de katapulten. Door die regelbare hoek konden ze hun pijlen over een afstand van 400 meter schieten. Net zoals bij de oudste katapulten waren er veel soldaten (±4) nodig om het in gebruik te kunnen nemen. Daarom zochten de ingenieurs nog steeds naar een verbeterde versie. De ingenieurs plaatsten dit nadeel centraal in hun volgende ontwerpen waardoor de scorpiones (kruisboog op voet) waren ontstaan. Het waren kleine katapulten die door 1 man gedragen konden worden. Ze bestonden uit een ijzeren boog waartussen een snaar werd gespannen. De projectielen die ze konden afvuren waren houten spiesen van 67cm. Na de scorpiones ontwikkelde men de cheioballistra die beschikte over metalen frames wat veel sterker was dan voordien. De onager was de laatste hervorming van de katapult en werd algemeen in gebruik genomen rond de 4de eeuw."),(0,r.createVNode)(2,"p",null,"Deze had een totaal andere werkwijze dan de vorige. Het was een heel groot en zwaar machine bedoeld om grote projectielen naar de vijand te werpen. Dergelijke projectielen waren meestal stenen. Het opvallendste kenmerk van de onager was dat er opnieuw vele soldaten nodig waren om de katapult in gebruik te nemen en dit was juist wat men bij de ontwikkeling van de katapult wilde tegengaan."),(0,r.createVNode)(2,"h3",null,"Verdedigingswapens"),(0,r.createVNode)(2,"p",null,["De verdedigingsmachines waren net zoals de aanvalsmachines krachtiger in vergelijking met wat de soldaten bij zich droegen. U zal telkens een korte beschrijving krijgen over enkele oorlogstuigen die ter verdediging werden gebruikt.",(0,r.createVNode)(2,"p"),"Beginnen doen we met de plutei, een halfcirkelvormig schild op wielen die veel weerstand bood. Vervolgens was er de testudo. Deze was net zoals de plutei een bescherming op wielen (kan ook zonder wielen). Maar het verschil was dat bij de testudo schilden aan elkaar werden gehecht die ze dan als afdak gebruikten.",(0,r.createVNode)(2,"p"),"Tot slot bestond er een machine die zowel bij de aanvals- als bij de verdedigingswapens zou kunnen horen, nl de tures ambulatoriae. Het was een houten toren op wielen waarin ze konden schuilen en op die manier konden ze ongeschonden de vijand naderen. Zo’n toren telde enkele verdiepingen en had telkens een valluik per verdiep. Dit gaf hen de kans om over de muren te geraken van de vijand. Helemaal onderaan werd een stormram ingebouwd en deze had als functie de poorten van het vijandelijke gebied te doorbreken.",(0,r.createVNode)(2,"p")]),(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Oorlogstuigen"),(0,r.createVNode)(2,"th",null,"wapens")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"aanvalswapens (= tormenta)"),(0,r.createVNode)(2,"td",null,"catapultae")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"Ballistae")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"Scorpiones")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"cheioballistra")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"onager")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"verdedinginswapens"),(0,r.createVNode)(2,"td",null,"Plutei")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"testudo")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"combinatiewapen"),(0,r.createVNode)(2,"td",null,"Tures ambulatoriae")])]),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Als we een vergelijking maken van de Romeinse bewapening t.o.v. de huidige, dan kunnen we een zeer sterke evolutie vaststellen voortgekomen uit de wetenschappelijke vooruitgang die men doorheen de jaren boekte. Ze hebben zich altijd willen verbeteren in het maken van machines die projectielen konden afschieten. Zo werd de katapult omgevormd tot een lange afstandsraket. Men ontwikkelde zelfs een systeem om zwaarden te vervangen door machines die kogels konden afvuren.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bronnen=void 0;var r=t(1);n.Bronnen=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Bronnen"),(0,r.createVNode)(2,"h3","bron","Boeken"),(0,r.createVNode)(2,"p",null,[(0,r.createVNode)(2,"ul",null,[(0,r.createVNode)(2,"li",null,"Commentarii de bello Gallico, VII, LXIX"),(0,r.createVNode)(2,"li",null,"Van Gelder, J. (1952) Latijnse geschiedschrijvers. Bloemlezing uit de werken van Sallustius, Caesar, Livius en Tacitus. Haarlem: Spaarnestad"),(0,r.createVNode)(2,"li",null,"Harpur, J. (2007) Guerriers: Les grands héros de l’histoire. MILAN: Toulouse"),(0,r.createVNode)(2,"li",null,"Van Daele, B. (2003) Het Romeinse Leger. Davidsfonds: Leuven"),(0,r.createVNode)(2,"li",null,"Goldsworthy, A. (2017) Romeinse legioenen. Omniboek: Utrecht"),(0,r.createVNode)(2,"li",null,"Rodgers, N. (2012) Het Romeinse Rijk. Veltman: Utrecht"),(0,r.createVNode)(2,"li",null,"Anoniem. (2015). De Veldslagen, Het Pop-Upboek. Tielt: Lannoo."),(0,r.createVNode)(2,"li",null,"Warry, W. (1981). Oorlogvoering in de klassieke wereld. Hemond: Helmond."),(0,r.createVNode)(2,"li",null,"Dando-Collins, S. (2010). Legions of Rome: The Definitive History of Every Imperial Roman Legion. Londen: Quercus Publishing."),(0,r.createVNode)(2,"li",null,"Feugere, M. (2002). The Weapons of the Romans. United Kingdom: The History Press.")]),(0,r.createVNode)(2,"h3","bron","Mondeling"),(0,r.createVNode)(2,"p",null,"Mondelinge bron geleverd door Kolonel SBH Marc Alexander (Hoogleraar aan de KMS)"),(0,r.createVNode)(2,"h3","bron","Websites"),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"ul",null,[(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Goede keizers, slechte keizers",{href:"https://marcaur.wordpress.com/2015/03/20/de-vijf-grootste-overwinningen-van-de-romeinen-longread/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"militair.net",{href:"http://www.militair.net/Oorlogen/Romeinse%20oorlogen/Slag%20bij%20Teutoburgerwoud/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"4 opmerkelijke veldslagen uit de Romeinse geschiedenis",{href:"http://www.isgeschiedenis.nl/nieuws/4-opmerkelijke-veldslagen-romeinse-geschiedenis/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Beleg van Alesia",{href:"https://nl.wikipedia.org/wiki/Beleg%20van%20Alesia"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Waar lag Alésia?",{href:"https://www.kunstgeografie.nl/henv/helden.alesia.slag.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"de geschiedenis van Alesia",{href:"http://www.cenens.be/alesia/omgeving.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Drie grote veldslagen uit de Romeinse tijd",{href:"https://plazilla.com/page/4295028913/drie-grote-veldslagen-uit-de-romeinse-tijd"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Slag bij het Teutoburgerwoud",{href:"https://nl.wikipedia.org/wiki/Slag_bij_het_Teutoburgerwoud"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Slag bij het Teutoburgerwoud: Varus loopt in een Germaanse hinderlaag",{href:"http://www.isgeschiedenis.nl/militaire-confrontaties/slag-bij-het-teutoburgerwoud-varus-loopt-in-een-germaanse-hinderlaag/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Varusslag: 2000 jaar geleden",{href:"https://www.historischecartografie.nl/nieuws/2009/11/varusslag-2000-jaar-geleden/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"De Varusslag in 9 n.Chr.",{href:"http://www.noviomagus.info/varusslag.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Publius Quinctilius Varus",{href:"https://nl.wikipedia.org/wiki/Publius_Quinctilius_Varus"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Tactieken",{href:"http://www.legioxi.be/educatief/tactieken (open veldslag)"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Het Romeinse leger",{href:"http://www.klassiekevertalingen.nl/cultuur/leger.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Hulptroepen",{href:"http://users.telenet.be/phoenica/hulptroepen.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"De bewapening van de Romeinse legionair",{href:"http://romeinen.info/de-bewapening-van-de-romeinse-legionair"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Verdedigingswerken en belegeringsoorlog",{href:"http://users.skynet.be/veni_vidi_vici/bestorming.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Weapons",{href:"http://www.primaryhomeworkhelp.co.uk/romans/weapons.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Tools of War",{href:"https://romanmilitary.net/tools/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Ancient roman military, weapons and spies",{href:"http://factsanddetails.com/world/cat56/sub368/item2055.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Weapons & Tactics",{href:"https://www.the-romans.co.uk/weapons.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Organization of the Roman Imperial Legion",{href:"http://www.unrv.com/military/legion.php"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"The Roman Army",{href:"http://www.roman-empire.net/army/army.html"}))]))])])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Inleiding=void 0;var r=t(1);n.Inleiding=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Inleiding"),(0,r.createVNode)(2,"p",null,"Wij hebben beslist om ons werk over het Romeinse leger te beginnen met de onderverdeling van het leger. Hierdoor krijg je al een inzicht in hoe de hiërarchie was ten tijde van de Romeinen. Hierna zijn wij dieper ingegaan op de bewapening van de Romeinen zodat je goed weet hoe ze toen vochten en wat ze ter beschikking hadden om hun vijand te overmeesteren. Als laatste hebben wij gekeken naar het verloop van twee veldslagen en hebben we deze volledig geanalyseerd om uiteindelijk te kunnen zeggen hoe deze beter hadden kunnen verlopen. Wij hebben verscheidene bronnen gebruikt om ons werk te onderbouwen, gaande van boeken uit het archief van de Koninklijke Militaire School tot websites van professoren latijn die thesissen over het Romeinse leger hebben geschreven. Om nog extra documentatie en afbeeldingen te verschaffen bij deze onderzoekscompetentie, hebben wij besloten om deze site te maken.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Onderverdeling=void 0;var r=t(1);n.Onderverdeling=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Onderverdeling van het leger"),(0,r.createVNode)(2,"p",null,"De Romeinen hadden verschillende rangen binnen het leger waartoe je kon behoren. Het leger werd opgedeeld in meerdere legioenen en hulptroepen waarmee ze vanuit verschillende hoeken de vijand gestructureerd konden aanvallen. Doorheen de jaren nam het aantal soldaten sterk toe. De reden daartoe was vrij eenvoudig. Eenmaal een bepaalde bevolkingsgroep zijn strijdmanschappen vergrootte, was de andere verplicht om hetzelfde te doen, aangezien ze anders geen enkele kans zouden hebben op de overwinning."),(0,r.createVNode)(2,"h3",null,"Het legioen"),(0,r.createVNode)(2,"p",null,"Een legioen werd opgedeeld in 10 cohorten waarbij 1 cohorte een aantal van 600 soldaten telde op voorwaarde dat het legioen bestond uit ongeveer 6000 legionarii (= soldaten). De leider van een legioen werd een legatus genoemd. Het was altijd een man omdat enkel de mannen toegelaten werden bij het leger (Vrouwen moesten het huishouden doen). De legatus had ook 5 à 6 assistenten ter beschikking die de naam tribuni kregen. Dat waren steeds jonge mannen die een politieke carrière wilde starten maar eerst wat militaire ervaring nodig hadden. Vervolgens werden alle cohorten nog eens onderverdeeld in 3 manipels met telkens een aantal van 200 man. Het 1ste manipel van iedere cohorte kreeg de naam pilus. Het 1ste manipel van de 1ste cohorte werd de primus pilus genoemd met de primi pili centurio aan het hoofd. Deze 200 mannen werden nogmaals gesplitst in 2 groepen van 100 soldaten. Dergelijke groepen behoorden tot de rang van de centuria. Hierbij was een centurio (= onderofficier) de aanvoerder van 1 van de 6 centuriën. Hij beschikte over een aantal soldaten, 1 veldtekendrager en een optio. Zijn belangrijkheid was afhankelijk van de rang die zijn centuria had. Zo is de centurio van het 1ste centurie, 1ste manipel en 1ste cohorte de belangrijkste en naarmate je verder gaat in de hiërarchie nemen ze aan belangrijkheid af. Een centurio beschikte net zoals een legatus over een assistent die de naam optio aangeboden kreeg. Deze optio beschikte over een klein manschap om wat ervaring te krijgen over hoe je leiding moest geven. Het uiteindelijke doel van de optio was te promoveren om zo de functie van een centurio te krijgen. Zeer ervaren centurio’s kregen ook nog kans om praefectus castrorum (= kampcommandant) te worden. Tot slot werden die 100 man nog een keer opgedeeld in 10 groepjes van telkens 10 soldaten die samen een kleine tent moesten delen waarin ze konden overnachten. Dergelijk tenten waren ongeveer 4 bij 3 meter. De reden hiervoor was dat ze omwille van hun grootte makkelijk te vervoeren waren. Deze groepjes werden conturbernium genoemd. Elk conturbernium beschikte over een muilezel die de soldaten hielp bij het vervoeren van hun goederen. Het legioen bevatte naast reeds vermelde rangen nog andere personen die een specifieke taak uitvoerden."),(0,r.createVNode)(2,"p",null,["Een aquilifer (= standaarddrager) kreeg de taak om met het Romeinse embleem van een aquila (= arend) het legioen vooraf te gaan en stond aan het hoofd van alle andere veldtekendragers. In een legioen waren er ook bakkers, smeden, dokter, …",(0,r.createVNode)(2,"p"),"Een legioen kon dus zonder enig probleem enkele maanden rondtrekken door de grote voorraad van dingen die ze meesleurde tijdens hun tocht en het groot aanbod van assistenten."]),(0,r.createVNode)(2,"h3",null,"De hulptroepen"),(0,r.createVNode)(2,"p",null,["Naast legioenen maakte de Romeinen ook veelvuldig gebruik van de auxilia (= hulptroepen). Daartoe behoorden de soldaten die niet de status hadden van Romeinse staatsburger doordat ze afkomstig waren uit andere volkeren. Omwille van hun andere afkomst kregen ze maar 1/3 van het loon van een legionarius.",(0,r.createVNode)(2,"p"),"Hun voornaamste functie was om de legioenen te helpen en om de grenzen te bewaken en te verdedigen. Deze taken moesten ze uitvoeren onder bevel van praefecti (= Romeinse officieren). Als een auxiliarius (= een soldaat van de hulptroepen) een diensttermijn van 25 jaar had afgesloten, kreeg hij en zijn gezin vanaf dat moment de status van een Romeins staatsburger. De zonen van een ex-auxiliarius gingen als legionarius werken wat hen de kans gaf om meer te verdienen dan hun vader. De ex-auxiliarius zelf nam de naam van de regerende keizer aan.",(0,r.createVNode)(2,"p"),"Net zoals de legioenen zijn er verschillende onderdelen binnen de hulptroepen zoals: de equitatus (= ruiters), de sagittarii (= boogschutters) en de funditores (= slingeraars). Elke soldaat binnen de hulptroepen kreeg een bijpassend wapen afhankelijk tot welke groep hij behoorde."]),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","onderverdeling-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"groepen"),(0,r.createVNode)(2,"th",null,"legioenen"),(0,r.createVNode)(2,"th",null,"hulptroepen")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"belangrijkste onderdelen"),(0,r.createVNode)(2,"td",null,["cohorten",(0,r.createVNode)(2,"br"),"manipels",(0,r.createVNode)(2,"br"),"centuria",(0,r.createVNode)(2,"br"),"conturbernium"]),(0,r.createVNode)(2,"td",null,["sagittarii",(0,r.createVNode)(2,"br"),"equitatus",(0,r.createVNode)(2,"br"),"funditores"])]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"aantal"),(0,r.createVNode)(2,"td",null,["1 cohort = ± 600",(0,r.createVNode)(2,"br"),"1 manipel = ± 200",(0,r.createVNode)(2,"br"),"1 centuria = ± 100",(0,r.createVNode)(2,"br"),"1 conturbernium = ± 10"]),(0,r.createVNode)(2,"td",null,"aantal is onduidelijk")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"leiders"),(0,r.createVNode)(2,"td",null,"legioen --\x3e legatus centuria --\x3e centurio zeer ervaren centurio --\x3e  praefectus castrorum"),(0,r.createVNode)(2,"td",null,"Hulptroepen --\x3e praefecti")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"status"),(0,r.createVNode)(2,"td",null,"Romeins staatsburger"),(0,r.createVNode)(2,"td",null,"geen Romeins staatsburger. Afkomstig van andere volkeren")])])),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Als we de onderverdeling bij de Romeinen vergelijken met de onze dan merken we op dat de structuur voor een groot deel bewaard is gebleven. Toch kunnen we stellen dat het huidige systeem meer onderverdelingen heeft en dat de namen ook steeds gewijzigd zijn. Zo is in 2017 de generaal de leider van het leger en vroeger sprak men over legatus die de leiding had over het legioen.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Veldslagen=void 0;var r=t(1);n.Veldslagen=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Veldslagen en oorlogen"),(0,r.createVNode)(2,"p",null,"De Romeinen hebben doorheen hun lange bestaan in vele delen van de wereld gevochten tegen verschillende rijken, stadstaten, handelsnaties en barbaarse stammen aangezien ze steeds meer grondgebied wilden veroveren. Hoewel velen hiervan werden gewonnen dankzij hun doordachte tactieken en ijzersterke discipline, waren er ook zware nederlagen bij zoals: de slag bij het Teutoburgerwoud, de slag bij Cannae en de slag bij Adrianopolis. Door deze nederlagen schaafden ze hun tactieken bij om dezelfde fouten niet nog eens te maken."),(0,r.createVNode)(2,"h3",null,"De slag bij Alesia"),(0,r.createVNode)(2,"p",null,'De slag bij Alesia werd gevochten tussen de Romeinse troepen van Julius Caesar en de Avernische troepen van Vercingetorix. Deze slag was de beslissende slag in de strijd tussen de Galliërs en de Romeinen en het was tevens een van de grootste overwinningen van Caesar. De slag vond plaats in 52 v.C. bij het Gallische Alesia rond een versterkt fort van het volk Mandubii. Het fort van Alesia was gelegen bovenop een heuvel waar rivieren langs stroomden. Caesar gaf van de omgeving een zeer goede beschrijving in zijn Commentarii de bello Gallico: "Ipsum erat oppidum Alesia in colle summo admodum edito loco, ut nisi obsidione expugnari non posse videretur. Cuius collis radices duo duabus ex partibus flumina subluebant. Ante id oppidum planities circiter millia passuum III in longitudine patebat; reliquis ex omnibus partibus colles mediocri interiecto spatio pari altitudinis fastigio oppidum cingebant." Dit kan men vertalen als: ‘De vesting Alesia zelf lag op een heuveltop die aanzienlijk boven de vlakte uitstak, zodat zij oninneembaar scheen tenzij door blokkade. De voet van die heuvel wordt aan twee zijden bespoeld door waterlopen. Vóór de vesting strekte zich een ongeveer drie mijl brede vlakte uit; aan al de andere zijden omringde heuvels, op korte afstand van elkaar gelegen en met gelijke tophoogte, de vesting.’ Door deze uitstekende locatie was het zeer moeilijk om het fort in te nemen dus besloot Caesar om het fort te belegeren door gebruik te maken van een circumvallatielinie om zo de troepen en de bevolking van Alesia uit te hongeren.'),(0,r.createVNode)(2,"p",null,["De linie bestond uit meerdere verstevigingen en wallen met een totale lengte van ongeveer 18km. De tactiek van Caesar bleek zeer goed te werken aangezien Vercingetorix radeloos was. De enige mogelijkheid die Vercingetorix nog had was om een deel van de Gallische cavalerie te doen ontsnappen door een nog onvoltooid gedeelte van de linie om versterking te halen. Zij slaagden in deze opzet en brachten succesvol een ontzettingsleger op de been. Caesar had echter aan alle mogelijke scenario’s gedacht en hij had besloten om een contravallatielinie van 21 kilometer te bouwen rond de circumvallatielinie, waardoor de Romeinen langs twee zijden tegen de Gallische aanvallen beschermd waren.",(0,r.createVNode)(2,"br"),"Eenmaal het ontzettingsleger bij Alesia was aangekomen, waren het eigenlijk de Romeinen die belegerd waren aangezien ze ingesloten zaten tussen twee Gallische legers. Onder leiding van Commius viel het ontzettingsleger de contravallatielinie aan.",(0,r.createVNode)(2,"img","siege-of-alexia-img",null,{src:"./images/siegeOfAlexia.jpg"}),"Tegelijkertijd liet Vercingetorix zijn troepen de circumvallatielinie aanvallen. De eerste dag hielden de Romeinen goed stand tegen de aanvallen van de Galliërs, maar de daar opvolgende dagen gingen bergaf. Ze werden gedwongen om forten en kampen in de contravallatielinie op te geven, maar Gaius rebonius kon met de cavalerie voorkomen dat de Galliërs hier gebruik van konden maken. Na maandenlang vechten besloot de neef van Vercingetorix, Vercassivellaunos, om met 60.000 manschappen de Romeinse stellingen aan te vallen. Hij koos de plek waar de stellingen het zwakst waren, namelijk waar de linies op dezelfde plek een rivier kruisten. Vercingetorix liet van binnenuit op dezelfde plaats een aanval uitvoeren, maar Caesar had zoveel vertrouwen in zijn troepen dat hij het bevel gaf om de stellingen te behouden. Caesar nam een grote gok door met 6.000 manschappen een leger van 60.000 manschappen aan te vallen, maar hij overdonderde de Galliërs zo hard dat ze zich genoodzaakt voelden om zich terug te trekken."]),(0,r.createVNode)(2,"p",null,"Hiermee was het belangrijkste en meest beslissende gevecht gestreden waarna de troepen in Alesia zich overgaven door hongersnood en gebrek aan manschappen. Rome was de grote overwinnaar bij deze slag die de basis vormde voor het verder veroveren van Gallië en Brittannië. De Gallische soldaten werden als slaven meegenomen en verkocht. Vercingetorix werd tevens gevangengenomen, maar niet verkocht aangezien de Romeinen hem wilden houden als trofee. Na een paar jaar werd hij ritueel gewurgd tijdens een triomftocht. De elementen die de Romeinen de overwinning hebben bezorgd zijn vooral berust op de geest. Caesar heeft steeds de moreel bij zijn troepen hoog weten te houden hoewel ze soms nederlagen leden. Dit zorgde ervoor dat de strijdlust bij de soldaten aanwezig bleef en ze steeds voelden dat ze de bovenhand hadden in het gevecht. Caesar nam het moreel van zijn troepen zeer serieus en ging zelfs zo ver dat hij met hen meestreed. Het moreel van zijn troepen lag aan de basis van de laatste belangrijke slag aangezien ze het gevecht onderbemand moesten aangaan, maar uiteindelijk hebben ze de overwinning behaald. Een tweede punt waardoor ze deze slag hebben gewonnen, is het goed doordachte aanvalsplan van Caesar. Zo had hij de contravallatielinie voorzien voor een eventuele aanval. Was deze linie er niet geweest, hadden de Galliërs deze veldslag gegarandeerd gewonnen door hun grote aantallen. Caesar was ook degene die een verrassingsaanval heeft kunnen afwenden door de vrouwen en kinderen niet uit Alesia te laten vertrekken. De Galliërs wilden hen namelijk als afleiding gebruiken om ondertussen een versteviging aan te vallen, maar door Caesar zijn besluit om de vrouwen en kinderen niet buiten te laten is de aanval niet kunnen doorgaan. Het enige negatieve punt dat geoptimaliseerd had kunnen worden is de bouw van de linies bij de rivieren aangezien dit het zwakke punt was van het kamp. Deze slag is een goed voorbeeld van de Romeinse discipline en strijdlust aangezien ze geen enkele grote fout hebben begaan die tot een eventueel verlies had kunnen lijden."),(0,r.createVNode)(2,"h3",null,"De slag bij het Teutoburgerwoud"),(0,r.createVNode)(2,"p",null,"De slag bij het Teutoburgerwoud werd gevochten tussen de Romeinse troepen van Varus en de Germaanse troepen van Arminius. Deze slag leidde een zevenjarige oorlog in, die uiteindelijk tot gevolg had dat de Rijn voor een periode van 400 jaar werd vastgelegd als grens van het Romeinse Rijk. De slag vond plaats in 9 n.C. nabij Kalkriese dat in Duitsland is gelegen. De slag was een van de grootste nederlagen uit de geschiedenis van het Romeinse leger."),(0,r.createVNode)(2,"p",null,["De Romeinen waren namelijk in een list getrapt van Arminius, de leider van de Germaanse stammen. Hij liet doorgeven dat er een opstand aan de gang was van veroverde Germaanse stammen. Hij wilde de Romeinen namelijk naar een voor hen onbekend gebied lokken zodat de Germanen een strategisch voordeel hadden. De Romeinse aanvoerder Varus was op dat moment met zijn leger op weg naar hun winterkampen voor de opkomende winter. Hij geloofde echter het nepbericht van Arminius en hij week van zijn route af en ging door het Teutoburgerwoud naar de zogezegde opstand.",(0,r.createVNode)(2,"br"),"Wat hij echter niet wist, was dat hij opgewacht werd door een groot Germaans leger dat zich in het bos had verstopt om een verrassingsaanval uit te voeren. Het Teutoburgerwoud was ondoordringbaar, mistig en vochtig, iets wat de Romeinen niet gewend waren aangezien zij altijd op vlakke en open slagvelden streden. Door het gebrek aan overzicht en de willekeur van de Germanen hadden de Romeinen vanaf het begin een nadeel. Ze konden namelijk hun gebruikelijke tactieken niet uitvoeren door het gebrek aan organisatie en ruimte. Toen na een paar dagen de Romeinse ondergang onafwendbaar leek, pleegde Varus zelfmoord. Hiermee was het lot van zijn troepen ook bezegeld aangezien ze geen leider meer hadden. Van de 18 000 manschappen slaagden slechts enkelen erin aan de vijand te ontsnappen en de Romeinse winterkampen aan de Rijn te bereiken."]),(0,r.createVNode)(2,"div","teutoburgerwoud-img",(0,r.createVNode)(2,"span","teutoburgerwoud-img-txt","Uitzicht van het Teutoburgerwoud gebaseerd op teksten van de eerste eeuw n.C.")),(0,r.createVNode)(2,"p",null,"Deze slag had tot gevolg dat er een einde kwam aan de Romeinse expansie in Noord-Europa. Ook had keizer Augustus besloten dat vanaf toen de Rijn de vaste grens zou worden van het Imperium Romanum."),(0,r.createVNode)(2,"p",null,"In deze slag is heel wat misgelopen, vooral op het vlak van leiderschap. Goed leiderschap vormt de basis voor elke slag als je kans wilt maken op de overwinning. Varus was in geen enkel opzicht een goede leider in deze slag. Hij nam irrationele beslissingen en dacht niet na over de gevolgen hiervan. Het begon reeds bij het niet nagaan van de informatie die hij had verkregen. Hij vertrouwde blind op de verkregen informatie en stippelde meteen een route uit. Hij had eigenlijk eerst de situatie moeten bekijken en eventueel ruiters voorop moeten sturen om na te gaan of er wel degelijk een opstand was. Hiermee had hij het conflict kunnen vermijden aangezien de ruiters dan hadden gezien dat er geen opstand was. Zijn tweede grote fout was om het leger wijd gespreid te laten lopen in een gebied dat hij niet kende. Het leger was namelijk aan het marcheren met een afstand van 15 kilometer tussen de eerste en de laatste soldaten. Hierdoor konden de Germanen met hun grotere aantallen de kleine groepjes Romeinen zonder enig probleem aanvallen. Had hij zijn leger compact laten marcheren, hadden de Romeinen nog een haalbare kans gehad op de overwinning in het gevecht aangezien de laatste troepen dan snel konden bijspringen om de eerste te helpen. Tijdens het gevecht zelf nam hij alleen maar slechte beslissingen. Hij had wel veel tegenslag met het weer waardoor de schutters hun bogen niet konden gebruiken en de houten schilden te zwaar werden om te dragen door het gewicht van het water dat in het hout was opgeslorpt. Hij gaf het order om door te marcheren naar een open plek, maar aangezien hij het bos niet kende wist hij niet dat er geen open plekken in hun nabijheid waren. Dit was een fout order aangezien hij de omgeving niet kende en dus ook niet wist waar er zich nog Germanen bevonden. Hij had zijn positie moeten verdedigen om zo een basis proberen op te richten aangezien het leger het kwetsbaarst is wanneer ze zich aan het verplaatsen zijn. Varus gaf ook geen steun aan zijn manschappen waardoor de strijdlust weg ging en velen het nut van de strijd niet meer zagen. De Legatus, Numonius Vala, van een van zijn drie legioenen was een van die personen die het leiderschap van Varus in twijfel trok en de verzwakte moreel aanvoelde. Hij was dan ook degene die samen met de ruiters vluchtte en zo de troepen in de steek liet. Maar ver kwam hij niet aangezien hij in het bos zelf nog werd afgemaakt door de ruiters van de Germanen. Zonder de steun van de ruiters was het leger verzwakt en dus grepen de Germanen hun kans. Ze begonnen bijna iedereen genadeloos af te slachten. Varus zag op dat ogenblik in dat hij zwaar had gefaald en pleegde daarom zelfmoord."),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Het is zeer moeilijk om het huidige leger te vergelijken met het Romeinse leger aangezien er zich een zeer grote ontwikkeling heeft plaatsgevonden op het gebied van wetenschappen en technologie. Vroeger streed men met een zwaard en een schild en had je als steun enkel ruiters. Nu wordt er gestreden vanop een zeer grote afstand aangezien men machinegeweren, pistolen, langeafstandsrakketten,… gebruikt. Er zijn nu ook veel nieuwe ondersteuningsmogelijkheden zoals tanks, schepen en vliegtuigen waardoor er een heleboel nieuwe tactieken mogelijk zijn. Door al deze veranderingen heeft men de tactieken die men gebruikt ook moeten veranderen. Vroeger kon men in een man op man gevecht tactieken gebruiken die zeer effectief waren op korte afstand en een klein slagveld. Als men deze tegenwoordig zou uitvoeren, zouden de soldaten ter plaatse worden afgemaakt. De hoeveelheid soldaten die daadwerkelijk vechten is ook sterk afgenomen in vergelijking met het Romeinse leger. Vroeger streed men met legers van zeer grote aantallen. Deze aantallen kunnen we ons tegenwoordig niet meer voorstellen. Er gebeurt nu veel meer achter de schermen om de soldaten die moeten vechten te helpen. Zo wordt er via satellieten of drones informatie verzameld over de omgeving waarin de soldaten zich bevinden en eventueel waar hun vijanden schuilen. Een soldaat heeft nu ook de mogelijkheid om, mits de goedkeuring van zijn aanvoerder, een luchtaanval in te roepen. De huidige tactieken draaien ook niet meer alleen maar rond het militaire aspect, maar ook rond onder andere het economische. Als men zijn vijand economisch kan verzwakken zal deze ook minder weerbaar zijn.")])}},function(e,n){},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=t(21),l=r(i),d=t(51),s=r(d),u=t(33),c=t(13),p=t(34),h=r(p),f=t(32),v=function(){try{return window.history.state||{}}catch(e){return{}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(f.canUseDOM,"Browser history needs a DOM");var n=window.history,t=(0,f.supportsHistory)(),r=!(0,f.supportsPopStateOnHashChange)(),i=e.forceRefresh,d=void 0!==i&&i,p=e.getUserConfirmation,g=void 0===p?f.getConfirmation:p,m=e.keyLength,b=void 0===m?6:m,k=e.basename?(0,c.stripTrailingSlash)((0,c.addLeadingSlash)(e.basename)):"",w=function(e){var n=e||{},t=n.key,r=n.state,o=window.location,i=o.pathname,l=o.search,d=o.hash,s=i+l+d;return k&&(s=(0,c.stripPrefix)(s,k)),a({},(0,c.parsePath)(s),{state:r,key:t})},N=function(){return Math.random().toString(36).substr(2,b)},y=(0,h.default)(),j=function(e){a(B,e),B.length=n.length,y.notifyListeners(B.location,B.action)},V=function(e){(0,f.isExtraneousPopstateEvent)(e)||z(w(e.state))},O=function(){z(w(v()))},_=!1,z=function(e){if(_)_=!1,j();else{y.confirmTransitionTo(e,"POP",g,function(n){n?j({action:"POP",location:e}):C(e)})}},C=function(e){var n=B.location,t=E.indexOf(n.key);-1===t&&(t=0);var r=E.indexOf(e.key);-1===r&&(r=0);var o=t-r;o&&(_=!0,M(o))},x=w(v()),E=[x.key],U=function(e){return k+(0,c.createPath)(e)},P=function(e,r){(0,l.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,N(),B.location);y.confirmTransitionTo(a,"PUSH",g,function(e){if(e){var r=U(a),o=a.key,i=a.state;if(t)if(n.pushState({key:o,state:i},null,r),d)window.location.href=r;else{var s=E.indexOf(B.location.key),u=E.slice(0,-1===s?0:s+1);u.push(a.key),E=u,j({action:"PUSH",location:a})}else(0,l.default)(void 0===i,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},R=function(e,r){(0,l.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,N(),B.location);y.confirmTransitionTo(a,"REPLACE",g,function(e){if(e){var r=U(a),o=a.key,i=a.state;if(t)if(n.replaceState({key:o,state:i},null,r),d)window.location.replace(r);else{var s=E.indexOf(B.location.key);-1!==s&&(E[s]=a.key),j({action:"REPLACE",location:a})}else(0,l.default)(void 0===i,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},M=function(e){n.go(e)},S=function(){return M(-1)},D=function(){return M(1)},A=0,T=function(e){A+=e,1===A?((0,f.addEventListener)(window,"popstate",V),r&&(0,f.addEventListener)(window,"hashchange",O)):0===A&&((0,f.removeEventListener)(window,"popstate",V),r&&(0,f.removeEventListener)(window,"hashchange",O))},I=!1,H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=y.setPrompt(e);return I||(T(1),I=!0),function(){return I&&(I=!1,T(-1)),n()}},L=function(e){var n=y.appendListener(e);return T(1),function(){T(-1),n()}},B={length:n.length,action:"POP",location:x,createHref:U,push:P,replace:R,go:M,goBack:S,goForward:D,block:H,listen:L};return B};n.default=g},function(e,n,t){e.exports=t(42).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var n=e.children;return(0,i.createVNode)(2,"div","page",[(0,i.createVNode)(2,"header",null,[(0,i.createVNode)(2,"h1",null,"Het Romeinse Leger"),(0,i.createVNode)(2,"nav",null,(0,i.createVNode)(2,"ul",null,[(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat",activeClassName:"linkActiveClass",children:"Inleiding"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/onderverdeling",activeClassName:"linkActiveClass",children:"onderverdeling"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/bewapening",activeClassName:"linkActiveClass",children:"bewapening"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/veldslagen",activeClassName:"linkActiveClass",children:"veldslagen"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/besluit",activeClassName:"linkActiveClass",children:"besluit"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/bronnen",activeClassName:"linkActiveClass",children:"bronnen"}))]))]),(0,i.createVNode)(2,"section","content",n),(0,i.createVNode)(2,"footer",null,[(0,i.createVNode)(2,"span",null,"mei 2017"),(0,i.createVNode)(2,"span",null,"Kosh 6LWib"),(0,i.createVNode)(2,"span",null,"Aquila Ziedins (6), Tobias Alexander (1)")])])}function a(e){e.children;return(0,i.createVNode)(2,"div",null,"Hier bent u uit het Romeinse rijk")}var i=t(1),l=r(i),d=t(30),s=t(29),u=r(s);t(28);var c=t(25),p=t(26),h=t(23),f=t(27),v=t(22),g=t(24),m=(0,u.default)(),b=(0,i.createVNode)(16,d.Router,null,null,{history:m,children:(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat",component:o,children:[(0,i.createVNode)(16,d.IndexRoute,null,null,{component:c.Inleiding}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/inleiding",component:c.Inleiding}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/onderverdeling",component:p.Onderverdeling}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/bewapening",component:h.Bewapening}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/veldslagen",component:f.Veldslagen}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/besluit",component:v.Besluit}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/bronnen",component:g.Bronnen}),(0,i.createVNode)(16,d.Route,null,null,{path:"*",component:a})]})});l.default.render(b,document.getElementById("app"))},function(e,n,t){"use strict";n.__esModule=!0;n.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),n.addEventListener=function(e,n,t){return e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,t)},n.removeEventListener=function(e,n,t){return e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent("on"+n,t)},n.getConfirmation=function(e,n){return n(window.confirm(e))},n.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},n.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},n.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},n.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.locationsAreEqual=n.createLocation=void 0;var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a=t(55),i=r(a),l=t(56),d=r(l),s=t(13);n.createLocation=function(e,n,t,r){var a=void 0;return"string"==typeof e?(a=(0,s.parsePath)(e),a.state=n):(a=o({},e),void 0===a.pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==n&&void 0===a.state&&(a.state=n)),a.key=t,r&&(a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.default)(a.pathname,r.pathname)):a.pathname=r.pathname),a},n.locationsAreEqual=function(e,n){return e.pathname===n.pathname&&e.search===n.search&&e.hash===n.hash&&e.key===n.key&&(0,d.default)(e.state,n.state)}},function(e,n,t){"use strict";n.__esModule=!0;var r=t(21),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){var e=null,n=function(n){return(0,o.default)(null==e,"A history supports only one prompt at a time"),e=n,function(){e===n&&(e=null)}},t=function(n,t,r,a){if(null!=e){var i="function"==typeof e?e(n,t):e;"string"==typeof i?"function"==typeof r?r(i,a):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==i)}else a(!0)},r=[];return{setPrompt:n,confirmTransitionTo:t,appendListener:function(e){var n=!0,t=function(){n&&e.apply(void 0,arguments)};return r.push(t),function(){n=!1,r=r.filter(function(e){return e!==t})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];r.forEach(function(e){return e.apply(void 0,n)})}}};n.default=a},function(e,n,t){"use strict";function r(e,n){if(28&e.flags){var t=e.parentVNode;t&&(t.dom=n,r(t,n))}}function o(e,n,t){var r=s.get(e);void 0===r&&(r=[],s.set(e,r),u.then(function(){s.delete(e),e._updating=!0,i(e,n,function(){for(var n=0,t=r.length;n<t;n++)r[n].call(e)}),e._updating=!1})),d.isNullOrUndef(t)||r.push(t)}function a(e,n,t){d.isFunction(n)&&(n=n(e.state,e.props,e.context));var r=e._pendingState;if(null===r)e._pendingState=r=n;else for(var a in n)r[a]=n[a];if(!d.isBrowser||e._pendingSetState||e._blockRender){var l=e.state;if(null===l)e.state=r;else for(var s in r)l[s]=r[s];e._pendingState=null,!d.isNullOrUndef(t)&&e._blockRender&&e._lifecycle.addListener(t.bind(e))}else e._updating?o(e,!1,t):(e._pendingSetState=!0,e._updating=!0,i(e,!1,t),e._updating=!1)}function i(e,n,t){if(!e._unmounted){if(n||!e._blockRender){e._pendingSetState=!1;var o=e._pendingState,a=e.state,i=d.combineFrom(a,o),s=e.props,u=e.context;e._pendingState=null;var c=e._updateComponent(a,i,s,s,u,n,!0),p=!0;d.isInvalid(c)?c=l.createVNode(4096,null):c===d.NO_OP?(c=e._lastInput,p=!1):d.isStringOrNumber(c)?c=l.createVNode(1,null,null,c):d.isArray(c)&&d.throwError();var h=e._lastInput,f=e._vNode,v=h.dom&&h.dom.parentNode||(h.dom=f.dom);if(e._lastInput=c,p){var g=void 0;d.isUndefined(e.getChildContext)||(g=e.getChildContext()),g=d.isNullOrUndef(g)?e._childContext:d.combineFrom(u,g);var m=e._lifecycle;l.internal_patch(h,c,v,m,g,e._isSVG,!1),m.trigger(),d.isUndefined(e.componentDidUpdate)||e.componentDidUpdate(s,a,u),d.isNull(l.options.afterUpdate)||l.options.afterUpdate(f)}var b=f.dom=c.dom;l.options.findDOMNodeEnabled&&l.internal_DOMNodeMap.set(e,c.dom),r(f,b)}else e.state=e._pendingState,e._pendingState=null;d.isNullOrUndef(t)||t.call(e)}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(1),d=t(0),s=(d.ERROR_MSG,new Map),u=Promise.resolve(),c=function(){function e(e,n){this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._isSVG=!1,this._updating=!0,this.props=e||l.EMPTY_OBJ,this.context=n||l.EMPTY_OBJ}return e.prototype.forceUpdate=function(e){!this._unmounted&&d.isBrowser&&i(this,!0,e)},e.prototype.setState=function(e,n){this._unmounted||(this._blockSetState?d.throwError():a(this,e,n))},e.prototype.setStateSync=function(e){this.setState(e)},e.prototype._updateComponent=function(e,n,t,r,o,a,i){if(!0===this._unmounted&&d.throwError(),t!==r||r===l.EMPTY_OBJ||e!==n||a){if(t===r&&r!==l.EMPTY_OBJ||(d.isUndefined(this.componentWillReceiveProps)||i||(this._blockRender=!0,this.componentWillReceiveProps(r,o),this._blockRender=!1),this._pendingSetState&&(n=d.combineFrom(n,this._pendingState),this._pendingSetState=!1,this._pendingState=null)),d.isUndefined(this.shouldComponentUpdate)||this.shouldComponentUpdate(r,n,o)||a){d.isUndefined(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(r,n,o),this._blockSetState=!1),this.props=r,this.state=n,this.context=o,l.options.beforeRender&&l.options.beforeRender(this);var s=this.render(r,n,o);return l.options.afterRender&&l.options.afterRender(this),s}this.props=r,this.state=n,this.context=o}return d.NO_OP},e.prototype.render=function(e,n,t){},e}();n.default=c},function(e,n,t){"use strict";function r(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(a.isInvalid(e)||a.isObject(e))throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");var l,d=t,s=null,u=null,c=null,p=0;if(t&&(1===t.length?d=t[0]:0===t.length&&(d=void 0)),a.isString(e)){if(p=o.getFlagsForElementVnode(e),!a.isNullOrUndef(n)){l={};for(var h in n)"className"===h||"class"===h?c=n[h]:"key"===h?u=n.key:"children"===h&&a.isUndefined(d)?d=n.children:"ref"===h?s=n.ref:l[h]=n[h]}}else if(p=16,a.isUndefined(d)||(n||(n={}),n.children=d,d=null),!a.isNullOrUndef(n)){l={};for(var h in n)i.has(h)?(s||(s={}),s[h]=n[h]):"key"===h?u=n.key:l[h]=n[h]}return o.createVNode(p,e,c,d,l,u,s)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),a=t(0),i=new Set;i.add("onComponentWillMount"),i.add("onComponentDidMount"),i.add("onComponentWillUnmount"),i.add("onComponentShouldUpdate"),i.add("onComponentWillUpdate"),i.add("onComponentDidUpdate"),n.default=r},function(e,n,t){"use strict";function r(e){return e.to="/",o.createVNode(8,a.default,null,null,e)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),a=t(15);n.default=r},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(7),a=function(e){function n(n,t){var r=e.call(this,n,t)||this;return n.path="/",r}return r(n,e),n}(o.default);n.default=a},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(7),a=function(e){function n(n,t){var r=e.call(this,n,t)||this;return n.to||(n.to="/"),r}return r(n,e),n}(o.default);n.default=a},function(e,n,t){"use strict";function r(e){if(!e)throw new TypeError('Inferno: Error "inferno-router" requires a history prop passed');return{createHref:e.createHref,listen:e.listen,push:e.push,replace:e.replace,isActive:function(e){return l.matchPath(!0,e,this.url)},get location(){return"blank"!==e.location.pathname?e.location:{pathname:"/",search:""}},get url(){return this.location.pathname+this.location.search}}}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t(1),i=t(10),l=t(17),d=t(16),s=function(e){function n(n,t){var o=e.call(this,n,t)||this;return o.router=r(n.history),o.state={url:n.url||o.router.url},o}return o(n,e),n.prototype.componentWillMount=function(){var e=this;this.router&&(this.unlisten=this.router.listen(function(){e.routeTo(e.router.url)}))},n.prototype.componentWillReceiveProps=function(e){var n=this;this.setState({url:e.url},this.props.onUpdate?function(){return n.props.onUpdate()}:void 0)},n.prototype.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.prototype.routeTo=function(e){var n=this;this.setState({url:e},this.props.onUpdate?function(){return n.props.onUpdate()}:void 0)},n.prototype.render=function(e){var n=this,t=l.default(e.children,this.state.url);return t.redirect?(setTimeout(function(){n.router.replace(t.redirect)},0),null):a.createVNode(4,d.default,null,null,{location:this.state.url,matched:t.matched,router:this.router})},n}(i.default);n.default=s},function(e,n,t){"use strict";function r(e){if(e.indexRoute&&!e.childRoutes)return o.default(i.default,e);var n={};for(var t in e)n[t]=e[t];if(n.children=[],n.indexRoute&&(n.children.push(l(n.indexRoute)),delete n.indexRoute),n.childRoutes){var r=a.isArray(n.childRoutes)?n.childRoutes:[n.childRoutes];(d=n.children).push.apply(d,s(r)),delete n.childRoutes}return 1===n.children.length&&(n.children=n.children[0]),(a.isArray(n.children)&&0===n.children.length||!a.isArray(n.children)&&0===Object.keys(n.children).length)&&delete n.children,o.default(i.default,n);var d}Object.defineProperty(n,"__esModule",{value:!0});var o=t(14),a=t(0),i=t(7),l=function(e){return o.default(i.default,e)},d=function(e){return r(e)},s=function(e){return e.map(d)};n.default=function(e){return e.map(r)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(41);n.createRoutes=r.default;var o=t(37);n.IndexLink=o.default;var a=t(38);n.IndexRoute=a.default;var i=t(15);n.Link=i.default;var l=t(17);n.match=l.default;var d=t(39);n.Redirect=d.default,n.IndexRedirect=d.default;var s=t(7);n.Route=s.default;var u=t(40);n.Router=u.default;var c=t(16);n.RouterContext=c.default,n.default={Route:s.default,IndexRoute:a.default,Redirect:d.default,IndexRedirect:d.default,Router:u.default,RouterContext:c.default,Link:i.default,IndexLink:o.default,match:l.default,createRoutes:r.default}},function(e,n,t){"use strict";function r(e){return n.isArray(e)?e:e?[e]:e}function o(e){return!h(e.prototype)&&!h(e.prototype.render)}function a(e){var n=typeof e;return"string"===n||"number"===n}function i(e){return h(e)||c(e)}function l(e){return c(e)||!1===e||p(e)||h(e)}function d(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return null===e}function p(e){return!0===e}function h(e){return void 0===e}function f(e){return"object"==typeof e}function v(e){throw e||(e=n.ERROR_MSG),new Error("Inferno Error: "+e)}function g(e){console.warn(e)}function m(e,n){var t={};if(e)for(var r in e)t[r]=e[r];if(n)for(var r in n)t[r]=n[r];return t}function b(){this.listeners=[]}Object.defineProperty(n,"__esModule",{value:!0}),n.NO_OP="$NO_OP",n.ERROR_MSG="a runtime error occured! Use Inferno in development environment to find the error.",n.isBrowser=!("undefined"==typeof window||!window.document),n.toArray=r,n.isArray=Array.isArray,n.isStatefulComponent=o,n.isStringOrNumber=a,n.isNullOrUndef=i,n.isInvalid=l,n.isFunction=d,n.isString=s,n.isNumber=u,n.isNull=c,n.isTrue=p,n.isUndefined=h,n.isObject=f,n.throwError=v,n.warning=g,n.combineFrom=m,n.Lifecycle=b,b.prototype.addListener=function(e){this.listeners.push(e)},b.prototype.trigger=function(){for(var e,n=this.listeners;e=n.shift();)e()}},function(e,n,t){"use strict";function r(e,n,t,r){var o=p.get(e);if(t)o||(o={items:new Map,docEvent:null},o.docEvent=l(e,o),p.set(e,o)),n||c&&"onClick"===e&&s(r),o.items.set(r,t);else if(o){var i=o.items;i.delete(r)&&0===i.size&&(document.removeEventListener(a(e),o.docEvent),p.delete(e))}}function o(e,n,t,r,a,i){var l=t.get(n);if((!l||(r--,i.dom=n,l.event?l.event(l.data,e):l(e),!e.cancelBubble))&&r>0){var d=n.parentNode;if(null===d||a&&1===d.nodeType&&d.disabled)return;o(e,d,t,r,a,i)}}function a(e){return e.substr(2).toLowerCase()}function i(){this.cancelBubble=!0,this.stopImmediatePropagation()}function l(e,n){var t=function(e){var t=n.items.size;if(t>0){e.stopPropagation=i;var r={dom:document};try{Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return r.dom}})}catch(e){}o(e,e.target,n.items,t,"click"===e.type,r)}};return document.addEventListener(a(e),t),t}function d(){}function s(e){e.onclick=d}Object.defineProperty(n,"__esModule",{value:!0});var u=t(0),c=u.isBrowser&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),p=new Map;n.handleEvent=r},function(e,n,t){"use strict";function r(e,n){return{data:e,event:n}}Object.defineProperty(n,"__esModule",{value:!0}),n.linkEvent=r},function(e,n,t){"use strict";function r(e){for(var n=e.firstChild;n;)if(8===n.nodeType)if("!"===n.data){var t=document.createTextNode("");e.replaceChild(t,n),n=n.nextSibling}else{var r=n.previousSibling;e.removeChild(n),n=r||e.firstChild}else n=n.nextSibling}function o(e,n,t,r,o,a){var i=e.type,l=e.ref;e.dom=n;var d=e.props||m.EMPTY_OBJ;if(a){var u=n.namespaceURI===h.svgNS,c=m.createClassComponentInstance(e,i,d,r,u,t),v=c._lastInput;c._vNode=e,s(v,n,t,c._childContext,u),f.mountClassComponentCallbacks(e,l,c,t),c._updating=!1,p.options.findDOMNodeEnabled&&g.componentToDOMNodeMap.set(c,n)}else{var v=m.createFunctionalComponentInput(e,i,d,r);s(v,n,t,r,o),e.children=v,e.dom=v.dom,f.mountFunctionalComponentCallbacks(l,n,t)}return n}function a(e,n,t,r,o){var a=e.children,l=e.props,d=e.className,s=e.flags,u=e.ref;if(o=o||(128&s)>0,1!==n.nodeType||n.tagName.toLowerCase()!==e.type){var p=f.mountElement(e,null,t,r,o);return e.dom=p,m.replaceChild(n.parentNode,p,n),p}if(e.dom=n,a&&i(a,n,t,r,o),l){var h=!1,g=(3584&s)>0;g&&(h=b.isControlledFormElement(l));for(var k in l)v.patchProp(k,null,l[k],n,o,h);g&&b.processElement(s,e,n,l,!0,h)}return c.isNullOrUndef(d)?n.removeAttribute("class"):o?n.setAttribute("class",d):n.className=d,u&&f.mountRef(n,u,t),n}function i(e,n,t,o,a){r(n);var i=n.firstChild;if(c.isArray(e))for(var l=0,d=e.length;l<d;l++){var u=e[l];!c.isNull(u)&&c.isObject(u)&&(c.isNull(i)?f.mount(u,n,t,o,a):i=s(u,i,t,o,a).nextSibling)}else c.isStringOrNumber(e)?(i&&3===i.nodeType?i.nodeValue!==e&&(i.nodeValue=e):e&&(n.textContent=e),i=i.nextSibling):c.isObject(e)&&(s(e,i,t,o,a),i=i.nextSibling);for(;i;){var p=i.nextSibling;n.removeChild(i),i=p}}function l(e,n){if(3!==n.nodeType){var t=f.mountText(e,null);return e.dom=t,m.replaceChild(n.parentNode,t,n),t}var r=e.children;return n.nodeValue!==r&&(n.nodeValue=r),e.dom=n,n}function d(e,n){return e.dom=n,n}function s(e,n,t,r,i){var s=e.flags;return 28&s?o(e,n,t,r,i,(4&s)>0):3970&s?a(e,n,t,r,i):1&s?l(e,n):4096&s?d(e,n):void c.throwError()}function u(e,n,t){if(!c.isNull(n)){var r=n.firstChild;if(!c.isNull(r)){for(s(e,r,t,m.EMPTY_OBJ,!1),r=n.firstChild;r=r.nextSibling;)n.removeChild(r);return!0}}return!1}Object.defineProperty(n,"__esModule",{value:!0});var c=t(0),p=t(3),h=t(8),f=t(9),v=t(5),g=t(6),m=t(2),b=t(12);n.normalizeChildNodes=r,n.hydrateRoot=u},function(e,n,t){"use strict";function r(e){return"checkbox"===e||"radio"===e}function o(e){var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onInput){var a=t.onInput;a.event?a.event(a.data,e):a(e)}else t.oninput&&t.oninput(e);var i=this,l=i.props||u.EMPTY_OBJ;o!==l.value&&d(l,r)}function a(e){var n=this.props||u.EMPTY_OBJ,t=n.onChange;t.event?t.event(t.data,e):t(e)}function i(e){e.stopPropagation();var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onClick){var a=t.onClick;a.event?a.event(a.data,e):a(e)}else t.onclick&&t.onclick(e);var i=this,l=i.props||u.EMPTY_OBJ;o!==l.value&&d(l,r)}function l(e,n,t,l,s){d(t,n),l&&s&&(r(t.type)?(n.onclick=i.bind(e),n.onclick.wrapped=!0):(n.oninput=o.bind(e),n.oninput.wrapped=!0),t.onChange&&(n.onchange=a.bind(e),n.onchange.wrapped=!0))}function d(e,n){var t=e.type,o=e.value,a=e.checked,i=e.multiple,l=e.defaultValue,d=!s.isNullOrUndef(o);t&&t!==n.type&&n.setAttribute("type",t),i&&i!==n.multiple&&(n.multiple=i),s.isNullOrUndef(l)||d||(n.defaultValue=l+""),r(t)?(d&&(n.value=o),s.isNullOrUndef(a)||(n.checked=a)):d&&n.value!==o?n.value=o:s.isNullOrUndef(a)||(n.checked=a)}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(2);n.isCheckedType=r,n.processInput=l,n.applyValue=d},function(e,n,t){"use strict";function r(e,n){if("optgroup"===e.type){var t=e.children;if(d.isArray(t))for(var r=0,a=t.length;r<a;r++)o(t[r],n);else s.isVNode(t)&&o(t,n)}else o(e,n)}function o(e,n){var t=e.props||u.EMPTY_OBJ,r=e.dom;r.value=t.value,d.isArray(n)&&-1!==n.indexOf(t.value)||t.value===n?r.selected=!0:d.isNullOrUndef(n)&&d.isNullOrUndef(t.selected)||(r.selected=t.selected||!1)}function a(e){var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onChange){var a=t.onChange;a.event?a.event(a.data,e):a(e)}else t.onchange&&t.onchange(e);var i=this,d=i.props||u.EMPTY_OBJ;o!==d.value&&l(i,r,d,!1)}function i(e,n,t,r,o){l(e,n,t,r),r&&o&&(n.onchange=a.bind(e),n.onchange.wrapped=!0)}function l(e,n,t,o){t.multiple!==n.multiple&&(n.multiple=t.multiple);var a=e.children;if(!d.isInvalid(a)){var i=t.value;if(o&&d.isNullOrUndef(i)&&(i=t.defaultValue),d.isArray(a))for(var l=0,u=a.length;l<u;l++)r(a[l],i);else s.isVNode(a)&&r(a,i)}}Object.defineProperty(n,"__esModule",{value:!0});var d=t(0),s=t(4),u=t(2);n.processSelect=i,n.applyValue=l},function(e,n,t){"use strict";function r(e){var n=this.props||d.EMPTY_OBJ,t=n.onChange;t.event?t.event(t.data,e):t(e)}function o(e){var n=this,t=n.props||d.EMPTY_OBJ,r=t.value;if(t.onInput){var o=t.onInput;o.event?o.event(o.data,e):o(e)}else t.oninput&&t.oninput(e);var a=this;r!==(a.props||d.EMPTY_OBJ).value&&i(a,n.dom,!1)}function a(e,n,t,a,l){i(t,n,a),a&&l&&(n.oninput=o.bind(e),n.oninput.wrapped=!0,t.onChange&&(n.onchange=r.bind(e),n.onchange.wrapped=!0))}function i(e,n,t){var r=e.value,o=n.value;if(l.isNullOrUndef(r)){if(t){var a=e.defaultValue;l.isNullOrUndef(a)?""!==o&&(n.value=""):a!==o&&(n.value=a)}}else o!==r&&(n.value=r)}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),d=t(2);n.processTextarea=a,n.applyValue=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0);n.NO_OP=r.NO_OP;var o=t(20);n.getFlagsForElementVnode=o.getFlagsForElementVnode,n.internal_normalize=o.normalize;var a=t(3);n.options=a.options;var i=t(4);n.cloneVNode=i.cloneVNode,n.createVNode=i.createVNode;var l=t(8);n.internal_isUnitlessNumber=l.isUnitlessNumber;var d=t(45);n.linkEvent=d.linkEvent;var s=t(5);n.internal_patch=s.patch;var u=t(6);n.internal_DOMNodeMap=u.componentToDOMNodeMap,n.createRenderer=u.createRenderer,n.findDOMNode=u.findDOMNode,n.render=u.render;var c=t(2);n.EMPTY_OBJ=c.EMPTY_OBJ;n.version="3.1.0",n.default={getFlagsForElementVnode:o.getFlagsForElementVnode,linkEvent:d.linkEvent,createVNode:i.createVNode,cloneVNode:i.cloneVNode,NO_OP:r.NO_OP,EMPTY_OBJ:c.EMPTY_OBJ,render:u.render,findDOMNode:u.findDOMNode,createRenderer:u.createRenderer,options:a.options,version:"3.1.0",internal_patch:s.patch,internal_DOMNodeMap:u.componentToDOMNodeMap,internal_isUnitlessNumber:l.isUnitlessNumber,internal_normalize:o.normalize}},function(e,n,t){"use strict";var r=function(e,n,t,r,o,a,i,l){if(!e){var d;if(void 0===n)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[t,r,o,a,i,l],u=0;d=new Error(n.replace(/%s/g,function(){return s[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};e.exports=r},function(e,n){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,n,t){var r=t(54);e.exports=r,e.exports.parse=r.parse,e.exports.compile=r.compile,e.exports.tokensToFunction=r.tokensToFunction,e.exports.tokensToRegExp=r.tokensToRegExp,e.exports.default=e.exports},function(e,n,t){function r(e,n){for(var t,r=[],o=0,a=0,i="",l=n&&n.delimiter||"/";null!=(t=b.exec(e));){var u=t[0],c=t[1],p=t.index;if(i+=e.slice(a,p),a=p+u.length,c)i+=c[1];else{var h=e[a],f=t[2],v=t[3],g=t[4],m=t[5],k=t[6],w=t[7];i&&(r.push(i),i="");var N=null!=f&&null!=h&&h!==f,y="+"===k||"*"===k,j="?"===k||"*"===k,V=t[2]||l,O=g||m;r.push({name:v||o++,prefix:f||"",delimiter:V,optional:j,repeat:y,partial:N,asterisk:!!w,pattern:O?s(O):w?".*":"[^"+d(V)+"]+?"})}}return a<e.length&&(i+=e.substr(a)),i&&r.push(i),r}function o(e,n){return l(r(e,n))}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){for(var n=new Array(e.length),t=0;t<e.length;t++)"object"==typeof e[t]&&(n[t]=new RegExp("^(?:"+e[t].pattern+")$"));return function(t,r){for(var o="",l=t||{},d=r||{},s=d.pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var p,h=l[c.name];if(null==h){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(m(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=s(h[f]),!n[u].test(p))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===f?c.prefix:c.delimiter)+p}}else{if(p=c.asterisk?i(h):s(h),!n[u].test(p))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+p+'"');o+=c.prefix+p}}else o+=c}return o}}function d(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,n){return e.keys=n,e}function c(e){return e.sensitive?"":"i"}function p(e,n){var t=e.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)n.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,n)}function h(e,n,t){for(var r=[],o=0;o<e.length;o++)r.push(g(e[o],n,t).source);return u(new RegExp("(?:"+r.join("|")+")",c(t)),n)}function f(e,n,t){return v(r(e,t),n,t)}function v(e,n,t){m(n)||(t=n||t,n=[]),t=t||{};for(var r=t.strict,o=!1!==t.end,a="",i=0;i<e.length;i++){var l=e[i];if("string"==typeof l)a+=d(l);else{var s=d(l.prefix),p="(?:"+l.pattern+")";n.push(l),l.repeat&&(p+="(?:"+s+p+")*"),p=l.optional?l.partial?s+"("+p+")?":"(?:"+s+"("+p+"))?":s+"("+p+")",a+=p}}var h=d(t.delimiter||"/"),f=a.slice(-h.length)===h;return r||(a=(f?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":r&&f?"":"(?="+h+"|$)",u(new RegExp("^"+a,c(t)),n)}function g(e,n,t){return m(n)||(t=n||t,n=[]),t=t||{},e instanceof RegExp?p(e,n):m(e)?h(e,n,t):f(e,n,t)}var m=t(52);e.exports=g,e.exports.parse=r,e.exports.compile=o,e.exports.tokensToFunction=l,e.exports.tokensToRegExp=v;var b=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,n,t){"use strict";var r=function(e){return"/"===e.charAt(0)},o=function(e,n){for(var t=n,r=t+1,o=e.length;r<o;t+=1,r+=1)e[t]=e[r];e.pop()},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=e&&e.split("/")||[],a=n&&n.split("/")||[],i=e&&r(e),l=n&&r(n),d=i||l;if(e&&r(e)?a=t:t.length&&(a.pop(),a=a.concat(t)),!a.length)return"/";var s=void 0;if(a.length){var u=a[a.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,p=a.length;p>=0;p--){var h=a[p];"."===h?o(a,p):".."===h?(o(a,p),c++):c&&(o(a,p),c--)}if(!d)for(;c--;c)a.unshift("..");!d||""===a[0]||a[0]&&r(a[0])||a.unshift("");var f=a.join("/");return s&&"/"!==f.substr(-1)&&(f+="/"),f};e.exports=a},function(e,n,t){"use strict";n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function e(n,t){if(n===t)return!0;if(null==n||null==t)return!1;if(Array.isArray(n))return Array.isArray(t)&&n.length===t.length&&n.every(function(n,r){return e(n,t[r])});var o=void 0===n?"undefined":r(n);if(o!==(void 0===t?"undefined":r(t)))return!1;if("object"===o){var a=n.valueOf(),i=t.valueOf();if(a!==n||i!==t)return e(a,i);var l=Object.keys(n),d=Object.keys(t);return l.length===d.length&&l.every(function(r){return e(n[r],t[r])})}return!1};n.default=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAwYjYzOTM4NDY3ZmRmNmJjOTBiZSIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tc2hhcmVkL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvY29yZS9vcHRpb25zLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L2NvcmUvVk5vZGVzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9wYXRjaGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vcmVuZGVyaW5nLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9Sb3V0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9tb3VudGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS91bm1vdW50aW5nLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9wcm9jZXNzRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvUGF0aFV0aWxzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1jcmVhdGUtZWxlbWVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvTGluay5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvbWF0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9yZWN5Y2xpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvY29yZS9ub3JtYWxpemF0aW9uLmpzIiwid2VicGFjazovLy8uL34vd2FybmluZy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9iZXNsdWl0LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYmV3YXBlbmluZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jyb25uZW4uanN4Iiwid2VicGFjazovLy8uL3NyYy9pbmxlaWRpbmcuanN4Iiwid2VicGFjazovLy8uL3NyYy9vbmRlcnZlcmRlbGluZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZlbGRzbGFnZW4uanN4Iiwid2VicGFjazovLy8uL34vaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzeCIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvRE9NVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L0xvY2F0aW9uVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1jb21wb25lbnQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tY3JlYXRlLWVsZW1lbnQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvSW5kZXhMaW5rLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9JbmRleFJvdXRlLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9SZWRpcmVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9jcmVhdGVSb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1zaGFyZWQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2RlbGVnYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvRE9NL2V2ZW50cy9saW5rRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvRE9NL2h5ZHJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vd3JhcHBlcnMvSW5wdXRXcmFwcGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9TZWxlY3RXcmFwcGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9UZXh0YXJlYVdyYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wYXRoLXRvLXJlZ2V4cC1lczYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wYXRoLXRvLXJlZ2V4cC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3Jlc29sdmUtcGF0aG5hbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi92YWx1ZS1lcXVhbC9pbmRleC5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiaG90RGlzcG9zZUNodW5rIiwiY2h1bmtJZCIsImluc3RhbGxlZENodW5rcyIsImhvdERvd25sb2FkVXBkYXRlQ2h1bmsiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hhcnNldCIsInNyYyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiaG90Q3VycmVudEhhc2giLCJhcHBlbmRDaGlsZCIsImhvdERvd25sb2FkTWFuaWZlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlhNTEh0dHBSZXF1ZXN0IiwiRXJyb3IiLCJyZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsImhvdENyZWF0ZVJlcXVpcmUiLCJtb2R1bGVJZCIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsImZuIiwiaG90IiwiYWN0aXZlIiwicGFyZW50cyIsImluZGV4T2YiLCJwdXNoIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwibmFtZSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiaG90Q2h1bmtzTG9hZGluZyIsImhvdFN0YXR1cyIsImhvdFdhaXRpbmdGaWxlc01hcCIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJob3RDcmVhdGVNb2R1bGUiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJfbWFpbiIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwiaSIsImxlbmd0aCIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImNoZWNrIiwiaG90Q2hlY2siLCJhcHBseSIsImhvdEFwcGx5IiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJkYXRhIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJ1bmRlZmluZWQiLCJuZXdTdGF0dXMiLCJ0b01vZHVsZUlkIiwiaWQiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImMiLCJob3RVcGRhdGVOZXdIYXNoIiwiaCIsInByb21pc2UiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZSIsImhvdEFkZFVwZGF0ZUNodW5rIiwibW9yZU1vZHVsZXMiLCJkZWZlcnJlZCIsInJlc3VsdCIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImNiIiwiaiIsIm1vZHVsZSIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsInVwZGF0ZU1vZHVsZUlkIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwicGFyZW50SWQiLCJwYXJlbnQiLCJjb25jYXQiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsImpvaW4iLCJvbkRlY2xpbmVkIiwiaWdub3JlRGVjbGluZWQiLCJvblVuYWNjZXB0ZWQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib25BY2NlcHRlZCIsIm9uRGlzcG9zZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImRpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwiZGVwZW5kZW5jeSIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yZ2luYWxFcnJvciIsImV4cG9ydHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsInRoaXMiLCJtIiwiZCIsImdldHRlciIsIm8iLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsImRlZmF1bHQiLCJjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlIiwidk5vZGUiLCJDb21wb25lbnQiLCJwcm9wcyIsImNvbnRleHQiLCJpc1NWRyIsImxpZmVjeWNsZSIsImluZmVybm9fc2hhcmVkXzEiLCJpc1VuZGVmaW5lZCIsIkVNUFRZX09CSiIsImluc3RhbmNlIiwiX2Jsb2NrU2V0U3RhdGUiLCJfbGlmZWN5Y2xlIiwiX3VubW91bnRlZCIsIl9wZW5kaW5nU2V0U3RhdGUiLCJfaXNTVkciLCJjb21wb25lbnRXaWxsTW91bnQiLCJfYmxvY2tSZW5kZXIiLCJjaGlsZENvbnRleHQiLCJnZXRDaGlsZENvbnRleHQiLCJpc051bGxPclVuZGVmIiwiX2NoaWxkQ29udGV4dCIsImNvbWJpbmVGcm9tIiwiaXNOdWxsIiwib3B0aW9uc18xIiwiYmVmb3JlUmVuZGVyIiwiaW5wdXQiLCJyZW5kZXIiLCJzdGF0ZSIsImFmdGVyUmVuZGVyIiwiaXNBcnJheSIsInRocm93RXJyb3IiLCJpc0ludmFsaWQiLCJWTm9kZXNfMSIsImNyZWF0ZVZvaWRWTm9kZSIsImlzU3RyaW5nT3JOdW1iZXIiLCJjcmVhdGVUZXh0Vk5vZGUiLCJkb20iLCJkaXJlY3RDbG9uZSIsImZsYWdzIiwicGFyZW50Vk5vZGUiLCJfbGFzdElucHV0IiwicmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQiLCJsYXN0SW5wdXQiLCJuZXh0SW5wdXQiLCJwYXJlbnREb20iLCJpc1JlY3ljbGluZyIsInJlcGxhY2VWTm9kZSIsIm1vdW50aW5nXzEiLCJtb3VudCIsInVubW91bnRpbmdfMSIsInVubW91bnQiLCJyZXBsYWNlQ2hpbGQiLCJjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQiLCJjb21wb25lbnQiLCJzZXRUZXh0Q29udGVudCIsInRleHQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRleHROb2RlIiwidXBkYXRlVGV4dENvbnRlbnQiLCJmaXJzdENoaWxkIiwibm9kZVZhbHVlIiwiaW5zZXJ0T3JBcHBlbmQiLCJuZXdOb2RlIiwibmV4dE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJkb2N1bWVudENyZWF0ZUVsZW1lbnQiLCJ0YWciLCJjcmVhdGVFbGVtZW50TlMiLCJjb25zdGFudHNfMSIsInN2Z05TIiwicmVwbGFjZVdpdGhOZXdOb2RlIiwibGFzdE5vZGUiLCJuZXh0RG9tIiwibGFzdERvbSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUFsbENoaWxkcmVuIiwicmVjeWNsaW5nRW5hYmxlZCIsInJlbW92ZUNoaWxkcmVuIiwibGVuIiwiaXNLZXllZCIsImxhc3RDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsImtleSIsImFmdGVyTW91bnQiLCJhZnRlclVwZGF0ZSIsImJlZm9yZVVubW91bnQiLCJjcmVhdGVWTm9kZSIsImZpbmRET01Ob2RlRW5hYmxlZCIsInJvb3RzIiwiVk5vZGUiLCJjbGFzc05hbWUiLCJyZWYiLCJub05vcm1hbGlzZSIsImlzU3RhdGVmdWxDb21wb25lbnQiLCJub3JtYWxpemF0aW9uXzEiLCJub3JtYWxpemUiLCJ2Tm9kZVRvQ2xvbmUiLCJuZXdWTm9kZSIsInByb3BzVG9DbG9uZSIsInV0aWxzXzEiLCJuZXdQcm9wcyIsIm5ld0NoaWxkcmVuIiwidG1wQXJyYXkiLCJpc1ZOb2RlIiwiY2xvbmVWTm9kZSIsIl9jaGlsZHJlbiIsIl9pIiwiYXJndW1lbnRzIiwiY2hpbGRyZW5MZW4iLCJwYXRjaCIsImxhc3RWTm9kZSIsIm5leHRWTm9kZSIsImxhc3RGbGFncyIsIm5leHRGbGFncyIsInBhdGNoQ29tcG9uZW50IiwibW91bnRDb21wb25lbnQiLCJwYXRjaEVsZW1lbnQiLCJtb3VudEVsZW1lbnQiLCJwYXRjaFRleHQiLCJtb3VudFRleHQiLCJwYXRjaFZvaWQiLCJtb3VudFZvaWQiLCJ1bm1vdW50Q2hpbGRyZW4iLCJuZXh0VGFnIiwibGFzdFByb3BzIiwibmV4dFByb3BzIiwibmV4dFJlZiIsImxhc3RDbGFzc05hbWUiLCJuZXh0Q2xhc3NOYW1lIiwicGF0Y2hDaGlsZHJlbiIsImxhc3RQcm9wc09yRW1wdHkiLCJuZXh0UHJvcHNPckVtcHR5IiwiaGFzQ29udHJvbGxlZFZhbHVlIiwiaXNGb3JtRWxlbWVudCIsInByb2Nlc3NFbGVtZW50XzEiLCJpc0NvbnRyb2xsZWRGb3JtRWxlbWVudCIsInByb3AiLCJuZXh0VmFsdWUiLCJwYXRjaFByb3AiLCJwcm9jZXNzRWxlbWVudCIsInJlbW92ZVByb3AiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJtb3VudFJlZiIsInBhdGNoQXJyYXkiLCJwYXRjaEtleWVkIiwibW91bnRBcnJheUNoaWxkcmVuIiwicGF0Y2hLZXllZENoaWxkcmVuIiwicGF0Y2hOb25LZXllZENoaWxkcmVuIiwiaXNDbGFzcyIsImxhc3RUeXBlIiwibmV4dFR5cGUiLCJsYXN0S2V5IiwibmV4dEtleSIsIl91cGRhdGluZyIsImhhc0NvbXBvbmVudERpZFVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsIm5leHRTdGF0ZSIsImxhc3RTdGF0ZSIsIl91cGRhdGVDb21wb25lbnQiLCJkaWRVcGRhdGUiLCJOT19PUCIsImlzT2JqZWN0IiwiX3ZOb2RlIiwicmVuZGVyaW5nXzEiLCJjb21wb25lbnRUb0RPTU5vZGVNYXAiLCJzaG91bGRVcGRhdGUiLCJuZXh0SG9va3MiLCJuZXh0SG9va3NEZWZpbmVkIiwib25Db21wb25lbnRTaG91bGRVcGRhdGUiLCJvbkNvbXBvbmVudFdpbGxVcGRhdGUiLCJvbkNvbXBvbmVudERpZFVwZGF0ZSIsIm5leHRUZXh0IiwibGFzdENoaWxkcmVuTGVuZ3RoIiwibmV4dENoaWxkcmVuTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwiYU5vZGUiLCJiTm9kZSIsIm5leHRQb3MiLCJub2RlIiwiYUxlbmd0aCIsImJMZW5ndGgiLCJhRW5kIiwiYkVuZCIsImFTdGFydCIsImJTdGFydCIsImFTdGFydE5vZGUiLCJiU3RhcnROb2RlIiwiYUVuZE5vZGUiLCJiRW5kTm9kZSIsIm91dGVyIiwic291cmNlcyIsIkFycmF5IiwibW92ZWQiLCJwb3MiLCJwYXRjaGVkIiwia2V5SW5kZXgiLCJNYXAiLCJzZXEiLCJsaXNfYWxnb3JpdGhtIiwiYXJyIiwidSIsInYiLCJhcnJJIiwiaXNBdHRyQW5FdmVudCIsImF0dHIiLCJsYXN0VmFsdWUiLCJza2lwUHJvcHMiLCJoYXMiLCJib29sZWFuUHJvcHMiLCJ0b0xvd2VyQ2FzZSIsInN0cmljdFByb3BzIiwicGF0Y2hFdmVudCIsInBhdGNoU3R5bGUiLCJsYXN0SHRtbCIsIl9faHRtbCIsIm5leHRIdG1sIiwiaW5uZXJIVE1MIiwibmFtZXNwYWNlcyIsInNldEF0dHJpYnV0ZU5TIiwiZGVsZWdhdGVkRXZlbnRzIiwiZGVsZWdhdGlvbl8xIiwiaGFuZGxlRXZlbnQiLCJuYW1lTG93ZXJDYXNlIiwiZG9tRXZlbnQiLCJ3cmFwcGVkIiwiaXNGdW5jdGlvbiIsImxpbmtFdmVudF8xIiwiZXZlbnQiLCJsYXN0QXR0clZhbHVlIiwibmV4dEF0dHJWYWx1ZSIsImRvbVN0eWxlIiwic3R5bGUiLCJpc1N0cmluZyIsImNzc1RleHQiLCJpc051bWJlciIsImlzVW5pdGxlc3NOdW1iZXIiLCJmaW5kRE9NTm9kZSIsIm5vZGVUeXBlIiwiZ2V0Um9vdCIsInJvb3QiLCJzZXRSb290IiwicmVtb3ZlUm9vdCIsImRvY3VtZW50Qm9keSIsIkxpZmVjeWNsZSIsImh5ZHJhdGlvbl8xIiwiaHlkcmF0ZVJvb3QiLCJ0cmlnZ2VyIiwibGlzdGVuZXJzIiwicGF0Y2hpbmdfMSIsInJvb3RJbnB1dCIsImNyZWF0ZVJlbmRlcmVyIiwiaXNCcm93c2VyIiwiYm9keSIsIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJpbmZlcm5vX2NvbXBvbmVudF8xIiwiaW5mZXJub19jcmVhdGVfZWxlbWVudF8xIiwicmVzb2x2ZWRQcm9taXNlIiwiUm91dGUiLCJfc3VwZXIiLCJfdGhpcyIsIl9vbkNvbXBvbmVudFJlc29sdmVkIiwic2V0U3RhdGUiLCJhc3luY0NvbXBvbmVudCIsIm9uRW50ZXIiLCJyb3V0ZXIiLCJnZXRDb21wb25lbnQiLCJvbkxlYXZlIiwicGF0aCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIl9hcmdzIiwicmVzdCIsInJlc29sdmVkQ29tcG9uZW50IiwieGxpbmtOUyIsInhtbE5TIiwiU2V0IiwiYWRkIiwiZG9tXzEiLCJyZWN5Y2xpbmdfMSIsInJlY3ljbGVFbGVtZW50IiwiZG9tXzIiLCJyZWN5Y2xlQ29tcG9uZW50IiwibW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyIsIm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyIsImhhc0RpZE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJhZGRMaXN0ZW5lciIsIm9uQ29tcG9uZW50V2lsbE1vdW50Iiwib25Db21wb25lbnREaWRNb3VudCIsImNhblJlY3ljbGUiLCJ1bm1vdW50Q29tcG9uZW50IiwidW5tb3VudEVsZW1lbnQiLCJ1bm1vdW50Vm9pZE9yVGV4dCIsImRlbGV0ZSIsIm9uQ29tcG9uZW50V2lsbFVubW91bnQiLCJwb29sQ29tcG9uZW50IiwidW5tb3VudFJlZiIsIm5hbWVfMSIsInBvb2xFbGVtZW50IiwibW91bnRpbmciLCJpc0NvbnRyb2xsZWQiLCJJbnB1dFdyYXBwZXJfMSIsInByb2Nlc3NJbnB1dCIsIlNlbGVjdFdyYXBwZXJfMSIsInByb2Nlc3NTZWxlY3QiLCJUZXh0YXJlYVdyYXBwZXJfMSIsInByb2Nlc3NUZXh0YXJlYSIsImlzQ2hlY2tlZFR5cGUiLCJjaGVja2VkIiwiYWRkTGVhZGluZ1NsYXNoIiwiY2hhckF0Iiwic3RyaXBMZWFkaW5nU2xhc2giLCJzdWJzdHIiLCJzdHJpcFByZWZpeCIsInByZWZpeCIsInN0cmlwVHJhaWxpbmdTbGFzaCIsInBhcnNlUGF0aCIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImhhc2hJbmRleCIsInNlYXJjaEluZGV4IiwiZGVjb2RlVVJJIiwiY3JlYXRlUGF0aCIsImxvY2F0aW9uIiwiZW5jb2RlVVJJIiwicmVuZGVyTGluayIsImNsYXNzTm0iLCJvdGhlclByb3BzIiwiaW5mZXJub18xIiwiTGluayIsIl9hIiwiYWN0aXZlQ2xhc3NOYW1lIiwiYWN0aXZlU3R5bGUiLCJvbkNsaWNrIiwidG8iLCJfX3Jlc3QiLCJocmVmIiwiY3JlYXRlSHJlZiIsImJhc2VVcmwiLCJvbmNsaWNrIiwiYnV0dG9uIiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwidCIsImdldE93blByb3BlcnR5U3ltYm9scyIsIlJvdXRlckNvbnRleHQiLCJtYXRjaGVkIiwibWF0Y2giLCJyb3V0ZXMiLCJjdXJyZW50VVJMIiwiZ2V0VVJMU3RyaW5nIiwibWF0Y2hSb3V0ZXMiLCJ0b0FycmF5IiwiX3JvdXRlcyIsInBhcmVudFBhdGgiLCJyZWRpcmVjdCIsImZsYXR0ZW4iLCJzcGxpdCIsIl9iIiwicGF0aFRvTWF0Y2giLCJfYyIsInBhcmFtcyIsIm1hcFNlYXJjaFBhcmFtcyIsInNvcnQiLCJwYXRoUmFua1NvcnQiLCJyb3V0ZSIsImVtcHR5T2JqZWN0Iiwicm91dGVQYXRoIiwiZnJvbSIsImxvY2F0aW9uXzEiLCJ0b1BhcnRpYWxVUkwiLCJyZXBsYWNlIiwiaXNMYXN0IiwiaXNFbXB0eSIsIm1hdGNoQmFzZSIsIm1hdGNoUGF0aCIsIm1hdGNoQ2hpbGQiLCJjaGlsZFByb3BzIiwiZW5kIiwicmVnZXhwIiwiY2FjaGUiLCJwYXR0ZXJuIiwicGF0aF90b19yZWdleHBfZXM2XzEiLCJleGVjIiwiZGVjb2RlIiwidmFsIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwib2xkQXJyYXkiLCJuZXdBcnJheSIsImZsYXR0ZW5BcnJheSIsImZyYWdtZW50cyIsImZyYWdtZW50IiwibWFwRnJhZ21lbnQiLCJrIiwiZnVsbFVSTCIsInBhcnRVUkwiLCJleGNsdWRlZCIsImFBdHRyIiwiYkF0dHIiLCJyYW5rIiwiaXNWYWwiLCJzdHJpcCIsInVybCIsInBvb2xzIiwiZWxlbWVudFBvb2xzIiwicG9vbCIsIm5vbktleWVkIiwia2V5ZWQiLCJyZWN5Y2xlZFZOb2RlIiwiY29tcG9uZW50UG9vbHMiLCJob29rcyIsImFwcGx5S2V5IiwiYXBwbHlLZXlJZk1pc3NpbmciLCJhcHBseUtleVByZWZpeCIsIl9ub3JtYWxpemVWTm9kZXMiLCJub2RlcyIsImluZGV4IiwiY3VycmVudEtleSIsIm5vcm1hbGl6ZVZOb2RlcyIsIm5ld05vZGVzIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJub3JtYWxpemVQcm9wcyIsImdldEZsYWdzRm9yRWxlbWVudFZub2RlIiwiZGVmYXVsdFByb3BzIiwid2FybmluZyIsIkJlc2x1aXQiLCJfaW5mZXJubyIsIkJld2FwZW5pbmciLCJyb3dzcGFuIiwiQnJvbm5lbiIsIklubGVpZGluZyIsIk9uZGVydmVyZGVsaW5nIiwiVmVsZHNsYWdlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsIl93YXJuaW5nIiwiX3dhcm5pbmcyIiwiX2ludmFyaWFudCIsIl9pbnZhcmlhbnQyIiwiX0xvY2F0aW9uVXRpbHMiLCJfUGF0aFV0aWxzIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiIsIl9ET01VdGlscyIsImdldEhpc3RvcnlTdGF0ZSIsIndpbmRvdyIsImhpc3RvcnkiLCJjcmVhdGVCcm93c2VySGlzdG9yeSIsImNhblVzZURPTSIsImdsb2JhbEhpc3RvcnkiLCJjYW5Vc2VIaXN0b3J5Iiwic3VwcG9ydHNIaXN0b3J5IiwibmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIiLCJzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlIiwiX3Byb3BzJGZvcmNlUmVmcmVzaCIsImZvcmNlUmVmcmVzaCIsIl9wcm9wcyRnZXRVc2VyQ29uZmlybSIsImdldFVzZXJDb25maXJtYXRpb24iLCJnZXRDb25maXJtYXRpb24iLCJfcHJvcHMka2V5TGVuZ3RoIiwia2V5TGVuZ3RoIiwiYmFzZW5hbWUiLCJnZXRET01Mb2NhdGlvbiIsImhpc3RvcnlTdGF0ZSIsIl9yZWYiLCJfd2luZG93JGxvY2F0aW9uIiwiY3JlYXRlS2V5IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwidHJhbnNpdGlvbk1hbmFnZXIiLCJub3RpZnlMaXN0ZW5lcnMiLCJhY3Rpb24iLCJoYW5kbGVQb3BTdGF0ZSIsImlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQiLCJoYW5kbGVQb3AiLCJoYW5kbGVIYXNoQ2hhbmdlIiwiZm9yY2VOZXh0UG9wIiwiY29uZmlybVRyYW5zaXRpb25UbyIsIm9rIiwicmV2ZXJ0UG9wIiwiZnJvbUxvY2F0aW9uIiwidG9Mb2NhdGlvbiIsInRvSW5kZXgiLCJhbGxLZXlzIiwiZnJvbUluZGV4IiwiZGVsdGEiLCJnbyIsImluaXRpYWxMb2NhdGlvbiIsImNyZWF0ZUxvY2F0aW9uIiwicHVzaFN0YXRlIiwicHJldkluZGV4IiwibmV4dEtleXMiLCJyZXBsYWNlU3RhdGUiLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJsaXN0ZW5lckNvdW50IiwiY2hlY2tET01MaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzQmxvY2tlZCIsImJsb2NrIiwicHJvbXB0IiwidW5ibG9jayIsInNldFByb21wdCIsImxpc3RlbiIsImxpc3RlbmVyIiwidW5saXN0ZW4iLCJhcHBlbmRMaXN0ZW5lciIsIkFwcCIsIl9pbmZlcm5vUm91dGVyIiwiTm9NYXRjaCIsIl9yZWYyIiwiX2luZmVybm8yIiwiX2NyZWF0ZUJyb3dzZXJIaXN0b3J5IiwiX2NyZWF0ZUJyb3dzZXJIaXN0b3J5MiIsIl9pbmxlaWRpbmciLCJfb25kZXJ2ZXJkZWxpbmciLCJfYmV3YXBlbmluZyIsIl92ZWxkc2xhZ2VuIiwiX2Jlc2x1aXQiLCJfYnJvbm5lbiIsImJyb3dzZXJIaXN0b3J5IiwiSW5kZXhSb3V0ZSIsImdldEVsZW1lbnRCeUlkIiwiYXR0YWNoRXZlbnQiLCJkZXRhY2hFdmVudCIsIm1lc3NhZ2UiLCJjb25maXJtIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCIsImxvY2F0aW9uc0FyZUVxdWFsIiwiX3Jlc29sdmVQYXRobmFtZSIsIl9yZXNvbHZlUGF0aG5hbWUyIiwiX3ZhbHVlRXF1YWwiLCJfdmFsdWVFcXVhbDIiLCJjdXJyZW50TG9jYXRpb24iLCJjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciIsIm5leHRQcm9tcHQiLCJpc0FjdGl2ZSIsImZpbHRlciIsIl9sZW4iLCJhcmdzIiwiX2tleSIsInVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2RlcyIsImFkZFRvUXVldWUiLCJmb3JjZSIsImNvbXBvbmVudENhbGxiYWNrUXVldWUiLCJhcHBseVN0YXRlIiwicXVldWVTdGF0ZUNoYW5nZXMiLCJuZXdTdGF0ZSIsInBlbmRpbmciLCJfcGVuZGluZ1N0YXRlIiwic3RhdGVLZXkiLCJiaW5kIiwicGVuZGluZ1N0YXRlIiwicHJldlN0YXRlIiwiY29udGV4dF8xIiwibGlmZUN5Y2xlIiwiaW50ZXJuYWxfcGF0Y2giLCJpbnRlcm5hbF9ET01Ob2RlTWFwIiwiRVJST1JfTVNHIiwiZm9yY2VVcGRhdGUiLCJzZXRTdGF0ZVN5bmMiLCJwcmV2UHJvcHMiLCJmcm9tU2V0U3RhdGUiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwibmV4dENvbnRleHQiLCJjb21wb25lbnRIb29rcyIsIkluZGV4TGluayIsIkxpbmtfMSIsIlJvdXRlXzEiLCJSZWRpcmVjdCIsImNyZWF0ZXJSb3V0ZXIiLCJUeXBlRXJyb3IiLCJtYXRjaF8xIiwiUm91dGVyQ29udGV4dF8xIiwiUm91dGVyIiwicm91dGVUbyIsIm9uVXBkYXRlIiwiaGl0Iiwic2V0VGltZW91dCIsImhhbmRsZVJvdXRlTm9kZSIsInJvdXRlQ29uZmlnTm9kZSIsImluZGV4Um91dGUiLCJjaGlsZFJvdXRlcyIsImhhbmRsZUluZGV4Um91dGUiLCJoYW5kbGVDaGlsZFJvdXRlcyIsImluZGV4Um91dGVOb2RlIiwiaGFuZGxlQ2hpbGRSb3V0ZSIsImNoaWxkUm91dGVOb2RlIiwiY2hpbGRSb3V0ZU5vZGVzIiwicm91dGVDb25maWciLCJjcmVhdGVSb3V0ZXNfMSIsImNyZWF0ZVJvdXRlcyIsIkluZGV4TGlua18xIiwiSW5kZXhSb3V0ZV8xIiwiUmVkaXJlY3RfMSIsIkluZGV4UmVkaXJlY3QiLCJSb3V0ZXJfMSIsImlzVHJ1ZSIsImZpcnN0Iiwic2Vjb25kIiwib3V0Iiwic2hpZnQiLCJsYXN0RXZlbnQiLCJuZXh0RXZlbnQiLCJkZWxlZ2F0ZWRSb290cyIsIml0ZW1zIiwiZG9jRXZlbnQiLCJhdHRhY2hFdmVudFRvRG9jdW1lbnQiLCJpc2lPUyIsInRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50Iiwic2l6ZSIsIm5vcm1hbGl6ZUV2ZW50TmFtZSIsImRpc3BhdGNoRXZlbnQiLCJjb3VudCIsImlzQ2xpY2siLCJldmVudERhdGEiLCJldmVudHNUb1RyaWdnZXIiLCJjYW5jZWxCdWJibGUiLCJkaXNhYmxlZCIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImV2ZW50RGF0YV8xIiwiZW1wdHlGbiIsInBsYXRmb3JtIiwidGVzdCIsImxpbmtFdmVudCIsIm5vcm1hbGl6ZUNoaWxkTm9kZXMiLCJwbGFjZWhvbGRlciIsIm5leHRTaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiaHlkcmF0ZUNvbXBvbmVudCIsIm5hbWVzcGFjZVVSSSIsImh5ZHJhdGUiLCJoeWRyYXRlRWxlbWVudCIsInRhZ05hbWUiLCJuZXdEb20iLCJoeWRyYXRlQ2hpbGRyZW4iLCJoeWRyYXRlVGV4dCIsImh5ZHJhdGVWb2lkIiwib25UZXh0SW5wdXRDaGFuZ2UiLCJwcmV2aW91c1ZhbHVlIiwib25JbnB1dCIsImV2ZW50XzEiLCJvbmlucHV0IiwiYXBwbHlWYWx1ZSIsIndyYXBwZWRPbkNoYW5nZSIsIm9uQ2hhbmdlIiwib25DaGVja2JveENoYW5nZSIsImV2ZW50XzIiLCJvbmNoYW5nZSIsIm11bHRpcGxlIiwiZGVmYXVsdFZhbHVlIiwiaGFzVmFsdWUiLCJ1cGRhdGVDaGlsZE9wdGlvbkdyb3VwIiwidXBkYXRlQ2hpbGRPcHRpb24iLCJzZWxlY3RlZCIsIm9uU2VsZWN0Q2hhbmdlIiwib25UZXh0YXJlYUlucHV0Q2hhbmdlIiwiZG9tVmFsdWUiLCJpbnRlcm5hbF9ub3JtYWxpemUiLCJpbnRlcm5hbF9pc1VuaXRsZXNzTnVtYmVyIiwidmVyc2lvbiIsImludmFyaWFudCIsImNvbmRpdGlvbiIsImZvcm1hdCIsImYiLCJhcmdJbmRleCIsImZyYW1lc1RvUG9wIiwicGF0aFRvUmVnRXhwIiwiY29tcGlsZSIsInRva2Vuc1RvRnVuY3Rpb24iLCJ0b2tlbnNUb1JlZ0V4cCIsInN0ciIsInJlcyIsInRva2VucyIsImRlZmF1bHREZWxpbWl0ZXIiLCJkZWxpbWl0ZXIiLCJQQVRIX1JFR0VYUCIsImVzY2FwZWQiLCJvZmZzZXQiLCJuZXh0IiwiY2FwdHVyZSIsImdyb3VwIiwibW9kaWZpZXIiLCJhc3RlcmlzayIsInBhcnRpYWwiLCJyZXBlYXQiLCJvcHRpb25hbCIsImVzY2FwZUdyb3VwIiwiZXNjYXBlU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IiwiY2hhckNvZGVBdCIsInRvVXBwZXJDYXNlIiwiZW5jb2RlQXN0ZXJpc2siLCJtYXRjaGVzIiwiUmVnRXhwIiwib3B0cyIsImVuY29kZSIsInByZXR0eSIsImVuY29kZVVSSUNvbXBvbmVudCIsInRva2VuIiwic2VnbWVudCIsImlzYXJyYXkiLCJzdHJpbmdpZnkiLCJhdHRhY2hLZXlzIiwicmUiLCJzZW5zaXRpdmUiLCJyZWdleHBUb1JlZ2V4cCIsImdyb3VwcyIsImFycmF5VG9SZWdleHAiLCJwYXJ0cyIsInBhdGhUb1JlZ2V4cCIsInN0cmluZ1RvUmVnZXhwIiwic3RyaWN0IiwiZW5kc1dpdGhEZWxpbWl0ZXIiLCJpc0Fic29sdXRlIiwic3BsaWNlT25lIiwibGlzdCIsInJlc29sdmVQYXRobmFtZSIsInRvUGFydHMiLCJmcm9tUGFydHMiLCJpc1RvQWJzIiwiaXNGcm9tQWJzIiwibXVzdEVuZEFicyIsImhhc1RyYWlsaW5nU2xhc2giLCJsYXN0IiwidXAiLCJwYXJ0IiwidW5zaGlmdCIsInZhbHVlRXF1YWwiLCJldmVyeSIsImFUeXBlIiwiYVZhbHVlIiwidmFsdWVPZiIsImJWYWx1ZSIsImFLZXlzIiwiYktleXMiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDQW5CLFFBQUFDLEdBQUFDLFNBQ0FDLGlCQUFBRCxHQVNBLFFBQUFFLEdBQUFGLEdBQ0EsR0FBQUcsR0FBQUMsU0FBQUMscUJBQUEsV0FDQUMsRUFBQUYsU0FBQUcsY0FBQSxTQUNBRCxHQUFBRSxLQUFBLGtCQUNBRixFQUFBRyxRQUFBLFFBQ0FILEVBQUFJLElBQUFDLEVBQUFDLEVBQUEsR0FBQVosRUFBQSxJQUFBYSxFQUFBLGlCQUNBVixFQUFBVyxZQUFBUixHQUdBLFFBQUFTLEtBQ0EsVUFBQUMsU0FBQSxTQUFBQyxFQUFBQyxHQUNBLHNCQUFBQyxnQkFDQSxNQUFBRCxHQUFBLEdBQUFFLE9BQUEsc0JBQ0EsS0FDQSxHQUFBQyxHQUFBLEdBQUFGLGdCQUNBRyxFQUFBWCxFQUFBQyxFQUFBLEdBQUFDLEVBQUEsa0JBQ0FRLEdBQUFFLEtBQUEsTUFBQUQsR0FBQSxHQUNBRCxFQUFBRyxRQUFBLElBQ0FILEVBQUFJLEtBQUEsTUFDSyxNQUFBQyxHQUNMLE1BQUFSLEdBQUFRLEdBRUFMLEVBQUFNLG1CQUFBLFdBQ0EsT0FBQU4sRUFBQU8sV0FDQSxPQUFBUCxFQUFBUSxPQUVBWCxFQUFBLEdBQUFFLE9BQUEsdUJBQUFFLEVBQUEsb0JBQ00sVUFBQUQsRUFBQVEsT0FFTlosUUFDTSxVQUFBSSxFQUFBUSxRQUFBLE1BQUFSLEVBQUFRLE9BRU5YLEVBQUEsR0FBQUUsT0FBQSx1QkFBQUUsRUFBQSxpQkFDTSxDQUVOLElBQ0EsR0FBQVEsR0FBQUMsS0FBQUMsTUFBQVgsRUFBQVksY0FDTyxNQUFBQyxHQUVQLFdBREFoQixHQUFBZ0IsR0FHQWpCLEVBQUFhLE9BZUEsUUFBQUssR0FBQUMsR0FDQSxHQUFBQyxHQUFBQyxFQUFBRixFQUNBLEtBQUFDLEVBQUEsTUFBQTFCLEVBQ0EsSUFBQTRCLEdBQUEsU0FBQWxCLEdBZUEsTUFkQWdCLEdBQUFHLElBQUFDLFFBQ0FILEVBQUFqQixHQUNBaUIsRUFBQWpCLEdBQUFxQixRQUFBQyxRQUFBUCxHQUFBLEdBQ0FFLEVBQUFqQixHQUFBcUIsUUFBQUUsS0FBQVIsSUFFQVMsR0FBQVQsR0FDQVUsRUFBQXpCLEdBRUFnQixFQUFBVSxTQUFBSixRQUFBdEIsR0FBQSxHQUNBZ0IsRUFBQVUsU0FBQUgsS0FBQXZCLEtBRUEyQixRQUFBQyxLQUFBLDRCQUFBNUIsRUFBQSwwQkFBQWUsR0FDQVMsTUFFQWxDLEVBQUFVLEdBY0EsUUFBQTZCLEtBQUF2QyxHQUNBd0MsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQTNDLEVBQUF1QyxJQUFBLE1BQUFBLEdBQ0FDLE9BQUFJLGVBQUFoQixFQUFBVyxFQWRBLFNBQUFBLEdBQ0EsT0FDQU0sY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUEsV0FDQSxNQUFBL0MsR0FBQXVDLElBRUFTLElBQUEsU0FBQUMsR0FDQWpELEVBQUF1QyxHQUFBVSxLQU1BVixHQXdCQSxPQXJCQVgsR0FBQUwsRUFBQSxTQUFBbEMsR0FTQSxRQUFBNkQsS0FDQUMsSUFDQSxZQUFBQyxJQUNBQyxFQUFBaEUsSUFDQWlFLEVBQUFqRSxHQUVBLElBQUE4RCxHQUFBLElBQUFJLEdBQ0FDLEtBWkEsTUFIQSxVQUFBSixHQUNBSyxFQUFBLFdBQ0FOLElBQ0FuRCxFQUFBdUIsRUFBQWxDLEdBQUFxRSxLQUFBUixFQUFBLFNBQUFuQyxHQUVBLEtBREFtQyxLQUNBbkMsS0FlQWEsRUFHQSxRQUFBK0IsR0FBQWxDLEdBQ0EsR0FBQUksSUFFQStCLHlCQUNBQyx5QkFDQUMsZUFBQSxFQUNBQyxlQUFBLEVBQ0FDLG9CQUNBQyxNQUFBOUIsSUFBQVYsRUFHQUssUUFBQSxFQUNBb0MsT0FBQSxTQUFBQyxFQUFBQyxHQUNBLFlBQUFELEVBQ0F0QyxFQUFBaUMsZUFBQSxNQUNBLHNCQUFBSyxHQUNBdEMsRUFBQWlDLGNBQUFLLE1BQ0Esb0JBQUFBLEdBQ0EsT0FBQUUsR0FBQSxFQUFvQkEsRUFBQUYsRUFBQUcsT0FBZ0JELElBQ3BDeEMsRUFBQStCLHNCQUFBTyxFQUFBRSxJQUFBRCxHQUFBLGlCQUVBdkMsR0FBQStCLHNCQUFBTyxHQUFBQyxHQUFBLGNBRUFHLFFBQUEsU0FBQUosR0FDQSxZQUFBQSxFQUNBdEMsRUFBQWtDLGVBQUEsTUFDQSxvQkFBQUksR0FDQSxPQUFBRSxHQUFBLEVBQW9CQSxFQUFBRixFQUFBRyxPQUFnQkQsSUFDcEN4QyxFQUFBZ0Msc0JBQUFNLEVBQUFFLEtBQUEsTUFFQXhDLEdBQUFnQyxzQkFBQU0sSUFBQSxHQUVBSyxRQUFBLFNBQUFKLEdBQ0F2QyxFQUFBbUMsaUJBQUEvQixLQUFBbUMsSUFFQUssa0JBQUEsU0FBQUwsR0FDQXZDLEVBQUFtQyxpQkFBQS9CLEtBQUFtQyxJQUVBTSxxQkFBQSxTQUFBTixHQUNBLEdBQUFPLEdBQUE5QyxFQUFBbUMsaUJBQUFoQyxRQUFBb0MsRUFDQU8sSUFBQSxHQUFBOUMsRUFBQW1DLGlCQUFBWSxPQUFBRCxFQUFBLElBSUFFLE1BQUFDLEVBQ0FDLE1BQUFDLEVBQ0E5RCxPQUFBLFNBQUErRCxHQUNBLElBQUFBLEVBQUEsTUFBQTdCLEVBQ0E4QixHQUFBakQsS0FBQWdELElBRUFFLGlCQUFBLFNBQUFGLEdBQ0FDLEVBQUFqRCxLQUFBZ0QsSUFFQUcsb0JBQUEsU0FBQUgsR0FDQSxHQUFBTixHQUFBTyxFQUFBbEQsUUFBQWlELEVBQ0FOLElBQUEsR0FBQU8sRUFBQU4sT0FBQUQsRUFBQSxJQUlBVSxLQUFBQyxFQUFBN0QsR0FHQSxPQURBVSxPQUFBb0QsR0FDQTFELEVBTUEsUUFBQTRCLEdBQUErQixHQUNBcEMsRUFBQW9DLENBQ0EsUUFBQW5CLEdBQUEsRUFBaUJBLEVBQUFhLEVBQUFaLE9BQThCRCxJQUMvQ2EsRUFBQWIsR0FBQTFCLEtBQUEsS0FBQTZDLEdBY0EsUUFBQUMsR0FBQUMsR0FFQSxPQURBQSxFQUFBLEtBQUFBLEdBQ0FBLElBR0EsUUFBQVosR0FBQUMsR0FDQSxZQUFBM0IsRUFBQSxTQUFBM0MsT0FBQSx5Q0FHQSxPQUZBa0YsR0FBQVosRUFDQXRCLEVBQUEsU0FDQXJELElBQUFzRCxLQUFBLFNBQUF2QyxHQUNBLElBQUFBLEVBRUEsTUFEQXNDLEdBQUEsUUFDQSxJQUVBbUMsTUFDQXZDLEtBQ0F3QyxFQUFBMUUsRUFBQTJFLEVBQ0FDLEVBQUE1RSxFQUFBNkUsRUFFQXZDLEVBQUEsVUFDQSxJQUFBd0MsR0FBQSxHQUFBNUYsU0FBQSxTQUFBQyxFQUFBQyxHQUNBMkYsR0FDQTVGLFVBQ0FDLFdBR0E0RixLQVNBLE9BTEE3QyxHQUhBLEdBS0EsWUFBQUYsR0FBQSxJQUFBRCxHQUFBLElBQUFJLEdBQ0FDLElBRUF5QyxJQUlBLFFBQUFHLEdBQUEvRyxFQUFBZ0gsR0FDQSxHQUFBUixFQUFBeEcsSUFBQXVHLEVBQUF2RyxHQUFBLENBRUF1RyxFQUFBdkcsSUFBQSxDQUNBLFFBQUFvQyxLQUFBNEUsR0FDQTdELE9BQUFDLFVBQUFDLGVBQUFDLEtBQUEwRCxFQUFBNUUsS0FDQTBFLEVBQUExRSxHQUFBNEUsRUFBQTVFLEdBR0EsTUFBQThCLEdBQUEsSUFBQUosR0FDQUssS0FJQSxRQUFBRixHQUFBakUsR0FDQXdHLEVBQUF4RyxJQUdBdUcsRUFBQXZHLElBQUEsRUFDQWtFLElBQ0FoRSxFQUFBRixJQUpBZ0UsRUFBQWhFLElBQUEsRUFRQSxRQUFBbUUsS0FDQUMsRUFBQSxRQUNBLElBQUE2QyxHQUFBSixDQUVBLElBREFBLEVBQUEsS0FDQUksRUFDQSxHQUFBWCxFQUNBWCxFQUFBVyxHQUFBakMsS0FBQSxTQUFBNkMsR0FDQUQsRUFBQWhHLFFBQUFpRyxJQUNLLFNBQUF4RixHQUNMdUYsRUFBQS9GLE9BQUFRLFNBRUksQ0FDSixHQUFBeUYsS0FDQSxRQUFBZCxLQUFBUyxHQUNBM0QsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQXdELEVBQUFULElBQ0FjLEVBQUF2RSxLQUFBd0QsRUFBQUMsR0FHQVksR0FBQWhHLFFBQUFrRyxJQUlBLFFBQUF4QixHQUFBeUIsR0E2RUEsUUFBQUMsR0FBQUMsRUFBQUMsR0FDQSxPQUFBdkMsR0FBQSxFQUFrQkEsRUFBQXVDLEVBQUF0QyxPQUFjRCxJQUFBLENBQ2hDLEdBQUF3QyxHQUFBRCxFQUFBdkMsRUFDQXNDLEdBQUEzRSxRQUFBNkUsR0FBQSxHQUNBRixFQUFBMUUsS0FBQTRFLElBaEZBLGFBQUF6RCxFQUFBLFNBQUEzQyxPQUFBLDBDQUNBZ0csUUFFQSxJQUFBSyxHQUNBekMsRUFDQTBDLEVBQ0FDLEVBQ0F2RixFQStFQXdGLEtBQ0FULEtBQ0FVLEtBRUFDLEVBQUEsV0FDQTlFLFFBQUFDLEtBQUEsNEJBQUFpRSxFQUFBOUUsU0FBQSx3QkFHQSxRQUFBaUUsS0FBQVMsR0FDQSxHQUFBM0QsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQXdELEVBQUFULEdBQUEsQ0FDQWpFLEVBQUFnRSxFQUFBQyxFQUNBLElBQUFhLEVBRUFBLEdBREFKLEVBQUFULEdBekZBLFNBQUEwQixHQVVBLElBVEEsR0FBQVosSUFBQVksR0FDQUgsS0FFQUksRUFBQWIsRUFBQWMsUUFBQUMsSUFBQSxTQUFBN0IsR0FDQSxPQUNBOEIsT0FBQTlCLEdBQ0FBLFFBR0EyQixFQUFBL0MsT0FBQSxJQUNBLEdBQUFtRCxHQUFBSixFQUFBSyxNQUNBakcsRUFBQWdHLEVBQUEvQixHQUNBOEIsRUFBQUMsRUFBQUQsS0FFQSxLQURBUixFQUFBckYsRUFBQUYsTUFDQXVGLEVBQUFuRixJQUFBaUMsY0FBQSxDQUVBLEdBQUFrRCxFQUFBbkYsSUFBQWtDLGNBQ0EsT0FDQWxFLEtBQUEsZ0JBQ0EySCxRQUNBL0YsV0FHQSxJQUFBdUYsRUFBQW5GLElBQUFvQyxNQUNBLE9BQ0FwRSxLQUFBLGFBQ0EySCxRQUNBL0YsV0FHQSxRQUFBNEMsR0FBQSxFQUFtQkEsRUFBQTJDLEVBQUFqRixRQUFBdUMsT0FBMkJELElBQUEsQ0FDOUMsR0FBQXNELEdBQUFYLEVBQUFqRixRQUFBc0MsR0FDQXVELEVBQUFqRyxFQUFBZ0csRUFDQSxJQUFBQyxFQUFBLENBQ0EsR0FBQUEsRUFBQS9GLElBQUFnQyxzQkFBQXBDLEdBQ0EsT0FDQTVCLEtBQUEsV0FDQTJILFFBQUFLLFFBQUFGLElBQ0FsRyxXQUNBa0csV0FHQW5CLEdBQUF4RSxRQUFBMkYsSUFBQSxJQUNBQyxFQUFBL0YsSUFBQStCLHNCQUFBbkMsSUFDQXdGLEVBQUFVLEtBQ0FWLEVBQUFVLE9BQ0FqQixFQUFBTyxFQUFBVSxJQUFBbEcsWUFHQXdGLEdBQUFVLEdBQ0FuQixFQUFBdkUsS0FBQTBGLEdBQ0FOLEVBQUFwRixNQUNBdUYsUUFBQUssUUFBQUYsSUFDQWpDLEdBQUFpQyxTQUtBLE9BQ0E5SCxLQUFBLFdBQ0E0QixTQUFBMkYsRUFDQVosa0JBQ0FTLHlCQTJCQXhGLElBR0E1QixLQUFBLFdBQ0E0QixTQUFBaUUsRUFHQSxJQUFBb0MsSUFBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsRUFBQSxFQUlBLFFBSEExQixFQUFBaUIsUUFDQVMsRUFBQSx5QkFBQTFCLEVBQUFpQixNQUFBVSxLQUFBLFNBRUEzQixFQUFBMUcsTUFDQSxvQkFDQTRHLEVBQUEwQixZQUNBMUIsRUFBQTBCLFdBQUE1QixHQUNBRSxFQUFBMkIsaUJBQ0FOLEVBQUEsR0FBQXJILE9BQUEsb0NBQUE4RixFQUFBOUUsU0FBQXdHLEdBQ0EsTUFDQSxnQkFDQXhCLEVBQUEwQixZQUNBMUIsRUFBQTBCLFdBQUE1QixHQUNBRSxFQUFBMkIsaUJBQ0FOLEVBQUEsR0FBQXJILE9BQUEsMkNBQUE4RixFQUFBOUUsU0FBQSxPQUFBOEUsRUFBQW9CLFNBQUFNLEdBQ0EsTUFDQSxrQkFDQXhCLEVBQUE0QixjQUNBNUIsRUFBQTRCLGFBQUE5QixHQUNBRSxFQUFBNkIsbUJBQ0FSLEVBQUEsR0FBQXJILE9BQUEsbUJBQUFnQixFQUFBLG1CQUFBd0csR0FDQSxNQUNBLGdCQUNBeEIsRUFBQThCLFlBQ0E5QixFQUFBOEIsV0FBQWhDLEdBQ0F3QixHQUFBLENBQ0EsTUFDQSxnQkFDQXRCLEVBQUErQixZQUNBL0IsRUFBQStCLFdBQUFqQyxHQUNBeUIsR0FBQSxDQUNBLE1BQ0EsU0FDQSxTQUFBdkgsT0FBQSxvQkFBQThGLEVBQUExRyxNQUVBLEdBQUFpSSxFQUVBLE1BREFyRSxHQUFBLFNBQ0FwRCxRQUFBRSxPQUFBdUgsRUFFQSxJQUFBQyxFQUFBLENBQ0FiLEVBQUF6RixHQUFBMEUsRUFBQTFFLEdBQ0FpRixFQUFBRixFQUFBRCxFQUFBQyxnQkFDQSxLQUFBL0UsSUFBQThFLEdBQUFVLHFCQUNBekUsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQTRELEVBQUFVLHFCQUFBeEYsS0FDQXdGLEVBQUF4RixLQUNBd0YsRUFBQXhGLE9BQ0FpRixFQUFBTyxFQUFBeEYsR0FBQThFLEVBQUFVLHFCQUFBeEYsS0FJQXVHLElBQ0F0QixFQUFBRixHQUFBRCxFQUFBOUUsV0FDQXlGLEVBQUF6RixHQUFBMEYsR0FNQSxHQUFBc0IsS0FDQSxLQUFBcEUsRUFBQSxFQUFhQSxFQUFBbUMsRUFBQWxDLE9BQTRCRCxJQUN6QzVDLEVBQUErRSxFQUFBbkMsR0FDQTFDLEVBQUFGLElBQUFFLEVBQUFGLEdBQUFJLElBQUFpQyxlQUNBMkUsRUFBQXhHLE1BQ0ErRSxPQUFBdkYsRUFDQWlILGFBQUEvRyxFQUFBRixHQUFBSSxJQUFBaUMsZUFLQUwsR0FBQSxXQUNBakIsT0FBQW1HLEtBQUE5QyxHQUFBK0MsUUFBQSxTQUFBdkosSUFDQSxJQUFBd0csRUFBQXhHLElBQ0FELEVBQUFDLElBTUEsS0FGQSxHQUFBc0YsR0FDQTBDLEVBQUFiLEVBQUFjLFFBQ0FELEVBQUEvQyxPQUFBLEdBR0EsR0FGQTdDLEVBQUE0RixFQUFBSyxNQUNBVixFQUFBckYsRUFBQUYsR0FDQSxDQUVBLEdBQUE0RCxNQUdBd0QsRUFBQTdCLEVBQUFuRixJQUFBbUMsZ0JBQ0EsS0FBQStDLEVBQUEsRUFBY0EsRUFBQThCLEVBQUF2RSxPQUE0QnlDLEtBQzFDRCxFQUFBK0IsRUFBQTlCLElBQ0ExQixFQVdBLEtBVEFDLEVBQUE3RCxHQUFBNEQsRUFHQTJCLEVBQUFuRixJQUFBQyxRQUFBLFFBR0FILEdBQUFGLEdBR0FzRixFQUFBLEVBQWNBLEVBQUFDLEVBQUE1RSxTQUFBa0MsT0FBNEJ5QyxJQUFBLENBQzFDLEdBQUErQixHQUFBbkgsRUFBQXFGLEVBQUE1RSxTQUFBMkUsR0FDQStCLE1BQ0FuRSxFQUFBbUUsRUFBQS9HLFFBQUFDLFFBQUFQLEtBQ0EsR0FDQXFILEVBQUEvRyxRQUFBNkMsT0FBQUQsRUFBQSxLQU1BLEdBQUFvRSxHQUNBQyxDQUNBLEtBQUF2SCxJQUFBd0YsR0FDQSxHQUFBekUsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQXNFLEVBQUF4RixLQUNBdUYsRUFBQXJGLEVBQUFGLElBR0EsSUFEQXVILEVBQUEvQixFQUFBeEYsR0FDQXNGLEVBQUEsRUFBZ0JBLEVBQUFpQyxFQUFBMUUsT0FBdUN5QyxJQUN2RGdDLEVBQUFDLEVBQUFqQyxJQUNBcEMsRUFBQXFDLEVBQUE1RSxTQUFBSixRQUFBK0csS0FDQSxHQUFBL0IsRUFBQTVFLFNBQUF3QyxPQUFBRCxFQUFBLEVBT0FsQixHQUFBLFNBRUF2RCxFQUFBNkYsQ0FHQSxLQUFBdEUsSUFBQXlGLEdBQ0ExRSxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBdUUsRUFBQXpGLEtBQ0F0QyxFQUFBc0MsR0FBQXlGLEVBQUF6RixHQUtBLElBQUF3SCxHQUFBLElBQ0EsS0FBQXhILElBQUF3RixHQUNBLEdBQUF6RSxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBc0UsRUFBQXhGLEdBQUEsQ0FDQXVGLEVBQUFyRixFQUFBRixHQUNBdUgsRUFBQS9CLEVBQUF4RixFQUNBLElBQUF5SCxLQUNBLEtBQUE3RSxFQUFBLEVBQWVBLEVBQUEyRSxFQUFBMUUsT0FBdUNELElBQ3REMEUsRUFBQUMsRUFBQTNFLEdBQ0F5QyxFQUFBRSxFQUFBbkYsSUFBQStCLHNCQUFBbUYsR0FDQUcsRUFBQWxILFFBQUE4RSxJQUFBLEdBQ0FvQyxFQUFBakgsS0FBQTZFLEVBRUEsS0FBQXpDLEVBQUEsRUFBZUEsRUFBQTZFLEVBQUE1RSxPQUFzQkQsSUFBQSxDQUNyQ3lDLEVBQUFvQyxFQUFBN0UsRUFDQSxLQUNBeUMsRUFBQWtDLEdBQ08sTUFBQWpJLEdBQ1AwRixFQUFBMEMsV0FDQTFDLEVBQUEwQyxXQUNBdEosS0FBQSxpQkFDQTRCLFdBQ0EySCxhQUFBSixFQUFBM0UsR0FDQTRFLE1BQUFsSSxJQUdBMEYsRUFBQTRDLGVBQ0FKLElBQ0FBLEVBQUFsSSxLQVFBLElBQUFzRCxFQUFBLEVBQWFBLEVBQUFvRSxFQUFBbkUsT0FBd0NELElBQUEsQ0FDckQsR0FBQXdDLEdBQUE0QixFQUFBcEUsRUFDQTVDLEdBQUFvRixFQUFBRyxPQUNBOUUsR0FBQVQsRUFDQSxLQUNBekIsRUFBQXlCLEdBQ0ssTUFBQVYsR0FDTCxxQkFBQThGLEdBQUE2QixhQUNBLElBQ0E3QixFQUFBNkIsYUFBQTNILEdBQ08sTUFBQXVJLEdBQ1A3QyxFQUFBMEMsV0FDQTFDLEVBQUEwQyxXQUNBdEosS0FBQSxvQ0FDQTRCLFdBQ0F3SCxNQUFBSyxFQUNBQyxhQUFBeEksSUFHQTBGLEVBQUE0QyxlQUNBSixJQUNBQSxFQUFBSyxHQUVBTCxJQUNBQSxFQUFBbEksT0FHQTBGLEdBQUEwQyxXQUNBMUMsRUFBQTBDLFdBQ0F0SixLQUFBLHNCQUNBNEIsV0FDQXdILE1BQUFsSSxJQUdBMEYsRUFBQTRDLGVBQ0FKLElBQ0FBLEVBQUFsSSxJQU9BLE1BQUFrSSxJQUNBeEYsRUFBQSxRQUNBcEQsUUFBQUUsT0FBQTBJLEtBR0F4RixFQUFBLFFBQ0FwRCxRQUFBQyxRQUFBa0csSUFPQSxRQUFBeEcsR0FBQXlCLEdBR0EsR0FBQUUsRUFBQUYsR0FDQSxNQUFBRSxHQUFBRixHQUFBK0gsT0FHQSxJQUFBeEMsR0FBQXJGLEVBQUFGLElBQ0E0QyxFQUFBNUMsRUFDQXdELEdBQUEsRUFDQXVFLFdBQ0EzSCxJQUFBOEIsRUFBQWxDLEdBQ0FNLFNBQUEwSCxFQUFBdkgsT0FBQXVILEdBQ0FySCxZQVVBLE9BTkFqRCxHQUFBc0MsR0FBQWtCLEtBQUFxRSxFQUFBd0MsUUFBQXhDLElBQUF3QyxRQUFBaEksRUFBQUMsSUFHQXVGLEVBQUEvQixHQUFBLEVBR0ErQixFQUFBd0MsUUFucEJBLEdBQUFFLEdBQUFDLEtBQUEsZ0JBQ0FBLE1BQUEsaUJBQ0EsU0FBQXRLLEVBQUFnSCxHQUNBRCxFQUFBL0csRUFBQWdILEdBQ0FxRCxLQUFBckssRUFBQWdILEdBb0RBLElBR0FsRSxHQWlKQStELEVBR0FDLEVBQUFKLEVBdkpBSixHQUFBLEVBQ0F6RixFQUFBLHVCQUNBb0YsS0FFQXBELEtBQ0F1SCxLQWdJQXZFLEtBQ0E5QixFQUFBLE9BU0FHLEVBQUEsRUFDQUosRUFBQSxFQUNBRSxLQUNBdUMsS0FDQUMsS0E4YUFsRSxJQStCQTNCLEdBQUE0SixFQUFBekssRUFHQWEsRUFBQThGLEVBQUFuRSxFQUdBM0IsRUFBQXFFLEVBQUEsU0FBQXBCLEdBQTJDLE1BQUFBLElBRzNDakQsRUFBQTZKLEVBQUEsU0FBQUwsRUFBQWpILEVBQUF1SCxHQUNBOUosRUFBQStKLEVBQUFQLEVBQUFqSCxJQUNBQyxPQUFBSSxlQUFBNEcsRUFBQWpILEdBQ0FNLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBK0csS0FNQTlKLEVBQUFnSyxFQUFBLFNBQUFoRCxHQUNBLEdBQUE4QyxHQUFBOUMsS0FBQWlELFdBQ0EsV0FBMkIsTUFBQWpELEdBQUEsU0FDM0IsV0FBaUMsTUFBQUEsR0FFakMsT0FEQWhILEdBQUE2SixFQUFBQyxFQUFBLElBQUFBLEdBQ0FBLEdBSUE5SixFQUFBK0osRUFBQSxTQUFBRyxFQUFBQyxHQUFzRCxNQUFBM0gsUUFBQUMsVUFBQUMsZUFBQUMsS0FBQXVILEVBQUFDLElBR3REbkssRUFBQUMsRUFBQSxHQUdBRCxFQUFBZ0csRUFBQSxXQUFzQyxNQUFBOUYsSUFHdENzQixFQUFBLElBQUF4QixFQUFBb0ssRUFBQSxNRE1NLFNBQVVwRCxFQUFRd0MsRUFBU3hKLEdFdnNCakNnSCxFQUFBd0MsUUFBQXhKLEVBQUEsSUFDQWdILEVBQUF3QyxRQUFBYSxRQUFBckQsRUFBQXdDLFNGK3NCTSxTQUFVeEMsRUFBUXdDLEVBQVN4SixHR2h0QmpDZ0gsRUFBQXdDLFFBQUF4SixFQUFBLElBQUFxSyxRQUNBckQsRUFBQXdDLFFBQUFhLFFBQUFyRCxFQUFBd0MsU0h3dEJNLFNBQVV4QyxFQUFRd0MsRUFBU3hKLEdBRWpDLFlJN3NCQSxTQUFBc0ssR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQUMsRUFBQUMsWUFBQUosS0FDQUEsRUFBQWxCLEVBQUF1QixVQUVBLElBQUFDLEdBQUEsR0FBQVIsR0FBQUMsRUFBQUMsRUFDQUgsR0FBQW5JLFNBQUE0SSxFQUNBQSxFQUFBQyxnQkFBQSxFQUNBRCxFQUFBTixVQUNBTSxFQUFBUCxRQUFBakIsRUFBQXVCLFlBQ0FDLEVBQUFQLFNBR0FPLEVBQUFFLFdBQUFOLEVBQ0FJLEVBQUFHLFlBQUEsRUFDQUgsRUFBQUksa0JBQUEsRUFDQUosRUFBQUssT0FBQVYsRUFDQUUsRUFBQUMsWUFBQUUsRUFBQU0sc0JBQ0FOLEVBQUFPLGNBQUEsRUFDQVAsRUFBQU0scUJBQ0FOLEVBQUFPLGNBQUEsRUFFQSxJQUFBQyxFQUNBWCxHQUFBQyxZQUFBRSxFQUFBUyxtQkFDQUQsRUFBQVIsRUFBQVMsbUJBRUFaLEVBQUFhLGNBQUFGLEdBQ0FSLEVBQUFXLGNBQUFqQixFQUdBTSxFQUFBVyxjQUFBZCxFQUFBZSxZQUFBbEIsRUFBQWMsR0FFQVgsRUFBQWdCLE9BQUFDLEVBQUFyRixRQUFBc0YsZUFDQUQsRUFBQXJGLFFBQUFzRixhQUFBZixFQUVBLElBQUFnQixHQUFBaEIsRUFBQWlCLE9BQUF4QixFQUFBTyxFQUFBa0IsTUFBQXhCLEVBOEJBLE9BN0JBRyxHQUFBZ0IsT0FBQUMsRUFBQXJGLFFBQUEwRixjQUNBTCxFQUFBckYsUUFBQTBGLFlBQUFuQixHQUVBSCxFQUFBdUIsUUFBQUosR0FJQW5CLEVBQUF3QixhQUVBeEIsRUFBQXlCLFVBQUFOLEdBQ0FBLEVBQUFPLEVBQUFDLGtCQUVBM0IsRUFBQTRCLGlCQUFBVCxHQUNBQSxFQUFBTyxFQUFBRyxnQkFBQVYsRUFBQSxPQUdBQSxFQUFBVyxNQUNBWCxFQUFBTyxFQUFBSyxZQUFBWixJQUVBLEdBQUFBLEVBQUFhLFFBS0FiLEVBQUFjLFlBQUF2QyxJQUdBUyxFQUFBSSxrQkFBQSxFQUNBSixFQUFBK0IsV0FBQWYsRUFDQWhCLEVBR0EsUUFBQWdDLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUF2QyxFQUFBRixFQUFBQyxFQUFBeUMsR0FDQUMsRUFBQUYsRUFBQUcsRUFBQUMsTUFBQUwsRUFBQSxLQUFBdEMsRUFBQUYsRUFBQUMsR0FBQXNDLEVBQUFyQyxFQUFBd0MsR0FHQSxRQUFBQyxHQUFBRixFQUFBUixFQUFBcEMsRUFBQUssRUFBQXdDLEdBQ0FJLEVBQUFDLFFBQUFsRCxFQUFBLEtBQUFLLEdBQUEsRUFBQXdDLEdBQ0FNLEVBQUFQLEVBQUFSLEVBQUFwQyxFQUFBb0MsS0FHQSxRQUFBZ0IsR0FBQXBELEVBQUFxRCxFQUFBbkQsRUFBQUMsR0FDQSxHQUFBc0IsR0FBQTRCLEVBQUFuRCxFQUFBQyxFQXlCQSxPQXhCQUcsR0FBQXVCLFFBQUFKLEdBSUFuQixFQUFBd0IsYUFFQXhCLEVBQUF5QixVQUFBTixHQUNBQSxFQUFBTyxFQUFBQyxrQkFFQTNCLEVBQUE0QixpQkFBQVQsR0FDQUEsRUFBQU8sRUFBQUcsZ0JBQUFWLEVBQUEsT0FHQUEsRUFBQVcsTUFDQVgsRUFBQU8sRUFBQUssWUFBQVosSUFFQSxHQUFBQSxFQUFBYSxRQUtBYixFQUFBYyxZQUFBdkMsSUFHQXlCLEVBR0EsUUFBQTZCLEdBQUFsQixFQUFBbUIsR0FDQSxLQUFBQSxFQUNBbkIsRUFBQW9CLFlBQUFELEVBR0FuQixFQUFBeE0sWUFBQVYsU0FBQXVPLGVBQUEsS0FJQSxRQUFBQyxHQUFBdEIsRUFBQW1CLEdBQ0FuQixFQUFBdUIsV0FBQUMsVUFBQUwsRUFHQSxRQUFBM04sR0FBQWdOLEVBQUFSLEdBQ0FRLEVBQUFoTixZQUFBd00sR0FHQSxRQUFBeUIsR0FBQWpCLEVBQUFrQixFQUFBQyxHQUNBekQsRUFBQWEsY0FBQTRDLEdBQ0FuTyxFQUFBZ04sRUFBQWtCLEdBR0FsQixFQUFBb0IsYUFBQUYsRUFBQUMsR0FJQSxRQUFBRSxHQUFBQyxFQUFBOUQsR0FDQSxXQUFBQSxFQUNBbEwsU0FBQWlQLGdCQUFBQyxFQUFBQyxNQUFBSCxHQUdBaFAsU0FBQUcsY0FBQTZPLEdBSUEsUUFBQUksR0FBQUMsRUFBQVIsRUFBQW5CLEVBQUF2QyxFQUFBRixFQUFBQyxFQUFBeUMsR0FDQUksRUFBQUMsUUFBQXFCLEVBQUEsS0FBQWxFLEdBQUEsRUFBQXdDLEVBQ0EsSUFBQVQsR0FBQVcsRUFBQUMsTUFBQWUsRUFBQSxLQUFBMUQsRUFBQUYsRUFBQUMsRUFDQTJELEdBQUEzQixNQUNBZSxFQUFBUCxFQUFBUixFQUFBbUMsRUFBQW5DLEtBR0EsUUFBQWUsR0FBQVAsRUFBQTRCLEVBQUFDLEdBQ0E3QixJQUNBQSxFQUFBNkIsRUFBQUMsWUFFQTlCLEVBQUFPLGFBQUFxQixFQUFBQyxHQUdBLFFBQUFFLEdBQUEvQixFQUFBUixHQUNBUSxFQUFBK0IsWUFBQXZDLEdBR0EsUUFBQXdDLEdBQUF4QyxFQUFBdkssRUFBQXdJLEVBQUF3QyxHQUNBVCxFQUFBb0IsWUFBQSxLQUNBakMsRUFBQXJGLFFBQUEySSxrQkFBQXRELEVBQUFyRixRQUFBMkksbUJBQUFoQyxJQUNBaUMsRUFBQSxLQUFBak4sRUFBQXdJLEVBQUF3QyxHQUlBLFFBQUFpQyxHQUFBMUMsRUFBQXZLLEVBQUF3SSxFQUFBd0MsR0FDQSxPQUFBL0ksR0FBQSxFQUFBaUwsRUFBQWxOLEVBQUFrQyxPQUEwQ0QsRUFBQWlMLEVBQVNqTCxJQUFBLENBQ25ELEdBQUF5RSxHQUFBMUcsRUFBQWlDLEVBQ0F3RyxHQUFBeUIsVUFBQXhELElBQ0EwRSxFQUFBQyxRQUFBM0UsRUFBQTZELEVBQUEvQixHQUFBLEVBQUF3QyxJQUtBLFFBQUFtQyxHQUFBQyxFQUFBQyxHQUNBLE1BQUFBLEdBQUFuTCxPQUFBLElBQUF1RyxFQUFBYSxjQUFBK0QsRUFBQSxNQUFBNUUsRUFBQWEsY0FBQStELEVBQUEsR0FBQUMsTUFDQUYsRUFBQWxMLE9BQUEsSUFBQXVHLEVBQUFhLGNBQUE4RCxFQUFBLE1BQUEzRSxFQUFBYSxjQUFBOEQsRUFBQSxHQUFBRSxLQTdMQWxOLE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBNEgsR0FBQTdLLEVBQUEsR0FDQThMLEVBQUE5TCxFQUFBLEdBQ0F1TSxFQUFBdk0sRUFBQSxHQUNBMk8sRUFBQTNPLEVBQUEsR0FDQXNOLEVBQUF0TixFQUFBLEdBQ0F3TixFQUFBeE4sRUFBQSxHQUdBd0osR0FBQXVCLGFBc0VBdkIsRUFBQWMsK0JBSUFkLEVBQUF3RCw2QkFLQXhELEVBQUE2RCxlQTZCQTdELEVBQUFtRSxpQ0FTQW5FLEVBQUFxRSxpQkFJQXJFLEVBQUF5RSxvQkFJQXpFLEVBQUFySixjQVNBcUosRUFBQTRFLGlCQVNBNUUsRUFBQWdGLHdCQU9BaEYsRUFBQXFGLHFCQU9BckYsRUFBQWtFLGVBSUFsRSxFQUFBMEYsY0FPQTFGLEVBQUEyRixvQkFTQTNGLEVBQUE2RixpQkFLQTdGLEVBQUErRixXSml1Qk0sU0FBVXZJLEVBQVF3QyxFQUFTeEosR0FFakMsWUtsNkJBd0MsUUFBQUksZUFBQTRHLEVBQUEsY0FBOEN2RyxPQUFBLElBQzlDdUcsRUFBQS9DLFNBQ0FrSixXQUFBLEtBQ0F4RCxZQUFBLEtBQ0F5RCxZQUFBLEtBQ0E3RCxhQUFBLEtBQ0E4RCxjQUFBLEtBQ0FDLFlBQUEsS0FDQUMsb0JBQUEsRUFDQVgsa0JBQUEsRUFDQVksV0wwNkJNLFNBQVVoSixFQUFRd0MsRUFBU3hKLEdBRWpDLFlNajdCQSxTQUFBaVEsR0FBQTdOLEVBQUE4TixFQUFBckQsRUFBQTZDLEVBQUFqRixFQUFBMEYsRUFBQXRRLEdBQ0E4SixLQUFBdkgsV0FDQXVILEtBQUF1RyxZQUNBdkcsS0FBQWdELElBQUEsS0FDQWhELEtBQUFrRCxRQUNBbEQsS0FBQStGLE1BQ0EvRixLQUFBYyxRQUNBZCxLQUFBd0csTUFDQXhHLEtBQUE5SixPQWNBLFFBQUFpUSxHQUFBakQsRUFBQWhOLEVBQUFxUSxFQUFBOU4sRUFBQXFJLEVBQUFpRixFQUFBUyxFQUFBQyxHQUNBLEdBQUF2RCxJQUNBQSxFQUFBaEMsRUFBQXdGLG9CQUFBeFEsR0FBQSxJQUVBLElBQUEwSyxHQUFBLEdBQUEwRixPQUFBLEtBQUE3TixFQUFBLEtBQUFBLE1BQUEsS0FBQThOLEVBQUEsS0FBQUEsRUFBQXJELE1BQUEsS0FBQTZDLEVBQUEsS0FBQUEsTUFBQSxLQUFBakYsRUFBQSxLQUFBQSxNQUFBLEtBQUEwRixFQUFBLEtBQUFBLEVBQUF0USxFQU9BLFFBTkEsSUFBQXVRLEdBQ0FFLEVBQUFDLFVBQUFoRyxHQUVBLE9BQUF1QixFQUFBckYsUUFBQXFKLGFBQ0FoRSxFQUFBckYsUUFBQXFKLFlBQUF2RixHQUVBQSxFQUdBLFFBQUFxQyxHQUFBNEQsR0FDQSxHQUFBQyxHQUNBNUQsRUFBQTJELEVBQUEzRCxLQUNBLE9BQUFBLEVBQUEsQ0FDQSxHQUFBcEMsT0FBQSxHQUNBaUcsRUFBQUYsRUFBQS9GLEtBQ0EsSUFBQUksRUFBQWdCLE9BQUE2RSxHQUNBakcsRUFBQWtHLEVBQUE1RixjQUVBLENBQ0FOLElBQ0EsUUFBQWlGLEtBQUFnQixHQUNBakcsRUFBQWlGLEdBQUFnQixFQUFBaEIsR0FHQWUsRUFBQVgsRUFBQWpELEVBQUEyRCxFQUFBM1EsS0FBQSxVQUFBNEssRUFBQStGLEVBQUFkLElBQUFjLEVBQUFMLEtBQUEsRUFDQSxJQUFBUyxHQUFBSCxFQUFBaEcsTUFDQW9HLEVBQUFELEVBQUF4TyxRQUdBLElBQUF5TyxFQUNBLEdBQUFoRyxFQUFBdUIsUUFBQXlFLEdBQUEsQ0FDQSxHQUFBdkIsR0FBQXVCLEVBQUF2TSxNQUNBLElBQUFnTCxFQUFBLEdBRUEsT0FEQXdCLE1BQ0F6TSxFQUFBLEVBQW1DQSxFQUFBaUwsRUFBU2pMLElBQUEsQ0FDNUMsR0FBQXlFLEdBQUErSCxFQUFBeE0sRUFDQXdHLEdBQUE0QixpQkFBQTNELEdBQ0FnSSxFQUFBN08sS0FBQTZHLElBRUErQixFQUFBeUIsVUFBQXhELElBQUFpSSxFQUFBakksSUFDQWdJLEVBQUE3TyxLQUFBMkssRUFBQTlELElBR0E4SCxFQUFBeE8sU0FBQTBPLE9BR0FDLEdBQUFGLEtBQ0FELEVBQUF4TyxTQUFBd0ssRUFBQWlFLEdBR0FKLEdBQUFyTyxTQUFBLFNBRUEsU0FBQXlLLEVBQUEsQ0FDQSxHQUFBekssR0FBQW9PLEVBQUFwTyxTQUNBcUksTUFBQSxHQUNBaUcsRUFBQUYsRUFBQS9GLEtBQ0EsV0FBQWlHLEVBQ0FqRyxFQUFBa0csRUFBQTVGLGNBRUEsQ0FDQU4sSUFDQSxRQUFBaUYsS0FBQWdCLEdBQ0FqRyxFQUFBaUYsR0FBQWdCLEVBQUFoQixHQUdBZSxFQUFBWCxFQUFBakQsRUFBQTJELEVBQUEzUSxLQUFBMlEsRUFBQU4sVUFBQTlOLEVBQUFxSSxFQUFBK0YsRUFBQWQsSUFBQWMsRUFBQUwsS0FBQS9OLE9BRUEsR0FBQXlLLElBQ0E0RCxFQUFBL0QsRUFBQThELEVBQUFwTyxTQUFBb08sRUFBQWQsS0FFQSxPQUFBZSxHQWlCQSxRQUFBTyxHQUFBUixFQUFBL0YsR0FFQSxPQURBd0csTUFDQUMsRUFBQSxFQUFvQkEsRUFBQUMsVUFBQTdNLE9BQXVCNE0sSUFDM0NELEVBQUFDLEVBQUEsR0FBQUMsVUFBQUQsRUFFQSxJQUFBOU8sR0FBQTZPLEVBQ0FHLEVBQUFILEVBQUEzTSxNQUNBOE0sR0FBQSxJQUFBdkcsRUFBQUMsWUFBQW1HLEVBQUEsTUFDQXhHLElBQ0FBLE1BRUEsSUFBQTJHLElBQ0FoUCxFQUFBNk8sRUFBQSxJQUVBcEcsRUFBQUMsWUFBQTFJLEtBQ0FxSSxFQUFBckksWUFHQSxJQUFBcU8sRUFDQSxJQUFBNUYsRUFBQXVCLFFBQUFvRSxHQUFBLENBRUEsT0FEQU0sTUFDQXpNLEVBQUEsRUFBQWlMLEVBQUFrQixFQUFBbE0sT0FBa0RELEVBQUFpTCxFQUFTakwsSUFDM0R5TSxFQUFBN08sS0FBQTJLLEVBQUE0RCxFQUFBbk0sSUFFQW9NLEdBQUFLLE1BRUEsQ0FDQSxHQUFBakUsR0FBQTJELEVBQUEzRCxNQUNBcUQsRUFBQU0sRUFBQU4sV0FBQXpGLEtBQUF5RixVQUNBUixFQUFBN0UsRUFBQWEsY0FBQThFLEVBQUFkLEtBQUFqRixJQUFBaUYsSUFBQSxLQUFBYyxFQUFBZCxJQUNBUyxFQUFBSyxFQUFBTCxNQUFBMUYsSUFBQTBGLElBQUEsS0FDQSxPQUFBdEQsRUFBQSxDQUNBNEQsRUFBQVgsRUFBQWpELEVBQUEyRCxFQUFBM1EsS0FBQXFRLEVBQUEsS0FBQU0sRUFBQS9GLFNBQUFJLEVBQUFlLFlBQUE0RSxFQUFBL0YsU0FBQWtHLEVBQUE1RixVQUFBMkUsRUFBQVMsR0FBQSxFQUNBLElBQUFTLEdBQUFILEVBQUFoRyxLQUNBLElBQUFtRyxFQUFBLENBQ0EsR0FBQUMsR0FBQUQsRUFBQXhPLFFBR0EsSUFBQXlPLEVBQ0EsR0FBQWhHLEVBQUF1QixRQUFBeUUsR0FBQSxDQUNBLEdBQUF2QixHQUFBdUIsRUFBQXZNLE1BQ0EsSUFBQWdMLEVBQUEsR0FFQSxPQURBd0IsTUFDQXpNLEVBQUEsRUFBMkNBLEVBQUFpTCxFQUFTakwsSUFBQSxDQUNwRCxHQUFBeUUsR0FBQStILEVBQUF4TSxFQUNBd0csR0FBQTRCLGlCQUFBM0QsR0FDQWdJLEVBQUE3TyxLQUFBNkcsSUFFQStCLEVBQUF5QixVQUFBeEQsSUFBQWlJLEVBQUFqSSxJQUNBZ0ksRUFBQTdPLEtBQUEySyxFQUFBOUQsSUFHQThILEVBQUF4TyxTQUFBME8sT0FHQUMsR0FBQUYsS0FDQUQsRUFBQXhPLFNBQUF3SyxFQUFBaUUsSUFJQUosRUFBQXJPLFNBQUEsU0FFQSxNQUFBeUssR0FDQXpLLEVBQUFxSSxJQUFBSSxFQUFBQyxZQUFBTCxFQUFBckksVUFBQXFJLEVBQUFySSxTQUFBb08sRUFBQXBPLFNBQ0FxTyxFQUFBWCxFQUFBakQsRUFBQTJELEVBQUEzUSxLQUFBcVEsRUFBQTlOLEVBQUFvTyxFQUFBL0YsU0FBQUksRUFBQWUsWUFBQTRFLEVBQUEvRixTQUFBa0csRUFBQTVGLFVBQUEyRSxFQUFBUyxHQUFBL04sSUFFQSxFQUFBeUssSUFDQTRELEVBQUEvRCxFQUFBOEQsRUFBQXBPLFNBQUFzTixJQUdBLE1BQUFlLEdBR0EsUUFBQWpFLEtBQ0EsTUFBQXNELEdBQUEsV0FHQSxRQUFBcEQsR0FBQW9CLEVBQUE0QixHQUNBLE1BQUFJLEdBQUEsWUFBQWhDLEVBQUEsS0FBQTRCLEdBR0EsUUFBQXFCLEdBQUFoSCxHQUNBLFFBQUFBLEVBQUE4QyxNQXpNQXJLLE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBNEgsR0FBQTdLLEVBQUEsR0FDQTJRLEVBQUEzUSxFQUFBLEdBQ0FzUSxFQUFBdFEsRUFBQSxJQUNBOEwsRUFBQTlMLEVBQUEsRUFvQ0F3SixHQUFBc0csY0FnRUF0RyxFQUFBb0QsY0F1RkFwRCxFQUFBd0gsYUFJQXhILEVBQUFnRCxrQkFJQWhELEVBQUFrRCxrQkFJQWxELEVBQUF1SCxXTjY3Qk0sU0FBVS9KLEVBQVF3QyxFQUFTeEosR0FFakMsWU8vbkNBLFNBQUFxUixHQUFBQyxFQUFBQyxFQUFBcEUsRUFBQXZDLEVBQUFGLEVBQUFDLEVBQUF5QyxHQUNBLEdBQUFrRSxJQUFBQyxFQUFBLENBQ0EsR0FBQUMsR0FBQUYsRUFBQXpFLE1BQ0E0RSxFQUFBRixFQUFBMUUsS0FDQSxJQUFBNEUsRUFDQSxHQUFBRCxFQUNBRSxFQUFBSixFQUFBQyxFQUFBcEUsRUFBQXZDLEVBQUFGLEVBQUFDLEVBQUEsRUFBQThHLEVBQUFyRSxHQUdBdUQsRUFBQXRELGFBQUFGLEVBQUFHLEVBQUFxRSxlQUFBSixFQUFBLEtBQUEzRyxFQUFBRixFQUFBQyxHQUFBLEVBQUE4RyxHQUFBLEdBQUFILEVBQUExRyxFQUFBd0MsR0FHQSxLQUFBcUUsRUFDQSxLQUFBRCxFQUNBSSxFQUFBTixFQUFBQyxFQUFBcEUsRUFBQXZDLEVBQUFGLEVBQUFDLEVBQUF5QyxHQUdBdUQsRUFBQXRELGFBQUFGLEVBQUFHLEVBQUF1RSxhQUFBTixFQUFBLEtBQUEzRyxFQUFBRixFQUFBQyxHQUFBMkcsRUFBQTFHLEVBQUF3QyxHQUdBLEVBQUFxRSxFQUNBLEVBQUFELEVBQ0FNLEVBQUFSLEVBQUFDLEdBR0FaLEVBQUF0RCxhQUFBRixFQUFBRyxFQUFBeUUsVUFBQVIsRUFBQSxNQUFBRCxFQUFBMUcsRUFBQXdDLEdBR0EsS0FBQXFFLEVBQ0EsS0FBQUQsRUFDQVEsRUFBQVYsRUFBQUMsR0FHQVosRUFBQXRELGFBQUFGLEVBQUFHLEVBQUEyRSxVQUFBVixFQUFBLE1BQUFELEVBQUExRyxFQUFBd0MsR0FLQXVELEVBQUEzRCwyQkFBQXNFLEVBQUFDLEVBQUFwRSxFQUFBdkMsRUFBQUYsRUFBQUMsRUFBQXlDLElBS0EsUUFBQThFLEdBQUE5UCxFQUFBdUssRUFBQS9CLEVBQUF3QyxHQUNBYixFQUFBd0UsUUFBQTNPLEdBQ0FvTCxFQUFBQyxRQUFBckwsRUFBQXVLLEVBQUEvQixHQUFBLEVBQUF3QyxHQUVBdkMsRUFBQXVCLFFBQUFoSyxHQUNBdU8sRUFBQXhCLGtCQUFBeEMsRUFBQXZLLEVBQUF3SSxFQUFBd0MsR0FHQVQsRUFBQW9CLFlBQUEsR0FHQSxRQUFBNkQsR0FBQU4sRUFBQUMsRUFBQXBFLEVBQUF2QyxFQUFBRixFQUFBQyxFQUFBeUMsR0FDQSxHQUFBK0UsR0FBQVosRUFBQTFSLElBRUEsSUFEQXlSLEVBQUF6UixPQUNBc1MsRUFDQXhCLEVBQUE5QixtQkFBQXlDLEVBQUFDLEVBQUFwRSxFQUFBdkMsRUFBQUYsRUFBQUMsRUFBQXlDLE9BRUEsQ0FDQSxHQUFBVCxHQUFBMkUsRUFBQTNFLElBQ0F5RixFQUFBZCxFQUFBN0csTUFDQTRILEVBQUFkLEVBQUE5RyxNQUNBK0UsRUFBQThCLEVBQUFsUCxTQUNBcU4sRUFBQThCLEVBQUFuUCxTQUNBb1AsRUFBQUYsRUFBQXpFLE1BQ0E0RSxFQUFBRixFQUFBMUUsTUFDQXlGLEVBQUFmLEVBQUFwQixJQUNBb0MsRUFBQWpCLEVBQUFwQixVQUNBc0MsRUFBQWpCLEVBQUFyQixTQU9BLElBTkFxQixFQUFBNUUsTUFDQWhDLE1BQUEsSUFBQThHLEdBQUEsRUFDQWpDLElBQUFDLEdBQ0FnRCxFQUFBakIsRUFBQUMsRUFBQWpDLEVBQUFDLEVBQUE5QyxFQUFBL0IsRUFBQUYsRUFBQUMsRUFBQXlDLEdBR0FnRixJQUFBQyxFQUFBLENBQ0EsR0FBQUssR0FBQU4sR0FBQXpCLEVBQUE1RixVQUNBNEgsRUFBQU4sR0FBQTFCLEVBQUE1RixVQUNBNkgsR0FBQSxDQUNBLElBQUFELElBQUFoQyxFQUFBNUYsVUFBQSxDQUNBLEdBQUE4SCxJQUFBLEtBQUFwQixHQUFBLENBQ0FvQixLQUNBRCxFQUFBRSxFQUFBQyx3QkFBQUosR0FFQSxRQUFBSyxLQUFBTCxHQUFBLENBRUEsR0FBQU0sR0FBQU4sRUFBQUssRUFFQUUsR0FBQUYsRUFEQU4sRUFBQU0sR0FDQUMsRUFBQXRHLEVBQUFoQyxFQUFBaUksR0FFQUMsR0FDQUMsRUFBQUssZUFBQTFCLEVBQUFGLEVBQUE1RSxFQUFBZ0csR0FBQSxFQUFBQyxHQUdBLEdBQUFGLElBQUEvQixFQUFBNUYsVUFDQSxPQUFBaUksS0FBQU4sR0FFQTdILEVBQUFhLGNBQUFpSCxFQUFBSyxLQUNBSSxFQUFBSixFQUFBTixFQUFBTSxHQUFBckcsR0FNQTRGLElBQUFDLElBQ0EzSCxFQUFBYSxjQUFBOEcsR0FDQTdGLEVBQUEwRyxnQkFBQSxTQUdBMUksRUFDQWdDLEVBQUEyRyxhQUFBLFFBQUFkLEdBR0E3RixFQUFBdUQsVUFBQXNDLEdBSUFGLElBQ0FoQixFQUFBbkIsTUFBQW1DLEdBQUFsRixJQUNBRSxFQUFBaUcsU0FBQTVHLEVBQUEyRixFQUFBMUgsSUFNQSxRQUFBNkgsR0FBQWpCLEVBQUFDLEVBQUFqQyxFQUFBQyxFQUFBOUMsRUFBQS9CLEVBQUFGLEVBQUFDLEVBQUF5QyxHQUNBLEdBQUFvRyxJQUFBLEVBQ0FDLEdBQUEsQ0FDQSxJQUFBaEMsRUFDQStCLEdBQUEsR0FFQSxHQUFBaEMsR0FBQSxPQUFBQyxHQUFBLEdBQ0FnQyxHQUFBLEVBQ0FELEdBQUEsR0FFQTNJLEVBQUF5QixVQUFBbUQsR0FDQXlDLEVBQUExQyxFQUFBN0MsRUFBQS9CLEVBQUF3QyxHQUVBdkMsRUFBQXlCLFVBQUFrRCxHQUNBM0UsRUFBQTRCLGlCQUFBZ0QsR0FDQWtCLEVBQUE5QyxlQUFBbEIsRUFBQThDLEdBR0E1RSxFQUFBdUIsUUFBQXFELEdBQ0FuQyxFQUFBb0csbUJBQUFqRSxFQUFBOUMsRUFBQS9CLEVBQUFGLEVBQUFDLEdBR0EyQyxFQUFBQyxNQUFBa0MsRUFBQTlDLEVBQUEvQixFQUFBRixFQUFBQyxHQUlBRSxFQUFBNEIsaUJBQUFnRCxHQUNBNUUsRUFBQTRCLGlCQUFBK0MsR0FDQW1CLEVBQUExQyxrQkFBQXRCLEVBQUE4QyxJQUdBeUMsRUFBQTFDLEVBQUE3QyxFQUFBL0IsRUFBQXdDLEdBQ0F1RCxFQUFBOUMsZUFBQWxCLEVBQUE4QyxJQUdBNUUsRUFBQXVCLFFBQUFxRCxHQUNBNUUsRUFBQXVCLFFBQUFvRCxJQUNBZ0UsR0FBQSxFQUNBN0MsRUFBQXBCLFFBQUFDLEVBQUFDLEtBQ0FnRSxHQUFBLEtBSUF2QixFQUFBMUMsRUFBQTdDLEVBQUEvQixFQUFBd0MsR0FDQUUsRUFBQW9HLG1CQUFBakUsRUFBQTlDLEVBQUEvQixFQUFBRixFQUFBQyxJQUdBRSxFQUFBdUIsUUFBQW9ELElBQ0FtQixFQUFBeEIsa0JBQUF4QyxFQUFBNkMsRUFBQTVFLEVBQUF3QyxHQUNBRSxFQUFBQyxNQUFBa0MsRUFBQTlDLEVBQUEvQixFQUFBRixFQUFBQyxJQUVBNEIsRUFBQXdFLFFBQUF0QixLQUNBbEQsRUFBQXdFLFFBQUF2QixHQUNBNkIsRUFBQTdCLEVBQUFDLEVBQUE5QyxFQUFBL0IsRUFBQUYsRUFBQUMsRUFBQXlDLElBR0E4RSxFQUFBMUMsRUFBQTdDLEVBQUEvQixFQUFBd0MsR0FDQUUsRUFBQUMsTUFBQWtDLEVBQUE5QyxFQUFBL0IsRUFBQUYsRUFBQUMsS0FHQTZJLElBQ0FDLEVBQ0FFLEVBQUFuRSxFQUFBQyxFQUFBOUMsRUFBQS9CLEVBQUFGLEVBQUFDLEVBQUF5QyxHQUdBd0csRUFBQXBFLEVBQUFDLEVBQUE5QyxFQUFBL0IsRUFBQUYsRUFBQUMsRUFBQXlDLElBSUEsUUFBQXNFLEdBQUFKLEVBQUFDLEVBQUFwRSxFQUFBdkMsRUFBQUYsRUFBQUMsRUFBQWtKLEVBQUF6RyxHQUNBLEdBQUEwRyxHQUFBeEMsRUFBQXpSLEtBQ0FrVSxFQUFBeEMsRUFBQTFSLEtBQ0FtVSxFQUFBMUMsRUFBQTVCLElBQ0F1RSxFQUFBMUMsRUFBQTdCLEdBQ0EsSUFBQW9FLElBQUFDLEdBQUFDLElBQUFDLEVBRUEsTUFEQXRELEdBQUE5QixtQkFBQXlDLEVBQUFDLEVBQUFwRSxFQUFBdkMsRUFBQUYsRUFBQUMsRUFBQXlDLElBQ0EsQ0FHQSxJQUFBaUYsR0FBQWQsRUFBQTlHLE9BQUFrRyxFQUFBNUYsU0FDQSxJQUFBOEksRUFBQSxDQUNBLEdBQUE3SSxHQUFBc0csRUFBQWxQLFFBRUEsSUFEQTRJLEVBQUFrSixXQUFBLEVBQ0FsSixFQUFBRyxXQUFBLENBQ0EsR0FBQU4sRUFBQWdCLE9BQUFzQixHQUNBLFFBRUF3RCxHQUFBakQsYUFBQVAsRUFBQUcsRUFBQXFFLGVBQUFKLEVBQUEsS0FBQTNHLEVBQUFGLEVBQUFDLEdBQUEsRUFBQTRHLEVBQUExRSxPQUFBLEdBQUF5RSxFQUFBM0UsU0FFQSxDQUNBLEdBQUF3SCxJQUFBdEosRUFBQUMsWUFBQUUsRUFBQW9KLG9CQUNBQyxFQUFBckosRUFBQWtCLE1BRUFvSSxFQUFBSCxFQUFBdEosRUFBQWUsWUFBQXlJLEVBQUEsTUFBQUEsRUFDQWpDLEVBQUFwSCxFQUFBUCxNQUNBZSxNQUFBLEVBQ0FYLEdBQUFDLFlBQUFFLEVBQUFTLG1CQUNBRCxFQUFBUixFQUFBUyxtQkFFQThGLEVBQUFuUCxTQUFBNEksRUFDQUEsRUFBQUssT0FBQVYsRUFFQWEsRUFEQVgsRUFBQWEsY0FBQUYsR0FDQWQsRUFHQUcsRUFBQWUsWUFBQWxCLEVBQUFjLEVBRUEsSUFBQXlCLEdBQUFqQyxFQUFBK0IsV0FDQUcsRUFBQWxDLEVBQUF1SixpQkFBQUQsRUFBQUQsRUFBQWpDLEVBQUFDLEVBQUEzSCxHQUFBLE1BQ0E4SixHQUFBLENBQ0F4SixHQUFBVyxjQUFBSCxFQUNBWCxFQUFBeUIsVUFBQVksR0FDQUEsRUFBQVgsRUFBQUMsa0JBRUFVLElBQUFyQyxFQUFBNEosT0FDQXZILEVBQUFELEVBQ0F1SCxHQUFBLEdBRUEzSixFQUFBNEIsaUJBQUFTLEdBQ0FBLEVBQUFYLEVBQUFHLGdCQUFBUSxFQUFBLE1BRUFyQyxFQUFBdUIsUUFBQWMsR0FJQXJDLEVBQUF3QixhQUVBeEIsRUFBQTZKLFNBQUF4SCxLQUNBckMsRUFBQWdCLE9BQUFxQixFQUFBUCxPQUNBTyxFQUFBWCxFQUFBSyxZQUFBTSxLQUdBLEdBQUFBLEVBQUFMLE1BQ0FLLEVBQUFKLFlBQUF5RSxFQUVBLEdBQUF0RSxFQUFBSixRQUNBSSxFQUFBSCxZQUFBeUUsR0FFQXZHLEVBQUErQixXQUFBRyxFQUNBbEMsRUFBQTJKLE9BQUFwRCxFQUNBaUQsSUFDQW5ELEVBQUFwRSxFQUFBQyxFQUFBQyxFQUFBdkMsRUFBQVksRUFBQWIsRUFBQXlDLEdBQ0ErRyxHQUNBbkosRUFBQW9KLG1CQUFBaEMsRUFBQWtDLEdBRUF6SixFQUFBZ0IsT0FBQUMsRUFBQXJGLFFBQUFtSixjQUNBOUQsRUFBQXJGLFFBQUFtSixZQUFBMkIsR0FFQXpGLEVBQUFyRixRQUFBc0osb0JBQ0E2RSxFQUFBQyxzQkFBQTdSLElBQUFnSSxFQUFBa0MsRUFBQVAsTUFHQTRFLEVBQUE1RSxJQUFBTyxFQUFBUCxJQUVBM0IsRUFBQWtKLFdBQUEsTUFFQSxDQUNBLEdBQUFZLElBQUEsRUFDQTFDLEVBQUFkLEVBQUE3RyxNQUNBc0ssRUFBQXhELEVBQUFwQixJQUNBNkUsR0FBQW5LLEVBQUFhLGNBQUFxSixHQUNBOUgsRUFBQXFFLEVBQUFsUCxTQUNBOEssRUFBQUQsQ0FDQXNFLEdBQUE1RSxJQUFBMkUsRUFBQTNFLElBQ0E0RSxFQUFBblAsU0FBQTZLLEVBQ0ErRyxJQUFBQyxFQUNBYSxHQUFBLEVBR0FFLElBQUFuSyxFQUFBYSxjQUFBcUosRUFBQUUsMkJBQ0FILEVBQUFDLEVBQUFFLHdCQUFBN0MsRUFBQUMsS0FHQSxJQUFBeUMsSUFDQUUsSUFBQW5LLEVBQUFhLGNBQUFxSixFQUFBRyx3QkFDQUgsRUFBQUcsc0JBQUE5QyxFQUFBQyxHQUVBbkYsRUFBQTZHLEVBQUExQixFQUFBM0gsR0FDQUcsRUFBQXlCLFVBQUFZLEdBQ0FBLEVBQUFYLEVBQUFDLGtCQUVBM0IsRUFBQTRCLGlCQUFBUyxRQUFBckMsRUFBQTRKLE1BQ0F2SCxFQUFBWCxFQUFBRyxnQkFBQVEsRUFBQSxNQUVBckMsRUFBQXVCLFFBQUFjLEdBSUFyQyxFQUFBd0IsYUFFQXhCLEVBQUE2SixTQUFBeEgsS0FDQXJDLEVBQUFnQixPQUFBcUIsRUFBQVAsT0FDQU8sRUFBQVgsRUFBQUssWUFBQU0sS0FHQUEsSUFBQXJDLEVBQUE0SixRQUNBcEQsRUFBQXBFLEVBQUFDLEVBQUFDLEVBQUF2QyxFQUFBRixFQUFBQyxFQUFBeUMsR0FDQW1FLEVBQUFuUCxTQUFBOEssRUFDQThILElBQUFuSyxFQUFBYSxjQUFBcUosRUFBQUksdUJBQ0FKLEVBQUFJLHFCQUFBL0MsRUFBQUMsR0FFQWQsRUFBQTVFLElBQUFPLEVBQUFQLE1BR0EsR0FBQU8sRUFBQUwsTUFDQUssRUFBQUosWUFBQXlFLEVBRUEsR0FBQXRFLEVBQUFKLFFBQ0FJLEVBQUFILFlBQUF5RSxHQUlBLFNBR0EsUUFBQU8sR0FBQVIsRUFBQUMsR0FDQSxHQUFBNkQsR0FBQTdELEVBQUFuUCxTQUNBdUssRUFBQTJFLEVBQUEzRSxHQUNBNEUsR0FBQTVFLE1BQ0EyRSxFQUFBbFAsV0FBQWdULElBQ0F6SSxFQUFBd0IsVUFBQWlILEdBSUEsUUFBQXBELEdBQUFWLEVBQUFDLEdBQ0FBLEVBQUE1RSxJQUFBMkUsRUFBQTNFLElBR0EsUUFBQWlILEdBQUFwRSxFQUFBQyxFQUFBOUMsRUFBQS9CLEVBQUFGLEVBQUFDLEVBQUF5QyxHQUtBLElBSkEsR0FBQWlJLEdBQUE3RixFQUFBbEwsT0FDQWdSLEVBQUE3RixFQUFBbkwsT0FDQWlSLEVBQUFGLEVBQUFDLElBQUFELEVBQ0FoUixFQUFBLEVBQ1VBLEVBQUFrUixFQUFrQmxSLElBQUEsQ0FDNUIsR0FBQW1SLEdBQUEvRixFQUFBcEwsRUFDQW1SLEdBQUE3SSxNQUNBNkksRUFBQS9GLEVBQUFwTCxHQUFBa0ksRUFBQUssWUFBQTRJLElBRUFuRSxFQUFBN0IsRUFBQW5MLEdBQUFtUixFQUFBN0ksRUFBQS9CLEVBQUFGLEVBQUFDLEVBQUF5QyxHQUVBLEdBQUFpSSxFQUFBQyxFQUNBLElBQUFqUixFQUFBa1IsRUFBOEJsUixFQUFBaVIsRUFBd0JqUixJQUFBLENBQ3RELEdBQUFtUixHQUFBL0YsRUFBQXBMLEVBQ0FtUixHQUFBN0ksTUFDQTZJLEVBQUEvRixFQUFBcEwsR0FBQWtJLEVBQUFLLFlBQUE0SSxJQUVBN0UsRUFBQXhRLFlBQUF3TSxFQUFBVyxFQUFBQyxNQUFBaUksRUFBQSxLQUFBNUssRUFBQUYsRUFBQUMsUUFHQSxRQUFBMkssRUFDQTNFLEVBQUF4QixrQkFBQXhDLEVBQUE2QyxFQUFBNUUsRUFBQXdDLE9BRUEsSUFBQWlJLEVBQUFDLEVBQ0EsSUFBQWpSLEVBQUFrUixFQUE4QmxSLEVBQUFnUixFQUF3QmhSLElBQ3REbUosRUFBQUMsUUFBQStCLEVBQUFuTCxHQUFBc0ksRUFBQS9CLEdBQUEsRUFBQXdDLEdBS0EsUUFBQXVHLEdBQUFoTixFQUFBQyxFQUFBK0YsRUFBQS9CLEVBQUFGLEVBQUFDLEVBQUF5QyxHQUNBLEdBTUEvSSxHQUNBMEMsRUFDQTBPLEVBQ0FDLEVBQ0FwSCxFQUNBcUgsRUFDQUMsRUFaQUMsRUFBQWxQLEVBQUFyQyxPQUNBd1IsRUFBQWxQLEVBQUF0QyxPQUNBeVIsRUFBQUYsRUFBQSxFQUNBRyxFQUFBRixFQUFBLEVBQ0FHLEVBQUEsRUFDQUMsRUFBQSxDQVFBLFFBQUFMLEVBSUEsWUFIQUMsRUFBQSxHQUNBeEksRUFBQW9HLG1CQUFBOU0sRUFBQStGLEVBQUEvQixFQUFBRixFQUFBQyxHQUlBLFFBQUFtTCxFQUVBLFdBREFuRixHQUFBeEIsa0JBQUF4QyxFQUFBaEcsRUFBQWlFLEVBQUF3QyxFQUdBLElBQUErSSxHQUFBeFAsRUFBQXNQLEdBQ0FHLEVBQUF4UCxFQUFBc1AsR0FDQUcsRUFBQTFQLEVBQUFvUCxHQUNBTyxFQUFBMVAsRUFBQW9QLEVBQ0FJLEdBQUF6SixNQUNBL0YsRUFBQXNQLEdBQUFFLEVBQUE3SixFQUFBSyxZQUFBd0osSUFFQUUsRUFBQTNKLE1BQ0EvRixFQUFBb1AsR0FBQU0sRUFBQS9KLEVBQUFLLFlBQUEwSixHQUlBQyxHQUFBLFFBRUEsS0FBQUosRUFBQXpHLE1BQUEwRyxFQUFBMUcsS0FBQSxDQUlBLEdBSEEyQixFQUFBOEUsRUFBQUMsRUFBQXpKLEVBQUEvQixFQUFBRixFQUFBQyxFQUFBeUMsR0FDQTZJLElBQ0FDLElBQ0FELEVBQUFGLEdBQUFHLEVBQUFGLEVBQ0EsS0FBQU8sRUFFQUosR0FBQXhQLEVBQUFzUCxHQUNBRyxFQUFBeFAsRUFBQXNQLEdBQ0FFLEVBQUF6SixNQUNBL0YsRUFBQXNQLEdBQUFFLEVBQUE3SixFQUFBSyxZQUFBd0osSUFJQSxLQUFBQyxFQUFBM0csTUFBQTRHLEVBQUE1RyxLQUFBLENBSUEsR0FIQTJCLEVBQUFnRixFQUFBQyxFQUFBM0osRUFBQS9CLEVBQUFGLEVBQUFDLEVBQUF5QyxHQUNBMkksSUFDQUMsSUFDQUMsRUFBQUYsR0FBQUcsRUFBQUYsRUFDQSxLQUFBTyxFQUVBRixHQUFBMVAsRUFBQW9QLEdBQ0FPLEVBQUExUCxFQUFBb1AsR0FDQU0sRUFBQTNKLE1BQ0EvRixFQUFBb1AsR0FBQU0sRUFBQS9KLEVBQUFLLFlBQUEwSixJQUlBLEdBQUFELEVBQUEzRyxNQUFBMEcsRUFBQTFHLElBQUEsQ0FhQSxHQUFBeUcsRUFBQXpHLE1BQUE0RyxFQUFBNUcsSUFjQSxLQWJBMkIsR0FBQThFLEVBQUFHLEVBQUEzSixFQUFBL0IsRUFBQUYsRUFBQUMsRUFBQXlDLEdBQ0F1SSxFQUFBSyxFQUFBLEVBQ0ExSCxFQUFBcUgsRUFBQS9PLEVBQUF0QyxPQUFBc0MsRUFBQStPLEdBQUFoSixJQUFBLEtBQ0FnRSxFQUFBdkMsZUFBQXpCLEVBQUEySixFQUFBM0osSUFBQTJCLEdBQ0EySCxJQUNBRCxJQUNBRyxFQUFBeFAsRUFBQXNQLEdBQ0FLLEVBQUExUCxFQUFBb1AsR0FDQU0sRUFBQTNKLE1BQ0EvRixFQUFBb1AsR0FBQU0sRUFBQS9KLEVBQUFLLFlBQUEwSixRQXRCQWpGLEdBQUFnRixFQUFBRCxFQUFBekosRUFBQS9CLEVBQUFGLEVBQUFDLEVBQUF5QyxHQUNBdUQsRUFBQXZDLGVBQUF6QixFQUFBeUosRUFBQXpKLElBQUF3SixFQUFBeEosS0FDQW9KLElBQ0FHLElBQ0FHLEVBQUExUCxFQUFBb1AsR0FDQUssRUFBQXhQLEVBQUFzUCxHQUNBRSxFQUFBekosTUFDQS9GLEVBQUFzUCxHQUFBRSxFQUFBN0osRUFBQUssWUFBQXdKLElBcUJBLEdBQUFILEVBQUFGLEdBQ0EsR0FBQUcsR0FBQUYsRUFHQSxJQUZBTCxFQUFBSyxFQUFBLEVBQ0ExSCxFQUFBcUgsRUFBQS9PLEVBQUF0QyxPQUFBc0MsRUFBQStPLEdBQUFoSixJQUFBLEtBQ0F1SixHQUFBRixHQUNBSixFQUFBaFAsRUFBQXNQLEdBQ0FOLEVBQUFqSixNQUNBL0YsRUFBQXNQLEdBQUFOLEVBQUFySixFQUFBSyxZQUFBZ0osSUFFQU0sSUFDQXZGLEVBQUF2QyxlQUFBekIsRUFBQVcsRUFBQUMsTUFBQXFJLEVBQUEsS0FBQWhMLEVBQUFGLEVBQUFDLEdBQUEyRCxPQUlBLElBQUE0SCxFQUFBRixFQUNBLEtBQUFDLEdBQUFGLEdBQ0F2SSxFQUFBQyxRQUFBOUcsRUFBQXNQLEtBQUF0SixFQUFBL0IsR0FBQSxFQUFBd0MsT0FHQSxDQUNBeUksRUFBQUUsRUFBQUUsRUFBQSxFQUNBSCxFQUFBRSxFQUFBRSxFQUFBLENBQ0EsSUFBQU0sR0FBQSxHQUFBQyxPQUFBWCxFQUVBLEtBQUF6UixFQUFBLEVBQW1CQSxFQUFBeVIsRUFBYXpSLElBQ2hDbVMsRUFBQW5TLElBQUEsQ0FFQSxJQUFBcVMsSUFBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsQ0FFQSxJQUFBZCxHQUFBLEdBQUFELEVBQUFDLEdBQUEsSUFDQSxJQUFBelIsRUFBQTRSLEVBQTRCNVIsR0FBQTBSLEVBQVcxUixJQUV2QyxHQURBb1IsRUFBQTlPLEVBQUF0QyxHQUNBdVMsRUFBQWQsRUFDQSxJQUFBL08sRUFBQW1QLEVBQW9DblAsR0FBQWlQLEVBQVdqUCxJQUUvQyxHQURBMk8sRUFBQTlPLEVBQUFHLEdBQ0EwTyxFQUFBL0YsTUFBQWdHLEVBQUFoRyxJQUFBLENBQ0E4RyxFQUFBelAsRUFBQW1QLEdBQUE3UixFQUNBc1MsRUFBQTVQLEVBQ0EyUCxHQUFBLEVBR0FDLEVBQUE1UCxFQUVBMk8sRUFBQS9JLE1BQ0EvRixFQUFBRyxHQUFBMk8sRUFBQW5KLEVBQUFLLFlBQUE4SSxJQUVBckUsRUFBQW9FLEVBQUFDLEVBQUEvSSxFQUFBL0IsRUFBQUYsRUFBQUMsRUFBQXlDLEdBQ0F3SixJQUNBalEsRUFBQXRDLEdBQUEsSUFDQSxZQU1BLENBQ0EsR0FBQXdTLEdBQUEsR0FBQUMsSUFFQSxLQUFBelMsRUFBQTZSLEVBQTRCN1IsR0FBQTJSLEVBQVczUixJQUN2Q3dTLEVBQUE3VCxJQUFBNEQsRUFBQXZDLEdBQUFxTCxJQUFBckwsRUFHQSxLQUFBQSxFQUFBNFIsRUFBNEI1UixHQUFBMFIsRUFBVzFSLElBQ3ZDb1IsRUFBQTlPLEVBQUF0QyxHQUNBdVMsRUFBQWQsSUFDQS9PLEVBQUE4UCxFQUFBOVQsSUFBQTBTLEVBQUEvRixLQUNBN0UsRUFBQUMsWUFBQS9ELEtBQ0EyTyxFQUFBOU8sRUFBQUcsR0FDQXlQLEVBQUF6UCxFQUFBbVAsR0FBQTdSLEVBQ0FzUyxFQUFBNVAsRUFDQTJQLEdBQUEsRUFHQUMsRUFBQTVQLEVBRUEyTyxFQUFBL0ksTUFDQS9GLEVBQUFHLEdBQUEyTyxFQUFBbkosRUFBQUssWUFBQThJLElBRUFyRSxFQUFBb0UsRUFBQUMsRUFBQS9JLEVBQUEvQixFQUFBRixFQUFBQyxFQUFBeUMsR0FDQXdKLElBQ0FqUSxFQUFBdEMsR0FBQSxPQU1BLEdBQUF3UixJQUFBbFAsRUFBQXJDLFFBQUEsSUFBQXNTLEVBRUEsSUFEQWpHLEVBQUF4QixrQkFBQXhDLEVBQUFoRyxFQUFBaUUsRUFBQXdDLEdBQ0E4SSxFQUFBSixHQUNBRixFQUFBaFAsRUFBQXNQLEdBQ0FOLEVBQUFqSixNQUNBL0YsRUFBQXNQLEdBQUFOLEVBQUFySixFQUFBSyxZQUFBZ0osSUFFQU0sSUFDQXZGLEVBQUF2QyxlQUFBekIsRUFBQVcsRUFBQUMsTUFBQXFJLEVBQUEsS0FBQWhMLEVBQUFGLEVBQUFDLEdBQUEsVUFHQSxDQUVBLElBREF0RyxFQUFBd1IsRUFBQWUsRUFDQXZTLEVBQUEsR0FDQW9SLEVBQUE5TyxFQUFBc1AsS0FDQXBMLEVBQUFnQixPQUFBNEosS0FDQWpJLEVBQUFDLFFBQUFnSSxFQUFBOUksRUFBQS9CLEdBQUEsRUFBQXdDLEdBQ0EvSSxJQUdBLElBQUFxUyxFQUFBLENBQ0EsR0FBQUssR0FBQUMsRUFBQVIsRUFFQSxLQURBelAsRUFBQWdRLEVBQUF6UyxPQUFBLEVBQ0FELEVBQUF5UixFQUFBLEVBQXFDelIsR0FBQSxFQUFRQSxLQUM3QyxJQUFBbVMsRUFBQW5TLElBQ0FzUyxFQUFBdFMsRUFBQTZSLEVBQ0FOLEVBQUFoUCxFQUFBK1AsR0FDQWYsRUFBQWpKLE1BQ0EvRixFQUFBK1AsR0FBQWYsRUFBQXJKLEVBQUFLLFlBQUFnSixJQUVBRCxFQUFBZ0IsRUFBQSxFQUNBckksRUFBQXFILEVBQUEvTyxFQUFBdEMsT0FBQXNDLEVBQUErTyxHQUFBaEosSUFBQSxLQUNBZ0UsRUFBQXZDLGVBQUF6QixFQUFBVyxFQUFBQyxNQUFBcUksRUFBQWpKLEVBQUEvQixFQUFBRixFQUFBQyxHQUFBMkQsSUFHQXZILEVBQUEsR0FBQTFDLElBQUEwUyxFQUFBaFEsSUFDQTRQLEVBQUF0UyxFQUFBNlIsRUFDQU4sRUFBQWhQLEVBQUErUCxHQUNBaEIsRUFBQWdCLEVBQUEsRUFDQXJJLEVBQUFxSCxFQUFBL08sRUFBQXRDLE9BQUFzQyxFQUFBK08sR0FBQWhKLElBQUEsS0FDQWdFLEVBQUF2QyxlQUFBekIsRUFBQWlKLEVBQUFqSixJQUFBMkIsSUFHQXZILFFBS0EsSUFBQTZQLElBQUFkLEVBR0EsSUFBQXpSLEVBQUF5UixFQUFBLEVBQXFDelIsR0FBQSxFQUFRQSxLQUM3QyxJQUFBbVMsRUFBQW5TLEtBQ0FzUyxFQUFBdFMsRUFBQTZSLEVBQ0FOLEVBQUFoUCxFQUFBK1AsR0FDQWYsRUFBQWpKLE1BQ0EvRixFQUFBK1AsR0FBQWYsRUFBQXJKLEVBQUFLLFlBQUFnSixJQUVBRCxFQUFBZ0IsRUFBQSxFQUNBckksRUFBQXFILEVBQUEvTyxFQUFBdEMsT0FBQXNDLEVBQUErTyxHQUFBaEosSUFBQSxLQUNBZ0UsRUFBQXZDLGVBQUF6QixFQUFBVyxFQUFBQyxNQUFBcUksRUFBQSxLQUFBaEwsRUFBQUYsRUFBQUMsR0FBQTJELE1BU0EsUUFBQTBJLEdBQUFDLEdBQ0EsR0FFQTVTLEdBQ0EwQyxFQUNBbVEsRUFDQUMsRUFDQXJSLEVBTkE3RixFQUFBZ1gsRUFBQTNQLE1BQUEsR0FDQWYsR0FBQSxHQU1BK0ksRUFBQTJILEVBQUEzUyxNQUNBLEtBQUFELEVBQUEsRUFBZUEsRUFBQWlMLEVBQVNqTCxJQUFBLENBQ3hCLEdBQUErUyxHQUFBSCxFQUFBNVMsRUFDQSxTQUFBK1MsRUFJQSxHQURBclEsRUFBQVIsSUFBQWpDLE9BQUEsR0FDQTJTLEVBQUFsUSxHQUFBcVEsRUFDQW5YLEVBQUFvRSxHQUFBMEMsRUFDQVIsRUFBQXRFLEtBQUFvQyxPQUZBLENBT0EsSUFGQTZTLEVBQUEsRUFDQUMsRUFBQTVRLEVBQUFqQyxPQUFBLEVBQ0E0UyxFQUFBQyxHQUNBclIsR0FBQW9SLEVBQUFDLEdBQUEsSUFDQUYsRUFBQTFRLEVBQUFULElBQUFzUixFQUNBRixFQUFBcFIsRUFBQSxFQUdBcVIsRUFBQXJSLENBR0FzUixHQUFBSCxFQUFBMVEsRUFBQTJRLE1BQ0FBLEVBQUEsSUFDQWpYLEVBQUFvRSxHQUFBa0MsRUFBQTJRLEVBQUEsSUFFQTNRLEVBQUEyUSxHQUFBN1MsSUFLQSxJQUZBNlMsRUFBQTNRLEVBQUFqQyxPQUNBNlMsRUFBQTVRLEVBQUEyUSxFQUFBLEdBQ0FBLEtBQUEsR0FDQTNRLEVBQUEyUSxHQUFBQyxFQUNBQSxFQUFBbFgsRUFBQWtYLEVBRUEsT0FBQTVRLEdBRUEsUUFBQThRLEdBQUFDLEdBQ0EsWUFBQUEsRUFBQSxVQUFBQSxFQUFBLEdBR0EsUUFBQXBFLEdBQUFGLEVBQUF1RSxFQUFBdEUsRUFBQXRHLEVBQUFoQyxFQUFBaUksR0FDQSxHQUFBMkUsSUFBQXRFLEVBQUEsQ0FDQSxHQUFBdEUsRUFBQTZJLFVBQUFDLElBQUF6RSxJQUFBSixHQUFBLFVBQUFJLEVBQ0EsTUFFQSxJQUFBckUsRUFBQStJLGFBQUFELElBQUF6RSxHQUNBQSxFQUFBLGNBQUFBLElBQUEyRSxjQUFBM0UsRUFDQXJHLEVBQUFxRyxLQUFBQyxNQUVBLElBQUF0RSxFQUFBaUosWUFBQUgsSUFBQXpFLEdBQUEsQ0FDQSxHQUFBL1AsR0FBQTRILEVBQUFhLGNBQUF1SCxHQUFBLEdBQUFBLENBQ0F0RyxHQUFBcUcsS0FBQS9QLElBQ0EwSixFQUFBcUcsR0FBQS9QLE9BR0EsSUFBQW9VLEVBQUFyRSxHQUNBNkUsRUFBQTdFLEVBQUF1RSxFQUFBdEUsRUFBQXRHLE9BRUEsSUFBQTlCLEVBQUFhLGNBQUF1SCxHQUNBdEcsRUFBQTBHLGdCQUFBTCxPQUVBLGNBQUFBLEVBQ0E4RSxFQUFBUCxFQUFBdEUsRUFBQXRHLE9BRUEsZ0NBQUFxRyxFQUFBLENBQ0EsR0FBQStFLEdBQUFSLEtBQUFTLE9BQ0FDLEVBQUFoRixLQUFBK0UsTUFDQUQsS0FBQUUsSUFDQXBOLEVBQUFhLGNBQUF1TSxLQUNBdEwsRUFBQXVMLFVBQUFELFFBTUF0TixJQUFBZ0UsRUFBQXdKLFdBQUFWLElBQUF6RSxHQUVBckcsRUFBQXlMLGVBQUF6SixFQUFBd0osV0FBQXBWLElBQUFpUSxLQUFBQyxHQUdBdEcsRUFBQTJHLGFBQUFOLEVBQUFDLElBTUEsUUFBQTRFLEdBQUF0VixFQUFBZ1YsRUFBQXRFLEVBQUF0RyxHQUNBLEdBQUE0SyxJQUFBdEUsRUFDQSxHQUFBdEUsRUFBQTBKLGdCQUFBWixJQUFBbFYsR0FDQStWLEVBQUFDLFlBQUFoVyxFQUFBZ1YsRUFBQXRFLEVBQUF0RyxPQUVBLENBQ0EsR0FBQTZMLEdBQUFqVyxFQUFBb1YsY0FDQWMsRUFBQTlMLEVBQUE2TCxFQUVBLElBQUFDLEtBQUFDLFFBQ0EsTUFFQSxJQUFBN04sRUFBQThOLFdBQUExRixJQUFBcEksRUFBQWEsY0FBQXVILEdBZUF0RyxFQUFBNkwsR0FBQXZGLE1BZkEsQ0FDQSxHQUFBMkYsR0FBQTNGLEVBQUE0RixLQUNBRCxJQUFBL04sRUFBQThOLFdBQUFDLEdBQ0FqTSxFQUFBNkwsR0FBQSxTQUFBalgsR0FDQXFYLEVBQUEzRixFQUFBNU4sS0FBQTlELElBT0FzSixFQUFBd0IsZUFZQSxRQUFBeUwsR0FBQWdCLEVBQUFDLEVBQUFwTSxHQUNBLEdBQUFxTSxHQUFBck0sRUFBQXNNLEtBQ0EsSUFBQXBPLEVBQUFxTyxTQUFBSCxHQUVBLFlBREFDLEVBQUFHLFFBQUFKLEVBR0EsUUFBQUUsS0FBQUYsR0FBQSxDQUVBLEdBQUE5VixHQUFBOFYsRUFBQUUsSUFDQXBPLEVBQUF1TyxTQUFBblcsSUFBQTBMLEVBQUEwSyxpQkFBQTVCLElBQUF3QixHQUNBRCxFQUFBQyxHQUFBaFcsRUFHQStWLEVBQUFDLEdBQUFoVyxFQUFBLEtBR0EsSUFBQTRILEVBQUFhLGNBQUFvTixHQUNBLE9BQUFHLEtBQUFILEdBQ0FqTyxFQUFBYSxjQUFBcU4sRUFBQUUsTUFDQUQsRUFBQUMsR0FBQSxJQU1BLFFBQUE3RixHQUFBSixFQUFBdUUsRUFBQTVLLEdBQ0EsVUFBQXFHLEVBQ0FyRyxFQUFBMUosTUFBQSxHQUVBLFVBQUErUCxFQUNBckcsRUFBQTBHLGdCQUFBLFNBRUFnRSxFQUFBckUsR0FDQXNGLEVBQUFDLFlBQUF2RixFQUFBdUUsRUFBQSxLQUFBNUssR0FHQUEsRUFBQTBHLGdCQUFBTCxHQWh6QkF4USxPQUFBSSxlQUFBNEcsRUFBQSxjQUE4Q3ZHLE9BQUEsR0FDOUMsSUFBQTRILEdBQUE3SyxFQUFBLEdBQ0E4TCxFQUFBOUwsRUFBQSxHQUNBdU0sRUFBQXZNLEVBQUEsR0FDQTJPLEVBQUEzTyxFQUFBLEdBQ0FzWSxFQUFBdFksRUFBQSxJQUNBc04sRUFBQXROLEVBQUEsR0FDQTRVLEVBQUE1VSxFQUFBLEdBQ0F3TixFQUFBeE4sRUFBQSxJQUNBMlEsRUFBQTNRLEVBQUEsR0FDQThTLEVBQUE5UyxFQUFBLEdBMkNBd0osR0FBQTZILFFBb0ZBN0gsRUFBQW9JLGVBdU5BcEksRUFBQWtJLGlCQVNBbEksRUFBQXNJLFlBSUF0SSxFQUFBd0ksWUErQkF4SSxFQUFBb0ssd0JBMlBBcEssRUFBQW1LLHFCQW1EQW5LLEVBQUE2TixnQkE4Q0E3TixFQUFBMEosWUFpQ0ExSixFQUFBcU8sYUEyQkFyTyxFQUFBc08sY1ArcENNLFNBQVU5USxFQUFRd0MsRUFBU3hKLEdBRWpDLFlRbDdEQSxTQUFBc1osR0FBQW5KLEdBQ0FyRSxFQUFBckYsUUFBQXNKLG9CQUlBbEYsRUFBQXdCLFlBRUEsSUFBQU0sR0FBQXdELEtBQUFvSixTQUFBcEosRUFBQSxJQUNBLE9BQUEzRyxHQUFBcUwsc0JBQUE5UixJQUFBb04sSUFBQXhELEVBR0EsUUFBQTZNLEdBQUE3TSxHQUNBLE9BQUF0SSxHQUFBLEVBQUFpTCxFQUFBVSxFQUFBMUwsT0FBdUNELEVBQUFpTCxFQUFTakwsSUFBQSxDQUNoRCxHQUFBb1YsR0FBQXpKLEVBQUEzTCxFQUNBLElBQUFvVixFQUFBOU0sUUFDQSxNQUFBOE0sR0FHQSxZQUVBLFFBQUFDLEdBQUEvTSxFQUFBWCxFQUFBcEIsR0FDQSxHQUFBNk8sSUFDQTlNLE1BQ0FYLFFBQ0FwQixZQUdBLE9BREFvRixHQUFBL04sS0FBQXdYLEdBQ0FBLEVBRUEsUUFBQUUsR0FBQUYsR0FDQSxPQUFBcFYsR0FBQSxFQUFBaUwsRUFBQVUsRUFBQTFMLE9BQXVDRCxFQUFBaUwsRUFBU2pMLElBQ2hELEdBQUEyTCxFQUFBM0wsS0FBQW9WLEVBRUEsV0FEQXpKLEdBQUFwTCxPQUFBUCxFQUFBLEdBaUJBLFFBQUE0SCxHQUFBRCxFQUFBbUIsR0FPQSxHQU5BeU0sSUFBQXpNLEdBSUF0QyxFQUFBd0IsYUFFQUwsSUFBQW5CLEVBQUE0SixNQUFBLENBR0EsR0FBQWdGLEdBQUFELEVBQUFyTSxFQUNBLElBQUF0QyxFQUFBZ0IsT0FBQTROLEdBQUEsQ0FDQSxHQUFBN08sR0FBQSxHQUFBQyxHQUFBZ1AsU0FDQWhQLEdBQUF5QixVQUFBTixLQUNBQSxFQUFBVyxNQUNBWCxFQUFBTyxFQUFBSyxZQUFBWixJQUVBOE4sRUFBQUMsWUFBQS9OLEVBQUFtQixFQUFBdkMsSUFDQTBDLEVBQUFDLE1BQUF2QixFQUFBbUIsRUFBQXZDLEVBQUErRixFQUFBNUYsV0FBQSxHQUVBME8sRUFBQUMsRUFBQXZNLEVBQUFuQixFQUFBcEIsR0FDQUEsRUFBQW9QLGVBR0EsQ0FDQSxHQUFBcFAsR0FBQTZPLEVBQUE3TyxTQUNBQSxHQUFBcVAsYUFDQXBQLEVBQUFhLGNBQUFNLElBQ0F3QixFQUFBQyxRQUFBZ00sRUFBQXpOLE1BQUFtQixFQUFBdkMsR0FBQSxNQUNBK08sRUFBQUYsS0FHQXpOLEVBQUFXLE1BQ0FYLEVBQUFPLEVBQUFLLFlBQUFaLElBRUFrTyxFQUFBN0ksTUFBQW9JLEVBQUF6TixRQUFBbUIsRUFBQXZDLEVBQUErRixFQUFBNUYsV0FBQSxPQUVBME8sRUFBQXpOLFFBQ0FwQixFQUFBb1AsVUFFQSxHQUFBUCxFQUFBLENBQ0EsR0FBQVUsR0FBQVYsRUFBQXpOLEtBQ0EsSUFBQW1PLEdBQUEsR0FBQUEsRUFBQXROLE1BQ0EsTUFBQXNOLEdBQUEvWCxXQUtBLFFBQUFnWSxHQUFBak4sR0FDQSxnQkFBQUYsRUFBQUMsR0FDQUMsSUFDQUEsRUFBQUYsR0FFQWhCLEVBQUFpQixFQUFBQyxJQXpIQTNLLE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBNEgsR0FBQTdLLEVBQUEsR0FDQThMLEVBQUE5TCxFQUFBLEdBQ0F1TSxFQUFBdk0sRUFBQSxHQUNBOFosRUFBQTlaLEVBQUEsSUFDQXNOLEVBQUF0TixFQUFBLEdBQ0FrYSxFQUFBbGEsRUFBQSxHQUNBd04sRUFBQXhOLEVBQUEsSUFDQTJRLEVBQUEzUSxFQUFBLEVBSUF3SixHQUFBcUwsc0JBQUEsR0FBQWlDLElBQ0EsSUFBQTlHLEdBQUFsRSxFQUFBckYsUUFBQXVKLEtBZ0JBeEcsR0FBQThQLGFBZ0NBLElBQUFNLEdBQUEvTyxFQUFBd1AsVUFBQTVhLFNBQUE2YSxLQUFBLElBc0RBOVEsR0FBQXlDLFNBU0F6QyxFQUFBNFEsa0JSNDhETSxTQUFVcFQsRUFBUXdDLEVBQVN4SixHQUVqQyxZUzFrRUEsSUFBQXVhLEdBQUE1USxXQUFBNFEsV0FBQSxXQUNBLEdBQUFDLEdBQUFoWSxPQUFBaVksaUJBQ1VDLHVCQUFnQmpFLFFBQUEsU0FBQTVNLEVBQUFqRCxHQUFzQ2lELEVBQUE2USxVQUFBOVQsSUFDaEUsU0FBQWlELEVBQUFqRCxHQUF5QixPQUFBM0csS0FBQTJHLEtBQUFsRSxlQUFBekMsS0FBQTRKLEVBQUE1SixHQUFBMkcsRUFBQTNHLElBQ3pCLGlCQUFBNEosRUFBQWpELEdBRUEsUUFBQStULEtBQXVCaFIsS0FBQWlSLFlBQUEvUSxFQUR2QjJRLEVBQUEzUSxFQUFBakQsR0FFQWlELEVBQUFwSCxVQUFBLE9BQUFtRSxFQUFBcEUsT0FBQXFZLE9BQUFqVSxJQUFBK1QsRUFBQWxZLFVBQUFtRSxFQUFBbkUsVUFBQSxHQUFBa1ksT0FHQW5ZLFFBQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBNlgsR0FBQTlhLEVBQUEsSUFDQSthLEVBQUEvYSxFQUFBLElBQ0E2SyxFQUFBN0ssRUFBQSxHQUNBMlEsRUFBQTNRLEVBQUEsSUFDQWdiLEVBQUEzYSxRQUFBQyxVQUNBMmEsRUFBQSxTQUFBQyxHQUVBLFFBQUFELEdBQUF4USxFQUFBQyxHQUNBLEdBQUF5USxHQUFBRCxFQUFBdlksS0FBQWdILEtBQUFjLEVBQUFDLElBQUFmLElBU0EsT0FSQXdSLEdBQUFDLHFCQUFBLFNBQUFuUyxFQUFBMkUsR0FDQXVOLEVBQUFFLFVBQ0FDLGVBQUExTixLQUdBdU4sRUFBQWpQLE9BQ0FvUCxlQUFBLE1BRUFILEVBMERBLE1BckVBWixHQUFBVSxFQUFBQyxHQWFBRCxFQUFBeFksVUFBQTZJLG1CQUFBLFdBQ0EsR0FBQTZQLEdBQUF4UixLQUNBNFIsRUFBQTVSLEtBQUFjLE1BQUE4USxRQUNBQyxFQUFBN1IsS0FBQWUsUUFBQThRLE1BQ0FELElBQ0FQLEVBQUF0WCxLQUFBLFdBQ0E2WCxHQUF5QjlRLE1BQUEwUSxFQUFBMVEsTUFBQStRLFlBR3pCLElBQUFDLEdBQUE5UixLQUFBYyxNQUFBZ1IsWUFDQUEsSUFDQVQsRUFBQXRYLEtBQUEsV0FDQStYLEdBQThCaFIsTUFBQTBRLEVBQUExUSxNQUFBK1EsVUFBcUNMLEVBQUFDLHlCQUluRUgsRUFBQXhZLFVBQUFpWixRQUFBLFNBQUExQixPQUNBLEtBQUFBLElBQWlDQSxHQUFBLEVBQ2pDLElBQUEwQixHQUFBL1IsS0FBQWMsTUFBQWlSLFFBQ0FGLEVBQUE3UixLQUFBZSxRQUFBOFEsTUFDQUUsSUFBQTFCLEdBQ0EwQixHQUFxQmpSLE1BQUFkLEtBQUFjLE1BQUErUSxZQUdyQlAsRUFBQXhZLFVBQUE4WSxRQUFBLFNBQUFsSixHQUNBLEdBQUFrSixHQUFBbEosRUFBQWtKLFFBQ0FDLEVBQUE3UixLQUFBZSxRQUFBOFEsTUFDQTdSLE1BQUFjLE1BQUFrUixPQUFBdEosRUFBQXNKLE1BQUFKLEdBQ0FBLEdBQXFCOVEsTUFBQTRILEVBQUFtSixZQUdyQlAsRUFBQXhZLFVBQUFnWixhQUFBLFNBQUFwSixHQUNBLEdBQUFvSixHQUFBcEosRUFBQW9KLGFBQ0FELEVBQUE3UixLQUFBZSxRQUFBOFEsTUFDQTdSLE1BQUFjLE1BQUFrUixPQUFBdEosRUFBQXNKLE1BQUFGLEdBQ0FBLEdBQTBCaFIsTUFBQTRILEVBQUFtSixVQUFtQzdSLEtBQUF5Uix1QkFHN0RILEVBQUF4WSxVQUFBbVoscUJBQUEsV0FDQWpTLEtBQUErUixTQUFBLElBRUFULEVBQUF4WSxVQUFBb1osMEJBQUEsU0FBQXhKLEdBQ0ExSSxLQUFBOFIsYUFBQXBKLEdBQ0ExSSxLQUFBNFIsUUFBQWxKLEdBQ0ExSSxLQUFBK1IsUUFBQS9SLEtBQUFjLE1BQUFrUixPQUFBdEosRUFBQXNKLE9BRUFWLEVBQUF4WSxVQUFBd0osT0FBQSxTQUFBNlAsR0FDQSxHQUFBbE8sR0FBQWtPLEVBQUFsTyxVQUFBeEwsRUFBQTBaLEVBQUExWixTQUNBcUksRUFBQWtHLEVBQUFvTCxLQUFBRCxHQUFBLCtDQUNBUixFQUFBM1IsS0FBQXVDLE1BQUFvUCxlQUNBVSxFQUFBcE8sR0FBQTBOLENBQ0EsT0FBQVUsR0FHQWpCLEVBQUExUSxRQUFBMlIsRUFBQXZSLEVBQUFySSxHQUZBeUksRUFBQXVCLFFBQUFoSyxHQUFBLEtBQUFBLEdBSUE2WSxHQUNDSCxFQUFBelEsUUFDRGIsR0FBQWEsUUFBQTRRLEdUaWxFTSxTQUFValUsRUFBUXdDLEVBQVN4SixHQUVqQyxZVTNxRUF3QyxRQUFBSSxlQUFBNEcsRUFBQSxjQUE4Q3ZHLE9BQUEsSUFDOUN1RyxFQUFBeVMsUUFBQSwrQkFDQXpTLEVBQUEwUyxNQUFBLHVDQUNBMVMsRUFBQW9GLE1BQUEsNkJBQ0FwRixFQUFBb08sWUFBQSxHQUFBdUUsS0FDQTNTLEVBQUFvTyxZQUFBd0UsSUFBQSxVQUNBNVMsRUFBQW9PLFlBQUF3RSxJQUFBLGtCQUNBNVMsRUFBQWtPLGFBQUEsR0FBQXlFLEtBQ0EzUyxFQUFBa08sYUFBQTBFLElBQUEsU0FDQTVTLEVBQUFrTyxhQUFBMEUsSUFBQSxVQUNBNVMsRUFBQWtPLGFBQUEwRSxJQUFBLFFBQ0E1UyxFQUFBa08sYUFBQTBFLElBQUEsUUFDQTVTLEVBQUFrTyxhQUFBMEUsSUFBQSxXQUNBNVMsRUFBQWtPLGFBQUEwRSxJQUFBLFdBQ0E1UyxFQUFBa08sYUFBQTBFLElBQUEsV0FDQTVTLEVBQUFrTyxhQUFBMEUsSUFBQSxZQUNBNVMsRUFBQWtPLGFBQUEwRSxJQUFBLFlBQ0E1UyxFQUFBa08sYUFBQTBFLElBQUEsWUFDQTVTLEVBQUFrTyxhQUFBMEUsSUFBQSxZQUNBNVMsRUFBQWtPLGFBQUEwRSxJQUFBLFlBQ0E1UyxFQUFBa08sYUFBQTBFLElBQUEsWUFDQTVTLEVBQUFrTyxhQUFBMEUsSUFBQSxZQUNBNVMsRUFBQWtPLGFBQUEwRSxJQUFBLG1CQUNBNVMsRUFBQWtPLGFBQUEwRSxJQUFBLGNBQ0E1UyxFQUFBa08sYUFBQTBFLElBQUEsVUFDQTVTLEVBQUFrTyxhQUFBMEUsSUFBQSxhQUNBNVMsRUFBQWtPLGFBQUEwRSxJQUFBLFlBQ0E1UyxFQUFBMk8sV0FBQSxHQUFBckIsS0FDQXROLEVBQUEyTyxXQUFBblYsSUFBQSxhQUFBd0csRUFBQXlTLFNBQ0F6UyxFQUFBMk8sV0FBQW5WLElBQUEsZ0JBQUF3RyxFQUFBeVMsU0FDQXpTLEVBQUEyTyxXQUFBblYsSUFBQSxnQkFBQXdHLEVBQUF5UyxTQUNBelMsRUFBQTJPLFdBQUFuVixJQUFBLGFBQUF3RyxFQUFBeVMsU0FDQXpTLEVBQUEyTyxXQUFBblYsSUFBQSxhQUFBd0csRUFBQXlTLFNBQ0F6UyxFQUFBMk8sV0FBQW5WLElBQUEsY0FBQXdHLEVBQUF5UyxTQUNBelMsRUFBQTJPLFdBQUFuVixJQUFBLGFBQUF3RyxFQUFBeVMsU0FDQXpTLEVBQUEyTyxXQUFBblYsSUFBQSxXQUFBd0csRUFBQTBTLE9BQ0ExUyxFQUFBMk8sV0FBQW5WLElBQUEsV0FBQXdHLEVBQUEwUyxPQUNBMVMsRUFBQTJPLFdBQUFuVixJQUFBLFlBQUF3RyxFQUFBMFMsT0FDQTFTLEVBQUE2UCxpQkFBQSxHQUFBOEMsS0FDQTNTLEVBQUE2UCxpQkFBQStDLElBQUEsMkJBQ0E1UyxFQUFBNlAsaUJBQUErQyxJQUFBLHFCQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxvQkFDQTVTLEVBQUE2UCxpQkFBQStDLElBQUEsb0JBQ0E1UyxFQUFBNlAsaUJBQUErQyxJQUFBLFdBQ0E1UyxFQUFBNlAsaUJBQUErQyxJQUFBLGdCQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxtQkFDQTVTLEVBQUE2UCxpQkFBQStDLElBQUEsZUFDQTVTLEVBQUE2UCxpQkFBQStDLElBQUEsUUFDQTVTLEVBQUE2UCxpQkFBQStDLElBQUEsWUFDQTVTLEVBQUE2UCxpQkFBQStDLElBQUEsZ0JBQ0E1UyxFQUFBNlAsaUJBQUErQyxJQUFBLGNBQ0E1UyxFQUFBNlAsaUJBQUErQyxJQUFBLGdCQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxhQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxXQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxjQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxjQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxhQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxjQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxXQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxTQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxXQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxXQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxVQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxVQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxRQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxlQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxnQkFDQTVTLEVBQUE2UCxpQkFBQStDLElBQUEsZUFDQTVTLEVBQUE2UCxpQkFBQStDLElBQUEsbUJBQ0E1UyxFQUFBNlAsaUJBQUErQyxJQUFBLG9CQUNBNVMsRUFBQTZQLGlCQUFBK0MsSUFBQSxvQkFDQTVTLEVBQUE2UCxpQkFBQStDLElBQUEsaUJBQ0E1UyxFQUFBNlAsaUJBQUErQyxJQUFBLGVBQ0E1UyxFQUFBZ08sVUFBQSxHQUFBMkUsS0FDQTNTLEVBQUFnTyxVQUFBNEUsSUFBQSxZQUNBNVMsRUFBQWdPLFVBQUE0RSxJQUFBLGdCQUNBNVMsRUFBQWdPLFVBQUE0RSxJQUFBLGdCQUNBNVMsRUFBQWdPLFVBQUE0RSxJQUFBLE9BQ0E1UyxFQUFBZ08sVUFBQTRFLElBQUEsT0FDQTVTLEVBQUFnTyxVQUFBNEUsSUFBQSxXQUNBNVMsRUFBQWdPLFVBQUE0RSxJQUFBLFlBQ0E1UyxFQUFBNk8sZ0JBQUEsR0FBQThELEtBQ0EzUyxFQUFBNk8sZ0JBQUErRCxJQUFBLFdBQ0E1UyxFQUFBNk8sZ0JBQUErRCxJQUFBLGVBQ0E1UyxFQUFBNk8sZ0JBQUErRCxJQUFBLGFBQ0E1UyxFQUFBNk8sZ0JBQUErRCxJQUFBLGVBQ0E1UyxFQUFBNk8sZ0JBQUErRCxJQUFBLFlBQ0E1UyxFQUFBNk8sZ0JBQUErRCxJQUFBLGNBQ0E1UyxFQUFBNk8sZ0JBQUErRCxJQUFBLGFBQ0E1UyxFQUFBNk8sZ0JBQUErRCxJQUFBLFdBQ0E1UyxFQUFBNk8sZ0JBQUErRCxJQUFBLGVWa3JFTSxTQUFVcFYsRUFBUXdDLEVBQVN4SixHQUVqQyxZV3J3RUEsU0FBQXVOLEdBQUFoRCxFQUFBNEMsRUFBQXZDLEVBQUFGLEVBQUFDLEdBQ0EsR0FBQWtDLEdBQUF0QyxFQUFBc0MsS0FDQSxhQUFBQSxFQUNBZ0YsRUFBQXRILEVBQUE0QyxFQUFBdkMsRUFBQUYsRUFBQUMsR0FFQSxHQUFBa0MsRUFDQThFLEVBQUFwSCxFQUFBNEMsRUFBQXZDLEVBQUFGLEVBQUFDLEdBQUEsRUFBQWtDLEdBQUEsR0FFQSxLQUFBQSxFQUNBb0YsRUFBQTFILEVBQUE0QyxHQUVBLEVBQUFOLEVBQ0FrRixFQUFBeEgsRUFBQTRDLE9BV0F0QyxHQUFBd0IsYUFJQSxRQUFBMEYsR0FBQXhILEVBQUE0QyxHQUNBLEdBQUFSLEdBQUFsTixTQUFBdU8sZUFBQXpELEVBQUFuSSxTQUtBLE9BSkFtSSxHQUFBb0MsTUFDQTlCLEVBQUFnQixPQUFBc0IsSUFDQXdELEVBQUF4USxZQUFBZ04sRUFBQVIsR0FFQUEsRUFHQSxRQUFBc0YsR0FBQTFILEVBQUE0QyxHQUNBLEdBQUFSLEdBQUFsTixTQUFBdU8sZUFBQSxHQUtBLE9BSkF6RCxHQUFBb0MsTUFDQTlCLEVBQUFnQixPQUFBc0IsSUFDQXdELEVBQUF4USxZQUFBZ04sRUFBQVIsR0FFQUEsRUFHQSxRQUFBa0YsR0FBQXRILEVBQUE0QyxFQUFBdkMsRUFBQUYsRUFBQUMsR0FDQSxHQUFBbUIsRUFBQXJGLFFBQUEySSxpQkFBQSxDQUNBLEdBQUFpTixHQUFBQyxFQUFBQyxlQUFBaFMsRUFBQUssRUFBQUYsRUFBQUMsRUFDQSxLQUFBRSxFQUFBZ0IsT0FBQXdRLEdBSUEsTUFIQXhSLEdBQUFnQixPQUFBc0IsSUFDQXdELEVBQUF4USxZQUFBZ04sRUFBQWtQLEdBRUFBLEVBR0EsR0FBQXhQLEdBQUF0QyxFQUFBc0MsS0FDQWxDLE9BQUEsSUFBQWtDLEdBQUEsQ0FDQSxJQUFBRixHQUFBZ0UsRUFBQW5DLHNCQUFBakUsRUFBQTFLLEtBQUE4SyxHQUNBdkksRUFBQW1JLEVBQUFuSSxTQUNBcUksRUFBQUYsRUFBQUUsTUFDQXlGLEVBQUEzRixFQUFBMkYsVUFDQUMsRUFBQTVGLEVBQUE0RixHQWFBLElBWkE1RixFQUFBb0MsTUFDQTlCLEVBQUF5QixVQUFBbEssS0FDQXlJLEVBQUE0QixpQkFBQXJLLEdBQ0F1TyxFQUFBOUMsZUFBQWxCLEVBQUF2SyxHQUVBeUksRUFBQXVCLFFBQUFoSyxHQUNBc1IsRUFBQXRSLEVBQUF1SyxFQUFBL0IsRUFBQUYsRUFBQUMsR0FFQTRCLEVBQUF3RSxRQUFBM08sSUFDQW1MLEVBQUFuTCxFQUFBdUssRUFBQS9CLEVBQUFGLEVBQUFDLEtBR0FFLEVBQUFnQixPQUFBcEIsR0FBQSxDQUNBLEdBQUFtSSxJQUFBLEVBQ0FDLEdBQUEsS0FBQWhHLEdBQUEsQ0FDQWdHLEtBQ0FELEVBQUFFLEVBQUFDLHdCQUFBdEksR0FFQSxRQUFBdUksS0FBQXZJLEdBRUF5UCxFQUFBaEgsVUFBQUYsRUFBQSxLQUFBdkksRUFBQXVJLEdBQUFyRyxFQUFBaEMsRUFBQWlJLEVBRUFDLElBQ0FDLEVBQUFLLGVBQUF0RyxFQUFBdEMsRUFBQW9DLEVBQUFsQyxHQUFBLEVBQUFtSSxHQWlCQSxNQWRBLFFBQUExQyxJQUNBdkYsRUFDQWdDLEVBQUEyRyxhQUFBLFFBQUFwRCxHQUdBdkQsRUFBQXVELGFBR0FyRixFQUFBZ0IsT0FBQXNFLElBQ0FvRCxFQUFBNUcsRUFBQXdELEVBQUF2RixHQUVBQyxFQUFBZ0IsT0FBQXNCLElBQ0F3RCxFQUFBeFEsWUFBQWdOLEVBQUFSLEdBRUFBLEVBR0EsUUFBQStHLEdBQUF0UixFQUFBdUssRUFBQS9CLEVBQUFGLEVBQUFDLEdBQ0EsT0FBQXRHLEdBQUEsRUFBQWlMLEVBQUFsTixFQUFBa0MsT0FBMENELEVBQUFpTCxFQUFTakwsSUFBQSxDQUNuRCxHQUFBeUUsR0FBQTFHLEVBQUFpQyxFQUVBd0csR0FBQXlCLFVBQUF4RCxLQUNBQSxFQUFBNkQsTUFDQXZLLEVBQUFpQyxHQUFBeUUsRUFBQXlELEVBQUFLLFlBQUE5RCxJQUVBeUUsRUFBQW5MLEVBQUFpQyxHQUFBc0ksRUFBQS9CLEVBQUFGLEVBQUFDLEtBS0EsUUFBQWdILEdBQUFwSCxFQUFBNEMsRUFBQXZDLEVBQUFGLEVBQUFDLEVBQUFrSixHQUNBLEdBQUEvSCxFQUFBckYsUUFBQTJJLGlCQUFBLENBQ0EsR0FBQW9OLEdBQUFGLEVBQUFHLGlCQUFBbFMsRUFBQUssRUFBQUYsRUFBQUMsRUFDQSxLQUFBRSxFQUFBZ0IsT0FBQTJRLEdBSUEsTUFIQTNSLEdBQUFnQixPQUFBc0IsSUFDQXdELEVBQUF4USxZQUFBZ04sRUFBQXFQLEdBRUFBLEVBR0EsR0FHQTdQLEdBSEE5TSxFQUFBMEssRUFBQTFLLEtBQ0E0SyxFQUFBRixFQUFBRSxPQUFBa0csRUFBQTVGLFVBQ0FvRixFQUFBNUYsRUFBQTRGLEdBRUEsSUFBQTBELEVBQUEsQ0FDQSxHQUFBN0ksR0FBQTJGLEVBQUFyRyw2QkFBQUMsRUFBQTFLLEVBQUE0SyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBb0IsRUFBQWhCLEVBQUErQixVQUNBL0IsR0FBQTJKLE9BQUFwSyxFQUNBQSxFQUFBb0MsTUFBQVksRUFBQXZCLEVBQUEsS0FBQXBCLEVBQUFJLEVBQUFXLGNBQUFoQixHQUNBRSxFQUFBZ0IsT0FBQXNCLElBQ0F3RCxFQUFBeFEsWUFBQWdOLEVBQUFSLEdBRUErUCxFQUFBblMsRUFBQTRGLEVBQUFuRixFQUFBSixHQUNBSSxFQUFBa0osV0FBQSxFQUNBcEksRUFBQXJGLFFBQUFzSixvQkFDQTZFLEVBQUFDLHNCQUFBN1IsSUFBQWdJLEVBQUEyQixPQUdBLENBQ0EsR0FBQVgsR0FBQTJFLEVBQUFoRCwrQkFBQXBELEVBQUExSyxFQUFBNEssRUFBQUMsRUFDQUgsR0FBQW9DLE1BQUFZLEVBQUF2QixFQUFBLEtBQUFwQixFQUFBRixFQUFBQyxHQUNBSixFQUFBbkksU0FBQTRKLEVBQ0EyUSxFQUFBeE0sRUFBQXhELEVBQUEvQixHQUNBQyxFQUFBZ0IsT0FBQXNCLElBQ0F3RCxFQUFBeFEsWUFBQWdOLEVBQUFSLEdBR0EsTUFBQUEsR0FHQSxRQUFBK1AsR0FBQW5TLEVBQUE0RixFQUFBbkYsRUFBQUosR0FDQXVGLElBQ0F0RixFQUFBOE4sV0FBQXhJLEdBQ0FBLEVBQUFuRixHQWNBSCxFQUFBd0IsYUFHQSxJQUFBdVEsSUFBQS9SLEVBQUFDLFlBQUFFLEVBQUE2UixtQkFDQWxOLEVBQUE3RCxFQUFBckYsUUFBQWtKLFlBQ0FpTixHQUFBL1IsRUFBQWdCLE9BQUE4RCxJQUNBL0UsRUFBQWtTLFlBQUEsV0FDQTlSLEVBQUFrSixXQUFBLEVBQ0F2RSxHQUNBQSxFQUFBcEYsR0FFQXFTLEdBQ0E1UixFQUFBNlIsb0JBRUE3UixFQUFBa0osV0FBQSxJQUtBLFFBQUF5SSxHQUFBeE0sRUFBQXhELEVBQUEvQixHQUNBdUYsSUFDQXRGLEVBQUFhLGNBQUF5RSxFQUFBNE0sdUJBQ0E1TSxFQUFBNE0sdUJBRUFsUyxFQUFBYSxjQUFBeUUsRUFBQTZNLHNCQUNBcFMsRUFBQWtTLFlBQUEsV0FBK0MsTUFBQTNNLEdBQUE2TSxvQkFBQXJRLE1BSy9DLFFBQUE0RyxHQUFBNUcsRUFBQTFKLEVBQUEySCxHQUNBLEdBQUFDLEVBQUE4TixXQUFBMVYsR0FDQTJILEVBQUFrUyxZQUFBLFdBQTJDLE1BQUE3WixHQUFBMEosU0FFM0MsQ0FDQSxHQUFBOUIsRUFBQXlCLFVBQUFySixHQUNBLE1BS0E0SCxHQUFBd0IsY0FqT0E3SixPQUFBSSxlQUFBNEcsRUFBQSxjQUE4Q3ZHLE9BQUEsR0FDOUMsSUFBQTRILEdBQUE3SyxFQUFBLEdBQ0E4TCxFQUFBOUwsRUFBQSxHQUNBdU0sRUFBQXZNLEVBQUEsR0FDQWthLEVBQUFsYSxFQUFBLEdBQ0FzYyxFQUFBdGMsRUFBQSxJQUNBNFUsRUFBQTVVLEVBQUEsR0FDQTJRLEVBQUEzUSxFQUFBLEdBQ0E4UyxFQUFBOVMsRUFBQSxHQTJCQXdKLEdBQUErRCxRQVNBL0QsRUFBQXVJLFlBU0F2SSxFQUFBeUksWUE0REF6SSxFQUFBcUksZUFhQXJJLEVBQUFrSyxxQkF3Q0FsSyxFQUFBbUksaUJBb0NBbkksRUFBQWtULCtCQVdBbFQsRUFBQW1ULG9DQWVBblQsRUFBQStKLFlYcXhFTSxTQUFVdk0sRUFBUXdDLEVBQVN4SixHWTEvRWpDZ0gsRUFBQXdDLFFBQUF4SixFQUFBLElBQUFxSyxRQUNBckQsRUFBQXdDLFFBQUFhLFFBQUFyRCxFQUFBd0MsU1prZ0ZNLFNBQVV4QyxFQUFRd0MsRUFBU3hKLEdBRWpDLFlhNy9FQSxTQUFBeU4sR0FBQWxELEVBQUE0QyxFQUFBdkMsRUFBQXFTLEVBQUE3UCxHQUNBLEdBQUFQLEdBQUF0QyxFQUFBc0MsS0FDQSxJQUFBQSxFQUNBcVEsRUFBQTNTLEVBQUE0QyxFQUFBdkMsRUFBQXFTLEVBQUE3UCxHQUVBLEtBQUFQLEVBQ0FzUSxFQUFBNVMsRUFBQTRDLEVBQUF2QyxFQUFBcVMsRUFBQTdQLEdBRUEsS0FBQVAsR0FDQXVRLEVBQUE3UyxFQUFBNEMsR0FJQSxRQUFBaVEsR0FBQTdTLEVBQUE0QyxHQUNBdEMsRUFBQWdCLE9BQUFzQixJQUNBd0QsRUFBQXpCLFlBQUEvQixFQUFBNUMsRUFBQW9DLEtBR0EsUUFBQXVRLEdBQUEzUyxFQUFBNEMsRUFBQXZDLEVBQUFxUyxFQUFBN1AsR0FDQSxHQUFBcEMsR0FBQVQsRUFBQW5JLFNBQ0F5SyxFQUFBdEMsRUFBQXNDLE1BQ0F3RCxFQUFBLEVBQUF4RCxFQUNBc0QsRUFBQTVGLEVBQUE0RixJQUNBeEQsRUFBQXBDLEVBQUFvQyxHQThCQSxJQTdCQVMsSUFDQWlELEVBQ0FyRixFQUFBRyxhQUNBSCxFQUFBQyxnQkFBQSxFQUNBSixFQUFBZ0IsT0FBQUMsRUFBQXJGLFFBQUFvSixnQkFDQS9ELEVBQUFyRixRQUFBb0osY0FBQXRGLEdBRUFNLEVBQUFDLFlBQUFFLEVBQUE0USx1QkFDQTVRLEVBQUE0USx1QkFFQXpMLElBQUEvQyxHQUNBK0MsRUFBQSxNQUVBbkYsRUFBQUcsWUFBQSxFQUNBVyxFQUFBckYsUUFBQXNKLG9CQUNBNkUsRUFBQUMsc0JBQUF3SSxPQUFBclMsR0FFQXlDLEVBQUF6QyxFQUFBK0IsV0FBQSxLQUFBL0IsRUFBQUUsWUFBQSxFQUFBa0MsS0FJQXZDLEVBQUFhLGNBQUF5RSxJQUNBdEYsRUFBQWEsY0FBQXlFLEVBQUFtTix5QkFDQW5OLEVBQUFtTix1QkFBQTNRLEdBR0FjLEVBQUF6QyxFQUFBLEtBQUFKLEdBQUEsRUFBQXdDLEtBR0FELEVBQUEsQ0FDQSxHQUFBRixHQUFBakMsRUFBQStCLFVBQ0FsQyxHQUFBYSxjQUFBdUIsS0FDQUEsRUFBQWpDLEdBRUEyRixFQUFBekIsWUFBQS9CLEVBQUFSLEdBRUFiLEVBQUFyRixRQUFBMkksbUJBQUFpQixJQUFBbEQsR0FBQThQLElBQ0FYLEVBQUFpQixjQUFBaFQsR0FJQSxRQUFBNFMsR0FBQTVTLEVBQUE0QyxFQUFBdkMsRUFBQXFTLEVBQUE3UCxHQUNBLEdBQUFULEdBQUFwQyxFQUFBb0MsSUFDQXdELEVBQUE1RixFQUFBNEYsSUFDQTFGLEVBQUFGLEVBQUFFLEtBQ0EwRixLQUFBL0MsR0FDQW9RLEVBQUFyTixFQUVBLElBQUEvTixHQUFBbUksRUFBQW5JLFFBSUEsSUFIQXlJLEVBQUFhLGNBQUF0SixJQUNBOFAsRUFBQTlQLEVBQUF3SSxFQUFBd0MsSUFFQXZDLEVBQUFnQixPQUFBcEIsR0FDQSxPQUFBZ1QsS0FBQWhULEdBRUEsT0FBQUEsRUFBQWdULElBQUF2RCxFQUFBN0MsY0FBQW9HLEtBQ0F2RCxFQUFBckMsV0FBQTRGLEVBQUFoVCxFQUFBZ1QsR0FBQSxLQUFBOVEsR0FFQWxDLEVBQUFnVCxHQUFBLEtBSUE1UyxHQUFBZ0IsT0FBQXNCLElBQ0F3RCxFQUFBekIsWUFBQS9CLEVBQUFSLEdBRUFiLEVBQUFyRixRQUFBMkksbUJBQUFqQyxHQUFBOFAsSUFDQVgsRUFBQW9CLFlBQUFuVCxHQUlBLFFBQUEySCxHQUFBOVAsRUFBQXdJLEVBQUF3QyxHQUNBLEdBQUF2QyxFQUFBdUIsUUFBQWhLLEdBQ0EsT0FBQWlDLEdBQUEsRUFBQWlMLEVBQUFsTixFQUFBa0MsT0FBOENELEVBQUFpTCxFQUFTakwsSUFBQSxDQUN2RCxHQUFBeUUsR0FBQTFHLEVBQUFpQyxJQUNBd0csRUFBQXlCLFVBQUF4RCxJQUFBK0IsRUFBQTZKLFNBQUE1TCxJQUNBMkUsRUFBQTNFLEVBQUEsS0FBQThCLEdBQUEsRUFBQXdDLE9BSUF2QyxHQUFBNkosU0FBQXRTLElBQ0FxTCxFQUFBckwsRUFBQSxLQUFBd0ksR0FBQSxFQUFBd0MsR0FHQSxRQUFBb1EsR0FBQXJOLEdBQ0EsR0FBQXRGLEVBQUE4TixXQUFBeEksR0FDQUEsRUFBQSxVQUVBLENBQ0EsR0FBQXRGLEVBQUF5QixVQUFBNkQsR0FDQSxNQUtBdEYsR0FBQXdCLGNBN0hBN0osT0FBQUksZUFBQTRHLEVBQUEsY0FBOEN2RyxPQUFBLEdBQzlDLElBQUE0SCxHQUFBN0ssRUFBQSxHQUNBOEwsRUFBQTlMLEVBQUEsR0FDQWthLEVBQUFsYSxFQUFBLEdBQ0FzYyxFQUFBdGMsRUFBQSxJQUNBNFUsRUFBQTVVLEVBQUEsR0FDQTJRLEVBQUEzUSxFQUFBLEVBYUF3SixHQUFBaUUsVUFvREFqRSxFQUFBMFQsbUJBNkJBMVQsRUFBQTJULGtCYnNpRk0sU0FBVW5XLEVBQVF3QyxFQUFTeEosR0FFakMsWWNsb0ZBLFNBQUFtVCxHQUFBdEcsRUFBQXRDLEVBQUFvQyxFQUFBZ0csRUFBQWdMLEVBQUFDLEdBQ0EsSUFBQS9RLEdBQ0FnUixFQUFBQyxhQUFBdlQsRUFBQW9DLEVBQUFnRyxFQUFBZ0wsRUFBQUMsR0FFQSxLQUFBL1EsR0FDQWtSLEVBQUFDLGNBQUF6VCxFQUFBb0MsRUFBQWdHLEVBQUFnTCxFQUFBQyxHQUVBLEtBQUEvUSxHQUNBb1IsRUFBQUMsZ0JBQUEzVCxFQUFBb0MsRUFBQWdHLEVBQUFnTCxFQUFBQyxHQUlBLFFBQUE3SyxHQUFBSixHQUNBLE1BQUFBLEdBQUE5UyxNQUFBZ2UsRUFBQU0sY0FBQXhMLEVBQUE5UyxPQUFBZ0wsRUFBQWEsY0FBQWlILEVBQUF5TCxVQUFBdlQsRUFBQWEsY0FBQWlILEVBQUExUCxPQXZCQVQsT0FBQUksZUFBQTRHLEVBQUEsY0FBOEN2RyxPQUFBLEdBQzlDLElBQUE0SCxHQUFBN0ssRUFBQSxHQUNBNmQsRUFBQTdkLEVBQUEsSUFDQStkLEVBQUEvZCxFQUFBLElBQ0FpZSxFQUFBamUsRUFBQSxHQWlCQXdKLEdBQUEySixpQkFJQTNKLEVBQUF1SiwyQmRtcEZNLFNBQVUvTCxFQUFRd0MsRUFBU3hKLEdBRWpDLFllN3FGQXdKLEdBQUFTLFlBQUEsQ0FDQVQsR0FBQTZVLGdCQUFBLFNBQUExQyxHQUNBLFlBQUFBLEVBQUEyQyxPQUFBLEdBQUEzQyxFQUFBLElBQUFBLEdBR0FuUyxFQUFBK1Usa0JBQUEsU0FBQTVDLEdBQ0EsWUFBQUEsRUFBQTJDLE9BQUEsR0FBQTNDLEVBQUE2QyxPQUFBLEdBQUE3QyxHQUdBblMsRUFBQWlWLFlBQUEsU0FBQTlDLEVBQUErQyxHQUNBLFdBQUEvQyxFQUFBM1osUUFBQTBjLEdBQUEvQyxFQUFBNkMsT0FBQUUsRUFBQXBhLFFBQUFxWCxHQUdBblMsRUFBQW1WLG1CQUFBLFNBQUFoRCxHQUNBLFlBQUFBLEVBQUEyQyxPQUFBM0MsRUFBQXJYLE9BQUEsR0FBQXFYLEVBQUFyVSxNQUFBLE1BQUFxVSxHQUdBblMsRUFBQW9WLFVBQUEsU0FBQWpELEdBQ0EsR0FBQWtELEdBQUFsRCxHQUFBLElBQ0FtRCxFQUFBLEdBQ0FDLEVBQUEsR0FFQUMsRUFBQUgsRUFBQTdjLFFBQUEsTUFDQSxJQUFBZ2QsSUFDQUQsRUFBQUYsRUFBQUwsT0FBQVEsR0FDQUgsSUFBQUwsT0FBQSxFQUFBUSxHQUdBLElBQUFDLEdBQUFKLEVBQUE3YyxRQUFBLElBUUEsUUFQQSxJQUFBaWQsSUFDQUgsRUFBQUQsRUFBQUwsT0FBQVMsR0FDQUosSUFBQUwsT0FBQSxFQUFBUyxJQUdBSixFQUFBSyxVQUFBTCxJQUdBQSxXQUNBQyxPQUFBLE1BQUFBLEVBQUEsR0FBQUEsRUFDQUMsS0FBQSxNQUFBQSxFQUFBLEdBQUFBLElBSUF2VixFQUFBMlYsV0FBQSxTQUFBQyxHQUNBLEdBQUFQLEdBQUFPLEVBQUFQLFNBQ0FDLEVBQUFNLEVBQUFOLE9BQ0FDLEVBQUFLLEVBQUFMLEtBR0FwRCxFQUFBMEQsVUFBQVIsR0FBQSxJQU1BLE9BSkFDLElBQUEsTUFBQUEsSUFBQW5ELEdBQUEsTUFBQW1ELEVBQUFSLE9BQUEsR0FBQVEsRUFBQSxJQUFBQSxHQUVBQyxHQUFBLE1BQUFBLElBQUFwRCxHQUFBLE1BQUFvRCxFQUFBVCxPQUFBLEdBQUFTLEVBQUEsSUFBQUEsR0FFQXBELElmcXJGTSxTQUFVM1UsRUFBUXdDLEVBQVN4SixHZ0I5dUZqQ2dILEVBQUF3QyxRQUFBeEosRUFBQSxJQUFBcUssUUFDQXJELEVBQUF3QyxRQUFBYSxRQUFBckQsRUFBQXdDLFNoQnN2Rk0sU0FBVXhDLEVBQVF3QyxFQUFTeEosR0FFakMsWWlCNXVGQSxTQUFBc2YsR0FBQUMsRUFBQW5kLEVBQUFvZCxHQUNBLE1BQUFDLEdBQUEzUCxZQUFBLE1BQUF5UCxFQUFBbmQsRUFBQW9kLEdBRUEsUUFBQUUsR0FBQWpWLEVBQUFrVixHQUNBLEdBRUFKLEdBRkEvRCxFQUFBbUUsRUFBQW5FLE9BQ0FvRSxFQUFBblYsRUFBQW1WLGdCQUFBQyxFQUFBcFYsRUFBQW9WLFlBQUEzUCxFQUFBekYsRUFBQXlGLFVBQUE0UCxFQUFBclYsRUFBQXFWLFFBQUExZCxFQUFBcUksRUFBQXJJLFNBQUEyZCxFQUFBdFYsRUFBQXNWLEdBQUFQLEVBQUFRLEVBQUF2VixHQUFBLHVFQUtBLE9BSEF5RixLQUNBcVAsRUFBQXJQLEdBRUFzTCxHQVFBZ0UsRUFBQVMsS0FBQXBWLEVBQUF3UCxVQUFBbUIsRUFBQTBFLFlBQXNFckIsU0FBQWtCLElBQWV2RSxFQUFBNEQsU0FBQWUsUUFBQTNFLEVBQUE0RCxTQUFBZSxRQUFBSixJQUNyRnZFLEVBQUE0RCxTQUFBUCxXQUFBa0IsSUFDQUgsSUFDQUwsR0FBQXJQLElBQUEsUUFBQTBQLEdBRUFDLElBQ0FMLEVBQUF2RyxNQUFBcE8sRUFBQWUsWUFBQW5CLEVBQUF3TyxNQUFBNEcsS0FHQUwsRUFBQVksUUFBQSxTQUFBN2UsR0FDQSxJQUFBQSxFQUFBOGUsUUFBQTllLEVBQUErZSxTQUFBL2UsRUFBQWdmLFFBQUFoZixFQUFBaWYsU0FBQWpmLEVBQUFrZixXQUdBbGYsRUFBQW1mLGlCQUNBLGtCQUFBWixJQUNBQSxFQUFBdmUsR0FFQWlhLEVBQUF2WixLQUFBOGQsRUFBQXhlLEVBQUFvZixPQUFBNVMsZUFFQXVSLEVBQUFDLEVBQUFuZCxFQUFBb2QsS0F2QkFBLEVBQUFTLEtBQUFGLEVBQ0FQLEVBQUFNLFVBQ0FSLEVBQUFDLEVBQUFuZCxFQUFBb2QsSUE1QkEsR0FBQVEsR0FBQXJXLFdBQUFxVyxRQUFBLFNBQUE1VixFQUFBN0ksR0FDQSxHQUFBcWYsS0FDQSxRQUFBM2dCLEtBQUFtSyxHQUFBNUgsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQXlILEVBQUFuSyxJQUFBc0IsRUFBQVMsUUFBQS9CLEdBQUEsSUFDQTJnQixFQUFBM2dCLEdBQUFtSyxFQUFBbkssR0FDQSxVQUFBbUssR0FBQSxrQkFBQTVILFFBQUFxZSxzQkFDQSxPQUFBeGMsR0FBQSxFQUFBcEUsRUFBQXVDLE9BQUFxZSxzQkFBQXpXLEdBQTREL0YsRUFBQXBFLEVBQUFxRSxPQUFjRCxJQUFBOUMsRUFBQVMsUUFBQS9CLEVBQUFvRSxJQUFBLElBQzFFdWMsRUFBQTNnQixFQUFBb0UsSUFBQStGLEVBQUFuSyxFQUFBb0UsSUFDQSxPQUFBdWMsR0FFQXBlLFFBQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBd2MsR0FBQXpmLEVBQUEsR0FDQTZLLEVBQUE3SyxFQUFBLEVBd0NBd0osR0FBQWEsUUFBQXFWLEdqQit2Rk0sU0FBVTFZLEVBQVF3QyxFQUFTeEosR0FFakMsWWtCcHpGQSxJQUFBdWEsR0FBQTVRLFdBQUE0USxXQUFBLFdBQ0EsR0FBQUMsR0FBQWhZLE9BQUFpWSxpQkFDVUMsdUJBQWdCakUsUUFBQSxTQUFBNU0sRUFBQWpELEdBQXNDaUQsRUFBQTZRLFVBQUE5VCxJQUNoRSxTQUFBaUQsRUFBQWpELEdBQXlCLE9BQUEzRyxLQUFBMkcsS0FBQWxFLGVBQUF6QyxLQUFBNEosRUFBQTVKLEdBQUEyRyxFQUFBM0csSUFDekIsaUJBQUE0SixFQUFBakQsR0FFQSxRQUFBK1QsS0FBdUJoUixLQUFBaVIsWUFBQS9RLEVBRHZCMlEsRUFBQTNRLEVBQUFqRCxHQUVBaUQsRUFBQXBILFVBQUEsT0FBQW1FLEVBQUFwRSxPQUFBcVksT0FBQWpVLElBQUErVCxFQUFBbFksVUFBQW1FLEVBQUFuRSxVQUFBLEdBQUFrWSxPQUdBblksUUFBQUksZUFBQTRHLEVBQUEsY0FBOEN2RyxPQUFBLEdBQzlDLElBQUE2WCxHQUFBOWEsRUFBQSxJQUNBOGdCLEVBQUEsU0FBQTVGLEdBRUEsUUFBQTRGLEdBQUFyVyxFQUFBQyxHQU9BLE1BTkF3USxHQUFBdlksS0FBQWdILEtBQUFjLEVBQUFDLElBQUFmLEtBcUJBLE1BdkJBNFEsR0FBQXVHLEVBQUE1RixHQVVBNEYsRUFBQXJlLFVBQUFnSixnQkFBQSxXQUNBLE9BQ0ErUCxPQUFBN1IsS0FBQWMsTUFBQStRLFNBQ0E0RCxVQUNBZSxRQUFBeFcsS0FBQWMsTUFBQTBWLFFBQ0F0QixTQUFBbFYsS0FBQWMsTUFBQTJVLGFBS0EwQixFQUFBcmUsVUFBQXdKLE9BQUEsU0FBQXhCLEdBQ0EsTUFBQUEsR0FBQXNXLFNBRUFELEdBQ0NoRyxFQUFBelEsUUFDRGIsR0FBQWEsUUFBQXlXLEdsQjJ6Rk0sU0FBVTlaLEVBQVF3QyxFQUFTeEosR0FFakMsWW1CdjFGQSxTQUFBZ2hCLEdBQUFDLEVBQUFDLEdBQ0EsR0FBQTlCLEdBQUF6TyxFQUFBd1EsYUFBQUQsRUFDQSxPQUFBRSxHQUFBdlcsRUFBQXdXLFFBQUFKLEdBQUE1QixVQUFBRCxHQUFBLEtBWUEsUUFBQWdDLEdBQUFFLEVBQUFKLEVBQUFLLEVBQUFDLE9BQ0EsS0FBQU4sSUFBZ0NBLEVBQUEsU0FDaEMsS0FBQUssSUFBZ0NBLEVBQUEsU0FDaEMsS0FBQUMsSUFBOEJBLEdBQUEsRUFDOUIsSUFBQVAsR0FBQXBXLEVBQUF1QixRQUFBa1YsR0FBQTNRLEVBQUE4USxRQUFBSCxHQUFBelcsRUFBQXdXLFFBQUFDLEdBQ0EzQixFQUFBdUIsRUFBQVEsTUFBQSxLQUFBQyxFQUFBaEMsRUFBQSxHQUFBaUMsTUFBQSxLQUFBRCxFQUFBLElBQUFBLEVBQUFFLEVBQUFsQyxFQUFBLEdBQUFiLE1BQUEsS0FBQStDLEVBQUEsR0FBQUEsRUFDQUMsRUFBQW5SLEVBQUFvUixnQkFBQWpELEVBQ0FtQyxHQUFBZSxLQUFBclIsRUFBQXNSLGFBQ0EsUUFBQTVkLEdBQUEsRUFBQWlMLEVBQUEyUixFQUFBM2MsT0FBd0NELEVBQUFpTCxFQUFTakwsSUFBQSxDQUNqRCxHQUFBNmQsR0FBQWpCLEVBQUE1YyxHQUNBb0csRUFBQXlYLEVBQUF6WCxPQUFBa0csRUFBQXdSLFlBQ0FDLEVBQUEzWCxFQUFBNFgsTUFBQTVYLEVBQUFrUixNQUFBLElBQ0EyRyxFQUFBZixFQUFBNVEsRUFBQTRSLGFBQUFILEVBQUFiLEdBQUFpQixRQUFBLGFBQ0FDLEVBQUE5UixFQUFBK1IsUUFBQWpZLEVBQUFySSxVQUNBdWdCLEVBQUFDLEVBQUFILEVBQUFILEVBQUFWLEVBQ0EsSUFBQWUsRUFBQSxDQUNBLEdBQUF2Z0IsR0FBQXFJLEVBQUFySSxRQUlBLElBSEFxSSxFQUFBNFgsT0FDQWIsRUFBQS9XLEVBQUFzVixJQUVBM2QsRUFBQSxDQUNBLEdBQUF5Z0IsR0FBQXpCLEVBQUFoZixFQUFBOGUsRUFBQW9CLEVBQUFkLEVBQ0EsSUFBQXFCLEVBQUEsQ0FDQSxHQUFBQSxFQUFBckIsU0FDQSxPQUNBcEMsU0FBQWtELEVBQ0FkLFNBQUFxQixFQUFBckIsU0FHQXBmLEdBQUF5Z0IsRUFBQTlCLE9BQ0EsSUFBQStCLEdBQUExZ0IsRUFBQXFJLE1BQUFxWCxNQUNBLFFBQUFwUyxLQUFBb1QsR0FDQWhCLEVBQUFwUyxHQUFBb1QsRUFBQXBULE9BSUF0TixHQUFBLEtBT0EsT0FDQWdkLFNBQUFrRCxFQUNBZCxXQUNBVCxRQVBBdEIsRUFBQXBWLFFBQUEyRyxXQUFBa1IsR0FDQUosT0FBQWpYLEVBQUFlLFlBQUFrVyxFQUFBYSxFQUFBYixRQUNBMWYsZ0JBaUJBLFFBQUF3Z0IsR0FBQUcsRUFBQVgsRUFBQVIsR0FDQSxHQUFBbFMsR0FBQTBTLEVBQUEsSUFBQVcsRUFDQUMsRUFBQUMsRUFBQWxnQixJQUFBMk0sRUFDQSxhQUFBc1QsRUFBQSxDQUNBLEdBQUFyYSxLQUNBcWEsSUFBa0JFLFFBQUFDLEVBQUE5WSxRQUFBK1gsRUFBQXpaLEdBQXlEb2EsUUFBV3BhLFFBQ3RGc2EsRUFBQWpnQixJQUFBME0sRUFBQXNULEdBRUEsR0FBQXBaLEdBQUFvWixFQUFBRSxRQUFBRSxLQUFBeEIsRUFDQSxLQUFBaFksRUFDQSxXQUlBLFFBRkErUixHQUFBL1IsRUFBQSxHQUNBa1ksRUFBQXRmLE9BQUFxWSxPQUFBLE1BQ0F4VyxFQUFBLEVBQUFpTCxFQUFBMUYsRUFBQXRGLE9BQW1DRCxFQUFBaUwsRUFBU2pMLEdBQUEsRUFDNUN5ZCxFQUFBa0IsRUFBQXJhLEtBQUF0RSxFQUFBLEdBQUE5QixNQUFBb08sRUFBQTBTLE9BQUF6WixFQUFBdkYsR0FFQSxRQUNBc1gsS0FBQSxLQUFBQSxFQUFBLElBQUFBLEVBQ0FtRyxVQXZHQXRmLE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBd2MsR0FBQXpmLEVBQUEsR0FDQTZLLEVBQUE3SyxFQUFBLEdBQ0FtakIsRUFBQW5qQixFQUFBLElBQ0EyUSxFQUFBM1EsRUFBQSxJQUNBaWpCLEVBQUEsR0FBQW5NLElBV0F0TixHQUFBYSxRQUFBMlcsRUEwRkF4WCxFQUFBb1osYW5CMDJGTSxTQUFVNWIsRUFBUXdDLEVBQVN4SixHQUVqQyxZb0JuOUZBLFNBQUFxakIsR0FBQUMsR0FDQSxzQkFBQUEsS0FBQUMsbUJBQUFELEdBR0EsUUFBQVosR0FBQXRnQixHQUNBLE9BQUFBLEtBQUF5SSxFQUFBdUIsUUFBQWhLLEtBQUFJLE9BQUFtRyxLQUFBdkcsSUFBQWtDLE9BR0EsUUFBQW1kLEdBQUErQixHQUNBLEdBQUFDLEtBRUEsT0FEQUMsR0FBQUYsRUFBQUMsR0FDQUEsRUFHQSxRQUFBdEMsR0FBQS9CLEdBQ0EsTUFBQXZVLEdBQUFxTyxTQUFBa0csT0FBQVAsU0FBQU8sRUFBQU4sT0FTQSxRQUFBaUQsR0FBQWpELEdBQ0EsUUFBQUEsRUFDQSxRQUtBLFFBRkF2WCxHQUFBL0UsT0FBQXFZLE9BQUEsTUFDQThJLEVBQUE3RSxFQUFBNEMsTUFBQSxLQUNBcmQsRUFBQSxFQUFBaUwsRUFBQXFVLEVBQUFyZixPQUEyQ0QsRUFBQWlMLEVBQVNqTCxJQUFBLENBQ3BELEdBQUF1ZixHQUFBRCxFQUFBdGYsR0FDQXNiLEVBQUFpRSxFQUFBbEMsTUFBQSxLQUFBbmEsSUFBQXNjLEdBQUF0YyxJQUFBZ2Msb0JBQUFPLEVBQUFuRSxFQUFBLEdBQUF4SSxFQUFBd0ksRUFBQSxFQUNBcFksR0FBQXVjLElBQ0F2YyxFQUFBdWMsR0FBQWpaLEVBQUF1QixRQUFBN0UsRUFBQXVjLElBQUF2YyxFQUFBdWMsSUFBQXZjLEVBQUF1YyxJQUNBdmMsRUFBQXVjLEdBQUE3aEIsS0FBQWtWLElBR0E1UCxFQUFBdWMsR0FBQTNNLEVBR0EsTUFBQTVQLEdBU0EsUUFBQWdiLEdBQUF3QixFQUFBQyxHQUNBLFdBQUFELEVBQUEvaEIsUUFBQWdpQixHQUNBRCxFQUFBdkYsT0FBQXdGLEVBQUExZixRQUVBeWYsRUFVQSxRQUFBaEksR0FBQUQsRUFBQW1JLEdBQ0EsR0FBQXJELEtBQ0EsUUFBQTNnQixLQUFBNmIsR0FDQW1JLEVBQUFqaUIsUUFBQS9CLEdBQUEsSUFDQTJnQixFQUFBM2dCLEdBQUE2YixFQUFBN2IsR0FHQSxPQUFBMmdCLEdBU0EsUUFBQXFCLEdBQUF0YixFQUFBQyxHQUNBLEdBQUFzZCxHQUFBdmQsRUFBQThELE9BQUFqQixFQUFBMlksWUFDQWdDLEVBQUF2ZCxFQUFBNkQsT0FBQWpCLEVBQUEyWSxXQUVBLE9BREFpQyxHQUFBRCxFQUFBeEksTUFBQXlJLEVBQUFGLEVBQUF2SSxRQUNBd0ksRUFBQXhJLE1BQUF1SSxFQUFBdkksS0FBQXdJLEVBQUF4SSxLQUFBclgsT0FBQTRmLEVBQUF2SSxLQUFBclgsT0FBQSxHQU1BLFFBQUF1ZixHQUFBNWpCLEVBQUFva0IsR0FDQSxNQUFBZCxvQkFBQSxFQUFBYyxFQUFBcGtCLElBQUF1aUIsUUFBQSxVQUVBLFFBQUE4QixHQUFBQyxHQUNBLE1BQUFBLEdBQUEvQixRQUFBLG1CQUVBLFFBQUE0QixHQUFBRyxHQUVBLFdBREEsS0FBQUEsSUFBeUJBLEVBQUEsS0FDekJELEVBQUFDLEdBQUF2RCxNQUFBLGFBQUExYyxPQUVBLFFBQUFvZixHQUFBRixFQUFBQyxHQUNBLE9BQUFwZixHQUFBLEVBQUFpTCxFQUFBa1UsRUFBQWxmLE9BQTBDRCxFQUFBaUwsRUFBU2pMLElBQUEsQ0FDbkQsR0FBQXdDLEdBQUEyYyxFQUFBbmYsRUFDQXdHLEdBQUF1QixRQUFBdkYsR0FDQTZjLEVBQUE3YyxFQUFBNGMsR0FHQUEsRUFBQXhoQixLQUFBNEUsSUEvR0FyRSxPQUFBSSxlQUFBNEcsRUFBQSxjQUE4Q3ZHLE9BQUEsR0FDOUMsSUFBQTRILEdBQUE3SyxFQUFBLEVBQ0F3SixHQUFBMlksZUFJQTNZLEVBQUE2WixTQUlBN1osRUFBQWtaLFVBTUFsWixFQUFBaVksVUFJQWpZLEVBQUEyWCxlQTJCQTNYLEVBQUF1WSxrQkFhQXZZLEVBQUErWSxlQWlCQS9ZLEVBQUF1UyxPQWFBdlMsRUFBQXlZLGdCcEJxL0ZNLFNBQVVqYixFQUFRd0MsRUFBU3hKLEdBRWpDLFlxQjVrR0EsU0FBQXVjLEdBQUFoUyxFQUFBSyxFQUFBRixFQUFBQyxHQUNBLEdBQUE4RCxHQUFBbEUsRUFBQTFLLEtBQ0Eya0IsRUFBQUMsRUFBQTFoQixJQUFBMEwsRUFDQSxLQUFBNUQsRUFBQUMsWUFBQTBaLEdBQUEsQ0FDQSxHQUFBOVUsR0FBQW5GLEVBQUFtRixJQUNBZ1YsRUFBQSxPQUFBaFYsRUFBQThVLEVBQUFHLFNBQUFILEVBQUFJLE1BQUE3aEIsSUFBQTJNLEVBQ0EsS0FBQTdFLEVBQUFDLFlBQUE0WixHQUFBLENBQ0EsR0FBQUcsR0FBQUgsRUFBQWhkLEtBQ0EsS0FBQW1ELEVBQUFDLFlBQUErWixHQUVBLE1BREEzSyxHQUFBdEksYUFBQWlULEVBQUF0YSxFQUFBLEtBQUFLLEVBQUFGLEVBQUFDLEdBQUEsR0FDQUosRUFBQW9DLEtBSUEsWUFHQSxRQUFBK1EsR0FBQW5ULEdBQ0EsR0FBQWtFLEdBQUFsRSxFQUFBMUssS0FDQTZQLEVBQUFuRixFQUFBbUYsSUFDQThVLEVBQUFDLEVBQUExaEIsSUFBQTBMLEVBUUEsSUFQQTVELEVBQUFDLFlBQUEwWixLQUNBQSxHQUNBSSxNQUFBLEdBQUE5TixLQUNBNk4sYUFFQUYsRUFBQXpoQixJQUFBeUwsRUFBQStWLElBRUEzWixFQUFBZ0IsT0FBQTZELEdBQ0E4VSxFQUFBRyxTQUFBMWlCLEtBQUFzSSxPQUVBLENBQ0EsR0FBQW1hLEdBQUFGLEVBQUFJLE1BQUE3aEIsSUFBQTJNLEVBQ0E3RSxHQUFBQyxZQUFBNFosS0FDQUEsS0FDQUYsRUFBQUksTUFBQTVoQixJQUFBME0sRUFBQWdWLElBRUFBLEVBQUF6aUIsS0FBQXNJLElBSUEsUUFBQWtTLEdBQUFsUyxFQUFBSyxFQUFBRixFQUFBQyxHQUNBLEdBQUE5SyxHQUFBMEssRUFBQTFLLEtBQ0Eya0IsRUFBQU0sRUFBQS9oQixJQUFBbEQsRUFDQSxLQUFBZ0wsRUFBQUMsWUFBQTBaLEdBQUEsQ0FDQSxHQUFBOVUsR0FBQW5GLEVBQUFtRixJQUNBZ1YsRUFBQSxPQUFBaFYsRUFBQThVLEVBQUFHLFNBQUFILEVBQUFJLE1BQUE3aEIsSUFBQTJNLEVBQ0EsS0FBQTdFLEVBQUFDLFlBQUE0WixHQUFBLENBQ0EsR0FBQUcsR0FBQUgsRUFBQWhkLEtBQ0EsS0FBQW1ELEVBQUFDLFlBQUErWixHQUFBLENBQ0EsR0FBQWhZLEdBQUF0QyxFQUFBc0MsS0FFQSxLQURBcU4sRUFBQXhJLGVBQUFtVCxFQUFBdGEsRUFBQSxLQUFBSyxFQUFBRixFQUFBQyxFQUFBLEVBQUFrQyxHQUFBLEdBRUEsTUFBQXRDLEdBQUFvQyxNQUtBLFlBR0EsUUFBQTRRLEdBQUFoVCxHQUNBLEdBQUF3YSxHQUFBeGEsRUFBQTRGLEdBTUEsS0FMQTRVLE9BQUFoSSxzQkFDQWdJLEVBQUF6SCx3QkFDQXlILEVBQUEvSCxxQkFDQStILEVBQUE3UCx1QkFDQTZQLEVBQUE1UCxzQkFDQSxDQUdBLEdBQUF0VixHQUFBMEssRUFBQTFLLEtBQ0E2UCxFQUFBbkYsRUFBQW1GLElBQ0E4VSxFQUFBTSxFQUFBL2hCLElBQUFsRCxFQVFBLElBUEFnTCxFQUFBQyxZQUFBMFosS0FDQUEsR0FDQUksTUFBQSxHQUFBOU4sS0FDQTZOLGFBRUFHLEVBQUE5aEIsSUFBQW5ELEVBQUEya0IsSUFFQTNaLEVBQUFnQixPQUFBNkQsR0FDQThVLEVBQUFHLFNBQUExaUIsS0FBQXNJLE9BRUEsQ0FDQSxHQUFBbWEsR0FBQUYsRUFBQUksTUFBQTdoQixJQUFBMk0sRUFDQTdFLEdBQUFDLFlBQUE0WixLQUNBQSxLQUNBRixFQUFBSSxNQUFBNWhCLElBQUEwTSxFQUFBZ1YsSUFFQUEsRUFBQXppQixLQUFBc0ksS0EvRkEvSCxPQUFBSSxlQUFBNEcsRUFBQSxjQUE4Q3ZHLE9BQUEsR0FDOUMsSUFBQTRILEdBQUE3SyxFQUFBLEdBQ0FrYSxFQUFBbGEsRUFBQSxHQUNBOGtCLEVBQUEsR0FBQWhPLEtBQ0EyTixFQUFBLEdBQUEzTixJQWlCQXROLEdBQUErUyxpQkF3QkEvUyxFQUFBa1UsY0FvQkFsVSxFQUFBaVQsbUJBaUNBalQsRUFBQStULGlCckJ3bEdNLFNBQVV2VyxFQUFRd0MsRUFBU3hKLEdBRWpDLFlzQnpyR0EsU0FBQWdsQixHQUFBdFYsRUFBQW5GLEdBRUEsTUFEQUEsR0FBQW1GLE1BQ0FuRixFQUVBLFFBQUEwYSxHQUFBdlYsRUFBQW5GLEdBSUEsTUFIQU0sR0FBQXVPLFNBQUExSixLQUNBQSxFQUFBLElBQUFBLEdBRUE3RSxFQUFBZ0IsT0FBQXRCLEVBQUFtRixNQUFBLE1BQUFuRixFQUFBbUYsSUFBQSxHQUNBc1YsRUFBQXRWLEVBQUFuRixHQUVBQSxFQUVBLFFBQUEyYSxHQUFBeFYsRUFBQW5GLEdBRUEsTUFEQUEsR0FBQW1GLE1BQUFuRixFQUFBbUYsSUFDQW5GLEVBRUEsUUFBQTRhLEdBQUFDLEVBQUE3ZSxFQUFBOGUsRUFBQUMsR0FDQSxPQUFBaFcsR0FBQThWLEVBQUE5Z0IsT0FBZ0MrZ0IsRUFBQS9WLEVBQWErVixJQUFBLENBQzdDLEdBQUFyYixHQUFBb2IsRUFBQUMsR0FDQTNWLEVBQUE0VixFQUFBLElBQUFELENBQ0F4YSxHQUFBeUIsVUFBQXRDLEtBQ0FhLEVBQUF1QixRQUFBcEMsR0FDQW1iLEVBQUFuYixFQUFBekQsRUFBQSxFQUFBbUosSUFHQTdFLEVBQUE0QixpQkFBQXpDLEdBQ0FBLEVBQUF1QyxFQUFBRyxnQkFBQTFDLEVBQUEsT0FFQXVDLEVBQUF3RSxRQUFBL0csTUFBQTJDLEtBQUEzQyxFQUFBMEYsS0FBQSxNQUFBMUYsRUFBQTBGLElBQUEsTUFDQTFGLEVBQUF1QyxFQUFBSyxZQUFBNUMsSUFHQUEsRUFEQWEsRUFBQWdCLE9BQUE3QixFQUFBMEYsTUFBQSxNQUFBMUYsRUFBQTBGLElBQUEsR0FDQXNWLEVBQUF0VixFQUFBMUYsR0FHQWtiLEVBQUFJLEVBQUF0YixHQUVBekQsRUFBQXRFLEtBQUErSCxNQUtBLFFBQUF1YixHQUFBSCxHQUNBLEdBQUFJLElBS0EsSUFBQUosRUFBQSxFQUNBQSxJQUFBOWQsUUFHQThkLEVBQUEsSUFHQSxRQUFBL2dCLEdBQUEsRUFBQWlMLEVBQUE4VixFQUFBOWdCLE9BQXVDRCxFQUFBaUwsRUFBU2pMLElBQUEsQ0FDaEQsR0FBQTJGLEdBQUFvYixFQUFBL2dCLEVBQ0EsSUFBQXdHLEVBQUF5QixVQUFBdEMsSUFBQWEsRUFBQXVCLFFBQUFwQyxHQUFBLENBQ0EsR0FBQXpELElBQUFpZixHQUFBSixHQUFBOWQsTUFBQSxFQUFBakQsRUFFQSxPQURBOGdCLEdBQUFDLEVBQUE3ZSxFQUFBbEMsRUFBQSxJQUNBa0MsRUFFQXNFLEVBQUE0QixpQkFBQXpDLElBQ0F3YixJQUNBQSxFQUFBSixFQUFBOWQsTUFBQSxFQUFBakQsSUFFQW1oQixFQUFBdmpCLEtBQUFnakIsRUFBQTVnQixFQUFBa0ksRUFBQUcsZ0JBQUExQyxFQUFBLFNBRUF1QyxFQUFBd0UsUUFBQS9HLElBQUEsT0FBQUEsRUFBQTJDLEtBQUE5QixFQUFBZ0IsT0FBQTdCLEVBQUEwRixNQUFBLE9BQUExRixFQUFBNkMsUUFDQTJZLElBQ0FBLEVBQUFKLEVBQUE5ZCxNQUFBLEVBQUFqRCxJQUVBbWhCLEVBQUF2akIsS0FBQWdqQixFQUFBNWdCLEVBQUFrSSxFQUFBSyxZQUFBNUMsTUFFQXdiLEdBQ0FBLEVBQUF2akIsS0FBQWdqQixFQUFBNWdCLEVBQUFrSSxFQUFBSyxZQUFBNUMsS0FHQSxNQUFBd2IsSUFBQUosRUFHQSxRQUFBSyxHQUFBcmpCLEdBQ0EsTUFBQXlJLEdBQUF1QixRQUFBaEssR0FDQW1qQixFQUFBbmpCLEdBRUFtSyxFQUFBd0UsUUFBQTNPLElBQUEsT0FBQUEsRUFBQXVLLElBQ0FKLEVBQUFLLFlBQUF4SyxHQUVBQSxFQUVBLFFBQUFzakIsR0FBQW5iLEVBQUFFLEVBQUFySSxHQUNBLEtBQUFtSSxFQUFBc0MsUUFDQWhDLEVBQUFhLGNBQUF0SixLQUFBeUksRUFBQWEsY0FBQWpCLEVBQUFySSxZQUNBbUksRUFBQW5JLFNBQUFxSSxFQUFBckksVUFFQXlJLEVBQUFhLGNBQUFqQixFQUFBeUYsYUFDQTNGLEVBQUEyRixVQUFBekYsRUFBQXlGLGdCQUNBekYsR0FBQXlGLFlBR0F6RixFQUFBMEYsTUFDQTVGLEVBQUE0RixJQUFBMUYsRUFBQTBGLFVBQ0ExRixHQUFBMEYsS0FFQXRGLEVBQUFhLGNBQUFqQixFQUFBaUYsT0FDQW5GLEVBQUFtRixJQUFBakYsRUFBQWlGLFVBQ0FqRixHQUFBaUYsS0FHQSxRQUFBaVcsR0FBQTlsQixHQUNBLGNBQUFBLEVBQ0EsSUFFQSxVQUFBQSxFQUNBLElBRUEsV0FBQUEsRUFDQSxLQUVBLGFBQUFBLEVBQ0EsS0FFQSxVQUFBQSxFQUNBLElBRUEsRUFHQSxRQUFBMFEsR0FBQWhHLEdBQ0EsR0FBQUUsR0FBQUYsRUFBQUUsTUFDQXJJLEVBQUFtSSxFQUFBbkksUUFHQSxPQUFBbUksRUFBQXNDLE1BQUEsQ0FFQSxHQUFBaE4sR0FBQTBLLEVBQUExSyxLQUNBK2xCLEVBQUEvbEIsRUFBQStsQixZQUNBLEtBQUEvYSxFQUFBYSxjQUFBa2EsR0FDQSxHQUFBbmIsRUFJQSxPQUFBdUksS0FBQTRTLEdBQ0EvYSxFQUFBQyxZQUFBTCxFQUFBdUksTUFDQXZJLEVBQUF1SSxHQUFBNFMsRUFBQTVTLFFBTEF2SSxHQUFBRixFQUFBRSxNQUFBbWIsQ0FVQS9hLEdBQUFxTyxTQUFBclosS0FDQTBLLEVBQUFzQyxNQUFBOFksRUFBQTlsQixHQUNBNEssS0FBQXJJLFdBQ0FtSSxFQUFBbkksU0FBQXFJLEVBQUFySSxTQUNBQSxFQUFBcUksRUFBQXJJLFdBSUFxSSxJQUNBaWIsRUFBQW5iLEVBQUFFLEVBQUFySSxHQUNBeUksRUFBQXlCLFVBQUE3QixFQUFBckksWUFDQXFJLEVBQUFySSxTQUFBcWpCLEVBQUFoYixFQUFBckksWUFHQXlJLEVBQUF5QixVQUFBbEssS0FDQW1JLEVBQUFuSSxTQUFBcWpCLEVBQUFyakIsSUF4S0FJLE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBNEgsR0FBQTdLLEVBQUEsR0FDQXVNLEVBQUF2TSxFQUFBLEVBa0ZBd0osR0FBQStiLGtCQStDQS9iLEVBQUFtYywwQkEyREFuYyxFQUFBK0csYXRCbXNHTSxTQUFVdkosRUFBUXdDLEVBQVN4SixHQUVqQyxZdUJsM0dBLElBQUE2bEIsR0FBQSxZQXlDQTdlLEdBQUF3QyxRQUFBcWMsR3ZCMDRHTSxTQUFVN2UsRUFBUXdDLEVBQVN4SixHQUVqQyxZQUdBd0MsUUFBT0ksZUFBZTRHLEVBQVMsY0FDN0J2RyxPQUFPLElBRVR1RyxFQUFRc2MsWUFBVXZnQixFQUVsQixJQUFJd2dCLEdBQVcvbEIsRUFBb0IsRXdCLzhHdEI4bEIsV0FBVSxXQUNyQixTQUFBQyxFQUFBalcsYUFBQSxxQkFBQWlXLEVBQUFqVyxhQUFBLDBCQUFBaVcsRUFBQWpXLGFBQUEsbXpFeEJzOUdJLFNBQVU5SSxFQUFRd0MsRUFBU3hKLEdBRWpDLFlBR0F3QyxRQUFPSSxlQUFlNEcsRUFBUyxjQUM3QnZHLE9BQU8sSUFFVHVHLEVBQVF3YyxlQUFhemdCLEVBRXJCLElBQUl3Z0IsR0FBVy9sQixFQUFvQixFeUJqK0d0QmdtQixjQUFhLFdBQ3hCLFNBQUFELEVBQUFqVyxhQUFBLHFCQUFBaVcsRUFBQWpXLGFBQUEsd0RBQUFpVyxFQUFBalcsYUFBQSxpWkFBQWlXLEVBQUFqVyxhQUFBLHVDQUFBaVcsRUFBQWpXLGFBQUEsbXNCQUFBaVcsRUFBQWpXLGFBQUEsaVhBQUFpVyxFQUFBalcsYUFBQSxza0RBQUFpVyxFQUFBalcsYUFBQSxVQUFBaVcsRUFBQWpXLGFBQUEsKzVCQUFBaVcsRUFBQWpXLGFBQUEsNFFBQUFpVyxFQUFBalcsYUFBQSx5dUJBQUFpVyxFQUFBalcsYUFBQSw0V0FBQWlXLEVBQUFqVyxhQUFBLGNBQUFpVyxFQUFBalcsYUFBQSxVQWtDbUIsNEJBbENuQixFQUFBaVcsRUFBQWpXLGFBQUEsa0JBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLHdDQUFBaVcsRUFBQWpXLGFBQUEsK0JBQUFpVyxFQUFBalcsYUFBQSxxQ0FBQWlXLEVBQUFqVyxhQUFBLGNBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLGlDQUFBaVcsRUFBQWpXLGFBQUEsMEJBQUFpVyxFQUFBalcsYUFBQSx3QkFBQWlXLEVBQUFqVyxhQUFBLG9FQUFBbVcsUUErQ3NCLFNBL0N0QixFQUFBRixFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLGdDQUFBaVcsRUFBQWpXLGFBQUEsa0NBQUFpVyxFQUFBalcsYUFBQSwyQkFBQWlXLEVBQUFqVyxhQUFBLGdCQUFBaVcsRUFBQWpXLGFBQUEsZ0NBQUFpVyxFQUFBalcsYUFBQSxrQ0FBQWlXLEVBQUFqVyxhQUFBLDJCQUFBaVcsRUFBQWpXLGFBQUEsZ0JBQUFpVyxFQUFBalcsYUFBQSxnQ0FBQWlXLEVBQUFqVyxhQUFBLHlCQUFBaVcsRUFBQWpXLGFBQUEsZ0NBQUFpVyxFQUFBalcsYUFBQSxjQUFBaVcsRUFBQWpXLGFBQUEsVUF1RW1CLDRCQXZFbkIsRUFBQWlXLEVBQUFqVyxhQUFBLGtCQUFBaVcsRUFBQWpXLGFBQUEsZ0JBQUFpVyxFQUFBalcsYUFBQSx5Q0FBQWlXLEVBQUFqVyxhQUFBLGdDQUFBaVcsRUFBQWpXLGFBQUEsd0NBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLDRCQUFBaVcsRUFBQWpXLGFBQUEseUJBQUFpVyxFQUFBalcsYUFBQSw4RUFBQW1XLFFBa0ZzQixTQWxGdEIsRUFBQUYsRUFBQWpXLGFBQUEsZ0JBQUFpVyxFQUFBalcsYUFBQSw2QkFBQWlXLEVBQUFqVyxhQUFBLDRCQUFBaVcsRUFBQWpXLGFBQUEsZ0JBQUFpVyxFQUFBalcsYUFBQSw2QkFBQWlXLEVBQUFqVyxhQUFBLDZCQUFBaVcsRUFBQWpXLGFBQUEsME5BQUFpVyxFQUFBalcsYUFBQSxnQ0FBQWlXLEVBQUFqVyxhQUFBLHlRQUFBaVcsRUFBQWpXLGFBQUEsZ0NBQUFpVyxFQUFBalcsYUFBQSwydURBQUFpVyxFQUFBalcsYUFBQSx3WkFBQWlXLEVBQUFqVyxhQUFBLHFDQUFBaVcsRUFBQWpXLGFBQUEseVBBQUFpVyxFQUFBalcsYUFBQSxzVUFBQWlXLEVBQUFqVyxhQUFBLGdoQkFBQWlXLEVBQUFqVyxhQUFBLFlBQUFpVyxFQUFBalcsYUFBQSxVQXFJaUIsNEJBcklqQixFQUFBaVcsRUFBQWpXLGFBQUEsa0JBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLGdDQUFBaVcsRUFBQWpXLGFBQUEsNEJBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLDZDQUFBaVcsRUFBQWpXLGFBQUEsK0JBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLFdBQUFpVyxFQUFBalcsYUFBQSw4QkFBQWlXLEVBQUFqVyxhQUFBLGdCQUFBaVcsRUFBQWpXLGFBQUEsV0FBQWlXLEVBQUFqVyxhQUFBLCtCQUFBaVcsRUFBQWpXLGFBQUEsZ0JBQUFpVyxFQUFBalcsYUFBQSxXQUFBaVcsRUFBQWpXLGFBQUEsbUNBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLFdBQUFpVyxFQUFBalcsYUFBQSwyQkFBQWlXLEVBQUFqVyxhQUFBLGdCQUFBaVcsRUFBQWpXLGFBQUEscUNBQUFpVyxFQUFBalcsYUFBQSwyQkFBQWlXLEVBQUFqVyxhQUFBLGdCQUFBaVcsRUFBQWpXLGFBQUEsV0FBQWlXLEVBQUFqVyxhQUFBLDRCQUFBaVcsRUFBQWpXLGFBQUEsZ0JBQUFpVyxFQUFBalcsYUFBQSxrQ0FBQWlXLEVBQUFqVyxhQUFBLHlDQUFBaVcsRUFBQWpXLGFBQUEsK0JBQUFpVyxFQUFBalcsYUFBQSwwZXpCNCtHSSxTQUFVOUksRUFBUXdDLEVBQVN4SixHQUVqQyxZQUdBd0MsUUFBT0ksZUFBZTRHLEVBQVMsY0FDN0J2RyxPQUFPLElBRVR1RyxFQUFRMGMsWUFBVTNnQixFQUVsQixJQUFJd2dCLEdBQVcvbEIsRUFBb0IsRTBCdi9HdEJrbUIsV0FBVSxXQUNyQixTQUFBSCxFQUFBalcsYUFBQSxxQkFBQWlXLEVBQUFqVyxhQUFBLDBCQUFBaVcsRUFBQWpXLGFBQUEsT0FJWSxPQUpaLGFBQUFpVyxFQUFBalcsYUFBQSxlQUFBaVcsRUFBQWpXLGFBQUEsZ0JBQUFpVyxFQUFBalcsYUFBQSwwREFBQWlXLEVBQUFqVyxhQUFBLCtKQUFBaVcsRUFBQWpXLGFBQUEsK0ZBQUFpVyxFQUFBalcsYUFBQSwrRUFBQWlXLEVBQUFqVyxhQUFBLCtFQUFBaVcsRUFBQWpXLGFBQUEseUVBQUFpVyxFQUFBalcsYUFBQSxpRkFBQWlXLEVBQUFqVyxhQUFBLDJGQUFBaVcsRUFBQWpXLGFBQUEsZ0pBQUFpVyxFQUFBalcsYUFBQSxzR0FBQWlXLEVBQUFqVyxhQUFBLE9Bb0JjLE9BcEJkLGdCQUFBaVcsRUFBQWpXLGFBQUEsa0dBQUFpVyxFQUFBalcsYUFBQSxPQXdCYyxPQXhCZCxlQUFBaVcsRUFBQWpXLGFBQUEsY0FBQWlXLEVBQUFqVyxhQUFBLGdCQUFBaVcsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLDZDQUFBbVEsS0EyQm9CLHdHQTNCcEIsRUFBQThGLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSwyQkFBQW1RLEtBNEJvQix5RkE1QnBCLEVBQUE4RixFQUFBalcsYUFBQSxlQUFBaVcsRUFBQWpXLGFBQUEscUVBQUFtUSxLQTZCb0IsMkZBN0JwQixFQUFBOEYsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLCtCQUFBbVEsS0E4Qm9CLHlEQTlCcEIsRUFBQThGLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSwrQkFBQW1RLEtBK0JvQixnRUEvQnBCLEVBQUE4RixFQUFBalcsYUFBQSxlQUFBaVcsRUFBQWpXLGFBQUEseUNBQUFtUSxLQWdDb0IsZ0RBaENwQixFQUFBOEYsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLHlEQUFBbVEsS0FpQ29CLHNGQWpDcEIsRUFBQThGLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSwyQ0FBQW1RLEtBa0NvQixpRUFsQ3BCLEVBQUE4RixFQUFBalcsYUFBQSxlQUFBaVcsRUFBQWpXLGFBQUEsb0ZBQUFtUSxLQW1Db0IsaUlBbkNwQixFQUFBOEYsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLDJDQUFBbVEsS0FvQ29CLHdGQXBDcEIsRUFBQThGLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSx1Q0FBQW1RLEtBcUNvQiwrQ0FyQ3BCLEVBQUE4RixFQUFBalcsYUFBQSxlQUFBaVcsRUFBQWpXLGFBQUEsd0NBQUFtUSxLQXNDb0IsOERBdENwQixFQUFBOEYsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLHdCQUFBbVEsS0F1Q29CLGdFQXZDcEIsRUFBQThGLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSxpQ0FBQW1RLEtBd0NvQiwyREF4Q3BCLEVBQUE4RixFQUFBalcsYUFBQSxlQUFBaVcsRUFBQWpXLGFBQUEsMEJBQUFtUSxLQXlDb0IsdURBekNwQixFQUFBOEYsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLHNEQUFBbVEsS0EwQ29CLG1FQTFDcEIsRUFBQThGLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSxzREFBQW1RLEtBMkNvQiw0REEzQ3BCLEVBQUE4RixFQUFBalcsYUFBQSxlQUFBaVcsRUFBQWpXLGFBQUEsc0JBQUFtUSxLQTRDb0IsK0RBNUNwQixFQUFBOEYsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLDJCQUFBbVEsS0E2Q29CLHVDQTdDcEIsRUFBQThGLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSx3REFBQW1RLEtBOENvQixrRUE5Q3BCLEVBQUE4RixFQUFBalcsYUFBQSxlQUFBaVcsRUFBQWpXLGFBQUEsZ0NBQUFtUSxLQStDb0IsK0NBL0NwQixFQUFBOEYsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLHdEQUFBbVEsS0FnRG9CLDhDQWhEcEIsRUFBQThGLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSw2QkFBQW1RLEtBaURvQix5RDFCMi9HaEIsU0FBVWpaLEVBQVF3QyxFQUFTeEosR0FFakMsWUFHQXdDLFFBQU9JLGVBQWU0RyxFQUFTLGNBQzdCdkcsT0FBTyxJQUVUdUcsRUFBUTJjLGNBQVk1Z0IsRUFFcEIsSUFBSXdnQixHQUFXL2xCLEVBQW9CLEUyQnZqSHRCbW1CLGFBQVksV0FDdkIsU0FBQUosRUFBQWpXLGFBQUEscUJBQUFpVyxFQUFBalcsYUFBQSw0QkFBQWlXLEVBQUFqVyxhQUFBLHc1QjNCOGpISSxTQUFVOUksRUFBUXdDLEVBQVN4SixHQUVqQyxZQUdBd0MsUUFBT0ksZUFBZTRHLEVBQVMsY0FDN0J2RyxPQUFPLElBRVR1RyxFQUFRNGMsbUJBQWlCN2dCLEVBRXpCLElBQUl3Z0IsR0FBVy9sQixFQUFvQixFNEJ6a0h0Qm9tQixrQkFBaUIsV0FDNUIsU0FBQUwsRUFBQWpXLGFBQUEscUJBQUFpVyxFQUFBalcsYUFBQSwrQ0FBQWlXLEVBQUFqVyxhQUFBLHdnQkFBQWlXLEVBQUFqVyxhQUFBLDhCQUFBaVcsRUFBQWpXLGFBQUEsdXZFQUFBaVcsRUFBQWpXLGFBQUEsaVFBQUFpVyxFQUFBalcsYUFBQSw2TEFBQWlXLEVBQUFqVyxhQUFBLGlDQUFBaVcsRUFBQWpXLGFBQUEsaVVBQUFpVyxFQUFBalcsYUFBQSwraUJBQUFpVyxFQUFBalcsYUFBQSx1U0FBQWlXLEVBQUFqVyxhQUFBLGNBQUFpVyxFQUFBalcsYUFBQSxVQW1DaUIseUJBbkNqQixFQUFBaVcsRUFBQWpXLGFBQUEsa0JBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLDBCQUFBaVcsRUFBQWpXLGFBQUEsNEJBQUFpVyxFQUFBalcsYUFBQSxpQ0FBQWlXLEVBQUFqVyxhQUFBLGdCQUFBaVcsRUFBQWpXLGFBQUEsMkNBQUFpVyxFQUFBalcsYUFBQSwyQkFBQWlXLEVBQUFqVyxhQUFBLHNCQUFBaVcsRUFBQWpXLGFBQUEsc0JBQUFpVyxFQUFBalcsYUFBQSw2QkFBQWlXLEVBQUFqVyxhQUFBLDZCQUFBaVcsRUFBQWpXLGFBQUEsdUJBQUFpVyxFQUFBalcsYUFBQSw0QkFBQWlXLEVBQUFqVyxhQUFBLGdCQUFBaVcsRUFBQWpXLGFBQUEseUJBQUFpVyxFQUFBalcsYUFBQSxtQ0FBQWlXLEVBQUFqVyxhQUFBLCtCQUFBaVcsRUFBQWpXLGFBQUEsZ0NBQUFpVyxFQUFBalcsYUFBQSxzQ0FBQWlXLEVBQUFqVyxhQUFBLDBDQUFBaVcsRUFBQWpXLGFBQUEsZ0JBQUFpVyxFQUFBalcsYUFBQSwwQkFBQWlXLEVBQUFqVyxhQUFBLHFIQUFBaVcsRUFBQWpXLGFBQUEsaURBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLHlCQUFBaVcsRUFBQWpXLGFBQUEsdUNBQUFpVyxFQUFBalcsYUFBQSxnRkFBQWlXLEVBQUFqVyxhQUFBLCtCQUFBaVcsRUFBQWpXLGFBQUEsNlk1QmdsSEksU0FBVTlJLEVBQVF3QyxFQUFTeEosR0FFakMsWUFHQXdDLFFBQU9JLGVBQWU0RyxFQUFTLGNBQzdCdkcsT0FBTyxJQUVUdUcsRUFBUTZjLGVBQWE5Z0IsRUFFckIsSUFBSXdnQixHQUFXL2xCLEVBQW9CLEU2QjNsSHRCcW1CLGNBQWEsV0FDeEIsU0FBQU4sRUFBQWpXLGFBQUEscUJBQUFpVyxFQUFBalcsYUFBQSx5Q0FBQWlXLEVBQUFqVyxhQUFBLGlpQkFBQWlXLEVBQUFqVyxhQUFBLHFDQUFBaVcsRUFBQWpXLGFBQUEsMGlEQUFBaVcsRUFBQWpXLGFBQUEsa3NCQUFBaVcsRUFBQWpXLGFBQUEsb1FBQUFpVyxFQUFBalcsYUFBQSxRQW9Ca0Qsc0JBcEJsRCxNQUFBL1AsSUFvQmUsK0JBcEJmLGdnQ0FBQWdtQixFQUFBalcsYUFBQSxtakVBQUFpVyxFQUFBalcsYUFBQSxrREFBQWlXLEVBQUFqVyxhQUFBLG9kQUFBaVcsRUFBQWpXLGFBQUEsbWtCQUFBaVcsRUFBQWpXLGFBQUEseTFCQUFBaVcsRUFBQWpXLGFBQUEsUUEyQ2lCLHVCQTNDakIsRUFBQWlXLEVBQUFqVyxhQUFBLFNBNENzQiwwQkE1Q3RCLHFGQUFBaVcsRUFBQWpXLGFBQUEsc05BQUFpVyxFQUFBalcsYUFBQSx1b0ZBQUFpVyxFQUFBalcsYUFBQSwrQkFBQWlXLEVBQUFqVyxhQUFBLHdvRDdCb21ISSxTQUFVOUksRUFBUXdDLEtBTWxCLFNBQVV4QyxFQUFRd0MsRUFBU3hKLEdBRWpDLFk4Qm5sSEEsU0FBQXNtQixHQUFBQyxHQUFzQyxNQUFBQSxNQUFBdGMsV0FBQXNjLEdBQXVDbGMsUUFBQWtjLEdBeEI3RS9jLEVBQUFTLFlBQUEsQ0FFQSxJQUFBdWMsR0FBQSxrQkFBQUMsU0FBQSxnQkFBQUEsUUFBQUMsU0FBQSxTQUFBSCxHQUFvRyxhQUFBQSxJQUFxQixTQUFBQSxHQUFtQixNQUFBQSxJQUFBLGtCQUFBRSxTQUFBRixFQUFBM0wsY0FBQTZMLFFBQUFGLElBQUFFLE9BQUFoa0IsVUFBQSxlQUFBOGpCLElBRTVJSSxFQUFBbmtCLE9BQUFva0IsUUFBQSxTQUFBakcsR0FBbUQsT0FBQXRjLEdBQUEsRUFBZ0JBLEVBQUE4TSxVQUFBN00sT0FBc0JELElBQUEsQ0FBTyxHQUFBd2lCLEdBQUExVixVQUFBOU0sRUFBMkIsUUFBQXFMLEtBQUFtWCxHQUEwQnJrQixPQUFBQyxVQUFBQyxlQUFBQyxLQUFBa2tCLEVBQUFuWCxLQUF5RGlSLEVBQUFqUixHQUFBbVgsRUFBQW5YLElBQWlDLE1BQUFpUixJQUUvT21HLEVBQUE5bUIsRUFBQSxJQUVBK21CLEVBQUFULEVBQUFRLEdBRUFFLEVBQUFobkIsRUFBQSxJQUVBaW5CLEVBQUFYLEVBQUFVLEdBRUFFLEVBQUFsbkIsRUFBQSxJQUVBbW5CLEVBQUFubkIsRUFBQSxJQUVBb25CLEVBQUFwbkIsRUFBQSxJQUVBcW5CLEVBQUFmLEVBQUFjLEdBRUFFLEVBQUF0bkIsRUFBQSxJQU9BdW5CLEVBQUEsV0FDQSxJQUNBLE1BQUFDLFFBQUFDLFFBQUF2YixVQUNHLE1BQUEzSyxHQUdILFdBUUFtbUIsRUFBQSxXQUNBLEdBQUFqZCxHQUFBMEcsVUFBQTdNLE9BQUEsT0FBQWlCLEtBQUE0TCxVQUFBLEdBQUFBLFVBQUEsT0FFQSxFQUFBOFYsRUFBQTVjLFNBQUFpZCxFQUFBSyxVQUFBLDhCQUVBLElBQUFDLEdBQUFKLE9BQUFDLFFBQ0FJLEdBQUEsRUFBQVAsRUFBQVEsbUJBQ0FDLElBQUEsRUFBQVQsRUFBQVUsZ0NBRUFDLEVBQUF4ZCxFQUFBeWQsYUFDQUEsTUFBQTNpQixLQUFBMGlCLEtBQ0FFLEVBQUExZCxFQUFBMmQsb0JBQ0FBLE1BQUE3aUIsS0FBQTRpQixFQUFBYixFQUFBZSxnQkFBQUYsRUFDQUcsRUFBQTdkLEVBQUE4ZCxVQUNBQSxNQUFBaGpCLEtBQUEraUIsRUFBQSxFQUFBQSxFQUVBRSxFQUFBL2QsRUFBQStkLFVBQUEsRUFBQXJCLEVBQUF4SSxxQkFBQSxFQUFBd0ksRUFBQTlJLGlCQUFBNVQsRUFBQStkLFdBQUEsR0FFQUMsRUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFELE1BQ0FoWixFQUFBaVosRUFBQWpaLElBQ0F4RCxFQUFBeWMsRUFBQXpjLE1BRUEwYyxFQUFBcEIsT0FBQXBJLFNBQ0FQLEVBQUErSixFQUFBL0osU0FDQUMsRUFBQThKLEVBQUE5SixPQUNBQyxFQUFBNkosRUFBQTdKLEtBR0FwRCxFQUFBa0QsRUFBQUMsRUFBQUMsQ0FJQSxPQUZBeUosS0FBQTdNLEdBQUEsRUFBQXdMLEVBQUExSSxhQUFBOUMsRUFBQTZNLElBRUE3QixNQUFzQixFQUFBUSxFQUFBdkksV0FBQWpELElBQ3RCelAsUUFDQXdELFNBSUFtWixFQUFBLFdBQ0EsTUFBQUMsTUFBQUMsU0FBQUMsU0FBQSxJQUFBeEssT0FBQSxFQUFBK0osSUFHQVUsR0FBQSxFQUFBNUIsRUFBQWhkLFdBRUFnUixFQUFBLFNBQUFoSCxHQUNBc1MsRUFBQWMsRUFBQXBULEdBRUFvVCxFQUFBbmpCLE9BQUFzakIsRUFBQXRqQixPQUVBMmtCLEVBQUFDLGdCQUFBekIsRUFBQXJJLFNBQUFxSSxFQUFBMEIsU0FHQUMsRUFBQSxTQUFBdlEsSUFFQSxFQUFBeU8sRUFBQStCLDJCQUFBeFEsSUFFQXlRLEVBQUFiLEVBQUE1UCxFQUFBM00sU0FHQXFkLEVBQUEsV0FDQUQsRUFBQWIsRUFBQWxCLE9BR0FpQyxHQUFBLEVBRUFGLEVBQUEsU0FBQWxLLEdBQ0EsR0FBQW9LLEVBQ0FBLEdBQUEsRUFDQW5PLFFBQ0ssQ0FHTDROLEVBQUFRLG9CQUFBckssRUFGQSxNQUVBZ0osRUFBQSxTQUFBc0IsR0FDQUEsRUFDQXJPLEdBQW9COE4sT0FKcEIsTUFJb0IvSixhQUVwQnVLLEVBQUF2SyxPQU1BdUssRUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFwQyxFQUFBckksU0FNQTBLLEVBQUFDLEVBQUEvbkIsUUFBQTZuQixFQUFBbmEsTUFFQSxJQUFBb2EsTUFBQSxFQUVBLElBQUFFLEdBQUFELEVBQUEvbkIsUUFBQTRuQixFQUFBbGEsTUFFQSxJQUFBc2EsTUFBQSxFQUVBLElBQUFDLEdBQUFILEVBQUFFLENBRUFDLEtBQ0FULEdBQUEsRUFDQVUsRUFBQUQsS0FJQUUsRUFBQTFCLEVBQUFsQixLQUNBd0MsR0FBQUksRUFBQXphLEtBSUF3USxFQUFBLFNBQUFkLEdBQ0EsTUFBQW9KLElBQUEsRUFBQXJCLEVBQUFoSSxZQUFBQyxJQUdBbmQsRUFBQSxTQUFBMFosRUFBQXpQLElBQ0EsRUFBQTZhLEVBQUExYyxXQUFBLHFCQUFBc1IsRUFBQSxZQUFBNkssRUFBQTdLLFNBQUFwVyxLQUFBb1csRUFBQXpQLFdBQUEzRyxLQUFBMkcsR0FBQSxnSkFFQSxJQUNBa1QsSUFBQSxFQUFBOEgsRUFBQWtELGdCQUFBek8sRUFBQXpQLEVBQUEyYyxJQUFBcEIsRUFBQXJJLFNBRUE2SixHQUFBUSxvQkFBQXJLLEVBSEEsT0FHQWdKLEVBQUEsU0FBQXNCLEdBQ0EsR0FBQUEsRUFBQSxDQUVBLEdBQUF6SixHQUFBQyxFQUFBZCxHQUNBMVAsRUFBQTBQLEVBQUExUCxJQUNBeEQsRUFBQWtULEVBQUFsVCxLQUdBLElBQUEyYixFQUdBLEdBRkFELEVBQUF5QyxXQUFpQzNhLE1BQUF4RCxTQUF5QixLQUFBK1QsR0FFMURpSSxFQUNBVixPQUFBcEksU0FBQWEsV0FDUyxDQUNULEdBQUFxSyxHQUFBUCxFQUFBL25CLFFBQUF5bEIsRUFBQXJJLFNBQUExUCxLQUNBNmEsRUFBQVIsRUFBQXppQixNQUFBLE9BQUFnakIsRUFBQSxFQUFBQSxFQUFBLEVBRUFDLEdBQUF0b0IsS0FBQW1kLEVBQUExUCxLQUNBcWEsRUFBQVEsRUFFQWxQLEdBQW9COE4sT0F2QnBCLE9BdUJvQi9KLGtCQUdwQixFQUFBMkgsRUFBQTFjLGFBQUE5RSxLQUFBMkcsRUFBQSxtRkFFQXNiLE9BQUFwSSxTQUFBYSxXQUtBdUMsRUFBQSxTQUFBN0csRUFBQXpQLElBQ0EsRUFBQTZhLEVBQUExYyxXQUFBLHFCQUFBc1IsRUFBQSxZQUFBNkssRUFBQTdLLFNBQUFwVyxLQUFBb1csRUFBQXpQLFdBQUEzRyxLQUFBMkcsR0FBQSxtSkFFQSxJQUNBa1QsSUFBQSxFQUFBOEgsRUFBQWtELGdCQUFBek8sRUFBQXpQLEVBQUEyYyxJQUFBcEIsRUFBQXJJLFNBRUE2SixHQUFBUSxvQkFBQXJLLEVBSEEsVUFHQWdKLEVBQUEsU0FBQXNCLEdBQ0EsR0FBQUEsRUFBQSxDQUVBLEdBQUF6SixHQUFBQyxFQUFBZCxHQUNBMVAsRUFBQTBQLEVBQUExUCxJQUNBeEQsRUFBQWtULEVBQUFsVCxLQUdBLElBQUEyYixFQUdBLEdBRkFELEVBQUE0QyxjQUFvQzlhLE1BQUF4RCxTQUF5QixLQUFBK1QsR0FFN0RpSSxFQUNBVixPQUFBcEksU0FBQW9ELFFBQUF2QyxPQUNTLENBQ1QsR0FBQXFLLEdBQUFQLEVBQUEvbkIsUUFBQXlsQixFQUFBckksU0FBQTFQLE1BRUEsSUFBQTRhLElBQUFQLEVBQUFPLEdBQUFsTCxFQUFBMVAsS0FFQTJMLEdBQW9COE4sT0FyQnBCLFVBcUJvQi9KLGtCQUdwQixFQUFBMkgsRUFBQTFjLGFBQUE5RSxLQUFBMkcsRUFBQSxzRkFFQXNiLE9BQUFwSSxTQUFBb0QsUUFBQXZDLE9BS0FpSyxFQUFBLFNBQUFsZ0IsR0FDQTRkLEVBQUFzQyxHQUFBbGdCLElBR0F5Z0IsRUFBQSxXQUNBLE1BQUFQLElBQUEsSUFHQVEsRUFBQSxXQUNBLE1BQUFSLEdBQUEsSUFHQVMsRUFBQSxFQUVBQyxFQUFBLFNBQUFYLEdBQ0FVLEdBQUFWLEVBRUEsSUFBQVUsSUFDQSxFQUFBckQsRUFBQXVELGtCQUFBckQsT0E1TkEsV0E0TkE0QixHQUVBckIsSUFBQSxFQUFBVCxFQUFBdUQsa0JBQUFyRCxPQTdOQSxhQTZOQStCLElBQ0ssSUFBQW9CLEtBQ0wsRUFBQXJELEVBQUF3RCxxQkFBQXRELE9BaE9BLFdBZ09BNEIsR0FFQXJCLElBQUEsRUFBQVQsRUFBQXdELHFCQUFBdEQsT0FqT0EsYUFpT0ErQixLQUlBd0IsR0FBQSxFQUVBQyxFQUFBLFdBQ0EsR0FBQUMsR0FBQTlaLFVBQUE3TSxPQUFBLE9BQUFpQixLQUFBNEwsVUFBQSxJQUFBQSxVQUFBLEdBRUErWixFQUFBakMsRUFBQWtDLFVBQUFGLEVBT0EsT0FMQUYsS0FDQUgsRUFBQSxHQUNBRyxHQUFBLEdBR0EsV0FNQSxNQUxBQSxLQUNBQSxHQUFBLEVBQ0FILEdBQUEsSUFHQU0sTUFJQUUsRUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFyQyxFQUFBc0MsZUFBQUYsRUFHQSxPQUZBVCxHQUFBLEdBRUEsV0FDQUEsR0FBQSxHQUNBVSxNQUlBN0QsR0FDQW5qQixPQUFBc2pCLEVBQUF0akIsT0FDQTZrQixPQUFBLE1BQ0EvSixTQUFBK0ssRUFDQWpLLGFBQ0FqZSxPQUNBdWdCLFVBQ0EwSCxLQUNBTyxTQUNBQyxZQUNBTSxRQUNBSSxTQUdBLE9BQUEzRCxHQUdBamUsR0FBQWEsUUFBQXFkLEc5QmtuSE0sU0FBVTFnQixFQUFRd0MsRUFBU3hKLEcrQnI2SGpDZ0gsRUFBQXdDLFFBQUF4SixFQUFBLElBQUFxSyxRQUNBckQsRUFBQXdDLFFBQUFhLFFBQUFyRCxFQUFBd0MsUy9CNjZITSxTQUFVeEMsRUFBUXdDLEVBQVN4SixHQUVqQyxZQTJCQSxTQUFTc21CLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUl0YyxXQUFhc2MsR0FBUWxjLFFBQVNrYyxHZ0M3N0h2RixRQUFTaUYsR0FBVDdDLEdBQTJCLEdBQVp2bUIsR0FBWXVtQixFQUFadm1CLFFBQ2IsVUFBQTJqQixFQUFBalcsYUFBQSxRQUNXLFNBRFgsRUFBQWlXLEVBQUFqVyxhQUFBLG9CQUFBaVcsRUFBQWpXLGFBQUEscUNBQUFpVyxFQUFBalcsYUFBQSxnQkFBQWlXLEVBQUFqVyxhQUFBLGdCQUFBaVcsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLEdBQUEyYixFQUFBL0wsS0FBQSxXQUFBSyxHQU1zQixTQU50QkgsZ0JBTWdELGtCQU5oRHhkLFNBQUEsa0JBQUEyakIsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLEdBQUEyYixFQUFBL0wsS0FBQSxXQUFBSyxHQU9zQix3QkFQdEJILGdCQU8rRCxrQkFQL0R4ZCxTQUFBLHVCQUFBMmpCLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSxHQUFBMmIsRUFBQS9MLEtBQUEsV0FBQUssR0FRc0Isb0JBUnRCSCxnQkFRMkQsa0JBUjNEeGQsU0FBQSxtQkFBQTJqQixFQUFBalcsYUFBQSxlQUFBaVcsRUFBQWpXLGFBQUEsR0FBQTJiLEVBQUEvTCxLQUFBLFdBQUFLLEdBU3NCLG9CQVR0QkgsZ0JBUzJELGtCQVQzRHhkLFNBQUEsbUJBQUEyakIsRUFBQWpXLGFBQUEsZUFBQWlXLEVBQUFqVyxhQUFBLEdBQUEyYixFQUFBL0wsS0FBQSxXQUFBSyxHQVVzQixpQkFWdEJILGdCQVV3RCxrQkFWeER4ZCxTQUFBLGdCQUFBMmpCLEVBQUFqVyxhQUFBLGVBQUFpVyxFQUFBalcsYUFBQSxHQUFBMmIsRUFBQS9MLEtBQUEsV0FBQUssR0FXc0IsaUJBWHRCSCxnQkFXd0Qsa0JBWHhEeGQsU0FBQSxxQkFBQTJqQixFQUFBalcsYUFBQSxZQWdCaUIsVUFDWjFOLElBakJMLEVBQUEyakIsRUFBQWpXLGFBQUEsb0JBQUFpVyxFQUFBalcsYUFBQSw2QkFBQWlXLEVBQUFqVyxhQUFBLCtCQUFBaVcsRUFBQWpXLGFBQUEsOERBNkJGLFFBQVM0YixHQUFUQyxHQUErQkEsRUFBWnZwQixRQUNqQixVQUFBMmpCLEVBQUFqVyxhQUFBLGtEQTdDRixHQUFBaVcsR0FBQS9sQixFQUFBLEdoQ3E3SEk0ckIsRUFBWXRGLEVBQXVCUCxHZ0NwN0h2QzBGLEVBQUF6ckIsRUFBQSxJQUNBNnJCLEVBQUE3ckIsRUFBQSxJaEN5N0hJOHJCLEVBQXlCeEYsRUFBdUJ1RixFZ0N4N0hwRDdyQixHQUFBLEdBQ0EsSUFBQStyQixHQUFBL3JCLEVBQUEsSUFDQWdzQixFQUFBaHNCLEVBQUEsSUFDQWlzQixFQUFBanNCLEVBQUEsSUFDQWtzQixFQUFBbHNCLEVBQUEsSUFDQW1zQixFQUFBbnNCLEVBQUEsSUFDQW9zQixFQUFBcHNCLEVBQUEsSUFFTXFzQixHQUFpQixFQUFBUCxFQUFBemhCLFdBcUNqQjRXLDJDQUFBd0csUUFDYzRFLEVBRGRqcUIsVUFBQSxFQUFBMmpCLEVBQUFqVyxhQUFBLEdBQUEyYixFQUFBeFEsTUFBQSxXQUFBVSxLQUVVLFNBRlYvTixVQUUrQjRkLEVBRi9CcHBCLFdBQUEsRUFBQTJqQixFQUFBalcsYUFBQSxHQUFBMmIsRUFBQWEsV0FBQSxXQUFBMWUsVUFBQW1lLEVBQUE1RixhQUFBLEVBQUFKLEVBQUFqVyxhQUFBLEdBQUEyYixFQUFBeFEsTUFBQSxXQUFBVSxLQUlZLG1CQUpaL04sVUFBQW1lLEVBQUE1RixhQUFBLEVBQUFKLEVBQUFqVyxhQUFBLEdBQUEyYixFQUFBeFEsTUFBQSxXQUFBVSxLQUtZLHdCQUxaL04sVUFBQW9lLEVBQUE1RixrQkFBQSxFQUFBTCxFQUFBalcsYUFBQSxHQUFBMmIsRUFBQXhRLE1BQUEsV0FBQVUsS0FNWSxvQkFOWi9OLFVBQUFxZSxFQUFBakcsY0FBQSxFQUFBRCxFQUFBalcsYUFBQSxHQUFBMmIsRUFBQXhRLE1BQUEsV0FBQVUsS0FPWSxvQkFQWi9OLFVBQUFzZSxFQUFBN0YsY0FBQSxFQUFBTixFQUFBalcsYUFBQSxHQUFBMmIsRUFBQXhRLE1BQUEsV0FBQVUsS0FRWSxpQkFSWi9OLFVBQUF1ZSxFQUFBckcsV0FBQSxFQUFBQyxFQUFBalcsYUFBQSxHQUFBMmIsRUFBQXhRLE1BQUEsV0FBQVUsS0FTWSxpQkFUWi9OLFVBQUF3ZSxFQUFBbEcsV0FBQSxFQUFBSCxFQUFBalcsYUFBQSxHQUFBMmIsRUFBQXhRLE1BQUEsV0FBQVUsS0FVWSxJQVZaL04sVUFVNEI4ZCxRQUtsQ0UsR0FBQXZoQixRQUFRNEIsT0FBT2dWLEVBQVF4aEIsU0FBUzhzQixlQUFlLFNoQ3c5SHpDLFNBQVV2bEIsRUFBUXdDLEVBQVN4SixHQUVqQyxZaUN2aElBd0osR0FBQVMsWUFBQSxDQUNBVCxHQUFBbWUsWUFBQSxtQkFBQUgsaUJBQUEvbkIsV0FBQStuQixPQUFBL25CLFNBQUFHLGVBRUE0SixFQUFBcWhCLGlCQUFBLFNBQUFqVixFQUFBaUQsRUFBQXdTLEdBQ0EsTUFBQXpWLEdBQUFpVixpQkFBQWpWLEVBQUFpVixpQkFBQWhTLEVBQUF3UyxHQUFBLEdBQUF6VixFQUFBNFcsWUFBQSxLQUFBM1QsRUFBQXdTLElBR0E3aEIsRUFBQXNoQixvQkFBQSxTQUFBbFYsRUFBQWlELEVBQUF3UyxHQUNBLE1BQUF6VixHQUFBa1Ysb0JBQUFsVixFQUFBa1Ysb0JBQUFqUyxFQUFBd1MsR0FBQSxHQUFBelYsRUFBQTZXLFlBQUEsS0FBQTVULEVBQUF3UyxJQUdBN2hCLEVBQUE2ZSxnQkFBQSxTQUFBcUUsRUFBQXRvQixHQUNBLE1BQUFBLEdBQUFvakIsT0FBQW1GLFFBQUFELEtBVUFsakIsRUFBQXNlLGdCQUFBLFdBQ0EsR0FBQThFLEdBQUFwRixPQUFBcUYsVUFBQUMsU0FFQSxhQUFBRixFQUFBNXFCLFFBQUEsb0JBQUE0cUIsRUFBQTVxQixRQUFBLHFCQUFBNHFCLEVBQUE1cUIsUUFBQSx1QkFBQTRxQixFQUFBNXFCLFFBQUEsZ0JBQUE0cUIsRUFBQTVxQixRQUFBLG9CQUVBd2xCLE9BQUFDLFNBQUEsYUFBQUQsUUFBQUMsVUFPQWplLEVBQUF3ZSw2QkFBQSxXQUNBLFdBQUFSLE9BQUFxRixVQUFBQyxVQUFBOXFCLFFBQUEsWUFNQXdILEVBQUF1akIsaUNBQUEsV0FDQSxXQUFBdkYsT0FBQXFGLFVBQUFDLFVBQUE5cUIsUUFBQSxZQVFBd0gsRUFBQTZmLDBCQUFBLFNBQUF4USxHQUNBLFdBQUF0VCxLQUFBc1QsRUFBQTNNLFFBQUEsSUFBQTJnQixVQUFBQyxVQUFBOXFCLFFBQUEsV2pDK2hJTSxTQUFVZ0YsRUFBUXdDLEVBQVN4SixHQUVqQyxZa0Nya0lBLFNBQUFzbUIsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQXRjLFdBQUFzYyxHQUF1Q2xjLFFBQUFrYyxHQWY3RS9jLEVBQUFTLFlBQUEsRUFDQVQsRUFBQXdqQixrQkFBQXhqQixFQUFBNGdCLG1CQUFBN2tCLEVBRUEsSUFBQW9oQixHQUFBbmtCLE9BQUFva0IsUUFBQSxTQUFBakcsR0FBbUQsT0FBQXRjLEdBQUEsRUFBZ0JBLEVBQUE4TSxVQUFBN00sT0FBc0JELElBQUEsQ0FBTyxHQUFBd2lCLEdBQUExVixVQUFBOU0sRUFBMkIsUUFBQXFMLEtBQUFtWCxHQUEwQnJrQixPQUFBQyxVQUFBQyxlQUFBQyxLQUFBa2tCLEVBQUFuWCxLQUF5RGlSLEVBQUFqUixHQUFBbVgsRUFBQW5YLElBQWlDLE1BQUFpUixJQUUvT3NNLEVBQUFqdEIsRUFBQSxJQUVBa3RCLEVBQUE1RyxFQUFBMkcsR0FFQUUsRUFBQW50QixFQUFBLElBRUFvdEIsRUFBQTlHLEVBQUE2RyxHQUVBaEcsRUFBQW5uQixFQUFBLEdBSUF3SixHQUFBNGdCLGVBQUEsU0FBQXpPLEVBQUF6UCxFQUFBd0QsRUFBQTJkLEdBQ0EsR0FBQWpPLE9BQUEsRUFxQ0EsT0FwQ0EsZ0JBQUF6RCxJQUVBeUQsR0FBQSxFQUFBK0gsRUFBQXZJLFdBQUFqRCxHQUNBeUQsRUFBQWxULFVBR0FrVCxFQUFBdUgsS0FBMEJoTCxPQUUxQnBXLEtBQUE2WixFQUFBUCxXQUFBTyxFQUFBUCxTQUFBLElBRUFPLEVBQUFOLE9BQ0EsTUFBQU0sRUFBQU4sT0FBQVIsT0FBQSxLQUFBYyxFQUFBTixPQUFBLElBQUFNLEVBQUFOLFFBRUFNLEVBQUFOLE9BQUEsR0FHQU0sRUFBQUwsS0FDQSxNQUFBSyxFQUFBTCxLQUFBVCxPQUFBLEtBQUFjLEVBQUFMLEtBQUEsSUFBQUssRUFBQUwsTUFFQUssRUFBQUwsS0FBQSxPQUdBeFosS0FBQTJHLE9BQUEzRyxLQUFBNlosRUFBQWxULFFBQUFrVCxFQUFBbFQsVUFHQWtULEVBQUExUCxNQUVBMmQsSUFFQWpPLEVBQUFQLFNBRUssTUFBQU8sRUFBQVAsU0FBQVAsT0FBQSxLQUNMYyxFQUFBUCxVQUFBLEVBQUFxTyxFQUFBN2lCLFNBQUErVSxFQUFBUCxTQUFBd08sRUFBQXhPLFdBRkFPLEVBQUFQLFNBQUF3TyxFQUFBeE8sVUFNQU8sR0FHQTVWLEVBQUF3akIsa0JBQUEsU0FBQXJtQixFQUFBQyxHQUNBLE1BQUFELEdBQUFrWSxXQUFBalksRUFBQWlZLFVBQUFsWSxFQUFBbVksU0FBQWxZLEVBQUFrWSxRQUFBblksRUFBQW9ZLE9BQUFuWSxFQUFBbVksTUFBQXBZLEVBQUErSSxNQUFBOUksRUFBQThJLE1BQUEsRUFBQTBkLEVBQUEvaUIsU0FBQTFELEVBQUF1RixNQUFBdEYsRUFBQXNGLFNsQzRsSU0sU0FBVWxGLEVBQVF3QyxFQUFTeEosR0FFakMsWW1DenBJQXdKLEdBQUFTLFlBQUEsQ0FFQSxJQUFBNmMsR0FBQTltQixFQUFBLElBRUErbUIsRUFFQSxTQUFBUixHQUFzQyxNQUFBQSxNQUFBdGMsV0FBQXNjLEdBQXVDbGMsUUFBQWtjLElBRjdFTyxHQUlBd0csRUFBQSxXQUNBLEdBQUFyQyxHQUFBLEtBRUFFLEVBQUEsU0FBQW9DLEdBS0EsT0FKQSxFQUFBeEcsRUFBQTFjLFNBQUEsTUFBQTRnQixFQUFBLGdEQUVBQSxFQUFBc0MsRUFFQSxXQUNBdEMsSUFBQXNDLElBQUF0QyxFQUFBLFFBSUF4QixFQUFBLFNBQUFySyxFQUFBK0osRUFBQWYsRUFBQWhrQixHQUlBLFNBQUE2bUIsRUFBQSxDQUNBLEdBQUExa0IsR0FBQSxrQkFBQTBrQixLQUFBN0wsRUFBQStKLEdBQUE4QixDQUVBLGlCQUFBMWtCLEdBQ0Esa0JBQUE2aEIsR0FDQUEsRUFBQTdoQixFQUFBbkMsS0FFQSxFQUFBMmlCLEVBQUExYyxVQUFBLHFGQUVBakcsR0FBQSxJQUlBQSxHQUFBLElBQUFtQyxPQUdBbkMsSUFBQSxJQUlBNlYsSUE2QkEsUUFDQWtSLFlBQ0ExQixzQkFDQThCLGVBOUJBLFNBQUEzcEIsR0FDQSxHQUFBNHJCLElBQUEsRUFFQW5DLEVBQUEsV0FDQW1DLEdBQUE1ckIsRUFBQW1ELFVBQUFRLEdBQUE0TCxXQUtBLE9BRkE4SSxHQUFBaFksS0FBQW9wQixHQUVBLFdBQ0FtQyxHQUFBLEVBQ0F2VCxJQUFBd1QsT0FBQSxTQUFBNW1CLEdBQ0EsTUFBQUEsS0FBQXdrQixNQW1CQW5DLGdCQWRBLFdBQ0EsT0FBQXdFLEdBQUF2YyxVQUFBN00sT0FBQXFwQixFQUFBbFgsTUFBQWlYLEdBQUFFLEVBQUEsRUFBbUVBLEVBQUFGLEVBQWFFLElBQ2hGRCxFQUFBQyxHQUFBemMsVUFBQXljLEVBR0EzVCxHQUFBclIsUUFBQSxTQUFBeWlCLEdBQ0EsTUFBQUEsR0FBQXRtQixVQUFBUSxHQUFBb29CLE9BWUFua0IsR0FBQWEsUUFBQWlqQixHbkNncUlNLFNBQVV0bUIsRUFBUXdDLEVBQVN4SixHQUVqQyxZb0MxdUlBLFNBQUE2dEIsR0FBQXRqQixFQUFBb0MsR0FDQSxNQUFBcEMsRUFBQXNDLE1BQUEsQ0FDQSxHQUFBQyxHQUFBdkMsRUFBQXVDLFdBQ0FBLEtBQ0FBLEVBQUFILE1BQ0FraEIsRUFBQS9nQixFQUFBSCxLQUtBLFFBQUFtaEIsR0FBQWxnQixFQUFBbWdCLEVBQUEzcEIsR0FDQSxHQUFBaUQsR0FBQTJtQixFQUFBanJCLElBQUE2SyxPQUNBLEtBQUF2RyxJQUNBQSxLQUNBMm1CLEVBQUFockIsSUFBQTRLLEVBQUF2RyxHQUNBMlQsRUFBQXRYLEtBQUEsV0FDQXNxQixFQUFBM1EsT0FBQXpQLEdBQ0FBLEVBQUFzRyxXQUFBLEVBQ0ErWixFQUFBcmdCLEVBQUFtZ0IsRUFBQSxXQUNBLE9BQUExcEIsR0FBQSxFQUFBaUwsRUFBQWpJLEVBQUEvQyxPQUFtREQsRUFBQWlMLEVBQVNqTCxJQUM1RGdELEVBQUFoRCxHQUFBMUIsS0FBQWlMLEtBR0FBLEVBQUFzRyxXQUFBLEtBR0FySixFQUFBYSxjQUFBdEgsSUFDQWlELEVBQUFwRixLQUFBbUMsR0FHQSxRQUFBOHBCLEdBQUF0Z0IsRUFBQXVnQixFQUFBL3BCLEdBQ0F5RyxFQUFBOE4sV0FBQXdWLEtBQ0FBLElBQUF2Z0IsRUFBQTFCLE1BQUEwQixFQUFBbkQsTUFBQW1ELEVBQUFsRCxTQUVBLElBQUEwakIsR0FBQXhnQixFQUFBeWdCLGFBQ0EsV0FBQUQsRUFDQXhnQixFQUFBeWdCLGNBQUFELEVBQUFELE1BR0EsUUFBQUcsS0FBQUgsR0FDQUMsRUFBQUUsR0FBQUgsRUFBQUcsRUFHQSxLQUFBempCLEVBQUF3UCxXQUFBek0sRUFBQXhDLGtCQUFBd0MsRUFBQXJDLGFBV0EsQ0FDQSxHQUFBVyxHQUFBMEIsRUFBQTFCLEtBQ0EsV0FBQUEsRUFDQTBCLEVBQUExQixNQUFBa2lCLE1BR0EsUUFBQTFlLEtBQUEwZSxHQUNBbGlCLEVBQUF3RCxHQUFBMGUsRUFBQTFlLEVBR0E5QixHQUFBeWdCLGNBQUEsTUFDQXhqQixFQUFBYSxjQUFBdEgsSUFBQXdKLEVBQUFyQyxjQUNBcUMsRUFBQTFDLFdBQUE0UixZQUFBMVksRUFBQW1xQixLQUFBM2dCLFFBdEJBQSxHQUFBc0csVUFPQTRaLEVBQUFsZ0IsR0FBQSxFQUFBeEosSUFOQXdKLEVBQUF4QyxrQkFBQSxFQUNBd0MsRUFBQXNHLFdBQUEsRUFDQStaLEVBQUFyZ0IsR0FBQSxFQUFBeEosR0FDQXdKLEVBQUFzRyxXQUFBLEdBc0JBLFFBQUErWixHQUFBcmdCLEVBQUFtZ0IsRUFBQTNwQixHQUNBLElBQUF3SixFQUFBekMsV0FBQSxDQUdBLEdBQUE0aUIsSUFBQW5nQixFQUFBckMsYUFBQSxDQUNBcUMsRUFBQXhDLGtCQUFBLENBQ0EsSUFBQW9qQixHQUFBNWdCLEVBQUF5Z0IsY0FDQUksRUFBQTdnQixFQUFBMUIsTUFDQW1JLEVBQUF4SixFQUFBZSxZQUFBNmlCLEVBQUFELEdBQ0EvakIsRUFBQW1ELEVBQUFuRCxNQUNBaWtCLEVBQUE5Z0IsRUFBQWxELE9BQ0FrRCxHQUFBeWdCLGNBQUEsSUFDQSxJQUFBbmhCLEdBQUFVLEVBQUEyRyxpQkFBQWthLEVBQUFwYSxFQUFBNUosSUFBQWlrQixFQUFBWCxHQUFBLEdBQ0F2WixHQUFBLENBQ0EzSixHQUFBeUIsVUFBQVksR0FDQUEsRUFBQXVTLEVBQUEzUCxZQUFBLFdBRUE1QyxJQUFBckMsRUFBQTRKLE9BQ0F2SCxFQUFBVSxFQUFBYixXQUNBeUgsR0FBQSxHQUVBM0osRUFBQTRCLGlCQUFBUyxHQUNBQSxFQUFBdVMsRUFBQTNQLFlBQUEsWUFBQTVDLEdBRUFyQyxFQUFBdUIsUUFBQWMsSUFJQXJDLEVBQUF3QixZQUVBLElBQUFZLEdBQUFXLEVBQUFiLFdBQ0F4QyxFQUFBcUQsRUFBQStHLE9BQ0F4SCxFQUFBRixFQUFBTixLQUFBTSxFQUFBTixJQUFBc0MsYUFBQWhDLEVBQUFOLElBQUFwQyxFQUFBb0MsSUFFQSxJQURBaUIsRUFBQWIsV0FBQUcsRUFDQXNILEVBQUEsQ0FDQSxHQUFBaEosT0FBQSxFQUNBWCxHQUFBQyxZQUFBOEMsRUFBQW5DLG1CQUNBRCxFQUFBb0MsRUFBQW5DLG1CQUdBRCxFQURBWCxFQUFBYSxjQUFBRixHQUNBb0MsRUFBQWpDLGNBR0FkLEVBQUFlLFlBQUE4aUIsRUFBQWxqQixFQUVBLElBQUFtakIsR0FBQS9nQixFQUFBMUMsVUFDQXVVLEdBQUFtUCxlQUFBM2hCLEVBQUFDLEVBQUFDLEVBQUF3aEIsRUFBQW5qQixFQUFBb0MsRUFBQXZDLFFBQUEsR0FDQXNqQixFQUFBM1UsVUFDQW5QLEVBQUFDLFlBQUE4QyxFQUFBd0cscUJBQ0F4RyxFQUFBd0csbUJBQUEzSixFQUFBZ2tCLEVBQUFDLEdBRUE3akIsRUFBQWdCLE9BQUE0VCxFQUFBaFosUUFBQW1KLGNBQ0E2UCxFQUFBaFosUUFBQW1KLFlBQUFyRixHQUdBLEdBQUFvQyxHQUFBcEMsRUFBQW9DLElBQUFPLEVBQUFQLEdBQ0E4UyxHQUFBaFosUUFBQXNKLG9CQUNBMFAsRUFBQW9QLG9CQUFBN3JCLElBQUE0SyxFQUFBVixFQUFBUCxLQUVBa2hCLEVBQUF0akIsRUFBQW9DLE9BR0FpQixHQUFBMUIsTUFBQTBCLEVBQUF5Z0IsY0FDQXpnQixFQUFBeWdCLGNBQUEsSUFFQXhqQixHQUFBYSxjQUFBdEgsSUFDQUEsRUFBQXpCLEtBQUFpTCxJQW5KQXBMLE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUU5QyxJQUFBd2MsR0FBQXpmLEVBQUEsR0FDQTZLLEVBQUE3SyxFQUFBLEdBS0FndUIsR0FKQW5qQixFQUFBaWtCLFVBSUEsR0FBQWhZLE1BWUFrRSxFQUFBM2EsUUFBQUMsVUFtSUFrSyxFQUFBLFdBQ0EsUUFBQUEsR0FBQUMsRUFBQUMsR0FDQWYsS0FBQXVDLE1BQUEsS0FDQXZDLEtBQUE0QixjQUFBLEVBQ0E1QixLQUFBc0IsZ0JBQUEsRUFDQXRCLEtBQUF5QixrQkFBQSxFQUNBekIsS0FBQTBrQixjQUFBLEtBQ0Exa0IsS0FBQW9ELFdBQUEsS0FDQXBELEtBQUFnTCxPQUFBLEtBQ0FoTCxLQUFBd0IsWUFBQSxFQUNBeEIsS0FBQXVCLFdBQUEsS0FDQXZCLEtBQUFnQyxjQUFBLEtBQ0FoQyxLQUFBMEIsUUFBQSxFQUNBMUIsS0FBQXVLLFdBQUEsRUFFQXZLLEtBQUFjLFNBQUFnVixFQUFBMVUsVUFFQXBCLEtBQUFlLFdBQUErVSxFQUFBMVUsVUFnRkEsTUE5RUFQLEdBQUEvSCxVQUFBc3NCLFlBQUEsU0FBQTNxQixJQUNBdUYsS0FBQXdCLFlBQUFOLEVBQUF3UCxXQUdBNFQsRUFBQXRrQixNQUFBLEVBQUF2RixJQUVBb0csRUFBQS9ILFVBQUE0WSxTQUFBLFNBQUE4UyxFQUFBL3BCLEdBQ0F1RixLQUFBd0IsYUFHQXhCLEtBQUFzQixlQU9BSixFQUFBd0IsYUFOQTZoQixFQUFBdmtCLEtBQUF3a0IsRUFBQS9wQixLQVNBb0csRUFBQS9ILFVBQUF1c0IsYUFBQSxTQUFBYixHQU9BeGtCLEtBQUEwUixTQUFBOFMsSUFFQTNqQixFQUFBL0gsVUFBQThSLGlCQUFBLFNBQUFrYSxFQUFBcGEsRUFBQTRhLEVBQUE1YyxFQUFBM0gsRUFBQXFqQixFQUFBbUIsR0FPQSxJQU5BLElBQUF2bEIsS0FBQXdCLFlBSUFOLEVBQUF3QixhQUVBNGlCLElBQUE1YyxPQUFBb04sRUFBQTFVLFdBQUEwakIsSUFBQXBhLEdBQUEwWixFQUFBLENBY0EsR0FiQWtCLElBQUE1YyxPQUFBb04sRUFBQTFVLFlBQ0FGLEVBQUFDLFlBQUFuQixLQUFBa1MsNEJBQUFxVCxJQUNBdmxCLEtBQUE0QixjQUFBLEVBQ0E1QixLQUFBa1MsMEJBQUF4SixFQUFBM0gsR0FDQWYsS0FBQTRCLGNBQUEsR0FFQTVCLEtBQUF5QixtQkFDQWlKLEVBQUF4SixFQUFBZSxZQUFBeUksRUFBQTFLLEtBQUEwa0IsZUFDQTFrQixLQUFBeUIsa0JBQUEsRUFDQXpCLEtBQUEwa0IsY0FBQSxPQUlBeGpCLEVBQUFDLFlBQUFuQixLQUFBd2xCLHdCQUFBeGxCLEtBQUF3bEIsc0JBQUE5YyxFQUFBZ0MsRUFBQTNKLElBQUFxakIsRUFBQSxDQUNBbGpCLEVBQUFDLFlBQUFuQixLQUFBeWxCLHVCQUNBemxCLEtBQUFzQixnQkFBQSxFQUNBdEIsS0FBQXlsQixvQkFBQS9jLEVBQUFnQyxFQUFBM0osR0FDQWYsS0FBQXNCLGdCQUFBLEdBRUF0QixLQUFBYyxNQUFBNEgsRUFDQTFJLEtBQUF1QyxNQUFBbUksRUFDQTFLLEtBQUFlLFVBQ0ErVSxFQUFBaFosUUFBQXNGLGNBQ0EwVCxFQUFBaFosUUFBQXNGLGFBQUFwQyxLQUVBLElBQUFzQyxHQUFBdEMsS0FBQXNDLE9BQUFvRyxFQUFBZ0MsRUFBQTNKLEVBSUEsT0FIQStVLEdBQUFoWixRQUFBMEYsYUFDQXNULEVBQUFoWixRQUFBMEYsWUFBQXhDLE1BRUFzQyxFQUdBdEMsS0FBQWMsTUFBQTRILEVBQ0ExSSxLQUFBdUMsTUFBQW1JLEVBQ0ExSyxLQUFBZSxVQUdBLE1BQUFHLEdBQUE0SixPQUdBakssRUFBQS9ILFVBQUF3SixPQUFBLFNBQUFvRyxFQUFBZ0MsRUFBQWdiLEtBQ0E3a0IsSUFFQWhCLEdBQUFhLFFBQUFHLEdwQzR2SU0sU0FBVXhELEVBQVF3QyxFQUFTeEosR0FFakMsWXFDditJQSxTQUFBSixHQUFBQyxFQUFBNEssR0FFQSxPQURBd0csTUFDQUMsRUFBQSxFQUFvQkEsRUFBQUMsVUFBQTdNLE9BQXVCNE0sSUFDM0NELEVBQUFDLEVBQUEsR0FBQUMsVUFBQUQsRUFFQSxJQUFBckcsRUFBQXlCLFVBQUF6TSxJQUFBZ0wsRUFBQTZKLFNBQUE3VSxHQUNBLFNBQUFZLE9BQUEsa0lBRUEsSUFLQW1RLEdBTEF4TyxFQUFBNk8sRUFDQWQsRUFBQSxLQUNBVCxFQUFBLEtBQ0FRLEVBQUEsS0FDQXJELEVBQUEsQ0FVQSxJQVJBb0UsSUFDQSxJQUFBQSxFQUFBM00sT0FDQWxDLEVBQUE2TyxFQUFBLEdBRUEsSUFBQUEsRUFBQTNNLFNBQ0FsQyxNQUFBLEtBR0F5SSxFQUFBcU8sU0FBQXJaLElBRUEsR0FEQWdOLEVBQUE0UyxFQUFBa0csd0JBQUE5bEIsSUFDQWdMLEVBQUFhLGNBQUFqQixHQUFBLENBQ0FtRyxJQUNBLFFBQUFvQyxLQUFBdkksR0FDQSxjQUFBdUksR0FBQSxVQUFBQSxFQUNBOUMsRUFBQXpGLEVBQUF1SSxHQUVBLFFBQUFBLEVBQ0F0RCxFQUFBakYsRUFBQWlGLElBRUEsYUFBQXNELEdBQUFuSSxFQUFBQyxZQUFBMUksR0FDQUEsRUFBQXFJLEVBQUFySSxTQUVBLFFBQUE0USxFQUNBN0MsRUFBQTFGLEVBQUEwRixJQUdBUyxFQUFBb0MsR0FBQXZJLEVBQUF1SSxRQWNBLElBUkFuRyxFQUFBLEdBQ0FoQyxFQUFBQyxZQUFBMUksS0FDQXFJLElBQ0FBLE1BRUFBLEVBQUFySSxXQUNBQSxFQUFBLE9BRUF5SSxFQUFBYSxjQUFBakIsR0FBQSxDQUNBbUcsSUFDQSxRQUFBb0MsS0FBQXZJLEdBQ0E2a0IsRUFBQTdYLElBQUF6RSxJQUNBN0MsSUFDQUEsTUFFQUEsRUFBQTZDLEdBQUF2SSxFQUFBdUksSUFFQSxRQUFBQSxFQUNBdEQsRUFBQWpGLEVBQUFpRixJQUdBa0IsRUFBQW9DLEdBQUF2SSxFQUFBdUksR0FLQSxNQUFBeU0sR0FBQTNQLFlBQUFqRCxFQUFBaE4sRUFBQXFRLEVBQUE5TixFQUFBd08sRUFBQWxCLEVBQUFTLEdBekZBM04sT0FBQUksZUFBQTRHLEVBQUEsY0FBOEN2RyxPQUFBLEdBQzlDLElBQUF3YyxHQUFBemYsRUFBQSxHQUNBNkssRUFBQTdLLEVBQUEsR0FDQXN2QixFQUFBLEdBQUFuVCxJQUNBbVQsR0FBQWxULElBQUEsd0JBQ0FrVCxFQUFBbFQsSUFBQSx1QkFDQWtULEVBQUFsVCxJQUFBLDBCQUNBa1QsRUFBQWxULElBQUEsMkJBQ0FrVCxFQUFBbFQsSUFBQSx5QkFDQWtULEVBQUFsVCxJQUFBLHdCQWtGQTVTLEVBQUFhLFFBQUF6SyxHckMrL0lNLFNBQVVvSCxFQUFRd0MsRUFBU3hKLEdBRWpDLFlzQ3psSkEsU0FBQXV2QixHQUFBOWtCLEdBRUEsTUFEQUEsR0FBQXNWLEdBQUEsSUFDQU4sRUFBQTNQLFlBQUEsRUFBQTBmLEVBQUFubEIsUUFBQSxVQUFBSSxHQUxBakksT0FBQUksZUFBQTRHLEVBQUEsY0FBOEN2RyxPQUFBLEdBQzlDLElBQUF3YyxHQUFBemYsRUFBQSxHQUNBd3ZCLEVBQUF4dkIsRUFBQSxHQUtBd0osR0FBQWEsUUFBQWtsQixHdENtbUpNLFNBQVV2b0IsRUFBUXdDLEVBQVN4SixHQUVqQyxZdUM1bUpBLElBQUF1YSxHQUFBNVEsV0FBQTRRLFdBQUEsV0FDQSxHQUFBQyxHQUFBaFksT0FBQWlZLGlCQUNVQyx1QkFBZ0JqRSxRQUFBLFNBQUE1TSxFQUFBakQsR0FBc0NpRCxFQUFBNlEsVUFBQTlULElBQ2hFLFNBQUFpRCxFQUFBakQsR0FBeUIsT0FBQTNHLEtBQUEyRyxLQUFBbEUsZUFBQXpDLEtBQUE0SixFQUFBNUosR0FBQTJHLEVBQUEzRyxJQUN6QixpQkFBQTRKLEVBQUFqRCxHQUVBLFFBQUErVCxLQUF1QmhSLEtBQUFpUixZQUFBL1EsRUFEdkIyUSxFQUFBM1EsRUFBQWpELEdBRUFpRCxFQUFBcEgsVUFBQSxPQUFBbUUsRUFBQXBFLE9BQUFxWSxPQUFBalUsSUFBQStULEVBQUFsWSxVQUFBbUUsRUFBQW5FLFVBQUEsR0FBQWtZLE9BR0FuWSxRQUFBSSxlQUFBNEcsRUFBQSxjQUE4Q3ZHLE9BQUEsR0FDOUMsSUFBQXdzQixHQUFBenZCLEVBQUEsR0FDQXNzQixFQUFBLFNBQUFwUixHQUVBLFFBQUFvUixHQUFBN2hCLEVBQUFDLEdBQ0EsR0FBQXlRLEdBQUFELEVBQUF2WSxLQUFBZ0gsS0FBQWMsRUFBQUMsSUFBQWYsSUFFQSxPQURBYyxHQUFBa1IsS0FBQSxJQUNBUixFQUVBLE1BTkFaLEdBQUErUixFQUFBcFIsR0FNQW9SLEdBQ0NtRCxFQUFBcGxCLFFBQ0RiLEdBQUFhLFFBQUFpaUIsR3ZDbW5KTSxTQUFVdGxCLEVBQVF3QyxFQUFTeEosR0FFakMsWXdDMW9KQSxJQUFBdWEsR0FBQTVRLFdBQUE0USxXQUFBLFdBQ0EsR0FBQUMsR0FBQWhZLE9BQUFpWSxpQkFDVUMsdUJBQWdCakUsUUFBQSxTQUFBNU0sRUFBQWpELEdBQXNDaUQsRUFBQTZRLFVBQUE5VCxJQUNoRSxTQUFBaUQsRUFBQWpELEdBQXlCLE9BQUEzRyxLQUFBMkcsS0FBQWxFLGVBQUF6QyxLQUFBNEosRUFBQTVKLEdBQUEyRyxFQUFBM0csSUFDekIsaUJBQUE0SixFQUFBakQsR0FFQSxRQUFBK1QsS0FBdUJoUixLQUFBaVIsWUFBQS9RLEVBRHZCMlEsRUFBQTNRLEVBQUFqRCxHQUVBaUQsRUFBQXBILFVBQUEsT0FBQW1FLEVBQUFwRSxPQUFBcVksT0FBQWpVLElBQUErVCxFQUFBbFksVUFBQW1FLEVBQUFuRSxVQUFBLEdBQUFrWSxPQUdBblksUUFBQUksZUFBQTRHLEVBQUEsY0FBOEN2RyxPQUFBLEdBQzlDLElBQUF3c0IsR0FBQXp2QixFQUFBLEdBQ0EwdkIsRUFBQSxTQUFBeFUsR0FFQSxRQUFBd1UsR0FBQWpsQixFQUFBQyxHQUNBLEdBQUF5USxHQUFBRCxFQUFBdlksS0FBQWdILEtBQUFjLEVBQUFDLElBQUFmLElBSUEsT0FIQWMsR0FBQXNWLEtBQ0F0VixFQUFBc1YsR0FBQSxLQUVBNUUsRUFFQSxNQVJBWixHQUFBbVYsRUFBQXhVLEdBUUF3VSxHQUNDRCxFQUFBcGxCLFFBQ0RiLEdBQUFhLFFBQUFxbEIsR3hDaXBKTSxTQUFVMW9CLEVBQVF3QyxFQUFTeEosR0FFakMsWXlDM3BKQSxTQUFBMnZCLEdBQUFsSSxHQUNBLElBQUFBLEVBQ0EsU0FBQW1JLFdBQUEsaUVBRUEsUUFDQTFQLFdBQUF1SCxFQUFBdkgsV0FDQWtMLE9BQUEzRCxFQUFBMkQsT0FDQW5wQixLQUFBd2xCLEVBQUF4bEIsS0FDQXVnQixRQUFBaUYsRUFBQWpGLFFBQ0FnTCxTQUFBLFNBQUFqSixHQUNBLE1BQUFzTCxHQUFBak4sV0FBQSxFQUFBMkIsRUFBQTVhLEtBQUE0YSxNQUVBbkYsZUFDQSxnQkFBQXFJLEVBQUFySSxTQUFBUCxTQUFBNEksRUFBQXJJLFVBQ0FQLFNBQUEsSUFDQUMsT0FBQSxLQUdBeUYsVUFDQSxNQUFBNWEsTUFBQXlWLFNBQUFQLFNBQUFsVixLQUFBeVYsU0FBQU4sU0FsQ0EsR0FBQXZFLEdBQUE1USxXQUFBNFEsV0FBQSxXQUNBLEdBQUFDLEdBQUFoWSxPQUFBaVksaUJBQ1VDLHVCQUFnQmpFLFFBQUEsU0FBQTVNLEVBQUFqRCxHQUFzQ2lELEVBQUE2USxVQUFBOVQsSUFDaEUsU0FBQWlELEVBQUFqRCxHQUF5QixPQUFBM0csS0FBQTJHLEtBQUFsRSxlQUFBekMsS0FBQTRKLEVBQUE1SixHQUFBMkcsRUFBQTNHLElBQ3pCLGlCQUFBNEosRUFBQWpELEdBRUEsUUFBQStULEtBQXVCaFIsS0FBQWlSLFlBQUEvUSxFQUR2QjJRLEVBQUEzUSxFQUFBakQsR0FFQWlELEVBQUFwSCxVQUFBLE9BQUFtRSxFQUFBcEUsT0FBQXFZLE9BQUFqVSxJQUFBK1QsRUFBQWxZLFVBQUFtRSxFQUFBbkUsVUFBQSxHQUFBa1ksT0FHQW5ZLFFBQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBd2MsR0FBQXpmLEVBQUEsR0FDQThhLEVBQUE5YSxFQUFBLElBQ0E2dkIsRUFBQTd2QixFQUFBLElBQ0E4dkIsRUFBQTl2QixFQUFBLElBd0JBK3ZCLEVBQUEsU0FBQTdVLEdBRUEsUUFBQTZVLEdBQUF0bEIsRUFBQUMsR0FDQSxHQUFBeVEsR0FBQUQsRUFBQXZZLEtBQUFnSCxLQUFBYyxFQUFBQyxJQUFBZixJQUtBLE9BSkF3UixHQUFBSyxPQUFBbVUsRUFBQWxsQixFQUFBZ2QsU0FDQXRNLEVBQUFqUCxPQUNBcVksSUFBQTlaLEVBQUE4WixLQUFBcEosRUFBQUssT0FBQStJLEtBRUFwSixFQXNDQSxNQTdDQVosR0FBQXdWLEVBQUE3VSxHQVNBNlUsRUFBQXR0QixVQUFBNkksbUJBQUEsV0FDQSxHQUFBNlAsR0FBQXhSLElBQ0FBLE1BQUE2UixTQUNBN1IsS0FBQTJoQixTQUFBM2hCLEtBQUE2UixPQUFBNFAsT0FBQSxXQUNBalEsRUFBQTZVLFFBQUE3VSxFQUFBSyxPQUFBK0ksU0FJQXdMLEVBQUF0dEIsVUFBQW9aLDBCQUFBLFNBQUF4SixHQUNBLEdBQUE4SSxHQUFBeFIsSUFDQUEsTUFBQTBSLFVBQXVCa0osSUFBQWxTLEVBQUFrUyxLQUFxQjVhLEtBQUFjLE1BQUF3bEIsU0FBQSxXQUFxQyxNQUFBOVUsR0FBQTFRLE1BQUF3bEIsZ0JBQWlDLEtBRWxIRixFQUFBdHRCLFVBQUFtWixxQkFBQSxXQUNBalMsS0FBQTJoQixVQUNBM2hCLEtBQUEyaEIsWUFHQXlFLEVBQUF0dEIsVUFBQXV0QixRQUFBLFNBQUF6TCxHQUNBLEdBQUFwSixHQUFBeFIsSUFDQUEsTUFBQTBSLFVBQXVCa0osT0FBVzVhLEtBQUFjLE1BQUF3bEIsU0FBQSxXQUFxQyxNQUFBOVUsR0FBQTFRLE1BQUF3bEIsZ0JBQWlDLEtBRXhHRixFQUFBdHRCLFVBQUF3SixPQUFBLFNBQUF4QixHQUNBLEdBQUEwUSxHQUFBeFIsS0FDQXVtQixFQUFBTCxFQUFBeGxCLFFBQUFJLEVBQUFySSxTQUFBdUgsS0FBQXVDLE1BQUFxWSxJQUNBLE9BQUEyTCxHQUFBMU8sVUFDQTJPLFdBQUEsV0FDQWhWLEVBQUFLLE9BQUFnSCxRQUFBME4sRUFBQTFPLFdBQ2EsR0FDYixNQUVBL0IsRUFBQTNQLFlBQUEsRUFBQWdnQixFQUFBemxCLFFBQUEsV0FDQStVLFNBQUF6VixLQUFBdUMsTUFBQXFZLElBQ0F4RCxRQUFBbVAsRUFBQW5QLFFBQ0F2RixPQUFBN1IsS0FBQTZSLFVBR0F1VSxHQUNDalYsRUFBQXpRLFFBQ0RiLEdBQUFhLFFBQUEwbEIsR3pDaXJKTSxTQUFVL29CLEVBQVF3QyxFQUFTeEosR0FFakMsWTBDNXRKQSxTQUFBb3dCLEdBQUFDLEdBQ0EsR0FBQUEsRUFBQUMsYUFBQUQsRUFBQUUsWUFDQSxNQUFBeFYsR0FBQTFRLFFBQUFvbEIsRUFBQXBsQixRQUFBZ21CLEVBR0EsSUFBQXphLEtBQ0EsUUFBQWxHLEtBQUEyZ0IsR0FDQXphLEVBQUFsRyxHQUFBMmdCLEVBQUEzZ0IsRUFTQSxJQVBBa0csRUFBQXhULFlBRUF3VCxFQUFBMGEsYUFDQTFhLEVBQUF4VCxTQUFBSCxLQUFBdXVCLEVBQUE1YSxFQUFBMGEsbUJBQ0ExYSxHQUFBMGEsWUFHQTFhLEVBQUEyYSxZQUFBLENBQ0EsR0FBQW5MLEdBQUF2YSxFQUFBdUIsUUFBQXdKLEVBQUEyYSxhQUFBM2EsRUFBQTJhLGFBQUEzYSxFQUFBMmEsY0FDQTVRLEVBQUEvSixFQUFBeFQsVUFBQUgsS0FBQThDLE1BQUE0YSxFQUFBOFEsRUFBQXJMLFVBQ0F4UCxHQUFBMmEsWUFVQSxNQVBBLEtBQUEzYSxFQUFBeFQsU0FBQWtDLFNBQ0FzUixFQUFBeFQsU0FBQXdULEVBQUF4VCxTQUFBLEtBRUF5SSxFQUFBdUIsUUFBQXdKLEVBQUF4VCxXQUFBLElBQUF3VCxFQUFBeFQsU0FBQWtDLFNBQ0F1RyxFQUFBdUIsUUFBQXdKLEVBQUF4VCxXQUFBLElBQUFJLE9BQUFtRyxLQUFBaU4sRUFBQXhULFVBQUFrQyxlQUNBc1IsR0FBQXhULFNBRUEyWSxFQUFBMVEsUUFBQW9sQixFQUFBcGxCLFFBQUF1TCxFQUNBLElBQUErSixHQXJDQW5kLE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBOFgsR0FBQS9hLEVBQUEsSUFDQTZLLEVBQUE3SyxFQUFBLEdBQ0F5dkIsRUFBQXp2QixFQUFBLEdBQ0F3d0IsRUFBQSxTQUFBRSxHQUFrRCxNQUFBM1YsR0FBQTFRLFFBQUFvbEIsRUFBQXBsQixRQUFBcW1CLElBQ2xEQyxFQUFBLFNBQUFDLEdBQWtELE1BQUFSLEdBQUFRLElBQ2xESCxFQUFBLFNBQUFJLEdBQW9ELE1BQUFBLEdBQUF0cEIsSUFBQW9wQixHQWlDcERubkIsR0FBQWEsUUFBQSxTQUFBeW1CLEdBQTBDLE1BQUFBLEdBQUF2cEIsSUFBQTZvQixLMUNneEpwQyxTQUFVcHBCLEVBQVF3QyxFQUFTeEosR0FFakMsWTJDLzFKQXdDLFFBQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBOHRCLEdBQUEvd0IsRUFBQSxHQUNBd0osR0FBQXduQixhQUFBRCxFQUFBMW1CLE9BQ0EsSUFBQTRtQixHQUFBanhCLEVBQUEsR0FDQXdKLEdBQUErbEIsVUFBQTBCLEVBQUE1bUIsT0FDQSxJQUFBNm1CLEdBQUFseEIsRUFBQSxHQUNBd0osR0FBQThpQixXQUFBNEUsRUFBQTdtQixPQUNBLElBQUFtbEIsR0FBQXh2QixFQUFBLEdBQ0F3SixHQUFBa1csS0FBQThQLEVBQUFubEIsT0FDQSxJQUFBd2xCLEdBQUE3dkIsRUFBQSxHQUNBd0osR0FBQXdYLE1BQUE2TyxFQUFBeGxCLE9BQ0EsSUFBQThtQixHQUFBbnhCLEVBQUEsR0FDQXdKLEdBQUFrbUIsU0FBQXlCLEVBQUE5bUIsUUFDQWIsRUFBQTRuQixjQUFBRCxFQUFBOW1CLE9BQ0EsSUFBQW9sQixHQUFBenZCLEVBQUEsRUFDQXdKLEdBQUF5UixNQUFBd1UsRUFBQXBsQixPQUNBLElBQUFnbkIsR0FBQXJ4QixFQUFBLEdBQ0F3SixHQUFBdW1CLE9BQUFzQixFQUFBaG5CLE9BQ0EsSUFBQXlsQixHQUFBOXZCLEVBQUEsR0FDQXdKLEdBQUFzWCxjQUFBZ1AsRUFBQXpsQixRQUNBYixFQUFBYSxTQUNBNFEsTUFBQXdVLEVBQUFwbEIsUUFDQWlpQixXQUFBNEUsRUFBQTdtQixRQUNBcWxCLFNBQUF5QixFQUFBOW1CLFFBQ0ErbUIsY0FBQUQsRUFBQTltQixRQUNBMGxCLE9BQUFzQixFQUFBaG5CLFFBQ0F5VyxjQUFBZ1AsRUFBQXpsQixRQUNBcVYsS0FBQThQLEVBQUFubEIsUUFDQWtsQixVQUFBMEIsRUFBQTVtQixRQUNBMlcsTUFBQTZPLEVBQUF4bEIsUUFDQTJtQixhQUFBRCxFQUFBMW1CLFUzQ3UySk0sU0FBVXJELEVBQVF3QyxFQUFTeEosR0FFakMsWTRDbDRKQSxTQUFBcWhCLEdBQUFqZixHQUNBLE1BQUFvSCxHQUFBNEMsUUFBQWhLLGFBTUEsUUFBQWlPLEdBQUF0RyxHQUNBLE9BQUFlLEVBQUFmLEVBQUF0SCxhQUFBcUksRUFBQWYsRUFBQXRILFVBQUF3SixRQUdBLFFBQUFRLEdBQUExQyxHQUNBLEdBQUFsSyxTQUFBa0ssRUFDQSxrQkFBQWxLLEdBQUEsV0FBQUEsRUFHQSxRQUFBNkwsR0FBQTNCLEdBQ0EsTUFBQWUsR0FBQWYsSUFBQThCLEVBQUE5QixHQUdBLFFBQUF1QyxHQUFBdkMsR0FDQSxNQUFBOEIsR0FBQTlCLEtBQUEsSUFBQUEsR0FBQXVuQixFQUFBdm5CLElBQUFlLEVBQUFmLEdBR0EsUUFBQTRPLEdBQUE1TyxHQUNBLHdCQUFBQSxHQUdBLFFBQUFtUCxHQUFBblAsR0FDQSxzQkFBQUEsR0FHQSxRQUFBcVAsR0FBQXJQLEdBQ0Esc0JBQUFBLEdBR0EsUUFBQThCLEdBQUE5QixHQUNBLGNBQUFBLEVBR0EsUUFBQXVuQixHQUFBdm5CLEdBQ0EsV0FBQUEsRUFHQSxRQUFBZSxHQUFBZixHQUNBLGdCQUFBQSxFQUdBLFFBQUEySyxHQUFBM0ssR0FDQSxzQkFBQUEsR0FHQSxRQUFBc0MsR0FBQXFnQixHQUlBLEtBSEFBLEtBQ0FBLEVBQUFsakIsRUFBQXNsQixXQUVBLEdBQUFydUIsT0FBQSxrQkFBQWlzQixHQUdBLFFBQUE3RyxHQUFBNkcsR0FDQXJxQixRQUFBQyxLQUFBb3FCLEdBR0EsUUFBQTlnQixHQUFBMmxCLEVBQUFDLEdBQ0EsR0FBQUMsS0FDQSxJQUFBRixFQUNBLE9BQUE3aEIsS0FBQTZoQixHQUNBRSxFQUFBL2hCLEdBQUE2aEIsRUFBQTdoQixFQUdBLElBQUE4aEIsRUFDQSxPQUFBOWhCLEtBQUE4aEIsR0FDQUMsRUFBQS9oQixHQUFBOGhCLEVBQUE5aEIsRUFHQSxPQUFBK2hCLEdBR0EsUUFBQTVYLEtBQ0FsUSxLQUFBc1EsYUFwRkF6WCxPQUFBSSxlQUFBNEcsRUFBQSxjQUE4Q3ZHLE9BQUEsSUFDOUN1RyxFQUFBaUwsTUFBQSxTQUNBakwsRUFBQXNsQixVQUFBLHFGQUVBdGxCLEVBQUE2USxZQUFBLG1CQUFBbU4saUJBQUEvbkIsVUFJQStKLEVBQUE2WCxVQUdBN1gsRUFBQTRDLFFBQUFxSyxNQUFBckssUUFJQTVDLEVBQUE2RyxzQkFLQTdHLEVBQUFpRCxtQkFJQWpELEVBQUFrQyxnQkFJQWxDLEVBQUE4QyxZQUlBOUMsRUFBQW1QLGFBSUFuUCxFQUFBMFAsV0FJQTFQLEVBQUE0UCxXQUlBNVAsRUFBQXFDLFNBSUFyQyxFQUFBOG5CLFNBSUE5bkIsRUFBQXNCLGNBSUF0QixFQUFBa0wsV0FPQWxMLEVBQUE2QyxhQUlBN0MsRUFBQXFjLFVBZUFyYyxFQUFBb0MsY0FJQXBDLEVBQUFxUSxZQUNBQSxFQUFBcFgsVUFBQXFhLFlBQUEsU0FBQTFZLEdBQ0F1RixLQUFBc1EsVUFBQWhZLEtBQUFtQyxJQUVBeVYsRUFBQXBYLFVBQUF1WCxRQUFBLFdBSUEsSUFIQSxHQUNBcVIsR0FEQXBSLEVBQUF0USxLQUFBc1EsVUFHQW9SLEVBQUFwUixFQUFBeVgsU0FDQXJHLE01Q2c1Sk0sU0FBVXJrQixFQUFRd0MsRUFBU3hKLEdBRWpDLFk2QzcrSkEsU0FBQXVZLEdBQUFoVyxFQUFBb3ZCLEVBQUFDLEVBQUFqbEIsR0FDQSxHQUFBa2xCLEdBQUF4WixFQUFBdFYsSUFBQVIsRUFDQSxJQUFBcXZCLEVBQ0FDLElBQ0FBLEdBQThCQyxNQUFBLEdBQUFoYixLQUFBaWIsU0FBQSxNQUM5QkYsRUFBQUUsU0FBQUMsRUFBQXp2QixFQUFBc3ZCLEdBQ0F4WixFQUFBclYsSUFBQVQsRUFBQXN2QixJQUVBRixHQUNBTSxHQUFBLFlBQUExdkIsR0FDQTJ2QixFQUFBdmxCLEdBR0FrbEIsRUFBQUMsTUFBQTl1QixJQUFBMkosRUFBQWlsQixPQUVBLElBQUFDLEVBQUEsQ0FDQSxHQUFBQyxHQUFBRCxFQUFBQyxLQUNBQSxHQUFBelUsT0FBQTFRLElBRUEsSUFBQW1sQixFQUFBSyxPQUNBMXlCLFNBQUFxckIsb0JBQUFzSCxFQUFBN3ZCLEdBQUFzdkIsRUFBQUUsVUFDQTFaLEVBQUFnRixPQUFBOWEsS0FNQSxRQUFBOHZCLEdBQUF4WixFQUFBOEgsRUFBQW1SLEVBQUFRLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQVgsRUFBQS91QixJQUFBNGQsRUFDQSxNQUFBOFIsSUFDQUgsSUFFQUUsRUFBQTdsQixJQUFBZ1UsRUFDQThSLEVBQUE1WixNQUNBNFosRUFBQTVaLE1BQUE0WixFQUFBcHRCLEtBQUF3VCxHQUdBNFosRUFBQTVaLElBRUFBLEVBQUE2WixnQkFJQUosRUFBQSxHQUNBLEdBQUFubEIsR0FBQXdULEVBQUExUixVQUlBLFdBQUE5QixHQUFBb2xCLEdBQUEsSUFBQXBsQixFQUFBb00sVUFBQXBNLEVBQUF3bEIsU0FDQSxNQUVBTixHQUFBeFosRUFBQTFMLEVBQUEya0IsRUFBQVEsRUFBQUMsRUFBQUMsSUFHQSxRQUFBSixHQUFBN3ZCLEdBQ0EsTUFBQUEsR0FBQWljLE9BQUEsR0FBQTdHLGNBRUEsUUFBQWliLEtBQ0FqcEIsS0FBQStvQixjQUFBLEVBQ0Evb0IsS0FBQWtwQiwyQkFFQSxRQUFBYixHQUFBenZCLEVBQUFzdkIsR0FDQSxHQUFBRSxHQUFBLFNBQUFsWixHQUNBLEdBQUF5WixHQUFBVCxFQUFBQyxNQUFBSyxJQUNBLElBQUFHLEVBQUEsR0FDQXpaLEVBQUErWixpQkFFQSxJQUFBRSxJQUNBbm1CLElBQUFsTixTQUVBLEtBQ0ErQyxPQUFBSSxlQUFBaVcsRUFBQSxpQkFDQWhXLGNBQUEsRUFDQUUsSUFBQSxXQUNBLE1BQUErdkIsR0FBQW5tQixPQUlBLE1BQUFwTCxJQUNBOHdCLEVBQUF4WixJQUFBOEgsT0FBQWtSLEVBQUFDLE1BQUFRLEVBQUEsVUFBQXpaLEVBQUFoWixLQUFBaXpCLElBSUEsT0FEQXJ6QixVQUFBb3JCLGlCQUFBdUgsRUFBQTd2QixHQUFBd3ZCLEdBQ0FBLEVBR0EsUUFBQWdCLE1BQ0EsUUFBQWIsR0FBQXZsQixHQVVBQSxFQUFBeVQsUUFBQTJTLEVBckdBdndCLE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBNEgsR0FBQTdLLEVBQUEsR0FDQWl5QixFQUFBcG5CLEVBQUF3UCxhQUFBd1MsVUFBQW1HLFVBQUEsbUJBQUFDLEtBQUFwRyxVQUFBbUcsVUFDQTNhLEVBQUEsR0FBQXZCLElBMkJBdE4sR0FBQStPLGU3Q2drS00sU0FBVXZSLEVBQVF3QyxFQUFTeEosR0FFakMsWThDemxLQSxTQUFBa3pCLEdBQUE3dEIsRUFBQXdULEdBQ0EsT0FBWXhULE9BQUF3VCxTQVJaclcsT0FBQUksZUFBQTRHLEVBQUEsY0FBOEN2RyxPQUFBLElBVTlDdUcsRUFBQTBwQixhOUN1bUtNLFNBQVVsc0IsRUFBUXdDLEVBQVN4SixHQUVqQyxZK0MxbUtBLFNBQUFtekIsR0FBQWhtQixHQUVBLElBREEsR0FBQVIsR0FBQVEsRUFBQWUsV0FDQXZCLEdBQ0EsT0FBQUEsRUFBQTRNLFNBQ0EsU0FBQTVNLEVBQUF0SCxLQUFBLENBQ0EsR0FBQSt0QixHQUFBM3pCLFNBQUF1TyxlQUFBLEdBQ0FiLEdBQUFPLGFBQUEwbEIsRUFBQXptQixHQUNBQSxJQUFBMG1CLGdCQUVBLENBQ0EsR0FBQXJrQixHQUFBckMsRUFBQTJtQixlQUNBbm1CLEdBQUErQixZQUFBdkMsR0FDQUEsRUFBQXFDLEdBQUE3QixFQUFBZSxlQUlBdkIsS0FBQTBtQixZQUtBLFFBQUFFLEdBQUFocEIsRUFBQW9DLEVBQUEvQixFQUFBRixFQUFBQyxFQUFBa0osR0FDQSxHQUFBaFUsR0FBQTBLLEVBQUExSyxLQUNBc1EsRUFBQTVGLEVBQUE0RixHQUNBNUYsR0FBQW9DLEtBQ0EsSUFBQWxDLEdBQUFGLEVBQUFFLE9BQUFrRyxFQUFBNUYsU0FDQSxJQUFBOEksRUFBQSxDQUNBLEdBQUF4SSxHQUFBc0IsRUFBQTZtQixlQUFBN2tCLEVBQUFDLE1BQ0E1RCxFQUFBMkYsRUFBQXJHLDZCQUFBQyxFQUFBMUssRUFBQTRLLEVBQUFDLEVBQUFXLEVBQUFULEdBQ0FvQixFQUFBaEIsRUFBQStCLFVBQ0EvQixHQUFBMkosT0FBQXBLLEVBQ0FrcEIsRUFBQXpuQixFQUFBVyxFQUFBL0IsRUFBQUksRUFBQVcsY0FBQU4sR0FDQWlDLEVBQUFvUCw2QkFBQW5TLEVBQUE0RixFQUFBbkYsRUFBQUosR0FDQUksRUFBQWtKLFdBQUEsRUFDQXBJLEVBQUFyRixRQUFBc0osb0JBQ0E2RSxFQUFBQyxzQkFBQTdSLElBQUFnSSxFQUFBMkIsT0FHQSxDQUNBLEdBQUFYLEdBQUEyRSxFQUFBaEQsK0JBQUFwRCxFQUFBMUssRUFBQTRLLEVBQUFDLEVBQ0Erb0IsR0FBQXpuQixFQUFBVyxFQUFBL0IsRUFBQUYsRUFBQUMsR0FDQUosRUFBQW5JLFNBQUE0SixFQUNBekIsRUFBQW9DLElBQUFYLEVBQUFXLElBQ0FXLEVBQUFxUCxrQ0FBQXhNLEVBQUF4RCxFQUFBL0IsR0FFQSxNQUFBK0IsR0FFQSxRQUFBK21CLEdBQUFucEIsRUFBQW9DLEVBQUEvQixFQUFBRixFQUFBQyxHQUNBLEdBQUF2SSxHQUFBbUksRUFBQW5JLFNBQ0FxSSxFQUFBRixFQUFBRSxNQUNBeUYsRUFBQTNGLEVBQUEyRixVQUNBckQsRUFBQXRDLEVBQUFzQyxNQUNBc0QsRUFBQTVGLEVBQUE0RixHQUVBLElBREF4RixNQUFBLElBQUFrQyxHQUFBLEVBQ0EsSUFBQUYsRUFBQTRNLFVBQUE1TSxFQUFBZ25CLFFBQUFoYyxnQkFBQXBOLEVBQUExSyxLQUFBLENBSUEsR0FBQSt6QixHQUFBdG1CLEVBQUF1RSxhQUFBdEgsRUFBQSxLQUFBSyxFQUFBRixFQUFBQyxFQUdBLE9BRkFKLEdBQUFvQyxJQUFBaW5CLEVBQ0FqakIsRUFBQWpELGFBQUFmLEVBQUFzQyxXQUFBMmtCLEVBQUFqbkIsR0FDQWluQixFQU1BLEdBSkFycEIsRUFBQW9DLE1BQ0F2SyxHQUNBeXhCLEVBQUF6eEIsRUFBQXVLLEVBQUEvQixFQUFBRixFQUFBQyxHQUVBRixFQUFBLENBQ0EsR0FBQW1JLElBQUEsRUFDQUMsR0FBQSxLQUFBaEcsR0FBQSxDQUNBZ0csS0FDQUQsRUFBQUUsRUFBQUMsd0JBQUF0SSxHQUVBLFFBQUF1SSxLQUFBdkksR0FFQXlQLEVBQUFoSCxVQUFBRixFQUFBLEtBQUF2SSxFQUFBdUksR0FBQXJHLEVBQUFoQyxFQUFBaUksRUFFQUMsSUFDQUMsRUFBQUssZUFBQXRHLEVBQUF0QyxFQUFBb0MsRUFBQWxDLEdBQUEsRUFBQW1JLEdBaUJBLE1BZEEvSCxHQUFBYSxjQUFBd0UsR0FDQXZELEVBQUEwRyxnQkFBQSxTQUdBMUksRUFDQWdDLEVBQUEyRyxhQUFBLFFBQUFwRCxHQUdBdkQsRUFBQXVELFlBR0FDLEdBQ0E3QyxFQUFBaUcsU0FBQTVHLEVBQUF3RCxFQUFBdkYsR0FFQStCLEVBRUEsUUFBQWtuQixHQUFBenhCLEVBQUErSyxFQUFBdkMsRUFBQUYsRUFBQUMsR0FDQXdvQixFQUFBaG1CLEVBQ0EsSUFBQVIsR0FBQVEsRUFBQWUsVUFDQSxJQUFBckQsRUFBQXVCLFFBQUFoSyxHQUNBLE9BQUFpQyxHQUFBLEVBQUFpTCxFQUFBbE4sRUFBQWtDLE9BQThDRCxFQUFBaUwsRUFBU2pMLElBQUEsQ0FDdkQsR0FBQXlFLEdBQUExRyxFQUFBaUMsSUFDQXdHLEVBQUFnQixPQUFBL0MsSUFBQStCLEVBQUE2SixTQUFBNUwsS0FDQStCLEVBQUFnQixPQUFBYyxHQUlBVyxFQUFBQyxNQUFBekUsRUFBQXFFLEVBQUF2QyxFQUFBRixFQUFBQyxHQUhBZ0MsRUFBQThtQixFQUFBM3FCLEVBQUE2RCxFQUFBL0IsRUFBQUYsRUFBQUMsR0FBQTBvQixpQkFRQXhvQixHQUFBNEIsaUJBQUFySyxJQUNBdUssR0FBQSxJQUFBQSxFQUFBNE0sU0FDQTVNLEVBQUF3QixZQUFBL0wsSUFDQXVLLEVBQUF3QixVQUFBL0wsR0FHQUEsSUFDQStLLEVBQUFZLFlBQUEzTCxHQUVBdUssSUFBQTBtQixhQUVBeG9CLEVBQUE2SixTQUFBdFMsS0FDQXF4QixFQUFBcnhCLEVBQUF1SyxFQUFBL0IsRUFBQUYsRUFBQUMsR0FDQWdDLElBQUEwbUIsWUFHQSxNQUFBMW1CLEdBQUEsQ0FDQSxHQUFBMG1CLEdBQUExbUIsRUFBQTBtQixXQUNBbG1CLEdBQUErQixZQUFBdkMsR0FDQUEsRUFBQTBtQixHQUdBLFFBQUFTLEdBQUF2cEIsRUFBQW9DLEdBQ0EsT0FBQUEsRUFBQTRNLFNBQUEsQ0FDQSxHQUFBcWEsR0FBQXRtQixFQUFBeUUsVUFBQXhILEVBQUEsS0FHQSxPQUZBQSxHQUFBb0MsSUFBQWluQixFQUNBampCLEVBQUFqRCxhQUFBZixFQUFBc0MsV0FBQTJrQixFQUFBam5CLEdBQ0FpbkIsRUFFQSxHQUFBOWxCLEdBQUF2RCxFQUFBbkksUUFLQSxPQUpBdUssR0FBQXdCLFlBQUFMLElBQ0FuQixFQUFBd0IsVUFBQUwsR0FFQXZELEVBQUFvQyxNQUNBQSxFQUVBLFFBQUFvbkIsR0FBQXhwQixFQUFBb0MsR0FFQSxNQURBcEMsR0FBQW9DLE1BQ0FBLEVBRUEsUUFBQThtQixHQUFBbHBCLEVBQUFvQyxFQUFBL0IsRUFBQUYsRUFBQUMsR0FDQSxHQUFBa0MsR0FBQXRDLEVBQUFzQyxLQUNBLFdBQUFBLEVBQ0EwbUIsRUFBQWhwQixFQUFBb0MsRUFBQS9CLEVBQUFGLEVBQUFDLEdBQUEsRUFBQWtDLEdBQUEsR0FFQSxLQUFBQSxFQUNBNm1CLEVBQUFucEIsRUFBQW9DLEVBQUEvQixFQUFBRixFQUFBQyxHQUVBLEVBQUFrQyxFQUNBaW5CLEVBQUF2cEIsRUFBQW9DLEdBRUEsS0FBQUUsRUFDQWtuQixFQUFBeHBCLEVBQUFvQyxPQU1BOUIsR0FBQXdCLGFBR0EsUUFBQTBOLEdBQUEvTixFQUFBbUIsRUFBQXZDLEdBQ0EsSUFBQUMsRUFBQWdCLE9BQUFzQixHQUFBLENBQ0EsR0FBQVIsR0FBQVEsRUFBQWUsVUFDQSxLQUFBckQsRUFBQWdCLE9BQUFjLEdBQUEsQ0FJQSxJQUhBOG1CLEVBQUF6bkIsRUFBQVcsRUFBQS9CLEVBQUErRixFQUFBNUYsV0FBQSxHQUNBNEIsRUFBQVEsRUFBQWUsV0FFQXZCLElBQUEwbUIsYUFDQWxtQixFQUFBK0IsWUFBQXZDLEVBRUEsV0FHQSxTQXBNQW5LLE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBNEgsR0FBQTdLLEVBQUEsR0FDQThMLEVBQUE5TCxFQUFBLEdBQ0EyTyxFQUFBM08sRUFBQSxHQUNBc04sRUFBQXROLEVBQUEsR0FDQWthLEVBQUFsYSxFQUFBLEdBQ0E0VSxFQUFBNVUsRUFBQSxHQUNBMlEsRUFBQTNRLEVBQUEsR0FDQThTLEVBQUE5UyxFQUFBLEdBcUJBd0osR0FBQTJwQixzQkF5S0EzcEIsRUFBQXVRLGUvQzBuS00sU0FBVS9TLEVBQVF3QyxFQUFTeEosR0FFakMsWWdEL3pLQSxTQUFBbWUsR0FBQXRlLEdBQ0EsbUJBQUFBLEdBQUEsVUFBQUEsRUFHQSxRQUFBbTBCLEdBQUF6eUIsR0FDQSxHQUFBZ0osR0FBQVosS0FDQWMsRUFBQUYsRUFBQUUsT0FBQWtHLEVBQUE1RixVQUNBNEIsRUFBQXBDLEVBQUFvQyxJQUNBc25CLEVBQUF4cEIsRUFBQXhILEtBQ0EsSUFBQXdILEVBQUF5cEIsUUFBQSxDQUNBLEdBQUFDLEdBQUExcEIsRUFBQXlwQixPQUNBQyxHQUFBdGIsTUFDQXNiLEVBQUF0YixNQUFBc2IsRUFBQTl1QixLQUFBOUQsR0FHQTR5QixFQUFBNXlCLE9BR0FrSixHQUFBMnBCLFNBQ0EzcEIsRUFBQTJwQixRQUFBN3lCLEVBSUEsSUFBQWtQLEdBQUE5RyxLQUNBaUgsRUFBQUgsRUFBQWhHLE9BQUFrRyxFQUFBNUYsU0FFQWtwQixLQUFBcmpCLEVBQUEzTixPQUVBb3hCLEVBQUF6akIsRUFBQWpFLEdBR0EsUUFBQTJuQixHQUFBL3lCLEdBQ0EsR0FBQWtKLEdBQUFkLEtBQUFjLE9BQUFrRyxFQUFBNUYsVUFDQThOLEVBQUFwTyxFQUFBOHBCLFFBQ0ExYixTQUNBQSxVQUFBeFQsS0FBQTlELEdBR0FzWCxFQUFBdFgsR0FHQSxRQUFBaXpCLEdBQUFqekIsR0FDQUEsRUFBQXF4QixpQkFDQSxJQUFBcm9CLEdBQUFaLEtBQ0FjLEVBQUFGLEVBQUFFLE9BQUFrRyxFQUFBNUYsVUFDQTRCLEVBQUFwQyxFQUFBb0MsSUFDQXNuQixFQUFBeHBCLEVBQUF4SCxLQUNBLElBQUF3SCxFQUFBcVYsUUFBQSxDQUNBLEdBQUEyVSxHQUFBaHFCLEVBQUFxVixPQUNBMlUsR0FBQTViLE1BQ0E0YixFQUFBNWIsTUFBQTRiLEVBQUFwdkIsS0FBQTlELEdBR0FrekIsRUFBQWx6QixPQUdBa0osR0FBQTJWLFNBQ0EzVixFQUFBMlYsUUFBQTdlLEVBSUEsSUFBQWtQLEdBQUE5RyxLQUNBaUgsRUFBQUgsRUFBQWhHLE9BQUFrRyxFQUFBNUYsU0FFQWtwQixLQUFBcmpCLEVBQUEzTixPQUVBb3hCLEVBQUF6akIsRUFBQWpFLEdBR0EsUUFBQW1SLEdBQUF2VCxFQUFBb0MsRUFBQWdHLEVBQUFnTCxFQUFBQyxHQUNBeVcsRUFBQTFoQixFQUFBaEcsR0FDQWdSLEdBQUFDLElBQ0FPLEVBQUF4TCxFQUFBOVMsT0FDQThNLEVBQUF5VCxRQUFBb1UsRUFBQWpHLEtBQUFoa0IsR0FDQW9DLEVBQUF5VCxRQUFBMUgsU0FBQSxJQUdBL0wsRUFBQXluQixRQUFBSixFQUFBekYsS0FBQWhrQixHQUNBb0MsRUFBQXluQixRQUFBMWIsU0FBQSxHQUVBL0YsRUFBQTRoQixXQUNBNW5CLEVBQUErbkIsU0FBQUosRUFBQS9GLEtBQUFoa0IsR0FDQW9DLEVBQUErbkIsU0FBQWhjLFNBQUEsSUFLQSxRQUFBMmIsR0FBQTFoQixFQUFBaEcsR0FDQSxHQUFBOU0sR0FBQThTLEVBQUE5UyxLQUNBb0QsRUFBQTBQLEVBQUExUCxNQUNBbWIsRUFBQXpMLEVBQUF5TCxRQUNBdVcsRUFBQWhpQixFQUFBZ2lCLFNBQ0FDLEVBQUFqaUIsRUFBQWlpQixhQUNBQyxHQUFBaHFCLEVBQUFhLGNBQUF6SSxFQUNBcEQsUUFBQThNLEVBQUE5TSxNQUNBOE0sRUFBQTJHLGFBQUEsT0FBQXpULEdBRUE4MEIsT0FBQWhvQixFQUFBZ29CLFdBQ0Fob0IsRUFBQWdvQixZQUVBOXBCLEVBQUFhLGNBQUFrcEIsSUFBQUMsSUFDQWxvQixFQUFBaW9CLGVBQUEsSUFFQXpXLEVBQUF0ZSxJQUNBZzFCLElBQ0Fsb0IsRUFBQTFKLFNBRUE0SCxFQUFBYSxjQUFBMFMsS0FDQXpSLEVBQUF5UixZQUlBeVcsR0FBQWxvQixFQUFBMUosVUFDQTBKLEVBQUExSixRQUVBNEgsRUFBQWEsY0FBQTBTLEtBQ0F6UixFQUFBeVIsV0F2SEE1YixPQUFBSSxlQUFBNEcsRUFBQSxjQUE4Q3ZHLE9BQUEsR0FDOUMsSUFBQTRILEdBQUE3SyxFQUFBLEdBQ0EyUSxFQUFBM1EsRUFBQSxFQUlBd0osR0FBQTJVLGdCQW1GQTNVLEVBQUFzVSxlQWtDQXRVLEVBQUE2cUIsY2hEeTBLTSxTQUFVcnRCLEVBQVF3QyxFQUFTeEosR0FFakMsWWlEbDhLQSxTQUFBODBCLEdBQUF2cUIsRUFBQXRILEdBRUEsZ0JBREFzSCxFQUFBMUssS0FDQSxDQUNBLEdBQUF1QyxHQUFBbUksRUFBQW5JLFFBQ0EsSUFBQXlJLEVBQUF1QixRQUFBaEssR0FDQSxPQUFBaUMsR0FBQSxFQUFBaUwsRUFBQWxOLEVBQUFrQyxPQUFrREQsRUFBQWlMLEVBQVNqTCxJQUMzRDB3QixFQUFBM3lCLEVBQUFpQyxHQUFBcEIsT0FHQXNKLEdBQUF3RSxRQUFBM08sSUFDQTJ5QixFQUFBM3lCLEVBQUFhLE9BSUE4eEIsR0FBQXhxQixFQUFBdEgsR0FHQSxRQUFBOHhCLEdBQUF4cUIsRUFBQXRILEdBQ0EsR0FBQXdILEdBQUFGLEVBQUFFLE9BQUFrRyxFQUFBNUYsVUFDQTRCLEVBQUFwQyxFQUFBb0MsR0FFQUEsR0FBQTFKLE1BQUF3SCxFQUFBeEgsTUFDQTRILEVBQUF1QixRQUFBbkosS0FBQSxJQUFBQSxFQUFBakIsUUFBQXlJLEVBQUF4SCxRQUFBd0gsRUFBQXhILFVBQ0EwSixFQUFBcW9CLFVBQUEsRUFFQW5xQixFQUFBYSxjQUFBekksSUFBQTRILEVBQUFhLGNBQUFqQixFQUFBdXFCLFlBQ0Fyb0IsRUFBQXFvQixTQUFBdnFCLEVBQUF1cUIsV0FBQSxHQUdBLFFBQUFDLEdBQUExekIsR0FDQSxHQUFBZ0osR0FBQVosS0FDQWMsRUFBQUYsRUFBQUUsT0FBQWtHLEVBQUE1RixVQUNBNEIsRUFBQXBDLEVBQUFvQyxJQUNBc25CLEVBQUF4cEIsRUFBQXhILEtBQ0EsSUFBQXdILEVBQUE4cEIsU0FBQSxDQUNBLEdBQUFKLEdBQUExcEIsRUFBQThwQixRQUNBSixHQUFBdGIsTUFDQXNiLEVBQUF0YixNQUFBc2IsRUFBQTl1QixLQUFBOUQsR0FHQTR5QixFQUFBNXlCLE9BR0FrSixHQUFBaXFCLFVBQ0FqcUIsRUFBQWlxQixTQUFBbnpCLEVBSUEsSUFBQWtQLEdBQUE5RyxLQUNBaUgsRUFBQUgsRUFBQWhHLE9BQUFrRyxFQUFBNUYsU0FFQWtwQixLQUFBcmpCLEVBQUEzTixPQUVBb3hCLEVBQUE1akIsRUFBQTlELEVBQUFpRSxHQUFBLEdBR0EsUUFBQW9OLEdBQUF6VCxFQUFBb0MsRUFBQWdHLEVBQUFnTCxFQUFBQyxHQUNBeVcsRUFBQTlwQixFQUFBb0MsRUFBQWdHLEVBQUFnTCxHQUNBQSxHQUFBQyxJQUNBalIsRUFBQStuQixTQUFBTyxFQUFBMUcsS0FBQWhrQixHQUNBb0MsRUFBQStuQixTQUFBaGMsU0FBQSxHQUlBLFFBQUEyYixHQUFBOXBCLEVBQUFvQyxFQUFBZ0csRUFBQWdMLEdBQ0FoTCxFQUFBZ2lCLFdBQUFob0IsRUFBQWdvQixXQUNBaG9CLEVBQUFnb0IsU0FBQWhpQixFQUFBZ2lCLFNBRUEsSUFBQXZ5QixHQUFBbUksRUFBQW5JLFFBQ0EsS0FBQXlJLEVBQUF5QixVQUFBbEssR0FBQSxDQUNBLEdBQUFhLEdBQUEwUCxFQUFBMVAsS0FJQSxJQUhBMGEsR0FBQTlTLEVBQUFhLGNBQUF6SSxLQUNBQSxFQUFBMFAsRUFBQWlpQixjQUVBL3BCLEVBQUF1QixRQUFBaEssR0FDQSxPQUFBaUMsR0FBQSxFQUFBaUwsRUFBQWxOLEVBQUFrQyxPQUFrREQsRUFBQWlMLEVBQVNqTCxJQUMzRHl3QixFQUFBMXlCLEVBQUFpQyxHQUFBcEIsT0FHQXNKLEdBQUF3RSxRQUFBM08sSUFDQTB5QixFQUFBMXlCLEVBQUFhLElBcEZBVCxPQUFBSSxlQUFBNEcsRUFBQSxjQUE4Q3ZHLE9BQUEsR0FDOUMsSUFBQTRILEdBQUE3SyxFQUFBLEdBQ0F1TSxFQUFBdk0sRUFBQSxHQUNBMlEsRUFBQTNRLEVBQUEsRUFnRUF3SixHQUFBd1UsZ0JBcUJBeFUsRUFBQTZxQixjakQ2OEtNLFNBQVVydEIsRUFBUXdDLEVBQVN4SixHQUVqQyxZa0RwaUxBLFNBQUFzMEIsR0FBQS95QixHQUNBLEdBQUFrSixHQUFBZCxLQUFBYyxPQUFBa0csRUFBQTVGLFVBQ0E4TixFQUFBcE8sRUFBQThwQixRQUNBMWIsU0FDQUEsVUFBQXhULEtBQUE5RCxHQUdBc1gsRUFBQXRYLEdBR0EsUUFBQTJ6QixHQUFBM3pCLEdBQ0EsR0FBQWdKLEdBQUFaLEtBQ0FjLEVBQUFGLEVBQUFFLE9BQUFrRyxFQUFBNUYsVUFDQWtwQixFQUFBeHBCLEVBQUF4SCxLQUNBLElBQUF3SCxFQUFBeXBCLFFBQUEsQ0FDQSxHQUFBQyxHQUFBMXBCLEVBQUF5cEIsT0FDQUMsR0FBQXRiLE1BQ0FzYixFQUFBdGIsTUFBQXNiLEVBQUE5dUIsS0FBQTlELEdBR0E0eUIsRUFBQTV5QixPQUdBa0osR0FBQTJwQixTQUNBM3BCLEVBQUEycEIsUUFBQTd5QixFQUlBLElBQUFrUCxHQUFBOUcsSUFHQXNxQixNQUZBeGpCLEVBQUFoRyxPQUFBa0csRUFBQTVGLFdBRUE5SCxPQUVBb3hCLEVBQUE1akIsRUFBQWxHLEVBQUFvQyxLQUFBLEdBR0EsUUFBQXVSLEdBQUEzVCxFQUFBb0MsRUFBQWdHLEVBQUFnTCxFQUFBQyxHQUNBeVcsRUFBQTFoQixFQUFBaEcsRUFBQWdSLEdBQ0FBLEdBQUFDLElBQ0FqUixFQUFBeW5CLFFBQUFjLEVBQUEzRyxLQUFBaGtCLEdBQ0FvQyxFQUFBeW5CLFFBQUExYixTQUFBLEVBQ0EvRixFQUFBNGhCLFdBQ0E1bkIsRUFBQStuQixTQUFBSixFQUFBL0YsS0FBQWhrQixHQUNBb0MsRUFBQStuQixTQUFBaGMsU0FBQSxJQUtBLFFBQUEyYixHQUFBMWhCLEVBQUFoRyxFQUFBZ1IsR0FDQSxHQUFBMWEsR0FBQTBQLEVBQUExUCxNQUNBa3lCLEVBQUF4b0IsRUFBQTFKLEtBQ0EsSUFBQTRILEVBQUFhLGNBQUF6SSxJQUNBLEdBQUEwYSxFQUFBLENBQ0EsR0FBQWlYLEdBQUFqaUIsRUFBQWlpQixZQUNBL3BCLEdBQUFhLGNBQUFrcEIsR0FLQSxLQUFBTyxJQUNBeG9CLEVBQUExSixNQUFBLElBTEEyeEIsSUFBQU8sSUFDQXhvQixFQUFBMUosTUFBQTJ4QixRQVVBTyxLQUFBbHlCLElBQ0EwSixFQUFBMUosU0F0RUFULE9BQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBNEgsR0FBQTdLLEVBQUEsR0FDQTJRLEVBQUEzUSxFQUFBLEVBZ0RBd0osR0FBQTBVLGtCQXdCQTFVLEVBQUE2cUIsY2xEOGlMTSxTQUFVcnRCLEVBQVF3QyxFQUFTeEosR0FFakMsWW1EMW5MQXdDLFFBQUFJLGVBQUE0RyxFQUFBLGNBQThDdkcsT0FBQSxHQUM5QyxJQUFBNEgsR0FBQTdLLEVBQUEsRUFDQXdKLEdBQUFpTCxNQUFBNUosRUFBQTRKLEtBQ0EsSUFBQW5FLEdBQUF0USxFQUFBLEdBQ0F3SixHQUFBbWMsd0JBQUFyVixFQUFBcVYsd0JBQ0FuYyxFQUFBNHJCLG1CQUFBOWtCLEVBQUFDLFNBQ0EsSUFBQXpFLEdBQUE5TCxFQUFBLEVBQ0F3SixHQUFBL0MsUUFBQXFGLEVBQUFyRixPQUNBLElBQUE4RixHQUFBdk0sRUFBQSxFQUNBd0osR0FBQXdILFdBQUF6RSxFQUFBeUUsV0FDQXhILEVBQUFzRyxZQUFBdkQsRUFBQXVELFdBQ0EsSUFBQW5CLEdBQUEzTyxFQUFBLEVBQ0F3SixHQUFBNnJCLDBCQUFBMW1CLEVBQUEwSyxnQkFDQSxJQUFBVCxHQUFBNVksRUFBQSxHQUNBd0osR0FBQTBwQixVQUFBdGEsRUFBQXNhLFNBQ0EsSUFBQWhaLEdBQUFsYSxFQUFBLEVBQ0F3SixHQUFBb2xCLGVBQUExVSxFQUFBN0ksS0FDQSxJQUFBdUQsR0FBQTVVLEVBQUEsRUFDQXdKLEdBQUFxbEIsb0JBQUFqYSxFQUFBQyxzQkFDQXJMLEVBQUE0USxlQUFBeEYsRUFBQXdGLGVBQ0E1USxFQUFBOFAsWUFBQTFFLEVBQUEwRSxZQUNBOVAsRUFBQXlDLE9BQUEySSxFQUFBM0ksTUFDQSxJQUFBMEUsR0FBQTNRLEVBQUEsRUFDQXdKLEdBQUF1QixVQUFBNEYsRUFBQTVGLFNBWUF2QixHQUFBOHJCLFFBREEsUUFHQTlyQixFQUFBYSxTQUNBc2Isd0JBQUFyVixFQUFBcVYsd0JBQ0F1TixVQUFBdGEsRUFBQXNhLFVBRUFwakIsWUFBQXZELEVBQUF1RCxZQUVBa0IsV0FBQXpFLEVBQUF5RSxXQUVBeUQsTUFBQTVKLEVBQUE0SixNQUNBMUosVUFBQTRGLEVBQUE1RixVQUVBa0IsT0FBQTJJLEVBQUEzSSxPQUNBcU4sWUFBQTFFLEVBQUEwRSxZQUNBYyxlQUFBeEYsRUFBQXdGLGVBQ0EzVCxRQUFBcUYsRUFBQXJGLFFBQ0E2dUIsUUFsQkEsUUFtQkExRyxlQUFBMVUsRUFBQTdJLE1BQ0F3ZCxvQkFBQWphLEVBQUFDLHNCQUNBd2dCLDBCQUFBMW1CLEVBQUEwSyxpQkFDQStiLG1CQUFBOWtCLEVBQUFDLFluRGtvTE0sU0FBVXZKLEVBQVF3QyxFQUFTeEosR0FFakMsWW9EdnFMQSxJQUFBdTFCLEdBQUEsU0FBQUMsRUFBQUMsRUFBQTl1QixFQUFBQyxFQUFBZCxFQUFBK0QsRUFBQXRJLEVBQUFtMEIsR0FPQSxJQUFBRixFQUFBLENBQ0EsR0FBQXZzQixFQUNBLFFBQUExRCxLQUFBa3dCLEVBQ0F4c0IsRUFBQSxHQUFBeEksT0FDQSxxSUFHSyxDQUNMLEdBQUFrdEIsSUFBQWhuQixFQUFBQyxFQUFBZCxFQUFBK0QsRUFBQXRJLEVBQUFtMEIsR0FDQUMsRUFBQSxDQUNBMXNCLEdBQUEsR0FBQXhJLE9BQ0FnMUIsRUFBQWpULFFBQUEsaUJBQTBDLE1BQUFtTCxHQUFBZ0ksUUFFMUMxc0IsRUFBQTFHLEtBQUEsc0JBSUEsS0FEQTBHLEdBQUEyc0IsWUFBQSxFQUNBM3NCLEdBSUFqQyxHQUFBd0MsUUFBQStyQixHcERtc0xNLFNBQVV2dUIsRUFBUXdDLEdxRHJ2THhCeEMsRUFBQXdDLFFBQUFpTixNQUFBckssU0FBQSxTQUFBNkssR0FDQSx3QkFBQXpVLE9BQUFDLFVBQUF1bUIsU0FBQXJtQixLQUFBc1UsS3JENnZMTSxTQUFValEsRUFBUXdDLEVBQVN4SixHc0Q5dkxqQyxHQUFBNjFCLEdBQUE3MUIsRUFBQSxHQUtBZ0gsR0FBQXdDLFFBQUFxc0IsRUFDQTd1QixFQUFBd0MsUUFBQW5JLE1BQUF3MEIsRUFBQXgwQixNQUNBMkYsRUFBQXdDLFFBQUFzc0IsUUFBQUQsRUFBQUMsUUFDQTl1QixFQUFBd0MsUUFBQXVzQixpQkFBQUYsRUFBQUUsaUJBQ0EvdUIsRUFBQXdDLFFBQUF3c0IsZUFBQUgsRUFBQUcsZUFDQWh2QixFQUFBd0MsUUFBQSxRQUFBeEMsRUFBQXdDLFN0RHF3TE0sU0FBVXhDLEVBQVF3QyxFQUFTeEosR3VEM3VMakMsUUFBQXFCLEdBQUE0MEIsRUFBQXh2QixHQVFBLElBUEEsR0FLQXl2QixHQUxBQyxLQUNBem1CLEVBQUEsRUFDQTJWLEVBQUEsRUFDQTFKLEVBQUEsR0FDQXlhLEVBQUEzdkIsS0FBQTR2QixXQUFBLElBR0EsT0FBQUgsRUFBQUksRUFBQWxULEtBQUE2UyxLQUFBLENBQ0EsR0FBQXJzQixHQUFBc3NCLEVBQUEsR0FDQUssRUFBQUwsRUFBQSxHQUNBTSxFQUFBTixFQUFBN1EsS0FLQSxJQUpBMUosR0FBQXNhLEVBQUEzdUIsTUFBQStkLEVBQUFtUixHQUNBblIsRUFBQW1SLEVBQUE1c0IsRUFBQXRGLE9BR0FpeUIsRUFDQTVhLEdBQUE0YSxFQUFBLE9BREEsQ0FLQSxHQUFBRSxHQUFBUixFQUFBNVEsR0FDQTNHLEVBQUF3WCxFQUFBLEdBQ0EzekIsRUFBQTJ6QixFQUFBLEdBQ0FRLEVBQUFSLEVBQUEsR0FDQVMsRUFBQVQsRUFBQSxHQUNBVSxFQUFBVixFQUFBLEdBQ0FXLEVBQUFYLEVBQUEsRUFHQXZhLEtBQ0F3YSxFQUFBbDBCLEtBQUEwWixHQUNBQSxFQUFBLEdBR0EsSUFBQW1iLEdBQUEsTUFBQXBZLEdBQUEsTUFBQStYLE9BQUEvWCxFQUNBcVksRUFBQSxNQUFBSCxHQUFBLE1BQUFBLEVBQ0FJLEVBQUEsTUFBQUosR0FBQSxNQUFBQSxFQUNBUCxFQUFBSCxFQUFBLElBQUFFLEVBQ0FsVCxFQUFBd1QsR0FBQUMsQ0FFQVIsR0FBQWwwQixNQUNBTSxRQUFBbU4sSUFDQWdQLFVBQUEsR0FDQTJYLFlBQ0FXLFdBQ0FELFNBQ0FELFVBQ0FELGFBQ0EzVCxVQUFBK1QsRUFBQS9ULEdBQUEyVCxFQUFBLFVBQUFLLEVBQUFiLEdBQUEsU0FjQSxNQVRBaFIsR0FBQTRRLEVBQUEzeEIsU0FDQXFYLEdBQUFzYSxFQUFBelgsT0FBQTZHLElBSUExSixHQUNBd2EsRUFBQWwwQixLQUFBMFosR0FHQXdhLEVBVUEsUUFBQUwsR0FBQUcsRUFBQXh2QixHQUNBLE1BQUFzdkIsR0FBQTEwQixFQUFBNDBCLEVBQUF4dkIsSUFTQSxRQUFBMHdCLEdBQUFsQixHQUNBLE1BQUE1VyxXQUFBNFcsR0FBQXpULFFBQUEsbUJBQUExYyxHQUNBLFVBQUFBLEVBQUFzeEIsV0FBQSxHQUFBcE8sU0FBQSxJQUFBcU8sZ0JBVUEsUUFBQUMsR0FBQXJCLEdBQ0EsTUFBQTVXLFdBQUE0VyxHQUFBelQsUUFBQSxpQkFBQTFjLEdBQ0EsVUFBQUEsRUFBQXN4QixXQUFBLEdBQUFwTyxTQUFBLElBQUFxTyxnQkFPQSxRQUFBdEIsR0FBQUksR0FLQSxPQUhBb0IsR0FBQSxHQUFBOWdCLE9BQUEwZixFQUFBN3hCLFFBR0FELEVBQUEsRUFBaUJBLEVBQUE4eEIsRUFBQTd4QixPQUFtQkQsSUFDcEMsZ0JBQUE4eEIsR0FBQTl4QixLQUNBa3pCLEVBQUFsekIsR0FBQSxHQUFBbXpCLFFBQUEsT0FBQXJCLEVBQUE5eEIsR0FBQTZlLFFBQUEsTUFJQSxpQkFBQXFELEVBQUFrUixHQU1BLE9BTEE5YixHQUFBLEdBQ0F0VyxFQUFBa2hCLE1BQ0E5ZixFQUFBZ3hCLE1BQ0FDLEVBQUFqeEIsRUFBQWt4QixPQUFBUixFQUFBUyxtQkFFQXZ6QixFQUFBLEVBQW1CQSxFQUFBOHhCLEVBQUE3eEIsT0FBbUJELElBQUEsQ0FDdEMsR0FBQXd6QixHQUFBMUIsRUFBQTl4QixFQUVBLG9CQUFBd3pCLEdBQUEsQ0FNQSxHQUNBQyxHQURBNzBCLEVBQUFvQyxFQUFBd3lCLEVBQUF0MUIsS0FHQSxVQUFBVSxFQUFBLENBQ0EsR0FBQTQwQixFQUFBYixTQUFBLENBRUFhLEVBQUFmLFVBQ0FuYixHQUFBa2MsRUFBQW5aLE9BR0EsVUFFQSxTQUFBa1IsV0FBQSxhQUFBaUksRUFBQXQxQixLQUFBLG1CQUlBLEdBQUF3MUIsRUFBQTkwQixHQUFBLENBQ0EsSUFBQTQwQixFQUFBZCxPQUNBLFNBQUFuSCxXQUFBLGFBQUFpSSxFQUFBdDFCLEtBQUEsa0NBQUFuQixLQUFBNDJCLFVBQUEvMEIsR0FBQSxJQUdBLFFBQUFBLEVBQUFxQixPQUFBLENBQ0EsR0FBQXV6QixFQUFBYixTQUNBLFFBRUEsVUFBQXBILFdBQUEsYUFBQWlJLEVBQUF0MUIsS0FBQSxxQkFJQSxPQUFBd0UsR0FBQSxFQUF1QkEsRUFBQTlELEVBQUFxQixPQUFrQnlDLElBQUEsQ0FHekMsR0FGQSt3QixFQUFBSixFQUFBejBCLEVBQUE4RCxLQUVBd3dCLEVBQUFsekIsR0FBQTR1QixLQUFBNkUsR0FDQSxTQUFBbEksV0FBQSxpQkFBQWlJLEVBQUF0MUIsS0FBQSxlQUFBczFCLEVBQUEzVSxRQUFBLG9CQUFBOWhCLEtBQUE0MkIsVUFBQUYsR0FBQSxJQUdBbmMsS0FBQSxJQUFBNVUsRUFBQTh3QixFQUFBblosT0FBQW1aLEVBQUF4QixXQUFBeUIsT0FwQkEsQ0E0QkEsR0FGQUEsRUFBQUQsRUFBQWhCLFNBQUFTLEVBQUFyMEIsR0FBQXkwQixFQUFBejBCLElBRUFzMEIsRUFBQWx6QixHQUFBNHVCLEtBQUE2RSxHQUNBLFNBQUFsSSxXQUFBLGFBQUFpSSxFQUFBdDFCLEtBQUEsZUFBQXMxQixFQUFBM1UsUUFBQSxvQkFBQTRVLEVBQUEsSUFHQW5jLElBQUFrYyxFQUFBblosT0FBQW9aLE9BckRBbmMsSUFBQWtjLEVBd0RBLE1BQUFsYyxJQVVBLFFBQUF1YixHQUFBakIsR0FDQSxNQUFBQSxHQUFBelQsUUFBQSw2QkFBbUMsUUFTbkMsUUFBQXlVLEdBQUFOLEdBQ0EsTUFBQUEsR0FBQW5VLFFBQUEsd0JBVUEsUUFBQXlWLEdBQUFDLEVBQUF2dkIsR0FFQSxNQURBdXZCLEdBQUF2dkIsT0FDQXV2QixFQVNBLFFBQUFyckIsR0FBQXBHLEdBQ0EsTUFBQUEsR0FBQTB4QixVQUFBLE9BVUEsUUFBQUMsR0FBQXpjLEVBQUFoVCxHQUVBLEdBQUEwdkIsR0FBQTFjLEVBQUFrTCxPQUFBN0YsTUFBQSxZQUVBLElBQUFxWCxFQUNBLE9BQUFoMEIsR0FBQSxFQUFtQkEsRUFBQWcwQixFQUFBL3pCLE9BQW1CRCxJQUN0Q3NFLEVBQUExRyxNQUNBTSxLQUFBOEIsRUFDQXFhLE9BQUEsS0FDQTJYLFVBQUEsS0FDQVcsVUFBQSxFQUNBRCxRQUFBLEVBQ0FELFNBQUEsRUFDQUQsVUFBQSxFQUNBM1QsUUFBQSxNQUtBLE9BQUErVSxHQUFBdGMsRUFBQWhULEdBV0EsUUFBQTJ2QixHQUFBM2MsRUFBQWhULEVBQUFsQyxHQUdBLE9BRkE4eEIsTUFFQWwwQixFQUFBLEVBQWlCQSxFQUFBc1gsRUFBQXJYLE9BQWlCRCxJQUNsQ2swQixFQUFBdDJCLEtBQUF1MkIsRUFBQTdjLEVBQUF0WCxHQUFBc0UsRUFBQWxDLEdBQUFvZ0IsT0FLQSxPQUFBb1IsR0FGQSxHQUFBVCxRQUFBLE1BQUFlLEVBQUFyd0IsS0FBQSxTQUFBMkUsRUFBQXBHLElBRUFrQyxHQVdBLFFBQUE4dkIsR0FBQTljLEVBQUFoVCxFQUFBbEMsR0FDQSxNQUFBdXZCLEdBQUEzMEIsRUFBQXNhLEVBQUFsVixHQUFBa0MsRUFBQWxDLEdBV0EsUUFBQXV2QixHQUFBRyxFQUFBeHRCLEVBQUFsQyxHQUNBc3hCLEVBQUFwdkIsS0FDQWxDLEVBQWlDa0MsR0FBQWxDLEVBQ2pDa0MsTUFHQWxDLE9BT0EsUUFMQWl5QixHQUFBanlCLEVBQUFpeUIsT0FDQTNWLEdBQUEsSUFBQXRjLEVBQUFzYyxJQUNBYixFQUFBLEdBR0E3ZCxFQUFBLEVBQWlCQSxFQUFBOHhCLEVBQUE3eEIsT0FBbUJELElBQUEsQ0FDcEMsR0FBQXd6QixHQUFBMUIsRUFBQTl4QixFQUVBLG9CQUFBd3pCLEdBQ0EzVixHQUFBZ1YsRUFBQVcsT0FDSyxDQUNMLEdBQUFuWixHQUFBd1ksRUFBQVcsRUFBQW5aLFFBQ0FnWSxFQUFBLE1BQUFtQixFQUFBM1UsUUFBQSxHQUVBdmEsR0FBQTFHLEtBQUE0MUIsR0FFQUEsRUFBQWQsU0FDQUwsR0FBQSxNQUFBaFksRUFBQWdZLEVBQUEsTUFPQUEsRUFKQW1CLEVBQUFiLFNBQ0FhLEVBQUFmLFFBR0FwWSxFQUFBLElBQUFnWSxFQUFBLEtBRkEsTUFBQWhZLEVBQUEsSUFBQWdZLEVBQUEsTUFLQWhZLEVBQUEsSUFBQWdZLEVBQUEsSUFHQXhVLEdBQUF3VSxHQUlBLEdBQUFMLEdBQUFhLEVBQUF6d0IsRUFBQTR2QixXQUFBLEtBQ0FzQyxFQUFBelcsRUFBQTVhLE9BQUErdUIsRUFBQS94QixVQUFBK3hCLENBa0JBLE9BWkFxQyxLQUNBeFcsR0FBQXlXLEVBQUF6VyxFQUFBNWEsTUFBQSxHQUFBK3VCLEVBQUEveEIsUUFBQTRkLEdBQUEsTUFBQW1VLEVBQUEsV0FJQW5VLEdBREFhLEVBQ0EsSUFJQTJWLEdBQUFDLEVBQUEsU0FBQXRDLEVBQUEsTUFHQTRCLEVBQUEsR0FBQVQsUUFBQSxJQUFBdFYsRUFBQXJWLEVBQUFwRyxJQUFBa0MsR0FlQSxRQUFBNnZCLEdBQUE3YyxFQUFBaFQsRUFBQWxDLEdBUUEsTUFQQXN4QixHQUFBcHZCLEtBQ0FsQyxFQUFpQ2tDLEdBQUFsQyxFQUNqQ2tDLE1BR0FsQyxRQUVBa1YsWUFBQTZiLFFBQ0FZLEVBQUF6YyxFQUFrRCxHQUdsRG9jLEVBQUFwYyxHQUNBMmMsRUFBMkMsRUFBOEIsRUFBQTd4QixHQUd6RWd5QixFQUEwQyxFQUE4QixFQUFBaHlCLEdBeGF4RSxHQUFBc3hCLEdBQUEvM0IsRUFBQSxHQUtBZ0gsR0FBQXdDLFFBQUFndkIsRUFDQXh4QixFQUFBd0MsUUFBQW5JLFFBQ0EyRixFQUFBd0MsUUFBQXNzQixVQUNBOXVCLEVBQUF3QyxRQUFBdXNCLG1CQUNBL3VCLEVBQUF3QyxRQUFBd3NCLGdCQU9BLElBQUFNLEdBQUEsR0FBQWtCLFNBR0EsVUFPQSwwR0FDQXR2QixLQUFBLFd2RG9xTU0sU0FBVWxCLEVBQVF3QyxFQUFTeEosR0FFakMsWXdEL3JNQSxJQUFBNDRCLEdBQUEsU0FBQS9aLEdBQ0EsWUFBQUEsRUFBQVAsT0FBQSxJQUlBdWEsRUFBQSxTQUFBQyxFQUFBelQsR0FDQSxPQUFBaGhCLEdBQUFnaEIsRUFBQXZCLEVBQUF6ZixFQUFBLEVBQUEyRixFQUFBOHVCLEVBQUF4MEIsT0FBaUR3ZixFQUFBOVosRUFBTzNGLEdBQUEsRUFBQXlmLEdBQUEsRUFDeERnVixFQUFBejBCLEdBQUF5MEIsRUFBQWhWLEVBQ0dnVixHQUFBcHhCLE9BSUhxeEIsRUFBQSxTQUFBaFosR0FDQSxHQUFBc0MsR0FBQWxSLFVBQUE3TSxPQUFBLE9BQUFpQixLQUFBNEwsVUFBQSxHQUFBQSxVQUFBLE1BRUE2bkIsRUFBQWpaLEtBQUEyQixNQUFBLFNBQ0F1WCxFQUFBNVcsS0FBQVgsTUFBQSxTQUVBd1gsRUFBQW5aLEdBQUE2WSxFQUFBN1ksR0FDQW9aLEVBQUE5VyxHQUFBdVcsRUFBQXZXLEdBQ0ErVyxFQUFBRixHQUFBQyxDQVdBLElBVEFwWixHQUFBNlksRUFBQTdZLEdBRUFrWixFQUFBRCxFQUNHQSxFQUFBMTBCLFNBRUgyMEIsRUFBQXZ4QixNQUNBdXhCLElBQUFweEIsT0FBQW14QixLQUdBQyxFQUFBMzBCLE9BQUEsU0FFQSxJQUFBKzBCLE9BQUEsRUFDQSxJQUFBSixFQUFBMzBCLE9BQUEsQ0FDQSxHQUFBZzFCLEdBQUFMLElBQUEzMEIsT0FBQSxFQUNBKzBCLEdBQUEsTUFBQUMsR0FBQSxPQUFBQSxHQUFBLEtBQUFBLE1BRUFELElBQUEsQ0FJQSxRQURBRSxHQUFBLEVBQ0FsMUIsRUFBQTQwQixFQUFBMzBCLE9BQWdDRCxHQUFBLEVBQVFBLElBQUEsQ0FDeEMsR0FBQW0xQixHQUFBUCxFQUFBNTBCLEVBRUEsT0FBQW0xQixFQUNBWCxFQUFBSSxFQUFBNTBCLEdBQ0ssT0FBQW0xQixHQUNMWCxFQUFBSSxFQUFBNTBCLEdBQ0FrMUIsS0FDS0EsSUFDTFYsRUFBQUksRUFBQTUwQixHQUNBazFCLEtBSUEsSUFBQUgsRUFBQSxLQUF5QkcsSUFBTUEsRUFDL0JOLEVBQUFRLFFBQUEsT0FDR0wsR0FBQSxLQUFBSCxFQUFBLElBQUFBLEVBQUEsSUFBQUwsRUFBQUssRUFBQSxLQUFBQSxFQUFBUSxRQUFBLEdBRUgsSUFBQWx6QixHQUFBMHlCLEVBQUEvd0IsS0FBQSxJQUlBLE9BRkFteEIsSUFBQSxNQUFBOXlCLEVBQUFpWSxRQUFBLEtBQUFqWSxHQUFBLEtBRUFBLEVBR0FTLEdBQUF3QyxRQUFBdXZCLEd4RHNzTU0sU0FBVS94QixFQUFRd0MsRUFBU3hKLEdBRWpDLFl5RDN3TUF3SixHQUFBUyxZQUFBLENBRUEsSUFBQXVjLEdBQUEsa0JBQUFDLFNBQUEsZ0JBQUFBLFFBQUFDLFNBQUEsU0FBQUgsR0FBb0csYUFBQUEsSUFBcUIsU0FBQUEsR0FBbUIsTUFBQUEsSUFBQSxrQkFBQUUsU0FBQUYsRUFBQTNMLGNBQUE2TCxRQUFBRixJQUFBRSxPQUFBaGtCLFVBQUEsZUFBQThqQixJQUU1SW1ULEVBQUEsUUFBQUEsR0FBQS95QixFQUFBQyxHQUNBLEdBQUFELElBQUFDLEVBQUEsUUFFQSxVQUFBRCxHQUFBLE1BQUFDLEVBQUEsUUFFQSxJQUFBNlAsTUFBQXJLLFFBQUF6RixHQUFBLE1BQUE4UCxPQUFBckssUUFBQXhGLElBQUFELEVBQUFyQyxTQUFBc0MsRUFBQXRDLFFBQUFxQyxFQUFBZ3pCLE1BQUEsU0FBQTl5QixFQUFBd2UsR0FDQSxNQUFBcVUsR0FBQTd5QixFQUFBRCxFQUFBeWUsS0FHQSxJQUFBdVUsT0FBQSxLQUFBanpCLEVBQUEsWUFBQTZmLEVBQUE3ZixFQUdBLElBQUFpekIsU0FGQSxLQUFBaHpCLEVBQUEsWUFBQTRmLEVBQUE1ZixJQUVBLFFBRUEsZUFBQWd6QixFQUFBLENBQ0EsR0FBQUMsR0FBQWx6QixFQUFBbXpCLFVBQ0FDLEVBQUFuekIsRUFBQWt6QixTQUVBLElBQUFELElBQUFsekIsR0FBQW96QixJQUFBbnpCLEVBQUEsTUFBQTh5QixHQUFBRyxFQUFBRSxFQUVBLElBQUFDLEdBQUF4M0IsT0FBQW1HLEtBQUFoQyxHQUNBc3pCLEVBQUF6M0IsT0FBQW1HLEtBQUEvQixFQUVBLE9BQUFvekIsR0FBQTExQixTQUFBMjFCLEVBQUEzMUIsUUFFQTAxQixFQUFBTCxNQUFBLFNBQUFqcUIsR0FDQSxNQUFBZ3FCLEdBQUEveUIsRUFBQStJLEdBQUE5SSxFQUFBOEksTUFJQSxTQUdBbEcsR0FBQWEsUUFBQXF2QiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4vKioqKioqLyBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbi8qKioqKiovIFx0fVxuLyoqKioqKi8gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbi8qKioqKiovIFx0dGhpc1tcIndlYnBhY2tIb3RVcGRhdGVcIl0gPSBcclxuLyoqKioqKi8gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuLyoqKioqKi8gXHR9IDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbi8qKioqKiovIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcclxuLyoqKioqKi8gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdCgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4vKioqKioqLyBcdFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xyXG4vKioqKioqLyBcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XHJcbi8qKioqKiovIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XHJcbi8qKioqKiovIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdFx0aWYocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdC8vIHRpbWVvdXRcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyAhPT0gMjAwICYmIHJlcXVlc3Quc3RhdHVzICE9PSAzMDQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fSBjYXRjaChlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMGI2MzkzODQ2N2ZkZjZiYzkwYmVcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4vKioqKioqLyBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihtZS5ob3QuYWN0aXZlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4vKioqKioqLyBcdFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiYgbmFtZSAhPT0gXCJlXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicmVhZHlcIilcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4vKioqKioqLyBcdFx0XHRcdHRocm93IGVycjtcclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gZm47XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaG90ID0ge1xyXG4vKioqKioqLyBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbi8qKioqKiovIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbi8qKioqKiovIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbi8qKioqKiovIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBNb2R1bGUgQVBJXHJcbi8qKioqKiovIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2VcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4vKioqKioqLyBcdFx0XHRjaGVjazogaG90Q2hlY2ssXHJcbi8qKioqKiovIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcclxuLyoqKioqKi8gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoIWwpIHJldHVybiBob3RTdGF0dXM7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4vKioqKioqLyBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gaG90O1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuLyoqKioqKi8gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4vKioqKioqLyBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbi8qKioqKiovIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XHJcbi8qKioqKiovIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xyXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90RGVmZXJyZWQ7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXHJcbi8qKioqKiovIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XHJcbi8qKioqKiovIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuLyoqKioqKi8gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoKS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZighdXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XHJcbi8qKioqKiovIFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XHJcbi8qKioqKiovIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4vKioqKioqLyBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXHJcbi8qKioqKiovIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XHJcbi8qKioqKiovIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XHJcbi8qKioqKiovIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcclxuLyoqKioqKi8gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xyXG4vKioqKioqLyBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xyXG4vKioqKioqLyBcdFx0aWYoIWRlZmVycmVkKSByZXR1cm47XHJcbi8qKioqKiovIFx0XHRpZihob3RBcHBseU9uVXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHR9LCBmdW5jdGlvbihlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xyXG4vKioqKioqLyBcdFx0aWYoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcclxuLyoqKioqKi8gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0dmFyIGNiO1xyXG4vKioqKioqLyBcdFx0dmFyIGk7XHJcbi8qKioqKiovIFx0XHR2YXIgajtcclxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGU7XHJcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlSWQ7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWQ6IGlkXHJcbi8qKioqKiovIFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXHJcbi8qKioqKiovIFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9tYWluKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZighcGFyZW50KSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXHJcbi8qKioqKiovIFx0XHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxyXG4vKioqKioqLyBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihhLmluZGV4T2YoaXRlbSkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4vKioqKioqLyBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcclxuLyoqKioqKi8gXHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiKTtcclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciByZXN1bHQ7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaG90VXBkYXRlW2lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlc3VsdCA9IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYocmVzdWx0LmNoYWluKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdHN3aXRjaChyZXN1bHQudHlwZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRlY2xpbmVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyByZXN1bHQubW9kdWxlSWQgKyBjaGFpbkluZm8pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGVjbGluZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIiBpbiBcIiArIHJlc3VsdC5wYXJlbnRJZCArIGNoYWluSW5mbyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vblVuYWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mbyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25BY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EaXNwb3NlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRkZWZhdWx0OlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihhYm9ydEVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZG9BcHBseSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcihtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoZG9EaXNwb3NlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0Zm9yKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4vKioqKioqLyBcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4vKioqKioqLyBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xyXG4vKioqKioqLyBcdFx0XHRpZihob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH0pO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0dmFyIGlkeDtcclxuLyoqKioqKi8gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xyXG4vKioqKioqLyBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0aWYoIW1vZHVsZSkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdHZhciBkYXRhID0ge307XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4vKioqKioqLyBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xyXG4vKioqKioqLyBcdFx0XHRmb3IoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRjYihkYXRhKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4vKioqKioqLyBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuLyoqKioqKi8gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0XHRmb3IoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoIWNoaWxkKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdHZhciBkZXBlbmRlbmN5O1xyXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xyXG4vKioqKioqLyBcdFx0Zm9yKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobW9kdWxlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcihqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGluc2VydCBuZXcgY29kZVxyXG4vKioqKioqLyBcdFx0Zm9yKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4vKioqKioqLyBcdFx0Zm9yKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoY2FsbGJhY2tzLmluZGV4T2YoY2IpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuLyoqKioqKi8gXHRcdGZvcihpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fSBjYXRjaChlcnIyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0b3JnaW5hbEVycm9yOiBlcnJcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnIyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4vKioqKioqLyBcdFx0aWYoZXJyb3IpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4vKioqKioqLyBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4vKioqKioqLyBcdFx0XHRjaGlsZHJlbjogW11cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDMxKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMSk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIGNvbnN0YW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxudmFyIG1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG52YXIgdW5tb3VudGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XHJcbi8vIFdlIG5lZWQgRU1QVFlfT0JKIGRlZmluZWQgaW4gb25lIHBsYWNlLlxyXG4vLyBJdHMgdXNlZCBmb3IgY29tcGFyaXNvbiBzbyB3ZSBjYW50IGlubGluZSBpdCBpbnRvIHNoYXJlZFxyXG5leHBvcnRzLkVNUFRZX09CSiA9IHt9O1xyXG5pZiAoZmFsc2UpIHtcclxuICAgIE9iamVjdC5mcmVlemUoZXhwb3J0cy5FTVBUWV9PQkopO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2Uodk5vZGUsIENvbXBvbmVudCwgcHJvcHMsIGNvbnRleHQsIGlzU1ZHLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGNvbnRleHQpKSB7XHJcbiAgICAgICAgY29udGV4dCA9IGV4cG9ydHMuRU1QVFlfT0JKOyAvLyBDb250ZXh0IHNob3VsZCBub3QgYmUgbXV0YWJsZVxyXG4gICAgfVxyXG4gICAgdmFyIGluc3RhbmNlID0gbmV3IENvbXBvbmVudChwcm9wcywgY29udGV4dCk7XHJcbiAgICB2Tm9kZS5jaGlsZHJlbiA9IGluc3RhbmNlO1xyXG4gICAgaW5zdGFuY2UuX2Jsb2NrU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgIGluc3RhbmNlLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgaWYgKGluc3RhbmNlLnByb3BzID09PSBleHBvcnRzLkVNUFRZX09CSikge1xyXG4gICAgICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XHJcbiAgICB9XHJcbiAgICAvLyBzZXRTdGF0ZSBjYWxsYmFja3MgbXVzdCBmaXJlIGFmdGVyIHJlbmRlciBpcyBkb25lIHdoZW4gY2FsbGVkIGZyb20gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBvciBjb21wb25lbnRXaWxsTW91bnRcclxuICAgIGluc3RhbmNlLl9saWZlY3ljbGUgPSBsaWZlY3ljbGU7XHJcbiAgICBpbnN0YW5jZS5fdW5tb3VudGVkID0gZmFsc2U7XHJcbiAgICBpbnN0YW5jZS5fcGVuZGluZ1NldFN0YXRlID0gdHJ1ZTtcclxuICAgIGluc3RhbmNlLl9pc1NWRyA9IGlzU1ZHO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCkpIHtcclxuICAgICAgICBpbnN0YW5jZS5fYmxvY2tSZW5kZXIgPSB0cnVlO1xyXG4gICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCgpO1xyXG4gICAgICAgIGluc3RhbmNlLl9ibG9ja1JlbmRlciA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkQ29udGV4dDtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkQ29udGV4dCkpIHtcclxuICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gY29udGV4dDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGluc3RhbmNlLl9jaGlsZENvbnRleHQgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKGNvbnRleHQsIGNoaWxkQ29udGV4dCk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVJlbmRlcikpIHtcclxuICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgdmFyIGlucHV0ID0gaW5zdGFuY2UucmVuZGVyKHByb3BzLCBpbnN0YW5jZS5zdGF0ZSwgY29udGV4dCk7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG9wdGlvbnNfMS5vcHRpb25zLmFmdGVyUmVuZGVyKSkge1xyXG4gICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmFmdGVyUmVuZGVyKGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoaW5wdXQpKSB7XHJcbiAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShpbnB1dCwgbnVsbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbiBpbnB1dCB0aGF0IGlzIGFsc28gYSBjb21wb25lbnQsIHdlIHJ1biBpbnRvIGEgdHJpY2t5IHNpdHVhdGlvblxyXG4gICAgICAgICAgICAvLyB3aGVyZSB0aGUgcm9vdCB2Tm9kZSBuZWVkcyB0byBhbHdheXMgaGF2ZSB0aGUgY29ycmVjdCBET00gZW50cnlcclxuICAgICAgICAgICAgLy8gc28gd2UgYnJlYWsgbW9ub21vcnBoaXNtIG9uIG91ciBpbnB1dCBhbmQgc3VwcGx5IGl0IG91ciB2Tm9kZSBhcyBwYXJlbnRWTm9kZVxyXG4gICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBpbiB0aGUgZnV0dXJlLCBidXQgdGhpcyBnZXRzIHVzIG91dCBvZiBhIGxvdCBvZiBpc3N1ZXNcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50Vk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICBpbnN0YW5jZS5fbGFzdElucHV0ID0gaW5wdXQ7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlID0gY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZTtcclxuZnVuY3Rpb24gcmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQobGFzdElucHV0LCBuZXh0SW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnQobmV4dElucHV0LCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbGFzdElucHV0LCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VMYXN0Q2hpbGRBbmRVbm1vdW50ID0gcmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQ7XHJcbmZ1bmN0aW9uIHJlcGxhY2VWTm9kZShwYXJlbnREb20sIGRvbSwgdk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHVubW91bnRpbmdfMS51bm1vdW50KHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICByZXBsYWNlQ2hpbGQocGFyZW50RG9tLCBkb20sIHZOb2RlLmRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZXBsYWNlVk5vZGUgPSByZXBsYWNlVk5vZGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCh2Tm9kZSwgY29tcG9uZW50LCBwcm9wcywgY29udGV4dCkge1xyXG4gICAgdmFyIGlucHV0ID0gY29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoaW5wdXQpKSB7XHJcbiAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShpbnB1dCwgbnVsbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbiBpbnB1dCB0aGF0IGlzIGFsc28gYSBjb21wb25lbnQsIHdlIHJ1biBpbnRvIGEgdHJpY2t5IHNpdHVhdGlvblxyXG4gICAgICAgICAgICAvLyB3aGVyZSB0aGUgcm9vdCB2Tm9kZSBuZWVkcyB0byBhbHdheXMgaGF2ZSB0aGUgY29ycmVjdCBET00gZW50cnlcclxuICAgICAgICAgICAgLy8gc28gd2UgYnJlYWsgbW9ub21vcnBoaXNtIG9uIG91ciBpbnB1dCBhbmQgc3VwcGx5IGl0IG91ciB2Tm9kZSBhcyBwYXJlbnRWTm9kZVxyXG4gICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBpbiB0aGUgZnV0dXJlLCBidXQgdGhpcyBnZXRzIHVzIG91dCBvZiBhIGxvdCBvZiBpc3N1ZXNcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50Vk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5wdXQ7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQgPSBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQ7XHJcbmZ1bmN0aW9uIHNldFRleHRDb250ZW50KGRvbSwgdGV4dCkge1xyXG4gICAgaWYgKHRleHQgIT09ICcnKSB7XHJcbiAgICAgICAgZG9tLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuc2V0VGV4dENvbnRlbnQgPSBzZXRUZXh0Q29udGVudDtcclxuZnVuY3Rpb24gdXBkYXRlVGV4dENvbnRlbnQoZG9tLCB0ZXh0KSB7XHJcbiAgICBkb20uZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB0ZXh0O1xyXG59XHJcbmV4cG9ydHMudXBkYXRlVGV4dENvbnRlbnQgPSB1cGRhdGVUZXh0Q29udGVudDtcclxuZnVuY3Rpb24gYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pIHtcclxuICAgIHBhcmVudERvbS5hcHBlbmRDaGlsZChkb20pO1xyXG59XHJcbmV4cG9ydHMuYXBwZW5kQ2hpbGQgPSBhcHBlbmRDaGlsZDtcclxuZnVuY3Rpb24gaW5zZXJ0T3JBcHBlbmQocGFyZW50RG9tLCBuZXdOb2RlLCBuZXh0Tm9kZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0Tm9kZSkpIHtcclxuICAgICAgICBhcHBlbmRDaGlsZChwYXJlbnREb20sIG5ld05vZGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcGFyZW50RG9tLmluc2VydEJlZm9yZShuZXdOb2RlLCBuZXh0Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5pbnNlcnRPckFwcGVuZCA9IGluc2VydE9yQXBwZW5kO1xyXG5mdW5jdGlvbiBkb2N1bWVudENyZWF0ZUVsZW1lbnQodGFnLCBpc1NWRykge1xyXG4gICAgaWYgKGlzU1ZHID09PSB0cnVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjb25zdGFudHNfMS5zdmdOUywgdGFnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kb2N1bWVudENyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQ7XHJcbmZ1bmN0aW9uIHJlcGxhY2VXaXRoTmV3Tm9kZShsYXN0Tm9kZSwgbmV4dE5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHVubW91bnRpbmdfMS51bm1vdW50KGxhc3ROb2RlLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB2YXIgZG9tID0gbW91bnRpbmdfMS5tb3VudChuZXh0Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICBuZXh0Tm9kZS5kb20gPSBkb207XHJcbiAgICByZXBsYWNlQ2hpbGQocGFyZW50RG9tLCBkb20sIGxhc3ROb2RlLmRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZXBsYWNlV2l0aE5ld05vZGUgPSByZXBsYWNlV2l0aE5ld05vZGU7XHJcbmZ1bmN0aW9uIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIG5leHREb20sIGxhc3REb20pIHtcclxuICAgIGlmICghcGFyZW50RG9tKSB7XHJcbiAgICAgICAgcGFyZW50RG9tID0gbGFzdERvbS5wYXJlbnROb2RlO1xyXG4gICAgfVxyXG4gICAgcGFyZW50RG9tLnJlcGxhY2VDaGlsZChuZXh0RG9tLCBsYXN0RG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VDaGlsZCA9IHJlcGxhY2VDaGlsZDtcclxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQocGFyZW50RG9tLCBkb20pIHtcclxuICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb20pO1xyXG59XHJcbmV4cG9ydHMucmVtb3ZlQ2hpbGQgPSByZW1vdmVDaGlsZDtcclxuZnVuY3Rpb24gcmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgZG9tLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICBpZiAoIW9wdGlvbnNfMS5vcHRpb25zLnJlY3ljbGluZ0VuYWJsZWQgfHwgKG9wdGlvbnNfMS5vcHRpb25zLnJlY3ljbGluZ0VuYWJsZWQgJiYgIWlzUmVjeWNsaW5nKSkge1xyXG4gICAgICAgIHJlbW92ZUNoaWxkcmVuKG51bGwsIGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnJlbW92ZUFsbENoaWxkcmVuID0gcmVtb3ZlQWxsQ2hpbGRyZW47XHJcbmZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKGRvbSwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGNoaWxkLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnJlbW92ZUNoaWxkcmVuID0gcmVtb3ZlQ2hpbGRyZW47XHJcbmZ1bmN0aW9uIGlzS2V5ZWQobGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pIHtcclxuICAgIHJldHVybiBuZXh0Q2hpbGRyZW4ubGVuZ3RoID4gMCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDaGlsZHJlblswXSkgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0Q2hpbGRyZW5bMF0ua2V5KVxyXG4gICAgICAgICYmIGxhc3RDaGlsZHJlbi5sZW5ndGggPiAwICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdENoaWxkcmVuWzBdKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGxhc3RDaGlsZHJlblswXS5rZXkpO1xyXG59XHJcbmV4cG9ydHMuaXNLZXllZCA9IGlzS2V5ZWQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLm9wdGlvbnMgPSB7XHJcbiAgICBhZnRlck1vdW50OiBudWxsLFxyXG4gICAgYWZ0ZXJSZW5kZXI6IG51bGwsXHJcbiAgICBhZnRlclVwZGF0ZTogbnVsbCxcclxuICAgIGJlZm9yZVJlbmRlcjogbnVsbCxcclxuICAgIGJlZm9yZVVubW91bnQ6IG51bGwsXHJcbiAgICBjcmVhdGVWTm9kZTogbnVsbCxcclxuICAgIGZpbmRET01Ob2RlRW5hYmxlZDogZmFsc2UsXHJcbiAgICByZWN5Y2xpbmdFbmFibGVkOiBmYWxzZSxcclxuICAgIHJvb3RzOiBbXVxyXG59O1xyXG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbnZhciBub3JtYWxpemF0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcclxudmFyIG9wdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbmZ1bmN0aW9uIFZOb2RlKGNoaWxkcmVuLCBjbGFzc05hbWUsIGZsYWdzLCBrZXksIHByb3BzLCByZWYsIHR5cGUpIHtcclxuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgIHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgdGhpcy5kb20gPSBudWxsO1xyXG4gICAgdGhpcy5mbGFncyA9IGZsYWdzO1xyXG4gICAgdGhpcy5rZXkgPSBrZXk7XHJcbiAgICB0aGlzLnByb3BzID0gcHJvcHM7XHJcbiAgICB0aGlzLnJlZiA9IHJlZjtcclxuICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnc1xyXG4gKiBAcGFyYW0ge3N0cmluZ3xGdW5jdGlvbnxudWxsfSB0eXBlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfG51bGw9fSBjbGFzc05hbWVcclxuICogQHBhcmFtIHtvYmplY3Q9fSBjaGlsZHJlblxyXG4gKiBAcGFyYW0ge29iamVjdD19IHByb3BzXHJcbiAqIEBwYXJhbSB7Kj19IGtleVxyXG4gKiBAcGFyYW0ge29iamVjdHxGdW5jdGlvbj19IHJlZlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub05vcm1hbGlzZVxyXG4gKiBAcmV0dXJucyB7Vk5vZGV9IHJldHVybnMgbmV3IHZpcnR1YWwgbm9kZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVk5vZGUoZmxhZ3MsIHR5cGUsIGNsYXNzTmFtZSwgY2hpbGRyZW4sIHByb3BzLCBrZXksIHJlZiwgbm9Ob3JtYWxpc2UpIHtcclxuICAgIGlmIChmbGFncyAmIDE2IC8qIENvbXBvbmVudFVua25vd24gKi8pIHtcclxuICAgICAgICBmbGFncyA9IGluZmVybm9fc2hhcmVkXzEuaXNTdGF0ZWZ1bENvbXBvbmVudCh0eXBlKSA/IDQgLyogQ29tcG9uZW50Q2xhc3MgKi8gOiA4IC8qIENvbXBvbmVudEZ1bmN0aW9uICovO1xyXG4gICAgfVxyXG4gICAgdmFyIHZOb2RlID0gbmV3IFZOb2RlKGNoaWxkcmVuID09PSB2b2lkIDAgPyBudWxsIDogY2hpbGRyZW4sIGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gbnVsbCA6IGNsYXNzTmFtZSwgZmxhZ3MsIGtleSA9PT0gdm9pZCAwID8gbnVsbCA6IGtleSwgcHJvcHMgPT09IHZvaWQgMCA/IG51bGwgOiBwcm9wcywgcmVmID09PSB2b2lkIDAgPyBudWxsIDogcmVmLCB0eXBlKTtcclxuICAgIGlmIChub05vcm1hbGlzZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgIG5vcm1hbGl6YXRpb25fMS5ub3JtYWxpemUodk5vZGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmNyZWF0ZVZOb2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuY3JlYXRlVk5vZGUodk5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmV4cG9ydHMuY3JlYXRlVk5vZGUgPSBjcmVhdGVWTm9kZTtcclxuZnVuY3Rpb24gZGlyZWN0Q2xvbmUodk5vZGVUb0Nsb25lKSB7XHJcbiAgICB2YXIgbmV3Vk5vZGU7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZVRvQ2xvbmUuZmxhZ3M7XHJcbiAgICBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB2YXIgcHJvcHMgPSB2b2lkIDA7XHJcbiAgICAgICAgdmFyIHByb3BzVG9DbG9uZSA9IHZOb2RlVG9DbG9uZS5wcm9wcztcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwocHJvcHNUb0Nsb25lKSkge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzVG9DbG9uZSkge1xyXG4gICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHByb3BzVG9DbG9uZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCBudWxsLCBudWxsLCBwcm9wcywgdk5vZGVUb0Nsb25lLmtleSwgdk5vZGVUb0Nsb25lLnJlZiwgdHJ1ZSk7XHJcbiAgICAgICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgdmFyIG5ld0NoaWxkcmVuID0gbmV3UHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byBhbHNvIGNsb25lIGNvbXBvbmVudCBjaGlsZHJlbiB0aGF0IGFyZSBpbiBwcm9wc1xyXG4gICAgICAgIC8vIGFzIHRoZSBjaGlsZHJlbiBtYXkgYWxzbyBoYXZlIGJlZW4gaG9pc3RlZFxyXG4gICAgICAgIGlmIChuZXdDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9IG5ld0NoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBuZXdDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcEFycmF5LnB1c2goY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkgJiYgaXNWTm9kZShjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcEFycmF5LnB1c2goZGlyZWN0Q2xvbmUoY2hpbGQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcy5jaGlsZHJlbiA9IHRtcEFycmF5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVk5vZGUobmV3Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdQcm9wcy5jaGlsZHJlbiA9IGRpcmVjdENsb25lKG5ld0NoaWxkcmVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZS5jaGlsZHJlbiA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlVG9DbG9uZS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgcHJvcHMgPSB2b2lkIDA7XHJcbiAgICAgICAgdmFyIHByb3BzVG9DbG9uZSA9IHZOb2RlVG9DbG9uZS5wcm9wcztcclxuICAgICAgICBpZiAocHJvcHNUb0Nsb25lID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHByb3BzID0gdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHNUb0Nsb25lKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcHJvcHNUb0Nsb25lW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVWTm9kZShmbGFncywgdk5vZGVUb0Nsb25lLnR5cGUsIHZOb2RlVG9DbG9uZS5jbGFzc05hbWUsIGNoaWxkcmVuLCBwcm9wcywgdk5vZGVUb0Nsb25lLmtleSwgdk5vZGVUb0Nsb25lLnJlZiwgIWNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVUZXh0Vk5vZGUodk5vZGVUb0Nsb25lLmNoaWxkcmVuLCB2Tm9kZVRvQ2xvbmUua2V5KTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdWTm9kZTtcclxufVxyXG5leHBvcnRzLmRpcmVjdENsb25lID0gZGlyZWN0Q2xvbmU7XHJcbi8qXHJcbiBkaXJlY3RDbG9uZSBpcyBwcmVmZXJyZWQgb3ZlciBjbG9uZVZOb2RlIGFuZCB1c2VkIGludGVybmFsbHkgYWxzby5cclxuIFRoaXMgZnVuY3Rpb24gbWFrZXMgSW5mZXJubyBiYWNrd2FyZHMgY29tcGF0aWJsZS5cclxuIEFuZCBjYW4gYmUgdHJlZS1zaGFrZWQgYnkgbW9kZXJuIGJ1bmRsZXJzXHJcblxyXG4gV291bGQgYmUgbmljZSB0byBjb21iaW5lIHRoaXMgd2l0aCBkaXJlY3RDbG9uZSBidXQgY291bGQgbm90IGRvIGl0IHdpdGhvdXQgYnJlYWtpbmcgY2hhbmdlXHJcbiAqL1xyXG4vKipcclxuICogQ2xvbmVzIGdpdmVuIHZpcnR1YWwgbm9kZSBieSBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgaXRcclxuICogQHBhcmFtIHtWTm9kZX0gdk5vZGVUb0Nsb25lIHZpcnR1YWwgbm9kZSB0byBiZSBjbG9uZWRcclxuICogQHBhcmFtIHtQcm9wcz19IHByb3BzIGFkZGl0aW9uYWwgcHJvcHMgZm9yIG5ldyB2aXJ0dWFsIG5vZGVcclxuICogQHBhcmFtIHsuLi4qfSBfY2hpbGRyZW4gbmV3IGNoaWxkcmVuIGZvciBuZXcgdmlydHVhbCBub2RlXHJcbiAqIEByZXR1cm5zIHtWTm9kZX0gbmV3IHZpcnR1YWwgbm9kZVxyXG4gKi9cclxuZnVuY3Rpb24gY2xvbmVWTm9kZSh2Tm9kZVRvQ2xvbmUsIHByb3BzKSB7XHJcbiAgICB2YXIgX2NoaWxkcmVuID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIF9jaGlsZHJlbltfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHZhciBjaGlsZHJlbiA9IF9jaGlsZHJlbjtcclxuICAgIHZhciBjaGlsZHJlbkxlbiA9IF9jaGlsZHJlbi5sZW5ndGg7XHJcbiAgICBpZiAoY2hpbGRyZW5MZW4gPiAwICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKF9jaGlsZHJlblswXSkpIHtcclxuICAgICAgICBpZiAoIXByb3BzKSB7XHJcbiAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjaGlsZHJlbkxlbiA9PT0gMSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IF9jaGlsZHJlblswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBuZXdWTm9kZTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkodk5vZGVUb0Nsb25lKSkge1xyXG4gICAgICAgIHZhciB0bXBBcnJheSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2Tm9kZVRvQ2xvbmUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgdG1wQXJyYXkucHVzaChkaXJlY3RDbG9uZSh2Tm9kZVRvQ2xvbmVbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Vk5vZGUgPSB0bXBBcnJheTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBmbGFncyA9IHZOb2RlVG9DbG9uZS5mbGFncztcclxuICAgICAgICB2YXIgY2xhc3NOYW1lID0gdk5vZGVUb0Nsb25lLmNsYXNzTmFtZSB8fCAocHJvcHMgJiYgcHJvcHMuY2xhc3NOYW1lKTtcclxuICAgICAgICB2YXIga2V5ID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2Tm9kZVRvQ2xvbmUua2V5KSA/IHZOb2RlVG9DbG9uZS5rZXkgOiAocHJvcHMgPyBwcm9wcy5rZXkgOiBudWxsKTtcclxuICAgICAgICB2YXIgcmVmID0gdk5vZGVUb0Nsb25lLnJlZiB8fCAocHJvcHMgPyBwcm9wcy5yZWYgOiBudWxsKTtcclxuICAgICAgICBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVWTm9kZShmbGFncywgdk5vZGVUb0Nsb25lLnR5cGUsIGNsYXNzTmFtZSwgbnVsbCwgKCF2Tm9kZVRvQ2xvbmUucHJvcHMgJiYgIXByb3BzKSA/IHV0aWxzXzEuRU1QVFlfT0JKIDogaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbSh2Tm9kZVRvQ2xvbmUucHJvcHMsIHByb3BzKSwga2V5LCByZWYsIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcztcclxuICAgICAgICAgICAgaWYgKG5ld1Byb3BzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBuZXdQcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gYWxzbyBjbG9uZSBjb21wb25lbnQgY2hpbGRyZW4gdGhhdCBhcmUgaW4gcHJvcHNcclxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBjaGlsZHJlbiBtYXkgYWxzbyBoYXZlIGJlZW4gaG9pc3RlZFxyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbiA9IG5ld0NoaWxkcmVuLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5ld0NoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcEFycmF5LnB1c2goY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpICYmIGlzVk5vZGUoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcEFycmF5LnB1c2goZGlyZWN0Q2xvbmUoY2hpbGQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcy5jaGlsZHJlbiA9IHRtcEFycmF5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzVk5vZGUobmV3Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gZGlyZWN0Q2xvbmUobmV3Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdWTm9kZS5jaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gKHByb3BzICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHByb3BzLmNoaWxkcmVuKSkgPyBwcm9wcy5jaGlsZHJlbiA6IHZOb2RlVG9DbG9uZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVWTm9kZShmbGFncywgdk5vZGVUb0Nsb25lLnR5cGUsIGNsYXNzTmFtZSwgY2hpbGRyZW4sICghdk5vZGVUb0Nsb25lLnByb3BzICYmICFwcm9wcykgPyB1dGlsc18xLkVNUFRZX09CSiA6IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20odk5vZGVUb0Nsb25lLnByb3BzLCBwcm9wcyksIGtleSwgcmVmLCAhY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVRleHRWTm9kZSh2Tm9kZVRvQ2xvbmUuY2hpbGRyZW4sIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1ZOb2RlO1xyXG59XHJcbmV4cG9ydHMuY2xvbmVWTm9kZSA9IGNsb25lVk5vZGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZVZvaWRWTm9kZSgpIHtcclxuICAgIHJldHVybiBjcmVhdGVWTm9kZSg0MDk2IC8qIFZvaWQgKi8sIG51bGwpO1xyXG59XHJcbmV4cG9ydHMuY3JlYXRlVm9pZFZOb2RlID0gY3JlYXRlVm9pZFZOb2RlO1xyXG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUodGV4dCwga2V5KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoMSAvKiBUZXh0ICovLCBudWxsLCBudWxsLCB0ZXh0LCBudWxsLCBrZXkpO1xyXG59XHJcbmV4cG9ydHMuY3JlYXRlVGV4dFZOb2RlID0gY3JlYXRlVGV4dFZOb2RlO1xyXG5mdW5jdGlvbiBpc1ZOb2RlKG8pIHtcclxuICAgIHJldHVybiAhIW8uZmxhZ3M7XHJcbn1cclxuZXhwb3J0cy5pc1ZOb2RlID0gaXNWTm9kZTtcclxuXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIG9wdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbnZhciBWTm9kZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcbnZhciBjb25zdGFudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcbnZhciBkZWxlZ2F0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcclxudmFyIG1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG52YXIgdW5tb3VudGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxudmFyIHByb2Nlc3NFbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcclxuZnVuY3Rpb24gcGF0Y2gobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChsYXN0Vk5vZGUgIT09IG5leHRWTm9kZSkge1xyXG4gICAgICAgIHZhciBsYXN0RmxhZ3MgPSBsYXN0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRGbGFncyA9IG5leHRWTm9kZS5mbGFncztcclxuICAgICAgICBpZiAobmV4dEZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoQ29tcG9uZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIG5leHRGbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZVZOb2RlKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudENvbXBvbmVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChuZXh0RmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApLCBsYXN0Vk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5leHRGbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgICAgICBpZiAobGFzdEZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaEVsZW1lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50RWxlbWVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBsYXN0Vk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5leHRGbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgICAgICBpZiAobGFzdEZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaFRleHQobGFzdFZOb2RlLCBuZXh0Vk5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50VGV4dChuZXh0Vk5vZGUsIG51bGwpLCBsYXN0Vk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5leHRGbGFncyAmIDQwOTYgLyogVm9pZCAqLykge1xyXG4gICAgICAgICAgICBpZiAobGFzdEZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaFZvaWQobGFzdFZOb2RlLCBuZXh0Vk5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50Vm9pZChuZXh0Vk5vZGUsIG51bGwpLCBsYXN0Vk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBFcnJvciBjYXNlOiBtb3VudCBuZXcgb25lIHJlcGxhY2luZyBvbGQgb25lXHJcbiAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoID0gcGF0Y2g7XHJcbmZ1bmN0aW9uIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIHRydWUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hFbGVtZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbmV4dFRhZyA9IG5leHRWTm9kZS50eXBlO1xyXG4gICAgdmFyIGxhc3RUYWcgPSBsYXN0Vk5vZGUudHlwZTtcclxuICAgIGlmIChsYXN0VGFnICE9PSBuZXh0VGFnKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlV2l0aE5ld05vZGUobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGRvbSA9IGxhc3RWTm9kZS5kb207XHJcbiAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGxhc3RWTm9kZS5wcm9wcztcclxuICAgICAgICB2YXIgbmV4dFByb3BzID0gbmV4dFZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBsYXN0Q2hpbGRyZW4gPSBsYXN0Vk5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgbGFzdEZsYWdzID0gbGFzdFZOb2RlLmZsYWdzO1xyXG4gICAgICAgIHZhciBuZXh0RmxhZ3MgPSBuZXh0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRSZWYgPSBuZXh0Vk5vZGUucmVmO1xyXG4gICAgICAgIHZhciBsYXN0Q2xhc3NOYW1lID0gbGFzdFZOb2RlLmNsYXNzTmFtZTtcclxuICAgICAgICB2YXIgbmV4dENsYXNzTmFtZSA9IG5leHRWTm9kZS5jbGFzc05hbWU7XHJcbiAgICAgICAgbmV4dFZOb2RlLmRvbSA9IGRvbTtcclxuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IChuZXh0RmxhZ3MgJiAxMjggLyogU3ZnRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgIGlmIChsYXN0Q2hpbGRyZW4gIT09IG5leHRDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBwYXRjaENoaWxkcmVuKGxhc3RGbGFncywgbmV4dEZsYWdzLCBsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlubGluZWQgcGF0Y2hQcm9wcyAgLS0gc3RhcnRzIC0tXHJcbiAgICAgICAgaWYgKGxhc3RQcm9wcyAhPT0gbmV4dFByb3BzKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0UHJvcHNPckVtcHR5ID0gbGFzdFByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB2YXIgbmV4dFByb3BzT3JFbXB0eSA9IG5leHRQcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgICAgICAgICAgdmFyIGhhc0NvbnRyb2xsZWRWYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAobmV4dFByb3BzT3JFbXB0eSAhPT0gdXRpbHNfMS5FTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0Zvcm1FbGVtZW50ID0gKG5leHRGbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbGxlZFZhbHVlID0gcHJvY2Vzc0VsZW1lbnRfMS5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudChuZXh0UHJvcHNPckVtcHR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gbmV4dFByb3BzT3JFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhZGQgYSBoYXNPd25Qcm9wZXJ0eSBjaGVjayBoZXJlLCBpdCBhZmZlY3RzIHBlcmZvcm1hbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IG5leHRQcm9wc09yRW1wdHlbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IGxhc3RQcm9wc09yRW1wdHlbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKHByb3AsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20sIGlzU1ZHLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRWxlbWVudF8xLnByb2Nlc3NFbGVtZW50KG5leHRGbGFncywgbmV4dFZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIGZhbHNlLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChsYXN0UHJvcHNPckVtcHR5ICE9PSB1dGlsc18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBsYXN0UHJvcHNPckVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRQcm9wc09yRW1wdHlbcHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVByb3AocHJvcCwgbGFzdFByb3BzT3JFbXB0eVtwcm9wXSwgZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5saW5lZCBwYXRjaFByb3BzICAtLSBlbmRzIC0tXHJcbiAgICAgICAgaWYgKGxhc3RDbGFzc05hbWUgIT09IG5leHRDbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0Q2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgbmV4dENsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gbmV4dENsYXNzTmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV4dFJlZikge1xyXG4gICAgICAgICAgICBpZiAobGFzdFZOb2RlLnJlZiAhPT0gbmV4dFJlZiB8fCBpc1JlY3ljbGluZykge1xyXG4gICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudFJlZihkb20sIG5leHRSZWYsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEVsZW1lbnQgPSBwYXRjaEVsZW1lbnQ7XHJcbmZ1bmN0aW9uIHBhdGNoQ2hpbGRyZW4obGFzdEZsYWdzLCBuZXh0RmxhZ3MsIGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgcGF0Y2hBcnJheSA9IGZhbHNlO1xyXG4gICAgdmFyIHBhdGNoS2V5ZWQgPSBmYWxzZTtcclxuICAgIGlmIChuZXh0RmxhZ3MgJiA2NCAvKiBIYXNOb25LZXllZENoaWxkcmVuICovKSB7XHJcbiAgICAgICAgcGF0Y2hBcnJheSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgobGFzdEZsYWdzICYgMzIgLyogSGFzS2V5ZWRDaGlsZHJlbiAqLykgPiAwICYmIChuZXh0RmxhZ3MgJiAzMiAvKiBIYXNLZXllZENoaWxkcmVuICovKSA+IDApIHtcclxuICAgICAgICBwYXRjaEtleWVkID0gdHJ1ZTtcclxuICAgICAgICBwYXRjaEFycmF5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50Q2hpbGRyZW4obGFzdENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobGFzdENoaWxkcmVuKSkge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnNldFRleHRDb250ZW50KGRvbSwgbmV4dENoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudEFycmF5Q2hpbGRyZW4obmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobGFzdENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnVwZGF0ZVRleHRDb250ZW50KGRvbSwgbmV4dENoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHBhdGNoQXJyYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodXRpbHNfMS5pc0tleWVkKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hLZXllZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnRBcnJheUNoaWxkcmVuKG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobGFzdENoaWxkcmVuKSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBsYXN0Q2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKFZOb2Rlc18xLmlzVk5vZGUobGFzdENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBwYXRjaChsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4obGFzdENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGF0Y2hBcnJheSkge1xyXG4gICAgICAgIGlmIChwYXRjaEtleWVkKSB7XHJcbiAgICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaE5vbktleWVkQ2hpbGRyZW4obGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaENvbXBvbmVudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc0NsYXNzLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGxhc3RUeXBlID0gbGFzdFZOb2RlLnR5cGU7XHJcbiAgICB2YXIgbmV4dFR5cGUgPSBuZXh0Vk5vZGUudHlwZTtcclxuICAgIHZhciBsYXN0S2V5ID0gbGFzdFZOb2RlLmtleTtcclxuICAgIHZhciBuZXh0S2V5ID0gbmV4dFZOb2RlLmtleTtcclxuICAgIGlmIChsYXN0VHlwZSAhPT0gbmV4dFR5cGUgfHwgbGFzdEtleSAhPT0gbmV4dEtleSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVwbGFjZVdpdGhOZXdOb2RlKGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgbmV4dFByb3BzID0gbmV4dFZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgIGlmIChpc0NsYXNzKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGxhc3RWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLl91bm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VDaGlsZChwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRDb21wb25lbnQobmV4dFZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCAobmV4dFZOb2RlLmZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLykgPiAwKSwgbGFzdFZOb2RlLmRvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzQ29tcG9uZW50RGlkVXBkYXRlID0gIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcclxuICAgICAgICAgICAgICAgIC8vIFdoZW4gY29tcG9uZW50IGhhcyBjb21wb25lbnREaWRVcGRhdGUgaG9vaywgd2UgbmVlZCB0byBjbG9uZSBsYXN0U3RhdGUgb3Igd2lsbCBiZSBtb2RpZmllZCBieSByZWZlcmVuY2UgZHVyaW5nIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGhhc0NvbXBvbmVudERpZFVwZGF0ZSA/IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20obmV4dFN0YXRlLCBudWxsKSA6IG5leHRTdGF0ZTtcclxuICAgICAgICAgICAgICAgIHZhciBsYXN0UHJvcHMgPSBpbnN0YW5jZS5wcm9wcztcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbnRleHQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluc3RhbmNlLmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dFZOb2RlLmNoaWxkcmVuID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5faXNTVkcgPSBpc1NWRztcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKGNvbnRleHQsIGNoaWxkQ29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdElucHV0ID0gaW5zdGFuY2UuX2xhc3RJbnB1dDtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0SW5wdXQgPSBpbnN0YW5jZS5fdXBkYXRlQ29tcG9uZW50KGxhc3RTdGF0ZSwgbmV4dFN0YXRlLCBsYXN0UHJvcHMsIG5leHRQcm9wcywgY29udGV4dCwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHZhciBkaWRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCA9IGNoaWxkQ29udGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVm9pZFZOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0SW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBsYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlkVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuZXh0SW5wdXQsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG5leHRJbnB1dC5kb20pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRJbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9sYXN0SW5wdXQgPSBuZXh0SW5wdXQ7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fdk5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobGFzdElucHV0LCBuZXh0SW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjaGlsZENvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0NvbXBvbmVudERpZFVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUobGFzdFByb3BzLCBsYXN0U3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG9wdGlvbnNfMS5vcHRpb25zLmFmdGVyVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5hZnRlclVwZGF0ZShuZXh0Vk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5zZXQoaW5zdGFuY2UsIG5leHRJbnB1dC5kb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHRWTm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHNob3VsZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHZhciBsYXN0UHJvcHMgPSBsYXN0Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgICAgIHZhciBuZXh0SG9va3MgPSBuZXh0Vk5vZGUucmVmO1xyXG4gICAgICAgICAgICB2YXIgbmV4dEhvb2tzRGVmaW5lZCA9ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzKTtcclxuICAgICAgICAgICAgdmFyIGxhc3RJbnB1dCA9IGxhc3RWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgdmFyIG5leHRJbnB1dCA9IGxhc3RJbnB1dDtcclxuICAgICAgICAgICAgbmV4dFZOb2RlLmRvbSA9IGxhc3RWTm9kZS5kb207XHJcbiAgICAgICAgICAgIG5leHRWTm9kZS5jaGlsZHJlbiA9IGxhc3RJbnB1dDtcclxuICAgICAgICAgICAgaWYgKGxhc3RLZXkgIT09IG5leHRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dEhvb2tzRGVmaW5lZCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIb29rcy5vbkNvbXBvbmVudFNob3VsZFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGUgPSBuZXh0SG9va3Mub25Db21wb25lbnRTaG91bGRVcGRhdGUobGFzdFByb3BzLCBuZXh0UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzaG91bGRVcGRhdGUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dEhvb2tzRGVmaW5lZCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIb29rcy5vbkNvbXBvbmVudFdpbGxVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEhvb2tzLm9uQ29tcG9uZW50V2lsbFVwZGF0ZShsYXN0UHJvcHMsIG5leHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBuZXh0VHlwZShuZXh0UHJvcHMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0SW5wdXQpICYmIG5leHRJbnB1dCAhPT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuZXh0SW5wdXQsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG5leHRJbnB1dC5kb20pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRJbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbnB1dCAhPT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBuZXh0SW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnREaWRVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRIb29rcy5vbkNvbXBvbmVudERpZFVwZGF0ZShsYXN0UHJvcHMsIG5leHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRWTm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuZXh0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIG5leHRJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIGxhc3RJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLnBhdGNoQ29tcG9uZW50ID0gcGF0Y2hDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSkge1xyXG4gICAgdmFyIG5leHRUZXh0ID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGRvbSA9IGxhc3RWTm9kZS5kb207XHJcbiAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKGxhc3RWTm9kZS5jaGlsZHJlbiAhPT0gbmV4dFRleHQpIHtcclxuICAgICAgICBkb20ubm9kZVZhbHVlID0gbmV4dFRleHQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFRleHQgPSBwYXRjaFRleHQ7XHJcbmZ1bmN0aW9uIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSkge1xyXG4gICAgbmV4dFZOb2RlLmRvbSA9IGxhc3RWTm9kZS5kb207XHJcbn1cclxuZXhwb3J0cy5wYXRjaFZvaWQgPSBwYXRjaFZvaWQ7XHJcbmZ1bmN0aW9uIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGxhc3RDaGlsZHJlbkxlbmd0aCA9IGxhc3RDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICB2YXIgbmV4dENoaWxkcmVuTGVuZ3RoID0gbmV4dENoaWxkcmVuLmxlbmd0aDtcclxuICAgIHZhciBjb21tb25MZW5ndGggPSBsYXN0Q2hpbGRyZW5MZW5ndGggPiBuZXh0Q2hpbGRyZW5MZW5ndGggPyBuZXh0Q2hpbGRyZW5MZW5ndGggOiBsYXN0Q2hpbGRyZW5MZW5ndGg7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBmb3IgKDsgaSA8IGNvbW1vbkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXTtcclxuICAgICAgICBpZiAobmV4dENoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICBuZXh0Q2hpbGQgPSBuZXh0Q2hpbGRyZW5baV0gPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuZXh0Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXRjaChsYXN0Q2hpbGRyZW5baV0sIG5leHRDaGlsZCwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAobGFzdENoaWxkcmVuTGVuZ3RoIDwgbmV4dENoaWxkcmVuTGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChpID0gY29tbW9uTGVuZ3RoOyBpIDwgbmV4dENoaWxkcmVuTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKG5leHRDaGlsZC5kb20pIHtcclxuICAgICAgICAgICAgICAgIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRDaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChkb20sIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobmV4dENoaWxkcmVuTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsYXN0Q2hpbGRyZW5MZW5ndGggPiBuZXh0Q2hpbGRyZW5MZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGkgPSBjb21tb25MZW5ndGg7IGkgPCBsYXN0Q2hpbGRyZW5MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChsYXN0Q2hpbGRyZW5baV0sIGRvbSwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoTm9uS2V5ZWRDaGlsZHJlbiA9IHBhdGNoTm9uS2V5ZWRDaGlsZHJlbjtcclxuZnVuY3Rpb24gcGF0Y2hLZXllZENoaWxkcmVuKGEsIGIsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBhTGVuZ3RoID0gYS5sZW5ndGg7XHJcbiAgICB2YXIgYkxlbmd0aCA9IGIubGVuZ3RoO1xyXG4gICAgdmFyIGFFbmQgPSBhTGVuZ3RoIC0gMTtcclxuICAgIHZhciBiRW5kID0gYkxlbmd0aCAtIDE7XHJcbiAgICB2YXIgYVN0YXJ0ID0gMDtcclxuICAgIHZhciBiU3RhcnQgPSAwO1xyXG4gICAgdmFyIGk7XHJcbiAgICB2YXIgajtcclxuICAgIHZhciBhTm9kZTtcclxuICAgIHZhciBiTm9kZTtcclxuICAgIHZhciBuZXh0Tm9kZTtcclxuICAgIHZhciBuZXh0UG9zO1xyXG4gICAgdmFyIG5vZGU7XHJcbiAgICBpZiAoYUxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlmIChiTGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihiLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChiTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGEsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBhU3RhcnROb2RlID0gYVthU3RhcnRdO1xyXG4gICAgdmFyIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICB2YXIgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgdmFyIGJFbmROb2RlID0gYltiRW5kXTtcclxuICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgIGJbYlN0YXJ0XSA9IGJTdGFydE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiU3RhcnROb2RlKTtcclxuICAgIH1cclxuICAgIGlmIChiRW5kTm9kZS5kb20pIHtcclxuICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICB9XHJcbiAgICAvLyBTdGVwIDFcclxuICAgIC8qIGVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IDAgKi9cclxuICAgIG91dGVyOiB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIC8vIFN5bmMgbm9kZXMgd2l0aCB0aGUgc2FtZSBrZXkgYXQgdGhlIGJlZ2lubmluZy5cclxuICAgICAgICB3aGlsZSAoYVN0YXJ0Tm9kZS5rZXkgPT09IGJTdGFydE5vZGUua2V5KSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGFTdGFydE5vZGUsIGJTdGFydE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBhU3RhcnQrKztcclxuICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgIGlmIChhU3RhcnQgPiBhRW5kIHx8IGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICAgICAgICAgIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN5bmMgbm9kZXMgd2l0aCB0aGUgc2FtZSBrZXkgYXQgdGhlIGVuZC5cclxuICAgICAgICB3aGlsZSAoYUVuZE5vZGUua2V5ID09PSBiRW5kTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYUVuZE5vZGUsIGJFbmROb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgYUVuZC0tO1xyXG4gICAgICAgICAgICBiRW5kLS07XHJcbiAgICAgICAgICAgIGlmIChhU3RhcnQgPiBhRW5kIHx8IGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFFbmROb2RlID0gYVthRW5kXTtcclxuICAgICAgICAgICAgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgICAgICAgICBpZiAoYkVuZE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTW92ZSBhbmQgc3luYyBub2RlcyBmcm9tIHJpZ2h0IHRvIGxlZnQuXHJcbiAgICAgICAgaWYgKGFFbmROb2RlLmtleSA9PT0gYlN0YXJ0Tm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYUVuZE5vZGUsIGJTdGFydE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgYlN0YXJ0Tm9kZS5kb20sIGFTdGFydE5vZGUuZG9tKTtcclxuICAgICAgICAgICAgYUVuZC0tO1xyXG4gICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgICAgICAgICBiU3RhcnROb2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICBpZiAoYlN0YXJ0Tm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IGJTdGFydE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiU3RhcnROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTW92ZSBhbmQgc3luYyBub2RlcyBmcm9tIGxlZnQgdG8gcmlnaHQuXHJcbiAgICAgICAgaWYgKGFTdGFydE5vZGUua2V5ID09PSBiRW5kTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYVN0YXJ0Tm9kZSwgYkVuZE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBuZXh0UG9zID0gYkVuZCArIDE7XHJcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgYkVuZE5vZGUuZG9tLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgIGFTdGFydCsrO1xyXG4gICAgICAgICAgICBiRW5kLS07XHJcbiAgICAgICAgICAgIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICAgICAgICAgIGJFbmROb2RlID0gYltiRW5kXTtcclxuICAgICAgICAgICAgaWYgKGJFbmROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiRW5kXSA9IGJFbmROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYkVuZE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGlmIChhU3RhcnQgPiBhRW5kKSB7XHJcbiAgICAgICAgaWYgKGJTdGFydCA8PSBiRW5kKSB7XHJcbiAgICAgICAgICAgIG5leHRQb3MgPSBiRW5kICsgMTtcclxuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgIHdoaWxlIChiU3RhcnQgPD0gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJTdGFydCsrO1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICB3aGlsZSAoYVN0YXJ0IDw9IGFFbmQpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoYVthU3RhcnQrK10sIGRvbSwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFMZW5ndGggPSBhRW5kIC0gYVN0YXJ0ICsgMTtcclxuICAgICAgICBiTGVuZ3RoID0gYkVuZCAtIGJTdGFydCArIDE7XHJcbiAgICAgICAgdmFyIHNvdXJjZXMgPSBuZXcgQXJyYXkoYkxlbmd0aCk7XHJcbiAgICAgICAgLy8gTWFyayBhbGwgbm9kZXMgYXMgaW5zZXJ0ZWQuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzb3VyY2VzW2ldID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBwb3MgPSAwO1xyXG4gICAgICAgIHZhciBwYXRjaGVkID0gMDtcclxuICAgICAgICAvLyBXaGVuIHNpemVzIGFyZSBzbWFsbCwganVzdCBsb29wIHRoZW0gdGhyb3VnaFxyXG4gICAgICAgIGlmICgoYkxlbmd0aCA8PSA0KSB8fCAoYUxlbmd0aCAqIGJMZW5ndGggPD0gMTYpKSB7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGFTdGFydDsgaSA8PSBhRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkIDwgYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IGJTdGFydDsgaiA8PSBiRW5kOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYk5vZGUgPSBiW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYU5vZGUua2V5ID09PSBiTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXNbaiAtIGJTdGFydF0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJOb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbal0gPSBiTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoKGFOb2RlLCBiTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2ldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIga2V5SW5kZXggPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIC8vIE1hcCBrZXlzIGJ5IHRoZWlyIGluZGV4IGluIGFycmF5XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGJTdGFydDsgaSA8PSBiRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGtleUluZGV4LnNldChiW2ldLmtleSwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVHJ5IHRvIHBhdGNoIHNhbWUga2V5c1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBhU3RhcnQ7IGkgPD0gYUVuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhTm9kZSA9IGFbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA8IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBqID0ga2V5SW5kZXguZ2V0KGFOb2RlLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJOb2RlID0gYltqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlc1tqIC0gYlN0YXJ0XSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPiBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiTm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbal0gPSBiTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaChhTm9kZSwgYk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmYXN0LXBhdGg6IGlmIG5vdGhpbmcgcGF0Y2hlZCByZW1vdmUgYWxsIG9sZCBhbmQgYWRkIGFsbCBuZXdcclxuICAgICAgICBpZiAoYUxlbmd0aCA9PT0gYS5sZW5ndGggJiYgcGF0Y2hlZCA9PT0gMCkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgYSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIHdoaWxlIChiU3RhcnQgPCBiTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYltiU3RhcnRdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGkgPSBhTGVuZ3RoIC0gcGF0Y2hlZDtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhTm9kZSA9IGFbYVN0YXJ0KytdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChhTm9kZSwgZG9tLCBsaWZlY3ljbGUsIHRydWUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VxID0gbGlzX2FsZ29yaXRobShzb3VyY2VzKTtcclxuICAgICAgICAgICAgICAgIGogPSBzZXEubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGJMZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW2ldID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBpICsgYlN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltwb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbcG9zXSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UG9zID0gcG9zICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBzZXFbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltwb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBvcyA9IHBvcyArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBub2RlLmRvbSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBhdGNoZWQgIT09IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcGF0Y2hlZCBjb3VudCBkb2Vzbid0IG1hdGNoIGIgbGVuZ3RoIHdlIG5lZWQgdG8gaW5zZXJ0IHRob3NlIG5ldyBvbmVzXHJcbiAgICAgICAgICAgICAgICAvLyBsb29wIGJhY2t3YXJkcyBzbyB3ZSBjYW4gdXNlIGluc2VydEJlZm9yZVxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gYkxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbaV0gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltwb3NdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQb3MgPSBwb3MgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEtleWVkQ2hpbGRyZW4gPSBwYXRjaEtleWVkQ2hpbGRyZW47XHJcbi8vIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xvbmdlc3RfaW5jcmVhc2luZ19zdWJzZXF1ZW5jZVxyXG5mdW5jdGlvbiBsaXNfYWxnb3JpdGhtKGFycikge1xyXG4gICAgdmFyIHAgPSBhcnIuc2xpY2UoMCk7XHJcbiAgICB2YXIgcmVzdWx0ID0gWzBdO1xyXG4gICAgdmFyIGk7XHJcbiAgICB2YXIgajtcclxuICAgIHZhciB1O1xyXG4gICAgdmFyIHY7XHJcbiAgICB2YXIgYztcclxuICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGFyckkgPSBhcnJbaV07XHJcbiAgICAgICAgaWYgKGFyckkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xyXG4gICAgICAgICAgICBwW2ldID0gajtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1ID0gMDtcclxuICAgICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgd2hpbGUgKHUgPCB2KSB7XHJcbiAgICAgICAgICAgIGMgPSAoKHUgKyB2KSAvIDIpIHwgMDtcclxuICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgdSA9IGMgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdiA9IGM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyckkgPCBhcnJbcmVzdWx0W3VdXSkge1xyXG4gICAgICAgICAgICBpZiAodSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdFt1XSA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdSA9IHJlc3VsdC5sZW5ndGg7XHJcbiAgICB2ID0gcmVzdWx0W3UgLSAxXTtcclxuICAgIHdoaWxlICh1LS0gPiAwKSB7XHJcbiAgICAgICAgcmVzdWx0W3VdID0gdjtcclxuICAgICAgICB2ID0gcFt2XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gaXNBdHRyQW5FdmVudChhdHRyKSB7XHJcbiAgICByZXR1cm4gYXR0clswXSA9PT0gJ28nICYmIGF0dHJbMV0gPT09ICduJztcclxufVxyXG5leHBvcnRzLmlzQXR0ckFuRXZlbnQgPSBpc0F0dHJBbkV2ZW50O1xyXG5mdW5jdGlvbiBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSkge1xyXG4gICAgaWYgKGxhc3RWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGNvbnN0YW50c18xLnNraXBQcm9wcy5oYXMocHJvcCkgfHwgKGhhc0NvbnRyb2xsZWRWYWx1ZSAmJiBwcm9wID09PSAndmFsdWUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLmJvb2xlYW5Qcm9wcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgcHJvcCA9IHByb3AgPT09ICdhdXRvRm9jdXMnID8gcHJvcC50b0xvd2VyQ2FzZSgpIDogcHJvcDtcclxuICAgICAgICAgICAgZG9tW3Byb3BdID0gISFuZXh0VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLnN0cmljdFByb3BzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSA/ICcnIDogbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZG9tW3Byb3BdICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZG9tW3Byb3BdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgICAgICBwYXRjaEV2ZW50KHByb3AsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSkge1xyXG4gICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgIHBhdGNoU3R5bGUobGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdkYW5nZXJvdXNseVNldElubmVySFRNTCcpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFZhbHVlICYmIGxhc3RWYWx1ZS5fX2h0bWw7XHJcbiAgICAgICAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRWYWx1ZSAmJiBuZXh0VmFsdWUuX19odG1sO1xyXG4gICAgICAgICAgICBpZiAobGFzdEh0bWwgIT09IG5leHRIdG1sKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SHRtbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20uaW5uZXJIVE1MID0gbmV4dEh0bWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFdlIG9wdGltaXplIGZvciBOUyBiZWluZyBib29sZWFuLiBJdHMgOTkuOSUgdGltZSBmYWxzZVxyXG4gICAgICAgICAgICBpZiAoaXNTVkcgJiYgY29uc3RhbnRzXzEubmFtZXNwYWNlcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGVuZCB1cCBpbiB0aGlzIHBhdGggd2UgY2FuIHJlYWQgcHJvcGVydHkgYWdhaW5cclxuICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGVOUyhjb25zdGFudHNfMS5uYW1lc3BhY2VzLmdldChwcm9wKSwgcHJvcCwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUocHJvcCwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoUHJvcCA9IHBhdGNoUHJvcDtcclxuZnVuY3Rpb24gcGF0Y2hFdmVudChuYW1lLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKSB7XHJcbiAgICBpZiAobGFzdFZhbHVlICE9PSBuZXh0VmFsdWUpIHtcclxuICAgICAgICBpZiAoY29uc3RhbnRzXzEuZGVsZWdhdGVkRXZlbnRzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICBkZWxlZ2F0aW9uXzEuaGFuZGxlRXZlbnQobmFtZSwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbmFtZUxvd2VyQ2FzZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gZG9tW25hbWVMb3dlckNhc2VdO1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgZnVuY3Rpb24gaXMgd3JhcHBlZCwgdGhhdCBtZWFucyBpdCdzIGJlZW4gY29udHJvbGxlZCBieSBhIHdyYXBwZXJcclxuICAgICAgICAgICAgaWYgKGRvbUV2ZW50ICYmIGRvbUV2ZW50LndyYXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihuZXh0VmFsdWUpICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmtFdmVudF8xID0gbmV4dFZhbHVlLmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmtFdmVudF8xICYmIGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihsaW5rRXZlbnRfMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rRXZlbnRfMShuZXh0VmFsdWUuZGF0YSwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJhbiBldmVudCBvbiBhIFZOb2RlIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIuIHdhcyBub3QgYSBmdW5jdGlvbiBvciBhIHZhbGlkIGxpbmtFdmVudC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9tW25hbWVMb3dlckNhc2VdID0gbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hFdmVudCA9IHBhdGNoRXZlbnQ7XHJcbi8vIFdlIGFyZSBhc3N1bWluZyBoZXJlIHRoYXQgd2UgY29tZSBmcm9tIHBhdGNoUHJvcCByb3V0aW5lXHJcbi8vIC1uZXh0QXR0clZhbHVlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZFxyXG5mdW5jdGlvbiBwYXRjaFN0eWxlKGxhc3RBdHRyVmFsdWUsIG5leHRBdHRyVmFsdWUsIGRvbSkge1xyXG4gICAgdmFyIGRvbVN0eWxlID0gZG9tLnN0eWxlO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcobmV4dEF0dHJWYWx1ZSkpIHtcclxuICAgICAgICBkb21TdHlsZS5jc3NUZXh0ID0gbmV4dEF0dHJWYWx1ZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBzdHlsZSBpbiBuZXh0QXR0clZhbHVlKSB7XHJcbiAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICB2YXIgdmFsdWUgPSBuZXh0QXR0clZhbHVlW3N0eWxlXTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdW1iZXIodmFsdWUpIHx8IGNvbnN0YW50c18xLmlzVW5pdGxlc3NOdW1iZXIuaGFzKHN0eWxlKSkge1xyXG4gICAgICAgICAgICBkb21TdHlsZVtzdHlsZV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9IHZhbHVlICsgJ3B4JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0QXR0clZhbHVlKSkge1xyXG4gICAgICAgIGZvciAodmFyIHN0eWxlIGluIGxhc3RBdHRyVmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0QXR0clZhbHVlW3N0eWxlXSkpIHtcclxuICAgICAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hTdHlsZSA9IHBhdGNoU3R5bGU7XHJcbmZ1bmN0aW9uIHJlbW92ZVByb3AocHJvcCwgbGFzdFZhbHVlLCBkb20pIHtcclxuICAgIGlmIChwcm9wID09PSAndmFsdWUnKSB7XHJcbiAgICAgICAgZG9tLnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXR0ckFuRXZlbnQocHJvcCkpIHtcclxuICAgICAgICBkZWxlZ2F0aW9uXzEuaGFuZGxlRXZlbnQocHJvcCwgbGFzdFZhbHVlLCBudWxsLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcclxuICAgIH1cclxufVxyXG5cblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIGh5ZHJhdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XHJcbnZhciBtb3VudGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcclxudmFyIHBhdGNoaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG52YXIgdW5tb3VudGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuLy8gcmF0aGVyIHRoYW4gdXNlIGEgTWFwLCBsaWtlIHdlIGRpZCBiZWZvcmUsIHdlIGNhbiB1c2UgYW4gYXJyYXkgaGVyZVxyXG4vLyBnaXZlbiB0aGVyZSBzaG91bGRuJ3QgYmUgVEhBVCBtYW55IHJvb3RzIG9uIHRoZSBwYWdlLCB0aGUgZGlmZmVyZW5jZVxyXG4vLyBpbiBwZXJmb3JtYW5jZSBpcyBodWdlOiBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzU4MDJhNjkxMzMwYWIwOTkwMGExYTJkYVxyXG5leHBvcnRzLmNvbXBvbmVudFRvRE9NTm9kZU1hcCA9IG5ldyBNYXAoKTtcclxudmFyIHJvb3RzID0gb3B0aW9uc18xLm9wdGlvbnMucm9vdHM7XHJcbi8qKlxyXG4gKiBXaGVuIGluZmVybm8ub3B0aW9ucy5maW5kRE9NTk9kZUVuYWJsZWQgaXMgdHJ1ZSwgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBET00gTm9kZSBieSBjb21wb25lbnQgaW5zdGFuY2VcclxuICogQHBhcmFtIHJlZiBDb21wb25lbnQgaW5zdGFuY2VcclxuICogQHJldHVybnMgeyp8bnVsbH0gcmV0dXJucyBkb20gbm9kZVxyXG4gKi9cclxuZnVuY3Rpb24gZmluZERPTU5vZGUocmVmKSB7XHJcbiAgICBpZiAoIW9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2ZpbmRET01Ob2RlKCkgaGFzIGJlZW4gZGlzYWJsZWQsIHVzZSBJbmZlcm5vLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkID0gdHJ1ZTsgZW5hYmxlZCBmaW5kRE9NTm9kZSgpLiBXYXJuaW5nIHRoaXMgY2FuIHNpZ25pZmljYW50bHkgaW1wYWN0IHBlcmZvcm1hbmNlIScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxuICAgIHZhciBkb20gPSByZWYgJiYgcmVmLm5vZGVUeXBlID8gcmVmIDogbnVsbDtcclxuICAgIHJldHVybiBleHBvcnRzLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5nZXQocmVmKSB8fCBkb207XHJcbn1cclxuZXhwb3J0cy5maW5kRE9NTm9kZSA9IGZpbmRET01Ob2RlO1xyXG5mdW5jdGlvbiBnZXRSb290KGRvbSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJvb3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHJvb3QgPSByb290c1tpXTtcclxuICAgICAgICBpZiAocm9vdC5kb20gPT09IGRvbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5mdW5jdGlvbiBzZXRSb290KGRvbSwgaW5wdXQsIGxpZmVjeWNsZSkge1xyXG4gICAgdmFyIHJvb3QgPSB7XHJcbiAgICAgICAgZG9tOiBkb20sXHJcbiAgICAgICAgaW5wdXQ6IGlucHV0LFxyXG4gICAgICAgIGxpZmVjeWNsZTogbGlmZWN5Y2xlXHJcbiAgICB9O1xyXG4gICAgcm9vdHMucHVzaChyb290KTtcclxuICAgIHJldHVybiByb290O1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZVJvb3Qocm9vdCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJvb3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHJvb3RzW2ldID09PSByb290KSB7XHJcbiAgICAgICAgICAgIHJvb3RzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5pZiAoZmFsc2UpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3NlciAmJiBkb2N1bWVudC5ib2R5ID09PSBudWxsKSB7XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCdJbmZlcm5vIHdhcm5pbmc6IHlvdSBjYW5ub3QgaW5pdGlhbGl6ZSBpbmZlcm5vIHdpdGhvdXQgXCJkb2N1bWVudC5ib2R5XCIuIFdhaXQgb24gXCJET01Db250ZW50TG9hZGVkXCIgZXZlbnQsIGFkZCBzY3JpcHQgdG8gYm90dG9tIG9mIGJvZHksIG9yIHVzZSBhc3luYy9kZWZlciBhdHRyaWJ1dGVzIG9uIHNjcmlwdCB0YWcuJyk7XHJcbiAgICB9XHJcbn1cclxudmFyIGRvY3VtZW50Qm9keSA9IGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XHJcbi8qKlxyXG4gKiBSZW5kZXJzIHZpcnR1YWwgbm9kZSB0cmVlIGludG8gcGFyZW50IG5vZGUuXHJcbiAqIEBwYXJhbSB7Vk5vZGUgfCBudWxsIHwgc3RyaW5nIHwgbnVtYmVyfSBpbnB1dCB2Tm9kZSB0byBiZSByZW5kZXJlZFxyXG4gKiBAcGFyYW0gcGFyZW50RG9tIERPTSBub2RlIHdoaWNoIGNvbnRlbnQgd2lsbCBiZSByZXBsYWNlZCBieSB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge0luZmVybm9DaGlsZHJlbn0gcmVuZGVyZWQgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXIoaW5wdXQsIHBhcmVudERvbSkge1xyXG4gICAgaWYgKGRvY3VtZW50Qm9keSA9PT0gcGFyZW50RG9tKSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigneW91IGNhbm5vdCByZW5kZXIoKSB0byB0aGUgXCJkb2N1bWVudC5ib2R5XCIuIFVzZSBhbiBlbXB0eSBlbGVtZW50IGFzIGEgY29udGFpbmVyIGluc3RlYWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlucHV0ID09PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHJvb3QgPSBnZXRSb290KHBhcmVudERvbSk7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwocm9vdCkpIHtcclxuICAgICAgICB2YXIgbGlmZWN5Y2xlID0gbmV3IGluZmVybm9fc2hhcmVkXzEuTGlmZWN5Y2xlKCk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICAgICAgaWYgKGlucHV0LmRvbSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFoeWRyYXRpb25fMS5oeWRyYXRlUm9vdChpbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUpKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgdXRpbHNfMS5FTVBUWV9PQkosIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByb290ID0gc2V0Um9vdChwYXJlbnREb20sIGlucHV0LCBsaWZlY3ljbGUpO1xyXG4gICAgICAgICAgICBsaWZlY3ljbGUudHJpZ2dlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBsaWZlY3ljbGUgPSByb290LmxpZmVjeWNsZTtcclxuICAgICAgICBsaWZlY3ljbGUubGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihpbnB1dCkpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQocm9vdC5pbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHJlbW92ZVJvb3Qocm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoKHJvb3QuaW5wdXQsIGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgdXRpbHNfMS5FTVBUWV9PQkosIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJvb3QuaW5wdXQgPSBpbnB1dDtcclxuICAgICAgICBsaWZlY3ljbGUudHJpZ2dlcigpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJvb3QpIHtcclxuICAgICAgICB2YXIgcm9vdElucHV0ID0gcm9vdC5pbnB1dDtcclxuICAgICAgICBpZiAocm9vdElucHV0ICYmIChyb290SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb290SW5wdXQuY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVuZGVyID0gcmVuZGVyO1xyXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihwYXJlbnREb20pIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiByZW5kZXJlcihsYXN0SW5wdXQsIG5leHRJbnB1dCkge1xyXG4gICAgICAgIGlmICghcGFyZW50RG9tKSB7XHJcbiAgICAgICAgICAgIHBhcmVudERvbSA9IGxhc3RJbnB1dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVuZGVyKG5leHRJbnB1dCwgcGFyZW50RG9tKTtcclxuICAgIH07XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVSZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XHJcbnZhciBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xyXG52YXIgcmVzb2x2ZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbnZhciBSb3V0ZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZShwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLl9vbkNvbXBvbmVudFJlc29sdmVkID0gZnVuY3Rpb24gKGVycm9yLCBjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgYXN5bmNDb21wb25lbnQ6IGNvbXBvbmVudFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBhc3luY0NvbXBvbmVudDogbnVsbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBvbkVudGVyID0gdGhpcy5wcm9wcy5vbkVudGVyO1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xyXG4gICAgICAgIGlmIChvbkVudGVyKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmVkUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uRW50ZXIoeyBwcm9wczogX3RoaXMucHJvcHMsIHJvdXRlcjogcm91dGVyIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGdldENvbXBvbmVudCA9IHRoaXMucHJvcHMuZ2V0Q29tcG9uZW50O1xyXG4gICAgICAgIGlmIChnZXRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50KHsgcHJvcHM6IF90aGlzLnByb3BzLCByb3V0ZXI6IHJvdXRlciB9LCBfdGhpcy5fb25Db21wb25lbnRSZXNvbHZlZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUub25MZWF2ZSA9IGZ1bmN0aW9uICh0cmlnZ2VyKSB7XHJcbiAgICAgICAgaWYgKHRyaWdnZXIgPT09IHZvaWQgMCkgeyB0cmlnZ2VyID0gZmFsc2U7IH1cclxuICAgICAgICB2YXIgb25MZWF2ZSA9IHRoaXMucHJvcHMub25MZWF2ZTtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAob25MZWF2ZSAmJiB0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIG9uTGVhdmUoeyBwcm9wczogdGhpcy5wcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5vbkVudGVyID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xyXG4gICAgICAgIHZhciBvbkVudGVyID0gbmV4dFByb3BzLm9uRW50ZXI7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGF0aCAhPT0gbmV4dFByb3BzLnBhdGggJiYgb25FbnRlcikge1xyXG4gICAgICAgICAgICBvbkVudGVyKHsgcHJvcHM6IG5leHRQcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5nZXRDb21wb25lbnQgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIGdldENvbXBvbmVudCA9IG5leHRQcm9wcy5nZXRDb21wb25lbnQ7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGF0aCAhPT0gbmV4dFByb3BzLnBhdGggJiYgZ2V0Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGdldENvbXBvbmVudCh7IHByb3BzOiBuZXh0UHJvcHMsIHJvdXRlcjogcm91dGVyIH0sIHRoaXMuX29uQ29tcG9uZW50UmVzb2x2ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5vbkxlYXZlKHRydWUpO1xyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KG5leHRQcm9wcyk7XHJcbiAgICAgICAgdGhpcy5vbkVudGVyKG5leHRQcm9wcyk7XHJcbiAgICAgICAgdGhpcy5vbkxlYXZlKHRoaXMucHJvcHMucGF0aCAhPT0gbmV4dFByb3BzLnBhdGgpO1xyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoX2FyZ3MpIHtcclxuICAgICAgICB2YXIgY29tcG9uZW50ID0gX2FyZ3MuY29tcG9uZW50LCBjaGlsZHJlbiA9IF9hcmdzLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHV0aWxzXzEucmVzdChfYXJncywgWydjb21wb25lbnQnLCAnY2hpbGRyZW4nLCAncGF0aCcsICdnZXRDb21wb25lbnQnXSk7XHJcbiAgICAgICAgdmFyIGFzeW5jQ29tcG9uZW50ID0gdGhpcy5zdGF0ZS5hc3luY0NvbXBvbmVudDtcclxuICAgICAgICB2YXIgcmVzb2x2ZWRDb21wb25lbnQgPSBjb21wb25lbnQgfHwgYXN5bmNDb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKCFyZXNvbHZlZENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIWluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbiA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEuZGVmYXVsdChyZXNvbHZlZENvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUm91dGU7XHJcbn0oaW5mZXJub19jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy54bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xyXG5leHBvcnRzLnhtbE5TID0gJ2h0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSc7XHJcbmV4cG9ydHMuc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG5leHBvcnRzLnN0cmljdFByb3BzID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLnN0cmljdFByb3BzLmFkZCgndm9sdW1lJyk7XHJcbmV4cG9ydHMuc3RyaWN0UHJvcHMuYWRkKCdkZWZhdWx0Q2hlY2tlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdtdXRlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3Njb3BlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2xvb3AnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdvcGVuJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnY2hlY2tlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2RlZmF1bHQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdjYXB0dXJlJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnZGlzYWJsZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdyZWFkT25seScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3JlcXVpcmVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnYXV0b3BsYXknKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdjb250cm9scycpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3NlYW1sZXNzJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgncmV2ZXJzZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdhbGxvd2Z1bGxzY3JlZW4nKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdub3ZhbGlkYXRlJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnaGlkZGVuJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnYXV0b0ZvY3VzJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnc2VsZWN0ZWQnKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzID0gbmV3IE1hcCgpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazpocmVmJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6YXJjcm9sZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOmFjdHVhdGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazpzaG93JywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6cm9sZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnRpdGxlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6dHlwZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3htbDpiYXNlJywgZXhwb3J0cy54bWxOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3htbDpsYW5nJywgZXhwb3J0cy54bWxOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3htbDpzcGFjZScsIGV4cG9ydHMueG1sTlMpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JvcmRlckltYWdlT3V0c2V0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JvcmRlckltYWdlU2xpY2UnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm9yZGVySW1hZ2VXaWR0aCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3hGbGV4Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JveEZsZXhHcm91cCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3hPcmRpbmFsR3JvdXAnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnY29sdW1uQ291bnQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4R3JvdycpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4UG9zaXRpdmUnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleFNocmluaycpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4TmVnYXRpdmUnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleE9yZGVyJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2dyaWRSb3cnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZ3JpZENvbHVtbicpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmb250V2VpZ2h0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2xpbmVDbGFtcCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdsaW5lSGVpZ2h0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ29wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnb3JkZXInKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnb3JwaGFucycpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCd0YWJTaXplJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3dpZG93cycpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCd6SW5kZXgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnem9vbScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmaWxsT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbG9vZE9wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3RvcE9wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlRGFzaGFycmF5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZURhc2hvZmZzZXQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlTWl0ZXJsaW1pdCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZVdpZHRoJyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2NoaWxkcmVuJyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnY2hpbGRyZW5UeXBlJyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnZGVmYXVsdFZhbHVlJyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgncmVmJyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgna2V5Jyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnY2hlY2tlZCcpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ211bHRpcGxlJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uQ2xpY2snKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbk1vdXNlRG93bicpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uTW91c2VVcCcpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uTW91c2VNb3ZlJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25TdWJtaXQnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbkRibENsaWNrJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25LZXlEb3duJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25LZXlVcCcpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uS2V5UHJlc3MnKTtcclxuXG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIG9wdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbnZhciBWTm9kZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcbnZhciBwYXRjaGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxudmFyIHJlY3ljbGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XHJcbnZhciByZW5kZXJpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxudmFyIHByb2Nlc3NFbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcclxuZnVuY3Rpb24gbW91bnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRFbGVtZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRDb21wb25lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgKGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLykgPiAwKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdW50Vm9pZCh2Tm9kZSwgcGFyZW50RG9tKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdW50VGV4dCh2Tm9kZSwgcGFyZW50RG9tKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZOb2RlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwibW91bnQoKSByZWNlaXZlZCBhbiBvYmplY3QgdGhhdCdzIG5vdCBhIHZhbGlkIFZOb2RlLCB5b3Ugc2hvdWxkIHN0cmluZ2lmeSBpdCBmaXJzdC4gT2JqZWN0OiBcXFwiXCIgKyBKU09OLnN0cmluZ2lmeSh2Tm9kZSkgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwibW91bnQoKSBleHBlY3RzIGEgdmFsaWQgVk5vZGUsIGluc3RlYWQgaXQgcmVjZWl2ZWQgYW4gb2JqZWN0IHdpdGggdGhlIHR5cGUgXFxcIlwiICsgdHlwZW9mIHZOb2RlICsgXCJcXFwiLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50ID0gbW91bnQ7XHJcbmZ1bmN0aW9uIG1vdW50VGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodk5vZGUuY2hpbGRyZW4pO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRUZXh0ID0gbW91bnRUZXh0O1xyXG5mdW5jdGlvbiBtb3VudFZvaWQodk5vZGUsIHBhcmVudERvbSkge1xyXG4gICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50Vm9pZCA9IG1vdW50Vm9pZDtcclxuZnVuY3Rpb24gbW91bnRFbGVtZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIGRvbV8xID0gcmVjeWNsaW5nXzEucmVjeWNsZUVsZW1lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tXzEpKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbV8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZG9tXzE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpc1NWRyA9IGlzU1ZHIHx8IChmbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICB2YXIgZG9tID0gdXRpbHNfMS5kb2N1bWVudENyZWF0ZUVsZW1lbnQodk5vZGUudHlwZSwgaXNTVkcpO1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZS5jbGFzc05hbWU7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnNldFRleHRDb250ZW50KGRvbSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIG1vdW50QXJyYXlDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgbW91bnQoY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wcykpIHtcclxuICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAoZmxhZ3MgJiAzNTg0IC8qIEZvcm1FbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaGFzQ29udHJvbGxlZFZhbHVlID0gcHJvY2Vzc0VsZW1lbnRfMS5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudChwcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaFByb3AocHJvcCwgbnVsbCwgcHJvcHNbcHJvcF0sIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIHByb3BzLCB0cnVlLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjbGFzc05hbWUgIT09IG51bGwpIHtcclxuICAgICAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHJlZikpIHtcclxuICAgICAgICBtb3VudFJlZihkb20sIHJlZiwgbGlmZWN5Y2xlKTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50RWxlbWVudCA9IG1vdW50RWxlbWVudDtcclxuZnVuY3Rpb24gbW91bnRBcnJheUNoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIC8vIFZlcmlmeSBjYW4gc3RyaW5nL251bWJlciBiZSBoZXJlLiBtaWdodCBjYXVzZSBkZS1vcHQuIC0gTm9ybWFsaXphdGlvbiB0YWtlcyBjYXJlIG9mIGl0LlxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuW2ldID0gY2hpbGQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbW91bnQoY2hpbGRyZW5baV0sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnRBcnJheUNoaWxkcmVuID0gbW91bnRBcnJheUNoaWxkcmVuO1xyXG5mdW5jdGlvbiBtb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc0NsYXNzKSB7XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCkge1xyXG4gICAgICAgIHZhciBkb21fMiA9IHJlY3ljbGluZ18xLnJlY3ljbGVDb21wb25lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tXzIpKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbV8yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZG9tXzI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdmFyIGRvbTtcclxuICAgIGlmIChpc0NsYXNzKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdXRpbHNfMS5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCwgaXNTVkcsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5zdGFuY2UuX2xhc3RJbnB1dDtcclxuICAgICAgICBpbnN0YW5jZS5fdk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBkb20gPSBtb3VudChpbnB1dCwgbnVsbCwgbGlmZWN5Y2xlLCBpbnN0YW5jZS5fY2hpbGRDb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzKHZOb2RlLCByZWYsIGluc3RhbmNlLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLnNldChpbnN0YW5jZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSB1dGlsc18xLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCh2Tm9kZSwgdHlwZSwgcHJvcHMsIGNvbnRleHQpO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGRvbSA9IG1vdW50KGlucHV0LCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IGlucHV0O1xyXG4gICAgICAgIG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50Q29tcG9uZW50ID0gbW91bnRDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIG1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKHJlZikge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgICAgICByZWYoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKHJlZikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ3N0cmluZyBcInJlZnNcIiBhcmUgbm90IHN1cHBvcnRlZCBpbiBJbmZlcm5vIDEuMC4gVXNlIGNhbGxiYWNrIFwicmVmc1wiIGluc3RlYWQuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KHJlZikgJiYgKHZOb2RlLmZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2Z1bmN0aW9uYWwgY29tcG9uZW50IGxpZmVjeWNsZSBldmVudHMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gRVMyMDE1IGNsYXNzIGNvbXBvbmVudHMuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJhIGJhZCB2YWx1ZSBmb3IgXFxcInJlZlxcXCIgd2FzIHVzZWQgb24gY29tcG9uZW50OiBcXFwiXCIgKyBKU09OLnN0cmluZ2lmeShyZWYpICsgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBoYXNEaWRNb3VudCA9ICFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KTtcclxuICAgIHZhciBhZnRlck1vdW50ID0gb3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJNb3VudDtcclxuICAgIGlmIChoYXNEaWRNb3VudCB8fCAhaW5mZXJub19zaGFyZWRfMS5pc051bGwoYWZ0ZXJNb3VudCkpIHtcclxuICAgICAgICBsaWZlY3ljbGUuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoYWZ0ZXJNb3VudCkge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJNb3VudCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhhc0RpZE1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyA9IG1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3M7XHJcbmZ1bmN0aW9uIG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAocmVmKSB7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocmVmLm9uQ29tcG9uZW50V2lsbE1vdW50KSkge1xyXG4gICAgICAgICAgICByZWYub25Db21wb25lbnRXaWxsTW91bnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocmVmLm9uQ29tcG9uZW50RGlkTW91bnQpKSB7XHJcbiAgICAgICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7IHJldHVybiByZWYub25Db21wb25lbnREaWRNb3VudChkb20pOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudEZ1bmN0aW9uYWxDb21wb25lbnRDYWxsYmFja3MgPSBtb3VudEZ1bmN0aW9uYWxDb21wb25lbnRDYWxsYmFja3M7XHJcbmZ1bmN0aW9uIG1vdW50UmVmKGRvbSwgdmFsdWUsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICBsaWZlY3ljbGUuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWUoZG9tKTsgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudFJlZiA9IG1vdW50UmVmO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpLmRlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIHBhdGNoaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG52YXIgcmVjeWNsaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcclxudmFyIHJlbmRlcmluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5mdW5jdGlvbiB1bm1vdW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgdW5tb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgdW5tb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmICgxIC8qIFRleHQgKi8gfCA0MDk2IC8qIFZvaWQgKi8pKSB7XHJcbiAgICAgICAgdW5tb3VudFZvaWRPclRleHQodk5vZGUsIHBhcmVudERvbSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50ID0gdW5tb3VudDtcclxuZnVuY3Rpb24gdW5tb3VudFZvaWRPclRleHQodk5vZGUsIHBhcmVudERvbSkge1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVDaGlsZChwYXJlbnREb20sIHZOb2RlLmRvbSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgaW5zdGFuY2UgPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgdmFyIGlzU3RhdGVmdWxDb21wb25lbnQgPSBmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi87XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIGlmICghaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLl91bm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9ibG9ja1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYmVmb3JlVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVVbm1vdW50KHZOb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlZiAmJiAhaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYobnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fdW5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuZGVsZXRlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVubW91bnQoaW5zdGFuY2UuX2xhc3RJbnB1dCwgbnVsbCwgaW5zdGFuY2UuX2xpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocmVmLm9uQ29tcG9uZW50V2lsbFVubW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmLm9uQ29tcG9uZW50V2lsbFVubW91bnQoZG9tKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1bm1vdW50KGluc3RhbmNlLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBhcmVudERvbSkge1xyXG4gICAgICAgIHZhciBsYXN0SW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdElucHV0KSkge1xyXG4gICAgICAgICAgICBsYXN0SW5wdXQgPSBpbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAhaXNTdGF0ZWZ1bENvbXBvbmVudCAmJiAocGFyZW50RG9tIHx8IGNhblJlY3ljbGUpKSB7XHJcbiAgICAgICAgcmVjeWNsaW5nXzEucG9vbENvbXBvbmVudCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50Q29tcG9uZW50ID0gdW5tb3VudENvbXBvbmVudDtcclxuZnVuY3Rpb24gdW5tb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIGlmIChyZWYgJiYgIWlzUmVjeWNsaW5nKSB7XHJcbiAgICAgICAgdW5tb3VudFJlZihyZWYpO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wcykpIHtcclxuICAgICAgICBmb3IgKHZhciBuYW1lXzEgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgaWYgKHByb3BzW25hbWVfMV0gIT09IG51bGwgJiYgcGF0Y2hpbmdfMS5pc0F0dHJBbkV2ZW50KG5hbWVfMSkpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2hFdmVudChuYW1lXzEsIHByb3BzW25hbWVfMV0sIG51bGwsIGRvbSk7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHNldCB0aGlzIG51bGwsIGJlY2F1c2Ugc2FtZSBwcm9wcyBvdGhlcndpc2UgY29tZSBiYWNrIGlmIFNDVSByZXR1cm5zIGZhbHNlIGFuZCB3ZSBhcmUgcmVjeWxpbmdcclxuICAgICAgICAgICAgICAgIHByb3BzW25hbWVfMV0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAocGFyZW50RG9tIHx8IGNhblJlY3ljbGUpKSB7XHJcbiAgICAgICAgcmVjeWNsaW5nXzEucG9vbEVsZW1lbnQodk5vZGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMudW5tb3VudEVsZW1lbnQgPSB1bm1vdW50RWxlbWVudDtcclxuZnVuY3Rpb24gdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkgJiYgaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoY2hpbGQsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdW5tb3VudChjaGlsZHJlbiwgbnVsbCwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHVubW91bnRSZWYocmVmKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKHJlZikpIHtcclxuICAgICAgICByZWYobnVsbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQocmVmKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ3N0cmluZyBcInJlZnNcIiBhcmUgbm90IHN1cHBvcnRlZCBpbiBJbmZlcm5vIDEuMC4gVXNlIGNhbGxiYWNrIFwicmVmc1wiIGluc3RlYWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcblxuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgSW5wdXRXcmFwcGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcclxudmFyIFNlbGVjdFdyYXBwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xyXG52YXIgVGV4dGFyZWFXcmFwcGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtcclxuLyoqXHJcbiAqIFRoZXJlIGlzIGN1cnJlbnRseSBubyBzdXBwb3J0IGZvciBzd2l0Y2hpbmcgc2FtZSBpbnB1dCBiZXR3ZWVuIGNvbnRyb2xsZWQgYW5kIG5vbkNvbnRyb2xsZWRcclxuICogSWYgdGhhdCBldmVyIGJlY29tZXMgYSByZWFsIGlzc3VlLCB0aGVuIHJlIGRlc2lnbiBjb250cm9sbGVkIGVsZW1lbnRzXHJcbiAqIEN1cnJlbnRseSB1c2VyIG11c3QgY2hvb3NlIGVpdGhlciBjb250cm9sbGVkIG9yIG5vbi1jb250cm9sbGVkIGFuZCBzdGljayB3aXRoIHRoYXRcclxuICovXHJcbmZ1bmN0aW9uIHByb2Nlc3NFbGVtZW50KGZsYWdzLCB2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKSB7XHJcbiAgICBpZiAoZmxhZ3MgJiA1MTIgLyogSW5wdXRFbGVtZW50ICovKSB7XHJcbiAgICAgICAgSW5wdXRXcmFwcGVyXzEucHJvY2Vzc0lucHV0KHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGZsYWdzICYgMjA0OCAvKiBTZWxlY3RFbGVtZW50ICovKSB7XHJcbiAgICAgICAgU2VsZWN0V3JhcHBlcl8xLnByb2Nlc3NTZWxlY3Qodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZmxhZ3MgJiAxMDI0IC8qIFRleHRhcmVhRWxlbWVudCAqLykge1xyXG4gICAgICAgIFRleHRhcmVhV3JhcHBlcl8xLnByb2Nlc3NUZXh0YXJlYSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnByb2Nlc3NFbGVtZW50ID0gcHJvY2Vzc0VsZW1lbnQ7XHJcbmZ1bmN0aW9uIGlzQ29udHJvbGxlZEZvcm1FbGVtZW50KG5leHRQcm9wc09yRW1wdHkpIHtcclxuICAgIHJldHVybiAobmV4dFByb3BzT3JFbXB0eS50eXBlICYmIElucHV0V3JhcHBlcl8xLmlzQ2hlY2tlZFR5cGUobmV4dFByb3BzT3JFbXB0eS50eXBlKSkgPyAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRQcm9wc09yRW1wdHkuY2hlY2tlZCkgOiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRQcm9wc09yRW1wdHkudmFsdWUpO1xyXG59XHJcbmV4cG9ydHMuaXNDb250cm9sbGVkRm9ybUVsZW1lbnQgPSBpc0NvbnRyb2xsZWRGb3JtRWxlbWVudDtcclxuXG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBhZGRMZWFkaW5nU2xhc2ggPSBleHBvcnRzLmFkZExlYWRpbmdTbGFzaCA9IGZ1bmN0aW9uIGFkZExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG59O1xuXG52YXIgc3RyaXBMZWFkaW5nU2xhc2ggPSBleHBvcnRzLnN0cmlwTGVhZGluZ1NsYXNoID0gZnVuY3Rpb24gc3RyaXBMZWFkaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJyA/IHBhdGguc3Vic3RyKDEpIDogcGF0aDtcbn07XG5cbnZhciBzdHJpcFByZWZpeCA9IGV4cG9ydHMuc3RyaXBQcmVmaXggPSBmdW5jdGlvbiBzdHJpcFByZWZpeChwYXRoLCBwcmVmaXgpIHtcbiAgcmV0dXJuIHBhdGguaW5kZXhPZihwcmVmaXgpID09PSAwID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xufTtcblxudmFyIHN0cmlwVHJhaWxpbmdTbGFzaCA9IGV4cG9ydHMuc3RyaXBUcmFpbGluZ1NsYXNoID0gZnVuY3Rpb24gc3RyaXBUcmFpbGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KHBhdGgubGVuZ3RoIC0gMSkgPT09ICcvJyA/IHBhdGguc2xpY2UoMCwgLTEpIDogcGF0aDtcbn07XG5cbnZhciBwYXJzZVBhdGggPSBleHBvcnRzLnBhcnNlUGF0aCA9IGZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIHZhciBwYXRobmFtZSA9IHBhdGggfHwgJy8nO1xuICB2YXIgc2VhcmNoID0gJyc7XG4gIHZhciBoYXNoID0gJyc7XG5cbiAgdmFyIGhhc2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcbiAgICBoYXNoID0gcGF0aG5hbWUuc3Vic3RyKGhhc2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIoMCwgaGFzaEluZGV4KTtcbiAgfVxuXG4gIHZhciBzZWFyY2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJz8nKTtcbiAgaWYgKHNlYXJjaEluZGV4ICE9PSAtMSkge1xuICAgIHNlYXJjaCA9IHBhdGhuYW1lLnN1YnN0cihzZWFyY2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIoMCwgc2VhcmNoSW5kZXgpO1xuICB9XG5cbiAgcGF0aG5hbWUgPSBkZWNvZGVVUkkocGF0aG5hbWUpO1xuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoID09PSAnPycgPyAnJyA6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoID09PSAnIycgPyAnJyA6IGhhc2hcbiAgfTtcbn07XG5cbnZhciBjcmVhdGVQYXRoID0gZXhwb3J0cy5jcmVhdGVQYXRoID0gZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuXG5cbiAgdmFyIHBhdGggPSBlbmNvZGVVUkkocGF0aG5hbWUgfHwgJy8nKTtcblxuICBpZiAoc2VhcmNoICYmIHNlYXJjaCAhPT0gJz8nKSBwYXRoICs9IHNlYXJjaC5jaGFyQXQoMCkgPT09ICc/JyA/IHNlYXJjaCA6ICc/JyArIHNlYXJjaDtcblxuICBpZiAoaGFzaCAmJiBoYXNoICE9PSAnIycpIHBhdGggKz0gaGFzaC5jaGFyQXQoMCkgPT09ICcjJyA/IGhhc2ggOiAnIycgKyBoYXNoO1xuXG4gIHJldHVybiBwYXRoO1xufTtcblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpLmRlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG5mdW5jdGlvbiByZW5kZXJMaW5rKGNsYXNzTm0sIGNoaWxkcmVuLCBvdGhlclByb3BzKSB7XHJcbiAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDIgLyogSHRtbEVsZW1lbnQgKi8sICdhJywgY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG59XHJcbmZ1bmN0aW9uIExpbmsocHJvcHMsIF9hKSB7XHJcbiAgICB2YXIgcm91dGVyID0gX2Eucm91dGVyO1xyXG4gICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IHByb3BzLmFjdGl2ZUNsYXNzTmFtZSwgYWN0aXZlU3R5bGUgPSBwcm9wcy5hY3RpdmVTdHlsZSwgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBvbkNsaWNrID0gcHJvcHMub25DbGljaywgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbiwgdG8gPSBwcm9wcy50bywgb3RoZXJQcm9wcyA9IF9fcmVzdChwcm9wcywgW1wiYWN0aXZlQ2xhc3NOYW1lXCIsIFwiYWN0aXZlU3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJvbkNsaWNrXCIsIFwiY2hpbGRyZW5cIiwgXCJ0b1wiXSk7XHJcbiAgICB2YXIgY2xhc3NObTtcclxuICAgIGlmIChjbGFzc05hbWUpIHtcclxuICAgICAgICBjbGFzc05tID0gY2xhc3NOYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKCFyb3V0ZXIpIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCc8TGluay8+IGNvbXBvbmVudCB1c2VkIG91dHNpZGUgb2YgPFJvdXRlci8+LiBGYWxsYmFjayB0byA8YT4gdGFnLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvdGhlclByb3BzLmhyZWYgPSB0bztcclxuICAgICAgICBvdGhlclByb3BzLm9uQ2xpY2sgPSBvbkNsaWNrO1xyXG4gICAgICAgIHJldHVybiByZW5kZXJMaW5rKGNsYXNzTm0sIGNoaWxkcmVuLCBvdGhlclByb3BzKTtcclxuICAgIH1cclxuICAgIG90aGVyUHJvcHMuaHJlZiA9IGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyID8gcm91dGVyLmNyZWF0ZUhyZWYoeyBwYXRobmFtZTogdG8gfSkgOiByb3V0ZXIubG9jYXRpb24uYmFzZVVybCA/IHJvdXRlci5sb2NhdGlvbi5iYXNlVXJsICsgdG8gOiB0bztcclxuICAgIGlmIChyb3V0ZXIubG9jYXRpb24ucGF0aG5hbWUgPT09IHRvKSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZUNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBjbGFzc05tID0gKGNsYXNzTmFtZSA/IGNsYXNzTmFtZSArICcgJyA6ICcnKSArIGFjdGl2ZUNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFjdGl2ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIG90aGVyUHJvcHMuc3R5bGUgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHByb3BzLnN0eWxlLCBhY3RpdmVTdHlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb3RoZXJQcm9wcy5vbmNsaWNrID0gZnVuY3Rpb24gbmF2aWdhdGUoZSkge1xyXG4gICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCB8fCBlLmN0cmxLZXkgfHwgZS5hbHRLZXkgfHwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG9uQ2xpY2soZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJvdXRlci5wdXNoKHRvLCBlLnRhcmdldC50ZXh0Q29udGVudCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IExpbms7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XHJcbnZhciBSb3V0ZXJDb250ZXh0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZXJDb250ZXh0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUm91dGVyQ29udGV4dChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BzLmxvY2F0aW9uIHx8ICFwcm9wcy5tYXRjaGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImluZmVybm8tcm91dGVyXCIgcmVxdWlyZXMgYSBcImxvY2F0aW9uXCIgYW5kIFwibWF0Y2hlZFwiIHByb3BzIHBhc3NlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJvdXRlckNvbnRleHQucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByb3V0ZXI6IHRoaXMucHJvcHMucm91dGVyIHx8IHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogdGhpcy5wcm9wcy5iYXNlVXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiB0aGlzLnByb3BzLmxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFJvdXRlckNvbnRleHQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgICAgIHJldHVybiBwcm9wcy5tYXRjaGVkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZXJDb250ZXh0O1xyXG59KGluZmVybm9fY29tcG9uZW50XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXJDb250ZXh0O1xyXG5cblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBwYXRoX3RvX3JlZ2V4cF9lczZfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xyXG52YXIgY2FjaGUgPSBuZXcgTWFwKCk7XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbm9kZSBjb250YWluaW5nIG9ubHkgdGhlIG1hdGNoZWQgY29tcG9uZW50c1xyXG4gKiBAcGFyYW0gcm91dGVzXHJcbiAqIEBwYXJhbSBjdXJyZW50VVJMXHJcbiAqIEByZXR1cm5zIHsqfVxyXG4gKi9cclxuZnVuY3Rpb24gbWF0Y2gocm91dGVzLCBjdXJyZW50VVJMKSB7XHJcbiAgICB2YXIgbG9jYXRpb24gPSB1dGlsc18xLmdldFVSTFN0cmluZyhjdXJyZW50VVJMKTtcclxuICAgIHJldHVybiBtYXRjaFJvdXRlcyhpbmZlcm5vX3NoYXJlZF8xLnRvQXJyYXkocm91dGVzKSwgZW5jb2RlVVJJKGxvY2F0aW9uKSwgJy8nKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBtYXRjaDtcclxuLyoqXHJcbiAqIEdvIHRocm91Z2ggZXZlcnkgcm91dGUgYW5kIGNyZWF0ZSBhIG5ldyBub2RlXHJcbiAqIHdpdGggdGhlIG1hdGNoZWQgY29tcG9uZW50c1xyXG4gKiBAcGFyYW0gX3JvdXRlc1xyXG4gKiBAcGFyYW0gY3VycmVudFVSTFxyXG4gKiBAcGFyYW0gcGFyZW50UGF0aFxyXG4gKiBAcGFyYW0gcmVkaXJlY3RcclxuICogQHJldHVybnMge29iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIG1hdGNoUm91dGVzKF9yb3V0ZXMsIGN1cnJlbnRVUkwsIHBhcmVudFBhdGgsIHJlZGlyZWN0KSB7XHJcbiAgICBpZiAoY3VycmVudFVSTCA9PT0gdm9pZCAwKSB7IGN1cnJlbnRVUkwgPSAnLyc7IH1cclxuICAgIGlmIChwYXJlbnRQYXRoID09PSB2b2lkIDApIHsgcGFyZW50UGF0aCA9ICcvJzsgfVxyXG4gICAgaWYgKHJlZGlyZWN0ID09PSB2b2lkIDApIHsgcmVkaXJlY3QgPSBmYWxzZTsgfVxyXG4gICAgdmFyIHJvdXRlcyA9IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShfcm91dGVzKSA/IHV0aWxzXzEuZmxhdHRlbihfcm91dGVzKSA6IGluZmVybm9fc2hhcmVkXzEudG9BcnJheShfcm91dGVzKTtcclxuICAgIHZhciBfYSA9IGN1cnJlbnRVUkwuc3BsaXQoJz8nKSwgX2IgPSBfYVswXSwgcGF0aFRvTWF0Y2ggPSBfYiA9PT0gdm9pZCAwID8gJy8nIDogX2IsIF9jID0gX2FbMV0sIHNlYXJjaCA9IF9jID09PSB2b2lkIDAgPyAnJyA6IF9jO1xyXG4gICAgdmFyIHBhcmFtcyA9IHV0aWxzXzEubWFwU2VhcmNoUGFyYW1zKHNlYXJjaCk7XHJcbiAgICByb3V0ZXMuc29ydCh1dGlsc18xLnBhdGhSYW5rU29ydCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm91dGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHJvdXRlLnByb3BzIHx8IHV0aWxzXzEuZW1wdHlPYmplY3Q7XHJcbiAgICAgICAgdmFyIHJvdXRlUGF0aCA9IHByb3BzLmZyb20gfHwgcHJvcHMucGF0aCB8fCAnLyc7XHJcbiAgICAgICAgdmFyIGxvY2F0aW9uXzEgPSBwYXJlbnRQYXRoICsgdXRpbHNfMS50b1BhcnRpYWxVUkwocm91dGVQYXRoLCBwYXJlbnRQYXRoKS5yZXBsYWNlKC9cXC9cXC8vZywgJy8nKTtcclxuICAgICAgICB2YXIgaXNMYXN0ID0gdXRpbHNfMS5pc0VtcHR5KHByb3BzLmNoaWxkcmVuKTtcclxuICAgICAgICB2YXIgbWF0Y2hCYXNlID0gbWF0Y2hQYXRoKGlzTGFzdCwgbG9jYXRpb25fMSwgcGF0aFRvTWF0Y2gpO1xyXG4gICAgICAgIGlmIChtYXRjaEJhc2UpIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5mcm9tKSB7XHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdCA9IHByb3BzLnRvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoQ2hpbGQgPSBtYXRjaFJvdXRlcyhjaGlsZHJlbiwgY3VycmVudFVSTCwgbG9jYXRpb25fMSwgcmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoQ2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hDaGlsZC5yZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogbWF0Y2hDaGlsZC5yZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IG1hdGNoQ2hpbGQubWF0Y2hlZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRQcm9wcyA9IGNoaWxkcmVuLnByb3BzLnBhcmFtcztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY2hpbGRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNba2V5XSA9IGNoaWxkUHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG1hdGNoZWQgPSBpbmZlcm5vXzEuZGVmYXVsdC5jbG9uZVZOb2RlKHJvdXRlLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocGFyYW1zLCBtYXRjaEJhc2UucGFyYW1zKSxcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbl8xLFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6IHJlZGlyZWN0LFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hlZDogbWF0Y2hlZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ29udmVydHMgcGF0aCB0byBhIHJlZ2V4LCBpZiBhIG1hdGNoIGlzIGZvdW5kIHRoZW4gd2UgZXh0cmFjdCBwYXJhbXMgZnJvbSBpdFxyXG4gKiBAcGFyYW0gZW5kXHJcbiAqIEBwYXJhbSByb3V0ZVBhdGhcclxuICogQHBhcmFtIHBhdGhUb01hdGNoXHJcbiAqIEByZXR1cm5zIHthbnl9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXRjaFBhdGgoZW5kLCByb3V0ZVBhdGgsIHBhdGhUb01hdGNoKSB7XHJcbiAgICB2YXIga2V5ID0gcm91dGVQYXRoICsgXCJ8XCIgKyBlbmQ7XHJcbiAgICB2YXIgcmVnZXhwID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICBpZiAocmVnZXhwID09PSB2b2lkIDApIHtcclxuICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgIHJlZ2V4cCA9IHsgcGF0dGVybjogcGF0aF90b19yZWdleHBfZXM2XzEuZGVmYXVsdChyb3V0ZVBhdGgsIGtleXMsIHsgZW5kOiBlbmQgfSksIGtleXM6IGtleXMgfTtcclxuICAgICAgICBjYWNoZS5zZXQoa2V5LCByZWdleHApO1xyXG4gICAgfVxyXG4gICAgdmFyIG0gPSByZWdleHAucGF0dGVybi5leGVjKHBhdGhUb01hdGNoKTtcclxuICAgIGlmICghbSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgdmFyIHBhdGggPSBtWzBdO1xyXG4gICAgdmFyIHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gbS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xyXG4gICAgICAgIHBhcmFtc1tyZWdleHAua2V5c1tpIC0gMV0ubmFtZV0gPSB1dGlsc18xLmRlY29kZShtW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGF0aDogcGF0aCA9PT0gJycgPyAnLycgOiBwYXRoLFxyXG4gICAgICAgIHBhcmFtczogcGFyYW1zXHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydHMubWF0Y2hQYXRoID0gbWF0Y2hQYXRoO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxuZXhwb3J0cy5lbXB0eU9iamVjdCA9IHt9O1xyXG5mdW5jdGlvbiBkZWNvZGUodmFsKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbCAhPT0gJ3N0cmluZycgPyB2YWwgOiBkZWNvZGVVUklDb21wb25lbnQodmFsKTtcclxufVxyXG5leHBvcnRzLmRlY29kZSA9IGRlY29kZTtcclxuZnVuY3Rpb24gaXNFbXB0eShjaGlsZHJlbikge1xyXG4gICAgcmV0dXJuICFjaGlsZHJlbiB8fCAhKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbiA6IE9iamVjdC5rZXlzKGNoaWxkcmVuKSkubGVuZ3RoO1xyXG59XHJcbmV4cG9ydHMuaXNFbXB0eSA9IGlzRW1wdHk7XHJcbmZ1bmN0aW9uIGZsYXR0ZW4ob2xkQXJyYXkpIHtcclxuICAgIHZhciBuZXdBcnJheSA9IFtdO1xyXG4gICAgZmxhdHRlbkFycmF5KG9sZEFycmF5LCBuZXdBcnJheSk7XHJcbiAgICByZXR1cm4gbmV3QXJyYXk7XHJcbn1cclxuZXhwb3J0cy5mbGF0dGVuID0gZmxhdHRlbjtcclxuZnVuY3Rpb24gZ2V0VVJMU3RyaW5nKGxvY2F0aW9uKSB7XHJcbiAgICByZXR1cm4gaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyhsb2NhdGlvbikgPyBsb2NhdGlvbiA6IChsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCk7XHJcbn1cclxuZXhwb3J0cy5nZXRVUkxTdHJpbmcgPSBnZXRVUkxTdHJpbmc7XHJcbi8qKlxyXG4gKiBNYXBzIGEgcXVlcnlzdHJpbmcgdG8gYW4gb2JqZWN0XHJcbiAqIFN1cHBvcnRzIGFycmF5cyBhbmQgdXRmLTggY2hhcmFjdGVyc1xyXG4gKiBAcGFyYW0gc2VhcmNoXHJcbiAqIEByZXR1cm5zIHthbnl9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXBTZWFyY2hQYXJhbXMoc2VhcmNoKSB7XHJcbiAgICBpZiAoc2VhcmNoID09PSAnJykge1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuICAgIC8vIENyZWF0ZSBhbiBvYmplY3Qgd2l0aCBubyBwcm90b3R5cGVcclxuICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgdmFyIGZyYWdtZW50cyA9IHNlYXJjaC5zcGxpdCgnJicpO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZyYWdtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBmcmFnbWVudCA9IGZyYWdtZW50c1tpXTtcclxuICAgICAgICB2YXIgX2EgPSBmcmFnbWVudC5zcGxpdCgnPScpLm1hcChtYXBGcmFnbWVudCkubWFwKGRlY29kZVVSSUNvbXBvbmVudCksIGsgPSBfYVswXSwgdiA9IF9hWzFdO1xyXG4gICAgICAgIGlmIChtYXBba10pIHtcclxuICAgICAgICAgICAgbWFwW2tdID0gaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG1hcFtrXSkgPyBtYXBba10gOiBbbWFwW2tdXTtcclxuICAgICAgICAgICAgbWFwW2tdLnB1c2godik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYXBba10gPSB2O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtYXA7XHJcbn1cclxuZXhwb3J0cy5tYXBTZWFyY2hQYXJhbXMgPSBtYXBTZWFyY2hQYXJhbXM7XHJcbi8qKlxyXG4gKiBHZXRzIHRoZSByZWxldmFudCBwYXJ0IG9mIHRoZSBVUkwgZm9yIG1hdGNoaW5nXHJcbiAqIEBwYXJhbSBmdWxsVVJMXHJcbiAqIEBwYXJhbSBwYXJ0VVJMXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiB0b1BhcnRpYWxVUkwoZnVsbFVSTCwgcGFydFVSTCkge1xyXG4gICAgaWYgKGZ1bGxVUkwuaW5kZXhPZihwYXJ0VVJMKSA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBmdWxsVVJMLnN1YnN0cihwYXJ0VVJMLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVsbFVSTDtcclxufVxyXG5leHBvcnRzLnRvUGFydGlhbFVSTCA9IHRvUGFydGlhbFVSTDtcclxuLyoqXHJcbiAqIFNpbXVsYXRlcyAuLi4gb3BlcmF0b3IgYnkgcmV0dXJuaW5nIGZpcnN0IGFyZ3VtZW50XHJcbiAqIHdpdGggdGhlIGtleXMgaW4gdGhlIHNlY29uZCBhcmd1bWVudCBleGNsdWRlZFxyXG4gKiBAcGFyYW0gX2FyZ3NcclxuICogQHBhcmFtIGV4Y2x1ZGVkXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIHJlc3QoX2FyZ3MsIGV4Y2x1ZGVkKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBfYXJncykge1xyXG4gICAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKHApIDwgMCkge1xyXG4gICAgICAgICAgICB0W3BdID0gX2FyZ3NbcF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuZXhwb3J0cy5yZXN0ID0gcmVzdDtcclxuLyoqXHJcbiAqIFNvcnRzIGFuIGFycmF5IGFjY29yZGluZyB0byBpdHMgYHBhdGhgIHByb3AgbGVuZ3RoXHJcbiAqIEBwYXJhbSBhXHJcbiAqIEBwYXJhbSBiXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiBwYXRoUmFua1NvcnQoYSwgYikge1xyXG4gICAgdmFyIGFBdHRyID0gYS5wcm9wcyB8fCBleHBvcnRzLmVtcHR5T2JqZWN0O1xyXG4gICAgdmFyIGJBdHRyID0gYi5wcm9wcyB8fCBleHBvcnRzLmVtcHR5T2JqZWN0O1xyXG4gICAgdmFyIGRpZmYgPSByYW5rKGJBdHRyLnBhdGgpIC0gcmFuayhhQXR0ci5wYXRoKTtcclxuICAgIHJldHVybiBkaWZmIHx8ICgoYkF0dHIucGF0aCAmJiBhQXR0ci5wYXRoKSA/IChiQXR0ci5wYXRoLmxlbmd0aCAtIGFBdHRyLnBhdGgubGVuZ3RoKSA6IDApO1xyXG59XHJcbmV4cG9ydHMucGF0aFJhbmtTb3J0ID0gcGF0aFJhbmtTb3J0O1xyXG4vKipcclxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBwYXJzaW5nIHF1ZXJ5c3RyaW5nIGFycmF5c1xyXG4gKi9cclxuZnVuY3Rpb24gbWFwRnJhZ21lbnQocCwgaXNWYWwpIHtcclxuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoaXNWYWwgfCAwID8gcCA6IHAucmVwbGFjZSgnW10nLCAnJykpO1xyXG59XHJcbmZ1bmN0aW9uIHN0cmlwKHVybCkge1xyXG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKC8oXlxcLyt8XFwvKyQpL2csICcnKTtcclxufVxyXG5mdW5jdGlvbiByYW5rKHVybCkge1xyXG4gICAgaWYgKHVybCA9PT0gdm9pZCAwKSB7IHVybCA9ICcnOyB9XHJcbiAgICByZXR1cm4gKHN0cmlwKHVybCkubWF0Y2goL1xcLysvZykgfHwgJycpLmxlbmd0aDtcclxufVxyXG5mdW5jdGlvbiBmbGF0dGVuQXJyYXkob2xkQXJyYXksIG5ld0FycmF5KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gb2xkQXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgaXRlbSA9IG9sZEFycmF5W2ldO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoaXRlbSkpIHtcclxuICAgICAgICAgICAgZmxhdHRlbkFycmF5KGl0ZW0sIG5ld0FycmF5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2goaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbnZhciBjb21wb25lbnRQb29scyA9IG5ldyBNYXAoKTtcclxudmFyIGVsZW1lbnRQb29scyA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gcmVjeWNsZUVsZW1lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciB0YWcgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHBvb2xzID0gZWxlbWVudFBvb2xzLmdldCh0YWcpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBrZXkgPT09IG51bGwgPyBwb29scy5ub25LZXllZCA6IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjeWNsZWRWTm9kZSA9IHBvb2wucG9wKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChyZWN5Y2xlZFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEVsZW1lbnQocmVjeWNsZWRWTm9kZSwgdk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZOb2RlLmRvbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmV4cG9ydHMucmVjeWNsZUVsZW1lbnQgPSByZWN5Y2xlRWxlbWVudDtcclxuZnVuY3Rpb24gcG9vbEVsZW1lbnQodk5vZGUpIHtcclxuICAgIHZhciB0YWcgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgIHZhciBwb29scyA9IGVsZW1lbnRQb29scy5nZXQodGFnKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHBvb2xzID0ge1xyXG4gICAgICAgICAgICBrZXllZDogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgICBub25LZXllZDogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIGVsZW1lbnRQb29scy5zZXQodGFnLCBwb29scyk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwoa2V5KSkge1xyXG4gICAgICAgIHBvb2xzLm5vbktleWVkLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBwb29scy5rZXllZC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICBwb29sID0gW107XHJcbiAgICAgICAgICAgIHBvb2xzLmtleWVkLnNldChrZXksIHBvb2wpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwb29sLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucG9vbEVsZW1lbnQgPSBwb29sRWxlbWVudDtcclxuZnVuY3Rpb24gcmVjeWNsZUNvbXBvbmVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHBvb2xzID0gY29tcG9uZW50UG9vbHMuZ2V0KHR5cGUpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBrZXkgPT09IG51bGwgPyBwb29scy5ub25LZXllZCA6IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjeWNsZWRWTm9kZSA9IHBvb2wucG9wKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChyZWN5Y2xlZFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmFpbGVkID0gcGF0Y2hpbmdfMS5wYXRjaENvbXBvbmVudChyZWN5Y2xlZFZOb2RlLCB2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmFpbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZOb2RlLmRvbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmV4cG9ydHMucmVjeWNsZUNvbXBvbmVudCA9IHJlY3ljbGVDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIHBvb2xDb21wb25lbnQodk5vZGUpIHtcclxuICAgIHZhciBob29rcyA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBub25SZWN5Y2xlSG9va3MgPSBob29rcyAmJiAoaG9va3Mub25Db21wb25lbnRXaWxsTW91bnQgfHxcclxuICAgICAgICBob29rcy5vbkNvbXBvbmVudFdpbGxVbm1vdW50IHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnREaWRNb3VudCB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50V2lsbFVwZGF0ZSB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50RGlkVXBkYXRlKTtcclxuICAgIGlmIChub25SZWN5Y2xlSG9va3MpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIga2V5ID0gdk5vZGUua2V5O1xyXG4gICAgdmFyIHBvb2xzID0gY29tcG9uZW50UG9vbHMuZ2V0KHR5cGUpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgcG9vbHMgPSB7XHJcbiAgICAgICAgICAgIGtleWVkOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgIG5vbktleWVkOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29tcG9uZW50UG9vbHMuc2V0KHR5cGUsIHBvb2xzKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChrZXkpKSB7XHJcbiAgICAgICAgcG9vbHMubm9uS2V5ZWQucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcG9vbCA9IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHBvb2wgPSBbXTtcclxuICAgICAgICAgICAgcG9vbHMua2V5ZWQuc2V0KGtleSwgcG9vbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvb2wucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wb29sQ29tcG9uZW50ID0gcG9vbENvbXBvbmVudDtcclxuXG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBWTm9kZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcbmZ1bmN0aW9uIGFwcGx5S2V5KGtleSwgdk5vZGUpIHtcclxuICAgIHZOb2RlLmtleSA9IGtleTtcclxuICAgIHJldHVybiB2Tm9kZTtcclxufVxyXG5mdW5jdGlvbiBhcHBseUtleUlmTWlzc2luZyhrZXksIHZOb2RlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bWJlcihrZXkpKSB7XHJcbiAgICAgICAga2V5ID0gXCIuXCIgKyBrZXk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwodk5vZGUua2V5KSB8fCB2Tm9kZS5rZXlbMF0gPT09ICcuJykge1xyXG4gICAgICAgIHJldHVybiBhcHBseUtleShrZXksIHZOb2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2Tm9kZTtcclxufVxyXG5mdW5jdGlvbiBhcHBseUtleVByZWZpeChrZXksIHZOb2RlKSB7XHJcbiAgICB2Tm9kZS5rZXkgPSBrZXkgKyB2Tm9kZS5rZXk7XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZnVuY3Rpb24gX25vcm1hbGl6ZVZOb2Rlcyhub2RlcywgcmVzdWx0LCBpbmRleCwgY3VycmVudEtleSkge1xyXG4gICAgZm9yICh2YXIgbGVuID0gbm9kZXMubGVuZ3RoOyBpbmRleCA8IGxlbjsgaW5kZXgrKykge1xyXG4gICAgICAgIHZhciBuID0gbm9kZXNbaW5kZXhdO1xyXG4gICAgICAgIHZhciBrZXkgPSBjdXJyZW50S2V5ICsgXCIuXCIgKyBpbmRleDtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG4pKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobikpIHtcclxuICAgICAgICAgICAgICAgIF9ub3JtYWxpemVWTm9kZXMobiwgcmVzdWx0LCAwLCBrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBWTm9kZXNfMS5jcmVhdGVUZXh0Vk5vZGUobiwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKG4pICYmIG4uZG9tIHx8IChuLmtleSAmJiBuLmtleVswXSA9PT0gJy4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChuLmtleSkgfHwgbi5rZXlbMF0gPT09ICcuJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBhcHBseUtleShrZXksIG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IGFwcGx5S2V5UHJlZml4KGN1cnJlbnRLZXksIG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplVk5vZGVzKG5vZGVzKSB7XHJcbiAgICB2YXIgbmV3Tm9kZXM7XHJcbiAgICAvLyB3ZSBhc3NpZ24gJCB3aGljaCBiYXNpY2FsbHkgbWVhbnMgd2UndmUgZmxhZ2dlZCB0aGlzIGFycmF5IGZvciBmdXR1cmUgbm90ZVxyXG4gICAgLy8gaWYgaXQgY29tZXMgYmFjayBhZ2Fpbiwgd2UgbmVlZCB0byBjbG9uZSBpdCwgYXMgcGVvcGxlIGFyZSB1c2luZyBpdFxyXG4gICAgLy8gaW4gYW4gaW1tdXRhYmxlIHdheVxyXG4gICAgLy8gdHNsaW50OmRpc2FibGVcclxuICAgIGlmIChub2Rlc1snJCddID09PSB0cnVlKSB7XHJcbiAgICAgICAgbm9kZXMgPSBub2Rlcy5zbGljZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbm9kZXNbJyQnXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyB0c2xpbnQ6ZW5hYmxlXHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgbiA9IG5vZGVzW2ldO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuKSB8fCBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobikpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IChuZXdOb2RlcyB8fCBub2Rlcykuc2xpY2UoMCwgaSk7XHJcbiAgICAgICAgICAgIF9ub3JtYWxpemVWTm9kZXMobm9kZXMsIHJlc3VsdCwgaSwgXCJcIik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuKSkge1xyXG4gICAgICAgICAgICBpZiAoIW5ld05vZGVzKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdOb2RlcyA9IG5vZGVzLnNsaWNlKDAsIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld05vZGVzLnB1c2goYXBwbHlLZXlJZk1pc3NpbmcoaSwgVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG4sIG51bGwpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChWTm9kZXNfMS5pc1ZOb2RlKG4pICYmIG4uZG9tICE9PSBudWxsKSB8fCAoaW5mZXJub19zaGFyZWRfMS5pc051bGwobi5rZXkpICYmIChuLmZsYWdzICYgNjQgLyogSGFzTm9uS2V5ZWRDaGlsZHJlbiAqLykgPT09IDApKSB7XHJcbiAgICAgICAgICAgIGlmICghbmV3Tm9kZXMpIHtcclxuICAgICAgICAgICAgICAgIG5ld05vZGVzID0gbm9kZXMuc2xpY2UoMCwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Tm9kZXMucHVzaChhcHBseUtleUlmTWlzc2luZyhpLCBWTm9kZXNfMS5kaXJlY3RDbG9uZShuKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuZXdOb2Rlcykge1xyXG4gICAgICAgICAgICBuZXdOb2Rlcy5wdXNoKGFwcGx5S2V5SWZNaXNzaW5nKGksIFZOb2Rlc18xLmRpcmVjdENsb25lKG4pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld05vZGVzIHx8IG5vZGVzO1xyXG59XHJcbmV4cG9ydHMubm9ybWFsaXplVk5vZGVzID0gbm9ybWFsaXplVk5vZGVzO1xyXG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbikge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICByZXR1cm4gbm9ybWFsaXplVk5vZGVzKGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKFZOb2Rlc18xLmlzVk5vZGUoY2hpbGRyZW4pICYmIGNoaWxkcmVuLmRvbSAhPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBWTm9kZXNfMS5kaXJlY3RDbG9uZShjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2hpbGRyZW47XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHModk5vZGUsIHByb3BzLCBjaGlsZHJlbikge1xyXG4gICAgaWYgKHZOb2RlLmZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZHJlbikgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5jaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdk5vZGUuY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMuY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICB2Tm9kZS5jbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWU7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy5jbGFzc05hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHByb3BzLnJlZikge1xyXG4gICAgICAgIHZOb2RlLnJlZiA9IHByb3BzLnJlZjtcclxuICAgICAgICBkZWxldGUgcHJvcHMucmVmO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMua2V5KSkge1xyXG4gICAgICAgIHZOb2RlLmtleSA9IHByb3BzLmtleTtcclxuICAgICAgICBkZWxldGUgcHJvcHMua2V5O1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldEZsYWdzRm9yRWxlbWVudFZub2RlKHR5cGUpIHtcclxuICAgIGlmICh0eXBlID09PSAnc3ZnJykge1xyXG4gICAgICAgIHJldHVybiAxMjggLyogU3ZnRWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdpbnB1dCcpIHtcclxuICAgICAgICByZXR1cm4gNTEyIC8qIElucHV0RWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdzZWxlY3QnKSB7XHJcbiAgICAgICAgcmV0dXJuIDIwNDggLyogU2VsZWN0RWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd0ZXh0YXJlYScpIHtcclxuICAgICAgICByZXR1cm4gMTAyNCAvKiBUZXh0YXJlYUVsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnbWVkaWEnKSB7XHJcbiAgICAgICAgcmV0dXJuIDI1NiAvKiBNZWRpYUVsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMiAvKiBIdG1sRWxlbWVudCAqLztcclxufVxyXG5leHBvcnRzLmdldEZsYWdzRm9yRWxlbWVudFZub2RlID0gZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGU7XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZSh2Tm9kZSkge1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHM7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIC8vIGNvbnZlcnQgYSB3cm9uZ2x5IGNyZWF0ZWQgdHlwZSBiYWNrIHRvIGVsZW1lbnRcclxuICAgIC8vIFByaW1pdGl2ZSBub2RlIGRvZXNuJ3QgaGF2ZSBkZWZhdWx0UHJvcHMsIG9ubHkgQ29tcG9uZW50XHJcbiAgICBpZiAodk5vZGUuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBwcm9wc1xyXG4gICAgICAgIHZhciB0eXBlID0gdk5vZGUudHlwZTtcclxuICAgICAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZS5kZWZhdWx0UHJvcHM7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoZGVmYXVsdFByb3BzKSkge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wcyA9IHZOb2RlLnByb3BzID0gZGVmYXVsdFByb3BzOyAvLyBDcmVhdGUgbmV3IG9iamVjdCBpZiBvbmx5IGRlZmF1bHRQcm9wcyBnaXZlblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBkZWZhdWx0UHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwcm9wc1twcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNbcHJvcF0gPSBkZWZhdWx0UHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nKHR5cGUpKSB7XHJcbiAgICAgICAgICAgIHZOb2RlLmZsYWdzID0gZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUodHlwZSk7XHJcbiAgICAgICAgICAgIGlmIChwcm9wcyAmJiBwcm9wcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgdk5vZGUuY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcHMpIHtcclxuICAgICAgICBub3JtYWxpemVQcm9wcyh2Tm9kZSwgcHJvcHMsIGNoaWxkcmVuKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKHByb3BzLmNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IG5vcm1hbGl6ZUNoaWxkcmVuKHByb3BzLmNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHZOb2RlLmNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgLy8gVGhpcyBjb2RlIHdpbGwgYmUgc3RyaXBwZWQgb3V0IGZyb20gcHJvZHVjdGlvbiBDT0RFXHJcbiAgICAgICAgLy8gSXQgaGVscHMgdXNlcnMgdG8gdHJhY2sgZXJyb3JzIGluIHRoZWlyIGFwcGxpY2F0aW9ucy5cclxuICAgICAgICB2YXIgdmVyaWZ5S2V5cyA9IGZ1bmN0aW9uICh2Tm9kZXMpIHtcclxuICAgICAgICAgICAgdmFyIGtleVZhbHVlcyA9IHZOb2Rlcy5tYXAoZnVuY3Rpb24gKHZub2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdm5vZGUua2V5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAga2V5VmFsdWVzLnNvbWUoZnVuY3Rpb24gKGl0ZW0sIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhc0R1cGxpY2F0ZSA9IGtleVZhbHVlcy5pbmRleE9mKGl0ZW0pICE9PSBpZHg7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzRHVwbGljYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCdJbmZlcm5vIG5vcm1hbGlzYXRpb24oLi4uKTogRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggc2FtZSBrZXksIGFsbCBrZXlzIG11c3QgYmUgdW5pcXVlIHdpdGhpbiBpdHMgc2libGluZ3MuIER1cGxpY2F0ZWQga2V5IGlzOicgKyBpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNEdXBsaWNhdGU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHZOb2RlLmNoaWxkcmVuICYmIEFycmF5LmlzQXJyYXkodk5vZGUuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHZlcmlmeUtleXModk5vZGUuY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcclxuXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5cblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAoZmFsc2UpIHtcbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcbiAgICAgICAgJ21lc3NhZ2UgYXJndW1lbnQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSB3YXJuaW5nIGZvcm1hdCBzaG91bGQgYmUgYWJsZSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzICcgK1xuICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gY2F0Y2goeCkge31cbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblxuXG4vKioqLyB9KSxcbi8qIDIyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkJlc2x1aXQgPSB1bmRlZmluZWQ7XG5cbnZhciBfaW5mZXJubyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBCZXNsdWl0ID0gZXhwb3J0cy5CZXNsdWl0ID0gZnVuY3Rpb24gQmVzbHVpdCgpIHtcbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhcnRpY2xlXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDJcIiwgbnVsbCwgXCJCZXNsdWl0XCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIlVpdCBoZXQgd2VyayBrdW5uZW4gd2UgYmVzbHVpdGVuIGRhdCBkZSBoaVxceEVCcmFyY2hpZSB2YW4gZGUgUm9tZWluZW4gZ29lZCBpbiBlbGthYXIgemF0IGFhbmdlemllbiBpZWRlcmVlbiB6aWpuIHBsYWF0cyBrZW5kZSBlbiBlciByZXNwZWN0IGVuIGFhbnppZW4gd2FzLiBEb29yIGRlemUgb3JnYW5pc2F0aWUgd2FzIGhldCBSb21laW5zZSBsZWdlciBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRpZSB0aWpkLiBXYW5uZWVyIHdlIGhldCBodWlkaWdlIGxlZ2VyIHZlcmdlbGlqa2VuIG1ldCBoZXQgUm9tZWluc2Ugc3RlbGxlbiB3ZSB2YXN0IGRhdCBvbnplIGhpXFx4RUJyYXJjaGllIGVlbiB6ZWVyIHVpdGdlYnJlaWRlIHZlcnNpZSBpcyB2YW4gZGllIHZhbiBoZXQgUm9tZWluc2UgbGVnZXIuIEVyIHppam4gbWVlciBvbmRlcnZlcmRlbGluZ2VuIGVuIG1lZXIgY29tcG9uZW50ZW4gZGFuIGJpaiBkZSBSb21laW5lbiwgbWFhciBkaXQgaXMgdGUgd2lqdGVuIGFhbiB0ZWNobm9sb2dpc2NoZSBlbiB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZy4gWm8gemlqbiBlciBudSB2bGllZ3R1aWdlbiwgdGFua3MsIGplZXBzIGVuIHZsaWVnZGVrc2NoZXBlbiB3YXQgZXJ2b29yIHpvcmd0IGRhdCBpZWRlcmUgcGVyc29vbiBiaW5uZW4gaGV0IGxlZ2VyIHppam4gc3BlY2lmaWVrZSBmdW5jdGllIGhlZWZ0IGVuIGVyIGR1cyBtZWVyIHZlcmRlZWxkaGVpZCBpcy4gT3AgaGV0IHZsYWsgdmFuIGJld2FwZW5pbmcgd2FyZW4gZGUgUm9tZWluZW4gb29rIGdvZWQgdm9vcnppZW4uIFplIHdhcmVuIHZlZWwgYmV6aWcgbWV0IGhldCBvbnR3aWtrZWxlbiB2YW4gbmlldXdlIHdhcGVucyBvbSBodW4gdmlqYW5kZW4gdGUga3VubmVuIHZlcnJhc3Nlbi4gSHVuIHdhcGVucyB3YXJlbiBlZmZpY2lcXHhFQm50IGVuIGRvZWx0cmVmZmVuZCB3YWFyZG9vciB6ZSB2ZWxlIHZlbGRzbGFnZW4gaGViYmVuIGdld29ubmVuLiBXYW5uZWVyIHdlIGhldCBSb21laW5zZSBsZWdlciBtZXQgaGV0IGh1aWRpZ2UgdmVyZ2VsaWprZW4gc3RlbGxlbiB3ZSB2YXN0IGRhdCBhbGxlcyBpcyB2ZXJhbmRlcmQuIERpdCBpcyB3ZWVyIHRlIHdpanRlbiBhYW4gdGVjaG5vbG9naXNjaGUgZW4gd2V0ZW5zY2hhcHBlbGlqa2Ugdm9vcnVpdGdhbmcuIEluIGh1aWRpZ2UgdGlqZGVuIHdvcmR0IGVyIG5pZXQgbWVlciBnZXN0cmVkZW4gbWV0IHp3YWFyZGVuLCBzY2hpbGRlbiBlbiBzcGVyZW4sIG1hYXIgbWV0IG1hY2hpbmVnZXdlcmVuLCBsYW5nZWFmc3RhbmRzcmFrZXR0ZW4gZW4gY29tcHV0ZXJzLiBEZSBSb21laW5lbiB3YXJlbiBvbmdldHdpamZlbGQgZGUgZ3JvbmRsZWdnZXJzIHZhbiB2ZXJzY2hlaWRlbmUgbGVnZXJzIGRpZSBsYXRlciB6aWpuIG9udHN0YWFuLCBtYWFyIHNwb3JlbiB2YW4gaHVuIHdhcGVucyB6aWpuIGluIGhldCBodWlkaWdlIGxlZ2VyIG5pZXQgbWVlciB0ZSB2aW5kZW4uIEhldCBSb21laW5zZSBsZWdlciB3YXMgZWVuIHZhbiBkZSBzdWNjZXN2b2xzdGUgbGVnZXJzIHVpdCBkZSBnZXNjaGllZGVuaXMuIERpdCBpcyB0ZSB3aWp0ZW4gYWFuIGh1biBpanplcnN0ZXJrZSBkaXNjaXBsaW5lIGVuIGdvZWQgYmVkYWNodGUgdGFjdGlla2VuIGVuIGFhbnZhbHNwbGFubmVuLiBEZSBSb21laW5lbiBiZWdyZXBlbiBvb2sgemVlciBnb2VkIGRhdCBlZW4gdmVsZHNsYWcgbmlldCBlbmtlbCBmeXNpZWsgd2VyZCBnZXN0cmVkZW4sIG1hYXIgb29rIG1lbnRhYWwuIFplIHdpc3RlbiBnb2VkIGhvZSB6ZSBoZXQgbW9yZWVsIGJpaiBodW4gdHJvZXBlbiBob29nIG1vZXN0ZW4gaG91ZGVuIHRlcndpamwgemUgZGF0IHZhbiBkZSB2aWphbmQgdmVyendha3Rlbi4gSGV0IHZlcmxpZXMgdmFuIGVlbiB2ZWxkc2xhZyB2b25kIHppam4gb29yemFhayBtZWVzdGFsIGJpaiBzbGVjaHQgbGVpZGVyc2NoYXAuIERlIHRhY3RpZWtlbiB2YW4gaGV0IGh1aWRpZ2UgbGVnZXIgemlqbiB6ZWVyIHN0ZXJrIHZlcmFuZGVyZCBhYW5nZXppZW4gYWxsZXMgdmFub3AgZWVuIGxhbmdlcmUgYWZzdGFuZCBnZWJldXJ0IGVuIGVyIG1lZXIgZW4gbWVlciB2aWEgcm9ib3RzIHdvcmR0IGdld2Vya3QuIFZyb2VnZXIgd2FyZW4gYmlqbmEgYWxsZSBnZXZlY2h0ZW4gbWFuIHRvdCBtYW4gZ2V2ZWNodGVuIHdhYXJkb29yIG1lbiB0YWN0aWVrZW4ga29uIHRvZXBhc3NlbiB6b2FscyBiaWp2b29yYmVlbGQ6IHJ1aXRlcnMgbGFuZ3MgZGUgZmxhbmtlbiBsYXRlbiBpbmtvbWVuLiBUZWdlbndvb3JkaWcgaGVlZnQgZGl0IGdlZW4gbnV0IG1lZXIgYWFuZ2V6aWVuIGhldCBhYW50YWwgc29sZGF0ZW4gd2Fhcm1lZSBtZW4gb29ybG9nIHZvZXJ0IHN0ZXJrIHZlcm1pbmRlcmQgaXMuXCIpXSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkJld2FwZW5pbmcgPSB1bmRlZmluZWQ7XG5cbnZhciBfaW5mZXJubyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBCZXdhcGVuaW5nID0gZXhwb3J0cy5CZXdhcGVuaW5nID0gZnVuY3Rpb24gQmV3YXBlbmluZygpIHtcbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhcnRpY2xlXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDJcIiwgbnVsbCwgXCJIb2Ugd2FzIGRlIGJld2FwZW5pbmcgYmlqIGRlIFJvbWVpbmVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkdlZHVyZW5kZSBlbmtlbGUgZWV1d2VuIHRvdCBvcCBkZSBkYWcgdmFuIHZhbmRhYWcgb250c3RvbmQgZXIgZWVuIHZvb3J0ZHVyZW5kZSBvbnR3aWtrZWxpbmcgdmFuIGJld2FwZW5pbmcuIERpdCBoZWVmdCB6aWNoIGt1bm5lbiB2ZXJ3ZXplbmxpamtlbiBkb29yIGRlIHRlY2hub2xvZ2lzY2hlIHZvb3J1aXRnYW5nIG1ldCBhbHMgZ2V2b2xnIGRhdCBkZSBrcmFjaHQgdmFuIHdhcGVucyBhYW56aWVubGlqayBpcyB2ZXJncm9vdC4gTWFhciBvbSBkZSBldm9sdXRpZSB2YW4gZGUgYmV3YXBlbmluZyB3YWFyIHRlIG5lbWVuLCBtb2V0ZW4gd2UgdGVydWdibGlra2VuIHRlbiB0aWpkZSB2YW4gaGV0IFJvbWVpbnNlIGltcGVyaXVtIHdhYXIgZGUgYmFzaXMgd2VyZCBnZWxlZ2QuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJEcmFhZ2JhcmUgYmV3YXBlbmluZ1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgW1wiVmVsZSBraW5kZXJlbiBvZiBqb25nZXJlbiBsZXplbiB3ZWxlZW5zIHN0cmlwcyB6b2FscyBBc3Rlcml4IGVuIE9iZWxpeCBvZiBtb2V0ZW4gb3Agc2Nob29sIGVua2VsZSB3ZXJramVzIG1ha2VuIG9tdHJlbnQgZGUgUm9tZWluc2UgYmVzY2hhdmluZy4gSGllcmRvb3Iga3JpamdlbiB6ZSBlZW4gYmVwYWFsZCBiZWVsZCBvdmVyIGhldCBSb21laW5zZSBsZXZlbiBlbiBtZXQgd2Vsa2Ugd2FwZW5zIGRlIHNvbGRhdGVuIHRlIHdlcmsgZ2luZ2VuLiBIZXQgYWxnZW1lbmUgYmVlbGQgZGllIHdpaiBoaWVydmFuIGhlYmJlbiwgaXMgZGF0IGVsa2Ugc29sZGFhdCBlZW4gYWFudmFsc3dhcGVuIGVuIGVlbiB2ZXJkZWRpZ2luZ3N3YXBlbiB0ZXIgYmVzY2hpa2tpbmcgaGFkIGVuIGRhdCBpZWRlcmUgc29sZGFhdCB2b29yemllbiB3ZXJkIHZhbiBzdG9lcmUgdmVjaHRlcnNrbGVkaWouIEhpZXJiaWogemlqbiB2YWFrIGhldCB6d2FhcmQgZW4gZGUgc3BlZXIgZGUgYmVsYW5ncmlqa3N0ZSBhYW52YWxzd2FwZW5zIGVuIHRlciB2ZXJkZWRpZ2luZyBnZWJydWlrdGVuIHplIGhldCBzY2hpbGQuIE9tIHppY2ggdGUgYmVzY2hlcm1lbiBkcm9lZ2VuIHplIHZhYWsgZWVuIGhhcm5hcy4gT2YgZGV6ZSBhbGdlbWVuZSB2b29yc3RlbGxpbmcgYWx0aWpkIHdhYXIgaXMsIHdvcmR0IGluIGRpdCBob29mZHN0dWsgb25kZXJ6b2NodC5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiQmV3YXBlbmluZyBiaWogUm9tZWluc2UgbGVnaW9uYWlycyBoaWVsZGVuIHRlbGtlbnMgdmVyYmFuZCBtZXQgZGUgcmFuZyB3YWFydG9lIHplIGJlaG9vcmRlbi4gQmV3YXBlbmluZyBpcyBuZXQgem9hbHMgZGUgcmFuZ2VuIGluIHZlcnNjaGlsbGVuZGUgZ3JvZXBlbiB0ZSB2ZXJkZWxlbi4gQmVnaW5uZW4gZG9lbiB3ZSBtZXQgZGUgdmVyc2NoaWxsZW5kZSB0aWpkcGVya2VuIGdhYW5kZSB2YW4gMTA1IHYuQ2hyLiB0b3QgZWluZGUgMmRlIGVldXcuIEhpZXJiaWogd29yZHQgZWVuIG5pZXV3IHRpamRwZXJrIHRlbGtlbnMgaW5nZWxlaWQgYmlqIG9udHN0YWFuIHZhbiBuaWV1d2UgZW4gYmVsYW5ncmlqa2UgYmV3YXBlbmluZy5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiQmlqIGRlIGVlcnN0ZSBnZW5lcmF0aWUgd2FzIGRlIGdsYWRpdXMgKD0gendhYXJkKSBoZXQgYmVsYW5ncmlqa3N0ZSBhYW52YWxzd2FwZW4uIERlemUgd2VyZCBhbHRpamQgZ2VicnVpa3QgaW4gY29tYmluYXRpZSBtZXQgZGUgYXNwaXMgKD0gc2NoaWxkKSB3YWFybWVlIHplIHppY2gga29uZGVuIHZlcmRlZGlnZW4uIEluIGhldCBiZWdpbiBoYWQgZGUgZ2xhZGl1cyBlZW4ga29ydGUgbGVuZ3RlLCBnZVxceEVGbnNwaXJlZXJkIG9wIGhldCBtb2RlbCB2YW4gZGUgR3JpZWtzZSB4aXBob3MuIEhldCBzY2hpbGQgb2YgZGUgem9nZW5hYW1kZSBhc3BpcyB3ZXJkIHZlcnZhYXJkaWdkIHVpdCBob3V0IG1ldCB0ZWxrZW5zIGVlbiBicm9uemVuIHJhbmQgdGVyIHZlcnN0ZXJraW5nLiBEZSB2b3JtIHZhbiBoZXQgc2NoaWxkIHdhcyByb25kIGVuIHJlbGF0aWVmIGdyb290IHRlciB2ZXJnZWxpamtpbmcgbWV0IHdhdCBlciBub2cgem91IHZvbGdlbi4gT29rIGhpZXJiaWogaGViYmVuIGRlIFJvbWVpbmVuIHppY2ggd2VlciBsYXRlbiBpbnNwaXJlcmVuIGRvb3IgZGUgR3JpZWtlbi4gQmlqIGRlIHZvbGdlbmRlIGdlbmVyYXRpZSB3aWxkZW4gZGUgUm9tZWluZW4gaHVuIGVpZ2VuIHN0aWpsIGNyZVxceEVCcmVuIHdhYXJpbiBHcmlla3NlLCBLZWx0aXNjaGUgZW4gSXRhbGlzY2hlIGludmxvZWRlbiB2ZXJ3ZXJrdCB3ZXJkZW4uIFpvIGNyZVxceEVCZXJkZW4gemUgZGUgc2N1dHVtIGFscyB2ZXJ2YW5naW5nIHZhbiBkZSBhc3Bpcy4gSGV0IGhhZCBlZW4gb3ZhbGUgdm9ybSBlbiBiZXNjaGlrdGUgb3ZlciB0YWwgdmFuIHZvb3JkZWxlbi4gWm8gaXMgaGV0IHNjaGlsZCBkdXVyemFtZXIgZW4gbGljaHRlciBkYW4gZGUgdm9yaWdlIGVuIGhldCBiZXNjaGlrdGUgb3ZlciBlZW4gc2NoaWxka25vcCAoPSBtZXRhbGVuIGJvbCBkaWUgemljaCBjZW50cmFhbCBvcCBoZXQgc2NoaWxkIGJldm9uZCkuIERlIGZ1bmN0aWUgdmFuIGRpZSBrbm9wIHdhcyBtZWVyIHNjaGFkZSB0b2UgYnJlbmdlbiBhYW4gZGUgdmlqYW5kLiBEZSBhc3BpcyB3ZXJkIGFsdGlqZCBpbiBkZSBsaW5rZXJoYW5kIGdlZHJhZ2VuIHdhYXJkb29yIHplIGhldCB6d2FhcmQgaW4gZGUgcmVjaHRlcmhhbmQga29uZGVuIGxlZ2dlbi4gRGUgcmVkZSBoaWVydm9vciB3YXMgZGF0IGRlIG1lZXN0ZSBSb21laW5zZSBzb2xkYXRlbiByZWNodHNoYW5kaWcgd2FyZW4gd2FhcmRvb3IgemUgbWVlciBrcmFjaHQgaGFkZGVuIGluIGh1biByZWNodGVyYXJtIHdhdCBub29kemFrZWxpamsgd2FzIG9tIGJydXVza2UgYmV3ZWdpbmdlbiB0ZSBtYWtlbiBtZXQgZGUgZ2xhZGl1cy4gRW5pZ2UgdGlqZCBsYXRlciBnaW5nZW4gemUgZ2VicnVpayBtYWtlbiB2YW4gZWVuIGlldHMgbGFuZ2VyIHp3YWFyZCB3YXQgb3Zlcmdlbm9tZW4gd2FzIHZhbiBkZSB2aWphbmQgdGlqZGVucyBkZSBQdW5pc2NoZSBvb3Jsb2dlbi4gRGllemVsZmRlIGdlbmVyYXRpZSBnaW5nIHppY2ggb29rIHJpY2h0ZW4gb3AgZGUgb250d2lra2VsaW5nIHZhbiBzdG9vdHNwZXJlbiAoPSBlZXJzdGUgdmVyc2llIHNwZXJlbikuIERlemUgaGFkZGVuIG9uZ2V2ZWVyIGRlemVsZmRlIGZ1bmN0aWUgYWxzIGhldCB6d2FhcmQuXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJIZXQgZW5pZ2UgdmVyc2NoaWwgd2FzIGRhdCB6ZSBub2cgbGFuZ2VyIHdhcmVuLiBaZSB3YXJlbiBpbiBoZXQgYmVnaW4gbmlldCBiZWRvZWxkIG9tIHdlZyB0ZSBnb29pZW4gaW4gZGUgcmljaHRpbmcgdmFuIGRlIHZpamFuZC4gU3Rvb3RzcGVyZW4gd2VyZGVuIGdlYnJ1aWt0IGRvb3IgZGUgaGFzdGF0aSAoPSBsZWdpb25hcmlpIHZhbiBoZXQgZWVyc3RlIG1hbmlwZWwpLiBVaXRlaW5kZWxpamsgd2VyZCBkZSBzdG9vdHNwZWVyIG1pbmRlciBnZWJydWlrdCBkb29yIGRlIGxlZ2lvbmFpcnMgZW4gZXZvbHVlZXJkZSBtZW4gbmFhciBoZXQgb250d2lra2VsZW4gdmFuIGVlbiBsaWNodGVyZSB3ZXJwc3BlZXIgbmwgZGUgcGlsdW0uIERpdCByZXN1bHRlZXJkZSBpbiBlZW4gbmlldXdlIGdlbmVyYXRpZS4gRWxrZSBsZWdhdHVzIGJlc2NoaWt0ZSBvdmVyIDIgcGlsYSB3YWFyZG9vciB6ZSBiaWogZGUgc3RhcnQgdmFuIGVlbiBnZXZlY2h0IGRlIHZpamFuZCBvbm1pZGRlbGxpamsga29uZGVuIHZlcnp3YWtrZW4uIERlIHBpbHVtIHdhcyB6ZWxmcyB6byBnZW1hYWt0IGRhdCBkZSBwdW50IHZhbiBkZSBzcGVlciBiaWogYm90c2luZyBrcm9tIGdpbmcgc3RhYW4gb2YgYWZicmFrIHdhYXJkb29yIGRlIHZpamFuZCBkZSBzcGVlciBuaWV0IGtvbiBoZXJnZWJydWlrZW4uIFN0ZWwgZGF0IGRlIHBpbHVtIGluIGVlbiBzY2hpbGQgYmVsYW5kZGUsIGRhbiB3YXMgaGV0IGdldm9sZyBkYXQgZGUgendhcmUgYWNodGVya2FudCB2YW4gZGUgc3BlZXIgbmFhciBiZW5lZGVuIHpha3RlIHdhYXJkb29yIGhldCBvbm1vZ2VsaWprIHdhcyBvbSBlciB2ZXJkZXIgbWVlIHJvbmQgdGUgbG9wZW4uIEhpZXJkb29yIHdhcyBkZSB2aWphbmQgdmFhayBnZW5vb2R6YWFrdCBvbSB6b25kZXIgc2NoaWxkIHZlcmRlciB0ZSB2ZWNodGVuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJJbiBkZSAzZGUgZWV1dyBrd2FtIGVyIG9wbmlldXcgZWVuIG9wdmFsbGVuZGUgdm9vcnVpdGdhbmcsIG1hYXIgZGl0bWFhbCBvcCBoZXQgZ2ViaWVkIHZhbiB2ZXJkZWRpZ2luZy4gRGUgYmVrZW5kZSBzY3V0dW0gd2VyZCBhYW5nZXBhc3QgZW4gem8gb250c3RvbmQgZGUgc3BpY3VsdW0uIEhldCB3YXMgZWVuIHZsYWsgc2NoaWxkLCBub2cgbGljaHRlciBlbiBuZXQgem9hbHMgZGUgc2N1dHVtIG1ldCBlZW4gc2xhZ2tub3AgaW4gaGV0IG1pZGRlbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiRGUgYmV3YXBlbmluZyB2YW4gZGUgaHVscHRyb2VwZW4gaXMgb29rIG9wIHRlIGRlbGVuIGluIGVua2VsZSBncm9lcGVuLiBUaWpkZW5zIGRlIGVlcnN0ZSBqYXJlbiB2YW4gZGUgZXF1aXRhdHVzIHdlcmQgZGUgZ2xhZGl1cyBnZWJydWlrdCBvbSBkZSB2aWphbmQgYWFuIHRlIHZhbGxlbiB2YW5vcCBoZXQgcGFhcmQuIERvb3JkYXQgaGV0IHp3YWFyZCBrb3J0IHdhcywgbWFha3RlbiB6ZSBrYW5zIG9tIHNuZWwgdmFuIGhldCBwYWFyZCB0ZSB2YWxsZW4uIEluIGRlIGxvb3AgdmFuIGRlIDNkZSBlZXV3IHdhcyBtZW4gZXJpbiBnZXNsYWFnZCBlZW4gbGFuZ2VyZSB2ZXJzaWUgdmFuIGRlIGdsYWRpdXMgdGUgY3JlXFx4RUJyZW4gbmwgZGUgc3BhdGhhLiBEZSBzYWdpdHRhcmlpIG1ha2VuIGdlYnJ1aWsgdmFuIGRlIHNhZ2l0dGEgKD0gcGlqbGVuYm9vZykuIERlIGdlYm9nZW4gdm9ybSB2YW4gZGUgc2FnaXR0YSB3ZXJkIGdldm9ybWQgZG9vciBiZWdpbiBlbiBlaW5kZSBhYW4gdGUgc3Bhbm5lbiBtZXQgZWVuIHN0ZXZpZ2UsIHN0cmFra2UgZHJhYWQuIEhpZXJtZWUga29uZGVuIHplIGh1biBwaWpsZW4gb3ZlciBlZW4gZ3JvdGUgYWZzdGFuZCBzY2hpZXRlbi4gVG90IHNsb3QgaGFudGVyZW4gZGUgZnVuZGl0b3JlcyBkZSBmdW5kYS4gRGl0IGlzIGVlbiBzbGluZ2VyIHdhYXJpbiB6ZSBsb2RlbiBrb2dlbHMgbGVnZGUgb20gZGllIHZlcnZvbGdlbnMgbmFhciBkZSB2aWphbmQgdGUgZ29vaWVuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJVaXQgYWwgZGV6ZSBnZWdldmVucyB3ZXRlbiB3ZSBkYXQgaGV0IGFsZ2VtZW5lIGJlZWxkIGdyb3RlbmRlZWxzIGp1aXN0IGlzLiBNYWFyIGplIGthbiBvbm1vZ2VsaWprIGJlc2x1aXRlbiBkYXQgamUgbWV0IGRhdCBiZWVsZCBhbGxlcyB3ZWV0IG92ZXIgZGUgYmV3YXBlbmluZyB2YW4gUm9tZWluc2Ugc29sZGF0ZW4uIE5hYXN0IGhldCB6d2FhcmQsIGRlIHNwZWVyIGVuIGhldCBzY2hpbGQgd2FyZW4gZXIgbm9nIHRhbCB2YW4gYW5kZXJlIGFhbnZhbHMtIGVuIHZlcmRlZGlnaW5nc3dhcGVucyBkaWUgZ2VicnVpa3Qgd2VyZGVuIHRpamRlbnMgZGUgZ2V2ZWNodGVuIHRlbiB0aWpkZSB2YW4gZGUgUm9tZWluZW4uXCJdKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRhYmxlXCIsIFwiYmV3YXBlbmluZy1sZWdpb24tdGFibGVcIiwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aGVhZFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcIkJld2FwZW5pbmcgbGVnaW9uYWlyc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwiYWFudmFsc3dhcGVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJ2ZXJkZWRpbmdpbmdzd2FwZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiKV0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCIxc3RlIGdlbmVyYXRpZVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZ2xhZGl1c1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiYXNwaWFcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIkdlbmVyYXRpZXMgZ2FhbmRlIHZhbmFmIFxceEIxIDNkZSBlZXV3IHYuQ2hyLiBcXHUyMDEzIDNkZSBlZXV3XCIsIHtcbiAgICBcInJvd3NwYW5cIjogXCI0XCJcbiAgfSldKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCIyZGUgZ2VuZXJhdGllXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJoYXN0YSArIGdsYWRpdXNcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcInNjdXR1bVwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIjNkZSBnZW5lcmF0aWVcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcInBpbHVtICsgZ2xhZGl1c1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwic2N1dHVtXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiNGRlIGdlbmVyYXRpZVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwic3BhdGhhXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzcGljdWx1bVwiKV0pXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGFibGVcIiwgXCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoZWFkXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwiQmV3YXBlbmluZyBodWxwdHJvZXBlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwiYWFudmFsc3dhcGVuc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwidmVyZGVkaWdpbmdzd2FwZW5zXCIpXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImVxdWl0YXR1c1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwic3BhdGhhXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJWZXJkZWRpZ2luZyBrb210IGdyb3RlbmRlZWxzIG92ZXJlZW4gbWV0IGRpZSB2YW4gZGUgbGVnaW9uYWlyc1wiLCB7XG4gICAgXCJyb3dzcGFuXCI6IFwiM1wiXG4gIH0pXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwic2FnaXR0YXJpaVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwic2FnaXR0YVwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImZ1bmRpdG9yZXNcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImZ1bmRhXCIpXSldKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiQWFuZ2V6aWVuIGVyIHdlaW5pZyBiZXRyb3V3YmFyZSBicm9ubmVuIHppam4gb3ZlciBkZSBleGFjdGUgZGF0YSBcXHUyMDE5cyBpLnYubS4gaGV0IG9udHN0YWFuIHZhbiByZWVkcyB2ZXJtZWxkZSBiZXdhcGVuaW5nLCB3ZXJkIGRlIGNocm9ub2xvZ2lzY2hlIHZvbGdvcmRlIHZhbiBoZXQgb250c3RhYW4gd2VlcmdlZ2V2ZW4gYS5kLmgudi4gZ2VuZXJhdGllcy5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIk9vcmxvZ3N0dWlnZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiVGVuc2xvdHRlIGJlc3ByZWtlbiB3ZSBpbiBkaXQgaG9vZmRzdHVrIGRlIFJvbWVpbnNlIG9vcmxvZ3N0dWlnZW4gYWFuZ2V6aWVuIGhldCBlZW4gYmVsYW5ncmlqayBhc3BlY3Qgd2FzIHZhbiBkZSBnZXZlY2h0ZW4uIEhpZXJiaWogZ2FhbiB3ZSBlZW4gb3BkZWxpbmcgbWFrZW4gdHVzc2VuIGRlIHRvcm1lbnRhICg9IGFhbnZhbHN3YXBlbnMpIGVuIGVua2VsZSBhbmRlcmUgb29ybG9nc3ZvZXJ0dWlnZW4gdGVyIHZlcmRlZGlnaW5nLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImg0XCIsIG51bGwsIFwiQWFudmFsc3dhcGVuc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJEZSBhYW52YWxzd2FwZW5zIHdhcmVuIHZlZWwga3JhY2h0aWdlciBkYW4gZGVnZW5lIGRpZSB6ZSBvcCB6YWsgZHJvZWdlbi4gRGUgYmVrZW5kc3RlIGFhbnZhbHNtYWNoaW5lcyB3YXJlbiBkZSBjYXRhcHVsdGFlICg9IGthdGFwdWx0ZW4pLCBvbmRlciB0ZSB2ZXJkZWxlbiBpbiBlbmtlbGUgY2F0ZWdvcmllXFx4RUJuLiBaZSB3ZXJkZW4gZ2VicnVpa3Qgb20gcHJvamVjdGllbGVuIHdlZyB0ZSBzY2hpZXRlbiBtLmIudi4gbWVjaGFuaXNjaGUgZW5lcmdpZS4gRGUgZWVyc3RlIGthdGFwdWx0ZW4gc2Nob3RlbiBodW4gcGlqbGVuIGluIGJpam5hIGhvcml6b250YWxlIHJpY2h0aW5nIHdhYXJkb29yIGRlIGFmc3RhbmQgZGllIHplIGtvbmRlbiBhZmxlZ2dlbiBuaWV0IGFsIHRlIHN1Y2Nlc3ZvbCB3YXMuIERlIFJvbWVpbnNlIGluZ2VuaWV1cnMgdmFuIGRpZSB0aWpkIGdpbmdlbiBkYW4gem9la2VuIG5hYXIgbWV0aG9kZXMgb20gaGV0IHJlZWRzIHZlcm1lbGRlIHByb2JsZWVtIG9wIHRlIGxvc3Nlbi4gSGllcnVpdCBvbnRzdG9uZCBkZSBiYWxsaXN0YS4gRGV6ZSBrYXRhcHVsdCBoYWQgdHVzc2VuIGRlIDIgaG9yaXpvbnRhYWwgc2NodWluIGdlcGxhYXRzdGUgYmFsa2VuIGVlbiBnZXNwYW5uZW4gdG91dy4gT25kZXIgaGV0IHRvdXcgYmV2b25kIHppY2ggZWVuIGhhbHZlIGNpbGluZGVyIHdhYXJpbiBoZXQgcHJvamVjdGllbCB3ZXJkIGdlbGVnZC4gRGV6ZSBoYWx2ZSBjaWxpbmRlciB3ZXJkIGFsdGlqZCBuYWFyIGJvdmVuIGdlcmljaHQgZW4gZGUgaG9layB3YWFyaW4gaGV0IHppY2ggYmV2b25kIGtvbmRlbiB6ZSBiaWpzdHVyZW4gaW5kaWVuIG5vZGlnLiBIZXQgd2FzIGR1cyBuaWV0IHpvIGRhdCBiYWxsaXN0YSdzIGVlbiB2YXN0ZSBob2VrIG1lZWtyZWdlbiB6b2FscyBiaWogZGUgZWVyc3RlIHZlcnNpZXMgdmFuIGRlIGthdGFwdWx0ZW4uIERvb3IgZGllIHJlZ2VsYmFyZSBob2VrIGtvbmRlbiB6ZSBodW4gcGlqbGVuIG92ZXIgZWVuIGFmc3RhbmQgdmFuIDQwMCBtZXRlciBzY2hpZXRlbi4gTmV0IHpvYWxzIGJpaiBkZSBvdWRzdGUga2F0YXB1bHRlbiB3YXJlbiBlciB2ZWVsIHNvbGRhdGVuIChcXHhCMTQpIG5vZGlnIG9tIGhldCBpbiBnZWJydWlrIHRlIGt1bm5lbiBuZW1lbi4gRGFhcm9tIHpvY2h0ZW4gZGUgaW5nZW5pZXVycyBub2cgc3RlZWRzIG5hYXIgZWVuIHZlcmJldGVyZGUgdmVyc2llLiBEZSBpbmdlbmlldXJzIHBsYWF0c3RlbiBkaXQgbmFkZWVsIGNlbnRyYWFsIGluIGh1biB2b2xnZW5kZSBvbnR3ZXJwZW4gd2FhcmRvb3IgZGUgc2NvcnBpb25lcyAoa3J1aXNib29nIG9wIHZvZXQpIHdhcmVuIG9udHN0YWFuLiBIZXQgd2FyZW4ga2xlaW5lIGthdGFwdWx0ZW4gZGllIGRvb3IgMSBtYW4gZ2VkcmFnZW4ga29uZGVuIHdvcmRlbi4gWmUgYmVzdG9uZGVuIHVpdCBlZW4gaWp6ZXJlbiBib29nIHdhYXJ0dXNzZW4gZWVuIHNuYWFyIHdlcmQgZ2VzcGFubmVuLiBEZSBwcm9qZWN0aWVsZW4gZGllIHplIGtvbmRlbiBhZnZ1cmVuIHdhcmVuIGhvdXRlbiBzcGllc2VuIHZhbiA2N2NtLiBOYSBkZSBzY29ycGlvbmVzIG9udHdpa2tlbGRlIG1lbiBkZSBjaGVpb2JhbGxpc3RyYSBkaWUgYmVzY2hpa3RlIG92ZXIgbWV0YWxlbiBmcmFtZXMgd2F0IHZlZWwgc3RlcmtlciB3YXMgZGFuIHZvb3JkaWVuLiBEZSBvbmFnZXIgd2FzIGRlIGxhYXRzdGUgaGVydm9ybWluZyB2YW4gZGUga2F0YXB1bHQgZW4gd2VyZCBhbGdlbWVlbiBpbiBnZWJydWlrIGdlbm9tZW4gcm9uZCBkZSA0ZGUgZWV1dy5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRGV6ZSBoYWQgZWVuIHRvdGFhbCBhbmRlcmUgd2Vya3dpanplIGRhbiBkZSB2b3JpZ2UuIEhldCB3YXMgZWVuIGhlZWwgZ3Jvb3QgZW4gendhYXIgbWFjaGluZSBiZWRvZWxkIG9tIGdyb3RlIHByb2plY3RpZWxlbiBuYWFyIGRlIHZpamFuZCB0ZSB3ZXJwZW4uIERlcmdlbGlqa2UgcHJvamVjdGllbGVuIHdhcmVuIG1lZXN0YWwgc3RlbmVuLiBIZXQgb3B2YWxsZW5kc3RlIGtlbm1lcmsgdmFuIGRlIG9uYWdlciB3YXMgZGF0IGVyIG9wbmlldXcgdmVsZSBzb2xkYXRlbiBub2RpZyB3YXJlbiBvbSBkZSBrYXRhcHVsdCBpbiBnZWJydWlrIHRlIG5lbWVuIGVuIGRpdCB3YXMganVpc3Qgd2F0IG1lbiBiaWogZGUgb250d2lra2VsaW5nIHZhbiBkZSBrYXRhcHVsdCB3aWxkZSB0ZWdlbmdhYW4uXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJWZXJkZWRpZ2luZ3N3YXBlbnNcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFtcIkRlIHZlcmRlZGlnaW5nc21hY2hpbmVzIHdhcmVuIG5ldCB6b2FscyBkZSBhYW52YWxzbWFjaGluZXMga3JhY2h0aWdlciBpbiB2ZXJnZWxpamtpbmcgbWV0IHdhdCBkZSBzb2xkYXRlbiBiaWogemljaCBkcm9lZ2VuLiBVIHphbCB0ZWxrZW5zIGVlbiBrb3J0ZSBiZXNjaHJpanZpbmcga3JpamdlbiBvdmVyIGVua2VsZSBvb3Jsb2dzdHVpZ2VuIGRpZSB0ZXIgdmVyZGVkaWdpbmcgd2VyZGVuIGdlYnJ1aWt0LlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJCZWdpbm5lbiBkb2VuIHdlIG1ldCBkZSBwbHV0ZWksIGVlbiBoYWxmY2lya2Vsdm9ybWlnIHNjaGlsZCBvcCB3aWVsZW4gZGllIHZlZWwgd2VlcnN0YW5kIGJvb2QuIFZlcnZvbGdlbnMgd2FzIGVyIGRlIHRlc3R1ZG8uIERlemUgd2FzIG5ldCB6b2FscyBkZSBwbHV0ZWkgZWVuIGJlc2NoZXJtaW5nIG9wIHdpZWxlbiAoa2FuIG9vayB6b25kZXIgd2llbGVuKS4gTWFhciBoZXQgdmVyc2NoaWwgd2FzIGRhdCBiaWogZGUgdGVzdHVkbyBzY2hpbGRlbiBhYW4gZWxrYWFyIHdlcmRlbiBnZWhlY2h0IGRpZSB6ZSBkYW4gYWxzIGFmZGFrIGdlYnJ1aWt0ZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIlRvdCBzbG90IGJlc3RvbmQgZXIgZWVuIG1hY2hpbmUgZGllIHpvd2VsIGJpaiBkZSBhYW52YWxzLSBhbHMgYmlqIGRlIHZlcmRlZGlnaW5nc3dhcGVucyB6b3Uga3VubmVuIGhvcmVuLCBubCBkZSB0dXJlcyBhbWJ1bGF0b3JpYWUuIEhldCB3YXMgZWVuIGhvdXRlbiB0b3JlbiBvcCB3aWVsZW4gd2FhcmluIHplIGtvbmRlbiBzY2h1aWxlbiBlbiBvcCBkaWUgbWFuaWVyIGtvbmRlbiB6ZSBvbmdlc2Nob25kZW4gZGUgdmlqYW5kIG5hZGVyZW4uIFpvXFx1MjAxOW4gdG9yZW4gdGVsZGUgZW5rZWxlIHZlcmRpZXBpbmdlbiBlbiBoYWQgdGVsa2VucyBlZW4gdmFsbHVpayBwZXIgdmVyZGllcC4gRGl0IGdhZiBoZW4gZGUga2FucyBvbSBvdmVyIGRlIG11cmVuIHRlIGdlcmFrZW4gdmFuIGRlIHZpamFuZC4gSGVsZW1hYWwgb25kZXJhYW4gd2VyZCBlZW4gc3Rvcm1yYW0gaW5nZWJvdXdkIGVuIGRlemUgaGFkIGFscyBmdW5jdGllIGRlIHBvb3J0ZW4gdmFuIGhldCB2aWphbmRlbGlqa2UgZ2ViaWVkIHRlIGRvb3JicmVrZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0YWJsZVwiLCBcImJld2FwZW5pbmctbGVnaW9uLXRhYmxlXCIsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhlYWRcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJPb3Jsb2dzdHVpZ2VuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJ3YXBlbnNcIildKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiYWFudmFsc3dhcGVucyAoPSB0b3JtZW50YSlcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImNhdGFwdWx0YWVcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIkJhbGxpc3RhZVwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiU2NvcnBpb25lc1wiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiY2hlaW9iYWxsaXN0cmFcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIm9uYWdlclwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcInZlcmRlZGluZ2luc3dhcGVuc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiUGx1dGVpXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJ0ZXN0dWRvXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiY29tYmluYXRpZXdhcGVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJUdXJlcyBhbWJ1bGF0b3JpYWVcIildKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJWZXJnZWxpamtpbmdcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiQWxzIHdlIGVlbiB2ZXJnZWxpamtpbmcgbWFrZW4gdmFuIGRlIFJvbWVpbnNlIGJld2FwZW5pbmcgdC5vLnYuIGRlIGh1aWRpZ2UsIGRhbiBrdW5uZW4gd2UgZWVuIHplZXIgc3RlcmtlIGV2b2x1dGllIHZhc3RzdGVsbGVuIHZvb3J0Z2Vrb21lbiB1aXQgZGUgd2V0ZW5zY2hhcHBlbGlqa2Ugdm9vcnVpdGdhbmcgZGllIG1lbiBkb29yaGVlbiBkZSBqYXJlbiBib2VrdGUuIFplIGhlYmJlbiB6aWNoIGFsdGlqZCB3aWxsZW4gdmVyYmV0ZXJlbiBpbiBoZXQgbWFrZW4gdmFuIG1hY2hpbmVzIGRpZSBwcm9qZWN0aWVsZW4ga29uZGVuIGFmc2NoaWV0ZW4uIFpvIHdlcmQgZGUga2F0YXB1bHQgb21nZXZvcm1kIHRvdCBlZW4gbGFuZ2UgYWZzdGFuZHNyYWtldC4gTWVuIG9udHdpa2tlbGRlIHplbGZzIGVlbiBzeXN0ZWVtIG9tIHp3YWFyZGVuIHRlIHZlcnZhbmdlbiBkb29yIG1hY2hpbmVzIGRpZSBrb2dlbHMga29uZGVuIGFmdnVyZW4uXCIpXSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDI0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkJyb25uZW4gPSB1bmRlZmluZWQ7XG5cbnZhciBfaW5mZXJubyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBCcm9ubmVuID0gZXhwb3J0cy5Ccm9ubmVuID0gZnVuY3Rpb24gQnJvbm5lbigpIHtcbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhcnRpY2xlXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDJcIiwgbnVsbCwgXCJCcm9ubmVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgXCJicm9uXCIsIFwiQm9la2VuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInVsXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJDb21tZW50YXJpaSBkZSBiZWxsbyBHYWxsaWNvLCBWSUksIExYSVhcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIlZhbiBHZWxkZXIsIEouICgxOTUyKSBMYXRpam5zZSBnZXNjaGllZHNjaHJpanZlcnMuIEJsb2VtbGV6aW5nIHVpdCBkZSB3ZXJrZW4gdmFuIFNhbGx1c3RpdXMsIENhZXNhciwgTGl2aXVzIGVuIFRhY2l0dXMuIEhhYXJsZW06IFNwYWFybmVzdGFkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJIYXJwdXIsIEouICgyMDA3KSBHdWVycmllcnM6IExlcyBncmFuZHMgaFxceEU5cm9zIGRlIGxcXHUyMDE5aGlzdG9pcmUuIE1JTEFOOiBUb3Vsb3VzZVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiVmFuIERhZWxlLCBCLiAoMjAwMykgSGV0IFJvbWVpbnNlIExlZ2VyLiBEYXZpZHNmb25kczogTGV1dmVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJHb2xkc3dvcnRoeSwgQS4gKDIwMTcpIFJvbWVpbnNlIGxlZ2lvZW5lbi4gT21uaWJvZWs6IFV0cmVjaHRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIlJvZGdlcnMsIE4uICgyMDEyKSBIZXQgUm9tZWluc2UgUmlqay4gVmVsdG1hbjogVXRyZWNodFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiQW5vbmllbS4gKDIwMTUpLiBEZSBWZWxkc2xhZ2VuLCBIZXQgUG9wLVVwYm9lay4gVGllbHQ6IExhbm5vby5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIldhcnJ5LCBXLiAoMTk4MSkuIE9vcmxvZ3ZvZXJpbmcgaW4gZGUga2xhc3NpZWtlIHdlcmVsZC4gSGVtb25kOiBIZWxtb25kLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiRGFuZG8tQ29sbGlucywgUy4gKDIwMTApLiBMZWdpb25zIG9mIFJvbWU6IFRoZSBEZWZpbml0aXZlIEhpc3Rvcnkgb2YgRXZlcnkgSW1wZXJpYWwgUm9tYW4gTGVnaW9uLiBMb25kZW46IFF1ZXJjdXMgUHVibGlzaGluZy5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIkZldWdlcmUsIE0uICgyMDAyKS4gVGhlIFdlYXBvbnMgb2YgdGhlIFJvbWFucy4gVW5pdGVkIEtpbmdkb206IFRoZSBIaXN0b3J5IFByZXNzLlwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgXCJicm9uXCIsIFwiTW9uZGVsaW5nXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIk1vbmRlbGluZ2UgYnJvbiBnZWxldmVyZCBkb29yIEtvbG9uZWwgU0JIIE1hcmMgQWxleGFuZGVyIChIb29nbGVyYWFyIGFhbiBkZSBLTVMpXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgXCJicm9uXCIsIFwiV2Vic2l0ZXNcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ1bFwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiR29lZGUga2VpemVycywgc2xlY2h0ZSBrZWl6ZXJzXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL21hcmNhdXIud29yZHByZXNzLmNvbS8yMDE1LzAzLzIwL2RlLXZpamYtZ3Jvb3RzdGUtb3Zlcndpbm5pbmdlbi12YW4tZGUtcm9tZWluZW4tbG9uZ3JlYWQvXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJtaWxpdGFpci5uZXRcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cubWlsaXRhaXIubmV0L09vcmxvZ2VuL1JvbWVpbnNlJTIwb29ybG9nZW4vU2xhZyUyMGJpaiUyMFRldXRvYnVyZ2Vyd291ZC9cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIjQgb3BtZXJrZWxpamtlIHZlbGRzbGFnZW4gdWl0IGRlIFJvbWVpbnNlIGdlc2NoaWVkZW5pc1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5pc2dlc2NoaWVkZW5pcy5ubC9uaWV1d3MvNC1vcG1lcmtlbGlqa2UtdmVsZHNsYWdlbi1yb21laW5zZS1nZXNjaGllZGVuaXMvXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJCZWxlZyB2YW4gQWxlc2lhXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL25sLndpa2lwZWRpYS5vcmcvd2lraS9CZWxlZyUyMHZhbiUyMEFsZXNpYVwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiV2FhciBsYWcgQWxcXHhFOXNpYT9cIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vd3d3Lmt1bnN0Z2VvZ3JhZmllLm5sL2hlbnYvaGVsZGVuLmFsZXNpYS5zbGFnLmh0bVwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiZGUgZ2VzY2hpZWRlbmlzIHZhbiBBbGVzaWFcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cuY2VuZW5zLmJlL2FsZXNpYS9vbWdldmluZy5odG1sXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJEcmllIGdyb3RlIHZlbGRzbGFnZW4gdWl0IGRlIFJvbWVpbnNlIHRpamRcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vcGxhemlsbGEuY29tL3BhZ2UvNDI5NTAyODkxMy9kcmllLWdyb3RlLXZlbGRzbGFnZW4tdWl0LWRlLXJvbWVpbnNlLXRpamRcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWRcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vbmwud2lraXBlZGlhLm9yZy93aWtpL1NsYWdfYmlqX2hldF9UZXV0b2J1cmdlcndvdWRcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQ6IFZhcnVzIGxvb3B0IGluIGVlbiBHZXJtYWFuc2UgaGluZGVybGFhZ1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5pc2dlc2NoaWVkZW5pcy5ubC9taWxpdGFpcmUtY29uZnJvbnRhdGllcy9zbGFnLWJpai1oZXQtdGV1dG9idXJnZXJ3b3VkLXZhcnVzLWxvb3B0LWluLWVlbi1nZXJtYWFuc2UtaGluZGVybGFhZy9cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlZhcnVzc2xhZzogMjAwMCBqYWFyIGdlbGVkZW5cIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vd3d3Lmhpc3RvcmlzY2hlY2FydG9ncmFmaWUubmwvbmlldXdzLzIwMDkvMTEvdmFydXNzbGFnLTIwMDAtamFhci1nZWxlZGVuL1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiRGUgVmFydXNzbGFnIGluIDkgbi5DaHIuXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3Lm5vdmlvbWFndXMuaW5mby92YXJ1c3NsYWcuaHRtXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJQdWJsaXVzIFF1aW5jdGlsaXVzIFZhcnVzXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL25sLndpa2lwZWRpYS5vcmcvd2lraS9QdWJsaXVzX1F1aW5jdGlsaXVzX1ZhcnVzXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJUYWN0aWVrZW5cIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cubGVnaW94aS5iZS9lZHVjYXRpZWYvdGFjdGlla2VuIChvcGVuIHZlbGRzbGFnKVwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiSGV0IFJvbWVpbnNlIGxlZ2VyXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LmtsYXNzaWVrZXZlcnRhbGluZ2VuLm5sL2N1bHR1dXIvbGVnZXIuaHRtXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJIdWxwdHJvZXBlblwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3VzZXJzLnRlbGVuZXQuYmUvcGhvZW5pY2EvaHVscHRyb2VwZW4uaHRtXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJEZSBiZXdhcGVuaW5nIHZhbiBkZSBSb21laW5zZSBsZWdpb25haXJcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly9yb21laW5lbi5pbmZvL2RlLWJld2FwZW5pbmctdmFuLWRlLXJvbWVpbnNlLWxlZ2lvbmFpclwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiVmVyZGVkaWdpbmdzd2Vya2VuIGVuIGJlbGVnZXJpbmdzb29ybG9nXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vdXNlcnMuc2t5bmV0LmJlL3ZlbmlfdmlkaV92aWNpL2Jlc3Rvcm1pbmcuaHRtbFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiV2VhcG9uc1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5wcmltYXJ5aG9tZXdvcmtoZWxwLmNvLnVrL3JvbWFucy93ZWFwb25zLmh0bWxcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlRvb2xzIG9mIFdhclwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9yb21hbm1pbGl0YXJ5Lm5ldC90b29scy9cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkFuY2llbnQgcm9tYW4gbWlsaXRhcnksIHdlYXBvbnMgYW5kIHNwaWVzXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vZmFjdHNhbmRkZXRhaWxzLmNvbS93b3JsZC9jYXQ1Ni9zdWIzNjgvaXRlbTIwNTUuaHRtbFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiV2VhcG9ucyAmIFRhY3RpY3NcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vd3d3LnRoZS1yb21hbnMuY28udWsvd2VhcG9ucy5odG1cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIk9yZ2FuaXphdGlvbiBvZiB0aGUgUm9tYW4gSW1wZXJpYWwgTGVnaW9uXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LnVucnYuY29tL21pbGl0YXJ5L2xlZ2lvbi5waHBcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlRoZSBSb21hbiBBcm15XCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LnJvbWFuLWVtcGlyZS5uZXQvYXJteS9hcm15Lmh0bWxcIlxuICB9KSldKSldKV0pO1xufTtcblxuLyoqKi8gfSksXG4vKiAyNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5JbmxlaWRpbmcgPSB1bmRlZmluZWQ7XG5cbnZhciBfaW5mZXJubyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBJbmxlaWRpbmcgPSBleHBvcnRzLklubGVpZGluZyA9IGZ1bmN0aW9uIElubGVpZGluZygpIHtcbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhcnRpY2xlXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDJcIiwgbnVsbCwgXCJJbmxlaWRpbmdcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiV2lqIGhlYmJlbiBiZXNsaXN0IG9tIG9ucyB3ZXJrIG92ZXIgaGV0IFJvbWVpbnNlIGxlZ2VyIHRlIGJlZ2lubmVuIG1ldCBkZSBvbmRlcnZlcmRlbGluZyB2YW4gaGV0IGxlZ2VyLiBIaWVyZG9vciBrcmlqZyBqZSBhbCBlZW4gaW56aWNodCBpbiBob2UgZGUgaGlcXHhFQnJhcmNoaWUgd2FzIHRlbiB0aWpkZSB2YW4gZGUgUm9tZWluZW4uIEhpZXJuYSB6aWpuIHdpaiBkaWVwZXIgaW5nZWdhYW4gb3AgZGUgYmV3YXBlbmluZyB2YW4gZGUgUm9tZWluZW4gem9kYXQgamUgZ29lZCB3ZWV0IGhvZSB6ZSB0b2VuIHZvY2h0ZW4gZW4gd2F0IHplIHRlciBiZXNjaGlra2luZyBoYWRkZW4gb20gaHVuIHZpamFuZCB0ZSBvdmVybWVlc3RlcmVuLiBBbHMgbGFhdHN0ZSBoZWJiZW4gd2lqIGdla2VrZW4gbmFhciBoZXQgdmVybG9vcCB2YW4gdHdlZSB2ZWxkc2xhZ2VuIGVuIGhlYmJlbiB3ZSBkZXplIHZvbGxlZGlnIGdlYW5hbHlzZWVyZCBvbSB1aXRlaW5kZWxpamsgdGUga3VubmVuIHplZ2dlbiBob2UgZGV6ZSBiZXRlciBoYWRkZW4ga3VubmVuIHZlcmxvcGVuLiBXaWogaGViYmVuIHZlcnNjaGVpZGVuZSBicm9ubmVuIGdlYnJ1aWt0IG9tIG9ucyB3ZXJrIHRlIG9uZGVyYm91d2VuLCBnYWFuZGUgdmFuIGJvZWtlbiB1aXQgaGV0IGFyY2hpZWYgdmFuIGRlIEtvbmlua2xpamtlIE1pbGl0YWlyZSBTY2hvb2wgdG90IHdlYnNpdGVzIHZhbiBwcm9mZXNzb3JlbiBsYXRpam4gZGllIHRoZXNpc3NlbiBvdmVyIGhldCBSb21laW5zZSBsZWdlciBoZWJiZW4gZ2VzY2hyZXZlbi4gT20gbm9nIGV4dHJhIGRvY3VtZW50YXRpZSBlbiBhZmJlZWxkaW5nZW4gdGUgdmVyc2NoYWZmZW4gYmlqIGRlemUgb25kZXJ6b2Vrc2NvbXBldGVudGllLCBoZWJiZW4gd2lqIGJlc2xvdGVuIG9tIGRlemUgc2l0ZSB0ZSBtYWtlbi5cIildKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuT25kZXJ2ZXJkZWxpbmcgPSB1bmRlZmluZWQ7XG5cbnZhciBfaW5mZXJubyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBPbmRlcnZlcmRlbGluZyA9IGV4cG9ydHMuT25kZXJ2ZXJkZWxpbmcgPSBmdW5jdGlvbiBPbmRlcnZlcmRlbGluZygpIHtcbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhcnRpY2xlXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDJcIiwgbnVsbCwgXCJPbmRlcnZlcmRlbGluZyB2YW4gaGV0IGxlZ2VyXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlIFJvbWVpbmVuIGhhZGRlbiB2ZXJzY2hpbGxlbmRlIHJhbmdlbiBiaW5uZW4gaGV0IGxlZ2VyIHdhYXJ0b2UgamUga29uIGJlaG9yZW4uIEhldCBsZWdlciB3ZXJkIG9wZ2VkZWVsZCBpbiBtZWVyZGVyZSBsZWdpb2VuZW4gZW4gaHVscHRyb2VwZW4gd2Fhcm1lZSB6ZSB2YW51aXQgdmVyc2NoaWxsZW5kZSBob2VrZW4gZGUgdmlqYW5kIGdlc3RydWN0dXJlZXJkIGtvbmRlbiBhYW52YWxsZW4uIERvb3JoZWVuIGRlIGphcmVuIG5hbSBoZXQgYWFudGFsIHNvbGRhdGVuIHN0ZXJrIHRvZS4gRGUgcmVkZW4gZGFhcnRvZSB3YXMgdnJpaiBlZW52b3VkaWcuIEVlbm1hYWwgZWVuIGJlcGFhbGRlIGJldm9sa2luZ3Nncm9lcCB6aWpuIHN0cmlqZG1hbnNjaGFwcGVuIHZlcmdyb290dGUsIHdhcyBkZSBhbmRlcmUgdmVycGxpY2h0IG9tIGhldHplbGZkZSB0ZSBkb2VuLCBhYW5nZXppZW4gemUgYW5kZXJzIGdlZW4gZW5rZWxlIGthbnMgem91ZGVuIGhlYmJlbiBvcCBkZSBvdmVyd2lubmluZy5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIkhldCBsZWdpb2VuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkVlbiBsZWdpb2VuIHdlcmQgb3BnZWRlZWxkIGluIDEwIGNvaG9ydGVuIHdhYXJiaWogMSBjb2hvcnRlIGVlbiBhYW50YWwgdmFuIDYwMCBzb2xkYXRlbiB0ZWxkZSBvcCB2b29yd2FhcmRlIGRhdCBoZXQgbGVnaW9lbiBiZXN0b25kIHVpdCBvbmdldmVlciA2MDAwIGxlZ2lvbmFyaWkgKD0gc29sZGF0ZW4pLiBEZSBsZWlkZXIgdmFuIGVlbiBsZWdpb2VuIHdlcmQgZWVuIGxlZ2F0dXMgZ2Vub2VtZC4gSGV0IHdhcyBhbHRpamQgZWVuIG1hbiBvbWRhdCBlbmtlbCBkZSBtYW5uZW4gdG9lZ2VsYXRlbiB3ZXJkZW4gYmlqIGhldCBsZWdlciAoVnJvdXdlbiBtb2VzdGVuIGhldCBodWlzaG91ZGVuIGRvZW4pLiBEZSBsZWdhdHVzIGhhZCBvb2sgNSBcXHhFMCA2IGFzc2lzdGVudGVuIHRlciBiZXNjaGlra2luZyBkaWUgZGUgbmFhbSB0cmlidW5pIGtyZWdlbi4gRGF0IHdhcmVuIHN0ZWVkcyBqb25nZSBtYW5uZW4gZGllIGVlbiBwb2xpdGlla2UgY2FycmlcXHhFOHJlIHdpbGRlIHN0YXJ0ZW4gbWFhciBlZXJzdCB3YXQgbWlsaXRhaXJlIGVydmFyaW5nIG5vZGlnIGhhZGRlbi4gVmVydm9sZ2VucyB3ZXJkZW4gYWxsZSBjb2hvcnRlbiBub2cgZWVucyBvbmRlcnZlcmRlZWxkIGluIDMgbWFuaXBlbHMgbWV0IHRlbGtlbnMgZWVuIGFhbnRhbCB2YW4gMjAwIG1hbi4gSGV0IDFzdGUgbWFuaXBlbCB2YW4gaWVkZXJlIGNvaG9ydGUga3JlZWcgZGUgbmFhbSBwaWx1cy4gSGV0IDFzdGUgbWFuaXBlbCB2YW4gZGUgMXN0ZSBjb2hvcnRlIHdlcmQgZGUgcHJpbXVzIHBpbHVzIGdlbm9lbWQgbWV0IGRlIHByaW1pIHBpbGkgY2VudHVyaW8gYWFuIGhldCBob29mZC4gRGV6ZSAyMDAgbWFubmVuIHdlcmRlbiBub2dtYWFscyBnZXNwbGl0c3QgaW4gMiBncm9lcGVuIHZhbiAxMDAgc29sZGF0ZW4uIERlcmdlbGlqa2UgZ3JvZXBlbiBiZWhvb3JkZW4gdG90IGRlIHJhbmcgdmFuIGRlIGNlbnR1cmlhLiBIaWVyYmlqIHdhcyBlZW4gY2VudHVyaW8gKD0gb25kZXJvZmZpY2llcikgZGUgYWFudm9lcmRlciB2YW4gMSB2YW4gZGUgNiBjZW50dXJpXFx4RUJuLiBIaWogYmVzY2hpa3RlIG92ZXIgZWVuIGFhbnRhbCBzb2xkYXRlbiwgMSB2ZWxkdGVrZW5kcmFnZXIgZW4gZWVuIG9wdGlvLiBaaWpuIGJlbGFuZ3JpamtoZWlkIHdhcyBhZmhhbmtlbGlqayB2YW4gZGUgcmFuZyBkaWUgemlqbiBjZW50dXJpYSBoYWQuIFpvIGlzIGRlIGNlbnR1cmlvIHZhbiBoZXQgMXN0ZSBjZW50dXJpZSwgMXN0ZSBtYW5pcGVsIGVuIDFzdGUgY29ob3J0ZSBkZSBiZWxhbmdyaWprc3RlIGVuIG5hYXJtYXRlIGplIHZlcmRlciBnYWF0IGluIGRlIGhpXFx4RUJyYXJjaGllIG5lbWVuIHplIGFhbiBiZWxhbmdyaWpraGVpZCBhZi4gRWVuIGNlbnR1cmlvIGJlc2NoaWt0ZSBuZXQgem9hbHMgZWVuIGxlZ2F0dXMgb3ZlciBlZW4gYXNzaXN0ZW50IGRpZSBkZSBuYWFtIG9wdGlvIGFhbmdlYm9kZW4ga3JlZWcuIERlemUgb3B0aW8gYmVzY2hpa3RlIG92ZXIgZWVuIGtsZWluIG1hbnNjaGFwIG9tIHdhdCBlcnZhcmluZyB0ZSBrcmlqZ2VuIG92ZXIgaG9lIGplIGxlaWRpbmcgbW9lc3QgZ2V2ZW4uIEhldCB1aXRlaW5kZWxpamtlIGRvZWwgdmFuIGRlIG9wdGlvIHdhcyB0ZSBwcm9tb3ZlcmVuIG9tIHpvIGRlIGZ1bmN0aWUgdmFuIGVlbiBjZW50dXJpbyB0ZSBrcmlqZ2VuLiBaZWVyIGVydmFyZW4gY2VudHVyaW9cXHUyMDE5cyBrcmVnZW4gb29rIG5vZyBrYW5zIG9tIHByYWVmZWN0dXMgY2FzdHJvcnVtICg9IGthbXBjb21tYW5kYW50KSB0ZSB3b3JkZW4uIFRvdCBzbG90IHdlcmRlbiBkaWUgMTAwIG1hbiBub2cgZWVuIGtlZXIgb3BnZWRlZWxkIGluIDEwIGdyb2VwamVzIHZhbiB0ZWxrZW5zIDEwIHNvbGRhdGVuIGRpZSBzYW1lbiBlZW4ga2xlaW5lIHRlbnQgbW9lc3RlbiBkZWxlbiB3YWFyaW4gemUga29uZGVuIG92ZXJuYWNodGVuLiBEZXJnZWxpamsgdGVudGVuIHdhcmVuIG9uZ2V2ZWVyIDQgYmlqIDMgbWV0ZXIuIERlIHJlZGVuIGhpZXJ2b29yIHdhcyBkYXQgemUgb213aWxsZSB2YW4gaHVuIGdyb290dGUgbWFra2VsaWprIHRlIHZlcnZvZXJlbiB3YXJlbi4gRGV6ZSBncm9lcGplcyB3ZXJkZW4gY29udHVyYmVybml1bSBnZW5vZW1kLiBFbGsgY29udHVyYmVybml1bSBiZXNjaGlrdGUgb3ZlciBlZW4gbXVpbGV6ZWwgZGllIGRlIHNvbGRhdGVuIGhpZWxwIGJpaiBoZXQgdmVydm9lcmVuIHZhbiBodW4gZ29lZGVyZW4uIEhldCBsZWdpb2VuIGJldmF0dGUgbmFhc3QgcmVlZHMgdmVybWVsZGUgcmFuZ2VuIG5vZyBhbmRlcmUgcGVyc29uZW4gZGllIGVlbiBzcGVjaWZpZWtlIHRhYWsgdWl0dm9lcmRlbi5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFtcIkVlbiBhcXVpbGlmZXIgKD0gc3RhbmRhYXJkZHJhZ2VyKSBrcmVlZyBkZSB0YWFrIG9tIG1ldCBoZXQgUm9tZWluc2UgZW1ibGVlbSB2YW4gZWVuIGFxdWlsYSAoPSBhcmVuZCkgaGV0IGxlZ2lvZW4gdm9vcmFmIHRlIGdhYW4gZW4gc3RvbmQgYWFuIGhldCBob29mZCB2YW4gYWxsZSBhbmRlcmUgdmVsZHRla2VuZHJhZ2Vycy4gSW4gZWVuIGxlZ2lvZW4gd2FyZW4gZXIgb29rIGJha2tlcnMsIHNtZWRlbiwgZG9rdGVyLCBcXHUyMDI2XCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkVlbiBsZWdpb2VuIGtvbiBkdXMgem9uZGVyIGVuaWcgcHJvYmxlZW0gZW5rZWxlIG1hYW5kZW4gcm9uZHRyZWtrZW4gZG9vciBkZSBncm90ZSB2b29ycmFhZCB2YW4gZGluZ2VuIGRpZSB6ZSBtZWVzbGV1cmRlIHRpamRlbnMgaHVuIHRvY2h0IGVuIGhldCBncm9vdCBhYW5ib2QgdmFuIGFzc2lzdGVudGVuLlwiXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIkRlIGh1bHB0cm9lcGVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBbXCJOYWFzdCBsZWdpb2VuZW4gbWFha3RlIGRlIFJvbWVpbmVuIG9vayB2ZWVsdnVsZGlnIGdlYnJ1aWsgdmFuIGRlIGF1eGlsaWEgKD0gaHVscHRyb2VwZW4pLiBEYWFydG9lIGJlaG9vcmRlbiBkZSBzb2xkYXRlbiBkaWUgbmlldCBkZSBzdGF0dXMgaGFkZGVuIHZhbiBSb21laW5zZSBzdGFhdHNidXJnZXIgZG9vcmRhdCB6ZSBhZmtvbXN0aWcgd2FyZW4gdWl0IGFuZGVyZSB2b2xrZXJlbi4gT213aWxsZSB2YW4gaHVuIGFuZGVyZSBhZmtvbXN0IGtyZWdlbiB6ZSBtYWFyIDEvMyB2YW4gaGV0IGxvb24gdmFuIGVlbiBsZWdpb25hcml1cy5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiSHVuIHZvb3JuYWFtc3RlIGZ1bmN0aWUgd2FzIG9tIGRlIGxlZ2lvZW5lbiB0ZSBoZWxwZW4gZW4gb20gZGUgZ3JlbnplbiB0ZSBiZXdha2VuIGVuIHRlIHZlcmRlZGlnZW4uIERlemUgdGFrZW4gbW9lc3RlbiB6ZSB1aXR2b2VyZW4gb25kZXIgYmV2ZWwgdmFuIHByYWVmZWN0aSAoPSBSb21laW5zZSBvZmZpY2llcmVuKS4gQWxzIGVlbiBhdXhpbGlhcml1cyAoPSBlZW4gc29sZGFhdCB2YW4gZGUgaHVscHRyb2VwZW4pIGVlbiBkaWVuc3R0ZXJtaWpuIHZhbiAyNSBqYWFyIGhhZCBhZmdlc2xvdGVuLCBrcmVlZyBoaWogZW4gemlqbiBnZXppbiB2YW5hZiBkYXQgbW9tZW50IGRlIHN0YXR1cyB2YW4gZWVuIFJvbWVpbnMgc3RhYXRzYnVyZ2VyLiBEZSB6b25lbiB2YW4gZWVuIGV4LWF1eGlsaWFyaXVzIGdpbmdlbiBhbHMgbGVnaW9uYXJpdXMgd2Vya2VuIHdhdCBoZW4gZGUga2FucyBnYWYgb20gbWVlciB0ZSB2ZXJkaWVuZW4gZGFuIGh1biB2YWRlci4gRGUgZXgtYXV4aWxpYXJpdXMgemVsZiBuYW0gZGUgbmFhbSB2YW4gZGUgcmVnZXJlbmRlIGtlaXplciBhYW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIk5ldCB6b2FscyBkZSBsZWdpb2VuZW4gemlqbiBlciB2ZXJzY2hpbGxlbmRlIG9uZGVyZGVsZW4gYmlubmVuIGRlIGh1bHB0cm9lcGVuIHpvYWxzOiBkZSBlcXVpdGF0dXMgKD0gcnVpdGVycyksIGRlIHNhZ2l0dGFyaWkgKD0gYm9vZ3NjaHV0dGVycykgZW4gZGUgZnVuZGl0b3JlcyAoPSBzbGluZ2VyYWFycykuIEVsa2Ugc29sZGFhdCBiaW5uZW4gZGUgaHVscHRyb2VwZW4ga3JlZWcgZWVuIGJpanBhc3NlbmQgd2FwZW4gYWZoYW5rZWxpamsgdG90IHdlbGtlIGdyb2VwIGhpaiBiZWhvb3JkZS5cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGFibGVcIiwgXCJvbmRlcnZlcmRlbGluZy10YWJsZVwiLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoZWFkXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwiZ3JvZXBlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwibGVnaW9lbmVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJodWxwdHJvZXBlblwiKV0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJiZWxhbmdyaWprc3RlIG9uZGVyZGVsZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBbXCJjb2hvcnRlblwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwibWFuaXBlbHNcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcImNlbnR1cmlhXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJjb250dXJiZXJuaXVtXCJdKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFtcInNhZ2l0dGFyaWlcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcImVxdWl0YXR1c1wiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiZnVuZGl0b3Jlc1wiXSldKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJhYW50YWxcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBbXCIxIGNvaG9ydCA9IFxceEIxIDYwMFwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiMSBtYW5pcGVsID0gXFx4QjEgMjAwXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCIxIGNlbnR1cmlhID0gXFx4QjEgMTAwXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCIxIGNvbnR1cmJlcm5pdW0gPSBcXHhCMSAxMFwiXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImFhbnRhbCBpcyBvbmR1aWRlbGlqa1wiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImxlaWRlcnNcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImxlZ2lvZW4gLS0+IGxlZ2F0dXMgY2VudHVyaWEgLS0+IGNlbnR1cmlvIHplZXIgZXJ2YXJlbiBjZW50dXJpbyAtLT4gIHByYWVmZWN0dXMgY2FzdHJvcnVtXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJIdWxwdHJvZXBlbiAtLT4gcHJhZWZlY3RpXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwic3RhdHVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJSb21laW5zIHN0YWF0c2J1cmdlclwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZ2VlbiBSb21laW5zIHN0YWF0c2J1cmdlci4gQWZrb21zdGlnIHZhbiBhbmRlcmUgdm9sa2VyZW5cIildKV0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiVmVyZ2VsaWpraW5nXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkFscyB3ZSBkZSBvbmRlcnZlcmRlbGluZyBiaWogZGUgUm9tZWluZW4gdmVyZ2VsaWprZW4gbWV0IGRlIG9uemUgZGFuIG1lcmtlbiB3ZSBvcCBkYXQgZGUgc3RydWN0dXVyIHZvb3IgZWVuIGdyb290IGRlZWwgYmV3YWFyZCBpcyBnZWJsZXZlbi4gVG9jaCBrdW5uZW4gd2Ugc3RlbGxlbiBkYXQgaGV0IGh1aWRpZ2Ugc3lzdGVlbSBtZWVyIG9uZGVydmVyZGVsaW5nZW4gaGVlZnQgZW4gZGF0IGRlIG5hbWVuIG9vayBzdGVlZHMgZ2V3aWp6aWdkIHppam4uIFpvIGlzIGluIDIwMTcgZGUgZ2VuZXJhYWwgZGUgbGVpZGVyIHZhbiBoZXQgbGVnZXIgZW4gdnJvZWdlciBzcHJhayBtZW4gb3ZlciBsZWdhdHVzIGRpZSBkZSBsZWlkaW5nIGhhZCBvdmVyIGhldCBsZWdpb2VuLlwiKV0pO1xufTtcblxuLyoqKi8gfSksXG4vKiAyNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5WZWxkc2xhZ2VuID0gdW5kZWZpbmVkO1xuXG52YXIgX2luZmVybm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgVmVsZHNsYWdlbiA9IGV4cG9ydHMuVmVsZHNsYWdlbiA9IGZ1bmN0aW9uIFZlbGRzbGFnZW4oKSB7XG4gIHJldHVybiAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYXJ0aWNsZVwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgyXCIsIG51bGwsIFwiVmVsZHNsYWdlbiBlbiBvb3Jsb2dlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJEZSBSb21laW5lbiBoZWJiZW4gZG9vcmhlZW4gaHVuIGxhbmdlIGJlc3RhYW4gaW4gdmVsZSBkZWxlbiB2YW4gZGUgd2VyZWxkIGdldm9jaHRlbiB0ZWdlbiB2ZXJzY2hpbGxlbmRlIHJpamtlbiwgc3RhZHN0YXRlbiwgaGFuZGVsc25hdGllcyBlbiBiYXJiYWFyc2Ugc3RhbW1lbiBhYW5nZXppZW4gemUgc3RlZWRzIG1lZXIgZ3JvbmRnZWJpZWQgd2lsZGVuIHZlcm92ZXJlbi4gSG9ld2VsIHZlbGVuIGhpZXJ2YW4gd2VyZGVuIGdld29ubmVuIGRhbmt6aWogaHVuIGRvb3JkYWNodGUgdGFjdGlla2VuIGVuIGlqemVyc3RlcmtlIGRpc2NpcGxpbmUsIHdhcmVuIGVyIG9vayB6d2FyZSBuZWRlcmxhZ2VuIGJpaiB6b2FsczogZGUgc2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZCwgZGUgc2xhZyBiaWogQ2FubmFlIGVuIGRlIHNsYWcgYmlqIEFkcmlhbm9wb2xpcy4gRG9vciBkZXplIG5lZGVybGFnZW4gc2NoYWFmZGVuIHplIGh1biB0YWN0aWVrZW4gYmlqIG9tIGRlemVsZmRlIGZvdXRlbiBuaWV0IG5vZyBlZW5zIHRlIG1ha2VuLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiRGUgc2xhZyBiaWogQWxlc2lhXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlIHNsYWcgYmlqIEFsZXNpYSB3ZXJkIGdldm9jaHRlbiB0dXNzZW4gZGUgUm9tZWluc2UgdHJvZXBlbiB2YW4gSnVsaXVzIENhZXNhciBlbiBkZSBBdmVybmlzY2hlIHRyb2VwZW4gdmFuIFZlcmNpbmdldG9yaXguIERlemUgc2xhZyB3YXMgZGUgYmVzbGlzc2VuZGUgc2xhZyBpbiBkZSBzdHJpamQgdHVzc2VuIGRlIEdhbGxpXFx4RUJycyBlbiBkZSBSb21laW5lbiBlbiBoZXQgd2FzIHRldmVucyBlZW4gdmFuIGRlIGdyb290c3RlIG92ZXJ3aW5uaW5nZW4gdmFuIENhZXNhci4gRGUgc2xhZyB2b25kIHBsYWF0cyBpbiA1MiB2LkMuIGJpaiBoZXQgR2FsbGlzY2hlIEFsZXNpYSByb25kIGVlbiB2ZXJzdGVya3QgZm9ydCB2YW4gaGV0IHZvbGsgTWFuZHViaWkuIEhldCBmb3J0IHZhbiBBbGVzaWEgd2FzIGdlbGVnZW4gYm92ZW5vcCBlZW4gaGV1dmVsIHdhYXIgcml2aWVyZW4gbGFuZ3Mgc3Ryb29tZGVuLiBDYWVzYXIgZ2FmIHZhbiBkZSBvbWdldmluZyBlZW4gemVlciBnb2VkZSBiZXNjaHJpanZpbmcgaW4gemlqbiBDb21tZW50YXJpaSBkZSBiZWxsbyBHYWxsaWNvOiBcXFwiSXBzdW0gZXJhdCBvcHBpZHVtIEFsZXNpYSBpbiBjb2xsZSBzdW1tbyBhZG1vZHVtIGVkaXRvIGxvY28sIHV0IG5pc2kgb2JzaWRpb25lIGV4cHVnbmFyaSBub24gcG9zc2UgdmlkZXJldHVyLiBDdWl1cyBjb2xsaXMgcmFkaWNlcyBkdW8gZHVhYnVzIGV4IHBhcnRpYnVzIGZsdW1pbmEgc3VibHVlYmFudC4gQW50ZSBpZCBvcHBpZHVtIHBsYW5pdGllcyBjaXJjaXRlciBtaWxsaWEgcGFzc3V1bSBJSUkgaW4gbG9uZ2l0dWRpbmUgcGF0ZWJhdDsgcmVsaXF1aXMgZXggb21uaWJ1cyBwYXJ0aWJ1cyBjb2xsZXMgbWVkaW9jcmkgaW50ZXJpZWN0byBzcGF0aW8gcGFyaSBhbHRpdHVkaW5pcyBmYXN0aWdpbyBvcHBpZHVtIGNpbmdlYmFudC5cXFwiIERpdCBrYW4gbWVuIHZlcnRhbGVuIGFsczogXFx1MjAxOERlIHZlc3RpbmcgQWxlc2lhIHplbGYgbGFnIG9wIGVlbiBoZXV2ZWx0b3AgZGllIGFhbnppZW5saWprIGJvdmVuIGRlIHZsYWt0ZSB1aXRzdGFrLCB6b2RhdCB6aWogb25pbm5lZW1iYWFyIHNjaGVlbiB0ZW56aWogZG9vciBibG9ra2FkZS4gRGUgdm9ldCB2YW4gZGllIGhldXZlbCB3b3JkdCBhYW4gdHdlZSB6aWpkZW4gYmVzcG9lbGQgZG9vciB3YXRlcmxvcGVuLiBWXFx4RjNcXHhGM3IgZGUgdmVzdGluZyBzdHJla3RlIHppY2ggZWVuIG9uZ2V2ZWVyIGRyaWUgbWlqbCBicmVkZSB2bGFrdGUgdWl0OyBhYW4gYWwgZGUgYW5kZXJlIHppamRlbiBvbXJpbmdkZSBoZXV2ZWxzLCBvcCBrb3J0ZSBhZnN0YW5kIHZhbiBlbGthYXIgZ2VsZWdlbiBlbiBtZXQgZ2VsaWprZSB0b3Bob29ndGUsIGRlIHZlc3RpbmcuXFx1MjAxOSBEb29yIGRlemUgdWl0c3Rla2VuZGUgbG9jYXRpZSB3YXMgaGV0IHplZXIgbW9laWxpamsgb20gaGV0IGZvcnQgaW4gdGUgbmVtZW4gZHVzIGJlc2xvb3QgQ2Flc2FyIG9tIGhldCBmb3J0IHRlIGJlbGVnZXJlbiBkb29yIGdlYnJ1aWsgdGUgbWFrZW4gdmFuIGVlbiBjaXJjdW12YWxsYXRpZWxpbmllIG9tIHpvIGRlIHRyb2VwZW4gZW4gZGUgYmV2b2xraW5nIHZhbiBBbGVzaWEgdWl0IHRlIGhvbmdlcmVuLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgW1wiRGUgbGluaWUgYmVzdG9uZCB1aXQgbWVlcmRlcmUgdmVyc3RldmlnaW5nZW4gZW4gd2FsbGVuIG1ldCBlZW4gdG90YWxlIGxlbmd0ZSB2YW4gb25nZXZlZXIgMThrbS4gRGUgdGFjdGllayB2YW4gQ2Flc2FyIGJsZWVrIHplZXIgZ29lZCB0ZSB3ZXJrZW4gYWFuZ2V6aWVuIFZlcmNpbmdldG9yaXggcmFkZWxvb3Mgd2FzLiBEZSBlbmlnZSBtb2dlbGlqa2hlaWQgZGllIFZlcmNpbmdldG9yaXggbm9nIGhhZCB3YXMgb20gZWVuIGRlZWwgdmFuIGRlIEdhbGxpc2NoZSBjYXZhbGVyaWUgdGUgZG9lbiBvbnRzbmFwcGVuIGRvb3IgZWVuIG5vZyBvbnZvbHRvb2lkIGdlZGVlbHRlIHZhbiBkZSBsaW5pZSBvbSB2ZXJzdGVya2luZyB0ZSBoYWxlbi4gWmlqIHNsYWFnZGVuIGluIGRlemUgb3B6ZXQgZW4gYnJhY2h0ZW4gc3VjY2Vzdm9sIGVlbiBvbnR6ZXR0aW5nc2xlZ2VyIG9wIGRlIGJlZW4uIENhZXNhciBoYWQgZWNodGVyIGFhbiBhbGxlIG1vZ2VsaWprZSBzY2VuYXJpb1xcdTIwMTlzIGdlZGFjaHQgZW4gaGlqIGhhZCBiZXNsb3RlbiBvbSBlZW4gY29udHJhdmFsbGF0aWVsaW5pZSB2YW4gMjEga2lsb21ldGVyIHRlIGJvdXdlbiByb25kIGRlIGNpcmN1bXZhbGxhdGllbGluaWUsIHdhYXJkb29yIGRlIFJvbWVpbmVuIGxhbmdzIHR3ZWUgemlqZGVuIHRlZ2VuIGRlIEdhbGxpc2NoZSBhYW52YWxsZW4gYmVzY2hlcm1kIHdhcmVuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiRWVubWFhbCBoZXQgb250emV0dGluZ3NsZWdlciBiaWogQWxlc2lhIHdhcyBhYW5nZWtvbWVuLCB3YXJlbiBoZXQgZWlnZW5saWprIGRlIFJvbWVpbmVuIGRpZSBiZWxlZ2VyZCB3YXJlbiBhYW5nZXppZW4gemUgaW5nZXNsb3RlbiB6YXRlbiB0dXNzZW4gdHdlZSBHYWxsaXNjaGUgbGVnZXJzLiBPbmRlciBsZWlkaW5nIHZhbiBDb21taXVzIHZpZWwgaGV0IG9udHpldHRpbmdzbGVnZXIgZGUgY29udHJhdmFsbGF0aWVsaW5pZSBhYW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJpbWdcIiwgXCJzaWVnZS1vZi1hbGV4aWEtaW1nXCIsIG51bGwsIHtcbiAgICBcInNyY1wiOiBcIi4vaW1hZ2VzL3NpZWdlT2ZBbGV4aWEuanBnXCJcbiAgfSksIFwiVGVnZWxpamtlcnRpamQgbGlldCBWZXJjaW5nZXRvcml4IHppam4gdHJvZXBlbiBkZSBjaXJjdW12YWxsYXRpZWxpbmllIGFhbnZhbGxlbi4gRGUgZWVyc3RlIGRhZyBoaWVsZGVuIGRlIFJvbWVpbmVuIGdvZWQgc3RhbmQgdGVnZW4gZGUgYWFudmFsbGVuIHZhbiBkZSBHYWxsaVxceEVCcnMsIG1hYXIgZGUgZGFhciBvcHZvbGdlbmRlIGRhZ2VuIGdpbmdlbiBiZXJnYWYuIFplIHdlcmRlbiBnZWR3b25nZW4gb20gZm9ydGVuIGVuIGthbXBlbiBpbiBkZSBjb250cmF2YWxsYXRpZWxpbmllIG9wIHRlIGdldmVuLCBtYWFyIEdhaXVzIHJlYm9uaXVzIGtvbiBtZXQgZGUgY2F2YWxlcmllIHZvb3Jrb21lbiBkYXQgZGUgR2FsbGlcXHhFQnJzIGhpZXIgZ2VicnVpayB2YW4ga29uZGVuIG1ha2VuLiBOYSBtYWFuZGVubGFuZyB2ZWNodGVuIGJlc2xvb3QgZGUgbmVlZiB2YW4gVmVyY2luZ2V0b3JpeCwgVmVyY2Fzc2l2ZWxsYXVub3MsIG9tIG1ldCA2MC4wMDAgbWFuc2NoYXBwZW4gZGUgUm9tZWluc2Ugc3RlbGxpbmdlbiBhYW4gdGUgdmFsbGVuLiBIaWoga29vcyBkZSBwbGVrIHdhYXIgZGUgc3RlbGxpbmdlbiBoZXQgendha3N0IHdhcmVuLCBuYW1lbGlqayB3YWFyIGRlIGxpbmllcyBvcCBkZXplbGZkZSBwbGVrIGVlbiByaXZpZXIga3J1aXN0ZW4uIFZlcmNpbmdldG9yaXggbGlldCB2YW4gYmlubmVudWl0IG9wIGRlemVsZmRlIHBsYWF0cyBlZW4gYWFudmFsIHVpdHZvZXJlbiwgbWFhciBDYWVzYXIgaGFkIHpvdmVlbCB2ZXJ0cm91d2VuIGluIHppam4gdHJvZXBlbiBkYXQgaGlqIGhldCBiZXZlbCBnYWYgb20gZGUgc3RlbGxpbmdlbiB0ZSBiZWhvdWRlbi4gQ2Flc2FyIG5hbSBlZW4gZ3JvdGUgZ29rIGRvb3IgbWV0IDYuMDAwIG1hbnNjaGFwcGVuIGVlbiBsZWdlciB2YW4gNjAuMDAwIG1hbnNjaGFwcGVuIGFhbiB0ZSB2YWxsZW4sIG1hYXIgaGlqIG92ZXJkb25kZXJkZSBkZSBHYWxsaVxceEVCcnMgem8gaGFyZCBkYXQgemUgemljaCBnZW5vb2R6YWFrdCB2b2VsZGVuIG9tIHppY2ggdGVydWcgdGUgdHJla2tlbi5cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkhpZXJtZWUgd2FzIGhldCBiZWxhbmdyaWprc3RlIGVuIG1lZXN0IGJlc2xpc3NlbmRlIGdldmVjaHQgZ2VzdHJlZGVuIHdhYXJuYSBkZSB0cm9lcGVuIGluIEFsZXNpYSB6aWNoIG92ZXJnYXZlbiBkb29yIGhvbmdlcnNub29kIGVuIGdlYnJlayBhYW4gbWFuc2NoYXBwZW4uIFJvbWUgd2FzIGRlIGdyb3RlIG92ZXJ3aW5uYWFyIGJpaiBkZXplIHNsYWcgZGllIGRlIGJhc2lzIHZvcm1kZSB2b29yIGhldCB2ZXJkZXIgdmVyb3ZlcmVuIHZhbiBHYWxsaVxceEVCIGVuIEJyaXR0YW5uaVxceEVCLiBEZSBHYWxsaXNjaGUgc29sZGF0ZW4gd2VyZGVuIGFscyBzbGF2ZW4gbWVlZ2Vub21lbiBlbiB2ZXJrb2NodC4gVmVyY2luZ2V0b3JpeCB3ZXJkIHRldmVucyBnZXZhbmdlbmdlbm9tZW4sIG1hYXIgbmlldCB2ZXJrb2NodCBhYW5nZXppZW4gZGUgUm9tZWluZW4gaGVtIHdpbGRlbiBob3VkZW4gYWxzIHRyb2ZlZS4gTmEgZWVuIHBhYXIgamFhciB3ZXJkIGhpaiByaXR1ZWVsIGdld3VyZ2QgdGlqZGVucyBlZW4gdHJpb21mdG9jaHQuIERlIGVsZW1lbnRlbiBkaWUgZGUgUm9tZWluZW4gZGUgb3Zlcndpbm5pbmcgaGViYmVuIGJlem9yZ2QgemlqbiB2b29yYWwgYmVydXN0IG9wIGRlIGdlZXN0LiBDYWVzYXIgaGVlZnQgc3RlZWRzIGRlIG1vcmVlbCBiaWogemlqbiB0cm9lcGVuIGhvb2cgd2V0ZW4gdGUgaG91ZGVuIGhvZXdlbCB6ZSBzb21zIG5lZGVybGFnZW4gbGVkZW4uIERpdCB6b3JnZGUgZXJ2b29yIGRhdCBkZSBzdHJpamRsdXN0IGJpaiBkZSBzb2xkYXRlbiBhYW53ZXppZyBibGVlZiBlbiB6ZSBzdGVlZHMgdm9lbGRlbiBkYXQgemUgZGUgYm92ZW5oYW5kIGhhZGRlbiBpbiBoZXQgZ2V2ZWNodC4gQ2Flc2FyIG5hbSBoZXQgbW9yZWVsIHZhbiB6aWpuIHRyb2VwZW4gemVlciBzZXJpZXVzIGVuIGdpbmcgemVsZnMgem8gdmVyIGRhdCBoaWogbWV0IGhlbiBtZWVzdHJlZWQuIEhldCBtb3JlZWwgdmFuIHppam4gdHJvZXBlbiBsYWcgYWFuIGRlIGJhc2lzIHZhbiBkZSBsYWF0c3RlIGJlbGFuZ3JpamtlIHNsYWcgYWFuZ2V6aWVuIHplIGhldCBnZXZlY2h0IG9uZGVyYmVtYW5kIG1vZXN0ZW4gYWFuZ2FhbiwgbWFhciB1aXRlaW5kZWxpamsgaGViYmVuIHplIGRlIG92ZXJ3aW5uaW5nIGJlaGFhbGQuIEVlbiB0d2VlZGUgcHVudCB3YWFyZG9vciB6ZSBkZXplIHNsYWcgaGViYmVuIGdld29ubmVuLCBpcyBoZXQgZ29lZCBkb29yZGFjaHRlIGFhbnZhbHNwbGFuIHZhbiBDYWVzYXIuIFpvIGhhZCBoaWogZGUgY29udHJhdmFsbGF0aWVsaW5pZSB2b29yemllbiB2b29yIGVlbiBldmVudHVlbGUgYWFudmFsLiBXYXMgZGV6ZSBsaW5pZSBlciBuaWV0IGdld2Vlc3QsIGhhZGRlbiBkZSBHYWxsaVxceEVCcnMgZGV6ZSB2ZWxkc2xhZyBnZWdhcmFuZGVlcmQgZ2V3b25uZW4gZG9vciBodW4gZ3JvdGUgYWFudGFsbGVuLiBDYWVzYXIgd2FzIG9vayBkZWdlbmUgZGllIGVlbiB2ZXJyYXNzaW5nc2FhbnZhbCBoZWVmdCBrdW5uZW4gYWZ3ZW5kZW4gZG9vciBkZSB2cm91d2VuIGVuIGtpbmRlcmVuIG5pZXQgdWl0IEFsZXNpYSB0ZSBsYXRlbiB2ZXJ0cmVra2VuLiBEZSBHYWxsaVxceEVCcnMgd2lsZGVuIGhlbiBuYW1lbGlqayBhbHMgYWZsZWlkaW5nIGdlYnJ1aWtlbiBvbSBvbmRlcnR1c3NlbiBlZW4gdmVyc3RldmlnaW5nIGFhbiB0ZSB2YWxsZW4sIG1hYXIgZG9vciBDYWVzYXIgemlqbiBiZXNsdWl0IG9tIGRlIHZyb3V3ZW4gZW4ga2luZGVyZW4gbmlldCBidWl0ZW4gdGUgbGF0ZW4gaXMgZGUgYWFudmFsIG5pZXQga3VubmVuIGRvb3JnYWFuLiBIZXQgZW5pZ2UgbmVnYXRpZXZlIHB1bnQgZGF0IGdlb3B0aW1hbGlzZWVyZCBoYWQga3VubmVuIHdvcmRlbiBpcyBkZSBib3V3IHZhbiBkZSBsaW5pZXMgYmlqIGRlIHJpdmllcmVuIGFhbmdlemllbiBkaXQgaGV0IHp3YWtrZSBwdW50IHdhcyB2YW4gaGV0IGthbXAuIERlemUgc2xhZyBpcyBlZW4gZ29lZCB2b29yYmVlbGQgdmFuIGRlIFJvbWVpbnNlIGRpc2NpcGxpbmUgZW4gc3RyaWpkbHVzdCBhYW5nZXppZW4gemUgZ2VlbiBlbmtlbGUgZ3JvdGUgZm91dCBoZWJiZW4gYmVnYWFuIGRpZSB0b3QgZWVuIGV2ZW50dWVlbCB2ZXJsaWVzIGhhZCBrdW5uZW4gbGlqZGVuLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiRGUgc2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJEZSBzbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkIHdlcmQgZ2V2b2NodGVuIHR1c3NlbiBkZSBSb21laW5zZSB0cm9lcGVuIHZhbiBWYXJ1cyBlbiBkZSBHZXJtYWFuc2UgdHJvZXBlbiB2YW4gQXJtaW5pdXMuIERlemUgc2xhZyBsZWlkZGUgZWVuIHpldmVuamFyaWdlIG9vcmxvZyBpbiwgZGllIHVpdGVpbmRlbGlqayB0b3QgZ2V2b2xnIGhhZCBkYXQgZGUgUmlqbiB2b29yIGVlbiBwZXJpb2RlIHZhbiA0MDAgamFhciB3ZXJkIHZhc3RnZWxlZ2QgYWxzIGdyZW5zIHZhbiBoZXQgUm9tZWluc2UgUmlqay4gRGUgc2xhZyB2b25kIHBsYWF0cyBpbiA5IG4uQy4gbmFiaWogS2Fsa3JpZXNlIGRhdCBpbiBEdWl0c2xhbmQgaXMgZ2VsZWdlbi4gRGUgc2xhZyB3YXMgZWVuIHZhbiBkZSBncm9vdHN0ZSBuZWRlcmxhZ2VuIHVpdCBkZSBnZXNjaGllZGVuaXMgdmFuIGhldCBSb21laW5zZSBsZWdlci5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFtcIkRlIFJvbWVpbmVuIHdhcmVuIG5hbWVsaWprIGluIGVlbiBsaXN0IGdldHJhcHQgdmFuIEFybWluaXVzLCBkZSBsZWlkZXIgdmFuIGRlIEdlcm1hYW5zZSBzdGFtbWVuLiBIaWogbGlldCBkb29yZ2V2ZW4gZGF0IGVyIGVlbiBvcHN0YW5kIGFhbiBkZSBnYW5nIHdhcyB2YW4gdmVyb3ZlcmRlIEdlcm1hYW5zZSBzdGFtbWVuLiBIaWogd2lsZGUgZGUgUm9tZWluZW4gbmFtZWxpamsgbmFhciBlZW4gdm9vciBoZW4gb25iZWtlbmQgZ2ViaWVkIGxva2tlbiB6b2RhdCBkZSBHZXJtYW5lbiBlZW4gc3RyYXRlZ2lzY2ggdm9vcmRlZWwgaGFkZGVuLiBEZSBSb21laW5zZSBhYW52b2VyZGVyIFZhcnVzIHdhcyBvcCBkYXQgbW9tZW50IG1ldCB6aWpuIGxlZ2VyIG9wIHdlZyBuYWFyIGh1biB3aW50ZXJrYW1wZW4gdm9vciBkZSBvcGtvbWVuZGUgd2ludGVyLiBIaWogZ2Vsb29mZGUgZWNodGVyIGhldCBuZXBiZXJpY2h0IHZhbiBBcm1pbml1cyBlbiBoaWogd2VlayB2YW4gemlqbiByb3V0ZSBhZiBlbiBnaW5nIGRvb3IgaGV0IFRldXRvYnVyZ2Vyd291ZCBuYWFyIGRlIHpvZ2V6ZWdkZSBvcHN0YW5kLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiV2F0IGhpaiBlY2h0ZXIgbmlldCB3aXN0LCB3YXMgZGF0IGhpaiBvcGdld2FjaHQgd2VyZCBkb29yIGVlbiBncm9vdCBHZXJtYWFucyBsZWdlciBkYXQgemljaCBpbiBoZXQgYm9zIGhhZCB2ZXJzdG9wdCBvbSBlZW4gdmVycmFzc2luZ3NhYW52YWwgdWl0IHRlIHZvZXJlbi4gSGV0IFRldXRvYnVyZ2Vyd291ZCB3YXMgb25kb29yZHJpbmdiYWFyLCBtaXN0aWcgZW4gdm9jaHRpZywgaWV0cyB3YXQgZGUgUm9tZWluZW4gbmlldCBnZXdlbmQgd2FyZW4gYWFuZ2V6aWVuIHppaiBhbHRpamQgb3Agdmxha2tlIGVuIG9wZW4gc2xhZ3ZlbGRlbiBzdHJlZGVuLiBEb29yIGhldCBnZWJyZWsgYWFuIG92ZXJ6aWNodCBlbiBkZSB3aWxsZWtldXIgdmFuIGRlIEdlcm1hbmVuIGhhZGRlbiBkZSBSb21laW5lbiB2YW5hZiBoZXQgYmVnaW4gZWVuIG5hZGVlbC4gWmUga29uZGVuIG5hbWVsaWprIGh1biBnZWJydWlrZWxpamtlIHRhY3RpZWtlbiBuaWV0IHVpdHZvZXJlbiBkb29yIGhldCBnZWJyZWsgYWFuIG9yZ2FuaXNhdGllIGVuIHJ1aW10ZS4gVG9lbiBuYSBlZW4gcGFhciBkYWdlbiBkZSBSb21laW5zZSBvbmRlcmdhbmcgb25hZndlbmRiYWFyIGxlZWssIHBsZWVnZGUgVmFydXMgemVsZm1vb3JkLiBIaWVybWVlIHdhcyBoZXQgbG90IHZhbiB6aWpuIHRyb2VwZW4gb29rIGJlemVnZWxkIGFhbmdlemllbiB6ZSBnZWVuIGxlaWRlciBtZWVyIGhhZGRlbi4gVmFuIGRlIDE4XFx4QTAwMDAgbWFuc2NoYXBwZW4gc2xhYWdkZW4gc2xlY2h0cyBlbmtlbGVuIGVyaW4gYWFuIGRlIHZpamFuZCB0ZSBvbnRzbmFwcGVuIGVuIGRlIFJvbWVpbnNlIHdpbnRlcmthbXBlbiBhYW4gZGUgUmlqbiB0ZSBiZXJlaWtlbi5cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiZGl2XCIsIFwidGV1dG9idXJnZXJ3b3VkLWltZ1wiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwic3BhblwiLCBcInRldXRvYnVyZ2Vyd291ZC1pbWctdHh0XCIsIFwiVWl0emljaHQgdmFuIGhldCBUZXV0b2J1cmdlcndvdWQgZ2ViYXNlZXJkIG9wIHRla3N0ZW4gdmFuIGRlIGVlcnN0ZSBlZXV3IG4uQy5cIikpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlemUgc2xhZyBoYWQgdG90IGdldm9sZyBkYXQgZXIgZWVuIGVpbmRlIGt3YW0gYWFuIGRlIFJvbWVpbnNlIGV4cGFuc2llIGluIE5vb3JkLUV1cm9wYS4gT29rIGhhZCBrZWl6ZXIgQXVndXN0dXMgYmVzbG90ZW4gZGF0IHZhbmFmIHRvZW4gZGUgUmlqbiBkZSB2YXN0ZSBncmVucyB6b3Ugd29yZGVuIHZhbiBoZXQgSW1wZXJpdW0gUm9tYW51bS5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiSW4gZGV6ZSBzbGFnIGlzIGhlZWwgd2F0IG1pc2dlbG9wZW4sIHZvb3JhbCBvcCBoZXQgdmxhayB2YW4gbGVpZGVyc2NoYXAuIEdvZWQgbGVpZGVyc2NoYXAgdm9ybXQgZGUgYmFzaXMgdm9vciBlbGtlIHNsYWcgYWxzIGplIGthbnMgd2lsdCBtYWtlbiBvcCBkZSBvdmVyd2lubmluZy4gVmFydXMgd2FzIGluIGdlZW4gZW5rZWwgb3B6aWNodCBlZW4gZ29lZGUgbGVpZGVyIGluIGRlemUgc2xhZy4gSGlqIG5hbSBpcnJhdGlvbmVsZSBiZXNsaXNzaW5nZW4gZW4gZGFjaHQgbmlldCBuYSBvdmVyIGRlIGdldm9sZ2VuIGhpZXJ2YW4uIEhldCBiZWdvbiByZWVkcyBiaWogaGV0IG5pZXQgbmFnYWFuIHZhbiBkZSBpbmZvcm1hdGllIGRpZSBoaWogaGFkIHZlcmtyZWdlbi4gSGlqIHZlcnRyb3V3ZGUgYmxpbmQgb3AgZGUgdmVya3JlZ2VuIGluZm9ybWF0aWUgZW4gc3RpcHBlbGRlIG1ldGVlbiBlZW4gcm91dGUgdWl0LiBIaWogaGFkIGVpZ2VubGlqayBlZXJzdCBkZSBzaXR1YXRpZSBtb2V0ZW4gYmVraWprZW4gZW4gZXZlbnR1ZWVsIHJ1aXRlcnMgdm9vcm9wIG1vZXRlbiBzdHVyZW4gb20gbmEgdGUgZ2FhbiBvZiBlciB3ZWwgZGVnZWxpamsgZWVuIG9wc3RhbmQgd2FzLiBIaWVybWVlIGhhZCBoaWogaGV0IGNvbmZsaWN0IGt1bm5lbiB2ZXJtaWpkZW4gYWFuZ2V6aWVuIGRlIHJ1aXRlcnMgZGFuIGhhZGRlbiBnZXppZW4gZGF0IGVyIGdlZW4gb3BzdGFuZCB3YXMuIFppam4gdHdlZWRlIGdyb3RlIGZvdXQgd2FzIG9tIGhldCBsZWdlciB3aWpkIGdlc3ByZWlkIHRlIGxhdGVuIGxvcGVuIGluIGVlbiBnZWJpZWQgZGF0IGhpaiBuaWV0IGtlbmRlLiBIZXQgbGVnZXIgd2FzIG5hbWVsaWprIGFhbiBoZXQgbWFyY2hlcmVuIG1ldCBlZW4gYWZzdGFuZCB2YW4gMTUga2lsb21ldGVyIHR1c3NlbiBkZSBlZXJzdGUgZW4gZGUgbGFhdHN0ZSBzb2xkYXRlbi4gSGllcmRvb3Iga29uZGVuIGRlIEdlcm1hbmVuIG1ldCBodW4gZ3JvdGVyZSBhYW50YWxsZW4gZGUga2xlaW5lIGdyb2VwamVzIFJvbWVpbmVuIHpvbmRlciBlbmlnIHByb2JsZWVtIGFhbnZhbGxlbi4gSGFkIGhpaiB6aWpuIGxlZ2VyIGNvbXBhY3QgbGF0ZW4gbWFyY2hlcmVuLCBoYWRkZW4gZGUgUm9tZWluZW4gbm9nIGVlbiBoYWFsYmFyZSBrYW5zIGdlaGFkIG9wIGRlIG92ZXJ3aW5uaW5nIGluIGhldCBnZXZlY2h0IGFhbmdlemllbiBkZSBsYWF0c3RlIHRyb2VwZW4gZGFuIHNuZWwga29uZGVuIGJpanNwcmluZ2VuIG9tIGRlIGVlcnN0ZSB0ZSBoZWxwZW4uIFRpamRlbnMgaGV0IGdldmVjaHQgemVsZiBuYW0gaGlqIGFsbGVlbiBtYWFyIHNsZWNodGUgYmVzbGlzc2luZ2VuLiBIaWogaGFkIHdlbCB2ZWVsIHRlZ2Vuc2xhZyBtZXQgaGV0IHdlZXIgd2FhcmRvb3IgZGUgc2NodXR0ZXJzIGh1biBib2dlbiBuaWV0IGtvbmRlbiBnZWJydWlrZW4gZW4gZGUgaG91dGVuIHNjaGlsZGVuIHRlIHp3YWFyIHdlcmRlbiBvbSB0ZSBkcmFnZW4gZG9vciBoZXQgZ2V3aWNodCB2YW4gaGV0IHdhdGVyIGRhdCBpbiBoZXQgaG91dCB3YXMgb3BnZXNsb3JwdC4gSGlqIGdhZiBoZXQgb3JkZXIgb20gZG9vciB0ZSBtYXJjaGVyZW4gbmFhciBlZW4gb3BlbiBwbGVrLCBtYWFyIGFhbmdlemllbiBoaWogaGV0IGJvcyBuaWV0IGtlbmRlIHdpc3QgaGlqIG5pZXQgZGF0IGVyIGdlZW4gb3BlbiBwbGVra2VuIGluIGh1biBuYWJpamhlaWQgd2FyZW4uIERpdCB3YXMgZWVuIGZvdXQgb3JkZXIgYWFuZ2V6aWVuIGhpaiBkZSBvbWdldmluZyBuaWV0IGtlbmRlIGVuIGR1cyBvb2sgbmlldCB3aXN0IHdhYXIgZXIgemljaCBub2cgR2VybWFuZW4gYmV2b25kZW4uIEhpaiBoYWQgemlqbiBwb3NpdGllIG1vZXRlbiB2ZXJkZWRpZ2VuIG9tIHpvIGVlbiBiYXNpcyBwcm9iZXJlbiBvcCB0ZSByaWNodGVuIGFhbmdlemllbiBoZXQgbGVnZXIgaGV0IGt3ZXRzYmFhcnN0IGlzIHdhbm5lZXIgemUgemljaCBhYW4gaGV0IHZlcnBsYWF0c2VuIHppam4uIFZhcnVzIGdhZiBvb2sgZ2VlbiBzdGV1biBhYW4gemlqbiBtYW5zY2hhcHBlbiB3YWFyZG9vciBkZSBzdHJpamRsdXN0IHdlZyBnaW5nIGVuIHZlbGVuIGhldCBudXQgdmFuIGRlIHN0cmlqZCBuaWV0IG1lZXIgemFnZW4uIERlIExlZ2F0dXMsIE51bW9uaXVzIFZhbGEsIHZhbiBlZW4gdmFuIHppam4gZHJpZSBsZWdpb2VuZW4gd2FzIGVlbiB2YW4gZGllIHBlcnNvbmVuIGRpZSBoZXQgbGVpZGVyc2NoYXAgdmFuIFZhcnVzIGluIHR3aWpmZWwgdHJvayBlbiBkZSB2ZXJ6d2FrdGUgbW9yZWVsIGFhbnZvZWxkZS4gSGlqIHdhcyBkYW4gb29rIGRlZ2VuZSBkaWUgc2FtZW4gbWV0IGRlIHJ1aXRlcnMgdmx1Y2h0dGUgZW4gem8gZGUgdHJvZXBlbiBpbiBkZSBzdGVlayBsaWV0LiBNYWFyIHZlciBrd2FtIGhpaiBuaWV0IGFhbmdlemllbiBoaWogaW4gaGV0IGJvcyB6ZWxmIG5vZyB3ZXJkIGFmZ2VtYWFrdCBkb29yIGRlIHJ1aXRlcnMgdmFuIGRlIEdlcm1hbmVuLiBab25kZXIgZGUgc3RldW4gdmFuIGRlIHJ1aXRlcnMgd2FzIGhldCBsZWdlciB2ZXJ6d2FrdCBlbiBkdXMgZ3JlcGVuIGRlIEdlcm1hbmVuIGh1biBrYW5zLiBaZSBiZWdvbm5lbiBiaWpuYSBpZWRlcmVlbiBnZW5hZGVsb29zIGFmIHRlIHNsYWNodGVuLiBWYXJ1cyB6YWcgb3AgZGF0IG9nZW5ibGlrIGluIGRhdCBoaWogendhYXIgaGFkIGdlZmFhbGQgZW4gcGxlZWdkZSBkYWFyb20gemVsZm1vb3JkLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiVmVyZ2VsaWpraW5nXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkhldCBpcyB6ZWVyIG1vZWlsaWprIG9tIGhldCBodWlkaWdlIGxlZ2VyIHRlIHZlcmdlbGlqa2VuIG1ldCBoZXQgUm9tZWluc2UgbGVnZXIgYWFuZ2V6aWVuIGVyIHppY2ggZWVuIHplZXIgZ3JvdGUgb250d2lra2VsaW5nIGhlZWZ0IHBsYWF0c2dldm9uZGVuIG9wIGhldCBnZWJpZWQgdmFuIHdldGVuc2NoYXBwZW4gZW4gdGVjaG5vbG9naWUuIFZyb2VnZXIgc3RyZWVkIG1lbiBtZXQgZWVuIHp3YWFyZCBlbiBlZW4gc2NoaWxkIGVuIGhhZCBqZSBhbHMgc3RldW4gZW5rZWwgcnVpdGVycy4gTnUgd29yZHQgZXIgZ2VzdHJlZGVuIHZhbm9wIGVlbiB6ZWVyIGdyb3RlIGFmc3RhbmQgYWFuZ2V6aWVuIG1lbiBtYWNoaW5lZ2V3ZXJlbiwgcGlzdG9sZW4sIGxhbmdlYWZzdGFuZHNyYWtrZXR0ZW4sXFx1MjAyNiBnZWJydWlrdC4gRXIgemlqbiBudSBvb2sgdmVlbCBuaWV1d2Ugb25kZXJzdGV1bmluZ3Ntb2dlbGlqa2hlZGVuIHpvYWxzIHRhbmtzLCBzY2hlcGVuIGVuIHZsaWVndHVpZ2VuIHdhYXJkb29yIGVyIGVlbiBoZWxlYm9lbCBuaWV1d2UgdGFjdGlla2VuIG1vZ2VsaWprIHppam4uIERvb3IgYWwgZGV6ZSB2ZXJhbmRlcmluZ2VuIGhlZWZ0IG1lbiBkZSB0YWN0aWVrZW4gZGllIG1lbiBnZWJydWlrdCBvb2sgbW9ldGVuIHZlcmFuZGVyZW4uIFZyb2VnZXIga29uIG1lbiBpbiBlZW4gbWFuIG9wIG1hbiBnZXZlY2h0IHRhY3RpZWtlbiBnZWJydWlrZW4gZGllIHplZXIgZWZmZWN0aWVmIHdhcmVuIG9wIGtvcnRlIGFmc3RhbmQgZW4gZWVuIGtsZWluIHNsYWd2ZWxkLiBBbHMgbWVuIGRlemUgdGVnZW53b29yZGlnIHpvdSB1aXR2b2VyZW4sIHpvdWRlbiBkZSBzb2xkYXRlbiB0ZXIgcGxhYXRzZSB3b3JkZW4gYWZnZW1hYWt0LiBEZSBob2V2ZWVsaGVpZCBzb2xkYXRlbiBkaWUgZGFhZHdlcmtlbGlqayB2ZWNodGVuIGlzIG9vayBzdGVyayBhZmdlbm9tZW4gaW4gdmVyZ2VsaWpraW5nIG1ldCBoZXQgUm9tZWluc2UgbGVnZXIuIFZyb2VnZXIgc3RyZWVkIG1lbiBtZXQgbGVnZXJzIHZhbiB6ZWVyIGdyb3RlIGFhbnRhbGxlbi4gRGV6ZSBhYW50YWxsZW4ga3VubmVuIHdlIG9ucyB0ZWdlbndvb3JkaWcgbmlldCBtZWVyIHZvb3JzdGVsbGVuLiBFciBnZWJldXJ0IG51IHZlZWwgbWVlciBhY2h0ZXIgZGUgc2NoZXJtZW4gb20gZGUgc29sZGF0ZW4gZGllIG1vZXRlbiB2ZWNodGVuIHRlIGhlbHBlbi4gWm8gd29yZHQgZXIgdmlhIHNhdGVsbGlldGVuIG9mIGRyb25lcyBpbmZvcm1hdGllIHZlcnphbWVsZCBvdmVyIGRlIG9tZ2V2aW5nIHdhYXJpbiBkZSBzb2xkYXRlbiB6aWNoIGJldmluZGVuIGVuIGV2ZW50dWVlbCB3YWFyIGh1biB2aWphbmRlbiBzY2h1aWxlbi4gRWVuIHNvbGRhYXQgaGVlZnQgbnUgb29rIGRlIG1vZ2VsaWpraGVpZCBvbSwgbWl0cyBkZSBnb2Vka2V1cmluZyB2YW4gemlqbiBhYW52b2VyZGVyLCBlZW4gbHVjaHRhYW52YWwgaW4gdGUgcm9lcGVuLiBEZSBodWlkaWdlIHRhY3RpZWtlbiBkcmFhaWVuIG9vayBuaWV0IG1lZXIgYWxsZWVuIG1hYXIgcm9uZCBoZXQgbWlsaXRhaXJlIGFzcGVjdCwgbWFhciBvb2sgcm9uZCBvbmRlciBhbmRlcmUgaGV0IGVjb25vbWlzY2hlLiBBbHMgbWVuIHppam4gdmlqYW5kIGVjb25vbWlzY2gga2FuIHZlcnp3YWtrZW4gemFsIGRlemUgb29rIG1pbmRlciB3ZWVyYmFhciB6aWpuLlwiKV0pO1xufTtcblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG4vKioqLyB9KSxcbi8qIDI5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9pbnZhcmlhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9Mb2NhdGlvblV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cbnZhciBfUGF0aFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcik7XG5cbnZhciBfRE9NVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFBvcFN0YXRlRXZlbnQgPSAncG9wc3RhdGUnO1xudmFyIEhhc2hDaGFuZ2VFdmVudCA9ICdoYXNoY2hhbmdlJztcblxudmFyIGdldEhpc3RvcnlTdGF0ZSA9IGZ1bmN0aW9uIGdldEhpc3RvcnlTdGF0ZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwge307XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJRSAxMSBzb21ldGltZXMgdGhyb3dzIHdoZW4gYWNjZXNzaW5nIHdpbmRvdy5oaXN0b3J5LnN0YXRlXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdFRyYWluaW5nL2hpc3RvcnkvcHVsbC8yODlcbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgdXNlcyB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaW5jbHVkaW5nXG4gKiBwdXNoU3RhdGUsIHJlcGxhY2VTdGF0ZSwgYW5kIHRoZSBwb3BzdGF0ZSBldmVudC5cbiAqL1xudmFyIGNyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3RvcnkoKSB7XG4gIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKF9ET01VdGlscy5jYW5Vc2VET00sICdCcm93c2VyIGhpc3RvcnkgbmVlZHMgYSBET00nKTtcblxuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICB2YXIgY2FuVXNlSGlzdG9yeSA9ICgwLCBfRE9NVXRpbHMuc3VwcG9ydHNIaXN0b3J5KSgpO1xuICB2YXIgbmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIgPSAhKDAsIF9ET01VdGlscy5zdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKSgpO1xuXG4gIHZhciBfcHJvcHMkZm9yY2VSZWZyZXNoID0gcHJvcHMuZm9yY2VSZWZyZXNoLFxuICAgICAgZm9yY2VSZWZyZXNoID0gX3Byb3BzJGZvcmNlUmVmcmVzaCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcHJvcHMkZm9yY2VSZWZyZXNoLFxuICAgICAgX3Byb3BzJGdldFVzZXJDb25maXJtID0gcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHVuZGVmaW5lZCA/IF9ET01VdGlscy5nZXRDb25maXJtYXRpb24gOiBfcHJvcHMkZ2V0VXNlckNvbmZpcm0sXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdW5kZWZpbmVkID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG5cbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyAoMCwgX1BhdGhVdGlscy5zdHJpcFRyYWlsaW5nU2xhc2gpKCgwLCBfUGF0aFV0aWxzLmFkZExlYWRpbmdTbGFzaCkocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuXG4gIHZhciBnZXRET01Mb2NhdGlvbiA9IGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKGhpc3RvcnlTdGF0ZSkge1xuICAgIHZhciBfcmVmID0gaGlzdG9yeVN0YXRlIHx8IHt9LFxuICAgICAgICBrZXkgPSBfcmVmLmtleSxcbiAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXG4gICAgdmFyIF93aW5kb3ckbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG4gICAgICAgIHBhdGhuYW1lID0gX3dpbmRvdyRsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgc2VhcmNoID0gX3dpbmRvdyRsb2NhdGlvbi5zZWFyY2gsXG4gICAgICAgIGhhc2ggPSBfd2luZG93JGxvY2F0aW9uLmhhc2g7XG5cblxuICAgIHZhciBwYXRoID0gcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuXG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gKDAsIF9QYXRoVXRpbHMuc3RyaXBQcmVmaXgpKHBhdGgsIGJhc2VuYW1lKTtcblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgKDAsIF9QYXRoVXRpbHMucGFyc2VQYXRoKShwYXRoKSwge1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAga2V5OiBrZXlcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlS2V5ID0gZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSAoMCwgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMi5kZWZhdWx0KSgpO1xuXG4gIHZhciBzZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlUG9wU3RhdGUgPSBmdW5jdGlvbiBoYW5kbGVQb3BTdGF0ZShldmVudCkge1xuICAgIC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG4gICAgaWYgKCgwLCBfRE9NVXRpbHMuaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCkoZXZlbnQpKSByZXR1cm47XG5cbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlSGFzaENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKSk7XG4gIH07XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuXG4gIHZhciBoYW5kbGVQb3AgPSBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcblxuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmV2ZXJ0UG9wID0gZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcblxuICAgIC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2Yga2V5cyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBrZXlzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbEtleXMuaW5kZXhPZih0b0xvY2F0aW9uLmtleSk7XG5cbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuXG4gICAgdmFyIGZyb21JbmRleCA9IGFsbEtleXMuaW5kZXhPZihmcm9tTG9jYXRpb24ua2V5KTtcblxuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuXG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcblxuICAgIGlmIChkZWx0YSkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcbiAgICAgIGdvKGRlbHRhKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKTtcbiAgdmFyIGFsbEtleXMgPSBbaW5pdGlhbExvY2F0aW9uLmtleV07XG5cbiAgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBiYXNlbmFtZSArICgwLCBfUGF0aFV0aWxzLmNyZWF0ZVBhdGgpKGxvY2F0aW9uKTtcbiAgfTtcblxuICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9ICgwLCBfTG9jYXRpb25VdGlscy5jcmVhdGVMb2NhdGlvbikocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoeyBrZXk6IGtleSwgc3RhdGU6IHN0YXRlIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgdmFyIG5leHRLZXlzID0gYWxsS2V5cy5zbGljZSgwLCBwcmV2SW5kZXggPT09IC0xID8gMCA6IHByZXZJbmRleCArIDEpO1xuXG4gICAgICAgICAgbmV4dEtleXMucHVzaChsb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGFsbEtleXMgPSBuZXh0S2V5cztcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9ICgwLCBfTG9jYXRpb25VdGlscy5jcmVhdGVMb2NhdGlvbikocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoeyBrZXk6IGtleSwgc3RhdGU6IHN0YXRlIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcblxuICAgICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxLZXlzW3ByZXZJbmRleF0gPSBsb2NhdGlvbi5rZXk7XG5cbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKTtcblxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ28gPSBmdW5jdGlvbiBnbyhuKSB7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfTtcblxuICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIHJldHVybiBnbygtMSk7XG4gIH07XG5cbiAgdmFyIGdvRm9yd2FyZCA9IGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICByZXR1cm4gZ28oMSk7XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwO1xuXG4gIHZhciBjaGVja0RPTUxpc3RlbmVycyA9IGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XG4gICAgbGlzdGVuZXJDb3VudCArPSBkZWx0YTtcblxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxKSB7XG4gICAgICAoMCwgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIpKHdpbmRvdywgUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpICgwLCBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcikod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAobGlzdGVuZXJDb3VudCA9PT0gMCkge1xuICAgICAgKDAsIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKSh3aW5kb3csIFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcblxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSAoMCwgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIpKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIHZhciBibG9jayA9IGZ1bmN0aW9uIGJsb2NrKCkge1xuICAgIHZhciBwcm9tcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5O1xuXG4vKioqLyB9KSxcbi8qIDMwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MikuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9pbmZlcm5vMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZmVybm8pO1xuXG52YXIgX2luZmVybm9Sb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblxudmFyIF9jcmVhdGVCcm93c2VySGlzdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXG52YXIgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUJyb3dzZXJIaXN0b3J5KTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cbnZhciBfaW5sZWlkaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbnZhciBfb25kZXJ2ZXJkZWxpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxudmFyIF9iZXdhcGVuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cbnZhciBfdmVsZHNsYWdlbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXG52YXIgX2Jlc2x1aXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblxudmFyIF9icm9ubmVuID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBicm93c2VySGlzdG9yeSA9ICgwLCBfY3JlYXRlQnJvd3Nlckhpc3RvcnkyLmRlZmF1bHQpKCk7XG5cbmZ1bmN0aW9uIEFwcChfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG5cbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2RpdicsICdwYWdlJywgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2hlYWRlcicsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdoMScsIG51bGwsICdIZXQgUm9tZWluc2UgTGVnZXInKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbmF2JywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAndWwnLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbGknLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5MaW5rLCBudWxsLCBudWxsLCB7XG4gICAgJ3RvJzogJy9vY2xhdCcsXG4gICAgJ2FjdGl2ZUNsYXNzTmFtZSc6ICdsaW5rQWN0aXZlQ2xhc3MnLFxuICAgIGNoaWxkcmVuOiAnSW5sZWlkaW5nJ1xuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2xpJywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuTGluaywgbnVsbCwgbnVsbCwge1xuICAgICd0byc6ICcvb2NsYXQvb25kZXJ2ZXJkZWxpbmcnLFxuICAgICdhY3RpdmVDbGFzc05hbWUnOiAnbGlua0FjdGl2ZUNsYXNzJyxcbiAgICBjaGlsZHJlbjogJ29uZGVydmVyZGVsaW5nJ1xuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2xpJywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuTGluaywgbnVsbCwgbnVsbCwge1xuICAgICd0byc6ICcvb2NsYXQvYmV3YXBlbmluZycsXG4gICAgJ2FjdGl2ZUNsYXNzTmFtZSc6ICdsaW5rQWN0aXZlQ2xhc3MnLFxuICAgIGNoaWxkcmVuOiAnYmV3YXBlbmluZydcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdsaScsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLkxpbmssIG51bGwsIG51bGwsIHtcbiAgICAndG8nOiAnL29jbGF0L3ZlbGRzbGFnZW4nLFxuICAgICdhY3RpdmVDbGFzc05hbWUnOiAnbGlua0FjdGl2ZUNsYXNzJyxcbiAgICBjaGlsZHJlbjogJ3ZlbGRzbGFnZW4nXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbGknLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5MaW5rLCBudWxsLCBudWxsLCB7XG4gICAgJ3RvJzogJy9vY2xhdC9iZXNsdWl0JyxcbiAgICAnYWN0aXZlQ2xhc3NOYW1lJzogJ2xpbmtBY3RpdmVDbGFzcycsXG4gICAgY2hpbGRyZW46ICdiZXNsdWl0J1xuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2xpJywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuTGluaywgbnVsbCwgbnVsbCwge1xuICAgICd0byc6ICcvb2NsYXQvYnJvbm5lbicsXG4gICAgJ2FjdGl2ZUNsYXNzTmFtZSc6ICdsaW5rQWN0aXZlQ2xhc3MnLFxuICAgIGNoaWxkcmVuOiAnYnJvbm5lbidcbiAgfSkpXSkpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ3NlY3Rpb24nLCAnY29udGVudCcsIGNoaWxkcmVuKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnZm9vdGVyJywgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ3NwYW4nLCBudWxsLCAnbWVpIDIwMTcnKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnc3BhbicsIG51bGwsICdLb3NoIDZMV2liJyksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ3NwYW4nLCBudWxsLCAnQXF1aWxhIFppZWRpbnMgKDYpLCBUb2JpYXMgQWxleGFuZGVyICgxKScpXSldKTtcbn1cblxuZnVuY3Rpb24gTm9NYXRjaChfcmVmMikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmMi5jaGlsZHJlbjtcblxuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnZGl2JywgbnVsbCwgJ0hpZXIgYmVudCB1IHVpdCBoZXQgUm9tZWluc2UgcmlqaycpO1xufVxuXG52YXIgcm91dGVzID0gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuUm91dGVyLCBudWxsLCBudWxsLCB7XG4gICdoaXN0b3J5JzogYnJvd3Nlckhpc3RvcnksXG4gIGNoaWxkcmVuOiAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICdwYXRoJzogJy9vY2xhdCcsXG4gICAgJ2NvbXBvbmVudCc6IEFwcCxcbiAgICBjaGlsZHJlbjogWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLkluZGV4Um91dGUsIG51bGwsIG51bGwsIHtcbiAgICAgICdjb21wb25lbnQnOiBfaW5sZWlkaW5nLklubGVpZGluZ1xuICAgIH0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ3BhdGgnOiAnL29jbGF0L2lubGVpZGluZycsXG4gICAgICAnY29tcG9uZW50JzogX2lubGVpZGluZy5JbmxlaWRpbmdcbiAgICB9KSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuUm91dGUsIG51bGwsIG51bGwsIHtcbiAgICAgICdwYXRoJzogJy9vY2xhdC9vbmRlcnZlcmRlbGluZycsXG4gICAgICAnY29tcG9uZW50JzogX29uZGVydmVyZGVsaW5nLk9uZGVydmVyZGVsaW5nXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICcvb2NsYXQvYmV3YXBlbmluZycsXG4gICAgICAnY29tcG9uZW50JzogX2Jld2FwZW5pbmcuQmV3YXBlbmluZ1xuICAgIH0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ3BhdGgnOiAnL29jbGF0L3ZlbGRzbGFnZW4nLFxuICAgICAgJ2NvbXBvbmVudCc6IF92ZWxkc2xhZ2VuLlZlbGRzbGFnZW5cbiAgICB9KSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuUm91dGUsIG51bGwsIG51bGwsIHtcbiAgICAgICdwYXRoJzogJy9vY2xhdC9iZXNsdWl0JyxcbiAgICAgICdjb21wb25lbnQnOiBfYmVzbHVpdC5CZXNsdWl0XG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICcvb2NsYXQvYnJvbm5lbicsXG4gICAgICAnY29tcG9uZW50JzogX2Jyb25uZW4uQnJvbm5lblxuICAgIH0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ3BhdGgnOiAnKicsXG4gICAgICAnY29tcG9uZW50JzogTm9NYXRjaFxuICAgIH0pXVxuICB9KVxufSk7XG5cbl9pbmZlcm5vMi5kZWZhdWx0LnJlbmRlcihyb3V0ZXMsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKSk7XG5cbi8qKiovIH0pLFxuLyogMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBjYW5Vc2VET00gPSBleHBvcnRzLmNhblVzZURPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbnZhciBhZGRFdmVudExpc3RlbmVyID0gZXhwb3J0cy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIG5vZGUuYWRkRXZlbnRMaXN0ZW5lciA/IG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKSA6IG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG59O1xuXG52YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGV4cG9ydHMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxudmFyIGdldENvbmZpcm1hdGlvbiA9IGV4cG9ydHMuZ2V0Q29uZmlybWF0aW9uID0gZnVuY3Rpb24gZ2V0Q29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBjYWxsYmFjayh3aW5kb3cuY29uZmlybShtZXNzYWdlKSk7XG59OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWFsZXJ0XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXG4gKiBjaGFuZ2VkIHRvIGF2b2lkIGZhbHNlIG5lZ2F0aXZlcyBmb3IgV2luZG93cyBQaG9uZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cbnZhciBzdXBwb3J0c0hpc3RvcnkgPSBleHBvcnRzLnN1cHBvcnRzSGlzdG9yeSA9IGZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5ICYmICdwdXNoU3RhdGUnIGluIHdpbmRvdy5oaXN0b3J5O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYnJvd3NlciBmaXJlcyBwb3BzdGF0ZSBvbiBoYXNoIGNoYW5nZS5cbiAqIElFMTAgYW5kIElFMTEgZG8gbm90LlxuICovXG52YXIgc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSA9IGV4cG9ydHMuc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSA9IGZ1bmN0aW9uIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UoKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdUcmlkZW50JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cbnZhciBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IGV4cG9ydHMuc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBmdW5jdGlvbiBzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCgpIHtcbiAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSA9PT0gLTE7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIGdpdmVuIHBvcHN0YXRlIGV2ZW50IGlzIGFuIGV4dHJhbmVvdXMgV2ViS2l0IGV2ZW50LlxuICogQWNjb3VudHMgZm9yIHRoZSBmYWN0IHRoYXQgQ2hyb21lIG9uIGlPUyBmaXJlcyByZWFsIHBvcHN0YXRlIGV2ZW50c1xuICogY29udGFpbmluZyB1bmRlZmluZWQgc3RhdGUgd2hlbiBwcmVzc2luZyB0aGUgYmFjayBidXR0b24uXG4gKi9cbnZhciBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZXhwb3J0cy5pc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50ID0gZnVuY3Rpb24gaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudChldmVudCkge1xuICByZXR1cm4gZXZlbnQuc3RhdGUgPT09IHVuZGVmaW5lZCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0NyaU9TJykgPT09IC0xO1xufTtcblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVzb2x2ZVBhdGhuYW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cbnZhciBfcmVzb2x2ZVBhdGhuYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jlc29sdmVQYXRobmFtZSk7XG5cbnZhciBfdmFsdWVFcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXG52YXIgX3ZhbHVlRXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFsdWVFcXVhbCk7XG5cbnZhciBfUGF0aFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjcmVhdGVMb2NhdGlvbiA9IGV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gKDAsIF9QYXRoVXRpbHMucGFyc2VQYXRoKShwYXRoKTtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9IGVsc2Uge1xuICAgIC8vIE9uZS1hcmcgZm9ybTogcHVzaChsb2NhdGlvbilcbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBwYXRoKTtcblxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5wYXRobmFtZSA9ICcnO1xuXG4gICAgaWYgKGxvY2F0aW9uLnNlYXJjaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5jaGFyQXQoMCkgIT09ICc/JykgbG9jYXRpb24uc2VhcmNoID0gJz8nICsgbG9jYXRpb24uc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5zZWFyY2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLmhhc2guY2hhckF0KDApICE9PSAnIycpIGxvY2F0aW9uLmhhc2ggPSAnIycgKyBsb2NhdGlvbi5oYXNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlICE9PSB1bmRlZmluZWQgJiYgbG9jYXRpb24uc3RhdGUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIGxvY2F0aW9uLmtleSA9IGtleTtcblxuICBpZiAoY3VycmVudExvY2F0aW9uKSB7XG4gICAgLy8gUmVzb2x2ZSBpbmNvbXBsZXRlL3JlbGF0aXZlIHBhdGhuYW1lIHJlbGF0aXZlIHRvIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWU7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAoMCwgX3Jlc29sdmVQYXRobmFtZTIuZGVmYXVsdCkobG9jYXRpb24ucGF0aG5hbWUsIGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxudmFyIGxvY2F0aW9uc0FyZUVxdWFsID0gZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiAoMCwgX3ZhbHVlRXF1YWwyLmRlZmF1bHQpKGEuc3RhdGUsIGIuc3RhdGUpO1xufTtcblxuLyoqKi8gfSksXG4vKiAzNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSBmdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpIHtcbiAgdmFyIHByb21wdCA9IG51bGw7XG5cbiAgdmFyIHNldFByb21wdCA9IGZ1bmN0aW9uIHNldFByb21wdChuZXh0UHJvbXB0KSB7XG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShwcm9tcHQgPT0gbnVsbCwgJ0EgaGlzdG9yeSBzdXBwb3J0cyBvbmx5IG9uZSBwcm9tcHQgYXQgYSB0aW1lJyk7XG5cbiAgICBwcm9tcHQgPSBuZXh0UHJvbXB0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9tcHQgPT09IG5leHRQcm9tcHQpIHByb21wdCA9IG51bGw7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY29uZmlybVRyYW5zaXRpb25UbyA9IGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiBJZiBhbm90aGVyIHRyYW5zaXRpb24gc3RhcnRzIHdoaWxlIHdlJ3JlIHN0aWxsIGNvbmZpcm1pbmdcbiAgICAvLyB0aGUgcHJldmlvdXMgb25lLCB3ZSBtYXkgZW5kIHVwIGluIGEgd2VpcmQgc3RhdGUuIEZpZ3VyZSBvdXQgdGhlXG4gICAgLy8gYmVzdCB3YXkgdG8gaGFuZGxlIHRoaXMuXG4gICAgaWYgKHByb21wdCAhPSBudWxsKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHlwZW9mIHByb21wdCA9PT0gJ2Z1bmN0aW9uJyA/IHByb21wdChsb2NhdGlvbiwgYWN0aW9uKSA6IHByb21wdDtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2V0VXNlckNvbmZpcm1hdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGdldFVzZXJDb25maXJtYXRpb24ocmVzdWx0LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0EgaGlzdG9yeSBuZWVkcyBhIGdldFVzZXJDb25maXJtYXRpb24gZnVuY3Rpb24gaW4gb3JkZXIgdG8gdXNlIGEgcHJvbXB0IG1lc3NhZ2UnKTtcblxuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgZnJvbSBhIHRyYW5zaXRpb24gaG9vayB0byBjYW5jZWwgdGhlIHRyYW5zaXRpb24uXG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCAhPT0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIHZhciBhcHBlbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFwcGVuZExpc3RlbmVyKGZuKSB7XG4gICAgdmFyIGlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgaWYgKGlzQWN0aXZlKSBmbi5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBub3RpZnlMaXN0ZW5lcnMgPSBmdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gbGlzdGVuZXIuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHNldFByb21wdDogc2V0UHJvbXB0LFxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG86IGNvbmZpcm1UcmFuc2l0aW9uVG8sXG4gICAgYXBwZW5kTGlzdGVuZXI6IGFwcGVuZExpc3RlbmVyLFxuICAgIG5vdGlmeUxpc3RlbmVyczogbm90aWZ5TGlzdGVuZXJzXG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjtcblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vIE1ha2Ugc3VyZSB1IHVzZSBFTVBUWV9PQkogZnJvbSAnaW5mZXJubycsIG90aGVyd2lzZSBpdCdsbCBiZSBhIGRpZmZlcmVudCByZWZlcmVuY2VcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIG5vT3AgPSBpbmZlcm5vX3NoYXJlZF8xLkVSUk9SX01TRztcclxuaWYgKGZhbHNlKSB7XHJcbiAgICBub09wID0gJ0luZmVybm8gRXJyb3I6IENhbiBvbmx5IHVwZGF0ZSBhIG1vdW50ZWQgb3IgbW91bnRpbmcgY29tcG9uZW50LiBUaGlzIHVzdWFsbHkgbWVhbnMgeW91IGNhbGxlZCBzZXRTdGF0ZSgpIG9yIGZvcmNlVXBkYXRlKCkgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4gVGhpcyBpcyBhIG5vLW9wLic7XHJcbn1cclxudmFyIGNvbXBvbmVudENhbGxiYWNrUXVldWUgPSBuZXcgTWFwKCk7XHJcbi8vIHdoZW4gYSBjb21wb25lbnRzIHJvb3QgVk5vZGUgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgY2FuIHJ1biBpbnRvIGlzc3Vlc1xyXG4vLyB0aGlzIHdpbGwgcmVjdXJzaXZlbHkgbG9vayBmb3Igdk5vZGUucGFyZW50Tm9kZSBpZiB0aGUgVk5vZGUgaXMgYSBjb21wb25lbnRcclxuZnVuY3Rpb24gdXBkYXRlUGFyZW50Q29tcG9uZW50Vk5vZGVzKHZOb2RlLCBkb20pIHtcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHZhciBwYXJlbnRWTm9kZSA9IHZOb2RlLnBhcmVudFZOb2RlO1xyXG4gICAgICAgIGlmIChwYXJlbnRWTm9kZSkge1xyXG4gICAgICAgICAgICBwYXJlbnRWTm9kZS5kb20gPSBkb207XHJcbiAgICAgICAgICAgIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2RlcyhwYXJlbnRWTm9kZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxudmFyIHJlc29sdmVkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5mdW5jdGlvbiBhZGRUb1F1ZXVlKGNvbXBvbmVudCwgZm9yY2UsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgcXVldWUgPSBjb21wb25lbnRDYWxsYmFja1F1ZXVlLmdldChjb21wb25lbnQpO1xyXG4gICAgaWYgKHF1ZXVlID09PSB2b2lkIDApIHtcclxuICAgICAgICBxdWV1ZSA9IFtdO1xyXG4gICAgICAgIGNvbXBvbmVudENhbGxiYWNrUXVldWUuc2V0KGNvbXBvbmVudCwgcXVldWUpO1xyXG4gICAgICAgIHJlc29sdmVkUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50Q2FsbGJhY2tRdWV1ZS5kZWxldGUoY29tcG9uZW50KTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmb3JjZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHF1ZXVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVldWVbaV0uY2FsbChjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2FsbGJhY2spKSB7XHJcbiAgICAgICAgcXVldWUucHVzaChjYWxsYmFjayk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcXVldWVTdGF0ZUNoYW5nZXMoY29tcG9uZW50LCBuZXdTdGF0ZSwgY2FsbGJhY2spIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24obmV3U3RhdGUpKSB7XHJcbiAgICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZShjb21wb25lbnQuc3RhdGUsIGNvbXBvbmVudC5wcm9wcywgY29tcG9uZW50LmNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgdmFyIHBlbmRpbmcgPSBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZTtcclxuICAgIGlmIChwZW5kaW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBwZW5kaW5nID0gbmV3U3RhdGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmb3IgKHZhciBzdGF0ZUtleSBpbiBuZXdTdGF0ZSkge1xyXG4gICAgICAgICAgICBwZW5kaW5nW3N0YXRlS2V5XSA9IG5ld1N0YXRlW3N0YXRlS2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgJiYgIWNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlICYmICFjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgaWYgKCFjb21wb25lbnQuX3VwZGF0aW5nKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmYWxzZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhZGRUb1F1ZXVlKGNvbXBvbmVudCwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgc3RhdGUgPSBjb21wb25lbnQuc3RhdGU7XHJcbiAgICAgICAgaWYgKHN0YXRlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IHBlbmRpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgc3RhdGVba2V5XSA9IHBlbmRpbmdba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2FsbGJhY2spICYmIGNvbXBvbmVudC5fYmxvY2tSZW5kZXIpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll9saWZlY3ljbGUuYWRkTGlzdGVuZXIoY2FsbGJhY2suYmluZChjb21wb25lbnQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlTdGF0ZShjb21wb25lbnQsIGZvcmNlLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKGNvbXBvbmVudC5fdW5tb3VudGVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKGZvcmNlIHx8ICFjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgcGVuZGluZ1N0YXRlID0gY29tcG9uZW50Ll9wZW5kaW5nU3RhdGU7XHJcbiAgICAgICAgdmFyIHByZXZTdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZTtcclxuICAgICAgICB2YXIgbmV4dFN0YXRlID0gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShwcmV2U3RhdGUsIHBlbmRpbmdTdGF0ZSk7XHJcbiAgICAgICAgdmFyIHByb3BzID0gY29tcG9uZW50LnByb3BzO1xyXG4gICAgICAgIHZhciBjb250ZXh0XzEgPSBjb21wb25lbnQuY29udGV4dDtcclxuICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIG5leHRJbnB1dCA9IGNvbXBvbmVudC5fdXBkYXRlQ29tcG9uZW50KHByZXZTdGF0ZSwgbmV4dFN0YXRlLCBwcm9wcywgcHJvcHMsIGNvbnRleHRfMSwgZm9yY2UsIHRydWUpO1xyXG4gICAgICAgIHZhciBkaWRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIG5leHRJbnB1dCA9IGluZmVybm9fMS5jcmVhdGVWTm9kZSg0MDk2IC8qIFZvaWQgKi8sIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuZXh0SW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICAgICAgbmV4dElucHV0ID0gY29tcG9uZW50Ll9sYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgIGRpZFVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBuZXh0SW5wdXQgPSBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoMSAvKiBUZXh0ICovLCBudWxsLCBudWxsLCBuZXh0SW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsYXN0SW5wdXQgPSBjb21wb25lbnQuX2xhc3RJbnB1dDtcclxuICAgICAgICB2YXIgdk5vZGUgPSBjb21wb25lbnQuX3ZOb2RlO1xyXG4gICAgICAgIHZhciBwYXJlbnREb20gPSAobGFzdElucHV0LmRvbSAmJiBsYXN0SW5wdXQuZG9tLnBhcmVudE5vZGUpIHx8IChsYXN0SW5wdXQuZG9tID0gdk5vZGUuZG9tKTtcclxuICAgICAgICBjb21wb25lbnQuX2xhc3RJbnB1dCA9IG5leHRJbnB1dDtcclxuICAgICAgICBpZiAoZGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZENvbnRleHQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50LmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50Ll9jaGlsZENvbnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKGNvbnRleHRfMSwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGlmZUN5Y2xlID0gY29tcG9uZW50Ll9saWZlY3ljbGU7XHJcbiAgICAgICAgICAgIGluZmVybm9fMS5pbnRlcm5hbF9wYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlQ3ljbGUsIGNoaWxkQ29udGV4dCwgY29tcG9uZW50Ll9pc1NWRywgZmFsc2UpO1xyXG4gICAgICAgICAgICBsaWZlQ3ljbGUudHJpZ2dlcigpO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJvcHMsIHByZXZTdGF0ZSwgY29udGV4dF8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGluZmVybm9fMS5vcHRpb25zLmFmdGVyVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUodk5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkb20gPSB2Tm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgaW5mZXJub18xLmludGVybmFsX0RPTU5vZGVNYXAuc2V0KGNvbXBvbmVudCwgbmV4dElucHV0LmRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2Rlcyh2Tm9kZSwgZG9tKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwoY29tcG9uZW50KTtcclxuICAgIH1cclxufVxyXG52YXIgYWxyZWFkeVdhcm5lZCA9IGZhbHNlO1xyXG52YXIgQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fYmxvY2tTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9sYXN0SW5wdXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3ZOb2RlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl91bm1vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9saWZlY3ljbGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2NoaWxkQ29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5faXNTVkcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzIHx8IGluZmVybm9fMS5FTVBUWV9PQko7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCBpbmZlcm5vXzEuRU1QVFlfT0JKOyAvLyBjb250ZXh0IHNob3VsZCBub3QgYmUgbXV0YWJsZVxyXG4gICAgfVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl91bm1vdW50ZWQgfHwgIWluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwbHlTdGF0ZSh0aGlzLCB0cnVlLCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChuZXdTdGF0ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ibG9ja1NldFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlU3RhdGVDaGFuZ2VzKHRoaXMsIG5ld1N0YXRlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignY2Fubm90IHVwZGF0ZSBzdGF0ZSB2aWEgc2V0U3RhdGUoKSBpbiBjb21wb25lbnRXaWxsVXBkYXRlKCkgb3IgY29uc3RydWN0b3IuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGVTeW5jID0gZnVuY3Rpb24gKG5ld1N0YXRlKSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICghYWxyZWFkeVdhcm5lZCkge1xyXG4gICAgICAgICAgICAgICAgYWxyZWFkeVdhcm5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0luZmVybm8gV0FSTklORzogc2V0U3RhdGVTeW5jIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBuZXh0IHJlbGVhc2UuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuX3VwZGF0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcHJldlByb3BzLCBuZXh0UHJvcHMsIGNvbnRleHQsIGZvcmNlLCBmcm9tU2V0U3RhdGUpIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5tb3VudGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKG5vT3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikgfHwgcHJldlN0YXRlICE9PSBuZXh0U3RhdGUgfHwgZm9yY2UpIHtcclxuICAgICAgICAgICAgaWYgKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgJiYgIWZyb21TZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1JlbmRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20obmV4dFN0YXRlLCB0aGlzLl9wZW5kaW5nU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogVXBkYXRlIGlmIHNjdSBpcyBub3QgZGVmaW5lZCwgb3IgaXQgcmV0dXJucyB0cnV0aHkgdmFsdWUgb3IgZm9yY2UgKi9cclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQodGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUpIHx8IHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBjb250ZXh0KSB8fCBmb3JjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyID0gdGhpcy5yZW5kZXIobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fMS5vcHRpb25zLmFmdGVyUmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZlcm5vX3NoYXJlZF8xLk5PX09QO1xyXG4gICAgfTtcclxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KSB7IH07XHJcbiAgICByZXR1cm4gQ29tcG9uZW50O1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBDb21wb25lbnQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDM2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIGNvbXBvbmVudEhvb2tzID0gbmV3IFNldCgpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50V2lsbE1vdW50Jyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnREaWRNb3VudCcpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50V2lsbFVubW91bnQnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudFNob3VsZFVwZGF0ZScpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50V2lsbFVwZGF0ZScpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50RGlkVXBkYXRlJyk7XHJcbi8qKlxyXG4gKiBDcmVhdGVzIHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0ge3N0cmluZ3xGdW5jdGlvbnxDb21wb25lbnQ8YW55LCBhbnk+fSB0eXBlIFR5cGUgb2Ygbm9kZVxyXG4gKiBAcGFyYW0ge29iamVjdD19IHByb3BzIE9wdGlvbmFsIHByb3BzIGZvciB2aXJ0dWFsIG5vZGVcclxuICogQHBhcmFtIHsuLi57b2JqZWN0fT19IF9jaGlsZHJlbiBPcHRpb25hbCBjaGlsZHJlbiBmb3IgdmlydHVhbCBub2RlXHJcbiAqIEByZXR1cm5zIHtWTm9kZX0gbmV3IHZpcnR1YWwgbmRvZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBwcm9wcykge1xyXG4gICAgdmFyIF9jaGlsZHJlbiA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBfY2hpbGRyZW5bX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQodHlwZSkgfHwgaW5mZXJub19zaGFyZWRfMS5pc09iamVjdCh0eXBlKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW5mZXJubyBFcnJvcjogY3JlYXRlRWxlbWVudCgpIG5hbWUgcGFyYW1ldGVyIGNhbm5vdCBiZSB1bmRlZmluZWQsIG51bGwsIGZhbHNlIG9yIHRydWUsIEl0IG11c3QgYmUgYSBzdHJpbmcsIGNsYXNzIG9yIGZ1bmN0aW9uLicpO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gX2NoaWxkcmVuO1xyXG4gICAgdmFyIHJlZiA9IG51bGw7XHJcbiAgICB2YXIga2V5ID0gbnVsbDtcclxuICAgIHZhciBjbGFzc05hbWUgPSBudWxsO1xyXG4gICAgdmFyIGZsYWdzID0gMDtcclxuICAgIHZhciBuZXdQcm9wcztcclxuICAgIGlmIChfY2hpbGRyZW4pIHtcclxuICAgICAgICBpZiAoX2NoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IF9jaGlsZHJlblswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoX2NoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IHZvaWQgMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyh0eXBlKSkge1xyXG4gICAgICAgIGZsYWdzID0gaW5mZXJub18xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlKHR5cGUpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzKSkge1xyXG4gICAgICAgICAgICBuZXdQcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2NsYXNzTmFtZScgfHwgcHJvcCA9PT0gJ2NsYXNzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2tleScpIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXkgPSBwcm9wcy5rZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnY2hpbGRyZW4nICYmIGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjsgLy8gYWx3YXlzIGZhdm91ciBjaGlsZHJlbiBhcmdzLCBkZWZhdWx0IHRvIHByb3BzXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAncmVmJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZiA9IHByb3BzLnJlZjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzW3Byb3BdID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmbGFncyA9IDE2IC8qIENvbXBvbmVudFVua25vd24gKi87XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIG5ld1Byb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRIb29rcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWYgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmW3Byb3BdID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAna2V5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHByb3BzLmtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzW3Byb3BdID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKGZsYWdzLCB0eXBlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCBuZXdQcm9wcywga2V5LCByZWYpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUVsZW1lbnQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDM3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBMaW5rXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcclxuZnVuY3Rpb24gSW5kZXhMaW5rKHByb3BzKSB7XHJcbiAgICBwcm9wcy50byA9ICcvJztcclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoOCAvKiBDb21wb25lbnRGdW5jdGlvbiAqLywgTGlua18xLmRlZmF1bHQsIG51bGwsIG51bGwsIHByb3BzKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBJbmRleExpbms7XHJcblxuXG4vKioqLyB9KSxcbi8qIDM4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSb3V0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxudmFyIEluZGV4Um91dGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEluZGV4Um91dGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBJbmRleFJvdXRlKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgcHJvcHMucGF0aCA9ICcvJztcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSW5kZXhSb3V0ZTtcclxufShSb3V0ZV8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXhSb3V0ZTtcclxuXG5cbi8qKiovIH0pLFxuLyogMzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJvdXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG52YXIgUmVkaXJlY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlZGlyZWN0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVkaXJlY3QocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBpZiAoIXByb3BzLnRvKSB7XHJcbiAgICAgICAgICAgIHByb3BzLnRvID0gJy8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVkaXJlY3Q7XHJcbn0oUm91dGVfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJlZGlyZWN0O1xyXG5cblxuLyoqKi8gfSksXG4vKiA0MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxudmFyIG1hdGNoXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcclxudmFyIFJvdXRlckNvbnRleHRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xyXG5mdW5jdGlvbiBjcmVhdGVyUm91dGVyKGhpc3RvcnkpIHtcclxuICAgIGlmICghaGlzdG9yeSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZmVybm86IEVycm9yIFwiaW5mZXJuby1yb3V0ZXJcIiByZXF1aXJlcyBhIGhpc3RvcnkgcHJvcCBwYXNzZWQnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3JlYXRlSHJlZjogaGlzdG9yeS5jcmVhdGVIcmVmLFxyXG4gICAgICAgIGxpc3RlbjogaGlzdG9yeS5saXN0ZW4sXHJcbiAgICAgICAgcHVzaDogaGlzdG9yeS5wdXNoLFxyXG4gICAgICAgIHJlcGxhY2U6IGhpc3RvcnkucmVwbGFjZSxcclxuICAgICAgICBpc0FjdGl2ZTogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hfMS5tYXRjaFBhdGgodHJ1ZSwgdXJsLCB0aGlzLnVybCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgbG9jYXRpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAnYmxhbmsnID8gaGlzdG9yeS5sb2NhdGlvbiA6IHtcclxuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiAnLycsXHJcbiAgICAgICAgICAgICAgICBzZWFyY2g6ICcnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgdXJsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbi5wYXRobmFtZSArIHRoaXMubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxudmFyIFJvdXRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUm91dGVyKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucm91dGVyID0gY3JlYXRlclJvdXRlcihwcm9wcy5oaXN0b3J5KTtcclxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgdXJsOiBwcm9wcy51cmwgfHwgX3RoaXMucm91dGVyLnVybFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5yb3V0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy51bmxpc3RlbiA9IHRoaXMucm91dGVyLmxpc3RlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZVRvKF90aGlzLnJvdXRlci51cmwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogbmV4dFByb3BzLnVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51bmxpc3Rlbikge1xyXG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlci5wcm90b3R5cGUucm91dGVUbyA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB1cmw6IHVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBoaXQgPSBtYXRjaF8xLmRlZmF1bHQocHJvcHMuY2hpbGRyZW4sIHRoaXMuc3RhdGUudXJsKTtcclxuICAgICAgICBpZiAoaGl0LnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucm91dGVyLnJlcGxhY2UoaGl0LnJlZGlyZWN0KTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIFJvdXRlckNvbnRleHRfMS5kZWZhdWx0LCBudWxsLCBudWxsLCB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLnN0YXRlLnVybCxcclxuICAgICAgICAgICAgbWF0Y2hlZDogaGl0Lm1hdGNoZWQsXHJcbiAgICAgICAgICAgIHJvdXRlcjogdGhpcy5yb3V0ZXJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUm91dGVyO1xyXG59KGluZmVybm9fY29tcG9uZW50XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIHBhcnNpbmcgcGxhaW4gcm91dGUgY29uZmlndXJhdGlvbnNcclxuICogYmFzZWQgb24gcmVhY3Qtcm91dGVyIGNyZWF0ZVJvdXRlcyBoYW5kbGVyLlxyXG4gKlxyXG4gKiBjdXJyZW50bHkgc3VwcG9ydGVkIGtleXM6XHJcbiAqIC0gcGF0aFxyXG4gKiAtIGNvbXBvbmVudFxyXG4gKiAtIGNoaWxkUm91dGVzXHJcbiAqIC0gaW5kZXhSb3V0ZVxyXG4gKlxyXG4gKiBVc2FnZSBleGFtcGxlOlxyXG4gKiBjb25zdCByb3V0ZXMgPSBjcmVhdGVSb3V0ZXMoW1xyXG4gKiAge1xyXG4gKiAgICBwYXRoICAgICAgICA6ICcvJyxcclxuICogICAgY29tcG9uZW50ICAgOiBBcHAsXHJcbiAqICAgIGluZGV4Um91dGUgIDoge1xyXG4gKiAgICAgIGNvbXBvbmVudCAgICAgOiBIb21lLFxyXG4gKiAgICB9LFxyXG4gKiAgICBjaGlsZFJvdXRlcyA6IFtcclxuICogICAgICB7XHJcbiAqICAgICAgICBwYXRoIDogJ2ZpbG1zLycsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBGaWxtcyxcclxuICogICAgICAgIGNoaWxkUm91dGVzIDoge1xyXG4gKiAgICAgICAgICBwYXRoIDogJ2RldGFpbC86aWQnLFxyXG4gKiAgICAgICAgICBjb21wb25lbnQgOiBGaWxtRGV0YWlsLFxyXG4gKiAgICAgICAgfVxyXG4gKiAgICAgIH0sXHJcbiAqICAgICAge1xyXG4gKiAgICAgICAgcGF0aCA6ICcvKicsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBOb01hdGNoXHJcbiAqICAgICAgfVxyXG4gKiAgICBdXHJcbiAqICB9XHJcbiAqIF0pO1xyXG4gKlxyXG4gKiBVc2FnZSBvbiBSb3V0ZXIgSlNYXHJcbiAqIDxSb3V0ZXIgaGlzdG9yeT17YnJvd3Nlckhpc3Rvcnl9IGNoaWxkcmVuPXtyb3V0ZXN9IC8+XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgUm91dGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcbnZhciBoYW5kbGVJbmRleFJvdXRlID0gZnVuY3Rpb24gKGluZGV4Um91dGVOb2RlKSB7IHJldHVybiBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEuZGVmYXVsdChSb3V0ZV8xLmRlZmF1bHQsIGluZGV4Um91dGVOb2RlKTsgfTtcclxudmFyIGhhbmRsZUNoaWxkUm91dGUgPSBmdW5jdGlvbiAoY2hpbGRSb3V0ZU5vZGUpIHsgcmV0dXJuIGhhbmRsZVJvdXRlTm9kZShjaGlsZFJvdXRlTm9kZSk7IH07XHJcbnZhciBoYW5kbGVDaGlsZFJvdXRlcyA9IGZ1bmN0aW9uIChjaGlsZFJvdXRlTm9kZXMpIHsgcmV0dXJuIGNoaWxkUm91dGVOb2Rlcy5tYXAoaGFuZGxlQ2hpbGRSb3V0ZSk7IH07XHJcbmZ1bmN0aW9uIGhhbmRsZVJvdXRlTm9kZShyb3V0ZUNvbmZpZ05vZGUpIHtcclxuICAgIGlmIChyb3V0ZUNvbmZpZ05vZGUuaW5kZXhSb3V0ZSAmJiAhcm91dGVDb25maWdOb2RlLmNoaWxkUm91dGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgcm91dGVDb25maWdOb2RlKTtcclxuICAgIH1cclxuICAgIC8vIGNyZWF0ZSBkZWVwIGNvcHkgb2YgY29uZmlnXHJcbiAgICB2YXIgbm9kZSA9IHt9O1xyXG4gICAgZm9yICh2YXIga2V5IGluIHJvdXRlQ29uZmlnTm9kZSkge1xyXG4gICAgICAgIG5vZGVba2V5XSA9IHJvdXRlQ29uZmlnTm9kZVtrZXldO1xyXG4gICAgfVxyXG4gICAgbm9kZS5jaGlsZHJlbiA9IFtdO1xyXG4gICAgLy8gaGFuZGxlIGluZGV4IHJvdXRlIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuaW5kZXhSb3V0ZSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChoYW5kbGVJbmRleFJvdXRlKG5vZGUuaW5kZXhSb3V0ZSkpO1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmluZGV4Um91dGU7XHJcbiAgICB9XHJcbiAgICAvLyBoYW5kbGUgY2hpbGQgcm91dGVzIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuY2hpbGRSb3V0ZXMpIHtcclxuICAgICAgICB2YXIgbm9kZXMgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZFJvdXRlcykgPyBub2RlLmNoaWxkUm91dGVzIDogW25vZGUuY2hpbGRSb3V0ZXNdO1xyXG4gICAgICAgIChfYSA9IG5vZGUuY2hpbGRyZW4pLnB1c2guYXBwbHkoX2EsIGhhbmRsZUNoaWxkUm91dGVzKG5vZGVzKSk7XHJcbiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRSb3V0ZXM7XHJcbiAgICB9XHJcbiAgICAvLyBjbGVhbnVwIHRvIG1hdGNoIG5hdGl2ZSByZW5kZXJlZCByZXN1bHRcclxuICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuWzBdO1xyXG4gICAgfVxyXG4gICAgaWYgKChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHx8XHJcbiAgICAgICAgKCFpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgT2JqZWN0LmtleXMobm9kZS5jaGlsZHJlbikubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgbm9kZSk7XHJcbiAgICB2YXIgX2E7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHJvdXRlQ29uZmlnKSB7IHJldHVybiByb3V0ZUNvbmZpZy5tYXAoaGFuZGxlUm91dGVOb2RlKTsgfTtcclxuXG5cbi8qKiovIH0pLFxuLyogNDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY3JlYXRlUm91dGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcclxuZXhwb3J0cy5jcmVhdGVSb3V0ZXMgPSBjcmVhdGVSb3V0ZXNfMS5kZWZhdWx0O1xyXG52YXIgSW5kZXhMaW5rXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcclxuZXhwb3J0cy5JbmRleExpbmsgPSBJbmRleExpbmtfMS5kZWZhdWx0O1xyXG52YXIgSW5kZXhSb3V0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XHJcbmV4cG9ydHMuSW5kZXhSb3V0ZSA9IEluZGV4Um91dGVfMS5kZWZhdWx0O1xyXG52YXIgTGlua18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XHJcbmV4cG9ydHMuTGluayA9IExpbmtfMS5kZWZhdWx0O1xyXG52YXIgbWF0Y2hfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xyXG5leHBvcnRzLm1hdGNoID0gbWF0Y2hfMS5kZWZhdWx0O1xyXG52YXIgUmVkaXJlY3RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xyXG5leHBvcnRzLlJlZGlyZWN0ID0gUmVkaXJlY3RfMS5kZWZhdWx0O1xyXG5leHBvcnRzLkluZGV4UmVkaXJlY3QgPSBSZWRpcmVjdF8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxuZXhwb3J0cy5Sb3V0ZSA9IFJvdXRlXzEuZGVmYXVsdDtcclxudmFyIFJvdXRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XHJcbmV4cG9ydHMuUm91dGVyID0gUm91dGVyXzEuZGVmYXVsdDtcclxudmFyIFJvdXRlckNvbnRleHRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xyXG5leHBvcnRzLlJvdXRlckNvbnRleHQgPSBSb3V0ZXJDb250ZXh0XzEuZGVmYXVsdDtcclxuZXhwb3J0cy5kZWZhdWx0ID0ge1xyXG4gICAgUm91dGU6IFJvdXRlXzEuZGVmYXVsdCxcclxuICAgIEluZGV4Um91dGU6IEluZGV4Um91dGVfMS5kZWZhdWx0LFxyXG4gICAgUmVkaXJlY3Q6IFJlZGlyZWN0XzEuZGVmYXVsdCxcclxuICAgIEluZGV4UmVkaXJlY3Q6IFJlZGlyZWN0XzEuZGVmYXVsdCxcclxuICAgIFJvdXRlcjogUm91dGVyXzEuZGVmYXVsdCxcclxuICAgIFJvdXRlckNvbnRleHQ6IFJvdXRlckNvbnRleHRfMS5kZWZhdWx0LFxyXG4gICAgTGluazogTGlua18xLmRlZmF1bHQsXHJcbiAgICBJbmRleExpbms6IEluZGV4TGlua18xLmRlZmF1bHQsXHJcbiAgICBtYXRjaDogbWF0Y2hfMS5kZWZhdWx0LFxyXG4gICAgY3JlYXRlUm91dGVzOiBjcmVhdGVSb3V0ZXNfMS5kZWZhdWx0XHJcbn07XHJcblxuXG4vKioqLyB9KSxcbi8qIDQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5OT19PUCA9ICckTk9fT1AnO1xyXG5leHBvcnRzLkVSUk9SX01TRyA9ICdhIHJ1bnRpbWUgZXJyb3Igb2NjdXJlZCEgVXNlIEluZmVybm8gaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQgdG8gZmluZCB0aGUgZXJyb3IuJztcclxuLy8gVGhpcyBzaG91bGQgYmUgYm9vbGVhbiBhbmQgbm90IHJlZmVyZW5jZSB0byB3aW5kb3cuZG9jdW1lbnRcclxuZXhwb3J0cy5pc0Jyb3dzZXIgPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpO1xyXG5mdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gZXhwb3J0cy5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogKGNoaWxkcmVuID8gW2NoaWxkcmVuXSA6IGNoaWxkcmVuKTtcclxufVxyXG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xyXG4vLyB0aGlzIGlzIE1VQ0ggZmFzdGVyIHRoYW4gLmNvbnN0cnVjdG9yID09PSBBcnJheSBhbmQgaW5zdGFuY2VvZiBBcnJheVxyXG4vLyBpbiBOb2RlIDcgYW5kIHRoZSBsYXRlciB2ZXJzaW9ucyBvZiBWOCwgc2xvd2VyIGluIG9sZGVyIHZlcnNpb25zIHRob3VnaFxyXG5leHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KG8pIHtcclxuICAgIHJldHVybiAhaXNVbmRlZmluZWQoby5wcm90b3R5cGUpICYmICFpc1VuZGVmaW5lZChvLnByb3RvdHlwZS5yZW5kZXIpO1xyXG59XHJcbmV4cG9ydHMuaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGlzU3RhdGVmdWxDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIGlzU3RyaW5nT3JOdW1iZXIobykge1xyXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgbztcclxuICAgIHJldHVybiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzU3RyaW5nT3JOdW1iZXIgPSBpc1N0cmluZ09yTnVtYmVyO1xyXG5mdW5jdGlvbiBpc051bGxPclVuZGVmKG8pIHtcclxuICAgIHJldHVybiBpc1VuZGVmaW5lZChvKSB8fCBpc051bGwobyk7XHJcbn1cclxuZXhwb3J0cy5pc051bGxPclVuZGVmID0gaXNOdWxsT3JVbmRlZjtcclxuZnVuY3Rpb24gaXNJbnZhbGlkKG8pIHtcclxuICAgIHJldHVybiBpc051bGwobykgfHwgbyA9PT0gZmFsc2UgfHwgaXNUcnVlKG8pIHx8IGlzVW5kZWZpbmVkKG8pO1xyXG59XHJcbmV4cG9ydHMuaXNJbnZhbGlkID0gaXNJbnZhbGlkO1xyXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG8pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJztcclxufVxyXG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xyXG5mdW5jdGlvbiBpc1N0cmluZyhvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdzdHJpbmcnO1xyXG59XHJcbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcclxuZnVuY3Rpb24gaXNOdW1iZXIobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XHJcbmZ1bmN0aW9uIGlzTnVsbChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gbnVsbDtcclxufVxyXG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcclxuZnVuY3Rpb24gaXNUcnVlKG8pIHtcclxuICAgIHJldHVybiBvID09PSB0cnVlO1xyXG59XHJcbmV4cG9ydHMuaXNUcnVlID0gaXNUcnVlO1xyXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gdm9pZCAwO1xyXG59XHJcbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcclxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JztcclxufVxyXG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XHJcbmZ1bmN0aW9uIHRocm93RXJyb3IobWVzc2FnZSkge1xyXG4gICAgaWYgKCFtZXNzYWdlKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IGV4cG9ydHMuRVJST1JfTVNHO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW5mZXJubyBFcnJvcjogXCIgKyBtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLnRocm93RXJyb3IgPSB0aHJvd0Vycm9yO1xyXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcclxuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLndhcm5pbmcgPSB3YXJuaW5nO1xyXG5mdW5jdGlvbiBjb21iaW5lRnJvbShmaXJzdCwgc2Vjb25kKSB7XHJcbiAgICB2YXIgb3V0ID0ge307XHJcbiAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZmlyc3QpIHtcclxuICAgICAgICAgICAgb3V0W2tleV0gPSBmaXJzdFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChzZWNvbmQpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2Vjb25kKSB7XHJcbiAgICAgICAgICAgIG91dFtrZXldID0gc2Vjb25kW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufVxyXG5leHBvcnRzLmNvbWJpbmVGcm9tID0gY29tYmluZUZyb207XHJcbmZ1bmN0aW9uIExpZmVjeWNsZSgpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbn1cclxuZXhwb3J0cy5MaWZlY3ljbGUgPSBMaWZlY3ljbGU7XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbn07XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIoKSB7XHJcbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnM7XHJcbiAgICB2YXIgbGlzdGVuZXI7XHJcbiAgICAvLyBXZSBuZWVkIHRvIHJlbW92ZSBjdXJyZW50IGxpc3RlbmVyIGZyb20gYXJyYXkgd2hlbiBjYWxsaW5nIGl0LCBiZWNhdXNlIG1vcmUgbGlzdGVuZXJzIG1pZ2h0IGJlIGFkZGVkXHJcbiAgICB3aGlsZSAobGlzdGVuZXIgPSBsaXN0ZW5lcnMuc2hpZnQoKSkge1xyXG4gICAgICAgIGxpc3RlbmVyKCk7XHJcbiAgICB9XHJcbn07XHJcblxuXG4vKioqLyB9KSxcbi8qIDQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgaXNpT1MgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3NlciAmJiAhIW5hdmlnYXRvci5wbGF0Zm9ybSAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xyXG52YXIgZGVsZWdhdGVkRXZlbnRzID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBoYW5kbGVFdmVudChuYW1lLCBsYXN0RXZlbnQsIG5leHRFdmVudCwgZG9tKSB7XHJcbiAgICB2YXIgZGVsZWdhdGVkUm9vdHMgPSBkZWxlZ2F0ZWRFdmVudHMuZ2V0KG5hbWUpO1xyXG4gICAgaWYgKG5leHRFdmVudCkge1xyXG4gICAgICAgIGlmICghZGVsZWdhdGVkUm9vdHMpIHtcclxuICAgICAgICAgICAgZGVsZWdhdGVkUm9vdHMgPSB7IGl0ZW1zOiBuZXcgTWFwKCksIGRvY0V2ZW50OiBudWxsIH07XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZFJvb3RzLmRvY0V2ZW50ID0gYXR0YWNoRXZlbnRUb0RvY3VtZW50KG5hbWUsIGRlbGVnYXRlZFJvb3RzKTtcclxuICAgICAgICAgICAgZGVsZWdhdGVkRXZlbnRzLnNldChuYW1lLCBkZWxlZ2F0ZWRSb290cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGFzdEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpc2lPUyAmJiBuYW1lID09PSAnb25DbGljaycpIHtcclxuICAgICAgICAgICAgICAgIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZWdhdGVkUm9vdHMuaXRlbXMuc2V0KGRvbSwgbmV4dEV2ZW50KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGRlbGVnYXRlZFJvb3RzKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gZGVsZWdhdGVkUm9vdHMuaXRlbXM7XHJcbiAgICAgICAgaWYgKGl0ZW1zLmRlbGV0ZShkb20pKSB7XHJcbiAgICAgICAgICAgIC8vIElmIGFueSBpdGVtcyB3ZXJlIGRlbGV0ZWQsIGNoZWNrIGlmIGxpc3RlbmVyIG5lZWQgdG8gYmUgcmVtb3ZlZFxyXG4gICAgICAgICAgICBpZiAoaXRlbXMuc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihub3JtYWxpemVFdmVudE5hbWUobmFtZSksIGRlbGVnYXRlZFJvb3RzLmRvY0V2ZW50KTtcclxuICAgICAgICAgICAgICAgIGRlbGVnYXRlZEV2ZW50cy5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5oYW5kbGVFdmVudCA9IGhhbmRsZUV2ZW50O1xyXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50LCB0YXJnZXQsIGl0ZW1zLCBjb3VudCwgaXNDbGljaywgZXZlbnREYXRhKSB7XHJcbiAgICB2YXIgZXZlbnRzVG9UcmlnZ2VyID0gaXRlbXMuZ2V0KHRhcmdldCk7XHJcbiAgICBpZiAoZXZlbnRzVG9UcmlnZ2VyKSB7XHJcbiAgICAgICAgY291bnQtLTtcclxuICAgICAgICAvLyBsaW5rRXZlbnQgb2JqZWN0XHJcbiAgICAgICAgZXZlbnREYXRhLmRvbSA9IHRhcmdldDtcclxuICAgICAgICBpZiAoZXZlbnRzVG9UcmlnZ2VyLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1RvVHJpZ2dlci5ldmVudChldmVudHNUb1RyaWdnZXIuZGF0YSwgZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRzVG9UcmlnZ2VyKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgICAgIHZhciBwYXJlbnREb20gPSB0YXJnZXQucGFyZW50Tm9kZTtcclxuICAgICAgICAvLyBIdG1sIE5vZGVzIGNhbiBiZSBuZXN0ZWQgZmU6IHNwYW4gaW5zaWRlIGJ1dHRvbiBpbiB0aGF0IHNjZW5hcmlvIGJyb3dzZXIgZG9lcyBub3QgaGFuZGxlIGRpc2FibGVkIGF0dHJpYnV0ZSBvbiBwYXJlbnQsXHJcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgZXZlbnQgbGlzdGVuZXIgaXMgb24gZG9jdW1lbnQuYm9keVxyXG4gICAgICAgIC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzXHJcbiAgICAgICAgaWYgKHBhcmVudERvbSA9PT0gbnVsbCB8fCAoaXNDbGljayAmJiBwYXJlbnREb20ubm9kZVR5cGUgPT09IDEgJiYgcGFyZW50RG9tLmRpc2FibGVkKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQsIHBhcmVudERvbSwgaXRlbXMsIGNvdW50LCBpc0NsaWNrLCBldmVudERhdGEpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50TmFtZShuYW1lKSB7XHJcbiAgICByZXR1cm4gbmFtZS5zdWJzdHIoMikudG9Mb3dlckNhc2UoKTtcclxufVxyXG5mdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XHJcbiAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICB0aGlzLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG59XHJcbmZ1bmN0aW9uIGF0dGFjaEV2ZW50VG9Eb2N1bWVudChuYW1lLCBkZWxlZ2F0ZWRSb290cykge1xyXG4gICAgdmFyIGRvY0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gZGVsZWdhdGVkUm9vdHMuaXRlbXMuc2l6ZTtcclxuICAgICAgICBpZiAoY291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjtcclxuICAgICAgICAgICAgLy8gRXZlbnQgZGF0YSBuZWVkcyB0byBiZSBvYmplY3QgdG8gc2F2ZSByZWZlcmVuY2UgdG8gY3VycmVudFRhcmdldCBnZXR0ZXJcclxuICAgICAgICAgICAgdmFyIGV2ZW50RGF0YV8xID0ge1xyXG4gICAgICAgICAgICAgICAgZG9tOiBkb2N1bWVudFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAnY3VycmVudFRhcmdldCcsIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudERhdGFfMS5kb207XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KGV2ZW50LCBldmVudC50YXJnZXQsIGRlbGVnYXRlZFJvb3RzLml0ZW1zLCBjb3VudCwgZXZlbnQudHlwZSA9PT0gJ2NsaWNrJywgZXZlbnREYXRhXzEpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKG5vcm1hbGl6ZUV2ZW50TmFtZShuYW1lKSwgZG9jRXZlbnQpO1xyXG4gICAgcmV0dXJuIGRvY0V2ZW50O1xyXG59XHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eVxyXG5mdW5jdGlvbiBlbXB0eUZuKCkgeyB9XHJcbmZ1bmN0aW9uIHRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50KGRvbSkge1xyXG4gICAgLy8gTW9iaWxlIFNhZmFyaSBkb2VzIG5vdCBmaXJlIHByb3Blcmx5IGJ1YmJsZSBjbGljayBldmVudHMgb25cclxuICAgIC8vIG5vbi1pbnRlcmFjdGl2ZSBlbGVtZW50cywgd2hpY2ggbWVhbnMgZGVsZWdhdGVkIGNsaWNrIGxpc3RlbmVycyBkbyBub3RcclxuICAgIC8vIGZpcmUuIFRoZSB3b3JrYXJvdW5kIGZvciB0aGlzIGJ1ZyBpbnZvbHZlcyBhdHRhY2hpbmcgYW4gZW1wdHkgY2xpY2tcclxuICAgIC8vIGxpc3RlbmVyIG9uIHRoZSB0YXJnZXQgbm9kZS5cclxuICAgIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDEwLzA5L2NsaWNrX2V2ZW50X2RlbC5odG1sXHJcbiAgICAvLyBKdXN0IHNldCBpdCB1c2luZyB0aGUgb25jbGljayBwcm9wZXJ0eSBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gbWFuYWdlIGFueVxyXG4gICAgLy8gYm9va2tlZXBpbmcgZm9yIGl0LiBOb3Qgc3VyZSBpZiB3ZSBuZWVkIHRvIGNsZWFyIGl0IHdoZW4gdGhlIGxpc3RlbmVyIGlzXHJcbiAgICAvLyByZW1vdmVkLlxyXG4gICAgLy8gVE9ETzogT25seSBkbyB0aGlzIGZvciB0aGUgcmVsZXZhbnQgU2FmYXJpcyBtYXliZT9cclxuICAgIGRvbS5vbmNsaWNrID0gZW1wdHlGbjtcclxufVxyXG5cblxuLyoqKi8gfSksXG4vKiA0NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBMaW5rcyBnaXZlbiBkYXRhIHRvIGV2ZW50IGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0geyp9IGRhdGEgZGF0YSB0byBiZSBsaW5rZWQsIGl0IHdpbGwgYmUgYXZhaWxhYmxlIGluIGZ1bmN0aW9uIGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBldmVudCBGdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBldmVudCBvY2N1cnNcclxuICogQHJldHVybnMge3tkYXRhOiAqLCBldmVudDogRnVuY3Rpb259fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlua0V2ZW50KGRhdGEsIGV2ZW50KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBkYXRhLCBldmVudDogZXZlbnQgfTtcclxufVxyXG5leHBvcnRzLmxpbmtFdmVudCA9IGxpbmtFdmVudDtcclxuXG5cbi8qKiovIH0pLFxuLyogNDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgY29uc3RhbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG52YXIgbW91bnRpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcbnZhciBwYXRjaGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxudmFyIHJlbmRlcmluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZE5vZGVzKHBhcmVudERvbSkge1xyXG4gICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgd2hpbGUgKGRvbSkge1xyXG4gICAgICAgIGlmIChkb20ubm9kZVR5cGUgPT09IDgpIHtcclxuICAgICAgICAgICAgaWYgKGRvbS5kYXRhID09PSAnIScpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcclxuICAgICAgICAgICAgICAgIHBhcmVudERvbS5yZXBsYWNlQ2hpbGQocGxhY2Vob2xkZXIsIGRvbSk7XHJcbiAgICAgICAgICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdERvbSA9IGRvbS5wcmV2aW91c1NpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICAgICAgICAgIGRvbSA9IGxhc3REb20gfHwgcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemVDaGlsZE5vZGVzID0gbm9ybWFsaXplQ2hpbGROb2RlcztcclxuZnVuY3Rpb24gaHlkcmF0ZUNvbXBvbmVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc0NsYXNzKSB7XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICBpZiAoaXNDbGFzcykge1xyXG4gICAgICAgIHZhciBfaXNTVkcgPSBkb20ubmFtZXNwYWNlVVJJID09PSBjb25zdGFudHNfMS5zdmdOUztcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB1dGlsc18xLmNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2Uodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0LCBfaXNTVkcsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5zdGFuY2UuX2xhc3RJbnB1dDtcclxuICAgICAgICBpbnN0YW5jZS5fdk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCwgX2lzU1ZHKTtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7IC8vIE1vdW50IGZpbmlzaGVkIGFsbG93IGdvaW5nIHN5bmNcclxuICAgICAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5zZXQoaW5zdGFuY2UsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gdXRpbHNfMS5jcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIHZOb2RlLmNoaWxkcmVuID0gaW5wdXQ7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gaW5wdXQuZG9tO1xyXG4gICAgICAgIG1vdW50aW5nXzEubW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlRWxlbWVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IHZOb2RlLmNsYXNzTmFtZTtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIGlzU1ZHID0gaXNTVkcgfHwgKGZsYWdzICYgMTI4IC8qIFN2Z0VsZW1lbnQgKi8pID4gMDtcclxuICAgIGlmIChkb20ubm9kZVR5cGUgIT09IDEgfHwgZG9tLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gdk5vZGUudHlwZSkge1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gaHlkcmF0aW9uOiBTZXJ2ZXItc2lkZSBtYXJrdXAgZG9lc25cXCd0IG1hdGNoIGNsaWVudC1zaWRlIG1hcmt1cCBvciBJbml0aWFsIHJlbmRlciB0YXJnZXQgaXMgbm90IGVtcHR5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuZXdEb20gPSBtb3VudGluZ18xLm1vdW50RWxlbWVudCh2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gbmV3RG9tO1xyXG4gICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKGRvbS5wYXJlbnROb2RlLCBuZXdEb20sIGRvbSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld0RvbTtcclxuICAgIH1cclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIGh5ZHJhdGVDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIHZhciBoYXNDb250cm9sbGVkVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGb3JtRWxlbWVudCA9IChmbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoUHJvcChwcm9wLCBudWxsLCBwcm9wc1twcm9wXSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnRfMS5wcm9jZXNzRWxlbWVudChmbGFncywgdk5vZGUsIGRvbSwgcHJvcHMsIHRydWUsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgcmVmLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlQ2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgbm9ybWFsaXplQ2hpbGROb2RlcyhwYXJlbnREb20pO1xyXG4gICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoY2hpbGQpICYmIGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20gPSBoeWRyYXRlKGNoaWxkLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudChjaGlsZCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoZG9tICYmIGRvbS5ub2RlVHlwZSA9PT0gMykge1xyXG4gICAgICAgICAgICBpZiAoZG9tLm5vZGVWYWx1ZSAhPT0gY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGRvbS5ub2RlVmFsdWUgPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBwYXJlbnREb20udGV4dENvbnRlbnQgPSBjaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICBoeWRyYXRlKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgIH1cclxuICAgIC8vIGNsZWFyIGFueSBvdGhlciBET00gbm9kZXMsIHRoZXJlIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGVudHJ5IGZvciB0aGUgcm9vdFxyXG4gICAgd2hpbGUgKGRvbSkge1xyXG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IGRvbS5uZXh0U2libGluZztcclxuICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICBkb20gPSBuZXh0U2libGluZztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlVGV4dCh2Tm9kZSwgZG9tKSB7XHJcbiAgICBpZiAoZG9tLm5vZGVUeXBlICE9PSAzKSB7XHJcbiAgICAgICAgdmFyIG5ld0RvbSA9IG1vdW50aW5nXzEubW91bnRUZXh0KHZOb2RlLCBudWxsKTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBuZXdEb207XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlQ2hpbGQoZG9tLnBhcmVudE5vZGUsIG5ld0RvbSwgZG9tKTtcclxuICAgICAgICByZXR1cm4gbmV3RG9tO1xyXG4gICAgfVxyXG4gICAgdmFyIHRleHQgPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmIChkb20ubm9kZVZhbHVlICE9PSB0ZXh0KSB7XHJcbiAgICAgICAgZG9tLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbiAgICB9XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVWb2lkKHZOb2RlLCBkb20pIHtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZSh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlQ29tcG9uZW50KHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlRWxlbWVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVUZXh0KHZOb2RlLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICByZXR1cm4gaHlkcmF0ZVZvaWQodk5vZGUsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwiaHlkcmF0ZSgpIGV4cGVjdHMgYSB2YWxpZCBWTm9kZSwgaW5zdGVhZCBpdCByZWNlaXZlZCBhbiBvYmplY3Qgd2l0aCB0aGUgdHlwZSBcXFwiXCIgKyB0eXBlb2Ygdk5vZGUgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlUm9vdChpbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHZhciBkb20gPSBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGRvbSkpIHtcclxuICAgICAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIHV0aWxzXzEuRU1QVFlfT0JKLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAvLyBjbGVhciBhbnkgb3RoZXIgRE9NIG5vZGVzLCB0aGVyZSBzaG91bGQgYmUgb25seSBhIHNpbmdsZSBlbnRyeSBmb3IgdGhlIHJvb3RcclxuICAgICAgICAgICAgd2hpbGUgKGRvbSA9IGRvbS5uZXh0U2libGluZykge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmV4cG9ydHMuaHlkcmF0ZVJvb3QgPSBoeWRyYXRlUm9vdDtcclxuXG5cbi8qKiovIH0pLFxuLyogNDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuZnVuY3Rpb24gaXNDaGVja2VkVHlwZSh0eXBlKSB7XHJcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nO1xyXG59XHJcbmV4cG9ydHMuaXNDaGVja2VkVHlwZSA9IGlzQ2hlY2tlZFR5cGU7XHJcbmZ1bmN0aW9uIG9uVGV4dElucHV0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uSW5wdXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmlucHV0KSB7XHJcbiAgICAgICAgcHJvcHMub25pbnB1dChlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1Byb3BzLCBkb20pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHdyYXBwZWRPbkNoYW5nZShlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGV2ZW50ID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICBpZiAoZXZlbnQuZXZlbnQpIHtcclxuICAgICAgICBldmVudC5ldmVudChldmVudC5kYXRhLCBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV2ZW50KGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uQ2hlY2tib3hDaGFuZ2UoZSkge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gVGhpcyBjbGljayBzaG91bGQgbm90IHByb3BhZ2F0ZSBpdHMgZm9yIGludGVybmFsIHVzZVxyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25DbGljaykge1xyXG4gICAgICAgIHZhciBldmVudF8yID0gcHJvcHMub25DbGljaztcclxuICAgICAgICBpZiAoZXZlbnRfMi5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8yLmV2ZW50KGV2ZW50XzIuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2xpY2spIHtcclxuICAgICAgICBwcm9wcy5vbmNsaWNrKGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3UHJvcHMsIGRvbSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc0lucHV0KHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBpZiAoaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmNsaWNrID0gb25DaGVja2JveENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICAgICAgZG9tLm9uY2xpY2sud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dCA9IG9uVGV4dElucHV0Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dC53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5leHRQcm9wc09yRW1wdHkub25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlID0gd3JhcHBlZE9uQ2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2Uud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0lucHV0ID0gcHJvY2Vzc0lucHV0O1xyXG5mdW5jdGlvbiBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSkge1xyXG4gICAgdmFyIHR5cGUgPSBuZXh0UHJvcHNPckVtcHR5LnR5cGU7XHJcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LnZhbHVlO1xyXG4gICAgdmFyIGNoZWNrZWQgPSBuZXh0UHJvcHNPckVtcHR5LmNoZWNrZWQ7XHJcbiAgICB2YXIgbXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IG5leHRQcm9wc09yRW1wdHkuZGVmYXVsdFZhbHVlO1xyXG4gICAgdmFyIGhhc1ZhbHVlID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSk7XHJcbiAgICBpZiAodHlwZSAmJiB0eXBlICE9PSBkb20udHlwZSkge1xyXG4gICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGlmIChtdWx0aXBsZSAmJiBtdWx0aXBsZSAhPT0gZG9tLm11bHRpcGxlKSB7XHJcbiAgICAgICAgZG9tLm11bHRpcGxlID0gbXVsdGlwbGU7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0VmFsdWUpICYmICFoYXNWYWx1ZSkge1xyXG4gICAgICAgIGRvbS5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWUgKyAnJztcclxuICAgIH1cclxuICAgIGlmIChpc0NoZWNrZWRUeXBlKHR5cGUpKSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvbS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGVja2VkKSkge1xyXG4gICAgICAgICAgICBkb20uY2hlY2tlZCA9IGNoZWNrZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlICYmIGRvbS52YWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hlY2tlZCkpIHtcclxuICAgICAgICAgICAgZG9tLmNoZWNrZWQgPSBjaGVja2VkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA0OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5mdW5jdGlvbiB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgaWYgKHR5cGUgPT09ICdvcHRncm91cCcpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb24oY2hpbGRyZW4sIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbih2Tm9kZSwgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUNoaWxkT3B0aW9uKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgLy8gd2UgZG8gdGhpcyBhcyBtdWx0aXBsZSBtYXkgaGF2ZSBjaGFuZ2VkXHJcbiAgICBkb20udmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmICgoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5pbmRleE9mKHByb3BzLnZhbHVlKSAhPT0gLTEpIHx8IHByb3BzLnZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKSB8fCAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLnNlbGVjdGVkKSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uU2VsZWN0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzEgPSBwcm9wcy5vbkNoYW5nZTtcclxuICAgICAgICBpZiAoZXZlbnRfMS5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8xLmV2ZW50KGV2ZW50XzEuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8xKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2hhbmdlKSB7XHJcbiAgICAgICAgcHJvcHMub25jaGFuZ2UoZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdWTm9kZSwgZG9tLCBuZXdQcm9wcywgZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NTZWxlY3Qodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZyk7XHJcbiAgICBpZiAobW91bnRpbmcgJiYgaXNDb250cm9sbGVkKSB7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlID0gb25TZWxlY3RDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlLndyYXBwZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc1NlbGVjdCA9IHByb2Nlc3NTZWxlY3Q7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcpIHtcclxuICAgIGlmIChuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlICE9PSBkb20ubXVsdGlwbGUpIHtcclxuICAgICAgICBkb20ubXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkudmFsdWU7XHJcbiAgICAgICAgaWYgKG1vdW50aW5nICYmIGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb25Hcm91cChjaGlsZHJlbiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA0OSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5mdW5jdGlvbiB3cmFwcGVkT25DaGFuZ2UoZSkge1xyXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBldmVudCA9IHByb3BzLm9uQ2hhbmdlO1xyXG4gICAgaWYgKGV2ZW50LmV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQuZXZlbnQoZXZlbnQuZGF0YSwgZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBldmVudChlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBvblRleHRhcmVhSW5wdXRDaGFuZ2UoZSkge1xyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmIChwcm9wcy5vbklucHV0KSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzEgPSBwcm9wcy5vbklucHV0O1xyXG4gICAgICAgIGlmIChldmVudF8xLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEuZXZlbnQoZXZlbnRfMS5kYXRhLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvcHMub25pbnB1dCkge1xyXG4gICAgICAgIHByb3BzLm9uaW5wdXQoZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdWTm9kZSwgdk5vZGUuZG9tLCBmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc1RleHRhcmVhKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tLCBtb3VudGluZyk7XHJcbiAgICBpZiAobW91bnRpbmcgJiYgaXNDb250cm9sbGVkKSB7XHJcbiAgICAgICAgZG9tLm9uaW5wdXQgPSBvblRleHRhcmVhSW5wdXRDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgZG9tLm9uaW5wdXQud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgaWYgKG5leHRQcm9wc09yRW1wdHkub25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlID0gd3JhcHBlZE9uQ2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2Uud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc1RleHRhcmVhID0gcHJvY2Vzc1RleHRhcmVhO1xyXG5mdW5jdGlvbiBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSwgbW91bnRpbmcpIHtcclxuICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkudmFsdWU7XHJcbiAgICB2YXIgZG9tVmFsdWUgPSBkb20udmFsdWU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKSkge1xyXG4gICAgICAgIGlmIChtb3VudGluZykge1xyXG4gICAgICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS5kZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGRlZmF1bHRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IGRvbVZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tLnZhbHVlID0gZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRvbVZhbHVlICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgZG9tLnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvKiBUaGVyZSBpcyB2YWx1ZSBzbyBrZWVwIGl0IGNvbnRyb2xsZWQgKi9cclxuICAgICAgICBpZiAoZG9tVmFsdWUgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvbS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA1MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxuZXhwb3J0cy5OT19PUCA9IGluZmVybm9fc2hhcmVkXzEuTk9fT1A7XHJcbnZhciBub3JtYWxpemF0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcclxuZXhwb3J0cy5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSA9IG5vcm1hbGl6YXRpb25fMS5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTtcclxuZXhwb3J0cy5pbnRlcm5hbF9ub3JtYWxpemUgPSBub3JtYWxpemF0aW9uXzEubm9ybWFsaXplO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxuZXhwb3J0cy5vcHRpb25zID0gb3B0aW9uc18xLm9wdGlvbnM7XHJcbnZhciBWTm9kZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcbmV4cG9ydHMuY2xvbmVWTm9kZSA9IFZOb2Rlc18xLmNsb25lVk5vZGU7XHJcbmV4cG9ydHMuY3JlYXRlVk5vZGUgPSBWTm9kZXNfMS5jcmVhdGVWTm9kZTtcclxudmFyIGNvbnN0YW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxuZXhwb3J0cy5pbnRlcm5hbF9pc1VuaXRsZXNzTnVtYmVyID0gY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlcjtcclxudmFyIGxpbmtFdmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XHJcbmV4cG9ydHMubGlua0V2ZW50ID0gbGlua0V2ZW50XzEubGlua0V2ZW50O1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbmV4cG9ydHMuaW50ZXJuYWxfcGF0Y2ggPSBwYXRjaGluZ18xLnBhdGNoO1xyXG52YXIgcmVuZGVyaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG5leHBvcnRzLmludGVybmFsX0RPTU5vZGVNYXAgPSByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXA7XHJcbmV4cG9ydHMuY3JlYXRlUmVuZGVyZXIgPSByZW5kZXJpbmdfMS5jcmVhdGVSZW5kZXJlcjtcclxuZXhwb3J0cy5maW5kRE9NTm9kZSA9IHJlbmRlcmluZ18xLmZpbmRET01Ob2RlO1xyXG5leHBvcnRzLnJlbmRlciA9IHJlbmRlcmluZ18xLnJlbmRlcjtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5leHBvcnRzLkVNUFRZX09CSiA9IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG5pZiAoZmFsc2UpIHtcclxuICAgIC8qIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eSAqL1xyXG4gICAgdmFyIHRlc3RGdW5jID0gZnVuY3Rpb24gdGVzdEZuKCkgeyB9O1xyXG4gICAgaWYgKCh0ZXN0RnVuYy5uYW1lIHx8IHRlc3RGdW5jLnRvU3RyaW5nKCkpLmluZGV4T2YoJ3Rlc3RGbicpID09PSAtMSkge1xyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEud2FybmluZygoJ0l0IGxvb2tzIGxpa2UgeW91XFwncmUgdXNpbmcgYSBtaW5pZmllZCBjb3B5IG9mIHRoZSBkZXZlbG9wbWVudCBidWlsZCAnICtcclxuICAgICAgICAgICAgJ29mIEluZmVybm8uIFdoZW4gZGVwbG95aW5nIEluZmVybm8gYXBwcyB0byBwcm9kdWN0aW9uLCBtYWtlIHN1cmUgdG8gdXNlICcgK1xyXG4gICAgICAgICAgICAndGhlIHByb2R1Y3Rpb24gYnVpbGQgd2hpY2ggc2tpcHMgZGV2ZWxvcG1lbnQgd2FybmluZ3MgYW5kIGlzIGZhc3Rlci4gJyArXHJcbiAgICAgICAgICAgICdTZWUgaHR0cDovL2luZmVybm9qcy5vcmcgZm9yIG1vcmUgZGV0YWlscy4nKSk7XHJcbiAgICB9XHJcbn1cclxudmFyIHZlcnNpb24gPSAnMy4xLjAnO1xyXG5leHBvcnRzLnZlcnNpb24gPSB2ZXJzaW9uO1xyXG4vLyB3ZSBkdXBsaWNhdGUgaXQgc28gaXQgcGxheXMgbmljZWx5IHdpdGggZGlmZmVyZW50IG1vZHVsZSBsb2FkaW5nIHN5c3RlbXNcclxuZXhwb3J0cy5kZWZhdWx0ID0ge1xyXG4gICAgZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGU6IG5vcm1hbGl6YXRpb25fMS5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSxcclxuICAgIGxpbmtFdmVudDogbGlua0V2ZW50XzEubGlua0V2ZW50LFxyXG4gICAgLy8gY29yZSBzaGFwZXNcclxuICAgIGNyZWF0ZVZOb2RlOiBWTm9kZXNfMS5jcmVhdGVWTm9kZSxcclxuICAgIC8vIGNsb25pbmdcclxuICAgIGNsb25lVk5vZGU6IFZOb2Rlc18xLmNsb25lVk5vZGUsXHJcbiAgICAvLyB1c2VkIHRvIHNoYXJlZCBjb21tb24gaXRlbXMgYmV0d2VlbiBJbmZlcm5vIGxpYnNcclxuICAgIE5PX09QOiBpbmZlcm5vX3NoYXJlZF8xLk5PX09QLFxyXG4gICAgRU1QVFlfT0JKOiB1dGlsc18xLkVNUFRZX09CSixcclxuICAgIC8vIERPTVxyXG4gICAgcmVuZGVyOiByZW5kZXJpbmdfMS5yZW5kZXIsXHJcbiAgICBmaW5kRE9NTm9kZTogcmVuZGVyaW5nXzEuZmluZERPTU5vZGUsXHJcbiAgICBjcmVhdGVSZW5kZXJlcjogcmVuZGVyaW5nXzEuY3JlYXRlUmVuZGVyZXIsXHJcbiAgICBvcHRpb25zOiBvcHRpb25zXzEub3B0aW9ucyxcclxuICAgIHZlcnNpb246IHZlcnNpb24sXHJcbiAgICBpbnRlcm5hbF9wYXRjaDogcGF0Y2hpbmdfMS5wYXRjaCxcclxuICAgIGludGVybmFsX0RPTU5vZGVNYXA6IHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcCxcclxuICAgIGludGVybmFsX2lzVW5pdGxlc3NOdW1iZXI6IGNvbnN0YW50c18xLmlzVW5pdGxlc3NOdW1iZXIsXHJcbiAgICBpbnRlcm5hbF9ub3JtYWxpemU6IG5vcm1hbGl6YXRpb25fMS5ub3JtYWxpemVcclxufTtcclxuXG5cbi8qKiovIH0pLFxuLyogNTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG5cblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChmYWxzZSkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cbi8qKiovIH0pLFxuLyogNTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5cbi8qKiovIH0pLFxuLyogNTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHBhdGhUb1JlZ0V4cCA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpXHJcblxyXG4vKipcclxuICogRXhwb3NlIGBwYXRoVG9SZWdleHBgIGFzIEVTNiBtb2R1bGVcclxuICovXHJcbm1vZHVsZS5leHBvcnRzID0gcGF0aFRvUmVnRXhwO1xyXG5tb2R1bGUuZXhwb3J0cy5wYXJzZSA9IHBhdGhUb1JlZ0V4cC5wYXJzZVxyXG5tb2R1bGUuZXhwb3J0cy5jb21waWxlID0gcGF0aFRvUmVnRXhwLmNvbXBpbGVcclxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9GdW5jdGlvbiA9IHBhdGhUb1JlZ0V4cC50b2tlbnNUb0Z1bmN0aW9uXHJcbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvUmVnRXhwID0gcGF0aFRvUmVnRXhwLnRva2Vuc1RvUmVnRXhwXHJcbm1vZHVsZS5leHBvcnRzWydkZWZhdWx0J10gPSBtb2R1bGUuZXhwb3J0cztcclxuXG5cbi8qKiovIH0pLFxuLyogNTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzYXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKVxuXG4vKipcbiAqIEV4cG9zZSBgcGF0aFRvUmVnZXhwYC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdleHBcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGFyc2Vcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gdG9rZW5zVG9GdW5jdGlvblxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSB0b2tlbnNUb1JlZ0V4cFxuXG4vKipcbiAqIFRoZSBtYWluIHBhdGggbWF0Y2hpbmcgcmVnZXhwIHV0aWxpdHkuXG4gKlxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIFBBVEhfUkVHRVhQID0gbmV3IFJlZ0V4cChbXG4gIC8vIE1hdGNoIGVzY2FwZWQgY2hhcmFjdGVycyB0aGF0IHdvdWxkIG90aGVyd2lzZSBhcHBlYXIgaW4gZnV0dXJlIG1hdGNoZXMuXG4gIC8vIFRoaXMgYWxsb3dzIHRoZSB1c2VyIHRvIGVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgdGhhdCB3b24ndCB0cmFuc2Zvcm0uXG4gICcoXFxcXFxcXFwuKScsXG4gIC8vIE1hdGNoIEV4cHJlc3Mtc3R5bGUgcGFyYW1ldGVycyBhbmQgdW4tbmFtZWQgcGFyYW1ldGVycyB3aXRoIGEgcHJlZml4XG4gIC8vIGFuZCBvcHRpb25hbCBzdWZmaXhlcy4gTWF0Y2hlcyBhcHBlYXIgYXM6XG4gIC8vXG4gIC8vIFwiLzp0ZXN0KFxcXFxkKyk/XCIgPT4gW1wiL1wiLCBcInRlc3RcIiwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgXCI/XCIsIHVuZGVmaW5lZF1cbiAgLy8gXCIvcm91dGUoXFxcXGQrKVwiICA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAvLyBcIi8qXCIgICAgICAgICAgICA9PiBbXCIvXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCIqXCJdXG4gICcoW1xcXFwvLl0pPyg/Oig/OlxcXFw6KFxcXFx3KykoPzpcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKT98XFxcXCgoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKV0pKylcXFxcKSkoWysqP10pP3woXFxcXCopKSdcbl0uam9pbignfCcpLCAnZycpXG5cbi8qKlxuICogUGFyc2UgYSBzdHJpbmcgZm9yIHRoZSByYXcgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHN0clxuICogQHBhcmFtICB7T2JqZWN0PX0gb3B0aW9uc1xuICogQHJldHVybiB7IUFycmF5fVxuICovXG5mdW5jdGlvbiBwYXJzZSAoc3RyLCBvcHRpb25zKSB7XG4gIHZhciB0b2tlbnMgPSBbXVxuICB2YXIga2V5ID0gMFxuICB2YXIgaW5kZXggPSAwXG4gIHZhciBwYXRoID0gJydcbiAgdmFyIGRlZmF1bHREZWxpbWl0ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJ1xuICB2YXIgcmVzXG5cbiAgd2hpbGUgKChyZXMgPSBQQVRIX1JFR0VYUC5leGVjKHN0cikpICE9IG51bGwpIHtcbiAgICB2YXIgbSA9IHJlc1swXVxuICAgIHZhciBlc2NhcGVkID0gcmVzWzFdXG4gICAgdmFyIG9mZnNldCA9IHJlcy5pbmRleFxuICAgIHBhdGggKz0gc3RyLnNsaWNlKGluZGV4LCBvZmZzZXQpXG4gICAgaW5kZXggPSBvZmZzZXQgKyBtLmxlbmd0aFxuXG4gICAgLy8gSWdub3JlIGFscmVhZHkgZXNjYXBlZCBzZXF1ZW5jZXMuXG4gICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgIHBhdGggKz0gZXNjYXBlZFsxXVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICB2YXIgbmV4dCA9IHN0cltpbmRleF1cbiAgICB2YXIgcHJlZml4ID0gcmVzWzJdXG4gICAgdmFyIG5hbWUgPSByZXNbM11cbiAgICB2YXIgY2FwdHVyZSA9IHJlc1s0XVxuICAgIHZhciBncm91cCA9IHJlc1s1XVxuICAgIHZhciBtb2RpZmllciA9IHJlc1s2XVxuICAgIHZhciBhc3RlcmlzayA9IHJlc1s3XVxuXG4gICAgLy8gUHVzaCB0aGUgY3VycmVudCBwYXRoIG9udG8gdGhlIHRva2Vucy5cbiAgICBpZiAocGF0aCkge1xuICAgICAgdG9rZW5zLnB1c2gocGF0aClcbiAgICAgIHBhdGggPSAnJ1xuICAgIH1cblxuICAgIHZhciBwYXJ0aWFsID0gcHJlZml4ICE9IG51bGwgJiYgbmV4dCAhPSBudWxsICYmIG5leHQgIT09IHByZWZpeFxuICAgIHZhciByZXBlYXQgPSBtb2RpZmllciA9PT0gJysnIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgb3B0aW9uYWwgPSBtb2RpZmllciA9PT0gJz8nIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgZGVsaW1pdGVyID0gcmVzWzJdIHx8IGRlZmF1bHREZWxpbWl0ZXJcbiAgICB2YXIgcGF0dGVybiA9IGNhcHR1cmUgfHwgZ3JvdXBcblxuICAgIHRva2Vucy5wdXNoKHtcbiAgICAgIG5hbWU6IG5hbWUgfHwga2V5KyssXG4gICAgICBwcmVmaXg6IHByZWZpeCB8fCAnJyxcbiAgICAgIGRlbGltaXRlcjogZGVsaW1pdGVyLFxuICAgICAgb3B0aW9uYWw6IG9wdGlvbmFsLFxuICAgICAgcmVwZWF0OiByZXBlYXQsXG4gICAgICBwYXJ0aWFsOiBwYXJ0aWFsLFxuICAgICAgYXN0ZXJpc2s6ICEhYXN0ZXJpc2ssXG4gICAgICBwYXR0ZXJuOiBwYXR0ZXJuID8gZXNjYXBlR3JvdXAocGF0dGVybikgOiAoYXN0ZXJpc2sgPyAnLionIDogJ1teJyArIGVzY2FwZVN0cmluZyhkZWxpbWl0ZXIpICsgJ10rPycpXG4gICAgfSlcbiAgfVxuXG4gIC8vIE1hdGNoIGFueSBjaGFyYWN0ZXJzIHN0aWxsIHJlbWFpbmluZy5cbiAgaWYgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIHBhdGggKz0gc3RyLnN1YnN0cihpbmRleClcbiAgfVxuXG4gIC8vIElmIHRoZSBwYXRoIGV4aXN0cywgcHVzaCBpdCBvbnRvIHRoZSBlbmQuXG4gIGlmIChwYXRoKSB7XG4gICAgdG9rZW5zLnB1c2gocGF0aClcbiAgfVxuXG4gIHJldHVybiB0b2tlbnNcbn1cblxuLyoqXG4gKiBDb21waWxlIGEgc3RyaW5nIHRvIGEgdGVtcGxhdGUgZnVuY3Rpb24gZm9yIHRoZSBwYXRoLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgc3RyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFmdW5jdGlvbihPYmplY3Q9LCBPYmplY3Q9KX1cbiAqL1xuZnVuY3Rpb24gY29tcGlsZSAoc3RyLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb0Z1bmN0aW9uKHBhcnNlKHN0ciwgb3B0aW9ucykpXG59XG5cbi8qKlxuICogUHJldHRpZXIgZW5jb2Rpbmcgb2YgVVJJIHBhdGggc2VnbWVudHMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvW1xcLz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFbmNvZGUgdGhlIGFzdGVyaXNrIHBhcmFtZXRlci4gU2ltaWxhciB0byBgcHJldHR5YCwgYnV0IGFsbG93cyBzbGFzaGVzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlQXN0ZXJpc2sgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBtZXRob2QgZm9yIHRyYW5zZm9ybWluZyB0b2tlbnMgaW50byB0aGUgcGF0aCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9GdW5jdGlvbiAodG9rZW5zKSB7XG4gIC8vIENvbXBpbGUgYWxsIHRoZSB0b2tlbnMgaW50byByZWdleHBzLlxuICB2YXIgbWF0Y2hlcyA9IG5ldyBBcnJheSh0b2tlbnMubGVuZ3RoKVxuXG4gIC8vIENvbXBpbGUgYWxsIHRoZSBwYXR0ZXJucyBiZWZvcmUgY29tcGlsYXRpb24uXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbnNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICBtYXRjaGVzW2ldID0gbmV3IFJlZ0V4cCgnXig/OicgKyB0b2tlbnNbaV0ucGF0dGVybiArICcpJCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIG9wdHMpIHtcbiAgICB2YXIgcGF0aCA9ICcnXG4gICAgdmFyIGRhdGEgPSBvYmogfHwge31cbiAgICB2YXIgb3B0aW9ucyA9IG9wdHMgfHwge31cbiAgICB2YXIgZW5jb2RlID0gb3B0aW9ucy5wcmV0dHkgPyBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgOiBlbmNvZGVVUklDb21wb25lbnRcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV1cblxuICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGF0aCArPSB0b2tlblxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSA9IGRhdGFbdG9rZW4ubmFtZV1cbiAgICAgIHZhciBzZWdtZW50XG5cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICAgIC8vIFByZXBlbmQgcGFydGlhbCBzZWdtZW50IHByZWZpeGVzLlxuICAgICAgICAgIGlmICh0b2tlbi5wYXJ0aWFsKSB7XG4gICAgICAgICAgICBwYXRoICs9IHRva2VuLnByZWZpeFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBiZSBkZWZpbmVkJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNhcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKCF0b2tlbi5yZXBlYXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCByZXBlYXQsIGJ1dCByZWNlaXZlZCBgJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICdgJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbm90IGJlIGVtcHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgc2VnbWVudCA9IGVuY29kZSh2YWx1ZVtqXSlcblxuICAgICAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhbGwgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeShzZWdtZW50KSArICdgJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXRoICs9IChqID09PSAwID8gdG9rZW4ucHJlZml4IDogdG9rZW4uZGVsaW1pdGVyKSArIHNlZ21lbnRcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHNlZ21lbnQgPSB0b2tlbi5hc3RlcmlzayA/IGVuY29kZUFzdGVyaXNrKHZhbHVlKSA6IGVuY29kZSh2YWx1ZSlcblxuICAgICAgaWYgKCFtYXRjaGVzW2ldLnRlc3Qoc2VnbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgXCInICsgc2VnbWVudCArICdcIicpXG4gICAgICB9XG5cbiAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4ICsgc2VnbWVudFxuICAgIH1cblxuICAgIHJldHVybiBwYXRoXG4gIH1cbn1cblxuLyoqXG4gKiBFc2NhcGUgYSByZWd1bGFyIGV4cHJlc3Npb24gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyAoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKyo/PV4hOiR7fSgpW1xcXXxcXC9cXFxcXSkvZywgJ1xcXFwkMScpXG59XG5cbi8qKlxuICogRXNjYXBlIHRoZSBjYXB0dXJpbmcgZ3JvdXAgYnkgZXNjYXBpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzIGFuZCBtZWFuaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gZ3JvdXBcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZXNjYXBlR3JvdXAgKGdyb3VwKSB7XG4gIHJldHVybiBncm91cC5yZXBsYWNlKC8oWz0hOiRcXC8oKV0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEF0dGFjaCB0aGUga2V5cyBhcyBhIHByb3BlcnR5IG9mIHRoZSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IVJlZ0V4cH0gcmVcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEtleXMgKHJlLCBrZXlzKSB7XG4gIHJlLmtleXMgPSBrZXlzXG4gIHJldHVybiByZVxufVxuXG4vKipcbiAqIEdldCB0aGUgZmxhZ3MgZm9yIGEgcmVnZXhwIGZyb20gdGhlIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGZsYWdzIChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLnNlbnNpdGl2ZSA/ICcnIDogJ2knXG59XG5cbi8qKlxuICogUHVsbCBvdXQga2V5cyBmcm9tIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHJlZ2V4cFRvUmVnZXhwIChwYXRoLCBrZXlzKSB7XG4gIC8vIFVzZSBhIG5lZ2F0aXZlIGxvb2thaGVhZCB0byBtYXRjaCBvbmx5IGNhcHR1cmluZyBncm91cHMuXG4gIHZhciBncm91cHMgPSBwYXRoLnNvdXJjZS5tYXRjaCgvXFwoKD8hXFw/KS9nKVxuXG4gIGlmIChncm91cHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgbmFtZTogaSxcbiAgICAgICAgcHJlZml4OiBudWxsLFxuICAgICAgICBkZWxpbWl0ZXI6IG51bGwsXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcbiAgICAgICAgcGFydGlhbDogZmFsc2UsXG4gICAgICAgIGFzdGVyaXNrOiBmYWxzZSxcbiAgICAgICAgcGF0dGVybjogbnVsbFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhwYXRoLCBrZXlzKVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhbiBhcnJheSBpbnRvIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gIHBhdGhcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnRzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBwYXJ0cy5wdXNoKHBhdGhUb1JlZ2V4cChwYXRoW2ldLCBrZXlzLCBvcHRpb25zKS5zb3VyY2UpXG4gIH1cblxuICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnKD86JyArIHBhcnRzLmpvaW4oJ3wnKSArICcpJywgZmxhZ3Mob3B0aW9ucykpXG5cbiAgcmV0dXJuIGF0dGFjaEtleXMocmVnZXhwLCBrZXlzKVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIHBhdGggcmVnZXhwIGZyb20gc3RyaW5nIGlucHV0LlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ1RvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb1JlZ0V4cChwYXJzZShwYXRoLCBvcHRpb25zKSwga2V5cywgb3B0aW9ucylcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBmdW5jdGlvbiBmb3IgdGFraW5nIHRva2VucyBhbmQgcmV0dXJuaW5nIGEgUmVnRXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gICAgICAgICAgdG9rZW5zXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19IGtleXNcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9SZWdFeHAgKHRva2Vucywga2V5cywgb3B0aW9ucykge1xuICBpZiAoIWlzYXJyYXkoa2V5cykpIHtcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxuICAgIGtleXMgPSBbXVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICB2YXIgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3RcbiAgdmFyIGVuZCA9IG9wdGlvbnMuZW5kICE9PSBmYWxzZVxuICB2YXIgcm91dGUgPSAnJ1xuXG4gIC8vIEl0ZXJhdGUgb3ZlciB0aGUgdG9rZW5zIGFuZCBjcmVhdGUgb3VyIHJlZ2V4cCBzdHJpbmcuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgcm91dGUgKz0gZXNjYXBlU3RyaW5nKHRva2VuKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJlZml4ID0gZXNjYXBlU3RyaW5nKHRva2VuLnByZWZpeClcbiAgICAgIHZhciBjYXB0dXJlID0gJyg/OicgKyB0b2tlbi5wYXR0ZXJuICsgJyknXG5cbiAgICAgIGtleXMucHVzaCh0b2tlbilcblxuICAgICAgaWYgKHRva2VuLnJlcGVhdCkge1xuICAgICAgICBjYXB0dXJlICs9ICcoPzonICsgcHJlZml4ICsgY2FwdHVyZSArICcpKidcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgIGlmICghdG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgIGNhcHR1cmUgPSAnKD86JyArIHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKSk/J1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyk/J1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpJ1xuICAgICAgfVxuXG4gICAgICByb3V0ZSArPSBjYXB0dXJlXG4gICAgfVxuICB9XG5cbiAgdmFyIGRlbGltaXRlciA9IGVzY2FwZVN0cmluZyhvcHRpb25zLmRlbGltaXRlciB8fCAnLycpXG4gIHZhciBlbmRzV2l0aERlbGltaXRlciA9IHJvdXRlLnNsaWNlKC1kZWxpbWl0ZXIubGVuZ3RoKSA9PT0gZGVsaW1pdGVyXG5cbiAgLy8gSW4gbm9uLXN0cmljdCBtb2RlIHdlIGFsbG93IGEgc2xhc2ggYXQgdGhlIGVuZCBvZiBtYXRjaC4gSWYgdGhlIHBhdGggdG9cbiAgLy8gbWF0Y2ggYWxyZWFkeSBlbmRzIHdpdGggYSBzbGFzaCwgd2UgcmVtb3ZlIGl0IGZvciBjb25zaXN0ZW5jeS4gVGhlIHNsYXNoXG4gIC8vIGlzIHZhbGlkIGF0IHRoZSBlbmQgb2YgYSBwYXRoIG1hdGNoLCBub3QgaW4gdGhlIG1pZGRsZS4gVGhpcyBpcyBpbXBvcnRhbnRcbiAgLy8gaW4gbm9uLWVuZGluZyBtb2RlLCB3aGVyZSBcIi90ZXN0L1wiIHNob3VsZG4ndCBtYXRjaCBcIi90ZXN0Ly9yb3V0ZVwiLlxuICBpZiAoIXN0cmljdCkge1xuICAgIHJvdXRlID0gKGVuZHNXaXRoRGVsaW1pdGVyID8gcm91dGUuc2xpY2UoMCwgLWRlbGltaXRlci5sZW5ndGgpIDogcm91dGUpICsgJyg/OicgKyBkZWxpbWl0ZXIgKyAnKD89JCkpPydcbiAgfVxuXG4gIGlmIChlbmQpIHtcbiAgICByb3V0ZSArPSAnJCdcbiAgfSBlbHNlIHtcbiAgICAvLyBJbiBub24tZW5kaW5nIG1vZGUsIHdlIG5lZWQgdGhlIGNhcHR1cmluZyBncm91cHMgdG8gbWF0Y2ggYXMgbXVjaCBhc1xuICAgIC8vIHBvc3NpYmxlIGJ5IHVzaW5nIGEgcG9zaXRpdmUgbG9va2FoZWFkIHRvIHRoZSBlbmQgb3IgbmV4dCBwYXRoIHNlZ21lbnQuXG4gICAgcm91dGUgKz0gc3RyaWN0ICYmIGVuZHNXaXRoRGVsaW1pdGVyID8gJycgOiAnKD89JyArIGRlbGltaXRlciArICd8JCknXG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhuZXcgUmVnRXhwKCdeJyArIHJvdXRlLCBmbGFncyhvcHRpb25zKSksIGtleXMpXG59XG5cbi8qKlxuICogTm9ybWFsaXplIHRoZSBnaXZlbiBwYXRoIHN0cmluZywgcmV0dXJuaW5nIGEgcmVndWxhciBleHByZXNzaW9uLlxuICpcbiAqIEFuIGVtcHR5IGFycmF5IGNhbiBiZSBwYXNzZWQgaW4gZm9yIHRoZSBrZXlzLCB3aGljaCB3aWxsIGhvbGQgdGhlXG4gKiBwbGFjZWhvbGRlciBrZXkgZGVzY3JpcHRpb25zLiBGb3IgZXhhbXBsZSwgdXNpbmcgYC91c2VyLzppZGAsIGBrZXlzYCB3aWxsXG4gKiBjb250YWluIGBbeyBuYW1lOiAnaWQnLCBkZWxpbWl0ZXI6ICcvJywgb3B0aW9uYWw6IGZhbHNlLCByZXBlYXQ6IGZhbHNlIH1dYC5cbiAqXG4gKiBAcGFyYW0gIHsoc3RyaW5nfFJlZ0V4cHxBcnJheSl9IHBhdGhcbiAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpPX0gICAgICAga2V5c1xuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBwYXRoVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XG4gICAgb3B0aW9ucyA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGtleXMgfHwgb3B0aW9ucylcbiAgICBrZXlzID0gW11cbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgaWYgKHBhdGggaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gcmVnZXhwVG9SZWdleHAocGF0aCwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSlcbiAgfVxuXG4gIGlmIChpc2FycmF5KHBhdGgpKSB7XG4gICAgcmV0dXJuIGFycmF5VG9SZWdleHAoLyoqIEB0eXBlIHshQXJyYXl9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdUb1JlZ2V4cCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxufVxuXG5cbi8qKiovIH0pLFxuLyogNTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIGlzQWJzb2x1dGUgPSBmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGhuYW1lKSB7XG4gIHJldHVybiBwYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJztcbn07XG5cbi8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxudmFyIHNwbGljZU9uZSA9IGZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKHZhciBpID0gaW5kZXgsIGsgPSBpICsgMSwgbiA9IGxpc3QubGVuZ3RoOyBrIDwgbjsgaSArPSAxLCBrICs9IDEpIHtcbiAgICBsaXN0W2ldID0gbGlzdFtrXTtcbiAgfWxpc3QucG9wKCk7XG59O1xuXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGJhc2VkIGhlYXZpbHkgb24gbm9kZSdzIHVybC5wYXJzZVxudmFyIHJlc29sdmVQYXRobmFtZSA9IGZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZSh0bykge1xuICB2YXIgZnJvbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG5cbiAgdmFyIHRvUGFydHMgPSB0byAmJiB0by5zcGxpdCgnLycpIHx8IFtdO1xuICB2YXIgZnJvbVBhcnRzID0gZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykgfHwgW107XG5cbiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTtcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcbiAgdmFyIG11c3RFbmRBYnMgPSBpc1RvQWJzIHx8IGlzRnJvbUFicztcblxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcbiAgICAvLyB0byBpcyBhYnNvbHV0ZVxuICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7XG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcbiAgICAvLyB0byBpcyByZWxhdGl2ZSwgZHJvcCB0aGUgZmlsZW5hbWVcbiAgICBmcm9tUGFydHMucG9wKCk7XG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcbiAgfVxuXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcblxuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IHZvaWQgMDtcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdCA9IGZyb21QYXJ0c1tmcm9tUGFydHMubGVuZ3RoIC0gMV07XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnO1xuICB9IGVsc2Uge1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBmcm9tUGFydHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xuXG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbXVzdEVuZEFicykgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgZnJvbVBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gIH1pZiAobXVzdEVuZEFicyAmJiBmcm9tUGFydHNbMF0gIT09ICcnICYmICghZnJvbVBhcnRzWzBdIHx8ICFpc0Fic29sdXRlKGZyb21QYXJ0c1swXSkpKSBmcm9tUGFydHMudW5zaGlmdCgnJyk7XG5cbiAgdmFyIHJlc3VsdCA9IGZyb21QYXJ0cy5qb2luKCcvJyk7XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgcmVzdWx0LnN1YnN0cigtMSkgIT09ICcvJykgcmVzdWx0ICs9ICcvJztcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlUGF0aG5hbWU7XG5cbi8qKiovIH0pLFxuLyogNTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgdmFsdWVFcXVhbCA9IGZ1bmN0aW9uIHZhbHVlRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG5cbiAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkgcmV0dXJuIEFycmF5LmlzQXJyYXkoYikgJiYgYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlRXF1YWwoaXRlbSwgYltpbmRleF0pO1xuICB9KTtcblxuICB2YXIgYVR5cGUgPSB0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYSk7XG4gIHZhciBiVHlwZSA9IHR5cGVvZiBiID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihiKTtcblxuICBpZiAoYVR5cGUgIT09IGJUeXBlKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGFUeXBlID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBhVmFsdWUgPSBhLnZhbHVlT2YoKTtcbiAgICB2YXIgYlZhbHVlID0gYi52YWx1ZU9mKCk7XG5cbiAgICBpZiAoYVZhbHVlICE9PSBhIHx8IGJWYWx1ZSAhPT0gYikgcmV0dXJuIHZhbHVlRXF1YWwoYVZhbHVlLCBiVmFsdWUpO1xuXG4gICAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgdmFyIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG5cbiAgICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiBhS2V5cy5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChhW2tleV0sIGJba2V5XSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSB2YWx1ZUVxdWFsO1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGJ1bmRsZS5qcyIsIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbiBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gXHJcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4gXHRcdGlmKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdH0gO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcclxuIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiBcdFx0XHRpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xyXG4gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xyXG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSAxMDAwMDtcclxuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0aWYocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XHJcbiBcdFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbiBcdFx0XHRcdFx0Ly8gdGltZW91dFxyXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpKTtcclxuIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbiBcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbiBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHQvLyBzdWNjZXNzXHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcclxuIFx0XHRcdFx0XHRcdHJldHVybjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH0pO1xyXG4gXHR9XHJcblxuIFx0XHJcbiBcdFxyXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMGI2MzkzODQ2N2ZkZjZiYzkwYmVcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHNUZW1wID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdGlmKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XHJcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xyXG4gXHRcdFx0aWYobWUuaG90LmFjdGl2ZSkge1xyXG4gXHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XHJcbiBcdFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpIDwgMClcclxuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbiBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpIDwgMClcclxuIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4gXHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVxdWVzdCArIFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArIG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xyXG4gXHRcdH07XHJcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcclxuIFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuIFx0XHRcdFx0fSxcclxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fTtcclxuIFx0XHR9O1xyXG4gXHRcdGZvcih2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiYgbmFtZSAhPT0gXCJlXCIpIHtcclxuIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XHJcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xyXG4gXHRcdFx0XHR0aHJvdyBlcnI7XHJcbiBcdFx0XHR9KTtcclxuIFx0XHJcbiBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcclxuIFx0XHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xyXG4gXHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH07XHJcbiBcdFx0cmV0dXJuIGZuO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBob3QgPSB7XHJcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXHJcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXHJcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcclxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxyXG4gXHRcclxuIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcclxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbiBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXHJcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXHJcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aWYoIWwpIHJldHVybiBob3RTdGF0dXM7XHJcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdH0sXHJcbiBcdFxyXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXHJcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cclxuIFx0XHR9O1xyXG4gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcclxuIFx0XHRyZXR1cm4gaG90O1xyXG4gXHR9XHJcbiBcdFxyXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcclxuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xyXG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90RGVmZXJyZWQ7XHJcbiBcdFxyXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuIFx0XHR2YXIgaXNOdW1iZXIgPSAoK2lkKSArIFwiXCIgPT09IGlkO1xyXG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xyXG4gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdCgpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XHJcbiBcdFx0XHRpZighdXBkYXRlKSB7XHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0XHRcdHJldHVybiBudWxsO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcclxuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuIFx0XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xyXG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XHJcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcclxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxyXG4gXHRcdFx0XHR9O1xyXG4gXHRcdFx0fSk7XHJcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuIFx0XHRcdHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xyXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XHJcbiBcdFx0fSk7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxyXG4gXHRcdFx0cmV0dXJuO1xyXG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbiBcdFx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4gXHRcdGlmKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XHJcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcclxuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcclxuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XHJcbiBcdFx0aWYoIWRlZmVycmVkKSByZXR1cm47XHJcbiBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4gXHRcdFx0aG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuIFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xyXG4gXHRcdFx0fSwgZnVuY3Rpb24oZXJyKSB7XHJcbiBcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xyXG4gXHRcdFx0fSk7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbiBcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdH1cclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xyXG4gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XHJcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiBcdFxyXG4gXHRcdHZhciBjYjtcclxuIFx0XHR2YXIgaTtcclxuIFx0XHR2YXIgajtcclxuIFx0XHR2YXIgbW9kdWxlO1xyXG4gXHRcdHZhciBtb2R1bGVJZDtcclxuIFx0XHJcbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcclxuIFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcclxuIFx0XHRcdFx0XHRpZDogaWRcclxuIFx0XHRcdFx0fTtcclxuIFx0XHRcdH0pO1xyXG4gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcclxuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xyXG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0aWYoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xyXG4gXHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcclxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcclxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxyXG4gXHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fbWFpbikge1xyXG4gXHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcclxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcclxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxyXG4gXHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XHJcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdGlmKCFwYXJlbnQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxyXG4gXHRcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGlmKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcclxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xyXG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xyXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcclxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxyXG4gXHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFxyXG4gXHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxyXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXHJcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxyXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcclxuIFx0XHRcdH07XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbiBcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbiBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbiBcdFx0XHRcdFx0YS5wdXNoKGl0ZW0pO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbiBcdFxyXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XHJcbiBcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCIpO1xyXG4gXHRcdH07XHJcbiBcdFxyXG4gXHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuIFx0XHRcdFx0dmFyIHJlc3VsdDtcclxuIFx0XHRcdFx0aWYoaG90VXBkYXRlW2lkXSkge1xyXG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcclxuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcclxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxyXG4gXHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcclxuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcclxuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xyXG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcclxuIFx0XHRcdFx0aWYocmVzdWx0LmNoYWluKSB7XHJcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdHN3aXRjaChyZXN1bHQudHlwZSkge1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGVjbGluZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXHJcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIGNoYWluSW5mbyk7XHJcbiBcdFx0XHRcdFx0XHRicmVhaztcclxuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiIGluIFwiICsgcmVzdWx0LnBhcmVudElkICsgY2hhaW5JbmZvKTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uVW5hY2NlcHRlZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvKTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGlzcG9zZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGRlZmF1bHQ6XHJcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKGFib3J0RXJyb3IpIHtcclxuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcclxuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYoZG9BcHBseSkge1xyXG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHRcdFx0XHRcdGZvcihtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxyXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihkb0Rpc3Bvc2UpIHtcclxuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxyXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xyXG4gXHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiYgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcclxuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcclxuIFx0XHRcdFx0fSk7XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xyXG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcclxuIFx0XHRcdGlmKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xyXG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fSk7XHJcbiBcdFxyXG4gXHRcdHZhciBpZHg7XHJcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbiBcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0aWYoIW1vZHVsZSkgY29udGludWU7XHJcbiBcdFxyXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuIFx0XHJcbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XHJcbiBcdFx0XHRmb3IoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XHJcbiBcdFx0XHRcdGNiKGRhdGEpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcclxuIFx0XHJcbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxyXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcclxuIFx0XHJcbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcclxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHJcbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxyXG4gXHRcdFx0Zm9yKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcclxuIFx0XHRcdFx0aWYoIWNoaWxkKSBjb250aW51ZTtcclxuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xyXG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcclxuIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUpIHtcclxuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0XHRmb3IoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XHJcbiBcdFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4gXHRcclxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XHJcbiBcdFxyXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxyXG4gXHRcdGZvcihtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuIFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XHJcbiBcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcihpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xyXG4gXHRcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbiBcdFx0XHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXHJcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0XHR9KTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcclxuIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcclxuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xyXG4gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycjIpIHtcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcclxuIFx0XHRcdFx0XHRcdFx0XHRvcmdpbmFsRXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0XHR9KTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyMjtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcclxuIFx0XHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcclxuIFx0XHRpZihlcnJvcikge1xyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcclxuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0fVxyXG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDMxKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMGI2MzkzODQ2N2ZkZjZiYzkwYmUiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGlzdCcpO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1zaGFyZWQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL29wdGlvbnNcIik7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL1ZOb2Rlc1wiKTtcclxudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xyXG52YXIgbW91bnRpbmdfMSA9IHJlcXVpcmUoXCIuL21vdW50aW5nXCIpO1xyXG52YXIgdW5tb3VudGluZ18xID0gcmVxdWlyZShcIi4vdW5tb3VudGluZ1wiKTtcclxuLy8gV2UgbmVlZCBFTVBUWV9PQkogZGVmaW5lZCBpbiBvbmUgcGxhY2UuXHJcbi8vIEl0cyB1c2VkIGZvciBjb21wYXJpc29uIHNvIHdlIGNhbnQgaW5saW5lIGl0IGludG8gc2hhcmVkXHJcbmV4cG9ydHMuRU1QVFlfT0JKID0ge307XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICBPYmplY3QuZnJlZXplKGV4cG9ydHMuRU1QVFlfT0JKKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCBDb21wb25lbnQsIHByb3BzLCBjb250ZXh0LCBpc1NWRywgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb250ZXh0KSkge1xyXG4gICAgICAgIGNvbnRleHQgPSBleHBvcnRzLkVNUFRZX09CSjsgLy8gQ29udGV4dCBzaG91bGQgbm90IGJlIG11dGFibGVcclxuICAgIH1cclxuICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb21wb25lbnQocHJvcHMsIGNvbnRleHQpO1xyXG4gICAgdk5vZGUuY2hpbGRyZW4gPSBpbnN0YW5jZTtcclxuICAgIGluc3RhbmNlLl9ibG9ja1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gY29udGV4dDtcclxuICAgIGlmIChpbnN0YW5jZS5wcm9wcyA9PT0gZXhwb3J0cy5FTVBUWV9PQkopIHtcclxuICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xyXG4gICAgfVxyXG4gICAgLy8gc2V0U3RhdGUgY2FsbGJhY2tzIG11c3QgZmlyZSBhZnRlciByZW5kZXIgaXMgZG9uZSB3aGVuIGNhbGxlZCBmcm9tIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgb3IgY29tcG9uZW50V2lsbE1vdW50XHJcbiAgICBpbnN0YW5jZS5fbGlmZWN5Y2xlID0gbGlmZWN5Y2xlO1xyXG4gICAgaW5zdGFuY2UuX3VubW91bnRlZCA9IGZhbHNlO1xyXG4gICAgaW5zdGFuY2UuX3BlbmRpbmdTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICBpbnN0YW5jZS5faXNTVkcgPSBpc1NWRztcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2Jsb2NrUmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKTtcclxuICAgICAgICBpbnN0YW5jZS5fYmxvY2tSZW5kZXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhciBjaGlsZENvbnRleHQ7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgIGNoaWxkQ29udGV4dCA9IGluc3RhbmNlLmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShjb250ZXh0LCBjaGlsZENvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIpKSB7XHJcbiAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYmVmb3JlUmVuZGVyKGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIHZhciBpbnB1dCA9IGluc3RhbmNlLnJlbmRlcihwcm9wcywgaW5zdGFuY2Uuc3RhdGUsIGNvbnRleHQpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5hZnRlclJlbmRlcikpIHtcclxuICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5hZnRlclJlbmRlcihpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGlucHV0KSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoaW5wdXQpKSB7XHJcbiAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShpbnB1dCwgbnVsbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbiBpbnB1dCB0aGF0IGlzIGFsc28gYSBjb21wb25lbnQsIHdlIHJ1biBpbnRvIGEgdHJpY2t5IHNpdHVhdGlvblxyXG4gICAgICAgICAgICAvLyB3aGVyZSB0aGUgcm9vdCB2Tm9kZSBuZWVkcyB0byBhbHdheXMgaGF2ZSB0aGUgY29ycmVjdCBET00gZW50cnlcclxuICAgICAgICAgICAgLy8gc28gd2UgYnJlYWsgbW9ub21vcnBoaXNtIG9uIG91ciBpbnB1dCBhbmQgc3VwcGx5IGl0IG91ciB2Tm9kZSBhcyBwYXJlbnRWTm9kZVxyXG4gICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBpbiB0aGUgZnV0dXJlLCBidXQgdGhpcyBnZXRzIHVzIG91dCBvZiBhIGxvdCBvZiBpc3N1ZXNcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50Vk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICBpbnN0YW5jZS5fbGFzdElucHV0ID0gaW5wdXQ7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlID0gY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZTtcclxuZnVuY3Rpb24gcmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQobGFzdElucHV0LCBuZXh0SW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnQobmV4dElucHV0LCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbGFzdElucHV0LCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VMYXN0Q2hpbGRBbmRVbm1vdW50ID0gcmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQ7XHJcbmZ1bmN0aW9uIHJlcGxhY2VWTm9kZShwYXJlbnREb20sIGRvbSwgdk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHVubW91bnRpbmdfMS51bm1vdW50KHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICByZXBsYWNlQ2hpbGQocGFyZW50RG9tLCBkb20sIHZOb2RlLmRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZXBsYWNlVk5vZGUgPSByZXBsYWNlVk5vZGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCh2Tm9kZSwgY29tcG9uZW50LCBwcm9wcywgY29udGV4dCkge1xyXG4gICAgdmFyIGlucHV0ID0gY29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKGlucHV0LCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGlucHV0IHRoYXQgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgcnVuIGludG8gYSB0cmlja3kgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgIC8vIHdoZXJlIHRoZSByb290IHZOb2RlIG5lZWRzIHRvIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IERPTSBlbnRyeVxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBicmVhayBtb25vbW9ycGhpc20gb24gb3VyIGlucHV0IGFuZCBzdXBwbHkgaXQgb3VyIHZOb2RlIGFzIHBhcmVudFZOb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGlzIGdldHMgdXMgb3V0IG9mIGEgbG90IG9mIGlzc3Vlc1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRWTm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbnB1dDtcclxufVxyXG5leHBvcnRzLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCA9IGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dDtcclxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQoZG9tLCB0ZXh0KSB7XHJcbiAgICBpZiAodGV4dCAhPT0gJycpIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZXRUZXh0Q29udGVudCA9IHNldFRleHRDb250ZW50O1xyXG5mdW5jdGlvbiB1cGRhdGVUZXh0Q29udGVudChkb20sIHRleHQpIHtcclxuICAgIGRvbS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbn1cclxuZXhwb3J0cy51cGRhdGVUZXh0Q29udGVudCA9IHVwZGF0ZVRleHRDb250ZW50O1xyXG5mdW5jdGlvbiBhcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLmFwcGVuZENoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5hcHBlbmRDaGlsZCA9IGFwcGVuZENoaWxkO1xyXG5mdW5jdGlvbiBpbnNlcnRPckFwcGVuZChwYXJlbnREb20sIG5ld05vZGUsIG5leHROb2RlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHROb2RlKSkge1xyXG4gICAgICAgIGFwcGVuZENoaWxkKHBhcmVudERvbSwgbmV3Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwYXJlbnREb20uaW5zZXJ0QmVmb3JlKG5ld05vZGUsIG5leHROb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmluc2VydE9yQXBwZW5kID0gaW5zZXJ0T3JBcHBlbmQ7XHJcbmZ1bmN0aW9uIGRvY3VtZW50Q3JlYXRlRWxlbWVudCh0YWcsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcgPT09IHRydWUpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGNvbnN0YW50c18xLnN2Z05TLCB0YWcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudDtcclxuZnVuY3Rpb24gcmVwbGFjZVdpdGhOZXdOb2RlKGxhc3ROb2RlLCBuZXh0Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdW5tb3VudGluZ18xLnVubW91bnQobGFzdE5vZGUsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgIHZhciBkb20gPSBtb3VudGluZ18xLm1vdW50KG5leHROb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIG5leHROb2RlLmRvbSA9IGRvbTtcclxuICAgIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIGRvbSwgbGFzdE5vZGUuZG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VXaXRoTmV3Tm9kZSA9IHJlcGxhY2VXaXRoTmV3Tm9kZTtcclxuZnVuY3Rpb24gcmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbmV4dERvbSwgbGFzdERvbSkge1xyXG4gICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICBwYXJlbnREb20gPSBsYXN0RG9tLnBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKG5leHREb20sIGxhc3REb20pO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZUNoaWxkID0gcmVwbGFjZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZW1vdmVDaGlsZCA9IHJlbW92ZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVBbGxDaGlsZHJlbihkb20sIGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCB8fCAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAhaXNSZWN5Y2xpbmcpKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2hpbGRyZW4obnVsbCwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQWxsQ2hpbGRyZW4gPSByZW1vdmVBbGxDaGlsZHJlbjtcclxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoY2hpbGQsIGRvbSwgbGlmZWN5Y2xlLCB0cnVlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQ2hpbGRyZW4gPSByZW1vdmVDaGlsZHJlbjtcclxuZnVuY3Rpb24gaXNLZXllZChsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbikge1xyXG4gICAgcmV0dXJuIG5leHRDaGlsZHJlbi5sZW5ndGggPiAwICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dENoaWxkcmVuWzBdKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDaGlsZHJlblswXS5rZXkpXHJcbiAgICAgICAgJiYgbGFzdENoaWxkcmVuLmxlbmd0aCA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0Q2hpbGRyZW5bMF0pICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdENoaWxkcmVuWzBdLmtleSk7XHJcbn1cclxuZXhwb3J0cy5pc0tleWVkID0gaXNLZXllZDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vdXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5vcHRpb25zID0ge1xyXG4gICAgYWZ0ZXJNb3VudDogbnVsbCxcclxuICAgIGFmdGVyUmVuZGVyOiBudWxsLFxyXG4gICAgYWZ0ZXJVcGRhdGU6IG51bGwsXHJcbiAgICBiZWZvcmVSZW5kZXI6IG51bGwsXHJcbiAgICBiZWZvcmVVbm1vdW50OiBudWxsLFxyXG4gICAgY3JlYXRlVk5vZGU6IG51bGwsXHJcbiAgICBmaW5kRE9NTm9kZUVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgcmVjeWNsaW5nRW5hYmxlZDogZmFsc2UsXHJcbiAgICByb290czogW11cclxufTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9jb3JlL29wdGlvbnMuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL0RPTS91dGlsc1wiKTtcclxudmFyIG5vcm1hbGl6YXRpb25fMSA9IHJlcXVpcmUoXCIuL25vcm1hbGl6YXRpb25cIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi9vcHRpb25zXCIpO1xyXG5mdW5jdGlvbiBWTm9kZShjaGlsZHJlbiwgY2xhc3NOYW1lLCBmbGFncywga2V5LCBwcm9wcywgcmVmLCB0eXBlKSB7XHJcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgIHRoaXMuZG9tID0gbnVsbDtcclxuICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcclxuICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xyXG4gICAgdGhpcy5yZWYgPSByZWY7XHJcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcclxuICogQHBhcmFtIHtzdHJpbmd8RnVuY3Rpb258bnVsbH0gdHlwZVxyXG4gKiBAcGFyYW0ge3N0cmluZ3xudWxsPX0gY2xhc3NOYW1lXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gY2hpbGRyZW5cclxuICogQHBhcmFtIHtvYmplY3Q9fSBwcm9wc1xyXG4gKiBAcGFyYW0geyo9fSBrZXlcclxuICogQHBhcmFtIHtvYmplY3R8RnVuY3Rpb249fSByZWZcclxuICogQHBhcmFtIHtib29sZWFuPX0gbm9Ob3JtYWxpc2VcclxuICogQHJldHVybnMge1ZOb2RlfSByZXR1cm5zIG5ldyB2aXJ0dWFsIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVZOb2RlKGZsYWdzLCB0eXBlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCBwcm9wcywga2V5LCByZWYsIG5vTm9ybWFsaXNlKSB7XHJcbiAgICBpZiAoZmxhZ3MgJiAxNiAvKiBDb21wb25lbnRVbmtub3duICovKSB7XHJcbiAgICAgICAgZmxhZ3MgPSBpbmZlcm5vX3NoYXJlZF8xLmlzU3RhdGVmdWxDb21wb25lbnQodHlwZSkgPyA0IC8qIENvbXBvbmVudENsYXNzICovIDogOCAvKiBDb21wb25lbnRGdW5jdGlvbiAqLztcclxuICAgIH1cclxuICAgIHZhciB2Tm9kZSA9IG5ldyBWTm9kZShjaGlsZHJlbiA9PT0gdm9pZCAwID8gbnVsbCA6IGNoaWxkcmVuLCBjbGFzc05hbWUgPT09IHZvaWQgMCA/IG51bGwgOiBjbGFzc05hbWUsIGZsYWdzLCBrZXkgPT09IHZvaWQgMCA/IG51bGwgOiBrZXksIHByb3BzID09PSB2b2lkIDAgPyBudWxsIDogcHJvcHMsIHJlZiA9PT0gdm9pZCAwID8gbnVsbCA6IHJlZiwgdHlwZSk7XHJcbiAgICBpZiAobm9Ob3JtYWxpc2UgIT09IHRydWUpIHtcclxuICAgICAgICBub3JtYWxpemF0aW9uXzEubm9ybWFsaXplKHZOb2RlKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5jcmVhdGVWTm9kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmNyZWF0ZVZOb2RlKHZOb2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2Tm9kZTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVZOb2RlID0gY3JlYXRlVk5vZGU7XHJcbmZ1bmN0aW9uIGRpcmVjdENsb25lKHZOb2RlVG9DbG9uZSkge1xyXG4gICAgdmFyIG5ld1ZOb2RlO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGVUb0Nsb25lLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgdmFyIHByb3BzID0gdm9pZCAwO1xyXG4gICAgICAgIHZhciBwcm9wc1RvQ2xvbmUgPSB2Tm9kZVRvQ2xvbmUucHJvcHM7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzVG9DbG9uZSkpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wc1RvQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSBwcm9wc1RvQ2xvbmVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgbnVsbCwgbnVsbCwgcHJvcHMsIHZOb2RlVG9DbG9uZS5rZXksIHZOb2RlVG9DbG9uZS5yZWYsIHRydWUpO1xyXG4gICAgICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IG5ld1Byb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gYWxzbyBjbG9uZSBjb21wb25lbnQgY2hpbGRyZW4gdGhhdCBhcmUgaW4gcHJvcHNcclxuICAgICAgICAvLyBhcyB0aGUgY2hpbGRyZW4gbWF5IGFsc28gaGF2ZSBiZWVuIGhvaXN0ZWRcclxuICAgICAgICBpZiAobmV3Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBuZXdDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXBBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpICYmIGlzVk5vZGUoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKGNoaWxkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSB0bXBBcnJheTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1ZOb2RlKG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSBkaXJlY3RDbG9uZShuZXdDaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Vk5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZVRvQ2xvbmUuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHByb3BzID0gdm9pZCAwO1xyXG4gICAgICAgIHZhciBwcm9wc1RvQ2xvbmUgPSB2Tm9kZVRvQ2xvbmUucHJvcHM7XHJcbiAgICAgICAgaWYgKHByb3BzVG9DbG9uZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzVG9DbG9uZSkge1xyXG4gICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHByb3BzVG9DbG9uZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCB2Tm9kZVRvQ2xvbmUuY2xhc3NOYW1lLCBjaGlsZHJlbiwgcHJvcHMsIHZOb2RlVG9DbG9uZS5rZXksIHZOb2RlVG9DbG9uZS5yZWYsICFjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVGV4dFZOb2RlKHZOb2RlVG9DbG9uZS5jaGlsZHJlbiwgdk5vZGVUb0Nsb25lLmtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Vk5vZGU7XHJcbn1cclxuZXhwb3J0cy5kaXJlY3RDbG9uZSA9IGRpcmVjdENsb25lO1xyXG4vKlxyXG4gZGlyZWN0Q2xvbmUgaXMgcHJlZmVycmVkIG92ZXIgY2xvbmVWTm9kZSBhbmQgdXNlZCBpbnRlcm5hbGx5IGFsc28uXHJcbiBUaGlzIGZ1bmN0aW9uIG1ha2VzIEluZmVybm8gYmFja3dhcmRzIGNvbXBhdGlibGUuXHJcbiBBbmQgY2FuIGJlIHRyZWUtc2hha2VkIGJ5IG1vZGVybiBidW5kbGVyc1xyXG5cclxuIFdvdWxkIGJlIG5pY2UgdG8gY29tYmluZSB0aGlzIHdpdGggZGlyZWN0Q2xvbmUgYnV0IGNvdWxkIG5vdCBkbyBpdCB3aXRob3V0IGJyZWFraW5nIGNoYW5nZVxyXG4gKi9cclxuLyoqXHJcbiAqIENsb25lcyBnaXZlbiB2aXJ0dWFsIG5vZGUgYnkgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGl0XHJcbiAqIEBwYXJhbSB7Vk5vZGV9IHZOb2RlVG9DbG9uZSB2aXJ0dWFsIG5vZGUgdG8gYmUgY2xvbmVkXHJcbiAqIEBwYXJhbSB7UHJvcHM9fSBwcm9wcyBhZGRpdGlvbmFsIHByb3BzIGZvciBuZXcgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7Li4uKn0gX2NoaWxkcmVuIG5ldyBjaGlsZHJlbiBmb3IgbmV3IHZpcnR1YWwgbm9kZVxyXG4gKiBAcmV0dXJucyB7Vk5vZGV9IG5ldyB2aXJ0dWFsIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIGNsb25lVk5vZGUodk5vZGVUb0Nsb25lLCBwcm9wcykge1xyXG4gICAgdmFyIF9jaGlsZHJlbiA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBfY2hpbGRyZW5bX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBfY2hpbGRyZW47XHJcbiAgICB2YXIgY2hpbGRyZW5MZW4gPSBfY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgaWYgKGNoaWxkcmVuTGVuID4gMCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChfY2hpbGRyZW5bMF0pKSB7XHJcbiAgICAgICAgaWYgKCFwcm9wcykge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hpbGRyZW5MZW4gPT09IDEpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfY2hpbGRyZW5bMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgbmV3Vk5vZGU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KHZOb2RlVG9DbG9uZSkpIHtcclxuICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdk5vZGVUb0Nsb25lLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRtcEFycmF5LnB1c2goZGlyZWN0Q2xvbmUodk5vZGVUb0Nsb25lW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlID0gdG1wQXJyYXk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZmxhZ3MgPSB2Tm9kZVRvQ2xvbmUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHZOb2RlVG9DbG9uZS5jbGFzc05hbWUgfHwgKHByb3BzICYmIHByb3BzLmNsYXNzTmFtZSk7XHJcbiAgICAgICAgdmFyIGtleSA9ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodk5vZGVUb0Nsb25lLmtleSkgPyB2Tm9kZVRvQ2xvbmUua2V5IDogKHByb3BzID8gcHJvcHMua2V5IDogbnVsbCk7XHJcbiAgICAgICAgdmFyIHJlZiA9IHZOb2RlVG9DbG9uZS5yZWYgfHwgKHByb3BzID8gcHJvcHMucmVmIDogbnVsbCk7XHJcbiAgICAgICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCBjbGFzc05hbWUsIG51bGwsICghdk5vZGVUb0Nsb25lLnByb3BzICYmICFwcm9wcykgPyB1dGlsc18xLkVNUFRZX09CSiA6IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20odk5vZGVUb0Nsb25lLnByb3BzLCBwcm9wcyksIGtleSwgcmVmLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgICAgIGlmIChuZXdQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkcmVuID0gbmV3UHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGFsc28gY2xvbmUgY29tcG9uZW50IGNoaWxkcmVuIHRoYXQgYXJlIGluIHByb3BzXHJcbiAgICAgICAgICAgICAgICAvLyBhcyB0aGUgY2hpbGRyZW4gbWF5IGFsc28gaGF2ZSBiZWVuIGhvaXN0ZWRcclxuICAgICAgICAgICAgICAgIGlmIChuZXdDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV3Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW4gPSBuZXdDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZW4gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBuZXdDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpc1ZOb2RlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKGNoaWxkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSB0bXBBcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1ZOb2RlKG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcy5jaGlsZHJlbiA9IGRpcmVjdENsb25lKG5ld0NoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Vk5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IChwcm9wcyAmJiAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwcm9wcy5jaGlsZHJlbikpID8gcHJvcHMuY2hpbGRyZW4gOiB2Tm9kZVRvQ2xvbmUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCAoIXZOb2RlVG9DbG9uZS5wcm9wcyAmJiAhcHJvcHMpID8gdXRpbHNfMS5FTVBUWV9PQkogOiBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHZOb2RlVG9DbG9uZS5wcm9wcywgcHJvcHMpLCBrZXksIHJlZiwgIWNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVUZXh0Vk5vZGUodk5vZGVUb0Nsb25lLmNoaWxkcmVuLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXdWTm9kZTtcclxufVxyXG5leHBvcnRzLmNsb25lVk5vZGUgPSBjbG9uZVZOb2RlO1xyXG5mdW5jdGlvbiBjcmVhdGVWb2lkVk5vZGUoKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoNDA5NiAvKiBWb2lkICovLCBudWxsKTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVZvaWRWTm9kZSA9IGNyZWF0ZVZvaWRWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQsIGtleSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKDEgLyogVGV4dCAqLywgbnVsbCwgbnVsbCwgdGV4dCwgbnVsbCwga2V5KTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVRleHRWTm9kZSA9IGNyZWF0ZVRleHRWTm9kZTtcclxuZnVuY3Rpb24gaXNWTm9kZShvKSB7XHJcbiAgICByZXR1cm4gISFvLmZsYWdzO1xyXG59XHJcbmV4cG9ydHMuaXNWTm9kZSA9IGlzVk5vZGU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvY29yZS9WTm9kZXMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vY29yZS9vcHRpb25zXCIpO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi4vY29yZS9WTm9kZXNcIik7XHJcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcclxudmFyIGRlbGVnYXRpb25fMSA9IHJlcXVpcmUoXCIuL2V2ZW50cy9kZWxlZ2F0aW9uXCIpO1xyXG52YXIgbW91bnRpbmdfMSA9IHJlcXVpcmUoXCIuL21vdW50aW5nXCIpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJpbmdcIik7XHJcbnZhciB1bm1vdW50aW5nXzEgPSByZXF1aXJlKFwiLi91bm1vdW50aW5nXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL3dyYXBwZXJzL3Byb2Nlc3NFbGVtZW50XCIpO1xyXG5mdW5jdGlvbiBwYXRjaChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgaWYgKGxhc3RWTm9kZSAhPT0gbmV4dFZOb2RlKSB7XHJcbiAgICAgICAgdmFyIGxhc3RGbGFncyA9IGxhc3RWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dEZsYWdzID0gbmV4dFZOb2RlLmZsYWdzO1xyXG4gICAgICAgIGlmIChuZXh0RmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgaWYgKGxhc3RGbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hDb21wb25lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgbmV4dEZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50Q29tcG9uZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgKG5leHRGbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRWxlbWVudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRFbGVtZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRUZXh0KG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRWb2lkKG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGNhc2U6IG1vdW50IG5ldyBvbmUgcmVwbGFjaW5nIG9sZCBvbmVcclxuICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2ggPSBwYXRjaDtcclxuZnVuY3Rpb24gdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaEVsZW1lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBuZXh0VGFnID0gbmV4dFZOb2RlLnR5cGU7XHJcbiAgICB2YXIgbGFzdFRhZyA9IGxhc3RWTm9kZS50eXBlO1xyXG4gICAgaWYgKGxhc3RUYWcgIT09IG5leHRUYWcpIHtcclxuICAgICAgICB1dGlsc18xLnJlcGxhY2VXaXRoTmV3Tm9kZShsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICB2YXIgbGFzdFByb3BzID0gbGFzdFZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgdmFyIGxhc3RDaGlsZHJlbiA9IGxhc3RWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBsYXN0RmxhZ3MgPSBsYXN0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRGbGFncyA9IG5leHRWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dFJlZiA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgdmFyIGxhc3RDbGFzc05hbWUgPSBsYXN0Vk5vZGUuY2xhc3NOYW1lO1xyXG4gICAgICAgIHZhciBuZXh0Q2xhc3NOYW1lID0gbmV4dFZOb2RlLmNsYXNzTmFtZTtcclxuICAgICAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgKG5leHRGbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGxhc3RDaGlsZHJlbiAhPT0gbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4obGFzdEZsYWdzLCBuZXh0RmxhZ3MsIGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5saW5lZCBwYXRjaFByb3BzICAtLSBzdGFydHMgLS1cclxuICAgICAgICBpZiAobGFzdFByb3BzICE9PSBuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wc09yRW1wdHkgPSBsYXN0UHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgICAgIHZhciBuZXh0UHJvcHNPckVtcHR5ID0gbmV4dFByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHNPckVtcHR5ICE9PSB1dGlsc18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAobmV4dEZsYWdzICYgMzU4NCAvKiBGb3JtRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KG5leHRQcm9wc09yRW1wdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBuZXh0UHJvcHNPckVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gbGFzdFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQobmV4dEZsYWdzLCBuZXh0Vk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgZmFsc2UsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxhc3RQcm9wc09yRW1wdHkgIT09IHV0aWxzXzEuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxhc3RQcm9wc09yRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eVtwcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvcChwcm9wLCBsYXN0UHJvcHNPckVtcHR5W3Byb3BdLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbmxpbmVkIHBhdGNoUHJvcHMgIC0tIGVuZHMgLS1cclxuICAgICAgICBpZiAobGFzdENsYXNzTmFtZSAhPT0gbmV4dENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBuZXh0Q2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBuZXh0Q2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXh0UmVmKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0Vk5vZGUucmVmICE9PSBuZXh0UmVmIHx8IGlzUmVjeWNsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgbmV4dFJlZiwgbGlmZWN5Y2xlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoRWxlbWVudCA9IHBhdGNoRWxlbWVudDtcclxuZnVuY3Rpb24gcGF0Y2hDaGlsZHJlbihsYXN0RmxhZ3MsIG5leHRGbGFncywgbGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBwYXRjaEFycmF5ID0gZmFsc2U7XHJcbiAgICB2YXIgcGF0Y2hLZXllZCA9IGZhbHNlO1xyXG4gICAgaWYgKG5leHRGbGFncyAmIDY0IC8qIEhhc05vbktleWVkQ2hpbGRyZW4gKi8pIHtcclxuICAgICAgICBwYXRjaEFycmF5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChsYXN0RmxhZ3MgJiAzMiAvKiBIYXNLZXllZENoaWxkcmVuICovKSA+IDAgJiYgKG5leHRGbGFncyAmIDMyIC8qIEhhc0tleWVkQ2hpbGRyZW4gKi8pID4gMCkge1xyXG4gICAgICAgIHBhdGNoS2V5ZWQgPSB0cnVlO1xyXG4gICAgICAgIHBhdGNoQXJyYXkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEudXBkYXRlVGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgdXRpbHNfMS5zZXRUZXh0Q29udGVudChkb20sIG5leHRDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGxhc3RDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcGF0Y2hBcnJheSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh1dGlsc18xLmlzS2V5ZWQobGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudEFycmF5Q2hpbGRyZW4obmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoVk5vZGVzXzEuaXNWTm9kZShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXRjaEFycmF5KSB7XHJcbiAgICAgICAgaWYgKHBhdGNoS2V5ZWQpIHtcclxuICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhdGNoQ29tcG9uZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbGFzdFR5cGUgPSBsYXN0Vk5vZGUudHlwZTtcclxuICAgIHZhciBuZXh0VHlwZSA9IG5leHRWTm9kZS50eXBlO1xyXG4gICAgdmFyIGxhc3RLZXkgPSBsYXN0Vk5vZGUua2V5O1xyXG4gICAgdmFyIG5leHRLZXkgPSBuZXh0Vk5vZGUua2V5O1xyXG4gICAgaWYgKGxhc3RUeXBlICE9PSBuZXh0VHlwZSB8fCBsYXN0S2V5ICE9PSBuZXh0S2V5KSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlV2l0aE5ld05vZGUobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudENvbXBvbmVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChuZXh0Vk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApLCBsYXN0Vk5vZGUuZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNDb21wb25lbnREaWRVcGRhdGUgPSAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgLy8gV2hlbiBjb21wb25lbnQgaGFzIGNvbXBvbmVudERpZFVwZGF0ZSBob29rLCB3ZSBuZWVkIHRvIGNsb25lIGxhc3RTdGF0ZSBvciB3aWxsIGJlIG1vZGlmaWVkIGJ5IHJlZmVyZW5jZSBkdXJpbmcgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdFN0YXRlID0gaGFzQ29tcG9uZW50RGlkVXBkYXRlID8gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShuZXh0U3RhdGUsIG51bGwpIDogbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGluc3RhbmNlLnByb3BzO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9pc1NWRyA9IGlzU1ZHO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBsYXN0SW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRJbnB1dCA9IGluc3RhbmNlLl91cGRhdGVDb21wb25lbnQobGFzdFN0YXRlLCBuZXh0U3RhdGUsIGxhc3RQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gY2hpbGRDb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHRJbnB1dCA9PT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IGxhc3RJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChuZXh0SW5wdXQuZG9tKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuZXh0SW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQucGFyZW50Vk5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsYXN0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0SW5wdXQucGFyZW50Vk5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fbGFzdElucHV0ID0gbmV4dElucHV0O1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX3ZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpZFVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2hpbGRDb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKGxhc3RQcm9wcywgbGFzdFN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5hZnRlclVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUobmV4dFZOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBuZXh0SW5wdXQuZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuZG9tID0gbmV4dElucHV0LmRvbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBzaG91bGRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgbGFzdFByb3BzID0gbGFzdFZOb2RlLnByb3BzO1xyXG4gICAgICAgICAgICB2YXIgbmV4dEhvb2tzID0gbmV4dFZOb2RlLnJlZjtcclxuICAgICAgICAgICAgdmFyIG5leHRIb29rc0RlZmluZWQgPSAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIb29rcyk7XHJcbiAgICAgICAgICAgIHZhciBsYXN0SW5wdXQgPSBsYXN0Vk5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIHZhciBuZXh0SW5wdXQgPSBsYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgIG5leHRWTm9kZS5kb20gPSBsYXN0Vk5vZGUuZG9tO1xyXG4gICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBsYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgIGlmIChsYXN0S2V5ICE9PSBuZXh0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnRTaG91bGRVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gbmV4dEhvb2tzLm9uQ29tcG9uZW50U2hvdWxkVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRIb29rcy5vbkNvbXBvbmVudFdpbGxVcGRhdGUobGFzdFByb3BzLCBuZXh0UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dElucHV0ID0gbmV4dFR5cGUobmV4dFByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVm9pZFZOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dElucHV0KSAmJiBuZXh0SW5wdXQgIT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVUZXh0Vk5vZGUobmV4dElucHV0LCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG5leHRJbnB1dC5kb20pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRJbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbnB1dCAhPT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBuZXh0SW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnREaWRVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRIb29rcy5vbkNvbXBvbmVudERpZFVwZGF0ZShsYXN0UHJvcHMsIG5leHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRWTm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuZXh0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIG5leHRJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIGxhc3RJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLnBhdGNoQ29tcG9uZW50ID0gcGF0Y2hDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSkge1xyXG4gICAgdmFyIG5leHRUZXh0ID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGRvbSA9IGxhc3RWTm9kZS5kb207XHJcbiAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKGxhc3RWTm9kZS5jaGlsZHJlbiAhPT0gbmV4dFRleHQpIHtcclxuICAgICAgICBkb20ubm9kZVZhbHVlID0gbmV4dFRleHQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFRleHQgPSBwYXRjaFRleHQ7XHJcbmZ1bmN0aW9uIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSkge1xyXG4gICAgbmV4dFZOb2RlLmRvbSA9IGxhc3RWTm9kZS5kb207XHJcbn1cclxuZXhwb3J0cy5wYXRjaFZvaWQgPSBwYXRjaFZvaWQ7XHJcbmZ1bmN0aW9uIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGxhc3RDaGlsZHJlbkxlbmd0aCA9IGxhc3RDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICB2YXIgbmV4dENoaWxkcmVuTGVuZ3RoID0gbmV4dENoaWxkcmVuLmxlbmd0aDtcclxuICAgIHZhciBjb21tb25MZW5ndGggPSBsYXN0Q2hpbGRyZW5MZW5ndGggPiBuZXh0Q2hpbGRyZW5MZW5ndGggPyBuZXh0Q2hpbGRyZW5MZW5ndGggOiBsYXN0Q2hpbGRyZW5MZW5ndGg7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBmb3IgKDsgaSA8IGNvbW1vbkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXTtcclxuICAgICAgICBpZiAobmV4dENoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICBuZXh0Q2hpbGQgPSBuZXh0Q2hpbGRyZW5baV0gPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuZXh0Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXRjaChsYXN0Q2hpbGRyZW5baV0sIG5leHRDaGlsZCwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAobGFzdENoaWxkcmVuTGVuZ3RoIDwgbmV4dENoaWxkcmVuTGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChpID0gY29tbW9uTGVuZ3RoOyBpIDwgbmV4dENoaWxkcmVuTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKG5leHRDaGlsZC5kb20pIHtcclxuICAgICAgICAgICAgICAgIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRDaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChkb20sIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobmV4dENoaWxkcmVuTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsYXN0Q2hpbGRyZW5MZW5ndGggPiBuZXh0Q2hpbGRyZW5MZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGkgPSBjb21tb25MZW5ndGg7IGkgPCBsYXN0Q2hpbGRyZW5MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChsYXN0Q2hpbGRyZW5baV0sIGRvbSwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoTm9uS2V5ZWRDaGlsZHJlbiA9IHBhdGNoTm9uS2V5ZWRDaGlsZHJlbjtcclxuZnVuY3Rpb24gcGF0Y2hLZXllZENoaWxkcmVuKGEsIGIsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBhTGVuZ3RoID0gYS5sZW5ndGg7XHJcbiAgICB2YXIgYkxlbmd0aCA9IGIubGVuZ3RoO1xyXG4gICAgdmFyIGFFbmQgPSBhTGVuZ3RoIC0gMTtcclxuICAgIHZhciBiRW5kID0gYkxlbmd0aCAtIDE7XHJcbiAgICB2YXIgYVN0YXJ0ID0gMDtcclxuICAgIHZhciBiU3RhcnQgPSAwO1xyXG4gICAgdmFyIGk7XHJcbiAgICB2YXIgajtcclxuICAgIHZhciBhTm9kZTtcclxuICAgIHZhciBiTm9kZTtcclxuICAgIHZhciBuZXh0Tm9kZTtcclxuICAgIHZhciBuZXh0UG9zO1xyXG4gICAgdmFyIG5vZGU7XHJcbiAgICBpZiAoYUxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlmIChiTGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihiLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChiTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGEsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBhU3RhcnROb2RlID0gYVthU3RhcnRdO1xyXG4gICAgdmFyIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICB2YXIgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgdmFyIGJFbmROb2RlID0gYltiRW5kXTtcclxuICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgIGJbYlN0YXJ0XSA9IGJTdGFydE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiU3RhcnROb2RlKTtcclxuICAgIH1cclxuICAgIGlmIChiRW5kTm9kZS5kb20pIHtcclxuICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICB9XHJcbiAgICAvLyBTdGVwIDFcclxuICAgIC8qIGVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IDAgKi9cclxuICAgIG91dGVyOiB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIC8vIFN5bmMgbm9kZXMgd2l0aCB0aGUgc2FtZSBrZXkgYXQgdGhlIGJlZ2lubmluZy5cclxuICAgICAgICB3aGlsZSAoYVN0YXJ0Tm9kZS5rZXkgPT09IGJTdGFydE5vZGUua2V5KSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGFTdGFydE5vZGUsIGJTdGFydE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBhU3RhcnQrKztcclxuICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgIGlmIChhU3RhcnQgPiBhRW5kIHx8IGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICAgICAgICAgIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN5bmMgbm9kZXMgd2l0aCB0aGUgc2FtZSBrZXkgYXQgdGhlIGVuZC5cclxuICAgICAgICB3aGlsZSAoYUVuZE5vZGUua2V5ID09PSBiRW5kTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYUVuZE5vZGUsIGJFbmROb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgYUVuZC0tO1xyXG4gICAgICAgICAgICBiRW5kLS07XHJcbiAgICAgICAgICAgIGlmIChhU3RhcnQgPiBhRW5kIHx8IGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFFbmROb2RlID0gYVthRW5kXTtcclxuICAgICAgICAgICAgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgICAgICAgICBpZiAoYkVuZE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTW92ZSBhbmQgc3luYyBub2RlcyBmcm9tIHJpZ2h0IHRvIGxlZnQuXHJcbiAgICAgICAgaWYgKGFFbmROb2RlLmtleSA9PT0gYlN0YXJ0Tm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYUVuZE5vZGUsIGJTdGFydE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgYlN0YXJ0Tm9kZS5kb20sIGFTdGFydE5vZGUuZG9tKTtcclxuICAgICAgICAgICAgYUVuZC0tO1xyXG4gICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgICAgICAgICBiU3RhcnROb2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICBpZiAoYlN0YXJ0Tm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IGJTdGFydE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiU3RhcnROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTW92ZSBhbmQgc3luYyBub2RlcyBmcm9tIGxlZnQgdG8gcmlnaHQuXHJcbiAgICAgICAgaWYgKGFTdGFydE5vZGUua2V5ID09PSBiRW5kTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYVN0YXJ0Tm9kZSwgYkVuZE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBuZXh0UG9zID0gYkVuZCArIDE7XHJcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgYkVuZE5vZGUuZG9tLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgIGFTdGFydCsrO1xyXG4gICAgICAgICAgICBiRW5kLS07XHJcbiAgICAgICAgICAgIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICAgICAgICAgIGJFbmROb2RlID0gYltiRW5kXTtcclxuICAgICAgICAgICAgaWYgKGJFbmROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiRW5kXSA9IGJFbmROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYkVuZE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGlmIChhU3RhcnQgPiBhRW5kKSB7XHJcbiAgICAgICAgaWYgKGJTdGFydCA8PSBiRW5kKSB7XHJcbiAgICAgICAgICAgIG5leHRQb3MgPSBiRW5kICsgMTtcclxuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgIHdoaWxlIChiU3RhcnQgPD0gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJTdGFydCsrO1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICB3aGlsZSAoYVN0YXJ0IDw9IGFFbmQpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoYVthU3RhcnQrK10sIGRvbSwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFMZW5ndGggPSBhRW5kIC0gYVN0YXJ0ICsgMTtcclxuICAgICAgICBiTGVuZ3RoID0gYkVuZCAtIGJTdGFydCArIDE7XHJcbiAgICAgICAgdmFyIHNvdXJjZXMgPSBuZXcgQXJyYXkoYkxlbmd0aCk7XHJcbiAgICAgICAgLy8gTWFyayBhbGwgbm9kZXMgYXMgaW5zZXJ0ZWQuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzb3VyY2VzW2ldID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBwb3MgPSAwO1xyXG4gICAgICAgIHZhciBwYXRjaGVkID0gMDtcclxuICAgICAgICAvLyBXaGVuIHNpemVzIGFyZSBzbWFsbCwganVzdCBsb29wIHRoZW0gdGhyb3VnaFxyXG4gICAgICAgIGlmICgoYkxlbmd0aCA8PSA0KSB8fCAoYUxlbmd0aCAqIGJMZW5ndGggPD0gMTYpKSB7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGFTdGFydDsgaSA8PSBhRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkIDwgYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IGJTdGFydDsgaiA8PSBiRW5kOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYk5vZGUgPSBiW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYU5vZGUua2V5ID09PSBiTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXNbaiAtIGJTdGFydF0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJOb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbal0gPSBiTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoKGFOb2RlLCBiTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2ldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIga2V5SW5kZXggPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIC8vIE1hcCBrZXlzIGJ5IHRoZWlyIGluZGV4IGluIGFycmF5XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGJTdGFydDsgaSA8PSBiRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGtleUluZGV4LnNldChiW2ldLmtleSwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVHJ5IHRvIHBhdGNoIHNhbWUga2V5c1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBhU3RhcnQ7IGkgPD0gYUVuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhTm9kZSA9IGFbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA8IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBqID0ga2V5SW5kZXguZ2V0KGFOb2RlLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJOb2RlID0gYltqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlc1tqIC0gYlN0YXJ0XSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPiBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiTm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbal0gPSBiTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaChhTm9kZSwgYk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmYXN0LXBhdGg6IGlmIG5vdGhpbmcgcGF0Y2hlZCByZW1vdmUgYWxsIG9sZCBhbmQgYWRkIGFsbCBuZXdcclxuICAgICAgICBpZiAoYUxlbmd0aCA9PT0gYS5sZW5ndGggJiYgcGF0Y2hlZCA9PT0gMCkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgYSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIHdoaWxlIChiU3RhcnQgPCBiTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYltiU3RhcnRdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGkgPSBhTGVuZ3RoIC0gcGF0Y2hlZDtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhTm9kZSA9IGFbYVN0YXJ0KytdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChhTm9kZSwgZG9tLCBsaWZlY3ljbGUsIHRydWUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VxID0gbGlzX2FsZ29yaXRobShzb3VyY2VzKTtcclxuICAgICAgICAgICAgICAgIGogPSBzZXEubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGJMZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW2ldID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBpICsgYlN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltwb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbcG9zXSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UG9zID0gcG9zICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBzZXFbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltwb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBvcyA9IHBvcyArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBub2RlLmRvbSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBhdGNoZWQgIT09IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcGF0Y2hlZCBjb3VudCBkb2Vzbid0IG1hdGNoIGIgbGVuZ3RoIHdlIG5lZWQgdG8gaW5zZXJ0IHRob3NlIG5ldyBvbmVzXHJcbiAgICAgICAgICAgICAgICAvLyBsb29wIGJhY2t3YXJkcyBzbyB3ZSBjYW4gdXNlIGluc2VydEJlZm9yZVxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gYkxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbaV0gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltwb3NdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQb3MgPSBwb3MgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEtleWVkQ2hpbGRyZW4gPSBwYXRjaEtleWVkQ2hpbGRyZW47XHJcbi8vIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xvbmdlc3RfaW5jcmVhc2luZ19zdWJzZXF1ZW5jZVxyXG5mdW5jdGlvbiBsaXNfYWxnb3JpdGhtKGFycikge1xyXG4gICAgdmFyIHAgPSBhcnIuc2xpY2UoMCk7XHJcbiAgICB2YXIgcmVzdWx0ID0gWzBdO1xyXG4gICAgdmFyIGk7XHJcbiAgICB2YXIgajtcclxuICAgIHZhciB1O1xyXG4gICAgdmFyIHY7XHJcbiAgICB2YXIgYztcclxuICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGFyckkgPSBhcnJbaV07XHJcbiAgICAgICAgaWYgKGFyckkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xyXG4gICAgICAgICAgICBwW2ldID0gajtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1ID0gMDtcclxuICAgICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgd2hpbGUgKHUgPCB2KSB7XHJcbiAgICAgICAgICAgIGMgPSAoKHUgKyB2KSAvIDIpIHwgMDtcclxuICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgdSA9IGMgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdiA9IGM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyckkgPCBhcnJbcmVzdWx0W3VdXSkge1xyXG4gICAgICAgICAgICBpZiAodSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdFt1XSA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdSA9IHJlc3VsdC5sZW5ndGg7XHJcbiAgICB2ID0gcmVzdWx0W3UgLSAxXTtcclxuICAgIHdoaWxlICh1LS0gPiAwKSB7XHJcbiAgICAgICAgcmVzdWx0W3VdID0gdjtcclxuICAgICAgICB2ID0gcFt2XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gaXNBdHRyQW5FdmVudChhdHRyKSB7XHJcbiAgICByZXR1cm4gYXR0clswXSA9PT0gJ28nICYmIGF0dHJbMV0gPT09ICduJztcclxufVxyXG5leHBvcnRzLmlzQXR0ckFuRXZlbnQgPSBpc0F0dHJBbkV2ZW50O1xyXG5mdW5jdGlvbiBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSkge1xyXG4gICAgaWYgKGxhc3RWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGNvbnN0YW50c18xLnNraXBQcm9wcy5oYXMocHJvcCkgfHwgKGhhc0NvbnRyb2xsZWRWYWx1ZSAmJiBwcm9wID09PSAndmFsdWUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLmJvb2xlYW5Qcm9wcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgcHJvcCA9IHByb3AgPT09ICdhdXRvRm9jdXMnID8gcHJvcC50b0xvd2VyQ2FzZSgpIDogcHJvcDtcclxuICAgICAgICAgICAgZG9tW3Byb3BdID0gISFuZXh0VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLnN0cmljdFByb3BzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSA/ICcnIDogbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZG9tW3Byb3BdICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZG9tW3Byb3BdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgICAgICBwYXRjaEV2ZW50KHByb3AsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSkge1xyXG4gICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgIHBhdGNoU3R5bGUobGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdkYW5nZXJvdXNseVNldElubmVySFRNTCcpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFZhbHVlICYmIGxhc3RWYWx1ZS5fX2h0bWw7XHJcbiAgICAgICAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRWYWx1ZSAmJiBuZXh0VmFsdWUuX19odG1sO1xyXG4gICAgICAgICAgICBpZiAobGFzdEh0bWwgIT09IG5leHRIdG1sKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SHRtbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20uaW5uZXJIVE1MID0gbmV4dEh0bWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFdlIG9wdGltaXplIGZvciBOUyBiZWluZyBib29sZWFuLiBJdHMgOTkuOSUgdGltZSBmYWxzZVxyXG4gICAgICAgICAgICBpZiAoaXNTVkcgJiYgY29uc3RhbnRzXzEubmFtZXNwYWNlcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGVuZCB1cCBpbiB0aGlzIHBhdGggd2UgY2FuIHJlYWQgcHJvcGVydHkgYWdhaW5cclxuICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGVOUyhjb25zdGFudHNfMS5uYW1lc3BhY2VzLmdldChwcm9wKSwgcHJvcCwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUocHJvcCwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoUHJvcCA9IHBhdGNoUHJvcDtcclxuZnVuY3Rpb24gcGF0Y2hFdmVudChuYW1lLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKSB7XHJcbiAgICBpZiAobGFzdFZhbHVlICE9PSBuZXh0VmFsdWUpIHtcclxuICAgICAgICBpZiAoY29uc3RhbnRzXzEuZGVsZWdhdGVkRXZlbnRzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICBkZWxlZ2F0aW9uXzEuaGFuZGxlRXZlbnQobmFtZSwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbmFtZUxvd2VyQ2FzZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gZG9tW25hbWVMb3dlckNhc2VdO1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgZnVuY3Rpb24gaXMgd3JhcHBlZCwgdGhhdCBtZWFucyBpdCdzIGJlZW4gY29udHJvbGxlZCBieSBhIHdyYXBwZXJcclxuICAgICAgICAgICAgaWYgKGRvbUV2ZW50ICYmIGRvbUV2ZW50LndyYXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihuZXh0VmFsdWUpICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmtFdmVudF8xID0gbmV4dFZhbHVlLmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmtFdmVudF8xICYmIGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihsaW5rRXZlbnRfMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rRXZlbnRfMShuZXh0VmFsdWUuZGF0YSwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImFuIGV2ZW50IG9uIGEgVk5vZGUgXFxcIlwiICsgbmFtZSArIFwiXFxcIi4gd2FzIG5vdCBhIGZ1bmN0aW9uIG9yIGEgdmFsaWQgbGlua0V2ZW50LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEV2ZW50ID0gcGF0Y2hFdmVudDtcclxuLy8gV2UgYXJlIGFzc3VtaW5nIGhlcmUgdGhhdCB3ZSBjb21lIGZyb20gcGF0Y2hQcm9wIHJvdXRpbmVcclxuLy8gLW5leHRBdHRyVmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXHJcbmZ1bmN0aW9uIHBhdGNoU3R5bGUobGFzdEF0dHJWYWx1ZSwgbmV4dEF0dHJWYWx1ZSwgZG9tKSB7XHJcbiAgICB2YXIgZG9tU3R5bGUgPSBkb20uc3R5bGU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyhuZXh0QXR0clZhbHVlKSkge1xyXG4gICAgICAgIGRvbVN0eWxlLmNzc1RleHQgPSBuZXh0QXR0clZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAodmFyIHN0eWxlIGluIG5leHRBdHRyVmFsdWUpIHtcclxuICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRBdHRyVmFsdWVbc3R5bGVdO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bWJlcih2YWx1ZSkgfHwgY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlci5oYXMoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gdmFsdWUgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGxhc3RBdHRyVmFsdWUpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3R5bGUgaW4gbGFzdEF0dHJWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRBdHRyVmFsdWVbc3R5bGVdKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFN0eWxlID0gcGF0Y2hTdHlsZTtcclxuZnVuY3Rpb24gcmVtb3ZlUHJvcChwcm9wLCBsYXN0VmFsdWUsIGRvbSkge1xyXG4gICAgaWYgKHByb3AgPT09ICd2YWx1ZScpIHtcclxuICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgIGRlbGVnYXRpb25fMS5oYW5kbGVFdmVudChwcm9wLCBsYXN0VmFsdWUsIG51bGwsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3BhdGNoaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgb3B0aW9uc18xID0gcmVxdWlyZShcIi4uL2NvcmUvb3B0aW9uc1wiKTtcclxudmFyIFZOb2Rlc18xID0gcmVxdWlyZShcIi4uL2NvcmUvVk5vZGVzXCIpO1xyXG52YXIgaHlkcmF0aW9uXzEgPSByZXF1aXJlKFwiLi9oeWRyYXRpb25cIik7XHJcbnZhciBtb3VudGluZ18xID0gcmVxdWlyZShcIi4vbW91bnRpbmdcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciB1bm1vdW50aW5nXzEgPSByZXF1aXJlKFwiLi91bm1vdW50aW5nXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG4vLyByYXRoZXIgdGhhbiB1c2UgYSBNYXAsIGxpa2Ugd2UgZGlkIGJlZm9yZSwgd2UgY2FuIHVzZSBhbiBhcnJheSBoZXJlXHJcbi8vIGdpdmVuIHRoZXJlIHNob3VsZG4ndCBiZSBUSEFUIG1hbnkgcm9vdHMgb24gdGhlIHBhZ2UsIHRoZSBkaWZmZXJlbmNlXHJcbi8vIGluIHBlcmZvcm1hbmNlIGlzIGh1Z2U6IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTgwMmE2OTEzMzBhYjA5OTAwYTFhMmRhXHJcbmV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwID0gbmV3IE1hcCgpO1xyXG52YXIgcm9vdHMgPSBvcHRpb25zXzEub3B0aW9ucy5yb290cztcclxuLyoqXHJcbiAqIFdoZW4gaW5mZXJuby5vcHRpb25zLmZpbmRET01OT2RlRW5hYmxlZCBpcyB0cnVlLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIERPTSBOb2RlIGJ5IGNvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0gcmVmIENvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcmV0dXJucyB7KnxudWxsfSByZXR1cm5zIGRvbSBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kRE9NTm9kZShyZWYpIHtcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdmaW5kRE9NTm9kZSgpIGhhcyBiZWVuIGRpc2FibGVkLCB1c2UgSW5mZXJuby5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCA9IHRydWU7IGVuYWJsZWQgZmluZERPTU5vZGUoKS4gV2FybmluZyB0aGlzIGNhbiBzaWduaWZpY2FudGx5IGltcGFjdCBwZXJmb3JtYW5jZSEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgZG9tID0gcmVmICYmIHJlZi5ub2RlVHlwZSA/IHJlZiA6IG51bGw7XHJcbiAgICByZXR1cm4gZXhwb3J0cy5jb21wb25lbnRUb0RPTU5vZGVNYXAuZ2V0KHJlZikgfHwgZG9tO1xyXG59XHJcbmV4cG9ydHMuZmluZERPTU5vZGUgPSBmaW5kRE9NTm9kZTtcclxuZnVuY3Rpb24gZ2V0Um9vdChkb20pIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb290cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciByb290ID0gcm9vdHNbaV07XHJcbiAgICAgICAgaWYgKHJvb3QuZG9tID09PSBkb20pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZnVuY3Rpb24gc2V0Um9vdChkb20sIGlucHV0LCBsaWZlY3ljbGUpIHtcclxuICAgIHZhciByb290ID0ge1xyXG4gICAgICAgIGRvbTogZG9tLFxyXG4gICAgICAgIGlucHV0OiBpbnB1dCxcclxuICAgICAgICBsaWZlY3ljbGU6IGxpZmVjeWNsZVxyXG4gICAgfTtcclxuICAgIHJvb3RzLnB1c2gocm9vdCk7XHJcbiAgICByZXR1cm4gcm9vdDtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVSb290KHJvb3QpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb290cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGlmIChyb290c1tpXSA9PT0gcm9vdCkge1xyXG4gICAgICAgICAgICByb290cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3NlciAmJiBkb2N1bWVudC5ib2R5ID09PSBudWxsKSB7XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCdJbmZlcm5vIHdhcm5pbmc6IHlvdSBjYW5ub3QgaW5pdGlhbGl6ZSBpbmZlcm5vIHdpdGhvdXQgXCJkb2N1bWVudC5ib2R5XCIuIFdhaXQgb24gXCJET01Db250ZW50TG9hZGVkXCIgZXZlbnQsIGFkZCBzY3JpcHQgdG8gYm90dG9tIG9mIGJvZHksIG9yIHVzZSBhc3luYy9kZWZlciBhdHRyaWJ1dGVzIG9uIHNjcmlwdCB0YWcuJyk7XHJcbiAgICB9XHJcbn1cclxudmFyIGRvY3VtZW50Qm9keSA9IGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XHJcbi8qKlxyXG4gKiBSZW5kZXJzIHZpcnR1YWwgbm9kZSB0cmVlIGludG8gcGFyZW50IG5vZGUuXHJcbiAqIEBwYXJhbSB7Vk5vZGUgfCBudWxsIHwgc3RyaW5nIHwgbnVtYmVyfSBpbnB1dCB2Tm9kZSB0byBiZSByZW5kZXJlZFxyXG4gKiBAcGFyYW0gcGFyZW50RG9tIERPTSBub2RlIHdoaWNoIGNvbnRlbnQgd2lsbCBiZSByZXBsYWNlZCBieSB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge0luZmVybm9DaGlsZHJlbn0gcmVuZGVyZWQgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXIoaW5wdXQsIHBhcmVudERvbSkge1xyXG4gICAgaWYgKGRvY3VtZW50Qm9keSA9PT0gcGFyZW50RG9tKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCd5b3UgY2Fubm90IHJlbmRlcigpIHRvIHRoZSBcImRvY3VtZW50LmJvZHlcIi4gVXNlIGFuIGVtcHR5IGVsZW1lbnQgYXMgYSBjb250YWluZXIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcm9vdCA9IGdldFJvb3QocGFyZW50RG9tKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChyb290KSkge1xyXG4gICAgICAgIHZhciBsaWZlY3ljbGUgPSBuZXcgaW5mZXJub19zaGFyZWRfMS5MaWZlY3ljbGUoKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGlucHV0KSkge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWh5ZHJhdGlvbl8xLmh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQoaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvb3QgPSBzZXRSb290KHBhcmVudERvbSwgaW5wdXQsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGxpZmVjeWNsZSA9IHJvb3QubGlmZWN5Y2xlO1xyXG4gICAgICAgIGxpZmVjeWNsZS5saXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGlucHV0KSkge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChyb290LmlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlUm9vdChyb290KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2gocm9vdC5pbnB1dCwgaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm9vdC5pbnB1dCA9IGlucHV0O1xyXG4gICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICB9XHJcbiAgICBpZiAocm9vdCkge1xyXG4gICAgICAgIHZhciByb290SW5wdXQgPSByb290LmlucHV0O1xyXG4gICAgICAgIGlmIChyb290SW5wdXQgJiYgKHJvb3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3RJbnB1dC5jaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKHBhcmVudERvbSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlbmRlcmVyKGxhc3RJbnB1dCwgbmV4dElucHV0KSB7XHJcbiAgICAgICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICAgICAgcGFyZW50RG9tID0gbGFzdElucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZW5kZXIobmV4dElucHV0LCBwYXJlbnREb20pO1xyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3JlbmRlcmluZy5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jb21wb25lbnRcIik7XHJcbnZhciBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jcmVhdGUtZWxlbWVudFwiKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxudmFyIFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuX29uQ29tcG9uZW50UmVzb2x2ZWQgPSBmdW5jdGlvbiAoZXJyb3IsIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBhc3luY0NvbXBvbmVudDogY29tcG9uZW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGFzeW5jQ29tcG9uZW50OiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSB0aGlzLnByb3BzLm9uRW50ZXI7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKG9uRW50ZXIpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25FbnRlcih7IHByb3BzOiBfdGhpcy5wcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gdGhpcy5wcm9wcy5nZXRDb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKGdldENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnQoeyBwcm9wczogX3RoaXMucHJvcHMsIHJvdXRlcjogcm91dGVyIH0sIF90aGlzLl9vbkNvbXBvbmVudFJlc29sdmVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5vbkxlYXZlID0gZnVuY3Rpb24gKHRyaWdnZXIpIHtcclxuICAgICAgICBpZiAodHJpZ2dlciA9PT0gdm9pZCAwKSB7IHRyaWdnZXIgPSBmYWxzZTsgfVxyXG4gICAgICAgIHZhciBvbkxlYXZlID0gdGhpcy5wcm9wcy5vbkxlYXZlO1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xyXG4gICAgICAgIGlmIChvbkxlYXZlICYmIHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgb25MZWF2ZSh7IHByb3BzOiB0aGlzLnByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLm9uRW50ZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSBuZXh0UHJvcHMub25FbnRlcjtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBvbkVudGVyKSB7XHJcbiAgICAgICAgICAgIG9uRW50ZXIoeyBwcm9wczogbmV4dFByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gbmV4dFByb3BzLmdldENvbXBvbmVudDtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBnZXRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50KHsgcHJvcHM6IG5leHRQcm9wcywgcm91dGVyOiByb3V0ZXIgfSwgdGhpcy5fb25Db21wb25lbnRSZXNvbHZlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uRW50ZXIobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChfYXJncykge1xyXG4gICAgICAgIHZhciBjb21wb25lbnQgPSBfYXJncy5jb21wb25lbnQsIGNoaWxkcmVuID0gX2FyZ3MuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHByb3BzID0gdXRpbHNfMS5yZXN0KF9hcmdzLCBbJ2NvbXBvbmVudCcsICdjaGlsZHJlbicsICdwYXRoJywgJ2dldENvbXBvbmVudCddKTtcclxuICAgICAgICB2YXIgYXN5bmNDb21wb25lbnQgPSB0aGlzLnN0YXRlLmFzeW5jQ29tcG9uZW50O1xyXG4gICAgICAgIHZhciByZXNvbHZlZENvbXBvbmVudCA9IGNvbXBvbmVudCB8fCBhc3luY0NvbXBvbmVudDtcclxuICAgICAgICBpZiAoIXJlc29sdmVkQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KHJlc29sdmVkQ29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZTtcclxufShpbmZlcm5vX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L1JvdXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMueGxpbmtOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcclxuZXhwb3J0cy54bWxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnO1xyXG5leHBvcnRzLnN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuZXhwb3J0cy5zdHJpY3RQcm9wcyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5zdHJpY3RQcm9wcy5hZGQoJ3ZvbHVtZScpO1xyXG5leHBvcnRzLnN0cmljdFByb3BzLmFkZCgnZGVmYXVsdENoZWNrZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbXV0ZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzY29wZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdsb29wJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnb3BlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NoZWNrZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdkZWZhdWx0Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnY2FwdHVyZScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2Rpc2FibGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgncmVhZE9ubHknKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdyZXF1aXJlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2F1dG9wbGF5Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnY29udHJvbHMnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzZWFtbGVzcycpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3JldmVyc2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnYWxsb3dmdWxsc2NyZWVuJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbm92YWxpZGF0ZScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2hpZGRlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2F1dG9Gb2N1cycpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3NlbGVjdGVkJyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcyA9IG5ldyBNYXAoKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6aHJlZicsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOmFyY3JvbGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazphY3R1YXRlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6c2hvdycsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnJvbGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazp0aXRsZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnR5cGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bWw6YmFzZScsIGV4cG9ydHMueG1sTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bWw6bGFuZycsIGV4cG9ydHMueG1sTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bWw6c3BhY2UnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdhbmltYXRpb25JdGVyYXRpb25Db3VudCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZU91dHNldCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZVNsaWNlJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JvcmRlckltYWdlV2lkdGgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94RmxleCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3hGbGV4R3JvdXAnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94T3JkaW5hbEdyb3VwJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2NvbHVtbkNvdW50Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleEdyb3cnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleFBvc2l0aXZlJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhTaHJpbmsnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleE5lZ2F0aXZlJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhPcmRlcicpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdncmlkUm93Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2dyaWRDb2x1bW4nKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZm9udFdlaWdodCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdsaW5lQ2xhbXAnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnbGluZUhlaWdodCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ29yZGVyJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ29ycGhhbnMnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgndGFiU2l6ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCd3aWRvd3MnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnekluZGV4Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3pvb20nKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmlsbE9wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxvb2RPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0b3BPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZURhc2hhcnJheScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VEYXNob2Zmc2V0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZU1pdGVybGltaXQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VXaWR0aCcpO1xyXG5leHBvcnRzLnNraXBQcm9wcyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGlsZHJlbicpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2NoaWxkcmVuVHlwZScpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2RlZmF1bHRWYWx1ZScpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ3JlZicpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2tleScpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2NoZWNrZWQnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdtdWx0aXBsZScpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbkNsaWNrJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZURvd24nKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbk1vdXNlVXAnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbk1vdXNlTW92ZScpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uU3VibWl0Jyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25EYmxDbGljaycpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uS2V5RG93bicpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uS2V5VXAnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleVByZXNzJyk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL2NvbnN0YW50cy5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL29wdGlvbnNcIik7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL1ZOb2Rlc1wiKTtcclxudmFyIHBhdGNoaW5nXzEgPSByZXF1aXJlKFwiLi9wYXRjaGluZ1wiKTtcclxudmFyIHJlY3ljbGluZ18xID0gcmVxdWlyZShcIi4vcmVjeWNsaW5nXCIpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJpbmdcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbnZhciBwcm9jZXNzRWxlbWVudF8xID0gcmVxdWlyZShcIi4vd3JhcHBlcnMvcHJvY2Vzc0VsZW1lbnRcIik7XHJcbmZ1bmN0aW9uIG1vdW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDQwOTYgLyogVm9pZCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudFZvaWQodk5vZGUsIHBhcmVudERvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudFRleHQodk5vZGUsIHBhcmVudERvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZOb2RlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwibW91bnQoKSByZWNlaXZlZCBhbiBvYmplY3QgdGhhdCdzIG5vdCBhIHZhbGlkIFZOb2RlLCB5b3Ugc2hvdWxkIHN0cmluZ2lmeSBpdCBmaXJzdC4gT2JqZWN0OiBcXFwiXCIgKyBKU09OLnN0cmluZ2lmeSh2Tm9kZSkgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwibW91bnQoKSBleHBlY3RzIGEgdmFsaWQgVk5vZGUsIGluc3RlYWQgaXQgcmVjZWl2ZWQgYW4gb2JqZWN0IHdpdGggdGhlIHR5cGUgXFxcIlwiICsgdHlwZW9mIHZOb2RlICsgXCJcXFwiLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50ID0gbW91bnQ7XHJcbmZ1bmN0aW9uIG1vdW50VGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodk5vZGUuY2hpbGRyZW4pO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRUZXh0ID0gbW91bnRUZXh0O1xyXG5mdW5jdGlvbiBtb3VudFZvaWQodk5vZGUsIHBhcmVudERvbSkge1xyXG4gICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50Vm9pZCA9IG1vdW50Vm9pZDtcclxuZnVuY3Rpb24gbW91bnRFbGVtZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIGRvbV8xID0gcmVjeWNsaW5nXzEucmVjeWNsZUVsZW1lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tXzEpKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbV8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZG9tXzE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpc1NWRyA9IGlzU1ZHIHx8IChmbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICB2YXIgZG9tID0gdXRpbHNfMS5kb2N1bWVudENyZWF0ZUVsZW1lbnQodk5vZGUudHlwZSwgaXNTVkcpO1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZS5jbGFzc05hbWU7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnNldFRleHRDb250ZW50KGRvbSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIG1vdW50QXJyYXlDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgbW91bnQoY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wcykpIHtcclxuICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAoZmxhZ3MgJiAzNTg0IC8qIEZvcm1FbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaGFzQ29udHJvbGxlZFZhbHVlID0gcHJvY2Vzc0VsZW1lbnRfMS5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudChwcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaFByb3AocHJvcCwgbnVsbCwgcHJvcHNbcHJvcF0sIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIHByb3BzLCB0cnVlLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjbGFzc05hbWUgIT09IG51bGwpIHtcclxuICAgICAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHJlZikpIHtcclxuICAgICAgICBtb3VudFJlZihkb20sIHJlZiwgbGlmZWN5Y2xlKTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50RWxlbWVudCA9IG1vdW50RWxlbWVudDtcclxuZnVuY3Rpb24gbW91bnRBcnJheUNoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIC8vIFZlcmlmeSBjYW4gc3RyaW5nL251bWJlciBiZSBoZXJlLiBtaWdodCBjYXVzZSBkZS1vcHQuIC0gTm9ybWFsaXphdGlvbiB0YWtlcyBjYXJlIG9mIGl0LlxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuW2ldID0gY2hpbGQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbW91bnQoY2hpbGRyZW5baV0sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnRBcnJheUNoaWxkcmVuID0gbW91bnRBcnJheUNoaWxkcmVuO1xyXG5mdW5jdGlvbiBtb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc0NsYXNzKSB7XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCkge1xyXG4gICAgICAgIHZhciBkb21fMiA9IHJlY3ljbGluZ18xLnJlY3ljbGVDb21wb25lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tXzIpKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbV8yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZG9tXzI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdmFyIGRvbTtcclxuICAgIGlmIChpc0NsYXNzKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdXRpbHNfMS5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCwgaXNTVkcsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5zdGFuY2UuX2xhc3RJbnB1dDtcclxuICAgICAgICBpbnN0YW5jZS5fdk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBkb20gPSBtb3VudChpbnB1dCwgbnVsbCwgbGlmZWN5Y2xlLCBpbnN0YW5jZS5fY2hpbGRDb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzKHZOb2RlLCByZWYsIGluc3RhbmNlLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLnNldChpbnN0YW5jZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSB1dGlsc18xLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCh2Tm9kZSwgdHlwZSwgcHJvcHMsIGNvbnRleHQpO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGRvbSA9IG1vdW50KGlucHV0LCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IGlucHV0O1xyXG4gICAgICAgIG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50Q29tcG9uZW50ID0gbW91bnRDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIG1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKHJlZikge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgICAgICByZWYoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QocmVmKSAmJiAodk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZnVuY3Rpb25hbCBjb21wb25lbnQgbGlmZWN5Y2xlIGV2ZW50cyBhcmUgbm90IHN1cHBvcnRlZCBvbiBFUzIwMTUgY2xhc3MgY29tcG9uZW50cy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImEgYmFkIHZhbHVlIGZvciBcXFwicmVmXFxcIiB3YXMgdXNlZCBvbiBjb21wb25lbnQ6IFxcXCJcIiArIEpTT04uc3RyaW5naWZ5KHJlZikgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGhhc0RpZE1vdW50ID0gIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQpO1xyXG4gICAgdmFyIGFmdGVyTW91bnQgPSBvcHRpb25zXzEub3B0aW9ucy5hZnRlck1vdW50O1xyXG4gICAgaWYgKGhhc0RpZE1vdW50IHx8ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhZnRlck1vdW50KSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChhZnRlck1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBhZnRlck1vdW50KHZOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGFzRGlkTW91bnQpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzID0gbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsTW91bnQpKSB7XHJcbiAgICAgICAgICAgIHJlZi5vbkNvbXBvbmVudFdpbGxNb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnREaWRNb3VudCkpIHtcclxuICAgICAgICAgICAgbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZi5vbkNvbXBvbmVudERpZE1vdW50KGRvbSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyA9IG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRSZWYoZG9tLCB2YWx1ZSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZShkb20pOyB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ3N0cmluZyBcInJlZnNcIiBhcmUgbm90IHN1cHBvcnRlZCBpbiBJbmZlcm5vIDEuMC4gVXNlIGNhbGxiYWNrIFwicmVmc1wiIGluc3RlYWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnRSZWYgPSBtb3VudFJlZjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vbW91bnRpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1jb21wb25lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgb3B0aW9uc18xID0gcmVxdWlyZShcIi4uL2NvcmUvb3B0aW9uc1wiKTtcclxudmFyIHBhdGNoaW5nXzEgPSByZXF1aXJlKFwiLi9wYXRjaGluZ1wiKTtcclxudmFyIHJlY3ljbGluZ18xID0gcmVxdWlyZShcIi4vcmVjeWNsaW5nXCIpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJpbmdcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbmZ1bmN0aW9uIHVubW91bnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgKDEgLyogVGV4dCAqLyB8IDQwOTYgLyogVm9pZCAqLykpIHtcclxuICAgICAgICB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnQgPSB1bm1vdW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgdk5vZGUuZG9tKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBpbnN0YW5jZSA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICB2YXIgaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgaWYgKCFpc1JlY3ljbGluZykge1xyXG4gICAgICAgIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2Jsb2NrU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVVubW91bnQodk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVmICYmICFpc1JlY3ljbGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZihudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5kZWxldGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdW5tb3VudChpbnN0YW5jZS5fbGFzdElucHV0LCBudWxsLCBpbnN0YW5jZS5fbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYub25Db21wb25lbnRXaWxsVW5tb3VudChkb20pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVubW91bnQoaW5zdGFuY2UsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGFyZW50RG9tKSB7XHJcbiAgICAgICAgdmFyIGxhc3RJbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGxhc3RJbnB1dCA9IGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmICFpc1N0YXRlZnVsQ29tcG9uZW50ICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sQ29tcG9uZW50KHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnRDb21wb25lbnQgPSB1bm1vdW50Q29tcG9uZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgaWYgKHJlZiAmJiAhaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICB1bm1vdW50UmVmKHJlZik7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzKSkge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBpZiAocHJvcHNbbmFtZV8xXSAhPT0gbnVsbCAmJiBwYXRjaGluZ18xLmlzQXR0ckFuRXZlbnQobmFtZV8xKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEV2ZW50KG5hbWVfMSwgcHJvcHNbbmFtZV8xXSwgbnVsbCwgZG9tKTtcclxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgbnVsbCwgYmVjYXVzZSBzYW1lIHByb3BzIG90aGVyd2lzZSBjb21lIGJhY2sgaWYgU0NVIHJldHVybnMgZmFsc2UgYW5kIHdlIGFyZSByZWN5bGluZ1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV8xXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sRWxlbWVudCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50RWxlbWVudCA9IHVubW91bnRFbGVtZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjaGlsZCwgbnVsbCwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50KGNoaWxkcmVuLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5tb3VudFJlZihyZWYpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIHJlZihudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChyZWYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdzdHJpbmcgXCJyZWZzXCIgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gSW5mZXJubyAxLjAuIFVzZSBjYWxsYmFjayBcInJlZnNcIiBpbnN0ZWFkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS91bm1vdW50aW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIElucHV0V3JhcHBlcl8xID0gcmVxdWlyZShcIi4vSW5wdXRXcmFwcGVyXCIpO1xyXG52YXIgU2VsZWN0V3JhcHBlcl8xID0gcmVxdWlyZShcIi4vU2VsZWN0V3JhcHBlclwiKTtcclxudmFyIFRleHRhcmVhV3JhcHBlcl8xID0gcmVxdWlyZShcIi4vVGV4dGFyZWFXcmFwcGVyXCIpO1xyXG4vKipcclxuICogVGhlcmUgaXMgY3VycmVudGx5IG5vIHN1cHBvcnQgZm9yIHN3aXRjaGluZyBzYW1lIGlucHV0IGJldHdlZW4gY29udHJvbGxlZCBhbmQgbm9uQ29udHJvbGxlZFxyXG4gKiBJZiB0aGF0IGV2ZXIgYmVjb21lcyBhIHJlYWwgaXNzdWUsIHRoZW4gcmUgZGVzaWduIGNvbnRyb2xsZWQgZWxlbWVudHNcclxuICogQ3VycmVudGx5IHVzZXIgbXVzdCBjaG9vc2UgZWl0aGVyIGNvbnRyb2xsZWQgb3Igbm9uLWNvbnRyb2xsZWQgYW5kIHN0aWNrIHdpdGggdGhhdFxyXG4gKi9cclxuZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGlmIChmbGFncyAmIDUxMiAvKiBJbnB1dEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBJbnB1dFdyYXBwZXJfMS5wcm9jZXNzSW5wdXQodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZmxhZ3MgJiAyMDQ4IC8qIFNlbGVjdEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBTZWxlY3RXcmFwcGVyXzEucHJvY2Vzc1NlbGVjdCh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKTtcclxuICAgIH1cclxuICAgIGlmIChmbGFncyAmIDEwMjQgLyogVGV4dGFyZWFFbGVtZW50ICovKSB7XHJcbiAgICAgICAgVGV4dGFyZWFXcmFwcGVyXzEucHJvY2Vzc1RleHRhcmVhKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0VsZW1lbnQgPSBwcm9jZXNzRWxlbWVudDtcclxuZnVuY3Rpb24gaXNDb250cm9sbGVkRm9ybUVsZW1lbnQobmV4dFByb3BzT3JFbXB0eSkge1xyXG4gICAgcmV0dXJuIChuZXh0UHJvcHNPckVtcHR5LnR5cGUgJiYgSW5wdXRXcmFwcGVyXzEuaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSA/ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS5jaGVja2VkKSA6ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS52YWx1ZSk7XHJcbn1cclxuZXhwb3J0cy5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudCA9IGlzQ29udHJvbGxlZEZvcm1FbGVtZW50O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9wcm9jZXNzRWxlbWVudC5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIGFkZExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuYWRkTGVhZGluZ1NsYXNoID0gZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbn07XG5cbnZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuc3RyaXBMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xufTtcblxudmFyIHN0cmlwUHJlZml4ID0gZXhwb3J0cy5zdHJpcFByZWZpeCA9IGZ1bmN0aW9uIHN0cmlwUHJlZml4KHBhdGgsIHByZWZpeCkge1xuICByZXR1cm4gcGF0aC5pbmRleE9mKHByZWZpeCkgPT09IDAgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59O1xuXG52YXIgc3RyaXBUcmFpbGluZ1NsYXNoID0gZXhwb3J0cy5zdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxudmFyIHBhcnNlUGF0aCA9IGV4cG9ydHMucGFyc2VQYXRoID0gZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICB2YXIgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICBwYXRobmFtZSA9IGRlY29kZVVSSShwYXRobmFtZSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2ggPT09ICc/JyA/ICcnIDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2ggPT09ICcjJyA/ICcnIDogaGFzaFxuICB9O1xufTtcblxudmFyIGNyZWF0ZVBhdGggPSBleHBvcnRzLmNyZWF0ZVBhdGggPSBmdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLFxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG5cblxuICB2YXIgcGF0aCA9IGVuY29kZVVSSShwYXRobmFtZSB8fCAnLycpO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L1BhdGhVdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1jcmVhdGUtZWxlbWVudC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG5mdW5jdGlvbiByZW5kZXJMaW5rKGNsYXNzTm0sIGNoaWxkcmVuLCBvdGhlclByb3BzKSB7XHJcbiAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDIgLyogSHRtbEVsZW1lbnQgKi8sICdhJywgY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG59XHJcbmZ1bmN0aW9uIExpbmsocHJvcHMsIF9hKSB7XHJcbiAgICB2YXIgcm91dGVyID0gX2Eucm91dGVyO1xyXG4gICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IHByb3BzLmFjdGl2ZUNsYXNzTmFtZSwgYWN0aXZlU3R5bGUgPSBwcm9wcy5hY3RpdmVTdHlsZSwgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBvbkNsaWNrID0gcHJvcHMub25DbGljaywgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbiwgdG8gPSBwcm9wcy50bywgb3RoZXJQcm9wcyA9IF9fcmVzdChwcm9wcywgW1wiYWN0aXZlQ2xhc3NOYW1lXCIsIFwiYWN0aXZlU3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJvbkNsaWNrXCIsIFwiY2hpbGRyZW5cIiwgXCJ0b1wiXSk7XHJcbiAgICB2YXIgY2xhc3NObTtcclxuICAgIGlmIChjbGFzc05hbWUpIHtcclxuICAgICAgICBjbGFzc05tID0gY2xhc3NOYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKCFyb3V0ZXIpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJzxMaW5rLz4gY29tcG9uZW50IHVzZWQgb3V0c2lkZSBvZiA8Um91dGVyLz4uIEZhbGxiYWNrIHRvIDxhPiB0YWcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG90aGVyUHJvcHMuaHJlZiA9IHRvO1xyXG4gICAgICAgIG90aGVyUHJvcHMub25DbGljayA9IG9uQ2xpY2s7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG4gICAgfVxyXG4gICAgb3RoZXJQcm9wcy5ocmVmID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgPyByb3V0ZXIuY3JlYXRlSHJlZih7IHBhdGhuYW1lOiB0byB9KSA6IHJvdXRlci5sb2NhdGlvbi5iYXNlVXJsID8gcm91dGVyLmxvY2F0aW9uLmJhc2VVcmwgKyB0byA6IHRvO1xyXG4gICAgaWYgKHJvdXRlci5sb2NhdGlvbi5wYXRobmFtZSA9PT0gdG8pIHtcclxuICAgICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTm0gPSAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgYWN0aXZlQ2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aXZlU3R5bGUpIHtcclxuICAgICAgICAgICAgb3RoZXJQcm9wcy5zdHlsZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJvcHMuc3R5bGUsIGFjdGl2ZVN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdGhlclByb3BzLm9uY2xpY2sgPSBmdW5jdGlvbiBuYXZpZ2F0ZShlKSB7XHJcbiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwIHx8IGUuY3RybEtleSB8fCBlLmFsdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgb25DbGljayhlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm91dGVyLnB1c2godG8sIGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gcmVuZGVyTGluayhjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcyk7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gTGluaztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvTGluay5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NvbXBvbmVudF8xID0gcmVxdWlyZShcImluZmVybm8tY29tcG9uZW50XCIpO1xyXG52YXIgUm91dGVyQ29udGV4dCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGVyQ29udGV4dCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlckNvbnRleHQocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BzLmxvY2F0aW9uIHx8ICFwcm9wcy5tYXRjaGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImluZmVybm8tcm91dGVyXCIgcmVxdWlyZXMgYSBcImxvY2F0aW9uXCIgYW5kIFwibWF0Y2hlZFwiIHByb3BzIHBhc3NlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJvdXRlckNvbnRleHQucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByb3V0ZXI6IHRoaXMucHJvcHMucm91dGVyIHx8IHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogdGhpcy5wcm9wcy5iYXNlVXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiB0aGlzLnByb3BzLmxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFJvdXRlckNvbnRleHQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgICAgIHJldHVybiBwcm9wcy5tYXRjaGVkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZXJDb250ZXh0O1xyXG59KGluZmVybm9fY29tcG9uZW50XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXJDb250ZXh0O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9Sb3V0ZXJDb250ZXh0LmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgcGF0aF90b19yZWdleHBfZXM2XzEgPSByZXF1aXJlKFwicGF0aC10by1yZWdleHAtZXM2XCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG52YXIgY2FjaGUgPSBuZXcgTWFwKCk7XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbm9kZSBjb250YWluaW5nIG9ubHkgdGhlIG1hdGNoZWQgY29tcG9uZW50c1xyXG4gKiBAcGFyYW0gcm91dGVzXHJcbiAqIEBwYXJhbSBjdXJyZW50VVJMXHJcbiAqIEByZXR1cm5zIHsqfVxyXG4gKi9cclxuZnVuY3Rpb24gbWF0Y2gocm91dGVzLCBjdXJyZW50VVJMKSB7XHJcbiAgICB2YXIgbG9jYXRpb24gPSB1dGlsc18xLmdldFVSTFN0cmluZyhjdXJyZW50VVJMKTtcclxuICAgIHJldHVybiBtYXRjaFJvdXRlcyhpbmZlcm5vX3NoYXJlZF8xLnRvQXJyYXkocm91dGVzKSwgZW5jb2RlVVJJKGxvY2F0aW9uKSwgJy8nKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBtYXRjaDtcclxuLyoqXHJcbiAqIEdvIHRocm91Z2ggZXZlcnkgcm91dGUgYW5kIGNyZWF0ZSBhIG5ldyBub2RlXHJcbiAqIHdpdGggdGhlIG1hdGNoZWQgY29tcG9uZW50c1xyXG4gKiBAcGFyYW0gX3JvdXRlc1xyXG4gKiBAcGFyYW0gY3VycmVudFVSTFxyXG4gKiBAcGFyYW0gcGFyZW50UGF0aFxyXG4gKiBAcGFyYW0gcmVkaXJlY3RcclxuICogQHJldHVybnMge29iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIG1hdGNoUm91dGVzKF9yb3V0ZXMsIGN1cnJlbnRVUkwsIHBhcmVudFBhdGgsIHJlZGlyZWN0KSB7XHJcbiAgICBpZiAoY3VycmVudFVSTCA9PT0gdm9pZCAwKSB7IGN1cnJlbnRVUkwgPSAnLyc7IH1cclxuICAgIGlmIChwYXJlbnRQYXRoID09PSB2b2lkIDApIHsgcGFyZW50UGF0aCA9ICcvJzsgfVxyXG4gICAgaWYgKHJlZGlyZWN0ID09PSB2b2lkIDApIHsgcmVkaXJlY3QgPSBmYWxzZTsgfVxyXG4gICAgdmFyIHJvdXRlcyA9IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShfcm91dGVzKSA/IHV0aWxzXzEuZmxhdHRlbihfcm91dGVzKSA6IGluZmVybm9fc2hhcmVkXzEudG9BcnJheShfcm91dGVzKTtcclxuICAgIHZhciBfYSA9IGN1cnJlbnRVUkwuc3BsaXQoJz8nKSwgX2IgPSBfYVswXSwgcGF0aFRvTWF0Y2ggPSBfYiA9PT0gdm9pZCAwID8gJy8nIDogX2IsIF9jID0gX2FbMV0sIHNlYXJjaCA9IF9jID09PSB2b2lkIDAgPyAnJyA6IF9jO1xyXG4gICAgdmFyIHBhcmFtcyA9IHV0aWxzXzEubWFwU2VhcmNoUGFyYW1zKHNlYXJjaCk7XHJcbiAgICByb3V0ZXMuc29ydCh1dGlsc18xLnBhdGhSYW5rU29ydCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm91dGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHJvdXRlLnByb3BzIHx8IHV0aWxzXzEuZW1wdHlPYmplY3Q7XHJcbiAgICAgICAgdmFyIHJvdXRlUGF0aCA9IHByb3BzLmZyb20gfHwgcHJvcHMucGF0aCB8fCAnLyc7XHJcbiAgICAgICAgdmFyIGxvY2F0aW9uXzEgPSBwYXJlbnRQYXRoICsgdXRpbHNfMS50b1BhcnRpYWxVUkwocm91dGVQYXRoLCBwYXJlbnRQYXRoKS5yZXBsYWNlKC9cXC9cXC8vZywgJy8nKTtcclxuICAgICAgICB2YXIgaXNMYXN0ID0gdXRpbHNfMS5pc0VtcHR5KHByb3BzLmNoaWxkcmVuKTtcclxuICAgICAgICB2YXIgbWF0Y2hCYXNlID0gbWF0Y2hQYXRoKGlzTGFzdCwgbG9jYXRpb25fMSwgcGF0aFRvTWF0Y2gpO1xyXG4gICAgICAgIGlmIChtYXRjaEJhc2UpIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5mcm9tKSB7XHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdCA9IHByb3BzLnRvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoQ2hpbGQgPSBtYXRjaFJvdXRlcyhjaGlsZHJlbiwgY3VycmVudFVSTCwgbG9jYXRpb25fMSwgcmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoQ2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hDaGlsZC5yZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogbWF0Y2hDaGlsZC5yZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IG1hdGNoQ2hpbGQubWF0Y2hlZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRQcm9wcyA9IGNoaWxkcmVuLnByb3BzLnBhcmFtcztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY2hpbGRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNba2V5XSA9IGNoaWxkUHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG1hdGNoZWQgPSBpbmZlcm5vXzEuZGVmYXVsdC5jbG9uZVZOb2RlKHJvdXRlLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocGFyYW1zLCBtYXRjaEJhc2UucGFyYW1zKSxcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbl8xLFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6IHJlZGlyZWN0LFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hlZDogbWF0Y2hlZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ29udmVydHMgcGF0aCB0byBhIHJlZ2V4LCBpZiBhIG1hdGNoIGlzIGZvdW5kIHRoZW4gd2UgZXh0cmFjdCBwYXJhbXMgZnJvbSBpdFxyXG4gKiBAcGFyYW0gZW5kXHJcbiAqIEBwYXJhbSByb3V0ZVBhdGhcclxuICogQHBhcmFtIHBhdGhUb01hdGNoXHJcbiAqIEByZXR1cm5zIHthbnl9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXRjaFBhdGgoZW5kLCByb3V0ZVBhdGgsIHBhdGhUb01hdGNoKSB7XHJcbiAgICB2YXIga2V5ID0gcm91dGVQYXRoICsgXCJ8XCIgKyBlbmQ7XHJcbiAgICB2YXIgcmVnZXhwID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICBpZiAocmVnZXhwID09PSB2b2lkIDApIHtcclxuICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgIHJlZ2V4cCA9IHsgcGF0dGVybjogcGF0aF90b19yZWdleHBfZXM2XzEuZGVmYXVsdChyb3V0ZVBhdGgsIGtleXMsIHsgZW5kOiBlbmQgfSksIGtleXM6IGtleXMgfTtcclxuICAgICAgICBjYWNoZS5zZXQoa2V5LCByZWdleHApO1xyXG4gICAgfVxyXG4gICAgdmFyIG0gPSByZWdleHAucGF0dGVybi5leGVjKHBhdGhUb01hdGNoKTtcclxuICAgIGlmICghbSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgdmFyIHBhdGggPSBtWzBdO1xyXG4gICAgdmFyIHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gbS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xyXG4gICAgICAgIHBhcmFtc1tyZWdleHAua2V5c1tpIC0gMV0ubmFtZV0gPSB1dGlsc18xLmRlY29kZShtW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGF0aDogcGF0aCA9PT0gJycgPyAnLycgOiBwYXRoLFxyXG4gICAgICAgIHBhcmFtczogcGFyYW1zXHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydHMubWF0Y2hQYXRoID0gbWF0Y2hQYXRoO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9tYXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbmV4cG9ydHMuZW1wdHlPYmplY3QgPSB7fTtcclxuZnVuY3Rpb24gZGVjb2RlKHZhbCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWwgIT09ICdzdHJpbmcnID8gdmFsIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCk7XHJcbn1cclxuZXhwb3J0cy5kZWNvZGUgPSBkZWNvZGU7XHJcbmZ1bmN0aW9uIGlzRW1wdHkoY2hpbGRyZW4pIHtcclxuICAgIHJldHVybiAhY2hpbGRyZW4gfHwgIShpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4gOiBPYmplY3Qua2V5cyhjaGlsZHJlbikpLmxlbmd0aDtcclxufVxyXG5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xyXG5mdW5jdGlvbiBmbGF0dGVuKG9sZEFycmF5KSB7XHJcbiAgICB2YXIgbmV3QXJyYXkgPSBbXTtcclxuICAgIGZsYXR0ZW5BcnJheShvbGRBcnJheSwgbmV3QXJyYXkpO1xyXG4gICAgcmV0dXJuIG5ld0FycmF5O1xyXG59XHJcbmV4cG9ydHMuZmxhdHRlbiA9IGZsYXR0ZW47XHJcbmZ1bmN0aW9uIGdldFVSTFN0cmluZyhsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuIGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcobG9jYXRpb24pID8gbG9jYXRpb24gOiAobG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2gpO1xyXG59XHJcbmV4cG9ydHMuZ2V0VVJMU3RyaW5nID0gZ2V0VVJMU3RyaW5nO1xyXG4vKipcclxuICogTWFwcyBhIHF1ZXJ5c3RyaW5nIHRvIGFuIG9iamVjdFxyXG4gKiBTdXBwb3J0cyBhcnJheXMgYW5kIHV0Zi04IGNoYXJhY3RlcnNcclxuICogQHBhcmFtIHNlYXJjaFxyXG4gKiBAcmV0dXJucyB7YW55fVxyXG4gKi9cclxuZnVuY3Rpb24gbWFwU2VhcmNoUGFyYW1zKHNlYXJjaCkge1xyXG4gICAgaWYgKHNlYXJjaCA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICAvLyBDcmVhdGUgYW4gb2JqZWN0IHdpdGggbm8gcHJvdG90eXBlXHJcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHZhciBmcmFnbWVudHMgPSBzZWFyY2guc3BsaXQoJyYnKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmcmFnbWVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgZnJhZ21lbnQgPSBmcmFnbWVudHNbaV07XHJcbiAgICAgICAgdmFyIF9hID0gZnJhZ21lbnQuc3BsaXQoJz0nKS5tYXAobWFwRnJhZ21lbnQpLm1hcChkZWNvZGVVUklDb21wb25lbnQpLCBrID0gX2FbMF0sIHYgPSBfYVsxXTtcclxuICAgICAgICBpZiAobWFwW2tdKSB7XHJcbiAgICAgICAgICAgIG1hcFtrXSA9IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShtYXBba10pID8gbWFwW2tdIDogW21hcFtrXV07XHJcbiAgICAgICAgICAgIG1hcFtrXS5wdXNoKHYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWFwW2tdID0gdjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwO1xyXG59XHJcbmV4cG9ydHMubWFwU2VhcmNoUGFyYW1zID0gbWFwU2VhcmNoUGFyYW1zO1xyXG4vKipcclxuICogR2V0cyB0aGUgcmVsZXZhbnQgcGFydCBvZiB0aGUgVVJMIGZvciBtYXRjaGluZ1xyXG4gKiBAcGFyYW0gZnVsbFVSTFxyXG4gKiBAcGFyYW0gcGFydFVSTFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gdG9QYXJ0aWFsVVJMKGZ1bGxVUkwsIHBhcnRVUkwpIHtcclxuICAgIGlmIChmdWxsVVJMLmluZGV4T2YocGFydFVSTCkgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gZnVsbFVSTC5zdWJzdHIocGFydFVSTC5sZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bGxVUkw7XHJcbn1cclxuZXhwb3J0cy50b1BhcnRpYWxVUkwgPSB0b1BhcnRpYWxVUkw7XHJcbi8qKlxyXG4gKiBTaW11bGF0ZXMgLi4uIG9wZXJhdG9yIGJ5IHJldHVybmluZyBmaXJzdCBhcmd1bWVudFxyXG4gKiB3aXRoIHRoZSBrZXlzIGluIHRoZSBzZWNvbmQgYXJndW1lbnQgZXhjbHVkZWRcclxuICogQHBhcmFtIF9hcmdzXHJcbiAqIEBwYXJhbSBleGNsdWRlZFxyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiByZXN0KF9hcmdzLCBleGNsdWRlZCkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gX2FyZ3MpIHtcclxuICAgICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihwKSA8IDApIHtcclxuICAgICAgICAgICAgdFtwXSA9IF9hcmdzW3BdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcbmV4cG9ydHMucmVzdCA9IHJlc3Q7XHJcbi8qKlxyXG4gKiBTb3J0cyBhbiBhcnJheSBhY2NvcmRpbmcgdG8gaXRzIGBwYXRoYCBwcm9wIGxlbmd0aFxyXG4gKiBAcGFyYW0gYVxyXG4gKiBAcGFyYW0gYlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gcGF0aFJhbmtTb3J0KGEsIGIpIHtcclxuICAgIHZhciBhQXR0ciA9IGEucHJvcHMgfHwgZXhwb3J0cy5lbXB0eU9iamVjdDtcclxuICAgIHZhciBiQXR0ciA9IGIucHJvcHMgfHwgZXhwb3J0cy5lbXB0eU9iamVjdDtcclxuICAgIHZhciBkaWZmID0gcmFuayhiQXR0ci5wYXRoKSAtIHJhbmsoYUF0dHIucGF0aCk7XHJcbiAgICByZXR1cm4gZGlmZiB8fCAoKGJBdHRyLnBhdGggJiYgYUF0dHIucGF0aCkgPyAoYkF0dHIucGF0aC5sZW5ndGggLSBhQXR0ci5wYXRoLmxlbmd0aCkgOiAwKTtcclxufVxyXG5leHBvcnRzLnBhdGhSYW5rU29ydCA9IHBhdGhSYW5rU29ydDtcclxuLyoqXHJcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgcGFyc2luZyBxdWVyeXN0cmluZyBhcnJheXNcclxuICovXHJcbmZ1bmN0aW9uIG1hcEZyYWdtZW50KHAsIGlzVmFsKSB7XHJcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGlzVmFsIHwgMCA/IHAgOiBwLnJlcGxhY2UoJ1tdJywgJycpKTtcclxufVxyXG5mdW5jdGlvbiBzdHJpcCh1cmwpIHtcclxuICAgIHJldHVybiB1cmwucmVwbGFjZSgvKF5cXC8rfFxcLyskKS9nLCAnJyk7XHJcbn1cclxuZnVuY3Rpb24gcmFuayh1cmwpIHtcclxuICAgIGlmICh1cmwgPT09IHZvaWQgMCkgeyB1cmwgPSAnJzsgfVxyXG4gICAgcmV0dXJuIChzdHJpcCh1cmwpLm1hdGNoKC9cXC8rL2cpIHx8ICcnKS5sZW5ndGg7XHJcbn1cclxuZnVuY3Rpb24gZmxhdHRlbkFycmF5KG9sZEFycmF5LCBuZXdBcnJheSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG9sZEFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSBvbGRBcnJheVtpXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGZsYXR0ZW5BcnJheShpdGVtLCBuZXdBcnJheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC91dGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciBjb21wb25lbnRQb29scyA9IG5ldyBNYXAoKTtcclxudmFyIGVsZW1lbnRQb29scyA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gcmVjeWNsZUVsZW1lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciB0YWcgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHBvb2xzID0gZWxlbWVudFBvb2xzLmdldCh0YWcpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBrZXkgPT09IG51bGwgPyBwb29scy5ub25LZXllZCA6IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjeWNsZWRWTm9kZSA9IHBvb2wucG9wKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChyZWN5Y2xlZFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEVsZW1lbnQocmVjeWNsZWRWTm9kZSwgdk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZOb2RlLmRvbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmV4cG9ydHMucmVjeWNsZUVsZW1lbnQgPSByZWN5Y2xlRWxlbWVudDtcclxuZnVuY3Rpb24gcG9vbEVsZW1lbnQodk5vZGUpIHtcclxuICAgIHZhciB0YWcgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgIHZhciBwb29scyA9IGVsZW1lbnRQb29scy5nZXQodGFnKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHBvb2xzID0ge1xyXG4gICAgICAgICAgICBrZXllZDogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgICBub25LZXllZDogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIGVsZW1lbnRQb29scy5zZXQodGFnLCBwb29scyk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwoa2V5KSkge1xyXG4gICAgICAgIHBvb2xzLm5vbktleWVkLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBwb29scy5rZXllZC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICBwb29sID0gW107XHJcbiAgICAgICAgICAgIHBvb2xzLmtleWVkLnNldChrZXksIHBvb2wpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwb29sLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucG9vbEVsZW1lbnQgPSBwb29sRWxlbWVudDtcclxuZnVuY3Rpb24gcmVjeWNsZUNvbXBvbmVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHBvb2xzID0gY29tcG9uZW50UG9vbHMuZ2V0KHR5cGUpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBrZXkgPT09IG51bGwgPyBwb29scy5ub25LZXllZCA6IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjeWNsZWRWTm9kZSA9IHBvb2wucG9wKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChyZWN5Y2xlZFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmFpbGVkID0gcGF0Y2hpbmdfMS5wYXRjaENvbXBvbmVudChyZWN5Y2xlZFZOb2RlLCB2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmFpbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZOb2RlLmRvbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmV4cG9ydHMucmVjeWNsZUNvbXBvbmVudCA9IHJlY3ljbGVDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIHBvb2xDb21wb25lbnQodk5vZGUpIHtcclxuICAgIHZhciBob29rcyA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBub25SZWN5Y2xlSG9va3MgPSBob29rcyAmJiAoaG9va3Mub25Db21wb25lbnRXaWxsTW91bnQgfHxcclxuICAgICAgICBob29rcy5vbkNvbXBvbmVudFdpbGxVbm1vdW50IHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnREaWRNb3VudCB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50V2lsbFVwZGF0ZSB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50RGlkVXBkYXRlKTtcclxuICAgIGlmIChub25SZWN5Y2xlSG9va3MpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIga2V5ID0gdk5vZGUua2V5O1xyXG4gICAgdmFyIHBvb2xzID0gY29tcG9uZW50UG9vbHMuZ2V0KHR5cGUpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgcG9vbHMgPSB7XHJcbiAgICAgICAgICAgIGtleWVkOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgIG5vbktleWVkOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29tcG9uZW50UG9vbHMuc2V0KHR5cGUsIHBvb2xzKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChrZXkpKSB7XHJcbiAgICAgICAgcG9vbHMubm9uS2V5ZWQucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcG9vbCA9IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHBvb2wgPSBbXTtcclxuICAgICAgICAgICAgcG9vbHMua2V5ZWQuc2V0KGtleSwgcG9vbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvb2wucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wb29sQ29tcG9uZW50ID0gcG9vbENvbXBvbmVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vcmVjeWNsaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIFZOb2Rlc18xID0gcmVxdWlyZShcIi4vVk5vZGVzXCIpO1xyXG5mdW5jdGlvbiBhcHBseUtleShrZXksIHZOb2RlKSB7XHJcbiAgICB2Tm9kZS5rZXkgPSBrZXk7XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlLZXlJZk1pc3Npbmcoa2V5LCB2Tm9kZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdW1iZXIoa2V5KSkge1xyXG4gICAgICAgIGtleSA9IFwiLlwiICsga2V5O1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHZOb2RlLmtleSkgfHwgdk5vZGUua2V5WzBdID09PSAnLicpIHtcclxuICAgICAgICByZXR1cm4gYXBwbHlLZXkoa2V5LCB2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlLZXlQcmVmaXgoa2V5LCB2Tm9kZSkge1xyXG4gICAgdk5vZGUua2V5ID0ga2V5ICsgdk5vZGUua2V5O1xyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIF9ub3JtYWxpemVWTm9kZXMobm9kZXMsIHJlc3VsdCwgaW5kZXgsIGN1cnJlbnRLZXkpIHtcclxuICAgIGZvciAodmFyIGxlbiA9IG5vZGVzLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcclxuICAgICAgICB2YXIgbiA9IG5vZGVzW2luZGV4XTtcclxuICAgICAgICB2YXIga2V5ID0gY3VycmVudEtleSArIFwiLlwiICsgaW5kZXg7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuKSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG4pKSB7XHJcbiAgICAgICAgICAgICAgICBfbm9ybWFsaXplVk5vZGVzKG4sIHJlc3VsdCwgMCwga2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobikpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG4sIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShuKSAmJiBuLmRvbSB8fCAobi5rZXkgJiYgbi5rZXlbMF0gPT09ICcuJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwobi5rZXkpIHx8IG4ua2V5WzBdID09PSAnLicpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gYXBwbHlLZXkoa2V5LCBuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBhcHBseUtleVByZWZpeChjdXJyZW50S2V5LCBuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2Rlcyhub2Rlcykge1xyXG4gICAgdmFyIG5ld05vZGVzO1xyXG4gICAgLy8gd2UgYXNzaWduICQgd2hpY2ggYmFzaWNhbGx5IG1lYW5zIHdlJ3ZlIGZsYWdnZWQgdGhpcyBhcnJheSBmb3IgZnV0dXJlIG5vdGVcclxuICAgIC8vIGlmIGl0IGNvbWVzIGJhY2sgYWdhaW4sIHdlIG5lZWQgdG8gY2xvbmUgaXQsIGFzIHBlb3BsZSBhcmUgdXNpbmcgaXRcclxuICAgIC8vIGluIGFuIGltbXV0YWJsZSB3YXlcclxuICAgIC8vIHRzbGludDpkaXNhYmxlXHJcbiAgICBpZiAobm9kZXNbJyQnXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIG5vZGVzID0gbm9kZXMuc2xpY2UoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG5vZGVzWyckJ10gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gdHNsaW50OmVuYWJsZVxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG4gPSBub2Rlc1tpXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobikgfHwgaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG4pKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAobmV3Tm9kZXMgfHwgbm9kZXMpLnNsaWNlKDAsIGkpO1xyXG4gICAgICAgICAgICBfbm9ybWFsaXplVk5vZGVzKG5vZGVzLCByZXN1bHQsIGksIFwiXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobikpIHtcclxuICAgICAgICAgICAgaWYgKCFuZXdOb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZXMgPSBub2Rlcy5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdOb2Rlcy5wdXNoKGFwcGx5S2V5SWZNaXNzaW5nKGksIFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuLCBudWxsKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoVk5vZGVzXzEuaXNWTm9kZShuKSAmJiBuLmRvbSAhPT0gbnVsbCkgfHwgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG4ua2V5KSAmJiAobi5mbGFncyAmIDY0IC8qIEhhc05vbktleWVkQ2hpbGRyZW4gKi8pID09PSAwKSkge1xyXG4gICAgICAgICAgICBpZiAoIW5ld05vZGVzKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdOb2RlcyA9IG5vZGVzLnNsaWNlKDAsIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld05vZGVzLnB1c2goYXBwbHlLZXlJZk1pc3NpbmcoaSwgVk5vZGVzXzEuZGlyZWN0Q2xvbmUobikpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV3Tm9kZXMpIHtcclxuICAgICAgICAgICAgbmV3Tm9kZXMucHVzaChhcHBseUtleUlmTWlzc2luZyhpLCBWTm9kZXNfMS5kaXJlY3RDbG9uZShuKSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXdOb2RlcyB8fCBub2RlcztcclxufVxyXG5leHBvcnRzLm5vcm1hbGl6ZVZOb2RlcyA9IG5vcm1hbGl6ZVZOb2RlcztcclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVZOb2RlcyhjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSAmJiBjaGlsZHJlbi5kb20gIT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzKHZOb2RlLCBwcm9wcywgY2hpbGRyZW4pIHtcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRyZW4pICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHZOb2RlLmNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgdk5vZGUuY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwcm9wcy5yZWYpIHtcclxuICAgICAgICB2Tm9kZS5yZWYgPSBwcm9wcy5yZWY7XHJcbiAgICAgICAgZGVsZXRlIHByb3BzLnJlZjtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmtleSkpIHtcclxuICAgICAgICB2Tm9kZS5rZXkgPSBwcm9wcy5rZXk7XHJcbiAgICAgICAgZGVsZXRlIHByb3BzLmtleTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSh0eXBlKSB7XHJcbiAgICBpZiAodHlwZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgICByZXR1cm4gMTI4IC8qIFN2Z0VsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnaW5wdXQnKSB7XHJcbiAgICAgICAgcmV0dXJuIDUxMiAvKiBJbnB1dEVsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnc2VsZWN0Jykge1xyXG4gICAgICAgIHJldHVybiAyMDQ4IC8qIFNlbGVjdEVsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAndGV4dGFyZWEnKSB7XHJcbiAgICAgICAgcmV0dXJuIDEwMjQgLyogVGV4dGFyZWFFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ21lZGlhJykge1xyXG4gICAgICAgIHJldHVybiAyNTYgLyogTWVkaWFFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDIgLyogSHRtbEVsZW1lbnQgKi87XHJcbn1cclxuZXhwb3J0cy5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSA9IGdldEZsYWdzRm9yRWxlbWVudFZub2RlO1xyXG5mdW5jdGlvbiBub3JtYWxpemUodk5vZGUpIHtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICAvLyBjb252ZXJ0IGEgd3JvbmdseSBjcmVhdGVkIHR5cGUgYmFjayB0byBlbGVtZW50XHJcbiAgICAvLyBQcmltaXRpdmUgbm9kZSBkb2Vzbid0IGhhdmUgZGVmYXVsdFByb3BzLCBvbmx5IENvbXBvbmVudFxyXG4gICAgaWYgKHZOb2RlLmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgcHJvcHNcclxuICAgICAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGRlZmF1bHRQcm9wcykpIHtcclxuICAgICAgICAgICAgaWYgKCFwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgcHJvcHMgPSB2Tm9kZS5wcm9wcyA9IGRlZmF1bHRQcm9wczsgLy8gQ3JlYXRlIG5ldyBvYmplY3QgaWYgb25seSBkZWZhdWx0UHJvcHMgZ2l2ZW5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gZGVmYXVsdFByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocHJvcHNbcHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW3Byb3BdID0gZGVmYXVsdFByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyh0eXBlKSkge1xyXG4gICAgICAgICAgICB2Tm9kZS5mbGFncyA9IGdldEZsYWdzRm9yRWxlbWVudFZub2RlKHR5cGUpO1xyXG4gICAgICAgICAgICBpZiAocHJvcHMgJiYgcHJvcHMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIHZOb2RlLmNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgbm9ybWFsaXplUHJvcHModk5vZGUsIHByb3BzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChwcm9wcy5jaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihwcm9wcy5jaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZHJlbikpIHtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgLy8gVGhpcyBjb2RlIHdpbGwgYmUgc3RyaXBwZWQgb3V0IGZyb20gcHJvZHVjdGlvbiBDT0RFXHJcbiAgICAgICAgLy8gSXQgaGVscHMgdXNlcnMgdG8gdHJhY2sgZXJyb3JzIGluIHRoZWlyIGFwcGxpY2F0aW9ucy5cclxuICAgICAgICB2YXIgdmVyaWZ5S2V5cyA9IGZ1bmN0aW9uICh2Tm9kZXMpIHtcclxuICAgICAgICAgICAgdmFyIGtleVZhbHVlcyA9IHZOb2Rlcy5tYXAoZnVuY3Rpb24gKHZub2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdm5vZGUua2V5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAga2V5VmFsdWVzLnNvbWUoZnVuY3Rpb24gKGl0ZW0sIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhc0R1cGxpY2F0ZSA9IGtleVZhbHVlcy5pbmRleE9mKGl0ZW0pICE9PSBpZHg7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzRHVwbGljYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCdJbmZlcm5vIG5vcm1hbGlzYXRpb24oLi4uKTogRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggc2FtZSBrZXksIGFsbCBrZXlzIG11c3QgYmUgdW5pcXVlIHdpdGhpbiBpdHMgc2libGluZ3MuIER1cGxpY2F0ZWQga2V5IGlzOicgKyBpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNEdXBsaWNhdGU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHZOb2RlLmNoaWxkcmVuICYmIEFycmF5LmlzQXJyYXkodk5vZGUuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHZlcmlmeUtleXModk5vZGUuY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9jb3JlL25vcm1hbGl6YXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3dhcm5pbmcvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0IGNvbnN0IEJlc2x1aXQgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgIDxhcnRpY2xlPlxuICAgIDxoMj5CZXNsdWl0PC9oMj5cbiAgICA8cD5cbiAgICAgIFVpdCBoZXQgd2VyayBrdW5uZW4gd2UgYmVzbHVpdGVuIGRhdCBkZSBoacOrcmFyY2hpZSB2YW4gZGUgUm9tZWluZW4gZ29lZCBpbiBlbGthYXIgemF0IGFhbmdlemllbiBpZWRlcmVlbiB6aWpuIHBsYWF0cyBrZW5kZSBlbiBlciByZXNwZWN0IGVuIGFhbnppZW4gd2FzLiBEb29yIGRlemUgb3JnYW5pc2F0aWUgd2FzIGhldCBSb21laW5zZSBsZWdlciBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRpZSB0aWpkLiBXYW5uZWVyIHdlIGhldCBodWlkaWdlIGxlZ2VyIHZlcmdlbGlqa2VuIG1ldCBoZXQgUm9tZWluc2Ugc3RlbGxlbiB3ZSB2YXN0IGRhdCBvbnplIGhpw6tyYXJjaGllIGVlbiB6ZWVyIHVpdGdlYnJlaWRlIHZlcnNpZSBpcyB2YW4gZGllIHZhbiBoZXQgUm9tZWluc2UgbGVnZXIuIEVyIHppam4gbWVlciBvbmRlcnZlcmRlbGluZ2VuIGVuIG1lZXIgY29tcG9uZW50ZW4gZGFuIGJpaiBkZSBSb21laW5lbiwgbWFhciBkaXQgaXMgdGUgd2lqdGVuIGFhbiB0ZWNobm9sb2dpc2NoZSBlbiB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZy4gWm8gemlqbiBlciBudSB2bGllZ3R1aWdlbiwgdGFua3MsIGplZXBzIGVuIHZsaWVnZGVrc2NoZXBlbiB3YXQgZXJ2b29yIHpvcmd0IGRhdCBpZWRlcmUgcGVyc29vbiBiaW5uZW4gaGV0IGxlZ2VyIHppam4gc3BlY2lmaWVrZSBmdW5jdGllIGhlZWZ0IGVuIGVyIGR1cyBtZWVyIHZlcmRlZWxkaGVpZCBpcy5cbiAgICAgIE9wIGhldCB2bGFrIHZhbiBiZXdhcGVuaW5nIHdhcmVuIGRlIFJvbWVpbmVuIG9vayBnb2VkIHZvb3J6aWVuLiBaZSB3YXJlbiB2ZWVsIGJlemlnIG1ldCBoZXQgb250d2lra2VsZW4gdmFuIG5pZXV3ZSB3YXBlbnMgb20gaHVuIHZpamFuZGVuIHRlIGt1bm5lbiB2ZXJyYXNzZW4uIEh1biB3YXBlbnMgd2FyZW4gZWZmaWNpw6tudCBlbiBkb2VsdHJlZmZlbmQgd2FhcmRvb3IgemUgdmVsZSB2ZWxkc2xhZ2VuIGhlYmJlbiBnZXdvbm5lbi4gV2FubmVlciB3ZSBoZXQgUm9tZWluc2UgbGVnZXIgbWV0IGhldCBodWlkaWdlIHZlcmdlbGlqa2VuIHN0ZWxsZW4gd2UgdmFzdCBkYXQgYWxsZXMgaXMgdmVyYW5kZXJkLiBEaXQgaXMgd2VlciB0ZSB3aWp0ZW4gYWFuIHRlY2hub2xvZ2lzY2hlIGVuIHdldGVuc2NoYXBwZWxpamtlIHZvb3J1aXRnYW5nLiBJbiBodWlkaWdlIHRpamRlbiB3b3JkdCBlciBuaWV0IG1lZXIgZ2VzdHJlZGVuIG1ldCB6d2FhcmRlbiwgc2NoaWxkZW4gZW4gc3BlcmVuLCBtYWFyIG1ldCBtYWNoaW5lZ2V3ZXJlbiwgbGFuZ2VhZnN0YW5kc3Jha2V0dGVuIGVuIGNvbXB1dGVycy4gRGUgUm9tZWluZW4gd2FyZW4gb25nZXR3aWpmZWxkIGRlIGdyb25kbGVnZ2VycyB2YW4gdmVyc2NoZWlkZW5lIGxlZ2VycyBkaWUgbGF0ZXIgemlqbiBvbnRzdGFhbiwgbWFhciBzcG9yZW4gdmFuIGh1biB3YXBlbnMgemlqbiBpbiBoZXQgaHVpZGlnZSBsZWdlciBuaWV0IG1lZXIgdGUgdmluZGVuLlxuICAgICAgSGV0IFJvbWVpbnNlIGxlZ2VyIHdhcyBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRlIGdlc2NoaWVkZW5pcy4gRGl0IGlzIHRlIHdpanRlbiBhYW4gaHVuIGlqemVyc3RlcmtlIGRpc2NpcGxpbmUgZW4gZ29lZCBiZWRhY2h0ZSB0YWN0aWVrZW4gZW4gYWFudmFsc3BsYW5uZW4uIERlIFJvbWVpbmVuIGJlZ3JlcGVuIG9vayB6ZWVyIGdvZWQgZGF0IGVlbiB2ZWxkc2xhZyBuaWV0IGVua2VsIGZ5c2llayB3ZXJkIGdlc3RyZWRlbiwgbWFhciBvb2sgbWVudGFhbC4gWmUgd2lzdGVuIGdvZWQgaG9lIHplIGhldCBtb3JlZWwgYmlqIGh1biB0cm9lcGVuIGhvb2cgbW9lc3RlbiBob3VkZW4gdGVyd2lqbCB6ZSBkYXQgdmFuIGRlIHZpamFuZCB2ZXJ6d2FrdGVuLiBIZXQgdmVybGllcyB2YW4gZWVuIHZlbGRzbGFnIHZvbmQgemlqbiBvb3J6YWFrIG1lZXN0YWwgYmlqIHNsZWNodCBsZWlkZXJzY2hhcC4gRGUgdGFjdGlla2VuIHZhbiBoZXQgaHVpZGlnZSBsZWdlciB6aWpuIHplZXIgc3RlcmsgdmVyYW5kZXJkIGFhbmdlemllbiBhbGxlcyB2YW5vcCBlZW4gbGFuZ2VyZSBhZnN0YW5kIGdlYmV1cnQgZW4gZXIgbWVlciBlbiBtZWVyIHZpYSByb2JvdHMgd29yZHQgZ2V3ZXJrdC4gVnJvZWdlciB3YXJlbiBiaWpuYSBhbGxlIGdldmVjaHRlbiBtYW4gdG90IG1hbiBnZXZlY2h0ZW4gd2FhcmRvb3IgbWVuIHRhY3RpZWtlbiBrb24gdG9lcGFzc2VuIHpvYWxzIGJpanZvb3JiZWVsZDogcnVpdGVycyBsYW5ncyBkZSBmbGFua2VuIGxhdGVuIGlua29tZW4uIFRlZ2Vud29vcmRpZyBoZWVmdCBkaXQgZ2VlbiBudXQgbWVlciBhYW5nZXppZW4gaGV0IGFhbnRhbCBzb2xkYXRlbiB3YWFybWVlIG1lbiBvb3Jsb2cgdm9lcnQgc3RlcmsgdmVybWluZGVyZCBpcy5cbiAgICA8L3A+XG4gIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmVzbHVpdC5qc3giLCJleHBvcnQgY29uc3QgQmV3YXBlbmluZyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8YXJ0aWNsZT5cbiAgICAgIDxoMj5Ib2Ugd2FzIGRlIGJld2FwZW5pbmcgYmlqIGRlIFJvbWVpbmVuPC9oMj5cbiAgICAgIDxwPlxuICAgICAgICBHZWR1cmVuZGUgZW5rZWxlIGVldXdlbiB0b3Qgb3AgZGUgZGFnIHZhbiB2YW5kYWFnIG9udHN0b25kIGVyIGVlbiB2b29ydGR1cmVuZGUgb250d2lra2VsaW5nIHZhbiBiZXdhcGVuaW5nLiBEaXQgaGVlZnQgemljaCBrdW5uZW4gdmVyd2V6ZW5saWprZW4gZG9vciBkZSB0ZWNobm9sb2dpc2NoZSB2b29ydWl0Z2FuZyBtZXQgYWxzIGdldm9sZyBkYXQgZGUga3JhY2h0IHZhbiB3YXBlbnMgYWFuemllbmxpamsgaXMgdmVyZ3Jvb3QuIE1hYXIgb20gZGUgZXZvbHV0aWUgdmFuIGRlIGJld2FwZW5pbmcgd2FhciB0ZSBuZW1lbiwgbW9ldGVuIHdlIHRlcnVnYmxpa2tlbiB0ZW4gdGlqZGUgdmFuIGhldCBSb21laW5zZSBpbXBlcml1bSB3YWFyIGRlIGJhc2lzIHdlcmQgZ2VsZWdkLlxuICAgICAgPC9wPlxuXG4gICAgICA8aDM+RHJhYWdiYXJlIGJld2FwZW5pbmc8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIFZlbGUga2luZGVyZW4gb2Ygam9uZ2VyZW4gbGV6ZW4gd2VsZWVucyBzdHJpcHMgem9hbHMgQXN0ZXJpeCBlbiBPYmVsaXggb2YgbW9ldGVuIG9wIHNjaG9vbCBlbmtlbGUgd2Vya2plcyBtYWtlbiBvbXRyZW50IGRlIFJvbWVpbnNlIGJlc2NoYXZpbmcuIEhpZXJkb29yIGtyaWpnZW4gemUgZWVuIGJlcGFhbGQgYmVlbGQgb3ZlciBoZXQgUm9tZWluc2UgbGV2ZW4gZW4gbWV0IHdlbGtlIHdhcGVucyBkZSBzb2xkYXRlbiB0ZSB3ZXJrIGdpbmdlbi5cbiAgICAgICAgSGV0IGFsZ2VtZW5lIGJlZWxkIGRpZSB3aWogaGllcnZhbiBoZWJiZW4sIGlzIGRhdCBlbGtlIHNvbGRhYXQgZWVuIGFhbnZhbHN3YXBlbiBlbiBlZW4gdmVyZGVkaWdpbmdzd2FwZW4gdGVyIGJlc2NoaWtraW5nIGhhZCBlbiBkYXQgaWVkZXJlIHNvbGRhYXQgdm9vcnppZW4gd2VyZCB2YW4gc3RvZXJlIHZlY2h0ZXJza2xlZGlqLiBIaWVyYmlqIHppam4gdmFhayBoZXQgendhYXJkIGVuIGRlIHNwZWVyIGRlIGJlbGFuZ3JpamtzdGUgYWFudmFsc3dhcGVucyBlbiB0ZXIgdmVyZGVkaWdpbmcgZ2VicnVpa3RlbiB6ZSBoZXQgc2NoaWxkLiBPbSB6aWNoIHRlIGJlc2NoZXJtZW4gZHJvZWdlbiB6ZSB2YWFrIGVlbiBoYXJuYXMuIE9mIGRlemUgYWxnZW1lbmUgdm9vcnN0ZWxsaW5nIGFsdGlqZCB3YWFyIGlzLCB3b3JkdCBpbiBkaXQgaG9vZmRzdHVrIG9uZGVyem9jaHQuXG4gICAgICAgIDxwLz5cbiAgICAgICAgQmV3YXBlbmluZyBiaWogUm9tZWluc2UgbGVnaW9uYWlycyBoaWVsZGVuIHRlbGtlbnMgdmVyYmFuZCBtZXQgZGUgcmFuZyB3YWFydG9lIHplIGJlaG9vcmRlbi4gQmV3YXBlbmluZyBpcyBuZXQgem9hbHMgZGUgcmFuZ2VuIGluIHZlcnNjaGlsbGVuZGUgZ3JvZXBlbiB0ZSB2ZXJkZWxlbi4gQmVnaW5uZW4gZG9lbiB3ZSBtZXQgZGUgdmVyc2NoaWxsZW5kZSB0aWpkcGVya2VuIGdhYW5kZSB2YW4gMTA1IHYuQ2hyLiB0b3QgZWluZGUgMmRlIGVldXcuIEhpZXJiaWogd29yZHQgZWVuIG5pZXV3IHRpamRwZXJrIHRlbGtlbnMgaW5nZWxlaWQgYmlqIG9udHN0YWFuIHZhbiBuaWV1d2UgZW4gYmVsYW5ncmlqa2UgYmV3YXBlbmluZy5cbiAgICAgICAgPHAvPlxuICAgICAgICBCaWogZGUgZWVyc3RlIGdlbmVyYXRpZSB3YXMgZGUgZ2xhZGl1cyAoPSB6d2FhcmQpIGhldCBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbi4gRGV6ZSB3ZXJkIGFsdGlqZCBnZWJydWlrdCBpbiBjb21iaW5hdGllIG1ldCBkZSBhc3BpcyAoPSBzY2hpbGQpIHdhYXJtZWUgemUgemljaCBrb25kZW4gdmVyZGVkaWdlbi4gSW4gaGV0IGJlZ2luIGhhZCBkZSBnbGFkaXVzIGVlbiBrb3J0ZSBsZW5ndGUsIGdlw69uc3BpcmVlcmQgb3AgaGV0IG1vZGVsIHZhbiBkZSBHcmlla3NlIHhpcGhvcy4gSGV0IHNjaGlsZCBvZiBkZSB6b2dlbmFhbWRlIGFzcGlzIHdlcmQgdmVydmFhcmRpZ2QgdWl0IGhvdXQgbWV0IHRlbGtlbnMgZWVuIGJyb256ZW4gcmFuZCB0ZXIgdmVyc3RlcmtpbmcuIERlIHZvcm0gdmFuIGhldCBzY2hpbGQgd2FzIHJvbmQgZW4gcmVsYXRpZWYgZ3Jvb3QgdGVyIHZlcmdlbGlqa2luZyBtZXQgd2F0IGVyIG5vZyB6b3Ugdm9sZ2VuLiBPb2sgaGllcmJpaiBoZWJiZW4gZGUgUm9tZWluZW4gemljaCB3ZWVyIGxhdGVuIGluc3BpcmVyZW4gZG9vciBkZSBHcmlla2VuLlxuICAgICAgICBCaWogZGUgdm9sZ2VuZGUgZ2VuZXJhdGllIHdpbGRlbiBkZSBSb21laW5lbiBodW4gZWlnZW4gc3RpamwgY3Jlw6tyZW4gd2FhcmluIEdyaWVrc2UsIEtlbHRpc2NoZSBlbiBJdGFsaXNjaGUgaW52bG9lZGVuIHZlcndlcmt0IHdlcmRlbi4gWm8gY3Jlw6tlcmRlbiB6ZSBkZSBzY3V0dW0gYWxzIHZlcnZhbmdpbmcgdmFuIGRlIGFzcGlzLiBIZXQgaGFkIGVlbiBvdmFsZSB2b3JtIGVuIGJlc2NoaWt0ZSBvdmVyIHRhbCB2YW4gdm9vcmRlbGVuLiBabyBpcyBoZXQgc2NoaWxkIGR1dXJ6YW1lciBlbiBsaWNodGVyIGRhbiBkZSB2b3JpZ2UgZW4gaGV0IGJlc2NoaWt0ZSBvdmVyIGVlbiBzY2hpbGRrbm9wICg9IG1ldGFsZW4gYm9sIGRpZSB6aWNoIGNlbnRyYWFsIG9wIGhldCBzY2hpbGQgYmV2b25kKS4gRGUgZnVuY3RpZSB2YW4gZGllIGtub3Agd2FzIG1lZXIgc2NoYWRlIHRvZSBicmVuZ2VuIGFhbiBkZSB2aWphbmQuIERlIGFzcGlzIHdlcmQgYWx0aWpkIGluIGRlIGxpbmtlcmhhbmQgZ2VkcmFnZW4gd2FhcmRvb3IgemUgaGV0IHp3YWFyZCBpbiBkZSByZWNodGVyaGFuZCBrb25kZW4gbGVnZ2VuLiBEZSByZWRlIGhpZXJ2b29yIHdhcyBkYXQgZGUgbWVlc3RlIFJvbWVpbnNlIHNvbGRhdGVuIHJlY2h0c2hhbmRpZyB3YXJlbiB3YWFyZG9vciB6ZSBtZWVyIGtyYWNodCBoYWRkZW4gaW4gaHVuIHJlY2h0ZXJhcm0gd2F0IG5vb2R6YWtlbGlqayB3YXMgb20gYnJ1dXNrZSBiZXdlZ2luZ2VuIHRlIG1ha2VuIG1ldCBkZSBnbGFkaXVzLiBFbmlnZSB0aWpkIGxhdGVyIGdpbmdlbiB6ZSBnZWJydWlrIG1ha2VuIHZhbiBlZW4gaWV0cyBsYW5nZXIgendhYXJkIHdhdCBvdmVyZ2Vub21lbiB3YXMgdmFuIGRlIHZpamFuZCB0aWpkZW5zIGRlIFB1bmlzY2hlIG9vcmxvZ2VuLlxuICAgICAgICBEaWV6ZWxmZGUgZ2VuZXJhdGllIGdpbmcgemljaCBvb2sgcmljaHRlbiBvcCBkZSBvbnR3aWtrZWxpbmcgdmFuIHN0b290c3BlcmVuICg9IGVlcnN0ZSB2ZXJzaWUgc3BlcmVuKS4gRGV6ZSBoYWRkZW4gb25nZXZlZXIgZGV6ZWxmZGUgZnVuY3RpZSBhbHMgaGV0IHp3YWFyZC5cbiAgICAgICAgPHAvPlxuXG4gICAgICAgIDxwLz5cbiAgICAgICAgSGV0IGVuaWdlIHZlcnNjaGlsIHdhcyBkYXQgemUgbm9nIGxhbmdlciB3YXJlbi4gWmUgd2FyZW4gaW4gaGV0IGJlZ2luIG5pZXQgYmVkb2VsZCBvbSB3ZWcgdGUgZ29vaWVuIGluIGRlIHJpY2h0aW5nIHZhbiBkZSB2aWphbmQuXG4gICAgICAgIFN0b290c3BlcmVuIHdlcmRlbiBnZWJydWlrdCBkb29yIGRlIGhhc3RhdGkgKD0gbGVnaW9uYXJpaSB2YW4gaGV0IGVlcnN0ZSBtYW5pcGVsKS5cbiAgICAgICAgVWl0ZWluZGVsaWprIHdlcmQgZGUgc3Rvb3RzcGVlciBtaW5kZXIgZ2VicnVpa3QgZG9vciBkZSBsZWdpb25haXJzIGVuIGV2b2x1ZWVyZGUgbWVuIG5hYXIgaGV0IG9udHdpa2tlbGVuIHZhbiBlZW4gbGljaHRlcmUgd2VycHNwZWVyIG5sIGRlIHBpbHVtLiBEaXQgcmVzdWx0ZWVyZGUgaW4gZWVuIG5pZXV3ZSBnZW5lcmF0aWUuIEVsa2UgbGVnYXR1cyBiZXNjaGlrdGUgb3ZlciAyIHBpbGEgd2FhcmRvb3IgemUgYmlqIGRlIHN0YXJ0IHZhbiBlZW4gZ2V2ZWNodCBkZSB2aWphbmQgb25taWRkZWxsaWprIGtvbmRlbiB2ZXJ6d2Fra2VuLiBEZSBwaWx1bSB3YXMgemVsZnMgem8gZ2VtYWFrdCBkYXQgZGUgcHVudCB2YW4gZGUgc3BlZXIgYmlqIGJvdHNpbmcga3JvbSBnaW5nIHN0YWFuIG9mIGFmYnJhayB3YWFyZG9vciBkZSB2aWphbmQgZGUgc3BlZXIgbmlldCBrb24gaGVyZ2VicnVpa2VuLiBTdGVsIGRhdCBkZSBwaWx1bSBpbiBlZW4gc2NoaWxkIGJlbGFuZGRlLCBkYW4gd2FzIGhldCBnZXZvbGcgZGF0IGRlIHp3YXJlIGFjaHRlcmthbnQgdmFuIGRlIHNwZWVyIG5hYXIgYmVuZWRlbiB6YWt0ZSB3YWFyZG9vciBoZXQgb25tb2dlbGlqayB3YXMgb20gZXIgdmVyZGVyIG1lZSByb25kIHRlIGxvcGVuLiBIaWVyZG9vciB3YXMgZGUgdmlqYW5kIHZhYWsgZ2Vub29kemFha3Qgb20gem9uZGVyIHNjaGlsZCB2ZXJkZXIgdGUgdmVjaHRlbi5cbiAgICAgICAgPHAvPlxuICAgICAgICBJbiBkZSAzZGUgZWV1dyBrd2FtIGVyIG9wbmlldXcgZWVuIG9wdmFsbGVuZGUgdm9vcnVpdGdhbmcsIG1hYXIgZGl0bWFhbCBvcCBoZXQgZ2ViaWVkIHZhbiB2ZXJkZWRpZ2luZy4gRGUgYmVrZW5kZSBzY3V0dW0gd2VyZCBhYW5nZXBhc3QgZW4gem8gb250c3RvbmQgZGUgc3BpY3VsdW0uIEhldCB3YXMgZWVuIHZsYWsgc2NoaWxkLCBub2cgbGljaHRlciBlbiBuZXQgem9hbHMgZGUgc2N1dHVtIG1ldCBlZW4gc2xhZ2tub3AgaW4gaGV0IG1pZGRlbi5cbiAgICAgICAgPHAvPlxuICAgICAgICBEZSBiZXdhcGVuaW5nIHZhbiBkZSBodWxwdHJvZXBlbiBpcyBvb2sgb3AgdGUgZGVsZW4gaW4gZW5rZWxlIGdyb2VwZW4uIFRpamRlbnMgZGUgZWVyc3RlIGphcmVuIHZhbiBkZSBlcXVpdGF0dXMgd2VyZCBkZSBnbGFkaXVzIGdlYnJ1aWt0IG9tIGRlIHZpamFuZCBhYW4gdGUgdmFsbGVuIHZhbm9wIGhldCBwYWFyZC4gRG9vcmRhdCBoZXQgendhYXJkIGtvcnQgd2FzLCBtYWFrdGVuIHplIGthbnMgb20gc25lbCB2YW4gaGV0IHBhYXJkIHRlIHZhbGxlbi4gSW4gZGUgbG9vcCB2YW4gZGUgM2RlIGVldXcgd2FzIG1lbiBlcmluIGdlc2xhYWdkIGVlbiBsYW5nZXJlIHZlcnNpZSB2YW4gZGUgZ2xhZGl1cyB0ZSBjcmXDq3JlbiBubCBkZSBzcGF0aGEuIERlIHNhZ2l0dGFyaWkgbWFrZW4gZ2VicnVpayB2YW4gZGUgc2FnaXR0YSAoPSBwaWpsZW5ib29nKS4gRGUgZ2Vib2dlbiB2b3JtIHZhbiBkZSBzYWdpdHRhIHdlcmQgZ2V2b3JtZCBkb29yIGJlZ2luIGVuIGVpbmRlIGFhbiB0ZSBzcGFubmVuIG1ldCBlZW4gc3RldmlnZSwgc3RyYWtrZSBkcmFhZC4gSGllcm1lZSBrb25kZW4gemUgaHVuIHBpamxlbiBvdmVyIGVlbiBncm90ZSBhZnN0YW5kIHNjaGlldGVuLlxuICAgICAgICBUb3Qgc2xvdCBoYW50ZXJlbiBkZSBmdW5kaXRvcmVzIGRlIGZ1bmRhLiBEaXQgaXMgZWVuIHNsaW5nZXIgd2FhcmluIHplIGxvZGVuIGtvZ2VscyBsZWdkZSBvbSBkaWUgdmVydm9sZ2VucyBuYWFyIGRlIHZpamFuZCB0ZSBnb29pZW4uXG4gICAgICAgIDxwLz5cbiAgICAgICAgVWl0IGFsIGRlemUgZ2VnZXZlbnMgd2V0ZW4gd2UgZGF0IGhldCBhbGdlbWVuZSBiZWVsZCBncm90ZW5kZWVscyBqdWlzdCBpcy4gTWFhciBqZSBrYW4gb25tb2dlbGlqayBiZXNsdWl0ZW4gZGF0IGplIG1ldCBkYXQgYmVlbGQgYWxsZXMgd2VldCBvdmVyIGRlIGJld2FwZW5pbmcgdmFuIFJvbWVpbnNlIHNvbGRhdGVuLiBOYWFzdCBoZXQgendhYXJkLCBkZSBzcGVlciBlbiBoZXQgc2NoaWxkIHdhcmVuIGVyIG5vZyB0YWwgdmFuIGFuZGVyZSBhYW52YWxzLSBlbiB2ZXJkZWRpZ2luZ3N3YXBlbnMgZGllIGdlYnJ1aWt0IHdlcmRlbiB0aWpkZW5zIGRlIGdldmVjaHRlbiB0ZW4gdGlqZGUgdmFuIGRlIFJvbWVpbmVuLlxuXG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiPlxuICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPkJld2FwZW5pbmcgbGVnaW9uYWlyczwvdGg+XG4gICAgICAgICAgICAgIDx0aD5hYW52YWxzd2FwZW48L3RoPlxuICAgICAgICAgICAgICA8dGg+dmVyZGVkaW5naW5nc3dhcGVuPC90aD5cbiAgICAgICAgICAgICAgPHRoPjwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPjFzdGUgZ2VuZXJhdGllPC90ZD5cbiAgICAgICAgICAgIDx0ZD5nbGFkaXVzPC90ZD5cbiAgICAgICAgICAgIDx0ZD5hc3BpYTwvdGQ+XG4gICAgICAgICAgICA8dGQgcm93c3Bhbj1cIjRcIj5cbiAgICAgICAgICAgICAgR2VuZXJhdGllcyBnYWFuZGUgdmFuYWZcbiAgICAgICAgICAgICAgwrEgM2RlIGVldXcgdi5DaHIuIOKAkyAzZGUgZWV1d1xuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD4yZGUgZ2VuZXJhdGllPC90ZD5cbiAgICAgICAgICAgIDx0ZD5oYXN0YSArIGdsYWRpdXM8L3RkPlxuICAgICAgICAgICAgPHRkPnNjdXR1bTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+M2RlIGdlbmVyYXRpZTwvdGQ+XG4gICAgICAgICAgICA8dGQ+cGlsdW0gKyBnbGFkaXVzPC90ZD5cbiAgICAgICAgICAgIDx0ZD5zY3V0dW08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPjRkZSBnZW5lcmF0aWU8L3RkPlxuICAgICAgICAgICAgPHRkPnNwYXRoYTwvdGQ+XG4gICAgICAgICAgICA8dGQ+c3BpY3VsdW08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiPlxuICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPkJld2FwZW5pbmcgaHVscHRyb2VwZW48L3RoPlxuICAgICAgICAgICAgICA8dGg+YWFudmFsc3dhcGVuczwvdGg+XG4gICAgICAgICAgICAgIDx0aD52ZXJkZWRpZ2luZ3N3YXBlbnM8L3RoPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5lcXVpdGF0dXM8L3RkPlxuICAgICAgICAgICAgPHRkPnNwYXRoYTwvdGQ+XG4gICAgICAgICAgICA8dGQgcm93c3Bhbj1cIjNcIj5cbiAgICAgICAgICAgICAgVmVyZGVkaWdpbmcga29tdCBncm90ZW5kZWVscyBvdmVyZWVuIG1ldCBkaWUgdmFuIGRlIGxlZ2lvbmFpcnNcbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+c2FnaXR0YXJpaTwvdGQ+XG4gICAgICAgICAgICA8dGQ+c2FnaXR0YTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+ZnVuZGl0b3JlczwvdGQ+XG4gICAgICAgICAgICA8dGQ+ZnVuZGE8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L3A+XG4gICAgICA8cD5cbiAgICAgICAgQWFuZ2V6aWVuIGVyIHdlaW5pZyBiZXRyb3V3YmFyZSBicm9ubmVuIHppam4gb3ZlciBkZSBleGFjdGUgZGF0YSDigJlzIGkudi5tLiBoZXQgb250c3RhYW4gdmFuIHJlZWRzIHZlcm1lbGRlIGJld2FwZW5pbmcsIHdlcmQgZGUgY2hyb25vbG9naXNjaGUgdm9sZ29yZGUgdmFuIGhldCBvbnRzdGFhbiB3ZWVyZ2VnZXZlbiBhLmQuaC52LiBnZW5lcmF0aWVzLlxuICAgICAgPC9wPlxuXG4gICAgICA8aDM+T29ybG9nc3R1aWdlbjwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgVGVuc2xvdHRlIGJlc3ByZWtlbiB3ZSBpbiBkaXQgaG9vZmRzdHVrIGRlIFJvbWVpbnNlIG9vcmxvZ3N0dWlnZW4gYWFuZ2V6aWVuIGhldCBlZW4gYmVsYW5ncmlqayBhc3BlY3Qgd2FzIHZhbiBkZSBnZXZlY2h0ZW4uIEhpZXJiaWogZ2FhbiB3ZSBlZW4gb3BkZWxpbmcgbWFrZW4gdHVzc2VuIGRlIHRvcm1lbnRhICg9IGFhbnZhbHN3YXBlbnMpIGVuIGVua2VsZSBhbmRlcmUgb29ybG9nc3ZvZXJ0dWlnZW4gdGVyIHZlcmRlZGlnaW5nLlxuICAgICAgPC9wPlxuICAgICAgPGg0PlxuICAgICAgICBBYW52YWxzd2FwZW5zXG4gICAgICA8L2g0PlxuICAgICAgPHA+XG4gICAgICAgIERlIGFhbnZhbHN3YXBlbnMgd2FyZW4gdmVlbCBrcmFjaHRpZ2VyIGRhbiBkZWdlbmUgZGllIHplIG9wIHphayBkcm9lZ2VuLiBEZSBiZWtlbmRzdGUgYWFudmFsc21hY2hpbmVzIHdhcmVuIGRlIGNhdGFwdWx0YWUgKD0ga2F0YXB1bHRlbiksIG9uZGVyIHRlIHZlcmRlbGVuIGluIGVua2VsZSBjYXRlZ29yaWXDq24uIFplIHdlcmRlbiBnZWJydWlrdCBvbSBwcm9qZWN0aWVsZW4gd2VnIHRlIHNjaGlldGVuIG0uYi52LiBtZWNoYW5pc2NoZSBlbmVyZ2llLlxuICAgICAgICBEZSBlZXJzdGUga2F0YXB1bHRlbiBzY2hvdGVuIGh1biBwaWpsZW4gaW4gYmlqbmEgaG9yaXpvbnRhbGUgcmljaHRpbmcgd2FhcmRvb3IgZGUgYWZzdGFuZCBkaWUgemUga29uZGVuIGFmbGVnZ2VuIG5pZXQgYWwgdGUgc3VjY2Vzdm9sIHdhcy5cbiAgICAgICAgRGUgUm9tZWluc2UgaW5nZW5pZXVycyB2YW4gZGllIHRpamQgZ2luZ2VuIGRhbiB6b2VrZW4gbmFhciBtZXRob2RlcyBvbSBoZXQgcmVlZHMgdmVybWVsZGUgcHJvYmxlZW0gb3AgdGUgbG9zc2VuLiBIaWVydWl0IG9udHN0b25kIGRlIGJhbGxpc3RhLiBEZXplIGthdGFwdWx0IGhhZCB0dXNzZW4gZGUgMiBob3Jpem9udGFhbCBzY2h1aW4gZ2VwbGFhdHN0ZSBiYWxrZW4gZWVuIGdlc3Bhbm5lbiB0b3V3LiBPbmRlciBoZXQgdG91dyBiZXZvbmQgemljaCBlZW4gaGFsdmUgY2lsaW5kZXIgd2FhcmluIGhldCBwcm9qZWN0aWVsIHdlcmQgZ2VsZWdkLiBEZXplIGhhbHZlIGNpbGluZGVyIHdlcmQgYWx0aWpkIG5hYXIgYm92ZW4gZ2VyaWNodCBlbiBkZSBob2VrIHdhYXJpbiBoZXQgemljaCBiZXZvbmQga29uZGVuIHplIGJpanN0dXJlbiBpbmRpZW4gbm9kaWcuIEhldCB3YXMgZHVzIG5pZXQgem8gZGF0IGJhbGxpc3RhJ3MgZWVuIHZhc3RlIGhvZWsgbWVla3JlZ2VuIHpvYWxzIGJpaiBkZSBlZXJzdGUgdmVyc2llcyB2YW4gZGUga2F0YXB1bHRlbi4gRG9vciBkaWUgcmVnZWxiYXJlIGhvZWsga29uZGVuIHplIGh1biBwaWpsZW4gb3ZlciBlZW4gYWZzdGFuZCB2YW4gNDAwIG1ldGVyIHNjaGlldGVuLiBOZXQgem9hbHMgYmlqIGRlIG91ZHN0ZSBrYXRhcHVsdGVuIHdhcmVuIGVyIHZlZWwgc29sZGF0ZW4gKMKxNCkgbm9kaWcgb20gaGV0IGluIGdlYnJ1aWsgdGUga3VubmVuIG5lbWVuLiBEYWFyb20gem9jaHRlbiBkZSBpbmdlbmlldXJzIG5vZyBzdGVlZHMgbmFhciBlZW4gdmVyYmV0ZXJkZSB2ZXJzaWUuXG4gICAgICAgIERlIGluZ2VuaWV1cnMgcGxhYXRzdGVuIGRpdCBuYWRlZWwgY2VudHJhYWwgaW4gaHVuIHZvbGdlbmRlIG9udHdlcnBlbiB3YWFyZG9vciBkZSBzY29ycGlvbmVzIChrcnVpc2Jvb2cgb3Agdm9ldCkgd2FyZW4gb250c3RhYW4uIEhldCB3YXJlbiBrbGVpbmUga2F0YXB1bHRlbiBkaWUgZG9vciAxIG1hbiBnZWRyYWdlbiBrb25kZW4gd29yZGVuLiBaZSBiZXN0b25kZW4gdWl0IGVlbiBpanplcmVuIGJvb2cgd2FhcnR1c3NlbiBlZW4gc25hYXIgd2VyZCBnZXNwYW5uZW4uIERlIHByb2plY3RpZWxlbiBkaWUgemUga29uZGVuIGFmdnVyZW4gd2FyZW4gaG91dGVuIHNwaWVzZW4gdmFuIDY3Y20uXG4gICAgICAgIE5hIGRlIHNjb3JwaW9uZXMgb250d2lra2VsZGUgbWVuIGRlIGNoZWlvYmFsbGlzdHJhIGRpZSBiZXNjaGlrdGUgb3ZlciBtZXRhbGVuIGZyYW1lcyB3YXQgdmVlbCBzdGVya2VyIHdhcyBkYW4gdm9vcmRpZW4uXG4gICAgICAgIERlIG9uYWdlciB3YXMgZGUgbGFhdHN0ZSBoZXJ2b3JtaW5nIHZhbiBkZSBrYXRhcHVsdCBlbiB3ZXJkIGFsZ2VtZWVuIGluIGdlYnJ1aWsgZ2Vub21lbiByb25kIGRlIDRkZSBlZXV3LlxuXG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICBEZXplIGhhZCBlZW4gdG90YWFsIGFuZGVyZSB3ZXJrd2lqemUgZGFuIGRlIHZvcmlnZS4gSGV0IHdhcyBlZW4gaGVlbCBncm9vdCBlbiB6d2FhciBtYWNoaW5lIGJlZG9lbGQgb20gZ3JvdGUgcHJvamVjdGllbGVuIG5hYXIgZGUgdmlqYW5kIHRlIHdlcnBlbi4gRGVyZ2VsaWprZSBwcm9qZWN0aWVsZW4gd2FyZW4gbWVlc3RhbCBzdGVuZW4uXG4gICAgICAgIEhldCBvcHZhbGxlbmRzdGUga2VubWVyayB2YW4gZGUgb25hZ2VyIHdhcyBkYXQgZXIgb3BuaWV1dyB2ZWxlIHNvbGRhdGVuIG5vZGlnIHdhcmVuIG9tIGRlIGthdGFwdWx0IGluIGdlYnJ1aWsgdGUgbmVtZW4gZW4gZGl0IHdhcyBqdWlzdCB3YXQgbWVuIGJpaiBkZSBvbnR3aWtrZWxpbmcgdmFuIGRlIGthdGFwdWx0IHdpbGRlIHRlZ2VuZ2Fhbi5cbiAgICAgIDwvcD5cblxuICAgICAgPGgzPlZlcmRlZGlnaW5nc3dhcGVuczwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgRGUgdmVyZGVkaWdpbmdzbWFjaGluZXMgd2FyZW4gbmV0IHpvYWxzIGRlIGFhbnZhbHNtYWNoaW5lcyBrcmFjaHRpZ2VyIGluIHZlcmdlbGlqa2luZyBtZXQgd2F0IGRlIHNvbGRhdGVuIGJpaiB6aWNoIGRyb2VnZW4uIFUgemFsIHRlbGtlbnMgZWVuIGtvcnRlIGJlc2NocmlqdmluZyBrcmlqZ2VuIG92ZXIgZW5rZWxlIG9vcmxvZ3N0dWlnZW4gZGllIHRlciB2ZXJkZWRpZ2luZyB3ZXJkZW4gZ2VicnVpa3QuXG4gICAgICAgIDxwLz5cbiAgICAgICAgQmVnaW5uZW4gZG9lbiB3ZSBtZXQgZGUgcGx1dGVpLCBlZW4gaGFsZmNpcmtlbHZvcm1pZyBzY2hpbGQgb3Agd2llbGVuIGRpZSB2ZWVsIHdlZXJzdGFuZCBib29kLlxuICAgICAgICBWZXJ2b2xnZW5zIHdhcyBlciBkZSB0ZXN0dWRvLiBEZXplIHdhcyBuZXQgem9hbHMgZGUgcGx1dGVpIGVlbiBiZXNjaGVybWluZyBvcCB3aWVsZW4gKGthbiBvb2sgem9uZGVyIHdpZWxlbikuIE1hYXIgaGV0IHZlcnNjaGlsIHdhcyBkYXQgYmlqIGRlIHRlc3R1ZG8gc2NoaWxkZW4gYWFuIGVsa2FhciB3ZXJkZW4gZ2VoZWNodCBkaWUgemUgZGFuIGFscyBhZmRhayBnZWJydWlrdGVuLlxuICAgICAgICA8cC8+XG4gICAgICAgIFRvdCBzbG90IGJlc3RvbmQgZXIgZWVuIG1hY2hpbmUgZGllIHpvd2VsIGJpaiBkZSBhYW52YWxzLSBhbHMgYmlqIGRlIHZlcmRlZGlnaW5nc3dhcGVucyB6b3Uga3VubmVuIGhvcmVuLCBubCBkZSB0dXJlcyBhbWJ1bGF0b3JpYWUuIEhldCB3YXMgZWVuIGhvdXRlbiB0b3JlbiBvcCB3aWVsZW4gd2FhcmluIHplIGtvbmRlbiBzY2h1aWxlbiBlbiBvcCBkaWUgbWFuaWVyIGtvbmRlbiB6ZSBvbmdlc2Nob25kZW4gZGUgdmlqYW5kIG5hZGVyZW4uIFpv4oCZbiB0b3JlbiB0ZWxkZSBlbmtlbGUgdmVyZGllcGluZ2VuIGVuIGhhZCB0ZWxrZW5zIGVlbiB2YWxsdWlrIHBlciB2ZXJkaWVwLiBEaXQgZ2FmIGhlbiBkZSBrYW5zIG9tIG92ZXIgZGUgbXVyZW4gdGUgZ2VyYWtlbiB2YW4gZGUgdmlqYW5kLiBIZWxlbWFhbCBvbmRlcmFhbiB3ZXJkIGVlbiBzdG9ybXJhbSBpbmdlYm91d2QgZW4gZGV6ZSBoYWQgYWxzIGZ1bmN0aWUgZGUgcG9vcnRlbiB2YW4gaGV0IHZpamFuZGVsaWprZSBnZWJpZWQgdGUgZG9vcmJyZWtlbi5cbiAgICAgICAgPHAvPlxuICAgICAgPC9wPlxuXG4gICAgICA8dGFibGUgY2xhc3M9XCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPk9vcmxvZ3N0dWlnZW48L3RoPlxuICAgICAgICAgICAgPHRoPndhcGVuczwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5hYW52YWxzd2FwZW5zICg9IHRvcm1lbnRhKTwvdGQ+XG4gICAgICAgICAgPHRkPmNhdGFwdWx0YWU8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgPHRkPkJhbGxpc3RhZTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+PC90ZD5cbiAgICAgICAgICA8dGQ+U2NvcnBpb25lczwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+PC90ZD5cbiAgICAgICAgICA8dGQ+Y2hlaW9iYWxsaXN0cmE8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgPHRkPm9uYWdlcjwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+dmVyZGVkaW5naW5zd2FwZW5zPC90ZD5cbiAgICAgICAgICA8dGQ+UGx1dGVpPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD48L3RkPlxuICAgICAgICAgIDx0ZD50ZXN0dWRvPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5jb21iaW5hdGlld2FwZW48L3RkPlxuICAgICAgICAgIDx0ZD5UdXJlcyBhbWJ1bGF0b3JpYWU8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90YWJsZT5cblxuICAgICAgPGgzPlZlcmdlbGlqa2luZzwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgQWxzIHdlIGVlbiB2ZXJnZWxpamtpbmcgbWFrZW4gdmFuIGRlIFJvbWVpbnNlIGJld2FwZW5pbmcgdC5vLnYuIGRlIGh1aWRpZ2UsIGRhbiBrdW5uZW4gd2UgZWVuIHplZXIgc3RlcmtlIGV2b2x1dGllIHZhc3RzdGVsbGVuIHZvb3J0Z2Vrb21lbiB1aXQgZGUgd2V0ZW5zY2hhcHBlbGlqa2Ugdm9vcnVpdGdhbmcgZGllIG1lbiBkb29yaGVlbiBkZSBqYXJlbiBib2VrdGUuIFplIGhlYmJlbiB6aWNoIGFsdGlqZCB3aWxsZW4gdmVyYmV0ZXJlbiBpbiBoZXQgbWFrZW4gdmFuIG1hY2hpbmVzIGRpZSBwcm9qZWN0aWVsZW4ga29uZGVuIGFmc2NoaWV0ZW4uIFpvIHdlcmQgZGUga2F0YXB1bHQgb21nZXZvcm1kIHRvdCBlZW4gbGFuZ2UgYWZzdGFuZHNyYWtldC4gTWVuIG9udHdpa2tlbGRlIHplbGZzIGVlbiBzeXN0ZWVtIG9tIHp3YWFyZGVuIHRlIHZlcnZhbmdlbiBkb29yIG1hY2hpbmVzIGRpZSBrb2dlbHMga29uZGVuIGFmdnVyZW4uXG4gICAgICA8L3A+XG5cbiAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iZXdhcGVuaW5nLmpzeCIsImV4cG9ydCBjb25zdCBCcm9ubmVuID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgICA8YXJ0aWNsZT5cbiAgICA8aDI+QnJvbm5lbjwvaDI+XG5cbiAgICA8aDMgY2xhc3M9XCJicm9uXCI+Qm9la2VuPC9oMz5cbiAgICA8cD5cblxuICAgICAgPHVsPlxuICAgICAgICA8bGk+Q29tbWVudGFyaWkgZGUgYmVsbG8gR2FsbGljbywgVklJLCBMWElYPC9saT5cbiAgICAgICAgPGxpPlZhbiBHZWxkZXIsIEouICgxOTUyKSBMYXRpam5zZSBnZXNjaGllZHNjaHJpanZlcnMuIEJsb2VtbGV6aW5nIHVpdCBkZSB3ZXJrZW4gdmFuIFNhbGx1c3RpdXMsIENhZXNhciwgTGl2aXVzIGVuIFRhY2l0dXMuIEhhYXJsZW06IFNwYWFybmVzdGFkPC9saT5cbiAgICAgICAgPGxpPkhhcnB1ciwgSi4gKDIwMDcpIEd1ZXJyaWVyczogTGVzIGdyYW5kcyBow6lyb3MgZGUgbOKAmWhpc3RvaXJlLiBNSUxBTjogVG91bG91c2U8L2xpPlxuICAgICAgICA8bGk+VmFuIERhZWxlLCBCLiAoMjAwMykgSGV0IFJvbWVpbnNlIExlZ2VyLiBEYXZpZHNmb25kczogTGV1dmVuPC9saT5cbiAgICAgICAgPGxpPkdvbGRzd29ydGh5LCBBLiAoMjAxNykgUm9tZWluc2UgbGVnaW9lbmVuLiBPbW5pYm9lazogVXRyZWNodDwvbGk+XG4gICAgICAgIDxsaT5Sb2RnZXJzLCBOLiAoMjAxMikgSGV0IFJvbWVpbnNlIFJpamsuIFZlbHRtYW46IFV0cmVjaHQ8L2xpPlxuICAgICAgICA8bGk+QW5vbmllbS4gKDIwMTUpLiBEZSBWZWxkc2xhZ2VuLCBIZXQgUG9wLVVwYm9lay4gVGllbHQ6IExhbm5vby48L2xpPlxuICAgICAgICA8bGk+V2FycnksIFcuICgxOTgxKS4gT29ybG9ndm9lcmluZyBpbiBkZSBrbGFzc2lla2Ugd2VyZWxkLiBIZW1vbmQ6IEhlbG1vbmQuPC9saT5cbiAgICAgICAgPGxpPkRhbmRvLUNvbGxpbnMsIFMuICgyMDEwKS4gTGVnaW9ucyBvZiBSb21lOiBUaGUgRGVmaW5pdGl2ZSBIaXN0b3J5IG9mIEV2ZXJ5IEltcGVyaWFsIFJvbWFuIExlZ2lvbi4gTG9uZGVuOiBRdWVyY3VzIFB1Ymxpc2hpbmcuPC9saT5cbiAgICAgICAgPGxpPkZldWdlcmUsIE0uICgyMDAyKS4gVGhlIFdlYXBvbnMgb2YgdGhlIFJvbWFucy4gVW5pdGVkIEtpbmdkb206IFRoZSBIaXN0b3J5IFByZXNzLjwvbGk+XG4gICAgICA8L3VsPlxuXG4gICAgICA8aDMgY2xhc3M9XCJicm9uXCI+TW9uZGVsaW5nPC9oMz5cbiAgICAgIDxwPlxuICAgICAgICBNb25kZWxpbmdlIGJyb24gZ2VsZXZlcmQgZG9vciBLb2xvbmVsIFNCSCBNYXJjIEFsZXhhbmRlciAoSG9vZ2xlcmFhciBhYW4gZGUgS01TKVxuICAgICAgPC9wPlxuICAgICAgPGgzIGNsYXNzPVwiYnJvblwiPldlYnNpdGVzPC9oMz5cbiAgICAgIDxwPlxuICAgICAgICA8dWw+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL21hcmNhdXIud29yZHByZXNzLmNvbS8yMDE1LzAzLzIwL2RlLXZpamYtZ3Jvb3RzdGUtb3Zlcndpbm5pbmdlbi12YW4tZGUtcm9tZWluZW4tbG9uZ3JlYWQvXCI+R29lZGUga2VpemVycywgc2xlY2h0ZSBrZWl6ZXJzPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3Lm1pbGl0YWlyLm5ldC9Pb3Jsb2dlbi9Sb21laW5zZSUyMG9vcmxvZ2VuL1NsYWclMjBiaWolMjBUZXV0b2J1cmdlcndvdWQvXCI+bWlsaXRhaXIubmV0PC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LmlzZ2VzY2hpZWRlbmlzLm5sL25pZXV3cy80LW9wbWVya2VsaWprZS12ZWxkc2xhZ2VuLXJvbWVpbnNlLWdlc2NoaWVkZW5pcy9cIj40IG9wbWVya2VsaWprZSB2ZWxkc2xhZ2VuIHVpdCBkZSBSb21laW5zZSBnZXNjaGllZGVuaXM8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vbmwud2lraXBlZGlhLm9yZy93aWtpL0JlbGVnJTIwdmFuJTIwQWxlc2lhXCI+QmVsZWcgdmFuIEFsZXNpYTwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly93d3cua3Vuc3RnZW9ncmFmaWUubmwvaGVudi9oZWxkZW4uYWxlc2lhLnNsYWcuaHRtXCI+V2FhciBsYWcgQWzDqXNpYT88L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cuY2VuZW5zLmJlL2FsZXNpYS9vbWdldmluZy5odG1sXCI+ZGUgZ2VzY2hpZWRlbmlzIHZhbiBBbGVzaWE8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vcGxhemlsbGEuY29tL3BhZ2UvNDI5NTAyODkxMy9kcmllLWdyb3RlLXZlbGRzbGFnZW4tdWl0LWRlLXJvbWVpbnNlLXRpamRcIj5EcmllIGdyb3RlIHZlbGRzbGFnZW4gdWl0IGRlIFJvbWVpbnNlIHRpamQ8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vbmwud2lraXBlZGlhLm9yZy93aWtpL1NsYWdfYmlqX2hldF9UZXV0b2J1cmdlcndvdWRcIj5TbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LmlzZ2VzY2hpZWRlbmlzLm5sL21pbGl0YWlyZS1jb25mcm9udGF0aWVzL3NsYWctYmlqLWhldC10ZXV0b2J1cmdlcndvdWQtdmFydXMtbG9vcHQtaW4tZWVuLWdlcm1hYW5zZS1oaW5kZXJsYWFnL1wiPlNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQ6IFZhcnVzIGxvb3B0IGluIGVlbiBHZXJtYWFuc2UgaGluZGVybGFhZzwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly93d3cuaGlzdG9yaXNjaGVjYXJ0b2dyYWZpZS5ubC9uaWV1d3MvMjAwOS8xMS92YXJ1c3NsYWctMjAwMC1qYWFyLWdlbGVkZW4vXCI+VmFydXNzbGFnOiAyMDAwIGphYXIgZ2VsZWRlbjwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5ub3Zpb21hZ3VzLmluZm8vdmFydXNzbGFnLmh0bVwiPkRlIFZhcnVzc2xhZyBpbiA5IG4uQ2hyLjwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9ubC53aWtpcGVkaWEub3JnL3dpa2kvUHVibGl1c19RdWluY3RpbGl1c19WYXJ1c1wiPlB1YmxpdXMgUXVpbmN0aWxpdXMgVmFydXM8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cubGVnaW94aS5iZS9lZHVjYXRpZWYvdGFjdGlla2VuIChvcGVuIHZlbGRzbGFnKVwiPlRhY3RpZWtlbjwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5rbGFzc2lla2V2ZXJ0YWxpbmdlbi5ubC9jdWx0dXVyL2xlZ2VyLmh0bVwiPkhldCBSb21laW5zZSBsZWdlcjwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3VzZXJzLnRlbGVuZXQuYmUvcGhvZW5pY2EvaHVscHRyb2VwZW4uaHRtXCI+SHVscHRyb2VwZW48L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly9yb21laW5lbi5pbmZvL2RlLWJld2FwZW5pbmctdmFuLWRlLXJvbWVpbnNlLWxlZ2lvbmFpclwiPkRlIGJld2FwZW5pbmcgdmFuIGRlIFJvbWVpbnNlIGxlZ2lvbmFpcjwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3VzZXJzLnNreW5ldC5iZS92ZW5pX3ZpZGlfdmljaS9iZXN0b3JtaW5nLmh0bWxcIj5WZXJkZWRpZ2luZ3N3ZXJrZW4gZW4gYmVsZWdlcmluZ3Nvb3Jsb2c8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cucHJpbWFyeWhvbWV3b3JraGVscC5jby51ay9yb21hbnMvd2VhcG9ucy5odG1sXCI+V2VhcG9uczwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9yb21hbm1pbGl0YXJ5Lm5ldC90b29scy9cIj5Ub29scyBvZiBXYXI8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly9mYWN0c2FuZGRldGFpbHMuY29tL3dvcmxkL2NhdDU2L3N1YjM2OC9pdGVtMjA1NS5odG1sXCI+QW5jaWVudCByb21hbiBtaWxpdGFyeSwgd2VhcG9ucyBhbmQgc3BpZXM8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vd3d3LnRoZS1yb21hbnMuY28udWsvd2VhcG9ucy5odG1cIj5XZWFwb25zICYgVGFjdGljczwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy51bnJ2LmNvbS9taWxpdGFyeS9sZWdpb24ucGhwXCI+T3JnYW5pemF0aW9uIG9mIHRoZSBSb21hbiBJbXBlcmlhbCBMZWdpb248L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cucm9tYW4tZW1waXJlLm5ldC9hcm15L2FybXkuaHRtbFwiPlRoZSBSb21hbiBBcm15PC9hPjwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L3A+XG4gICAgPC9wPlxuICA8L2FydGljbGU+XG4gICk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jyb25uZW4uanN4IiwiZXhwb3J0IGNvbnN0IElubGVpZGluZyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8YXJ0aWNsZT5cbiAgICA8aDI+SW5sZWlkaW5nPC9oMj5cbiAgICA8cD5cbiAgICAgIFdpaiBoZWJiZW4gYmVzbGlzdCBvbSBvbnMgd2VyayBvdmVyIGhldCBSb21laW5zZSBsZWdlciB0ZSBiZWdpbm5lbiBtZXQgZGUgb25kZXJ2ZXJkZWxpbmcgdmFuIGhldCBsZWdlci4gSGllcmRvb3Iga3JpamcgamUgYWwgZWVuIGluemljaHQgaW4gaG9lIGRlIGhpw6tyYXJjaGllIHdhcyB0ZW4gdGlqZGUgdmFuIGRlIFJvbWVpbmVuLiBIaWVybmEgemlqbiB3aWogZGllcGVyIGluZ2VnYWFuIG9wIGRlIGJld2FwZW5pbmcgdmFuIGRlIFJvbWVpbmVuIHpvZGF0IGplIGdvZWQgd2VldCBob2UgemUgdG9lbiB2b2NodGVuIGVuIHdhdCB6ZSB0ZXIgYmVzY2hpa2tpbmcgaGFkZGVuIG9tIGh1biB2aWphbmQgdGUgb3Zlcm1lZXN0ZXJlbi4gQWxzIGxhYXRzdGUgaGViYmVuIHdpaiBnZWtla2VuIG5hYXIgaGV0IHZlcmxvb3AgdmFuIHR3ZWUgdmVsZHNsYWdlbiBlbiBoZWJiZW4gd2UgZGV6ZSB2b2xsZWRpZyBnZWFuYWx5c2VlcmQgb20gdWl0ZWluZGVsaWprIHRlIGt1bm5lbiB6ZWdnZW4gaG9lIGRlemUgYmV0ZXIgaGFkZGVuIGt1bm5lbiB2ZXJsb3Blbi4gV2lqIGhlYmJlbiB2ZXJzY2hlaWRlbmUgYnJvbm5lbiBnZWJydWlrdCBvbSBvbnMgd2VyayB0ZSBvbmRlcmJvdXdlbiwgZ2FhbmRlIHZhbiBib2VrZW4gdWl0IGhldCBhcmNoaWVmIHZhbiBkZSBLb25pbmtsaWprZSBNaWxpdGFpcmUgU2Nob29sIHRvdCB3ZWJzaXRlcyB2YW4gcHJvZmVzc29yZW4gbGF0aWpuIGRpZSB0aGVzaXNzZW4gb3ZlciBoZXQgUm9tZWluc2UgbGVnZXIgaGViYmVuIGdlc2NocmV2ZW4uIE9tIG5vZyBleHRyYSBkb2N1bWVudGF0aWUgZW4gYWZiZWVsZGluZ2VuIHRlIHZlcnNjaGFmZmVuIGJpaiBkZXplIG9uZGVyem9la3Njb21wZXRlbnRpZSwgaGViYmVuIHdpaiBiZXNsb3RlbiBvbSBkZXplIHNpdGUgdGUgbWFrZW4uXG4gICAgPC9wPlxuICA8L2FydGljbGU+XG4gICk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2lubGVpZGluZy5qc3giLCJleHBvcnQgY29uc3QgT25kZXJ2ZXJkZWxpbmcgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGFydGljbGU+XG5cbiAgICA8aDI+T25kZXJ2ZXJkZWxpbmcgdmFuIGhldCBsZWdlcjwvaDI+XG4gICAgPHA+XG4gICAgICBEZSBSb21laW5lbiBoYWRkZW4gdmVyc2NoaWxsZW5kZSByYW5nZW4gYmlubmVuIGhldCBsZWdlciB3YWFydG9lIGplIGtvbiBiZWhvcmVuLiBIZXQgbGVnZXIgd2VyZCBvcGdlZGVlbGQgaW4gbWVlcmRlcmUgbGVnaW9lbmVuIGVuIGh1bHB0cm9lcGVuIHdhYXJtZWUgemUgdmFudWl0IHZlcnNjaGlsbGVuZGUgaG9la2VuIGRlIHZpamFuZCBnZXN0cnVjdHVyZWVyZCBrb25kZW4gYWFudmFsbGVuLiBEb29yaGVlbiBkZSBqYXJlbiBuYW0gaGV0IGFhbnRhbCBzb2xkYXRlbiBzdGVyayB0b2UuIERlIHJlZGVuIGRhYXJ0b2Ugd2FzIHZyaWogZWVudm91ZGlnLiBFZW5tYWFsIGVlbiBiZXBhYWxkZSBiZXZvbGtpbmdzZ3JvZXAgemlqbiBzdHJpamRtYW5zY2hhcHBlbiB2ZXJncm9vdHRlLCB3YXMgZGUgYW5kZXJlIHZlcnBsaWNodCBvbSBoZXR6ZWxmZGUgdGUgZG9lbiwgYWFuZ2V6aWVuIHplIGFuZGVycyBnZWVuIGVua2VsZSBrYW5zIHpvdWRlbiBoZWJiZW4gb3AgZGUgb3Zlcndpbm5pbmcuXG4gICAgPC9wPlxuXG4gICAgPGgzPkhldCBsZWdpb2VuPC9oMz5cbiAgICA8cD5cbiAgICAgIEVlbiBsZWdpb2VuIHdlcmQgb3BnZWRlZWxkIGluIDEwIGNvaG9ydGVuIHdhYXJiaWogMSBjb2hvcnRlIGVlbiBhYW50YWwgdmFuIDYwMCBzb2xkYXRlbiB0ZWxkZSBvcCB2b29yd2FhcmRlIGRhdCBoZXQgbGVnaW9lbiBiZXN0b25kIHVpdCBvbmdldmVlciA2MDAwIGxlZ2lvbmFyaWkgKD0gc29sZGF0ZW4pLiBEZSBsZWlkZXIgdmFuIGVlbiBsZWdpb2VuIHdlcmQgZWVuIGxlZ2F0dXMgZ2Vub2VtZC4gSGV0IHdhcyBhbHRpamQgZWVuIG1hbiBvbWRhdCBlbmtlbCBkZSBtYW5uZW4gdG9lZ2VsYXRlbiB3ZXJkZW4gYmlqIGhldCBsZWdlciAoVnJvdXdlbiBtb2VzdGVuIGhldCBodWlzaG91ZGVuIGRvZW4pLiBEZSBsZWdhdHVzIGhhZCBvb2sgNSDDoCA2IGFzc2lzdGVudGVuIHRlciBiZXNjaGlra2luZyBkaWUgZGUgbmFhbSB0cmlidW5pIGtyZWdlbi4gRGF0IHdhcmVuIHN0ZWVkcyBqb25nZSBtYW5uZW4gZGllIGVlbiBwb2xpdGlla2UgY2FycmnDqHJlIHdpbGRlIHN0YXJ0ZW4gbWFhciBlZXJzdCB3YXQgbWlsaXRhaXJlIGVydmFyaW5nIG5vZGlnIGhhZGRlbi5cblxuICAgICAgVmVydm9sZ2VucyB3ZXJkZW4gYWxsZSBjb2hvcnRlbiBub2cgZWVucyBvbmRlcnZlcmRlZWxkIGluIDMgbWFuaXBlbHMgbWV0IHRlbGtlbnMgZWVuIGFhbnRhbCB2YW4gMjAwIG1hbi4gSGV0IDFzdGUgbWFuaXBlbCB2YW4gaWVkZXJlIGNvaG9ydGUga3JlZWcgZGUgbmFhbSBwaWx1cy4gSGV0IDFzdGUgbWFuaXBlbCB2YW4gZGUgMXN0ZSBjb2hvcnRlIHdlcmQgZGUgcHJpbXVzIHBpbHVzIGdlbm9lbWQgbWV0IGRlIHByaW1pIHBpbGkgY2VudHVyaW8gYWFuIGhldCBob29mZC5cbiAgICAgIERlemUgMjAwIG1hbm5lbiB3ZXJkZW4gbm9nbWFhbHMgZ2VzcGxpdHN0IGluIDIgZ3JvZXBlbiB2YW4gMTAwIHNvbGRhdGVuLiBEZXJnZWxpamtlIGdyb2VwZW4gYmVob29yZGVuIHRvdCBkZSByYW5nIHZhbiBkZSBjZW50dXJpYS4gSGllcmJpaiB3YXMgZWVuIGNlbnR1cmlvICg9IG9uZGVyb2ZmaWNpZXIpIGRlIGFhbnZvZXJkZXIgdmFuIDEgdmFuIGRlIDYgY2VudHVyacOrbi4gSGlqIGJlc2NoaWt0ZSBvdmVyIGVlbiBhYW50YWwgc29sZGF0ZW4sIDEgdmVsZHRla2VuZHJhZ2VyIGVuIGVlbiBvcHRpby4gWmlqbiBiZWxhbmdyaWpraGVpZCB3YXMgYWZoYW5rZWxpamsgdmFuIGRlIHJhbmcgZGllIHppam4gY2VudHVyaWEgaGFkLiBabyBpcyBkZSBjZW50dXJpbyB2YW4gaGV0IDFzdGUgY2VudHVyaWUsIDFzdGUgbWFuaXBlbCBlbiAxc3RlIGNvaG9ydGUgZGUgYmVsYW5ncmlqa3N0ZSBlbiBuYWFybWF0ZSBqZSB2ZXJkZXIgZ2FhdCBpbiBkZSBoacOrcmFyY2hpZSBuZW1lbiB6ZSBhYW4gYmVsYW5ncmlqa2hlaWQgYWYuIEVlbiBjZW50dXJpbyBiZXNjaGlrdGUgbmV0IHpvYWxzIGVlbiBsZWdhdHVzIG92ZXIgZWVuIGFzc2lzdGVudCBkaWUgZGUgbmFhbSBvcHRpbyBhYW5nZWJvZGVuIGtyZWVnLiBEZXplIG9wdGlvIGJlc2NoaWt0ZSBvdmVyIGVlbiBrbGVpbiBtYW5zY2hhcCBvbSB3YXQgZXJ2YXJpbmcgdGUga3JpamdlbiBvdmVyIGhvZSBqZSBsZWlkaW5nIG1vZXN0IGdldmVuLiBIZXQgdWl0ZWluZGVsaWprZSBkb2VsIHZhbiBkZSBvcHRpbyB3YXMgdGUgcHJvbW92ZXJlbiBvbSB6byBkZSBmdW5jdGllIHZhbiBlZW4gY2VudHVyaW8gdGUga3Jpamdlbi4gWmVlciBlcnZhcmVuIGNlbnR1cmlv4oCZcyBrcmVnZW4gb29rIG5vZyBrYW5zIG9tIHByYWVmZWN0dXMgY2FzdHJvcnVtICg9IGthbXBjb21tYW5kYW50KSB0ZSB3b3JkZW4uXG4gICAgICBUb3Qgc2xvdCB3ZXJkZW4gZGllIDEwMCBtYW4gbm9nIGVlbiBrZWVyIG9wZ2VkZWVsZCBpbiAxMCBncm9lcGplcyB2YW4gdGVsa2VucyAxMCBzb2xkYXRlbiBkaWUgc2FtZW4gZWVuIGtsZWluZSB0ZW50IG1vZXN0ZW4gZGVsZW4gd2FhcmluIHplIGtvbmRlbiBvdmVybmFjaHRlbi4gRGVyZ2VsaWprIHRlbnRlbiB3YXJlbiBvbmdldmVlciA0IGJpaiAzIG1ldGVyLiBEZSByZWRlbiBoaWVydm9vciB3YXMgZGF0IHplIG9td2lsbGUgdmFuIGh1biBncm9vdHRlIG1ha2tlbGlqayB0ZSB2ZXJ2b2VyZW4gd2FyZW4uIERlemUgZ3JvZXBqZXMgd2VyZGVuIGNvbnR1cmJlcm5pdW0gZ2Vub2VtZC4gRWxrIGNvbnR1cmJlcm5pdW0gYmVzY2hpa3RlIG92ZXIgZWVuIG11aWxlemVsIGRpZSBkZSBzb2xkYXRlbiBoaWVscCBiaWogaGV0IHZlcnZvZXJlbiB2YW4gaHVuIGdvZWRlcmVuLlxuICAgICAgSGV0IGxlZ2lvZW4gYmV2YXR0ZSBuYWFzdCByZWVkcyB2ZXJtZWxkZSByYW5nZW4gbm9nIGFuZGVyZSBwZXJzb25lbiBkaWUgZWVuIHNwZWNpZmlla2UgdGFhayB1aXR2b2VyZGVuLlxuICAgIDwvcD5cblxuICAgIDxwPlxuICAgICAgRWVuIGFxdWlsaWZlciAoPSBzdGFuZGFhcmRkcmFnZXIpIGtyZWVnIGRlIHRhYWsgb20gbWV0IGhldCBSb21laW5zZSBlbWJsZWVtIHZhbiBlZW4gYXF1aWxhICg9IGFyZW5kKSBoZXQgbGVnaW9lbiB2b29yYWYgdGUgZ2FhbiBlbiBzdG9uZCBhYW4gaGV0IGhvb2ZkIHZhbiBhbGxlIGFuZGVyZSB2ZWxkdGVrZW5kcmFnZXJzLlxuICAgICAgSW4gZWVuIGxlZ2lvZW4gd2FyZW4gZXIgb29rIGJha2tlcnMsIHNtZWRlbiwgZG9rdGVyLCDigKZcbiAgICAgIDxwLz5cbiAgICAgIEVlbiBsZWdpb2VuIGtvbiBkdXMgem9uZGVyIGVuaWcgcHJvYmxlZW0gZW5rZWxlIG1hYW5kZW4gcm9uZHRyZWtrZW4gZG9vciBkZSBncm90ZSB2b29ycmFhZCB2YW4gZGluZ2VuIGRpZSB6ZSBtZWVzbGV1cmRlIHRpamRlbnMgaHVuIHRvY2h0IGVuIGhldCBncm9vdCBhYW5ib2QgdmFuIGFzc2lzdGVudGVuLlxuICAgIDwvcD5cblxuICAgIDxoMz5EZSBodWxwdHJvZXBlbjwvaDM+XG4gICAgPHA+XG4gICAgICBOYWFzdCBsZWdpb2VuZW4gbWFha3RlIGRlIFJvbWVpbmVuIG9vayB2ZWVsdnVsZGlnIGdlYnJ1aWsgdmFuIGRlIGF1eGlsaWEgKD0gaHVscHRyb2VwZW4pLiBEYWFydG9lIGJlaG9vcmRlbiBkZSBzb2xkYXRlbiBkaWUgbmlldCBkZSBzdGF0dXMgaGFkZGVuIHZhbiBSb21laW5zZSBzdGFhdHNidXJnZXIgZG9vcmRhdCB6ZSBhZmtvbXN0aWcgd2FyZW4gdWl0IGFuZGVyZSB2b2xrZXJlbi4gT213aWxsZSB2YW4gaHVuIGFuZGVyZSBhZmtvbXN0IGtyZWdlbiB6ZSBtYWFyIDEvMyB2YW4gaGV0IGxvb24gdmFuIGVlbiBsZWdpb25hcml1cy5cbiAgICAgIDxwLz5cbiAgICAgIEh1biB2b29ybmFhbXN0ZSBmdW5jdGllIHdhcyBvbSBkZSBsZWdpb2VuZW4gdGUgaGVscGVuIGVuIG9tIGRlIGdyZW56ZW4gdGUgYmV3YWtlbiBlbiB0ZSB2ZXJkZWRpZ2VuLiBEZXplIHRha2VuIG1vZXN0ZW4gemUgdWl0dm9lcmVuIG9uZGVyIGJldmVsIHZhbiBwcmFlZmVjdGkgKD0gUm9tZWluc2Ugb2ZmaWNpZXJlbikuIEFscyBlZW4gYXV4aWxpYXJpdXMgKD0gZWVuIHNvbGRhYXQgdmFuIGRlIGh1bHB0cm9lcGVuKSBlZW4gZGllbnN0dGVybWlqbiB2YW4gMjUgamFhciBoYWQgYWZnZXNsb3Rlbiwga3JlZWcgaGlqIGVuIHppam4gZ2V6aW4gdmFuYWYgZGF0IG1vbWVudCBkZSBzdGF0dXMgdmFuIGVlbiBSb21laW5zIHN0YWF0c2J1cmdlci4gRGUgem9uZW4gdmFuIGVlbiBleC1hdXhpbGlhcml1cyBnaW5nZW4gYWxzIGxlZ2lvbmFyaXVzIHdlcmtlbiB3YXQgaGVuIGRlIGthbnMgZ2FmIG9tIG1lZXIgdGUgdmVyZGllbmVuIGRhbiBodW4gdmFkZXIuIERlIGV4LWF1eGlsaWFyaXVzIHplbGYgbmFtIGRlIG5hYW0gdmFuIGRlIHJlZ2VyZW5kZSBrZWl6ZXIgYWFuLlxuICAgICAgPHAvPlxuICAgICAgTmV0IHpvYWxzIGRlIGxlZ2lvZW5lbiB6aWpuIGVyIHZlcnNjaGlsbGVuZGUgb25kZXJkZWxlbiBiaW5uZW4gZGUgaHVscHRyb2VwZW4gem9hbHM6IGRlIGVxdWl0YXR1cyAoPSBydWl0ZXJzKSwgZGUgc2FnaXR0YXJpaSAoPSBib29nc2NodXR0ZXJzKSBlbiBkZSBmdW5kaXRvcmVzICg9IHNsaW5nZXJhYXJzKS4gRWxrZSBzb2xkYWF0IGJpbm5lbiBkZSBodWxwdHJvZXBlbiBrcmVlZyBlZW4gYmlqcGFzc2VuZCB3YXBlbiBhZmhhbmtlbGlqayB0b3Qgd2Vsa2UgZ3JvZXAgaGlqIGJlaG9vcmRlLlxuICAgIDwvcD5cblxuICAgIDxwPlxuICAgICAgPHRhYmxlIGNsYXNzPVwib25kZXJ2ZXJkZWxpbmctdGFibGVcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD5ncm9lcGVuPC90aD5cbiAgICAgICAgICAgIDx0aD5sZWdpb2VuZW48L3RoPlxuICAgICAgICAgICAgPHRoPmh1bHB0cm9lcGVuPC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPmJlbGFuZ3JpamtzdGUgb25kZXJkZWxlbjwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICBjb2hvcnRlbjxici8+XG4gICAgICAgICAgICAgIG1hbmlwZWxzPGJyLz5cbiAgICAgICAgICAgICAgY2VudHVyaWE8YnIvPlxuICAgICAgICAgICAgICBjb250dXJiZXJuaXVtXG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICBzYWdpdHRhcmlpPGJyLz5cbiAgICAgICAgICAgIGVxdWl0YXR1czxici8+XG4gICAgICAgICAgICBmdW5kaXRvcmVzXG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5hYW50YWw8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDEgY29ob3J0ID0gwrEgNjAwPGJyLz5cbiAgICAgICAgICAgIDEgbWFuaXBlbCA9IMKxIDIwMDxici8+XG4gICAgICAgICAgICAxIGNlbnR1cmlhID0gwrEgMTAwPGJyLz5cbiAgICAgICAgICAgIDEgY29udHVyYmVybml1bSA9IMKxIDEwXG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICBhYW50YWwgaXMgb25kdWlkZWxpamtcbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPmxlaWRlcnM8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIGxlZ2lvZW4gLS0mZ3Q7IGxlZ2F0dXNcbiAgICAgICAgICAgIGNlbnR1cmlhIC0tJmd0OyBjZW50dXJpb1xuICAgICAgICAgICAgemVlciBlcnZhcmVuIGNlbnR1cmlvIC0tJmd0OyAgcHJhZWZlY3R1cyBjYXN0cm9ydW1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5IdWxwdHJvZXBlbiAtLSZndDsgcHJhZWZlY3RpPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5zdGF0dXM8L3RkPlxuICAgICAgICAgIDx0ZD5Sb21laW5zIHN0YWF0c2J1cmdlcjwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgZ2VlbiBSb21laW5zIHN0YWF0c2J1cmdlci4gQWZrb21zdGlnIHZhbiBhbmRlcmUgdm9sa2VyZW5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90YWJsZT5cbiAgICA8L3A+XG5cblxuICAgIDxoMz5WZXJnZWxpamtpbmc8L2gzPlxuICAgIDxwPlxuICAgICAgQWxzIHdlIGRlIG9uZGVydmVyZGVsaW5nIGJpaiBkZSBSb21laW5lbiB2ZXJnZWxpamtlbiBtZXQgZGUgb256ZSBkYW4gbWVya2VuIHdlIG9wIGRhdCBkZSBzdHJ1Y3R1dXIgdm9vciBlZW4gZ3Jvb3QgZGVlbCBiZXdhYXJkIGlzIGdlYmxldmVuLiBUb2NoIGt1bm5lbiB3ZSBzdGVsbGVuIGRhdCBoZXQgaHVpZGlnZSBzeXN0ZWVtIG1lZXIgb25kZXJ2ZXJkZWxpbmdlbiBoZWVmdCBlbiBkYXQgZGUgbmFtZW4gb29rIHN0ZWVkcyBnZXdpanppZ2Qgemlqbi4gWm8gaXMgaW4gMjAxNyBkZSBnZW5lcmFhbCBkZSBsZWlkZXIgdmFuIGhldCBsZWdlciBlbiB2cm9lZ2VyIHNwcmFrIG1lbiBvdmVyIGxlZ2F0dXMgZGllIGRlIGxlaWRpbmcgaGFkIG92ZXIgaGV0IGxlZ2lvZW4uXG4gICAgPC9wPlxuXG4gIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvb25kZXJ2ZXJkZWxpbmcuanN4IiwiZXhwb3J0IGNvbnN0IFZlbGRzbGFnZW4gPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gIDxhcnRpY2xlPlxuICAgIDxoMj5WZWxkc2xhZ2VuIGVuIG9vcmxvZ2VuPC9oMj5cbiAgICA8cD5cbiAgICAgIERlIFJvbWVpbmVuIGhlYmJlbiBkb29yaGVlbiBodW4gbGFuZ2UgYmVzdGFhbiBpbiB2ZWxlIGRlbGVuIHZhbiBkZSB3ZXJlbGQgZ2V2b2NodGVuIHRlZ2VuIHZlcnNjaGlsbGVuZGUgcmlqa2VuLCBzdGFkc3RhdGVuLCBoYW5kZWxzbmF0aWVzIGVuIGJhcmJhYXJzZSBzdGFtbWVuIGFhbmdlemllbiB6ZSBzdGVlZHMgbWVlciBncm9uZGdlYmllZCB3aWxkZW4gdmVyb3ZlcmVuLiBIb2V3ZWwgdmVsZW4gaGllcnZhbiB3ZXJkZW4gZ2V3b25uZW4gZGFua3ppaiBodW4gZG9vcmRhY2h0ZSB0YWN0aWVrZW4gZW4gaWp6ZXJzdGVya2UgZGlzY2lwbGluZSwgd2FyZW4gZXIgb29rIHp3YXJlIG5lZGVybGFnZW4gYmlqIHpvYWxzOiBkZSBzbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkLCBkZSBzbGFnIGJpaiBDYW5uYWUgZW4gZGUgc2xhZyBiaWogQWRyaWFub3BvbGlzLiBEb29yIGRlemUgbmVkZXJsYWdlbiBzY2hhYWZkZW4gemUgaHVuIHRhY3RpZWtlbiBiaWogb20gZGV6ZWxmZGUgZm91dGVuIG5pZXQgbm9nIGVlbnMgdGUgbWFrZW4uXG4gICAgPC9wPlxuICAgIDxoMz5EZSBzbGFnIGJpaiBBbGVzaWE8L2gzPlxuICAgIDxwPlxuICAgICAgRGUgc2xhZyBiaWogQWxlc2lhIHdlcmQgZ2V2b2NodGVuIHR1c3NlbiBkZSBSb21laW5zZSB0cm9lcGVuIHZhbiBKdWxpdXMgQ2Flc2FyIGVuIGRlIEF2ZXJuaXNjaGUgdHJvZXBlbiB2YW4gVmVyY2luZ2V0b3JpeC4gRGV6ZSBzbGFnIHdhcyBkZSBiZXNsaXNzZW5kZSBzbGFnIGluIGRlIHN0cmlqZCB0dXNzZW4gZGUgR2FsbGnDq3JzIGVuIGRlIFJvbWVpbmVuIGVuIGhldCB3YXMgdGV2ZW5zIGVlbiB2YW4gZGUgZ3Jvb3RzdGUgb3Zlcndpbm5pbmdlbiB2YW4gQ2Flc2FyLiBEZSBzbGFnIHZvbmQgcGxhYXRzIGluIDUyIHYuQy4gYmlqIGhldCBHYWxsaXNjaGUgQWxlc2lhIHJvbmQgZWVuIHZlcnN0ZXJrdCBmb3J0IHZhbiBoZXQgdm9sayBNYW5kdWJpaS5cbiAgICAgIEhldCBmb3J0IHZhbiBBbGVzaWEgd2FzIGdlbGVnZW4gYm92ZW5vcCBlZW4gaGV1dmVsIHdhYXIgcml2aWVyZW4gbGFuZ3Mgc3Ryb29tZGVuLiBDYWVzYXIgZ2FmIHZhbiBkZSBvbWdldmluZyBlZW4gemVlciBnb2VkZSBiZXNjaHJpanZpbmcgaW4gemlqbiBDb21tZW50YXJpaSBkZSBiZWxsbyBHYWxsaWNvOiBcIklwc3VtIGVyYXQgb3BwaWR1bSBBbGVzaWEgaW4gY29sbGUgc3VtbW8gYWRtb2R1bSBlZGl0byBsb2NvLCB1dCBuaXNpIG9ic2lkaW9uZSBleHB1Z25hcmkgbm9uIHBvc3NlIHZpZGVyZXR1ci4gQ3VpdXMgY29sbGlzIHJhZGljZXMgZHVvIGR1YWJ1cyBleCBwYXJ0aWJ1cyBmbHVtaW5hIHN1Ymx1ZWJhbnQuIEFudGUgaWQgb3BwaWR1bSBwbGFuaXRpZXMgY2lyY2l0ZXIgbWlsbGlhIHBhc3N1dW0gSUlJIGluIGxvbmdpdHVkaW5lIHBhdGViYXQ7IHJlbGlxdWlzIGV4IG9tbmlidXMgcGFydGlidXMgY29sbGVzIG1lZGlvY3JpIGludGVyaWVjdG8gc3BhdGlvIHBhcmkgYWx0aXR1ZGluaXMgZmFzdGlnaW8gb3BwaWR1bSBjaW5nZWJhbnQuXCIgRGl0IGthbiBtZW4gdmVydGFsZW4gYWxzOiDigJhEZSB2ZXN0aW5nIEFsZXNpYSB6ZWxmIGxhZyBvcCBlZW4gaGV1dmVsdG9wIGRpZSBhYW56aWVubGlqayBib3ZlbiBkZSB2bGFrdGUgdWl0c3Rhaywgem9kYXQgemlqIG9uaW5uZWVtYmFhciBzY2hlZW4gdGVuemlqIGRvb3IgYmxva2thZGUuIERlIHZvZXQgdmFuIGRpZSBoZXV2ZWwgd29yZHQgYWFuIHR3ZWUgemlqZGVuIGJlc3BvZWxkIGRvb3Igd2F0ZXJsb3Blbi5cbiAgICAgIFbDs8OzciBkZSB2ZXN0aW5nIHN0cmVrdGUgemljaCBlZW4gb25nZXZlZXIgZHJpZSBtaWpsIGJyZWRlIHZsYWt0ZSB1aXQ7IGFhbiBhbCBkZSBhbmRlcmUgemlqZGVuIG9tcmluZ2RlIGhldXZlbHMsIG9wIGtvcnRlIGFmc3RhbmQgdmFuIGVsa2FhciBnZWxlZ2VuIGVuIG1ldCBnZWxpamtlIHRvcGhvb2d0ZSwgZGUgdmVzdGluZy7igJlcbiAgICAgIERvb3IgZGV6ZSB1aXRzdGVrZW5kZSBsb2NhdGllIHdhcyBoZXQgemVlciBtb2VpbGlqayBvbSBoZXQgZm9ydCBpbiB0ZSBuZW1lbiBkdXMgYmVzbG9vdCBDYWVzYXIgb20gaGV0IGZvcnQgdGUgYmVsZWdlcmVuIGRvb3IgZ2VicnVpayB0ZSBtYWtlbiB2YW4gZWVuIGNpcmN1bXZhbGxhdGllbGluaWUgb20gem8gZGUgdHJvZXBlbiBlbiBkZSBiZXZvbGtpbmcgdmFuIEFsZXNpYSB1aXQgdGUgaG9uZ2VyZW4uXG4gICAgPC9wPlxuXG4gICAgICA8cD5cbiAgICAgICAgRGUgbGluaWUgYmVzdG9uZCB1aXQgbWVlcmRlcmUgdmVyc3RldmlnaW5nZW4gZW4gd2FsbGVuIG1ldCBlZW4gdG90YWxlIGxlbmd0ZSB2YW4gb25nZXZlZXIgMThrbS4gRGUgdGFjdGllayB2YW4gQ2Flc2FyIGJsZWVrIHplZXIgZ29lZCB0ZSB3ZXJrZW4gYWFuZ2V6aWVuIFZlcmNpbmdldG9yaXggcmFkZWxvb3Mgd2FzLlxuICAgICAgICBEZSBlbmlnZSBtb2dlbGlqa2hlaWQgZGllIFZlcmNpbmdldG9yaXggbm9nIGhhZCB3YXMgb20gZWVuIGRlZWwgdmFuIGRlIEdhbGxpc2NoZSBjYXZhbGVyaWUgdGUgZG9lbiBvbnRzbmFwcGVuIGRvb3IgZWVuIG5vZyBvbnZvbHRvb2lkIGdlZGVlbHRlIHZhbiBkZSBsaW5pZSBvbSB2ZXJzdGVya2luZyB0ZSBoYWxlbi4gWmlqIHNsYWFnZGVuIGluIGRlemUgb3B6ZXQgZW4gYnJhY2h0ZW4gc3VjY2Vzdm9sIGVlbiBvbnR6ZXR0aW5nc2xlZ2VyIG9wIGRlIGJlZW4uIENhZXNhciBoYWQgZWNodGVyIGFhbiBhbGxlIG1vZ2VsaWprZSBzY2VuYXJpb+KAmXMgZ2VkYWNodCBlbiBoaWogaGFkIGJlc2xvdGVuIG9tIGVlbiBjb250cmF2YWxsYXRpZWxpbmllIHZhbiAyMSBraWxvbWV0ZXIgdGUgYm91d2VuIHJvbmQgZGUgY2lyY3VtdmFsbGF0aWVsaW5pZSwgd2FhcmRvb3IgZGUgUm9tZWluZW4gbGFuZ3MgdHdlZSB6aWpkZW4gdGVnZW4gZGUgR2FsbGlzY2hlIGFhbnZhbGxlbiBiZXNjaGVybWQgd2FyZW4uXG4gICAgICAgIDxici8+XG5cbiAgICAgICAgRWVubWFhbCBoZXQgb250emV0dGluZ3NsZWdlciBiaWogQWxlc2lhIHdhcyBhYW5nZWtvbWVuLCB3YXJlbiBoZXQgZWlnZW5saWprIGRlIFJvbWVpbmVuIGRpZSBiZWxlZ2VyZCB3YXJlbiBhYW5nZXppZW4gemUgaW5nZXNsb3RlbiB6YXRlbiB0dXNzZW4gdHdlZSBHYWxsaXNjaGUgbGVnZXJzLiBPbmRlciBsZWlkaW5nIHZhbiBDb21taXVzIHZpZWwgaGV0IG9udHpldHRpbmdzbGVnZXIgZGUgY29udHJhdmFsbGF0aWVsaW5pZSBhYW4uXG4gICAgICAgIDxpbWcgc3JjPVwiLi9pbWFnZXMvc2llZ2VPZkFsZXhpYS5qcGdcIiBjbGFzcz1cInNpZWdlLW9mLWFsZXhpYS1pbWdcIiAvPlxuICAgICAgICAgVGVnZWxpamtlcnRpamQgbGlldCBWZXJjaW5nZXRvcml4IHppam4gdHJvZXBlbiBkZSBjaXJjdW12YWxsYXRpZWxpbmllIGFhbnZhbGxlbi4gRGUgZWVyc3RlIGRhZyBoaWVsZGVuIGRlIFJvbWVpbmVuIGdvZWQgc3RhbmQgdGVnZW4gZGUgYWFudmFsbGVuIHZhbiBkZSBHYWxsacOrcnMsIG1hYXIgZGUgZGFhciBvcHZvbGdlbmRlIGRhZ2VuIGdpbmdlbiBiZXJnYWYuIFplIHdlcmRlbiBnZWR3b25nZW4gb20gZm9ydGVuIGVuIGthbXBlbiBpbiBkZSBjb250cmF2YWxsYXRpZWxpbmllIG9wIHRlIGdldmVuLCBtYWFyIEdhaXVzIHJlYm9uaXVzIGtvbiBtZXQgZGUgY2F2YWxlcmllIHZvb3Jrb21lbiBkYXQgZGUgR2FsbGnDq3JzIGhpZXIgZ2VicnVpayB2YW4ga29uZGVuIG1ha2VuLlxuICAgICAgICBOYSBtYWFuZGVubGFuZyB2ZWNodGVuIGJlc2xvb3QgZGUgbmVlZiB2YW4gVmVyY2luZ2V0b3JpeCwgVmVyY2Fzc2l2ZWxsYXVub3MsIG9tIG1ldCA2MC4wMDAgbWFuc2NoYXBwZW4gZGUgUm9tZWluc2Ugc3RlbGxpbmdlbiBhYW4gdGUgdmFsbGVuLiBIaWoga29vcyBkZSBwbGVrIHdhYXIgZGUgc3RlbGxpbmdlbiBoZXQgendha3N0IHdhcmVuLCBuYW1lbGlqayB3YWFyIGRlIGxpbmllcyBvcCBkZXplbGZkZSBwbGVrIGVlbiByaXZpZXIga3J1aXN0ZW4uIFZlcmNpbmdldG9yaXggbGlldCB2YW4gYmlubmVudWl0IG9wIGRlemVsZmRlIHBsYWF0cyBlZW4gYWFudmFsIHVpdHZvZXJlbiwgbWFhciBDYWVzYXIgaGFkIHpvdmVlbCB2ZXJ0cm91d2VuIGluIHppam4gdHJvZXBlbiBkYXQgaGlqIGhldCBiZXZlbCBnYWYgb20gZGUgc3RlbGxpbmdlbiB0ZSBiZWhvdWRlbi4gQ2Flc2FyIG5hbSBlZW4gZ3JvdGUgZ29rIGRvb3IgbWV0IDYuMDAwIG1hbnNjaGFwcGVuIGVlbiBsZWdlciB2YW4gNjAuMDAwIG1hbnNjaGFwcGVuIGFhbiB0ZSB2YWxsZW4sIG1hYXIgaGlqIG92ZXJkb25kZXJkZSBkZSBHYWxsacOrcnMgem8gaGFyZCBkYXQgemUgemljaCBnZW5vb2R6YWFrdCB2b2VsZGVuIG9tIHppY2ggdGVydWcgdGUgdHJla2tlbi5cbiAgICAgIDwvcD5cblxuICAgICAgPHA+XG4gICAgICAgIEhpZXJtZWUgd2FzIGhldCBiZWxhbmdyaWprc3RlIGVuIG1lZXN0IGJlc2xpc3NlbmRlIGdldmVjaHQgZ2VzdHJlZGVuIHdhYXJuYSBkZSB0cm9lcGVuIGluIEFsZXNpYSB6aWNoIG92ZXJnYXZlbiBkb29yIGhvbmdlcnNub29kIGVuIGdlYnJlayBhYW4gbWFuc2NoYXBwZW4uXG4gICAgICAgIFJvbWUgd2FzIGRlIGdyb3RlIG92ZXJ3aW5uYWFyIGJpaiBkZXplIHNsYWcgZGllIGRlIGJhc2lzIHZvcm1kZSB2b29yIGhldCB2ZXJkZXIgdmVyb3ZlcmVuIHZhbiBHYWxsacOrIGVuIEJyaXR0YW5uacOrLiBEZSBHYWxsaXNjaGUgc29sZGF0ZW4gd2VyZGVuIGFscyBzbGF2ZW4gbWVlZ2Vub21lbiBlbiB2ZXJrb2NodC4gVmVyY2luZ2V0b3JpeCB3ZXJkIHRldmVucyBnZXZhbmdlbmdlbm9tZW4sIG1hYXIgbmlldCB2ZXJrb2NodCBhYW5nZXppZW4gZGUgUm9tZWluZW4gaGVtIHdpbGRlbiBob3VkZW4gYWxzIHRyb2ZlZS4gTmEgZWVuIHBhYXIgamFhciB3ZXJkIGhpaiByaXR1ZWVsIGdld3VyZ2QgdGlqZGVucyBlZW4gdHJpb21mdG9jaHQuXG4gICAgICAgIERlIGVsZW1lbnRlbiBkaWUgZGUgUm9tZWluZW4gZGUgb3Zlcndpbm5pbmcgaGViYmVuIGJlem9yZ2QgemlqbiB2b29yYWwgYmVydXN0IG9wIGRlIGdlZXN0LiBDYWVzYXIgaGVlZnQgc3RlZWRzIGRlIG1vcmVlbCBiaWogemlqbiB0cm9lcGVuIGhvb2cgd2V0ZW4gdGUgaG91ZGVuIGhvZXdlbCB6ZSBzb21zIG5lZGVybGFnZW4gbGVkZW4uIERpdCB6b3JnZGUgZXJ2b29yIGRhdCBkZSBzdHJpamRsdXN0IGJpaiBkZSBzb2xkYXRlbiBhYW53ZXppZyBibGVlZiBlbiB6ZSBzdGVlZHMgdm9lbGRlbiBkYXQgemUgZGUgYm92ZW5oYW5kIGhhZGRlbiBpbiBoZXQgZ2V2ZWNodC4gQ2Flc2FyIG5hbSBoZXQgbW9yZWVsIHZhbiB6aWpuIHRyb2VwZW4gemVlciBzZXJpZXVzIGVuIGdpbmcgemVsZnMgem8gdmVyIGRhdCBoaWogbWV0IGhlbiBtZWVzdHJlZWQuIEhldCBtb3JlZWwgdmFuIHppam4gdHJvZXBlbiBsYWcgYWFuIGRlIGJhc2lzIHZhbiBkZSBsYWF0c3RlIGJlbGFuZ3JpamtlIHNsYWcgYWFuZ2V6aWVuIHplIGhldCBnZXZlY2h0IG9uZGVyYmVtYW5kIG1vZXN0ZW4gYWFuZ2FhbiwgbWFhciB1aXRlaW5kZWxpamsgaGViYmVuIHplIGRlIG92ZXJ3aW5uaW5nIGJlaGFhbGQuIEVlbiB0d2VlZGUgcHVudCB3YWFyZG9vciB6ZSBkZXplIHNsYWcgaGViYmVuIGdld29ubmVuLCBpcyBoZXQgZ29lZCBkb29yZGFjaHRlIGFhbnZhbHNwbGFuIHZhbiBDYWVzYXIuIFpvIGhhZCBoaWogZGUgY29udHJhdmFsbGF0aWVsaW5pZSB2b29yemllbiB2b29yIGVlbiBldmVudHVlbGUgYWFudmFsLiBXYXMgZGV6ZSBsaW5pZSBlciBuaWV0IGdld2Vlc3QsIGhhZGRlbiBkZSBHYWxsacOrcnMgZGV6ZSB2ZWxkc2xhZyBnZWdhcmFuZGVlcmQgZ2V3b25uZW4gZG9vciBodW4gZ3JvdGUgYWFudGFsbGVuLiBDYWVzYXIgd2FzIG9vayBkZWdlbmUgZGllIGVlbiB2ZXJyYXNzaW5nc2FhbnZhbCBoZWVmdCBrdW5uZW4gYWZ3ZW5kZW4gZG9vciBkZSB2cm91d2VuIGVuIGtpbmRlcmVuIG5pZXQgdWl0IEFsZXNpYSB0ZSBsYXRlbiB2ZXJ0cmVra2VuLiBEZSBHYWxsacOrcnMgd2lsZGVuIGhlbiBuYW1lbGlqayBhbHMgYWZsZWlkaW5nIGdlYnJ1aWtlbiBvbSBvbmRlcnR1c3NlbiBlZW4gdmVyc3RldmlnaW5nIGFhbiB0ZSB2YWxsZW4sIG1hYXIgZG9vciBDYWVzYXIgemlqbiBiZXNsdWl0IG9tIGRlIHZyb3V3ZW4gZW4ga2luZGVyZW4gbmlldCBidWl0ZW4gdGUgbGF0ZW4gaXMgZGUgYWFudmFsIG5pZXQga3VubmVuIGRvb3JnYWFuLiBIZXQgZW5pZ2UgbmVnYXRpZXZlIHB1bnQgZGF0IGdlb3B0aW1hbGlzZWVyZCBoYWQga3VubmVuIHdvcmRlbiBpcyBkZSBib3V3IHZhbiBkZSBsaW5pZXMgYmlqIGRlIHJpdmllcmVuIGFhbmdlemllbiBkaXQgaGV0IHp3YWtrZSBwdW50IHdhcyB2YW4gaGV0IGthbXAuIERlemUgc2xhZyBpcyBlZW4gZ29lZCB2b29yYmVlbGQgdmFuIGRlIFJvbWVpbnNlIGRpc2NpcGxpbmUgZW4gc3RyaWpkbHVzdCBhYW5nZXppZW4gemUgZ2VlbiBlbmtlbGUgZ3JvdGUgZm91dCBoZWJiZW4gYmVnYWFuIGRpZSB0b3QgZWVuIGV2ZW50dWVlbCB2ZXJsaWVzIGhhZCBrdW5uZW4gbGlqZGVuLlxuICAgICAgPC9wPlxuXG4gICAgICA8aDM+RGUgc2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZDwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgRGUgc2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZCB3ZXJkIGdldm9jaHRlbiB0dXNzZW4gZGUgUm9tZWluc2UgdHJvZXBlbiB2YW4gVmFydXMgZW4gZGUgR2VybWFhbnNlIHRyb2VwZW4gdmFuIEFybWluaXVzLiBEZXplIHNsYWcgbGVpZGRlIGVlbiB6ZXZlbmphcmlnZSBvb3Jsb2cgaW4sIGRpZSB1aXRlaW5kZWxpamsgdG90IGdldm9sZyBoYWQgZGF0IGRlIFJpam4gdm9vciBlZW4gcGVyaW9kZSB2YW4gNDAwIGphYXIgd2VyZCB2YXN0Z2VsZWdkIGFscyBncmVucyB2YW4gaGV0IFJvbWVpbnNlIFJpamsuIERlIHNsYWcgdm9uZCBwbGFhdHMgaW4gOSBuLkMuIG5hYmlqIEthbGtyaWVzZSBkYXQgaW4gRHVpdHNsYW5kIGlzIGdlbGVnZW4uXG4gICAgICAgIERlIHNsYWcgd2FzIGVlbiB2YW4gZGUgZ3Jvb3RzdGUgbmVkZXJsYWdlbiB1aXQgZGUgZ2VzY2hpZWRlbmlzIHZhbiBoZXQgUm9tZWluc2UgbGVnZXIuXG4gICAgICA8L3A+XG5cbiAgICAgICAgPHA+XG4gICAgICAgICAgRGUgUm9tZWluZW4gd2FyZW4gbmFtZWxpamsgaW4gZWVuIGxpc3QgZ2V0cmFwdCB2YW4gQXJtaW5pdXMsIGRlIGxlaWRlciB2YW4gZGUgR2VybWFhbnNlIHN0YW1tZW4uIEhpaiBsaWV0IGRvb3JnZXZlbiBkYXQgZXIgZWVuIG9wc3RhbmQgYWFuIGRlIGdhbmcgd2FzIHZhbiB2ZXJvdmVyZGUgR2VybWFhbnNlIHN0YW1tZW4uIEhpaiB3aWxkZSBkZSBSb21laW5lbiBuYW1lbGlqayBuYWFyIGVlbiB2b29yIGhlbiBvbmJla2VuZCBnZWJpZWQgbG9ra2VuIHpvZGF0IGRlIEdlcm1hbmVuIGVlbiBzdHJhdGVnaXNjaCB2b29yZGVlbCBoYWRkZW4uIERlIFJvbWVpbnNlIGFhbnZvZXJkZXIgVmFydXMgd2FzIG9wIGRhdCBtb21lbnQgbWV0IHppam4gbGVnZXIgb3Agd2VnIG5hYXIgaHVuIHdpbnRlcmthbXBlbiB2b29yIGRlIG9wa29tZW5kZSB3aW50ZXIuIEhpaiBnZWxvb2ZkZSBlY2h0ZXIgaGV0IG5lcGJlcmljaHQgdmFuIEFybWluaXVzIGVuIGhpaiB3ZWVrIHZhbiB6aWpuIHJvdXRlIGFmIGVuIGdpbmcgZG9vciBoZXQgVGV1dG9idXJnZXJ3b3VkIG5hYXIgZGUgem9nZXplZ2RlIG9wc3RhbmQuXG4gICAgICAgICAgPGJyLz5cbiAgICAgICAgICBXYXQgaGlqIGVjaHRlciBuaWV0IHdpc3QsIHdhcyBkYXQgaGlqIG9wZ2V3YWNodCB3ZXJkIGRvb3IgZWVuIGdyb290IEdlcm1hYW5zIGxlZ2VyIGRhdCB6aWNoIGluIGhldCBib3MgaGFkIHZlcnN0b3B0IG9tIGVlbiB2ZXJyYXNzaW5nc2FhbnZhbCB1aXQgdGUgdm9lcmVuLiBIZXQgVGV1dG9idXJnZXJ3b3VkIHdhcyBvbmRvb3JkcmluZ2JhYXIsIG1pc3RpZyBlbiB2b2NodGlnLCBpZXRzIHdhdCBkZSBSb21laW5lbiBuaWV0IGdld2VuZCB3YXJlbiBhYW5nZXppZW4gemlqIGFsdGlqZCBvcCB2bGFra2UgZW4gb3BlbiBzbGFndmVsZGVuIHN0cmVkZW4uIERvb3IgaGV0IGdlYnJlayBhYW4gb3ZlcnppY2h0IGVuIGRlIHdpbGxla2V1ciB2YW4gZGUgR2VybWFuZW4gaGFkZGVuIGRlIFJvbWVpbmVuIHZhbmFmIGhldCBiZWdpbiBlZW4gbmFkZWVsLiBaZSBrb25kZW4gbmFtZWxpamsgaHVuIGdlYnJ1aWtlbGlqa2UgdGFjdGlla2VuIG5pZXQgdWl0dm9lcmVuIGRvb3IgaGV0IGdlYnJlayBhYW4gb3JnYW5pc2F0aWUgZW4gcnVpbXRlLiBUb2VuIG5hIGVlbiBwYWFyIGRhZ2VuIGRlIFJvbWVpbnNlIG9uZGVyZ2FuZyBvbmFmd2VuZGJhYXIgbGVlaywgcGxlZWdkZSBWYXJ1cyB6ZWxmbW9vcmQuIEhpZXJtZWUgd2FzIGhldCBsb3QgdmFuIHppam4gdHJvZXBlbiBvb2sgYmV6ZWdlbGQgYWFuZ2V6aWVuIHplIGdlZW4gbGVpZGVyIG1lZXIgaGFkZGVuLiBWYW4gZGUgMTjCoDAwMCBtYW5zY2hhcHBlbiBzbGFhZ2RlbiBzbGVjaHRzIGVua2VsZW4gZXJpbiBhYW4gZGUgdmlqYW5kIHRlIG9udHNuYXBwZW4gZW4gZGUgUm9tZWluc2Ugd2ludGVya2FtcGVuIGFhbiBkZSBSaWpuIHRlIGJlcmVpa2VuLlxuICAgICAgICA8L3A+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRldXRvYnVyZ2Vyd291ZC1pbWdcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV1dG9idXJnZXJ3b3VkLWltZy10eHRcIj5VaXR6aWNodCB2YW4gaGV0IFRldXRvYnVyZ2Vyd291ZCBnZWJhc2VlcmQgb3AgdGVrc3RlbiB2YW4gZGUgZWVyc3RlIGVldXcgbi5DLjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwPlxuICAgICAgICAgIERlemUgc2xhZyBoYWQgdG90IGdldm9sZyBkYXQgZXIgZWVuIGVpbmRlIGt3YW0gYWFuIGRlIFJvbWVpbnNlIGV4cGFuc2llIGluIE5vb3JkLUV1cm9wYS4gT29rIGhhZCBrZWl6ZXIgQXVndXN0dXMgYmVzbG90ZW4gZGF0IHZhbmFmIHRvZW4gZGUgUmlqbiBkZSB2YXN0ZSBncmVucyB6b3Ugd29yZGVuIHZhbiBoZXQgSW1wZXJpdW0gUm9tYW51bS5cbiAgICAgICAgPC9wPlxuXG4gICAgICA8cD5cbiAgICAgICAgSW4gZGV6ZSBzbGFnIGlzIGhlZWwgd2F0IG1pc2dlbG9wZW4sIHZvb3JhbCBvcCBoZXQgdmxhayB2YW4gbGVpZGVyc2NoYXAuIEdvZWQgbGVpZGVyc2NoYXAgdm9ybXQgZGUgYmFzaXMgdm9vciBlbGtlIHNsYWcgYWxzIGplIGthbnMgd2lsdCBtYWtlbiBvcCBkZSBvdmVyd2lubmluZy4gVmFydXMgd2FzIGluIGdlZW4gZW5rZWwgb3B6aWNodCBlZW4gZ29lZGUgbGVpZGVyIGluIGRlemUgc2xhZy4gSGlqIG5hbSBpcnJhdGlvbmVsZSBiZXNsaXNzaW5nZW4gZW4gZGFjaHQgbmlldCBuYSBvdmVyIGRlIGdldm9sZ2VuIGhpZXJ2YW4uXG4gICAgICAgIEhldCBiZWdvbiByZWVkcyBiaWogaGV0IG5pZXQgbmFnYWFuIHZhbiBkZSBpbmZvcm1hdGllIGRpZSBoaWogaGFkIHZlcmtyZWdlbi4gSGlqIHZlcnRyb3V3ZGUgYmxpbmQgb3AgZGUgdmVya3JlZ2VuIGluZm9ybWF0aWUgZW4gc3RpcHBlbGRlIG1ldGVlbiBlZW4gcm91dGUgdWl0LiBIaWogaGFkIGVpZ2VubGlqayBlZXJzdCBkZSBzaXR1YXRpZSBtb2V0ZW4gYmVraWprZW4gZW4gZXZlbnR1ZWVsIHJ1aXRlcnMgdm9vcm9wIG1vZXRlbiBzdHVyZW4gb20gbmEgdGUgZ2FhbiBvZiBlciB3ZWwgZGVnZWxpamsgZWVuIG9wc3RhbmQgd2FzLiBIaWVybWVlIGhhZCBoaWogaGV0IGNvbmZsaWN0IGt1bm5lbiB2ZXJtaWpkZW4gYWFuZ2V6aWVuIGRlIHJ1aXRlcnMgZGFuIGhhZGRlbiBnZXppZW4gZGF0IGVyIGdlZW4gb3BzdGFuZCB3YXMuXG4gICAgICAgIFppam4gdHdlZWRlIGdyb3RlIGZvdXQgd2FzIG9tIGhldCBsZWdlciB3aWpkIGdlc3ByZWlkIHRlIGxhdGVuIGxvcGVuIGluIGVlbiBnZWJpZWQgZGF0IGhpaiBuaWV0IGtlbmRlLiBIZXQgbGVnZXIgd2FzIG5hbWVsaWprIGFhbiBoZXQgbWFyY2hlcmVuIG1ldCBlZW4gYWZzdGFuZCB2YW4gMTUga2lsb21ldGVyIHR1c3NlbiBkZSBlZXJzdGUgZW4gZGUgbGFhdHN0ZSBzb2xkYXRlbi4gSGllcmRvb3Iga29uZGVuIGRlIEdlcm1hbmVuIG1ldCBodW4gZ3JvdGVyZSBhYW50YWxsZW4gZGUga2xlaW5lIGdyb2VwamVzIFJvbWVpbmVuIHpvbmRlciBlbmlnIHByb2JsZWVtIGFhbnZhbGxlbi4gSGFkIGhpaiB6aWpuIGxlZ2VyIGNvbXBhY3QgbGF0ZW4gbWFyY2hlcmVuLCBoYWRkZW4gZGUgUm9tZWluZW4gbm9nIGVlbiBoYWFsYmFyZSBrYW5zIGdlaGFkIG9wIGRlIG92ZXJ3aW5uaW5nIGluIGhldCBnZXZlY2h0IGFhbmdlemllbiBkZSBsYWF0c3RlIHRyb2VwZW4gZGFuIHNuZWwga29uZGVuIGJpanNwcmluZ2VuIG9tIGRlIGVlcnN0ZSB0ZSBoZWxwZW4uXG4gICAgICAgIFRpamRlbnMgaGV0IGdldmVjaHQgemVsZiBuYW0gaGlqIGFsbGVlbiBtYWFyIHNsZWNodGUgYmVzbGlzc2luZ2VuLiBIaWogaGFkIHdlbCB2ZWVsIHRlZ2Vuc2xhZyBtZXQgaGV0IHdlZXIgd2FhcmRvb3IgZGUgc2NodXR0ZXJzIGh1biBib2dlbiBuaWV0IGtvbmRlbiBnZWJydWlrZW4gZW4gZGUgaG91dGVuIHNjaGlsZGVuIHRlIHp3YWFyIHdlcmRlbiBvbSB0ZSBkcmFnZW4gZG9vciBoZXQgZ2V3aWNodCB2YW4gaGV0IHdhdGVyIGRhdCBpbiBoZXQgaG91dCB3YXMgb3BnZXNsb3JwdC4gSGlqIGdhZiBoZXQgb3JkZXIgb20gZG9vciB0ZSBtYXJjaGVyZW4gbmFhciBlZW4gb3BlbiBwbGVrLCBtYWFyIGFhbmdlemllbiBoaWogaGV0IGJvcyBuaWV0IGtlbmRlIHdpc3QgaGlqIG5pZXQgZGF0IGVyIGdlZW4gb3BlbiBwbGVra2VuIGluIGh1biBuYWJpamhlaWQgd2FyZW4uIERpdCB3YXMgZWVuIGZvdXQgb3JkZXIgYWFuZ2V6aWVuIGhpaiBkZSBvbWdldmluZyBuaWV0IGtlbmRlIGVuIGR1cyBvb2sgbmlldCB3aXN0IHdhYXIgZXIgemljaCBub2cgR2VybWFuZW4gYmV2b25kZW4uIEhpaiBoYWQgemlqbiBwb3NpdGllIG1vZXRlbiB2ZXJkZWRpZ2VuIG9tIHpvIGVlbiBiYXNpcyBwcm9iZXJlbiBvcCB0ZSByaWNodGVuIGFhbmdlemllbiBoZXQgbGVnZXIgaGV0IGt3ZXRzYmFhcnN0IGlzIHdhbm5lZXIgemUgemljaCBhYW4gaGV0IHZlcnBsYWF0c2VuIHppam4uXG4gICAgICAgIFZhcnVzIGdhZiBvb2sgZ2VlbiBzdGV1biBhYW4gemlqbiBtYW5zY2hhcHBlbiB3YWFyZG9vciBkZSBzdHJpamRsdXN0IHdlZyBnaW5nIGVuIHZlbGVuIGhldCBudXQgdmFuIGRlIHN0cmlqZCBuaWV0IG1lZXIgemFnZW4uIERlIExlZ2F0dXMsIE51bW9uaXVzIFZhbGEsIHZhbiBlZW4gdmFuIHppam4gZHJpZSBsZWdpb2VuZW4gd2FzIGVlbiB2YW4gZGllIHBlcnNvbmVuIGRpZSBoZXQgbGVpZGVyc2NoYXAgdmFuIFZhcnVzIGluIHR3aWpmZWwgdHJvayBlbiBkZSB2ZXJ6d2FrdGUgbW9yZWVsIGFhbnZvZWxkZS4gSGlqIHdhcyBkYW4gb29rIGRlZ2VuZSBkaWUgc2FtZW4gbWV0IGRlIHJ1aXRlcnMgdmx1Y2h0dGUgZW4gem8gZGUgdHJvZXBlbiBpbiBkZSBzdGVlayBsaWV0LiBNYWFyIHZlciBrd2FtIGhpaiBuaWV0IGFhbmdlemllbiBoaWogaW4gaGV0IGJvcyB6ZWxmIG5vZyB3ZXJkIGFmZ2VtYWFrdCBkb29yIGRlIHJ1aXRlcnMgdmFuIGRlIEdlcm1hbmVuLiBab25kZXIgZGUgc3RldW4gdmFuIGRlIHJ1aXRlcnMgd2FzIGhldCBsZWdlciB2ZXJ6d2FrdCBlbiBkdXMgZ3JlcGVuIGRlIEdlcm1hbmVuIGh1biBrYW5zLiBaZSBiZWdvbm5lbiBiaWpuYSBpZWRlcmVlbiBnZW5hZGVsb29zIGFmIHRlIHNsYWNodGVuLiBWYXJ1cyB6YWcgb3AgZGF0IG9nZW5ibGlrIGluIGRhdCBoaWogendhYXIgaGFkIGdlZmFhbGQgZW4gcGxlZWdkZSBkYWFyb20gemVsZm1vb3JkLlxuICAgICAgPC9wPlxuXG4gICAgICA8aDM+VmVyZ2VsaWpraW5nPC9oMz5cbiAgICAgIDxwPlxuICAgICAgICBIZXQgaXMgemVlciBtb2VpbGlqayBvbSBoZXQgaHVpZGlnZSBsZWdlciB0ZSB2ZXJnZWxpamtlbiBtZXQgaGV0IFJvbWVpbnNlIGxlZ2VyIGFhbmdlemllbiBlciB6aWNoIGVlbiB6ZWVyIGdyb3RlIG9udHdpa2tlbGluZyBoZWVmdCBwbGFhdHNnZXZvbmRlbiBvcCBoZXQgZ2ViaWVkIHZhbiB3ZXRlbnNjaGFwcGVuIGVuIHRlY2hub2xvZ2llLiBWcm9lZ2VyIHN0cmVlZCBtZW4gbWV0IGVlbiB6d2FhcmQgZW4gZWVuIHNjaGlsZCBlbiBoYWQgamUgYWxzIHN0ZXVuIGVua2VsIHJ1aXRlcnMuIE51IHdvcmR0IGVyIGdlc3RyZWRlbiB2YW5vcCBlZW4gemVlciBncm90ZSBhZnN0YW5kIGFhbmdlemllbiBtZW4gbWFjaGluZWdld2VyZW4sIHBpc3RvbGVuLCBsYW5nZWFmc3RhbmRzcmFra2V0dGVuLOKApiBnZWJydWlrdC4gRXIgemlqbiBudSBvb2sgdmVlbCBuaWV1d2Ugb25kZXJzdGV1bmluZ3Ntb2dlbGlqa2hlZGVuIHpvYWxzIHRhbmtzLCBzY2hlcGVuIGVuIHZsaWVndHVpZ2VuIHdhYXJkb29yIGVyIGVlbiBoZWxlYm9lbCBuaWV1d2UgdGFjdGlla2VuIG1vZ2VsaWprIHppam4uXG4gICAgICAgIERvb3IgYWwgZGV6ZSB2ZXJhbmRlcmluZ2VuIGhlZWZ0IG1lbiBkZSB0YWN0aWVrZW4gZGllIG1lbiBnZWJydWlrdCBvb2sgbW9ldGVuIHZlcmFuZGVyZW4uIFZyb2VnZXIga29uIG1lbiBpbiBlZW4gbWFuIG9wIG1hbiBnZXZlY2h0IHRhY3RpZWtlbiBnZWJydWlrZW4gZGllIHplZXIgZWZmZWN0aWVmIHdhcmVuIG9wIGtvcnRlIGFmc3RhbmQgZW4gZWVuIGtsZWluIHNsYWd2ZWxkLiBBbHMgbWVuIGRlemUgdGVnZW53b29yZGlnIHpvdSB1aXR2b2VyZW4sIHpvdWRlbiBkZSBzb2xkYXRlbiB0ZXIgcGxhYXRzZSB3b3JkZW4gYWZnZW1hYWt0LiBEZSBob2V2ZWVsaGVpZCBzb2xkYXRlbiBkaWUgZGFhZHdlcmtlbGlqayB2ZWNodGVuIGlzIG9vayBzdGVyayBhZmdlbm9tZW4gaW4gdmVyZ2VsaWpraW5nIG1ldCBoZXQgUm9tZWluc2UgbGVnZXIuIFZyb2VnZXIgc3RyZWVkIG1lbiBtZXQgbGVnZXJzIHZhbiB6ZWVyIGdyb3RlIGFhbnRhbGxlbi4gRGV6ZSBhYW50YWxsZW4ga3VubmVuIHdlIG9ucyB0ZWdlbndvb3JkaWcgbmlldCBtZWVyIHZvb3JzdGVsbGVuLlxuICAgICAgICBFciBnZWJldXJ0IG51IHZlZWwgbWVlciBhY2h0ZXIgZGUgc2NoZXJtZW4gb20gZGUgc29sZGF0ZW4gZGllIG1vZXRlbiB2ZWNodGVuIHRlIGhlbHBlbi4gWm8gd29yZHQgZXIgdmlhIHNhdGVsbGlldGVuIG9mIGRyb25lcyBpbmZvcm1hdGllIHZlcnphbWVsZCBvdmVyIGRlIG9tZ2V2aW5nIHdhYXJpbiBkZSBzb2xkYXRlbiB6aWNoIGJldmluZGVuIGVuIGV2ZW50dWVlbCB3YWFyIGh1biB2aWphbmRlbiBzY2h1aWxlbi4gRWVuIHNvbGRhYXQgaGVlZnQgbnUgb29rIGRlIG1vZ2VsaWpraGVpZCBvbSwgbWl0cyBkZSBnb2Vka2V1cmluZyB2YW4gemlqbiBhYW52b2VyZGVyLCBlZW4gbHVjaHRhYW52YWwgaW4gdGUgcm9lcGVuLlxuICAgICAgICBEZSBodWlkaWdlIHRhY3RpZWtlbiBkcmFhaWVuIG9vayBuaWV0IG1lZXIgYWxsZWVuIG1hYXIgcm9uZCBoZXQgbWlsaXRhaXJlIGFzcGVjdCwgbWFhciBvb2sgcm9uZCBvbmRlciBhbmRlcmUgaGV0IGVjb25vbWlzY2hlLiBBbHMgbWVuIHppam4gdmlqYW5kIGVjb25vbWlzY2gga2FuIHZlcnp3YWtrZW4gemFsIGRlemUgb29rIG1pbmRlciB3ZWVyYmFhciB6aWpuLlxuICAgICAgPC9wPlxuXG4gICAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy92ZWxkc2xhZ2VuLmpzeCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9Mb2NhdGlvblV0aWxzID0gcmVxdWlyZSgnLi9Mb2NhdGlvblV0aWxzJyk7XG5cbnZhciBfUGF0aFV0aWxzID0gcmVxdWlyZSgnLi9QYXRoVXRpbHMnKTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IHJlcXVpcmUoJy4vY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXInKTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcik7XG5cbnZhciBfRE9NVXRpbHMgPSByZXF1aXJlKCcuL0RPTVV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBQb3BTdGF0ZUV2ZW50ID0gJ3BvcHN0YXRlJztcbnZhciBIYXNoQ2hhbmdlRXZlbnQgPSAnaGFzaGNoYW5nZSc7XG5cbnZhciBnZXRIaXN0b3J5U3RhdGUgPSBmdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8IHt9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSUUgMTEgc29tZXRpbWVzIHRocm93cyB3aGVuIGFjY2Vzc2luZyB3aW5kb3cuaGlzdG9yeS5zdGF0ZVxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RUcmFpbmluZy9oaXN0b3J5L3B1bGwvMjg5XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHVzZXMgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGluY2x1ZGluZ1xuICogcHVzaFN0YXRlLCByZXBsYWNlU3RhdGUsIGFuZCB0aGUgcG9wc3RhdGUgZXZlbnQuXG4gKi9cbnZhciBjcmVhdGVCcm93c2VySGlzdG9yeSA9IGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCkge1xuICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICgwLCBfaW52YXJpYW50Mi5kZWZhdWx0KShfRE9NVXRpbHMuY2FuVXNlRE9NLCAnQnJvd3NlciBoaXN0b3J5IG5lZWRzIGEgRE9NJyk7XG5cbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhblVzZUhpc3RvcnkgPSAoMCwgX0RPTVV0aWxzLnN1cHBvcnRzSGlzdG9yeSkoKTtcbiAgdmFyIG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyID0gISgwLCBfRE9NVXRpbHMuc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSkoKTtcblxuICB2YXIgX3Byb3BzJGZvcmNlUmVmcmVzaCA9IHByb3BzLmZvcmNlUmVmcmVzaCxcbiAgICAgIGZvcmNlUmVmcmVzaCA9IF9wcm9wcyRmb3JjZVJlZnJlc2ggPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX3Byb3BzJGZvcmNlUmVmcmVzaCxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IHByb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzJGdldFVzZXJDb25maXJtID09PSB1bmRlZmluZWQgPyBfRE9NVXRpbHMuZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IHByb3BzLmtleUxlbmd0aCxcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHVuZGVmaW5lZCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xuXG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gKDAsIF9QYXRoVXRpbHMuc3RyaXBUcmFpbGluZ1NsYXNoKSgoMCwgX1BhdGhVdGlscy5hZGRMZWFkaW5nU2xhc2gpKHByb3BzLmJhc2VuYW1lKSkgOiAnJztcblxuICB2YXIgZ2V0RE9NTG9jYXRpb24gPSBmdW5jdGlvbiBnZXRET01Mb2NhdGlvbihoaXN0b3J5U3RhdGUpIHtcbiAgICB2YXIgX3JlZiA9IGhpc3RvcnlTdGF0ZSB8fCB7fSxcbiAgICAgICAga2V5ID0gX3JlZi5rZXksXG4gICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTtcblxuICAgIHZhciBfd2luZG93JGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxuICAgICAgICBwYXRobmFtZSA9IF93aW5kb3ckbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCA9IF93aW5kb3ckbG9jYXRpb24uc2VhcmNoLFxuICAgICAgICBoYXNoID0gX3dpbmRvdyRsb2NhdGlvbi5oYXNoO1xuXG5cbiAgICB2YXIgcGF0aCA9IHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcblxuICAgIGlmIChiYXNlbmFtZSkgcGF0aCA9ICgwLCBfUGF0aFV0aWxzLnN0cmlwUHJlZml4KShwYXRoLCBiYXNlbmFtZSk7XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sICgwLCBfUGF0aFV0aWxzLnBhcnNlUGF0aCkocGF0aCksIHtcbiAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgIGtleToga2V5XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUtleSA9IGZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGtleUxlbmd0aCk7XG4gIH07XG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gKDAsIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjIuZGVmYXVsdCkoKTtcblxuICB2YXIgc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH07XG5cbiAgdmFyIGhhbmRsZVBvcFN0YXRlID0gZnVuY3Rpb24gaGFuZGxlUG9wU3RhdGUoZXZlbnQpIHtcbiAgICAvLyBJZ25vcmUgZXh0cmFuZW91cyBwb3BzdGF0ZSBldmVudHMgaW4gV2ViS2l0LlxuICAgIGlmICgoMCwgX0RPTVV0aWxzLmlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQpKGV2ZW50KSkgcmV0dXJuO1xuXG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGV2ZW50LnN0YXRlKSk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVIYXNoQ2hhbmdlKCkge1xuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSkpO1xuICB9O1xuXG4gIHZhciBmb3JjZU5leHRQb3AgPSBmYWxzZTtcblxuICB2YXIgaGFuZGxlUG9wID0gZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG5cbiAgICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICAgIGlmIChvaykge1xuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZlcnRQb3AobG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJldmVydFBvcCA9IGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247XG5cbiAgICAvLyBUT0RPOiBXZSBjb3VsZCBwcm9iYWJseSBtYWtlIHRoaXMgbW9yZSByZWxpYWJsZSBieVxuICAgIC8vIGtlZXBpbmcgYSBsaXN0IG9mIGtleXMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3Iga2V5cyB3ZSBkb24ndCBrbm93LlxuXG4gICAgdmFyIHRvSW5kZXggPSBhbGxLZXlzLmluZGV4T2YodG9Mb2NhdGlvbi5rZXkpO1xuXG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcblxuICAgIHZhciBmcm9tSW5kZXggPSBhbGxLZXlzLmluZGV4T2YoZnJvbUxvY2F0aW9uLmtleSk7XG5cbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcblxuICAgIHZhciBkZWx0YSA9IHRvSW5kZXggLSBmcm9tSW5kZXg7XG5cbiAgICBpZiAoZGVsdGEpIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IHRydWU7XG4gICAgICBnbyhkZWx0YSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpbml0aWFsTG9jYXRpb24gPSBnZXRET01Mb2NhdGlvbihnZXRIaXN0b3J5U3RhdGUoKSk7XG4gIHZhciBhbGxLZXlzID0gW2luaXRpYWxMb2NhdGlvbi5rZXldO1xuXG4gIC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICB2YXIgY3JlYXRlSHJlZiA9IGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcbiAgICByZXR1cm4gYmFzZW5hbWUgKyAoMCwgX1BhdGhVdGlscy5jcmVhdGVQYXRoKShsb2NhdGlvbik7XG4gIH07XG5cbiAgdmFyIHB1c2ggPSBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KSghKCh0eXBlb2YgcGF0aCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGF0aCkpID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSAoMCwgX0xvY2F0aW9uVXRpbHMuY3JlYXRlTG9jYXRpb24pKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKHsga2V5OiBrZXksIHN0YXRlOiBzdGF0ZSB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIHZhciBuZXh0S2V5cyA9IGFsbEtleXMuc2xpY2UoMCwgcHJldkluZGV4ID09PSAtMSA/IDAgOiBwcmV2SW5kZXggKyAxKTtcblxuICAgICAgICAgIG5leHRLZXlzLnB1c2gobG9jYXRpb24ua2V5KTtcbiAgICAgICAgICBhbGxLZXlzID0gbmV4dEtleXM7XG5cbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcHVzaCBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKTtcblxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHJlcGxhY2UgPSBmdW5jdGlvbiByZXBsYWNlKHBhdGgsIHN0YXRlKSB7XG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KSghKCh0eXBlb2YgcGF0aCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGF0aCkpID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byByZXBsYWNlIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpO1xuXG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSAoMCwgX0xvY2F0aW9uVXRpbHMuY3JlYXRlTG9jYXRpb24pKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuXG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHsga2V5OiBrZXksIHN0YXRlOiBzdGF0ZSB9LCBudWxsLCBocmVmKTtcblxuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG5cbiAgICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkgYWxsS2V5c1twcmV2SW5kZXhdID0gbG9jYXRpb24ua2V5O1xuXG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHJlcGxhY2Ugc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaHJlZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdvID0gZnVuY3Rpb24gZ28obikge1xuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH07XG5cbiAgdmFyIGdvQmFjayA9IGZ1bmN0aW9uIGdvQmFjaygpIHtcbiAgICByZXR1cm4gZ28oLTEpO1xuICB9O1xuXG4gIHZhciBnb0ZvcndhcmQgPSBmdW5jdGlvbiBnb0ZvcndhcmQoKSB7XG4gICAgcmV0dXJuIGdvKDEpO1xuICB9O1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICB2YXIgY2hlY2tET01MaXN0ZW5lcnMgPSBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSkge1xuICAgICAgKDAsIF9ET01VdGlscy5hZGRFdmVudExpc3RlbmVyKSh3aW5kb3csIFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcblxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSAoMCwgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIpKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGxpc3RlbmVyQ291bnQgPT09IDApIHtcbiAgICAgICgwLCBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcikod2luZG93LCBQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgKDAsIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKSh3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcblxuICB2YXIgYmxvY2sgPSBmdW5jdGlvbiBibG9jaygpIHtcbiAgICB2YXIgcHJvbXB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcblxuICAgIHZhciB1bmJsb2NrID0gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG5cbiAgICBpZiAoIWlzQmxvY2tlZCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgIGlzQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbGlzdGVuID0gZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIHVubGlzdGVuKCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG5cbiAgcmV0dXJuIGhpc3Rvcnk7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVCcm93c2VySGlzdG9yeTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBJbmZlcm5vIGZyb20gJ2luZmVybm8nO1xuaW1wb3J0IHsgUm91dGVyLCBSb3V0ZSwgSW5kZXhSb3V0ZSwgTGluaywgSW5kZXhMaW5rIH0gZnJvbSAnaW5mZXJuby1yb3V0ZXInO1xuaW1wb3J0IGNyZWF0ZUJyb3dzZXJIaXN0b3J5IGZyb20gJ2hpc3RvcnkvY3JlYXRlQnJvd3Nlckhpc3RvcnknO1xuaW1wb3J0ICcuL21haW4ubGVzcyc7XG5pbXBvcnQge0lubGVpZGluZ30gZnJvbSAnLi9pbmxlaWRpbmcnO1xuaW1wb3J0IHtPbmRlcnZlcmRlbGluZ30gZnJvbSAnLi9vbmRlcnZlcmRlbGluZyc7XG5pbXBvcnQge0Jld2FwZW5pbmd9IGZyb20gJy4vYmV3YXBlbmluZyc7XG5pbXBvcnQge1ZlbGRzbGFnZW59IGZyb20gJy4vdmVsZHNsYWdlbic7XG5pbXBvcnQge0Jlc2x1aXR9IGZyb20gJy4vYmVzbHVpdCc7XG5pbXBvcnQge0Jyb25uZW59IGZyb20gJy4vYnJvbm5lbic7XG5cbmNvbnN0IGJyb3dzZXJIaXN0b3J5ID0gY3JlYXRlQnJvd3Nlckhpc3RvcnkoKTtcblxuXG5mdW5jdGlvbiBBcHAoeyBjaGlsZHJlbiB9KSB7XG4gIHJldHVybiAoXG4gIDxkaXYgY2xhc3M9XCJwYWdlXCI+XG4gICAgPGhlYWRlcj5cbiAgICAgIDxoMT5IZXQgUm9tZWluc2UgTGVnZXI8L2gxPlxuICAgICAgPG5hdj5cbiAgICAgICAgPHVsPlxuICAgICAgICAgIDxsaT48TGluayB0bz17Jy9vY2xhdCd9IGFjdGl2ZUNsYXNzTmFtZT1cImxpbmtBY3RpdmVDbGFzc1wiID5JbmxlaWRpbmc8L0xpbms+PC9saT5cbiAgICAgICAgICA8bGk+PExpbmsgdG89eycvb2NsYXQvb25kZXJ2ZXJkZWxpbmcnfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+b25kZXJ2ZXJkZWxpbmc8L0xpbms+PC9saT5cbiAgICAgICAgICA8bGk+PExpbmsgdG89eycvb2NsYXQvYmV3YXBlbmluZyd9IGFjdGl2ZUNsYXNzTmFtZT1cImxpbmtBY3RpdmVDbGFzc1wiID5iZXdhcGVuaW5nPC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL29jbGF0L3ZlbGRzbGFnZW4nfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+dmVsZHNsYWdlbjwvTGluaz48L2xpPlxuICAgICAgICAgIDxsaT48TGluayB0bz17Jy9vY2xhdC9iZXNsdWl0J30gYWN0aXZlQ2xhc3NOYW1lPVwibGlua0FjdGl2ZUNsYXNzXCIgPmJlc2x1aXQ8L0xpbms+PC9saT5cbiAgICAgICAgICA8bGk+PExpbmsgdG89eycvb2NsYXQvYnJvbm5lbid9IGFjdGl2ZUNsYXNzTmFtZT1cImxpbmtBY3RpdmVDbGFzc1wiID5icm9ubmVuPC9MaW5rPjwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L25hdj5cbiAgICA8L2hlYWRlcj5cblxuICAgIDxzZWN0aW9uIGNsYXNzPVwiY29udGVudFwiPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvc2VjdGlvbj5cblxuICAgIDxmb290ZXI+XG4gICAgICA8c3Bhbj5tZWkgMjAxNzwvc3Bhbj5cbiAgICAgIDxzcGFuPktvc2ggNkxXaWI8L3NwYW4+XG4gICAgICA8c3Bhbj5BcXVpbGEgWmllZGlucyAoNiksIFRvYmlhcyBBbGV4YW5kZXIgKDEpPC9zcGFuPlxuICAgIDwvZm9vdGVyPlxuICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gTm9NYXRjaCh7IGNoaWxkcmVuIH0pIHtcbiAgcmV0dXJuIDxkaXY+SGllciBiZW50IHUgdWl0IGhldCBSb21laW5zZSByaWprPC9kaXY+XG59XG5cbmNvbnN0IHJvdXRlcyA9IChcbiAgPFJvdXRlciBoaXN0b3J5PXsgYnJvd3Nlckhpc3RvcnkgfT5cbiAgICA8Um91dGUgcGF0aD1cIi9vY2xhdFwiIGNvbXBvbmVudD17IEFwcCB9PlxuICAgICAgPEluZGV4Um91dGUgY29tcG9uZW50PXsgSW5sZWlkaW5nIH0vPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvaW5sZWlkaW5nXCIgY29tcG9uZW50PXsgSW5sZWlkaW5nIH0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiL29jbGF0L29uZGVydmVyZGVsaW5nXCIgY29tcG9uZW50PXsgT25kZXJ2ZXJkZWxpbmcgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvYmV3YXBlbmluZ1wiIGNvbXBvbmVudD17IEJld2FwZW5pbmcgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvdmVsZHNsYWdlblwiIGNvbXBvbmVudD17IFZlbGRzbGFnZW4gfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvYmVzbHVpdFwiIGNvbXBvbmVudD17IEJlc2x1aXQgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvYnJvbm5lblwiIGNvbXBvbmVudD17IEJyb25uZW4gfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIqXCIgY29tcG9uZW50PXsgTm9NYXRjaCB9Lz5cbiAgICA8L1JvdXRlPlxuICA8L1JvdXRlcj5cbik7XG5cbkluZmVybm8ucmVuZGVyKHJvdXRlcywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKTtcblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWFpbi5qc3giLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgY2FuVXNlRE9NID0gZXhwb3J0cy5jYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG52YXIgYWRkRXZlbnRMaXN0ZW5lciA9IGV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIgPyBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxudmFyIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSBleHBvcnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICByZXR1cm4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyID8gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpIDogbm9kZS5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbn07XG5cbnZhciBnZXRDb25maXJtYXRpb24gPSBleHBvcnRzLmdldENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICByZXR1cm4gY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpO1xufTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuICogY2hhbmdlZCB0byBhdm9pZCBmYWxzZSBuZWdhdGl2ZXMgZm9yIFdpbmRvd3MgUGhvbmVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yb3V0ZXIvaXNzdWVzLzU4NlxuICovXG52YXIgc3VwcG9ydHNIaXN0b3J5ID0gZXhwb3J0cy5zdXBwb3J0c0hpc3RvcnkgPSBmdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJyb3dzZXIgZmlyZXMgcG9wc3RhdGUgb24gaGFzaCBjaGFuZ2UuXG4gKiBJRTEwIGFuZCBJRTExIGRvIG5vdC5cbiAqL1xudmFyIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBleHBvcnRzLnN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG52YXIgc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBleHBvcnRzLnN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoID0gZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cbiAqIEFjY291bnRzIGZvciB0aGUgZmFjdCB0aGF0IENocm9tZSBvbiBpT1MgZmlyZXMgcmVhbCBwb3BzdGF0ZSBldmVudHNcbiAqIGNvbnRhaW5pbmcgdW5kZWZpbmVkIHN0YXRlIHdoZW4gcHJlc3NpbmcgdGhlIGJhY2sgYnV0dG9uLlxuICovXG52YXIgaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCA9IGV4cG9ydHMuaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCA9IGZ1bmN0aW9uIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnN0YXRlID09PSB1bmRlZmluZWQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDcmlPUycpID09PSAtMTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvRE9NVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubG9jYXRpb25zQXJlRXF1YWwgPSBleHBvcnRzLmNyZWF0ZUxvY2F0aW9uID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3Jlc29sdmVQYXRobmFtZSA9IHJlcXVpcmUoJ3Jlc29sdmUtcGF0aG5hbWUnKTtcblxudmFyIF9yZXNvbHZlUGF0aG5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzb2x2ZVBhdGhuYW1lKTtcblxudmFyIF92YWx1ZUVxdWFsID0gcmVxdWlyZSgndmFsdWUtZXF1YWwnKTtcblxudmFyIF92YWx1ZUVxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbHVlRXF1YWwpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjcmVhdGVMb2NhdGlvbiA9IGV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gKDAsIF9QYXRoVXRpbHMucGFyc2VQYXRoKShwYXRoKTtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9IGVsc2Uge1xuICAgIC8vIE9uZS1hcmcgZm9ybTogcHVzaChsb2NhdGlvbilcbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBwYXRoKTtcblxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5wYXRobmFtZSA9ICcnO1xuXG4gICAgaWYgKGxvY2F0aW9uLnNlYXJjaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5jaGFyQXQoMCkgIT09ICc/JykgbG9jYXRpb24uc2VhcmNoID0gJz8nICsgbG9jYXRpb24uc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5zZWFyY2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLmhhc2guY2hhckF0KDApICE9PSAnIycpIGxvY2F0aW9uLmhhc2ggPSAnIycgKyBsb2NhdGlvbi5oYXNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlICE9PSB1bmRlZmluZWQgJiYgbG9jYXRpb24uc3RhdGUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIGxvY2F0aW9uLmtleSA9IGtleTtcblxuICBpZiAoY3VycmVudExvY2F0aW9uKSB7XG4gICAgLy8gUmVzb2x2ZSBpbmNvbXBsZXRlL3JlbGF0aXZlIHBhdGhuYW1lIHJlbGF0aXZlIHRvIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWU7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAoMCwgX3Jlc29sdmVQYXRobmFtZTIuZGVmYXVsdCkobG9jYXRpb24ucGF0aG5hbWUsIGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxudmFyIGxvY2F0aW9uc0FyZUVxdWFsID0gZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiAoMCwgX3ZhbHVlRXF1YWwyLmRlZmF1bHQpKGEuc3RhdGUsIGIuc3RhdGUpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9Mb2NhdGlvblV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSBmdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpIHtcbiAgdmFyIHByb21wdCA9IG51bGw7XG5cbiAgdmFyIHNldFByb21wdCA9IGZ1bmN0aW9uIHNldFByb21wdChuZXh0UHJvbXB0KSB7XG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShwcm9tcHQgPT0gbnVsbCwgJ0EgaGlzdG9yeSBzdXBwb3J0cyBvbmx5IG9uZSBwcm9tcHQgYXQgYSB0aW1lJyk7XG5cbiAgICBwcm9tcHQgPSBuZXh0UHJvbXB0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9tcHQgPT09IG5leHRQcm9tcHQpIHByb21wdCA9IG51bGw7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY29uZmlybVRyYW5zaXRpb25UbyA9IGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiBJZiBhbm90aGVyIHRyYW5zaXRpb24gc3RhcnRzIHdoaWxlIHdlJ3JlIHN0aWxsIGNvbmZpcm1pbmdcbiAgICAvLyB0aGUgcHJldmlvdXMgb25lLCB3ZSBtYXkgZW5kIHVwIGluIGEgd2VpcmQgc3RhdGUuIEZpZ3VyZSBvdXQgdGhlXG4gICAgLy8gYmVzdCB3YXkgdG8gaGFuZGxlIHRoaXMuXG4gICAgaWYgKHByb21wdCAhPSBudWxsKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHlwZW9mIHByb21wdCA9PT0gJ2Z1bmN0aW9uJyA/IHByb21wdChsb2NhdGlvbiwgYWN0aW9uKSA6IHByb21wdDtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2V0VXNlckNvbmZpcm1hdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGdldFVzZXJDb25maXJtYXRpb24ocmVzdWx0LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0EgaGlzdG9yeSBuZWVkcyBhIGdldFVzZXJDb25maXJtYXRpb24gZnVuY3Rpb24gaW4gb3JkZXIgdG8gdXNlIGEgcHJvbXB0IG1lc3NhZ2UnKTtcblxuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgZnJvbSBhIHRyYW5zaXRpb24gaG9vayB0byBjYW5jZWwgdGhlIHRyYW5zaXRpb24uXG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCAhPT0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIHZhciBhcHBlbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFwcGVuZExpc3RlbmVyKGZuKSB7XG4gICAgdmFyIGlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgaWYgKGlzQWN0aXZlKSBmbi5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBub3RpZnlMaXN0ZW5lcnMgPSBmdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gbGlzdGVuZXIuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHNldFByb21wdDogc2V0UHJvbXB0LFxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG86IGNvbmZpcm1UcmFuc2l0aW9uVG8sXG4gICAgYXBwZW5kTGlzdGVuZXI6IGFwcGVuZExpc3RlbmVyLFxuICAgIG5vdGlmeUxpc3RlbmVyczogbm90aWZ5TGlzdGVuZXJzXG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlci5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gTWFrZSBzdXJlIHUgdXNlIEVNUFRZX09CSiBmcm9tICdpbmZlcm5vJywgb3RoZXJ3aXNlIGl0J2xsIGJlIGEgZGlmZmVyZW50IHJlZmVyZW5jZVxyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgbm9PcCA9IGluZmVybm9fc2hhcmVkXzEuRVJST1JfTVNHO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgbm9PcCA9ICdJbmZlcm5vIEVycm9yOiBDYW4gb25seSB1cGRhdGUgYSBtb3VudGVkIG9yIG1vdW50aW5nIGNvbXBvbmVudC4gVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgc2V0U3RhdGUoKSBvciBmb3JjZVVwZGF0ZSgpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuIFRoaXMgaXMgYSBuby1vcC4nO1xyXG59XHJcbnZhciBjb21wb25lbnRDYWxsYmFja1F1ZXVlID0gbmV3IE1hcCgpO1xyXG4vLyB3aGVuIGEgY29tcG9uZW50cyByb290IFZOb2RlIGlzIGFsc28gYSBjb21wb25lbnQsIHdlIGNhbiBydW4gaW50byBpc3N1ZXNcclxuLy8gdGhpcyB3aWxsIHJlY3Vyc2l2ZWx5IGxvb2sgZm9yIHZOb2RlLnBhcmVudE5vZGUgaWYgdGhlIFZOb2RlIGlzIGEgY29tcG9uZW50XHJcbmZ1bmN0aW9uIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2Rlcyh2Tm9kZSwgZG9tKSB7XHJcbiAgICBpZiAodk5vZGUuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB2YXIgcGFyZW50Vk5vZGUgPSB2Tm9kZS5wYXJlbnRWTm9kZTtcclxuICAgICAgICBpZiAocGFyZW50Vk5vZGUpIHtcclxuICAgICAgICAgICAgcGFyZW50Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgICAgICB1cGRhdGVQYXJlbnRDb21wb25lbnRWTm9kZXMocGFyZW50Vk5vZGUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuZnVuY3Rpb24gYWRkVG9RdWV1ZShjb21wb25lbnQsIGZvcmNlLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIHF1ZXVlID0gY29tcG9uZW50Q2FsbGJhY2tRdWV1ZS5nZXQoY29tcG9uZW50KTtcclxuICAgIGlmIChxdWV1ZSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgcXVldWUgPSBbXTtcclxuICAgICAgICBjb21wb25lbnRDYWxsYmFja1F1ZXVlLnNldChjb21wb25lbnQsIHF1ZXVlKTtcclxuICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudENhbGxiYWNrUXVldWUuZGVsZXRlKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBseVN0YXRlKGNvbXBvbmVudCwgZm9yY2UsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBxdWV1ZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldLmNhbGwoY29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIHF1ZXVlLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlU3RhdGVDaGFuZ2VzKGNvbXBvbmVudCwgbmV3U3RhdGUsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKG5ld1N0YXRlKSkge1xyXG4gICAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUoY29tcG9uZW50LnN0YXRlLCBjb21wb25lbnQucHJvcHMsIGNvbXBvbmVudC5jb250ZXh0KTtcclxuICAgIH1cclxuICAgIHZhciBwZW5kaW5nID0gY29tcG9uZW50Ll9wZW5kaW5nU3RhdGU7XHJcbiAgICBpZiAocGVuZGluZyA9PT0gbnVsbCkge1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gcGVuZGluZyA9IG5ld1N0YXRlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3RhdGVLZXkgaW4gbmV3U3RhdGUpIHtcclxuICAgICAgICAgICAgcGVuZGluZ1tzdGF0ZUtleV0gPSBuZXdTdGF0ZVtzdGF0ZUtleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyICYmICFjb21wb25lbnQuX3BlbmRpbmdTZXRTdGF0ZSAmJiAhY29tcG9uZW50Ll9ibG9ja1JlbmRlcikge1xyXG4gICAgICAgIGlmICghY29tcG9uZW50Ll91cGRhdGluZykge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBseVN0YXRlKGNvbXBvbmVudCwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYWRkVG9RdWV1ZShjb21wb25lbnQsIGZhbHNlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHN0YXRlID0gY29tcG9uZW50LnN0YXRlO1xyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuc3RhdGUgPSBwZW5kaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHBlbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBwZW5kaW5nW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSAmJiBjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGNhbGxiYWNrLmJpbmQoY29tcG9uZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmb3JjZSwgY2FsbGJhY2spIHtcclxuICAgIGlmIChjb21wb25lbnQuX3VubW91bnRlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChmb3JjZSB8fCAhY29tcG9uZW50Ll9ibG9ja1JlbmRlcikge1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHBlbmRpbmdTdGF0ZSA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgICAgIHZhciBwcmV2U3RhdGUgPSBjb21wb25lbnQuc3RhdGU7XHJcbiAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJldlN0YXRlLCBwZW5kaW5nU3RhdGUpO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcclxuICAgICAgICB2YXIgY29udGV4dF8xID0gY29tcG9uZW50LmNvbnRleHQ7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHZhciBuZXh0SW5wdXQgPSBjb21wb25lbnQuX3VwZGF0ZUNvbXBvbmVudChwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcHJvcHMsIHByb3BzLCBjb250ZXh0XzEsIGZvcmNlLCB0cnVlKTtcclxuICAgICAgICB2YXIgZGlkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBuZXh0SW5wdXQgPSBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoNDA5NiAvKiBWb2lkICovLCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dElucHV0ID09PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgIG5leHRJbnB1dCA9IGNvbXBvbmVudC5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgbmV4dElucHV0ID0gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDEgLyogVGV4dCAqLywgbnVsbCwgbnVsbCwgbmV4dElucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsYXN0SW5wdXQgPSBjb21wb25lbnQuX2xhc3RJbnB1dDtcclxuICAgICAgICB2YXIgdk5vZGUgPSBjb21wb25lbnQuX3ZOb2RlO1xyXG4gICAgICAgIHZhciBwYXJlbnREb20gPSAobGFzdElucHV0LmRvbSAmJiBsYXN0SW5wdXQuZG9tLnBhcmVudE5vZGUpIHx8IChsYXN0SW5wdXQuZG9tID0gdk5vZGUuZG9tKTtcclxuICAgICAgICBjb21wb25lbnQuX2xhc3RJbnB1dCA9IG5leHRJbnB1dDtcclxuICAgICAgICBpZiAoZGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZENvbnRleHQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50LmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50Ll9jaGlsZENvbnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKGNvbnRleHRfMSwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGlmZUN5Y2xlID0gY29tcG9uZW50Ll9saWZlY3ljbGU7XHJcbiAgICAgICAgICAgIGluZmVybm9fMS5pbnRlcm5hbF9wYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlQ3ljbGUsIGNoaWxkQ29udGV4dCwgY29tcG9uZW50Ll9pc1NWRywgZmFsc2UpO1xyXG4gICAgICAgICAgICBsaWZlQ3ljbGUudHJpZ2dlcigpO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJvcHMsIHByZXZTdGF0ZSwgY29udGV4dF8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGluZmVybm9fMS5vcHRpb25zLmFmdGVyVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUodk5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkb20gPSB2Tm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgaW5mZXJub18xLmludGVybmFsX0RPTU5vZGVNYXAuc2V0KGNvbXBvbmVudCwgbmV4dElucHV0LmRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2Rlcyh2Tm9kZSwgZG9tKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwoY29tcG9uZW50KTtcclxuICAgIH1cclxufVxyXG52YXIgYWxyZWFkeVdhcm5lZCA9IGZhbHNlO1xyXG52YXIgQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fYmxvY2tTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9sYXN0SW5wdXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3ZOb2RlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl91bm1vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9saWZlY3ljbGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2NoaWxkQ29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5faXNTVkcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzIHx8IGluZmVybm9fMS5FTVBUWV9PQko7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCBpbmZlcm5vXzEuRU1QVFlfT0JKOyAvLyBjb250ZXh0IHNob3VsZCBub3QgYmUgbXV0YWJsZVxyXG4gICAgfVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl91bm1vdW50ZWQgfHwgIWluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwbHlTdGF0ZSh0aGlzLCB0cnVlLCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChuZXdTdGF0ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ibG9ja1NldFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlU3RhdGVDaGFuZ2VzKHRoaXMsIG5ld1N0YXRlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdjYW5ub3QgdXBkYXRlIHN0YXRlIHZpYSBzZXRTdGF0ZSgpIGluIGNvbXBvbmVudFdpbGxVcGRhdGUoKSBvciBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZVN5bmMgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAoIWFscmVhZHlXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgIGFscmVhZHlXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbmZlcm5vIFdBUk5JTkc6IHNldFN0YXRlU3luYyBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCByZWxlYXNlLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLl91cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAocHJldlN0YXRlLCBuZXh0U3RhdGUsIHByZXZQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmb3JjZSwgZnJvbVNldFN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3VubW91bnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKG5vT3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikgfHwgcHJldlN0YXRlICE9PSBuZXh0U3RhdGUgfHwgZm9yY2UpIHtcclxuICAgICAgICAgICAgaWYgKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgJiYgIWZyb21TZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1JlbmRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20obmV4dFN0YXRlLCB0aGlzLl9wZW5kaW5nU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogVXBkYXRlIGlmIHNjdSBpcyBub3QgZGVmaW5lZCwgb3IgaXQgcmV0dXJucyB0cnV0aHkgdmFsdWUgb3IgZm9yY2UgKi9cclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQodGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUpIHx8IHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBjb250ZXh0KSB8fCBmb3JjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyID0gdGhpcy5yZW5kZXIobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fMS5vcHRpb25zLmFmdGVyUmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZlcm5vX3NoYXJlZF8xLk5PX09QO1xyXG4gICAgfTtcclxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KSB7IH07XHJcbiAgICByZXR1cm4gQ29tcG9uZW50O1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBDb21wb25lbnQ7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLWNvbXBvbmVudC9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgY29tcG9uZW50SG9va3MgPSBuZXcgU2V0KCk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsTW91bnQnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudERpZE1vdW50Jyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsVW5tb3VudCcpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50U2hvdWxkVXBkYXRlJyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsVXBkYXRlJyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnREaWRVcGRhdGUnKTtcclxuLyoqXHJcbiAqIENyZWF0ZXMgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufENvbXBvbmVudDxhbnksIGFueT59IHR5cGUgVHlwZSBvZiBub2RlXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gcHJvcHMgT3B0aW9uYWwgcHJvcHMgZm9yIHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0gey4uLntvYmplY3R9PX0gX2NoaWxkcmVuIE9wdGlvbmFsIGNoaWxkcmVuIGZvciB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge1ZOb2RlfSBuZXcgdmlydHVhbCBuZG9lXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzKSB7XHJcbiAgICB2YXIgX2NoaWxkcmVuID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIF9jaGlsZHJlbltfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh0eXBlKSB8fCBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KHR5cGUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZlcm5vIEVycm9yOiBjcmVhdGVFbGVtZW50KCkgbmFtZSBwYXJhbWV0ZXIgY2Fubm90IGJlIHVuZGVmaW5lZCwgbnVsbCwgZmFsc2Ugb3IgdHJ1ZSwgSXQgbXVzdCBiZSBhIHN0cmluZywgY2xhc3Mgb3IgZnVuY3Rpb24uJyk7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBfY2hpbGRyZW47XHJcbiAgICB2YXIgcmVmID0gbnVsbDtcclxuICAgIHZhciBrZXkgPSBudWxsO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IG51bGw7XHJcbiAgICB2YXIgZmxhZ3MgPSAwO1xyXG4gICAgdmFyIG5ld1Byb3BzO1xyXG4gICAgaWYgKF9jaGlsZHJlbikge1xyXG4gICAgICAgIGlmIChfY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gdm9pZCAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nKHR5cGUpKSB7XHJcbiAgICAgICAgZmxhZ3MgPSBpbmZlcm5vXzEuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUodHlwZSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIG5ld1Byb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnY2xhc3NOYW1lJyB8fCBwcm9wID09PSAnY2xhc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAna2V5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHByb3BzLmtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdjaGlsZHJlbicgJiYgaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuOyAvLyBhbHdheXMgZmF2b3VyIGNoaWxkcmVuIGFyZ3MsIGRlZmF1bHQgdG8gcHJvcHNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdyZWYnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmID0gcHJvcHMucmVmO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZsYWdzID0gMTYgLyogQ29tcG9uZW50VW5rbm93biAqLztcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcykpIHtcclxuICAgICAgICAgICAgbmV3UHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudEhvb2tzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZWZbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdrZXknKSB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoZmxhZ3MsIHR5cGUsIGNsYXNzTmFtZSwgY2hpbGRyZW4sIG5ld1Byb3BzLCBrZXksIHJlZik7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRWxlbWVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tY3JlYXRlLWVsZW1lbnQvZGlzdC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IHJlcXVpcmUoXCJpbmZlcm5vXCIpO1xyXG52YXIgTGlua18xID0gcmVxdWlyZShcIi4vTGlua1wiKTtcclxuZnVuY3Rpb24gSW5kZXhMaW5rKHByb3BzKSB7XHJcbiAgICBwcm9wcy50byA9ICcvJztcclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoOCAvKiBDb21wb25lbnRGdW5jdGlvbiAqLywgTGlua18xLmRlZmF1bHQsIG51bGwsIG51bGwsIHByb3BzKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBJbmRleExpbms7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L0luZGV4TGluay5qc1xuLy8gbW9kdWxlIGlkID0gMzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbnZhciBJbmRleFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJbmRleFJvdXRlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSW5kZXhSb3V0ZShwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIHByb3BzLnBhdGggPSAnLyc7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEluZGV4Um91dGU7XHJcbn0oUm91dGVfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEluZGV4Um91dGU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L0luZGV4Um91dGUuanNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUm91dGVfMSA9IHJlcXVpcmUoXCIuL1JvdXRlXCIpO1xyXG52YXIgUmVkaXJlY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlZGlyZWN0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVkaXJlY3QocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBpZiAoIXByb3BzLnRvKSB7XHJcbiAgICAgICAgICAgIHByb3BzLnRvID0gJy8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVkaXJlY3Q7XHJcbn0oUm91dGVfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJlZGlyZWN0O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9SZWRpcmVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSByZXF1aXJlKFwiaW5mZXJub1wiKTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jb21wb25lbnRcIik7XHJcbnZhciBtYXRjaF8xID0gcmVxdWlyZShcIi4vbWF0Y2hcIik7XHJcbnZhciBSb3V0ZXJDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9Sb3V0ZXJDb250ZXh0XCIpO1xyXG5mdW5jdGlvbiBjcmVhdGVyUm91dGVyKGhpc3RvcnkpIHtcclxuICAgIGlmICghaGlzdG9yeSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZmVybm86IEVycm9yIFwiaW5mZXJuby1yb3V0ZXJcIiByZXF1aXJlcyBhIGhpc3RvcnkgcHJvcCBwYXNzZWQnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3JlYXRlSHJlZjogaGlzdG9yeS5jcmVhdGVIcmVmLFxyXG4gICAgICAgIGxpc3RlbjogaGlzdG9yeS5saXN0ZW4sXHJcbiAgICAgICAgcHVzaDogaGlzdG9yeS5wdXNoLFxyXG4gICAgICAgIHJlcGxhY2U6IGhpc3RvcnkucmVwbGFjZSxcclxuICAgICAgICBpc0FjdGl2ZTogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hfMS5tYXRjaFBhdGgodHJ1ZSwgdXJsLCB0aGlzLnVybCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgbG9jYXRpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAnYmxhbmsnID8gaGlzdG9yeS5sb2NhdGlvbiA6IHtcclxuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiAnLycsXHJcbiAgICAgICAgICAgICAgICBzZWFyY2g6ICcnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgdXJsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbi5wYXRobmFtZSArIHRoaXMubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxudmFyIFJvdXRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUm91dGVyKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucm91dGVyID0gY3JlYXRlclJvdXRlcihwcm9wcy5oaXN0b3J5KTtcclxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgdXJsOiBwcm9wcy51cmwgfHwgX3RoaXMucm91dGVyLnVybFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5yb3V0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy51bmxpc3RlbiA9IHRoaXMucm91dGVyLmxpc3RlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZVRvKF90aGlzLnJvdXRlci51cmwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogbmV4dFByb3BzLnVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51bmxpc3Rlbikge1xyXG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlci5wcm90b3R5cGUucm91dGVUbyA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB1cmw6IHVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBoaXQgPSBtYXRjaF8xLmRlZmF1bHQocHJvcHMuY2hpbGRyZW4sIHRoaXMuc3RhdGUudXJsKTtcclxuICAgICAgICBpZiAoaGl0LnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucm91dGVyLnJlcGxhY2UoaGl0LnJlZGlyZWN0KTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIFJvdXRlckNvbnRleHRfMS5kZWZhdWx0LCBudWxsLCBudWxsLCB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLnN0YXRlLnVybCxcclxuICAgICAgICAgICAgbWF0Y2hlZDogaGl0Lm1hdGNoZWQsXHJcbiAgICAgICAgICAgIHJvdXRlcjogdGhpcy5yb3V0ZXJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUm91dGVyO1xyXG59KGluZmVybm9fY29tcG9uZW50XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L1JvdXRlci5qc1xuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIHBhcnNpbmcgcGxhaW4gcm91dGUgY29uZmlndXJhdGlvbnNcclxuICogYmFzZWQgb24gcmVhY3Qtcm91dGVyIGNyZWF0ZVJvdXRlcyBoYW5kbGVyLlxyXG4gKlxyXG4gKiBjdXJyZW50bHkgc3VwcG9ydGVkIGtleXM6XHJcbiAqIC0gcGF0aFxyXG4gKiAtIGNvbXBvbmVudFxyXG4gKiAtIGNoaWxkUm91dGVzXHJcbiAqIC0gaW5kZXhSb3V0ZVxyXG4gKlxyXG4gKiBVc2FnZSBleGFtcGxlOlxyXG4gKiBjb25zdCByb3V0ZXMgPSBjcmVhdGVSb3V0ZXMoW1xyXG4gKiAge1xyXG4gKiAgICBwYXRoICAgICAgICA6ICcvJyxcclxuICogICAgY29tcG9uZW50ICAgOiBBcHAsXHJcbiAqICAgIGluZGV4Um91dGUgIDoge1xyXG4gKiAgICAgIGNvbXBvbmVudCAgICAgOiBIb21lLFxyXG4gKiAgICB9LFxyXG4gKiAgICBjaGlsZFJvdXRlcyA6IFtcclxuICogICAgICB7XHJcbiAqICAgICAgICBwYXRoIDogJ2ZpbG1zLycsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBGaWxtcyxcclxuICogICAgICAgIGNoaWxkUm91dGVzIDoge1xyXG4gKiAgICAgICAgICBwYXRoIDogJ2RldGFpbC86aWQnLFxyXG4gKiAgICAgICAgICBjb21wb25lbnQgOiBGaWxtRGV0YWlsLFxyXG4gKiAgICAgICAgfVxyXG4gKiAgICAgIH0sXHJcbiAqICAgICAge1xyXG4gKiAgICAgICAgcGF0aCA6ICcvKicsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBOb01hdGNoXHJcbiAqICAgICAgfVxyXG4gKiAgICBdXHJcbiAqICB9XHJcbiAqIF0pO1xyXG4gKlxyXG4gKiBVc2FnZSBvbiBSb3V0ZXIgSlNYXHJcbiAqIDxSb3V0ZXIgaGlzdG9yeT17YnJvd3Nlckhpc3Rvcnl9IGNoaWxkcmVuPXtyb3V0ZXN9IC8+XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jcmVhdGUtZWxlbWVudFwiKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbnZhciBoYW5kbGVJbmRleFJvdXRlID0gZnVuY3Rpb24gKGluZGV4Um91dGVOb2RlKSB7IHJldHVybiBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEuZGVmYXVsdChSb3V0ZV8xLmRlZmF1bHQsIGluZGV4Um91dGVOb2RlKTsgfTtcclxudmFyIGhhbmRsZUNoaWxkUm91dGUgPSBmdW5jdGlvbiAoY2hpbGRSb3V0ZU5vZGUpIHsgcmV0dXJuIGhhbmRsZVJvdXRlTm9kZShjaGlsZFJvdXRlTm9kZSk7IH07XHJcbnZhciBoYW5kbGVDaGlsZFJvdXRlcyA9IGZ1bmN0aW9uIChjaGlsZFJvdXRlTm9kZXMpIHsgcmV0dXJuIGNoaWxkUm91dGVOb2Rlcy5tYXAoaGFuZGxlQ2hpbGRSb3V0ZSk7IH07XHJcbmZ1bmN0aW9uIGhhbmRsZVJvdXRlTm9kZShyb3V0ZUNvbmZpZ05vZGUpIHtcclxuICAgIGlmIChyb3V0ZUNvbmZpZ05vZGUuaW5kZXhSb3V0ZSAmJiAhcm91dGVDb25maWdOb2RlLmNoaWxkUm91dGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgcm91dGVDb25maWdOb2RlKTtcclxuICAgIH1cclxuICAgIC8vIGNyZWF0ZSBkZWVwIGNvcHkgb2YgY29uZmlnXHJcbiAgICB2YXIgbm9kZSA9IHt9O1xyXG4gICAgZm9yICh2YXIga2V5IGluIHJvdXRlQ29uZmlnTm9kZSkge1xyXG4gICAgICAgIG5vZGVba2V5XSA9IHJvdXRlQ29uZmlnTm9kZVtrZXldO1xyXG4gICAgfVxyXG4gICAgbm9kZS5jaGlsZHJlbiA9IFtdO1xyXG4gICAgLy8gaGFuZGxlIGluZGV4IHJvdXRlIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuaW5kZXhSb3V0ZSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChoYW5kbGVJbmRleFJvdXRlKG5vZGUuaW5kZXhSb3V0ZSkpO1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmluZGV4Um91dGU7XHJcbiAgICB9XHJcbiAgICAvLyBoYW5kbGUgY2hpbGQgcm91dGVzIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuY2hpbGRSb3V0ZXMpIHtcclxuICAgICAgICB2YXIgbm9kZXMgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZFJvdXRlcykgPyBub2RlLmNoaWxkUm91dGVzIDogW25vZGUuY2hpbGRSb3V0ZXNdO1xyXG4gICAgICAgIChfYSA9IG5vZGUuY2hpbGRyZW4pLnB1c2guYXBwbHkoX2EsIGhhbmRsZUNoaWxkUm91dGVzKG5vZGVzKSk7XHJcbiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRSb3V0ZXM7XHJcbiAgICB9XHJcbiAgICAvLyBjbGVhbnVwIHRvIG1hdGNoIG5hdGl2ZSByZW5kZXJlZCByZXN1bHRcclxuICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuWzBdO1xyXG4gICAgfVxyXG4gICAgaWYgKChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHx8XHJcbiAgICAgICAgKCFpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgT2JqZWN0LmtleXMobm9kZS5jaGlsZHJlbikubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgbm9kZSk7XHJcbiAgICB2YXIgX2E7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHJvdXRlQ29uZmlnKSB7IHJldHVybiByb3V0ZUNvbmZpZy5tYXAoaGFuZGxlUm91dGVOb2RlKTsgfTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvY3JlYXRlUm91dGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY3JlYXRlUm91dGVzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVSb3V0ZXNcIik7XHJcbmV4cG9ydHMuY3JlYXRlUm91dGVzID0gY3JlYXRlUm91dGVzXzEuZGVmYXVsdDtcclxudmFyIEluZGV4TGlua18xID0gcmVxdWlyZShcIi4vSW5kZXhMaW5rXCIpO1xyXG5leHBvcnRzLkluZGV4TGluayA9IEluZGV4TGlua18xLmRlZmF1bHQ7XHJcbnZhciBJbmRleFJvdXRlXzEgPSByZXF1aXJlKFwiLi9JbmRleFJvdXRlXCIpO1xyXG5leHBvcnRzLkluZGV4Um91dGUgPSBJbmRleFJvdXRlXzEuZGVmYXVsdDtcclxudmFyIExpbmtfMSA9IHJlcXVpcmUoXCIuL0xpbmtcIik7XHJcbmV4cG9ydHMuTGluayA9IExpbmtfMS5kZWZhdWx0O1xyXG52YXIgbWF0Y2hfMSA9IHJlcXVpcmUoXCIuL21hdGNoXCIpO1xyXG5leHBvcnRzLm1hdGNoID0gbWF0Y2hfMS5kZWZhdWx0O1xyXG52YXIgUmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL1JlZGlyZWN0XCIpO1xyXG5leHBvcnRzLlJlZGlyZWN0ID0gUmVkaXJlY3RfMS5kZWZhdWx0O1xyXG5leHBvcnRzLkluZGV4UmVkaXJlY3QgPSBSZWRpcmVjdF8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbmV4cG9ydHMuUm91dGUgPSBSb3V0ZV8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZXJfMSA9IHJlcXVpcmUoXCIuL1JvdXRlclwiKTtcclxuZXhwb3J0cy5Sb3V0ZXIgPSBSb3V0ZXJfMS5kZWZhdWx0O1xyXG52YXIgUm91dGVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUm91dGVyQ29udGV4dFwiKTtcclxuZXhwb3J0cy5Sb3V0ZXJDb250ZXh0ID0gUm91dGVyQ29udGV4dF8xLmRlZmF1bHQ7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IHtcclxuICAgIFJvdXRlOiBSb3V0ZV8xLmRlZmF1bHQsXHJcbiAgICBJbmRleFJvdXRlOiBJbmRleFJvdXRlXzEuZGVmYXVsdCxcclxuICAgIFJlZGlyZWN0OiBSZWRpcmVjdF8xLmRlZmF1bHQsXHJcbiAgICBJbmRleFJlZGlyZWN0OiBSZWRpcmVjdF8xLmRlZmF1bHQsXHJcbiAgICBSb3V0ZXI6IFJvdXRlcl8xLmRlZmF1bHQsXHJcbiAgICBSb3V0ZXJDb250ZXh0OiBSb3V0ZXJDb250ZXh0XzEuZGVmYXVsdCxcclxuICAgIExpbms6IExpbmtfMS5kZWZhdWx0LFxyXG4gICAgSW5kZXhMaW5rOiBJbmRleExpbmtfMS5kZWZhdWx0LFxyXG4gICAgbWF0Y2g6IG1hdGNoXzEuZGVmYXVsdCxcclxuICAgIGNyZWF0ZVJvdXRlczogY3JlYXRlUm91dGVzXzEuZGVmYXVsdFxyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5OT19PUCA9ICckTk9fT1AnO1xyXG5leHBvcnRzLkVSUk9SX01TRyA9ICdhIHJ1bnRpbWUgZXJyb3Igb2NjdXJlZCEgVXNlIEluZmVybm8gaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQgdG8gZmluZCB0aGUgZXJyb3IuJztcclxuLy8gVGhpcyBzaG91bGQgYmUgYm9vbGVhbiBhbmQgbm90IHJlZmVyZW5jZSB0byB3aW5kb3cuZG9jdW1lbnRcclxuZXhwb3J0cy5pc0Jyb3dzZXIgPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpO1xyXG5mdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gZXhwb3J0cy5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogKGNoaWxkcmVuID8gW2NoaWxkcmVuXSA6IGNoaWxkcmVuKTtcclxufVxyXG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xyXG4vLyB0aGlzIGlzIE1VQ0ggZmFzdGVyIHRoYW4gLmNvbnN0cnVjdG9yID09PSBBcnJheSBhbmQgaW5zdGFuY2VvZiBBcnJheVxyXG4vLyBpbiBOb2RlIDcgYW5kIHRoZSBsYXRlciB2ZXJzaW9ucyBvZiBWOCwgc2xvd2VyIGluIG9sZGVyIHZlcnNpb25zIHRob3VnaFxyXG5leHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KG8pIHtcclxuICAgIHJldHVybiAhaXNVbmRlZmluZWQoby5wcm90b3R5cGUpICYmICFpc1VuZGVmaW5lZChvLnByb3RvdHlwZS5yZW5kZXIpO1xyXG59XHJcbmV4cG9ydHMuaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGlzU3RhdGVmdWxDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIGlzU3RyaW5nT3JOdW1iZXIobykge1xyXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgbztcclxuICAgIHJldHVybiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzU3RyaW5nT3JOdW1iZXIgPSBpc1N0cmluZ09yTnVtYmVyO1xyXG5mdW5jdGlvbiBpc051bGxPclVuZGVmKG8pIHtcclxuICAgIHJldHVybiBpc1VuZGVmaW5lZChvKSB8fCBpc051bGwobyk7XHJcbn1cclxuZXhwb3J0cy5pc051bGxPclVuZGVmID0gaXNOdWxsT3JVbmRlZjtcclxuZnVuY3Rpb24gaXNJbnZhbGlkKG8pIHtcclxuICAgIHJldHVybiBpc051bGwobykgfHwgbyA9PT0gZmFsc2UgfHwgaXNUcnVlKG8pIHx8IGlzVW5kZWZpbmVkKG8pO1xyXG59XHJcbmV4cG9ydHMuaXNJbnZhbGlkID0gaXNJbnZhbGlkO1xyXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG8pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJztcclxufVxyXG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xyXG5mdW5jdGlvbiBpc1N0cmluZyhvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdzdHJpbmcnO1xyXG59XHJcbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcclxuZnVuY3Rpb24gaXNOdW1iZXIobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XHJcbmZ1bmN0aW9uIGlzTnVsbChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gbnVsbDtcclxufVxyXG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcclxuZnVuY3Rpb24gaXNUcnVlKG8pIHtcclxuICAgIHJldHVybiBvID09PSB0cnVlO1xyXG59XHJcbmV4cG9ydHMuaXNUcnVlID0gaXNUcnVlO1xyXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gdm9pZCAwO1xyXG59XHJcbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcclxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JztcclxufVxyXG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XHJcbmZ1bmN0aW9uIHRocm93RXJyb3IobWVzc2FnZSkge1xyXG4gICAgaWYgKCFtZXNzYWdlKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IGV4cG9ydHMuRVJST1JfTVNHO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW5mZXJubyBFcnJvcjogXCIgKyBtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLnRocm93RXJyb3IgPSB0aHJvd0Vycm9yO1xyXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcclxuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLndhcm5pbmcgPSB3YXJuaW5nO1xyXG5mdW5jdGlvbiBjb21iaW5lRnJvbShmaXJzdCwgc2Vjb25kKSB7XHJcbiAgICB2YXIgb3V0ID0ge307XHJcbiAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZmlyc3QpIHtcclxuICAgICAgICAgICAgb3V0W2tleV0gPSBmaXJzdFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChzZWNvbmQpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2Vjb25kKSB7XHJcbiAgICAgICAgICAgIG91dFtrZXldID0gc2Vjb25kW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufVxyXG5leHBvcnRzLmNvbWJpbmVGcm9tID0gY29tYmluZUZyb207XHJcbmZ1bmN0aW9uIExpZmVjeWNsZSgpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbn1cclxuZXhwb3J0cy5MaWZlY3ljbGUgPSBMaWZlY3ljbGU7XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbn07XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIoKSB7XHJcbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnM7XHJcbiAgICB2YXIgbGlzdGVuZXI7XHJcbiAgICAvLyBXZSBuZWVkIHRvIHJlbW92ZSBjdXJyZW50IGxpc3RlbmVyIGZyb20gYXJyYXkgd2hlbiBjYWxsaW5nIGl0LCBiZWNhdXNlIG1vcmUgbGlzdGVuZXJzIG1pZ2h0IGJlIGFkZGVkXHJcbiAgICB3aGlsZSAobGlzdGVuZXIgPSBsaXN0ZW5lcnMuc2hpZnQoKSkge1xyXG4gICAgICAgIGxpc3RlbmVyKCk7XHJcbiAgICB9XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXNoYXJlZC9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIGlzaU9TID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgJiYgISFuYXZpZ2F0b3IucGxhdGZvcm0gJiYgL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcclxudmFyIGRlbGVnYXRlZEV2ZW50cyA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gaGFuZGxlRXZlbnQobmFtZSwgbGFzdEV2ZW50LCBuZXh0RXZlbnQsIGRvbSkge1xyXG4gICAgdmFyIGRlbGVnYXRlZFJvb3RzID0gZGVsZWdhdGVkRXZlbnRzLmdldChuYW1lKTtcclxuICAgIGlmIChuZXh0RXZlbnQpIHtcclxuICAgICAgICBpZiAoIWRlbGVnYXRlZFJvb3RzKSB7XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZFJvb3RzID0geyBpdGVtczogbmV3IE1hcCgpLCBkb2NFdmVudDogbnVsbCB9O1xyXG4gICAgICAgICAgICBkZWxlZ2F0ZWRSb290cy5kb2NFdmVudCA9IGF0dGFjaEV2ZW50VG9Eb2N1bWVudChuYW1lLCBkZWxlZ2F0ZWRSb290cyk7XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZEV2ZW50cy5zZXQobmFtZSwgZGVsZWdhdGVkUm9vdHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWxhc3RFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoaXNpT1MgJiYgbmFtZSA9PT0gJ29uQ2xpY2snKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGVnYXRlZFJvb3RzLml0ZW1zLnNldChkb20sIG5leHRFdmVudCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkZWxlZ2F0ZWRSb290cykge1xyXG4gICAgICAgIHZhciBpdGVtcyA9IGRlbGVnYXRlZFJvb3RzLml0ZW1zO1xyXG4gICAgICAgIGlmIChpdGVtcy5kZWxldGUoZG9tKSkge1xyXG4gICAgICAgICAgICAvLyBJZiBhbnkgaXRlbXMgd2VyZSBkZWxldGVkLCBjaGVjayBpZiBsaXN0ZW5lciBuZWVkIHRvIGJlIHJlbW92ZWRcclxuICAgICAgICAgICAgaWYgKGl0ZW1zLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobm9ybWFsaXplRXZlbnROYW1lKG5hbWUpLCBkZWxlZ2F0ZWRSb290cy5kb2NFdmVudCk7XHJcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZWRFdmVudHMuZGVsZXRlKG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuaGFuZGxlRXZlbnQgPSBoYW5kbGVFdmVudDtcclxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChldmVudCwgdGFyZ2V0LCBpdGVtcywgY291bnQsIGlzQ2xpY2ssIGV2ZW50RGF0YSkge1xyXG4gICAgdmFyIGV2ZW50c1RvVHJpZ2dlciA9IGl0ZW1zLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKGV2ZW50c1RvVHJpZ2dlcikge1xyXG4gICAgICAgIGNvdW50LS07XHJcbiAgICAgICAgLy8gbGlua0V2ZW50IG9iamVjdFxyXG4gICAgICAgIGV2ZW50RGF0YS5kb20gPSB0YXJnZXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50c1RvVHJpZ2dlci5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudHNUb1RyaWdnZXIuZXZlbnQoZXZlbnRzVG9UcmlnZ2VyLmRhdGEsIGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1RvVHJpZ2dlcihldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgICB2YXIgcGFyZW50RG9tID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgLy8gSHRtbCBOb2RlcyBjYW4gYmUgbmVzdGVkIGZlOiBzcGFuIGluc2lkZSBidXR0b24gaW4gdGhhdCBzY2VuYXJpbyBicm93c2VyIGRvZXMgbm90IGhhbmRsZSBkaXNhYmxlZCBhdHRyaWJ1dGUgb24gcGFyZW50LFxyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIGV2ZW50IGxpc3RlbmVyIGlzIG9uIGRvY3VtZW50LmJvZHlcclxuICAgICAgICAvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50c1xyXG4gICAgICAgIGlmIChwYXJlbnREb20gPT09IG51bGwgfHwgKGlzQ2xpY2sgJiYgcGFyZW50RG9tLm5vZGVUeXBlID09PSAxICYmIHBhcmVudERvbS5kaXNhYmxlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaXNwYXRjaEV2ZW50KGV2ZW50LCBwYXJlbnREb20sIGl0ZW1zLCBjb3VudCwgaXNDbGljaywgZXZlbnREYXRhKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVFdmVudE5hbWUobmFtZSkge1xyXG4gICAgcmV0dXJuIG5hbWUuc3Vic3RyKDIpLnRvTG93ZXJDYXNlKCk7XHJcbn1cclxuZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xyXG4gICAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxufVxyXG5mdW5jdGlvbiBhdHRhY2hFdmVudFRvRG9jdW1lbnQobmFtZSwgZGVsZWdhdGVkUm9vdHMpIHtcclxuICAgIHZhciBkb2NFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBjb3VudCA9IGRlbGVnYXRlZFJvb3RzLml0ZW1zLnNpemU7XHJcbiAgICAgICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBzdG9wUHJvcGFnYXRpb247XHJcbiAgICAgICAgICAgIC8vIEV2ZW50IGRhdGEgbmVlZHMgdG8gYmUgb2JqZWN0IHRvIHNhdmUgcmVmZXJlbmNlIHRvIGN1cnJlbnRUYXJnZXQgZ2V0dGVyXHJcbiAgICAgICAgICAgIHZhciBldmVudERhdGFfMSA9IHtcclxuICAgICAgICAgICAgICAgIGRvbTogZG9jdW1lbnRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ2N1cnJlbnRUYXJnZXQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnREYXRhXzEuZG9tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChldmVudCwgZXZlbnQudGFyZ2V0LCBkZWxlZ2F0ZWRSb290cy5pdGVtcywgY291bnQsIGV2ZW50LnR5cGUgPT09ICdjbGljaycsIGV2ZW50RGF0YV8xKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihub3JtYWxpemVFdmVudE5hbWUobmFtZSksIGRvY0V2ZW50KTtcclxuICAgIHJldHVybiBkb2NFdmVudDtcclxufVxyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHlcclxuZnVuY3Rpb24gZW1wdHlGbigpIHsgfVxyXG5mdW5jdGlvbiB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb20pIHtcclxuICAgIC8vIE1vYmlsZSBTYWZhcmkgZG9lcyBub3QgZmlyZSBwcm9wZXJseSBidWJibGUgY2xpY2sgZXZlbnRzIG9uXHJcbiAgICAvLyBub24taW50ZXJhY3RpdmUgZWxlbWVudHMsIHdoaWNoIG1lYW5zIGRlbGVnYXRlZCBjbGljayBsaXN0ZW5lcnMgZG8gbm90XHJcbiAgICAvLyBmaXJlLiBUaGUgd29ya2Fyb3VuZCBmb3IgdGhpcyBidWcgaW52b2x2ZXMgYXR0YWNoaW5nIGFuIGVtcHR5IGNsaWNrXHJcbiAgICAvLyBsaXN0ZW5lciBvbiB0aGUgdGFyZ2V0IG5vZGUuXHJcbiAgICAvLyBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAxMC8wOS9jbGlja19ldmVudF9kZWwuaHRtbFxyXG4gICAgLy8gSnVzdCBzZXQgaXQgdXNpbmcgdGhlIG9uY2xpY2sgcHJvcGVydHkgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIG1hbmFnZSBhbnlcclxuICAgIC8vIGJvb2trZWVwaW5nIGZvciBpdC4gTm90IHN1cmUgaWYgd2UgbmVlZCB0byBjbGVhciBpdCB3aGVuIHRoZSBsaXN0ZW5lciBpc1xyXG4gICAgLy8gcmVtb3ZlZC5cclxuICAgIC8vIFRPRE86IE9ubHkgZG8gdGhpcyBmb3IgdGhlIHJlbGV2YW50IFNhZmFyaXMgbWF5YmU/XHJcbiAgICBkb20ub25jbGljayA9IGVtcHR5Rm47XHJcbn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2RlbGVnYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBMaW5rcyBnaXZlbiBkYXRhIHRvIGV2ZW50IGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0geyp9IGRhdGEgZGF0YSB0byBiZSBsaW5rZWQsIGl0IHdpbGwgYmUgYXZhaWxhYmxlIGluIGZ1bmN0aW9uIGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBldmVudCBGdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBldmVudCBvY2N1cnNcclxuICogQHJldHVybnMge3tkYXRhOiAqLCBldmVudDogRnVuY3Rpb259fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlua0V2ZW50KGRhdGEsIGV2ZW50KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBkYXRhLCBldmVudDogZXZlbnQgfTtcclxufVxyXG5leHBvcnRzLmxpbmtFdmVudCA9IGxpbmtFdmVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2xpbmtFdmVudC5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vY29yZS9vcHRpb25zXCIpO1xyXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XHJcbnZhciBtb3VudGluZ18xID0gcmVxdWlyZShcIi4vbW91bnRpbmdcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciByZW5kZXJpbmdfMSA9IHJlcXVpcmUoXCIuL3JlbmRlcmluZ1wiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcclxudmFyIHByb2Nlc3NFbGVtZW50XzEgPSByZXF1aXJlKFwiLi93cmFwcGVycy9wcm9jZXNzRWxlbWVudFwiKTtcclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGROb2RlcyhwYXJlbnREb20pIHtcclxuICAgIHZhciBkb20gPSBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgIHdoaWxlIChkb20pIHtcclxuICAgICAgICBpZiAoZG9tLm5vZGVUeXBlID09PSA4KSB7XHJcbiAgICAgICAgICAgIGlmIChkb20uZGF0YSA9PT0gJyEnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKHBsYWNlaG9sZGVyLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3REb20gPSBkb20ucHJldmlvdXNTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbiAgICAgICAgICAgICAgICBkb20gPSBsYXN0RG9tIHx8IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubm9ybWFsaXplQ2hpbGROb2RlcyA9IG5vcm1hbGl6ZUNoaWxkTm9kZXM7XHJcbmZ1bmN0aW9uIGh5ZHJhdGVDb21wb25lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNDbGFzcykge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICB2YXIgX2lzU1ZHID0gZG9tLm5hbWVzcGFjZVVSSSA9PT0gY29uc3RhbnRzXzEuc3ZnTlM7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdXRpbHNfMS5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCwgX2lzU1ZHLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIHZhciBpbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaW5zdGFuY2UuX3ZOb2RlID0gdk5vZGU7XHJcbiAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIGluc3RhbmNlLl9jaGlsZENvbnRleHQsIF9pc1NWRyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzKHZOb2RlLCByZWYsIGluc3RhbmNlLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlOyAvLyBNb3VudCBmaW5pc2hlZCBhbGxvdyBnb2luZyBzeW5jXHJcbiAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHV0aWxzXzEuY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IGlucHV0O1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGlucHV0LmRvbTtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZUVsZW1lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZS5jbGFzc05hbWU7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICBpc1NWRyA9IGlzU1ZHIHx8IChmbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICBpZiAoZG9tLm5vZGVUeXBlICE9PSAxIHx8IGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IHZOb2RlLnR5cGUpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gaHlkcmF0aW9uOiBTZXJ2ZXItc2lkZSBtYXJrdXAgZG9lc25cXCd0IG1hdGNoIGNsaWVudC1zaWRlIG1hcmt1cCBvciBJbml0aWFsIHJlbmRlciB0YXJnZXQgaXMgbm90IGVtcHR5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuZXdEb20gPSBtb3VudGluZ18xLm1vdW50RWxlbWVudCh2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gbmV3RG9tO1xyXG4gICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKGRvbS5wYXJlbnROb2RlLCBuZXdEb20sIGRvbSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld0RvbTtcclxuICAgIH1cclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIGh5ZHJhdGVDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIHZhciBoYXNDb250cm9sbGVkVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGb3JtRWxlbWVudCA9IChmbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoUHJvcChwcm9wLCBudWxsLCBwcm9wc1twcm9wXSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnRfMS5wcm9jZXNzRWxlbWVudChmbGFncywgdk5vZGUsIGRvbSwgcHJvcHMsIHRydWUsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgcmVmLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlQ2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgbm9ybWFsaXplQ2hpbGROb2RlcyhwYXJlbnREb20pO1xyXG4gICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoY2hpbGQpICYmIGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20gPSBoeWRyYXRlKGNoaWxkLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudChjaGlsZCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoZG9tICYmIGRvbS5ub2RlVHlwZSA9PT0gMykge1xyXG4gICAgICAgICAgICBpZiAoZG9tLm5vZGVWYWx1ZSAhPT0gY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGRvbS5ub2RlVmFsdWUgPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBwYXJlbnREb20udGV4dENvbnRlbnQgPSBjaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICBoeWRyYXRlKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgIH1cclxuICAgIC8vIGNsZWFyIGFueSBvdGhlciBET00gbm9kZXMsIHRoZXJlIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGVudHJ5IGZvciB0aGUgcm9vdFxyXG4gICAgd2hpbGUgKGRvbSkge1xyXG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IGRvbS5uZXh0U2libGluZztcclxuICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICBkb20gPSBuZXh0U2libGluZztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlVGV4dCh2Tm9kZSwgZG9tKSB7XHJcbiAgICBpZiAoZG9tLm5vZGVUeXBlICE9PSAzKSB7XHJcbiAgICAgICAgdmFyIG5ld0RvbSA9IG1vdW50aW5nXzEubW91bnRUZXh0KHZOb2RlLCBudWxsKTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBuZXdEb207XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlQ2hpbGQoZG9tLnBhcmVudE5vZGUsIG5ld0RvbSwgZG9tKTtcclxuICAgICAgICByZXR1cm4gbmV3RG9tO1xyXG4gICAgfVxyXG4gICAgdmFyIHRleHQgPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmIChkb20ubm9kZVZhbHVlICE9PSB0ZXh0KSB7XHJcbiAgICAgICAgZG9tLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbiAgICB9XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVWb2lkKHZOb2RlLCBkb20pIHtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZSh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlQ29tcG9uZW50KHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlRWxlbWVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVUZXh0KHZOb2RlLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICByZXR1cm4gaHlkcmF0ZVZvaWQodk5vZGUsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJoeWRyYXRlKCkgZXhwZWN0cyBhIHZhbGlkIFZOb2RlLCBpbnN0ZWFkIGl0IHJlY2VpdmVkIGFuIG9iamVjdCB3aXRoIHRoZSB0eXBlIFxcXCJcIiArIHR5cGVvZiB2Tm9kZSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tKSkge1xyXG4gICAgICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgdXRpbHNfMS5FTVBUWV9PQkosIGZhbHNlKTtcclxuICAgICAgICAgICAgZG9tID0gcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIGFueSBvdGhlciBET00gbm9kZXMsIHRoZXJlIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGVudHJ5IGZvciB0aGUgcm9vdFxyXG4gICAgICAgICAgICB3aGlsZSAoZG9tID0gZG9tLm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZXhwb3J0cy5oeWRyYXRlUm9vdCA9IGh5ZHJhdGVSb290O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS9oeWRyYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcclxuZnVuY3Rpb24gaXNDaGVja2VkVHlwZSh0eXBlKSB7XHJcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nO1xyXG59XHJcbmV4cG9ydHMuaXNDaGVja2VkVHlwZSA9IGlzQ2hlY2tlZFR5cGU7XHJcbmZ1bmN0aW9uIG9uVGV4dElucHV0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uSW5wdXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmlucHV0KSB7XHJcbiAgICAgICAgcHJvcHMub25pbnB1dChlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1Byb3BzLCBkb20pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHdyYXBwZWRPbkNoYW5nZShlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGV2ZW50ID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICBpZiAoZXZlbnQuZXZlbnQpIHtcclxuICAgICAgICBldmVudC5ldmVudChldmVudC5kYXRhLCBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV2ZW50KGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uQ2hlY2tib3hDaGFuZ2UoZSkge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gVGhpcyBjbGljayBzaG91bGQgbm90IHByb3BhZ2F0ZSBpdHMgZm9yIGludGVybmFsIHVzZVxyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25DbGljaykge1xyXG4gICAgICAgIHZhciBldmVudF8yID0gcHJvcHMub25DbGljaztcclxuICAgICAgICBpZiAoZXZlbnRfMi5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8yLmV2ZW50KGV2ZW50XzIuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2xpY2spIHtcclxuICAgICAgICBwcm9wcy5vbmNsaWNrKGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3UHJvcHMsIGRvbSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc0lucHV0KHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBpZiAoaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmNsaWNrID0gb25DaGVja2JveENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICAgICAgZG9tLm9uY2xpY2sud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dCA9IG9uVGV4dElucHV0Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dC53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5leHRQcm9wc09yRW1wdHkub25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlID0gd3JhcHBlZE9uQ2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2Uud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0lucHV0ID0gcHJvY2Vzc0lucHV0O1xyXG5mdW5jdGlvbiBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSkge1xyXG4gICAgdmFyIHR5cGUgPSBuZXh0UHJvcHNPckVtcHR5LnR5cGU7XHJcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LnZhbHVlO1xyXG4gICAgdmFyIGNoZWNrZWQgPSBuZXh0UHJvcHNPckVtcHR5LmNoZWNrZWQ7XHJcbiAgICB2YXIgbXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IG5leHRQcm9wc09yRW1wdHkuZGVmYXVsdFZhbHVlO1xyXG4gICAgdmFyIGhhc1ZhbHVlID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSk7XHJcbiAgICBpZiAodHlwZSAmJiB0eXBlICE9PSBkb20udHlwZSkge1xyXG4gICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGlmIChtdWx0aXBsZSAmJiBtdWx0aXBsZSAhPT0gZG9tLm11bHRpcGxlKSB7XHJcbiAgICAgICAgZG9tLm11bHRpcGxlID0gbXVsdGlwbGU7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0VmFsdWUpICYmICFoYXNWYWx1ZSkge1xyXG4gICAgICAgIGRvbS5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWUgKyAnJztcclxuICAgIH1cclxuICAgIGlmIChpc0NoZWNrZWRUeXBlKHR5cGUpKSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvbS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGVja2VkKSkge1xyXG4gICAgICAgICAgICBkb20uY2hlY2tlZCA9IGNoZWNrZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlICYmIGRvbS52YWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hlY2tlZCkpIHtcclxuICAgICAgICAgICAgZG9tLmNoZWNrZWQgPSBjaGVja2VkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9JbnB1dFdyYXBwZXIuanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vY29yZS9WTm9kZXNcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xyXG5mdW5jdGlvbiB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgaWYgKHR5cGUgPT09ICdvcHRncm91cCcpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb24oY2hpbGRyZW4sIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbih2Tm9kZSwgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUNoaWxkT3B0aW9uKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgLy8gd2UgZG8gdGhpcyBhcyBtdWx0aXBsZSBtYXkgaGF2ZSBjaGFuZ2VkXHJcbiAgICBkb20udmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmICgoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5pbmRleE9mKHByb3BzLnZhbHVlKSAhPT0gLTEpIHx8IHByb3BzLnZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKSB8fCAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLnNlbGVjdGVkKSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uU2VsZWN0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzEgPSBwcm9wcy5vbkNoYW5nZTtcclxuICAgICAgICBpZiAoZXZlbnRfMS5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8xLmV2ZW50KGV2ZW50XzEuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8xKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2hhbmdlKSB7XHJcbiAgICAgICAgcHJvcHMub25jaGFuZ2UoZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdWTm9kZSwgZG9tLCBuZXdQcm9wcywgZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NTZWxlY3Qodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZyk7XHJcbiAgICBpZiAobW91bnRpbmcgJiYgaXNDb250cm9sbGVkKSB7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlID0gb25TZWxlY3RDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlLndyYXBwZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc1NlbGVjdCA9IHByb2Nlc3NTZWxlY3Q7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcpIHtcclxuICAgIGlmIChuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlICE9PSBkb20ubXVsdGlwbGUpIHtcclxuICAgICAgICBkb20ubXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkudmFsdWU7XHJcbiAgICAgICAgaWYgKG1vdW50aW5nICYmIGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb25Hcm91cChjaGlsZHJlbiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9TZWxlY3RXcmFwcGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XHJcbmZ1bmN0aW9uIHdyYXBwZWRPbkNoYW5nZShlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGV2ZW50ID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICBpZiAoZXZlbnQuZXZlbnQpIHtcclxuICAgICAgICBldmVudC5ldmVudChldmVudC5kYXRhLCBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV2ZW50KGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uVGV4dGFyZWFJbnB1dENoYW5nZShlKSB7XHJcbiAgICB2YXIgdk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uSW5wdXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmlucHV0KSB7XHJcbiAgICAgICAgcHJvcHMub25pbnB1dChlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1ZOb2RlLCB2Tm9kZS5kb20sIGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzVGV4dGFyZWEodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZShuZXh0UHJvcHNPckVtcHR5LCBkb20sIG1vdW50aW5nKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBkb20ub25pbnB1dCA9IG9uVGV4dGFyZWFJbnB1dENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICBkb20ub25pbnB1dC53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAobmV4dFByb3BzT3JFbXB0eS5vbkNoYW5nZSkge1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2UgPSB3cmFwcGVkT25DaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIGRvbS5vbmNoYW5nZS53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wcm9jZXNzVGV4dGFyZWEgPSBwcm9jZXNzVGV4dGFyZWE7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tLCBtb3VudGluZykge1xyXG4gICAgdmFyIHZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS52YWx1ZTtcclxuICAgIHZhciBkb21WYWx1ZSA9IGRvbS52YWx1ZTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodmFsdWUpKSB7XHJcbiAgICAgICAgaWYgKG1vdW50aW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoZGVmYXVsdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gZG9tVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20udmFsdWUgPSBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZG9tVmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qIFRoZXJlIGlzIHZhbHVlIHNvIGtlZXAgaXQgY29udHJvbGxlZCAqL1xyXG4gICAgICAgIGlmIChkb21WYWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYXBwbHlWYWx1ZSA9IGFwcGx5VmFsdWU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3dyYXBwZXJzL1RleHRhcmVhV3JhcHBlci5qc1xuLy8gbW9kdWxlIGlkID0gNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbmV4cG9ydHMuTk9fT1AgPSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QO1xyXG52YXIgbm9ybWFsaXphdGlvbl8xID0gcmVxdWlyZShcIi4vY29yZS9ub3JtYWxpemF0aW9uXCIpO1xyXG5leHBvcnRzLmdldEZsYWdzRm9yRWxlbWVudFZub2RlID0gbm9ybWFsaXphdGlvbl8xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlO1xyXG5leHBvcnRzLmludGVybmFsX25vcm1hbGl6ZSA9IG5vcm1hbGl6YXRpb25fMS5ub3JtYWxpemU7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi9jb3JlL29wdGlvbnNcIik7XHJcbmV4cG9ydHMub3B0aW9ucyA9IG9wdGlvbnNfMS5vcHRpb25zO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi9jb3JlL1ZOb2Rlc1wiKTtcclxuZXhwb3J0cy5jbG9uZVZOb2RlID0gVk5vZGVzXzEuY2xvbmVWTm9kZTtcclxuZXhwb3J0cy5jcmVhdGVWTm9kZSA9IFZOb2Rlc18xLmNyZWF0ZVZOb2RlO1xyXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9ET00vY29uc3RhbnRzXCIpO1xyXG5leHBvcnRzLmludGVybmFsX2lzVW5pdGxlc3NOdW1iZXIgPSBjb25zdGFudHNfMS5pc1VuaXRsZXNzTnVtYmVyO1xyXG52YXIgbGlua0V2ZW50XzEgPSByZXF1aXJlKFwiLi9ET00vZXZlbnRzL2xpbmtFdmVudFwiKTtcclxuZXhwb3J0cy5saW5rRXZlbnQgPSBsaW5rRXZlbnRfMS5saW5rRXZlbnQ7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vRE9NL3BhdGNoaW5nXCIpO1xyXG5leHBvcnRzLmludGVybmFsX3BhdGNoID0gcGF0Y2hpbmdfMS5wYXRjaDtcclxudmFyIHJlbmRlcmluZ18xID0gcmVxdWlyZShcIi4vRE9NL3JlbmRlcmluZ1wiKTtcclxuZXhwb3J0cy5pbnRlcm5hbF9ET01Ob2RlTWFwID0gcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwO1xyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gcmVuZGVyaW5nXzEuY3JlYXRlUmVuZGVyZXI7XHJcbmV4cG9ydHMuZmluZERPTU5vZGUgPSByZW5kZXJpbmdfMS5maW5kRE9NTm9kZTtcclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXJpbmdfMS5yZW5kZXI7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vRE9NL3V0aWxzXCIpO1xyXG5leHBvcnRzLkVNUFRZX09CSiA9IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5ICovXHJcbiAgICB2YXIgdGVzdEZ1bmMgPSBmdW5jdGlvbiB0ZXN0Rm4oKSB7IH07XHJcbiAgICBpZiAoKHRlc3RGdW5jLm5hbWUgfHwgdGVzdEZ1bmMudG9TdHJpbmcoKSkuaW5kZXhPZigndGVzdEZuJykgPT09IC0xKSB7XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCgnSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhIG1pbmlmaWVkIGNvcHkgb2YgdGhlIGRldmVsb3BtZW50IGJ1aWxkICcgK1xyXG4gICAgICAgICAgICAnb2YgSW5mZXJuby4gV2hlbiBkZXBsb3lpbmcgSW5mZXJubyBhcHBzIHRvIHByb2R1Y3Rpb24sIG1ha2Ugc3VyZSB0byB1c2UgJyArXHJcbiAgICAgICAgICAgICd0aGUgcHJvZHVjdGlvbiBidWlsZCB3aGljaCBza2lwcyBkZXZlbG9wbWVudCB3YXJuaW5ncyBhbmQgaXMgZmFzdGVyLiAnICtcclxuICAgICAgICAgICAgJ1NlZSBodHRwOi8vaW5mZXJub2pzLm9yZyBmb3IgbW9yZSBkZXRhaWxzLicpKTtcclxuICAgIH1cclxufVxyXG52YXIgdmVyc2lvbiA9ICczLjEuMCc7XHJcbmV4cG9ydHMudmVyc2lvbiA9IHZlcnNpb247XHJcbi8vIHdlIGR1cGxpY2F0ZSBpdCBzbyBpdCBwbGF5cyBuaWNlbHkgd2l0aCBkaWZmZXJlbnQgbW9kdWxlIGxvYWRpbmcgc3lzdGVtc1xyXG5leHBvcnRzLmRlZmF1bHQgPSB7XHJcbiAgICBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTogbm9ybWFsaXphdGlvbl8xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlLFxyXG4gICAgbGlua0V2ZW50OiBsaW5rRXZlbnRfMS5saW5rRXZlbnQsXHJcbiAgICAvLyBjb3JlIHNoYXBlc1xyXG4gICAgY3JlYXRlVk5vZGU6IFZOb2Rlc18xLmNyZWF0ZVZOb2RlLFxyXG4gICAgLy8gY2xvbmluZ1xyXG4gICAgY2xvbmVWTm9kZTogVk5vZGVzXzEuY2xvbmVWTm9kZSxcclxuICAgIC8vIHVzZWQgdG8gc2hhcmVkIGNvbW1vbiBpdGVtcyBiZXR3ZWVuIEluZmVybm8gbGlic1xyXG4gICAgTk9fT1A6IGluZmVybm9fc2hhcmVkXzEuTk9fT1AsXHJcbiAgICBFTVBUWV9PQko6IHV0aWxzXzEuRU1QVFlfT0JKLFxyXG4gICAgLy8gRE9NXHJcbiAgICByZW5kZXI6IHJlbmRlcmluZ18xLnJlbmRlcixcclxuICAgIGZpbmRET01Ob2RlOiByZW5kZXJpbmdfMS5maW5kRE9NTm9kZSxcclxuICAgIGNyZWF0ZVJlbmRlcmVyOiByZW5kZXJpbmdfMS5jcmVhdGVSZW5kZXJlcixcclxuICAgIG9wdGlvbnM6IG9wdGlvbnNfMS5vcHRpb25zLFxyXG4gICAgdmVyc2lvbjogdmVyc2lvbixcclxuICAgIGludGVybmFsX3BhdGNoOiBwYXRjaGluZ18xLnBhdGNoLFxyXG4gICAgaW50ZXJuYWxfRE9NTm9kZU1hcDogcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLFxyXG4gICAgaW50ZXJuYWxfaXNVbml0bGVzc051bWJlcjogY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlcixcclxuICAgIGludGVybmFsX25vcm1hbGl6ZTogbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZVxyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ludmFyaWFudC9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaXNhcnJheS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHBhdGhUb1JlZ0V4cCA9IHJlcXVpcmUoJ3BhdGgtdG8tcmVnZXhwJylcclxuXHJcbi8qKlxyXG4gKiBFeHBvc2UgYHBhdGhUb1JlZ2V4cGAgYXMgRVM2IG1vZHVsZVxyXG4gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdFeHA7XHJcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGF0aFRvUmVnRXhwLnBhcnNlXHJcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBwYXRoVG9SZWdFeHAuY29tcGlsZVxyXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gcGF0aFRvUmVnRXhwLnRva2Vuc1RvRnVuY3Rpb25cclxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSBwYXRoVG9SZWdFeHAudG9rZW5zVG9SZWdFeHBcclxubW9kdWxlLmV4cG9ydHNbJ2RlZmF1bHQnXSA9IG1vZHVsZS5leHBvcnRzO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcGF0aC10by1yZWdleHAtZXM2L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgaXNhcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG4vKipcbiAqIEV4cG9zZSBgcGF0aFRvUmVnZXhwYC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdleHBcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGFyc2Vcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gdG9rZW5zVG9GdW5jdGlvblxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSB0b2tlbnNUb1JlZ0V4cFxuXG4vKipcbiAqIFRoZSBtYWluIHBhdGggbWF0Y2hpbmcgcmVnZXhwIHV0aWxpdHkuXG4gKlxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIFBBVEhfUkVHRVhQID0gbmV3IFJlZ0V4cChbXG4gIC8vIE1hdGNoIGVzY2FwZWQgY2hhcmFjdGVycyB0aGF0IHdvdWxkIG90aGVyd2lzZSBhcHBlYXIgaW4gZnV0dXJlIG1hdGNoZXMuXG4gIC8vIFRoaXMgYWxsb3dzIHRoZSB1c2VyIHRvIGVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgdGhhdCB3b24ndCB0cmFuc2Zvcm0uXG4gICcoXFxcXFxcXFwuKScsXG4gIC8vIE1hdGNoIEV4cHJlc3Mtc3R5bGUgcGFyYW1ldGVycyBhbmQgdW4tbmFtZWQgcGFyYW1ldGVycyB3aXRoIGEgcHJlZml4XG4gIC8vIGFuZCBvcHRpb25hbCBzdWZmaXhlcy4gTWF0Y2hlcyBhcHBlYXIgYXM6XG4gIC8vXG4gIC8vIFwiLzp0ZXN0KFxcXFxkKyk/XCIgPT4gW1wiL1wiLCBcInRlc3RcIiwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgXCI/XCIsIHVuZGVmaW5lZF1cbiAgLy8gXCIvcm91dGUoXFxcXGQrKVwiICA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAvLyBcIi8qXCIgICAgICAgICAgICA9PiBbXCIvXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCIqXCJdXG4gICcoW1xcXFwvLl0pPyg/Oig/OlxcXFw6KFxcXFx3KykoPzpcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKT98XFxcXCgoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKV0pKylcXFxcKSkoWysqP10pP3woXFxcXCopKSdcbl0uam9pbignfCcpLCAnZycpXG5cbi8qKlxuICogUGFyc2UgYSBzdHJpbmcgZm9yIHRoZSByYXcgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHN0clxuICogQHBhcmFtICB7T2JqZWN0PX0gb3B0aW9uc1xuICogQHJldHVybiB7IUFycmF5fVxuICovXG5mdW5jdGlvbiBwYXJzZSAoc3RyLCBvcHRpb25zKSB7XG4gIHZhciB0b2tlbnMgPSBbXVxuICB2YXIga2V5ID0gMFxuICB2YXIgaW5kZXggPSAwXG4gIHZhciBwYXRoID0gJydcbiAgdmFyIGRlZmF1bHREZWxpbWl0ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJ1xuICB2YXIgcmVzXG5cbiAgd2hpbGUgKChyZXMgPSBQQVRIX1JFR0VYUC5leGVjKHN0cikpICE9IG51bGwpIHtcbiAgICB2YXIgbSA9IHJlc1swXVxuICAgIHZhciBlc2NhcGVkID0gcmVzWzFdXG4gICAgdmFyIG9mZnNldCA9IHJlcy5pbmRleFxuICAgIHBhdGggKz0gc3RyLnNsaWNlKGluZGV4LCBvZmZzZXQpXG4gICAgaW5kZXggPSBvZmZzZXQgKyBtLmxlbmd0aFxuXG4gICAgLy8gSWdub3JlIGFscmVhZHkgZXNjYXBlZCBzZXF1ZW5jZXMuXG4gICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgIHBhdGggKz0gZXNjYXBlZFsxXVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICB2YXIgbmV4dCA9IHN0cltpbmRleF1cbiAgICB2YXIgcHJlZml4ID0gcmVzWzJdXG4gICAgdmFyIG5hbWUgPSByZXNbM11cbiAgICB2YXIgY2FwdHVyZSA9IHJlc1s0XVxuICAgIHZhciBncm91cCA9IHJlc1s1XVxuICAgIHZhciBtb2RpZmllciA9IHJlc1s2XVxuICAgIHZhciBhc3RlcmlzayA9IHJlc1s3XVxuXG4gICAgLy8gUHVzaCB0aGUgY3VycmVudCBwYXRoIG9udG8gdGhlIHRva2Vucy5cbiAgICBpZiAocGF0aCkge1xuICAgICAgdG9rZW5zLnB1c2gocGF0aClcbiAgICAgIHBhdGggPSAnJ1xuICAgIH1cblxuICAgIHZhciBwYXJ0aWFsID0gcHJlZml4ICE9IG51bGwgJiYgbmV4dCAhPSBudWxsICYmIG5leHQgIT09IHByZWZpeFxuICAgIHZhciByZXBlYXQgPSBtb2RpZmllciA9PT0gJysnIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgb3B0aW9uYWwgPSBtb2RpZmllciA9PT0gJz8nIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgZGVsaW1pdGVyID0gcmVzWzJdIHx8IGRlZmF1bHREZWxpbWl0ZXJcbiAgICB2YXIgcGF0dGVybiA9IGNhcHR1cmUgfHwgZ3JvdXBcblxuICAgIHRva2Vucy5wdXNoKHtcbiAgICAgIG5hbWU6IG5hbWUgfHwga2V5KyssXG4gICAgICBwcmVmaXg6IHByZWZpeCB8fCAnJyxcbiAgICAgIGRlbGltaXRlcjogZGVsaW1pdGVyLFxuICAgICAgb3B0aW9uYWw6IG9wdGlvbmFsLFxuICAgICAgcmVwZWF0OiByZXBlYXQsXG4gICAgICBwYXJ0aWFsOiBwYXJ0aWFsLFxuICAgICAgYXN0ZXJpc2s6ICEhYXN0ZXJpc2ssXG4gICAgICBwYXR0ZXJuOiBwYXR0ZXJuID8gZXNjYXBlR3JvdXAocGF0dGVybikgOiAoYXN0ZXJpc2sgPyAnLionIDogJ1teJyArIGVzY2FwZVN0cmluZyhkZWxpbWl0ZXIpICsgJ10rPycpXG4gICAgfSlcbiAgfVxuXG4gIC8vIE1hdGNoIGFueSBjaGFyYWN0ZXJzIHN0aWxsIHJlbWFpbmluZy5cbiAgaWYgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIHBhdGggKz0gc3RyLnN1YnN0cihpbmRleClcbiAgfVxuXG4gIC8vIElmIHRoZSBwYXRoIGV4aXN0cywgcHVzaCBpdCBvbnRvIHRoZSBlbmQuXG4gIGlmIChwYXRoKSB7XG4gICAgdG9rZW5zLnB1c2gocGF0aClcbiAgfVxuXG4gIHJldHVybiB0b2tlbnNcbn1cblxuLyoqXG4gKiBDb21waWxlIGEgc3RyaW5nIHRvIGEgdGVtcGxhdGUgZnVuY3Rpb24gZm9yIHRoZSBwYXRoLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgc3RyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFmdW5jdGlvbihPYmplY3Q9LCBPYmplY3Q9KX1cbiAqL1xuZnVuY3Rpb24gY29tcGlsZSAoc3RyLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb0Z1bmN0aW9uKHBhcnNlKHN0ciwgb3B0aW9ucykpXG59XG5cbi8qKlxuICogUHJldHRpZXIgZW5jb2Rpbmcgb2YgVVJJIHBhdGggc2VnbWVudHMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvW1xcLz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFbmNvZGUgdGhlIGFzdGVyaXNrIHBhcmFtZXRlci4gU2ltaWxhciB0byBgcHJldHR5YCwgYnV0IGFsbG93cyBzbGFzaGVzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlQXN0ZXJpc2sgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBtZXRob2QgZm9yIHRyYW5zZm9ybWluZyB0b2tlbnMgaW50byB0aGUgcGF0aCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9GdW5jdGlvbiAodG9rZW5zKSB7XG4gIC8vIENvbXBpbGUgYWxsIHRoZSB0b2tlbnMgaW50byByZWdleHBzLlxuICB2YXIgbWF0Y2hlcyA9IG5ldyBBcnJheSh0b2tlbnMubGVuZ3RoKVxuXG4gIC8vIENvbXBpbGUgYWxsIHRoZSBwYXR0ZXJucyBiZWZvcmUgY29tcGlsYXRpb24uXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbnNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICBtYXRjaGVzW2ldID0gbmV3IFJlZ0V4cCgnXig/OicgKyB0b2tlbnNbaV0ucGF0dGVybiArICcpJCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIG9wdHMpIHtcbiAgICB2YXIgcGF0aCA9ICcnXG4gICAgdmFyIGRhdGEgPSBvYmogfHwge31cbiAgICB2YXIgb3B0aW9ucyA9IG9wdHMgfHwge31cbiAgICB2YXIgZW5jb2RlID0gb3B0aW9ucy5wcmV0dHkgPyBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgOiBlbmNvZGVVUklDb21wb25lbnRcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV1cblxuICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGF0aCArPSB0b2tlblxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSA9IGRhdGFbdG9rZW4ubmFtZV1cbiAgICAgIHZhciBzZWdtZW50XG5cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICAgIC8vIFByZXBlbmQgcGFydGlhbCBzZWdtZW50IHByZWZpeGVzLlxuICAgICAgICAgIGlmICh0b2tlbi5wYXJ0aWFsKSB7XG4gICAgICAgICAgICBwYXRoICs9IHRva2VuLnByZWZpeFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBiZSBkZWZpbmVkJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNhcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKCF0b2tlbi5yZXBlYXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCByZXBlYXQsIGJ1dCByZWNlaXZlZCBgJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICdgJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbm90IGJlIGVtcHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgc2VnbWVudCA9IGVuY29kZSh2YWx1ZVtqXSlcblxuICAgICAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhbGwgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeShzZWdtZW50KSArICdgJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXRoICs9IChqID09PSAwID8gdG9rZW4ucHJlZml4IDogdG9rZW4uZGVsaW1pdGVyKSArIHNlZ21lbnRcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHNlZ21lbnQgPSB0b2tlbi5hc3RlcmlzayA/IGVuY29kZUFzdGVyaXNrKHZhbHVlKSA6IGVuY29kZSh2YWx1ZSlcblxuICAgICAgaWYgKCFtYXRjaGVzW2ldLnRlc3Qoc2VnbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgXCInICsgc2VnbWVudCArICdcIicpXG4gICAgICB9XG5cbiAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4ICsgc2VnbWVudFxuICAgIH1cblxuICAgIHJldHVybiBwYXRoXG4gIH1cbn1cblxuLyoqXG4gKiBFc2NhcGUgYSByZWd1bGFyIGV4cHJlc3Npb24gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyAoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKyo/PV4hOiR7fSgpW1xcXXxcXC9cXFxcXSkvZywgJ1xcXFwkMScpXG59XG5cbi8qKlxuICogRXNjYXBlIHRoZSBjYXB0dXJpbmcgZ3JvdXAgYnkgZXNjYXBpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzIGFuZCBtZWFuaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gZ3JvdXBcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZXNjYXBlR3JvdXAgKGdyb3VwKSB7XG4gIHJldHVybiBncm91cC5yZXBsYWNlKC8oWz0hOiRcXC8oKV0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEF0dGFjaCB0aGUga2V5cyBhcyBhIHByb3BlcnR5IG9mIHRoZSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IVJlZ0V4cH0gcmVcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEtleXMgKHJlLCBrZXlzKSB7XG4gIHJlLmtleXMgPSBrZXlzXG4gIHJldHVybiByZVxufVxuXG4vKipcbiAqIEdldCB0aGUgZmxhZ3MgZm9yIGEgcmVnZXhwIGZyb20gdGhlIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGZsYWdzIChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLnNlbnNpdGl2ZSA/ICcnIDogJ2knXG59XG5cbi8qKlxuICogUHVsbCBvdXQga2V5cyBmcm9tIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHJlZ2V4cFRvUmVnZXhwIChwYXRoLCBrZXlzKSB7XG4gIC8vIFVzZSBhIG5lZ2F0aXZlIGxvb2thaGVhZCB0byBtYXRjaCBvbmx5IGNhcHR1cmluZyBncm91cHMuXG4gIHZhciBncm91cHMgPSBwYXRoLnNvdXJjZS5tYXRjaCgvXFwoKD8hXFw/KS9nKVxuXG4gIGlmIChncm91cHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgbmFtZTogaSxcbiAgICAgICAgcHJlZml4OiBudWxsLFxuICAgICAgICBkZWxpbWl0ZXI6IG51bGwsXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcbiAgICAgICAgcGFydGlhbDogZmFsc2UsXG4gICAgICAgIGFzdGVyaXNrOiBmYWxzZSxcbiAgICAgICAgcGF0dGVybjogbnVsbFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhwYXRoLCBrZXlzKVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhbiBhcnJheSBpbnRvIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gIHBhdGhcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnRzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBwYXJ0cy5wdXNoKHBhdGhUb1JlZ2V4cChwYXRoW2ldLCBrZXlzLCBvcHRpb25zKS5zb3VyY2UpXG4gIH1cblxuICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnKD86JyArIHBhcnRzLmpvaW4oJ3wnKSArICcpJywgZmxhZ3Mob3B0aW9ucykpXG5cbiAgcmV0dXJuIGF0dGFjaEtleXMocmVnZXhwLCBrZXlzKVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIHBhdGggcmVnZXhwIGZyb20gc3RyaW5nIGlucHV0LlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ1RvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb1JlZ0V4cChwYXJzZShwYXRoLCBvcHRpb25zKSwga2V5cywgb3B0aW9ucylcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBmdW5jdGlvbiBmb3IgdGFraW5nIHRva2VucyBhbmQgcmV0dXJuaW5nIGEgUmVnRXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gICAgICAgICAgdG9rZW5zXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19IGtleXNcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9SZWdFeHAgKHRva2Vucywga2V5cywgb3B0aW9ucykge1xuICBpZiAoIWlzYXJyYXkoa2V5cykpIHtcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxuICAgIGtleXMgPSBbXVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICB2YXIgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3RcbiAgdmFyIGVuZCA9IG9wdGlvbnMuZW5kICE9PSBmYWxzZVxuICB2YXIgcm91dGUgPSAnJ1xuXG4gIC8vIEl0ZXJhdGUgb3ZlciB0aGUgdG9rZW5zIGFuZCBjcmVhdGUgb3VyIHJlZ2V4cCBzdHJpbmcuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgcm91dGUgKz0gZXNjYXBlU3RyaW5nKHRva2VuKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJlZml4ID0gZXNjYXBlU3RyaW5nKHRva2VuLnByZWZpeClcbiAgICAgIHZhciBjYXB0dXJlID0gJyg/OicgKyB0b2tlbi5wYXR0ZXJuICsgJyknXG5cbiAgICAgIGtleXMucHVzaCh0b2tlbilcblxuICAgICAgaWYgKHRva2VuLnJlcGVhdCkge1xuICAgICAgICBjYXB0dXJlICs9ICcoPzonICsgcHJlZml4ICsgY2FwdHVyZSArICcpKidcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgIGlmICghdG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgIGNhcHR1cmUgPSAnKD86JyArIHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKSk/J1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyk/J1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpJ1xuICAgICAgfVxuXG4gICAgICByb3V0ZSArPSBjYXB0dXJlXG4gICAgfVxuICB9XG5cbiAgdmFyIGRlbGltaXRlciA9IGVzY2FwZVN0cmluZyhvcHRpb25zLmRlbGltaXRlciB8fCAnLycpXG4gIHZhciBlbmRzV2l0aERlbGltaXRlciA9IHJvdXRlLnNsaWNlKC1kZWxpbWl0ZXIubGVuZ3RoKSA9PT0gZGVsaW1pdGVyXG5cbiAgLy8gSW4gbm9uLXN0cmljdCBtb2RlIHdlIGFsbG93IGEgc2xhc2ggYXQgdGhlIGVuZCBvZiBtYXRjaC4gSWYgdGhlIHBhdGggdG9cbiAgLy8gbWF0Y2ggYWxyZWFkeSBlbmRzIHdpdGggYSBzbGFzaCwgd2UgcmVtb3ZlIGl0IGZvciBjb25zaXN0ZW5jeS4gVGhlIHNsYXNoXG4gIC8vIGlzIHZhbGlkIGF0IHRoZSBlbmQgb2YgYSBwYXRoIG1hdGNoLCBub3QgaW4gdGhlIG1pZGRsZS4gVGhpcyBpcyBpbXBvcnRhbnRcbiAgLy8gaW4gbm9uLWVuZGluZyBtb2RlLCB3aGVyZSBcIi90ZXN0L1wiIHNob3VsZG4ndCBtYXRjaCBcIi90ZXN0Ly9yb3V0ZVwiLlxuICBpZiAoIXN0cmljdCkge1xuICAgIHJvdXRlID0gKGVuZHNXaXRoRGVsaW1pdGVyID8gcm91dGUuc2xpY2UoMCwgLWRlbGltaXRlci5sZW5ndGgpIDogcm91dGUpICsgJyg/OicgKyBkZWxpbWl0ZXIgKyAnKD89JCkpPydcbiAgfVxuXG4gIGlmIChlbmQpIHtcbiAgICByb3V0ZSArPSAnJCdcbiAgfSBlbHNlIHtcbiAgICAvLyBJbiBub24tZW5kaW5nIG1vZGUsIHdlIG5lZWQgdGhlIGNhcHR1cmluZyBncm91cHMgdG8gbWF0Y2ggYXMgbXVjaCBhc1xuICAgIC8vIHBvc3NpYmxlIGJ5IHVzaW5nIGEgcG9zaXRpdmUgbG9va2FoZWFkIHRvIHRoZSBlbmQgb3IgbmV4dCBwYXRoIHNlZ21lbnQuXG4gICAgcm91dGUgKz0gc3RyaWN0ICYmIGVuZHNXaXRoRGVsaW1pdGVyID8gJycgOiAnKD89JyArIGRlbGltaXRlciArICd8JCknXG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhuZXcgUmVnRXhwKCdeJyArIHJvdXRlLCBmbGFncyhvcHRpb25zKSksIGtleXMpXG59XG5cbi8qKlxuICogTm9ybWFsaXplIHRoZSBnaXZlbiBwYXRoIHN0cmluZywgcmV0dXJuaW5nIGEgcmVndWxhciBleHByZXNzaW9uLlxuICpcbiAqIEFuIGVtcHR5IGFycmF5IGNhbiBiZSBwYXNzZWQgaW4gZm9yIHRoZSBrZXlzLCB3aGljaCB3aWxsIGhvbGQgdGhlXG4gKiBwbGFjZWhvbGRlciBrZXkgZGVzY3JpcHRpb25zLiBGb3IgZXhhbXBsZSwgdXNpbmcgYC91c2VyLzppZGAsIGBrZXlzYCB3aWxsXG4gKiBjb250YWluIGBbeyBuYW1lOiAnaWQnLCBkZWxpbWl0ZXI6ICcvJywgb3B0aW9uYWw6IGZhbHNlLCByZXBlYXQ6IGZhbHNlIH1dYC5cbiAqXG4gKiBAcGFyYW0gIHsoc3RyaW5nfFJlZ0V4cHxBcnJheSl9IHBhdGhcbiAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpPX0gICAgICAga2V5c1xuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBwYXRoVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XG4gICAgb3B0aW9ucyA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGtleXMgfHwgb3B0aW9ucylcbiAgICBrZXlzID0gW11cbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgaWYgKHBhdGggaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gcmVnZXhwVG9SZWdleHAocGF0aCwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSlcbiAgfVxuXG4gIGlmIChpc2FycmF5KHBhdGgpKSB7XG4gICAgcmV0dXJuIGFycmF5VG9SZWdleHAoLyoqIEB0eXBlIHshQXJyYXl9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdUb1JlZ2V4cCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3BhdGgtdG8tcmVnZXhwL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc0Fic29sdXRlID0gZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xuICByZXR1cm4gcGF0aG5hbWUuY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKClcbnZhciBzcGxpY2VPbmUgPSBmdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4LCBrID0gaSArIDEsIG4gPSBsaXN0Lmxlbmd0aDsgayA8IG47IGkgKz0gMSwgayArPSAxKSB7XG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIH1saXN0LnBvcCgpO1xufTtcblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBoZWF2aWx5IG9uIG5vZGUncyB1cmwucGFyc2VcbnZhciByZXNvbHZlUGF0aG5hbWUgPSBmdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUodG8pIHtcbiAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IGZyb20gJiYgZnJvbS5zcGxpdCgnLycpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSB2b2lkIDA7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkge1xuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpO1xuICB9aWYgKG11c3RFbmRBYnMgJiYgZnJvbVBhcnRzWzBdICE9PSAnJyAmJiAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKSkgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzb2x2ZVBhdGhuYW1lO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZXNvbHZlLXBhdGhuYW1lL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIHZhbHVlRXF1YWwgPSBmdW5jdGlvbiB2YWx1ZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHJldHVybiBBcnJheS5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHJldHVybiB2YWx1ZUVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgfSk7XG5cbiAgdmFyIGFUeXBlID0gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGEpO1xuICB2YXIgYlR5cGUgPSB0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYik7XG5cbiAgaWYgKGFUeXBlICE9PSBiVHlwZSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChhVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgYVZhbHVlID0gYS52YWx1ZU9mKCk7XG4gICAgdmFyIGJWYWx1ZSA9IGIudmFsdWVPZigpO1xuXG4gICAgaWYgKGFWYWx1ZSAhPT0gYSB8fCBiVmFsdWUgIT09IGIpIHJldHVybiB2YWx1ZUVxdWFsKGFWYWx1ZSwgYlZhbHVlKTtcblxuICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuXG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gYUtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHZhbHVlRXF1YWwoYVtrZXldLCBiW2tleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gdmFsdWVFcXVhbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdmFsdWUtZXF1YWwvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=