!function(e){function n(e){delete installedChunks[e]}function t(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.src=h.p+""+e+"."+w+".hot-update.js",n.appendChild(t)}function r(){return new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var t=new XMLHttpRequest,r=h.p+""+w+".hot-update.json";t.open("GET",r,!0),t.timeout=1e4,t.send(null)}catch(e){return n(e)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)n(new Error("Manifest request to "+r+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)n(new Error("Manifest request to "+r+" failed."));else{try{var o=JSON.parse(t.responseText)}catch(e){return void n(e)}e(o)}}})}function o(e){var n=U[e];if(!n)return h;var t=function(t){return n.hot.active?(U[t]?U[t].parents.indexOf(e)<0&&U[t].parents.push(e):(y=[e],v=t),n.children.indexOf(t)<0&&n.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),y=[]),h(t)};for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&"e"!==r&&Object.defineProperty(t,r,function(e){return{configurable:!0,enumerable:!0,get:function(){return h[e]},set:function(n){h[e]=n}}}(r));return t.e=function(e){function n(){z--,"prepare"===O&&(C[e]||u(e),0===z&&0===_&&c())}return"ready"===O&&i("prepare"),z++,h.e(e).then(n,function(e){throw n(),e})},t}function a(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:v!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:d,apply:p,status:function(e){if(!e)return O;V.push(e)},addStatusHandler:function(e){V.push(e)},removeStatusHandler:function(e){var n=V.indexOf(e);n>=0&&V.splice(n,1)},data:N[e]};return v=void 0,n}function i(e){O=e;for(var n=0;n<V.length;n++)V[n].call(null,e)}function l(e){return+e+""===e?+e:e}function d(e){if("idle"!==O)throw new Error("check() is only allowed in idle status");return k=e,i("check"),r().then(function(e){if(!e)return i("idle"),null;x={},C={},E=e.c,b=e.h,i("prepare");var n=new Promise(function(e,n){g={resolve:e,reject:n}});m={};return u(0),"prepare"===O&&0===z&&0===_&&c(),n})}function s(e,n){if(E[e]&&x[e]){x[e]=!1;for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(m[t]=n[t]);0==--_&&0===z&&c()}}function u(e){E[e]?(x[e]=!0,_++,t(e)):C[e]=!0}function c(){i("ready");var e=g;if(g=null,e)if(k)p(k).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&n.push(l(t));e.resolve(n)}}function p(t){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];e.indexOf(r)<0&&e.push(r)}}if("ready"!==O)throw new Error("apply() is only allowed in ready status");t=t||{};var o,a,d,s,u,c={},p=[],f={},v=function(){console.warn("[HMR] unexpected require("+k.moduleId+") to disposed module")};for(var g in m)if(Object.prototype.hasOwnProperty.call(m,g)){u=l(g);var k;k=m[g]?function(e){for(var n=[e],t={},o=n.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var a=o.pop(),i=a.id,l=a.chain;if((s=U[i])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:l,moduleId:i};for(var d=0;d<s.parents.length;d++){var u=s.parents[d],c=U[u];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:l.concat([u]),moduleId:i,parentId:u};n.indexOf(u)>=0||(c.hot._acceptedDependencies[i]?(t[u]||(t[u]=[]),r(t[u],[i])):(delete t[u],n.push(u),o.push({chain:l.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}(u):{type:"disposed",moduleId:g};var j=!1,V=!1,_=!1,z="";switch(k.chain&&(z="\nUpdate propagation: "+k.chain.join(" -> ")),k.type){case"self-declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(j=new Error("Aborted because of self decline: "+k.moduleId+z));break;case"declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+k.moduleId+" in "+k.parentId+z));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(k),t.ignoreUnaccepted||(j=new Error("Aborted because "+u+" is not accepted"+z));break;case"accepted":t.onAccepted&&t.onAccepted(k),V=!0;break;case"disposed":t.onDisposed&&t.onDisposed(k),_=!0;break;default:throw new Error("Unexception type "+k.type)}if(j)return i("abort"),Promise.reject(j);if(V){f[u]=m[u],r(p,k.outdatedModules);for(u in k.outdatedDependencies)Object.prototype.hasOwnProperty.call(k.outdatedDependencies,u)&&(c[u]||(c[u]=[]),r(c[u],k.outdatedDependencies[u]))}_&&(r(p,[k.moduleId]),f[u]=v)}var C=[];for(a=0;a<p.length;a++)u=p[a],U[u]&&U[u].hot._selfAccepted&&C.push({module:u,errorHandler:U[u].hot._selfAccepted});i("dispose"),Object.keys(E).forEach(function(e){!1===E[e]&&n(e)});for(var x,P=p.slice();P.length>0;)if(u=P.pop(),s=U[u]){var R={},M=s.hot._disposeHandlers;for(d=0;d<M.length;d++)(o=M[d])(R);for(N[u]=R,s.hot.active=!1,delete U[u],d=0;d<s.children.length;d++){var S=U[s.children[d]];S&&((x=S.parents.indexOf(u))>=0&&S.parents.splice(x,1))}}var D,A;for(u in c)if(Object.prototype.hasOwnProperty.call(c,u)&&(s=U[u]))for(A=c[u],d=0;d<A.length;d++)D=A[d],(x=s.children.indexOf(D))>=0&&s.children.splice(x,1);i("apply"),w=b;for(u in f)Object.prototype.hasOwnProperty.call(f,u)&&(e[u]=f[u]);var T=null;for(u in c)if(Object.prototype.hasOwnProperty.call(c,u)){s=U[u],A=c[u];var I=[];for(a=0;a<A.length;a++)D=A[a],o=s.hot._acceptedDependencies[D],I.indexOf(o)>=0||I.push(o);for(a=0;a<I.length;a++){o=I[a];try{o(A)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:A[a],error:e}),t.ignoreErrored||T||(T=e)}}}for(a=0;a<C.length;a++){var H=C[a];u=H.module,y=[u];try{h(u)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,orginalError:e}),t.ignoreErrored||T||(T=n),T||(T=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||T||(T=e)}}return T?(i("fail"),Promise.reject(T)):(i("idle"),Promise.resolve(p))}function h(n){if(U[n])return U[n].exports;var t=U[n]={i:n,l:!1,exports:{},hot:a(n),parents:(j=y,y=[],j),children:[]};return e[n].call(t.exports,t,t.exports,o(n)),t.l=!0,t.exports}var f=this.webpackHotUpdate;this.webpackHotUpdate=function(e,n){s(e,n),f&&f(e,n)};var v,g,m,b,k=!0,w="3c30aa55a80d63bed2b8",N={},y=[],j=[],V=[],O="idle",_=0,z=0,C={},x={},E={},U={};h.m=e,h.c=U,h.i=function(e){return e},h.d=function(e,n,t){h.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},h.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(n,"a",n),n},h.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},h.p="",h.h=function(){return w},o(31)(h.s=31)}([function(e,n,t){e.exports=t(43),e.exports.default=e.exports},function(e,n,t){e.exports=t(50).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,t,r,o,a,i){b.isUndefined(o)&&(o=n.EMPTY_OBJ);var l=new t(r,o);e.children=l,l._blockSetState=!1,l.context=o,l.props===n.EMPTY_OBJ&&(l.props=r),l._lifecycle=i,l._unmounted=!1,l._pendingSetState=!0,l._isSVG=a,b.isUndefined(l.componentWillMount)||(l._blockRender=!0,l.componentWillMount(),l._blockRender=!1);var d;b.isUndefined(l.getChildContext)||(d=l.getChildContext()),b.isNullOrUndef(d)?l._childContext=o:l._childContext=b.combineFrom(o,d),b.isNull(k.options.beforeRender)||k.options.beforeRender(l);var s=l.render(r,l.state,o);return b.isNull(k.options.afterRender)||k.options.afterRender(l),b.isArray(s)?b.throwError():b.isInvalid(s)?s=w.createVoidVNode():b.isStringOrNumber(s)?s=w.createTextVNode(s,null):(s.dom&&(s=w.directClone(s)),28&s.flags&&(s.parentVNode=e)),l._pendingSetState=!1,l._lastInput=s,l}function o(e,n,t,r,o,i,l){a(t,y.mount(n,null,r,o,i),e,r,l)}function a(e,n,t,r,o){j.unmount(t,null,r,!1,o),h(e,n,t.dom)}function i(e,n,t,r){var o=n(t,r);return b.isArray(o)?b.throwError():b.isInvalid(o)?o=w.createVoidVNode():b.isStringOrNumber(o)?o=w.createTextVNode(o,null):(o.dom&&(o=w.directClone(o)),28&o.flags&&(o.parentVNode=e)),o}function l(e,n){""!==n?e.textContent=n:e.appendChild(document.createTextNode(""))}function d(e,n){e.firstChild.nodeValue=n}function s(e,n){e.appendChild(n)}function u(e,n,t){b.isNullOrUndef(t)?s(e,n):e.insertBefore(n,t)}function c(e,n){return!0===n?document.createElementNS(N.svgNS,e):document.createElement(e)}function p(e,n,t,r,o,a,i){j.unmount(e,null,r,!1,i);var l=y.mount(n,null,r,o,a);n.dom=l,h(t,l,e.dom)}function h(e,n,t){e||(e=t.parentNode),e.replaceChild(n,t)}function f(e,n){e.removeChild(n)}function v(e,n,t,r){e.textContent="",(!k.options.recyclingEnabled||k.options.recyclingEnabled&&!r)&&g(null,n,t,r)}function g(e,n,t,r){for(var o=0,a=n.length;o<a;o++){var i=n[o];b.isInvalid(i)||j.unmount(i,e,t,!0,r)}}function m(e,n){return n.length>0&&!b.isNullOrUndef(n[0])&&!b.isNullOrUndef(n[0].key)&&e.length>0&&!b.isNullOrUndef(e[0])&&!b.isNullOrUndef(e[0].key)}Object.defineProperty(n,"__esModule",{value:!0});var b=t(0),k=t(3),w=t(4),N=t(8),y=t(9),j=t(11);n.EMPTY_OBJ={},n.createClassComponentInstance=r,n.replaceLastChildAndUnmount=o,n.replaceVNode=a,n.createFunctionalComponentInput=i,n.setTextContent=l,n.updateTextContent=d,n.appendChild=s,n.insertOrAppend=u,n.documentCreateElement=c,n.replaceWithNewNode=p,n.replaceChild=h,n.removeChild=f,n.removeAllChildren=v,n.removeChildren=g,n.isKeyed=m},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.options={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]}},function(e,n,t){"use strict";function r(e,n,t,r,o,a,i){this.children=e,this.className=n,this.dom=null,this.flags=t,this.key=r,this.props=o,this.ref=a,this.type=i}function o(e,n,t,o,a,i,l,d){16&e&&(e=u.isStatefulComponent(n)?4:8);var s=new r(void 0===o?null:o,void 0===t?null:t,e,void 0===i?null:i,void 0===a?null:a,void 0===l?null:l,n);return!0!==d&&p.normalize(s),null!==h.options.createVNode&&h.options.createVNode(s),s}function a(e){var n,t=e.flags;if(28&t){var r=void 0,i=e.props;if(u.isNull(i))r=c.EMPTY_OBJ;else{r={};for(var l in i)r[l]=i[l]}n=o(t,e.type,null,null,r,e.key,e.ref,!0);var p=n.props,h=p.children;if(h)if(u.isArray(h)){var f=h.length;if(f>0){for(var v=[],g=0;g<f;g++){var m=h[g];u.isStringOrNumber(m)?v.push(m):!u.isInvalid(m)&&s(m)&&v.push(a(m))}p.children=v}}else s(h)&&(p.children=a(h));n.children=null}else if(3970&t){var b=e.children,r=void 0,i=e.props;if(null===i)r=c.EMPTY_OBJ;else{r={};for(var l in i)r[l]=i[l]}n=o(t,e.type,e.className,b,r,e.key,e.ref,!b)}else 1&t&&(n=d(e.children,e.key));return n}function i(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=t,l=t.length;l>0&&!u.isUndefined(t[0])&&(n||(n={}),1===l&&(i=t[0]),u.isUndefined(i)||(n.children=i));var p;if(u.isArray(e)){for(var h=[],f=0,v=e.length;f<v;f++)h.push(a(e[f]));p=h}else{var g=e.flags,m=e.className||n&&n.className,b=u.isNullOrUndef(e.key)?n?n.key:null:e.key,k=e.ref||(n?n.ref:null);if(28&g){p=o(g,e.type,m,null,e.props||n?u.combineFrom(e.props,n):c.EMPTY_OBJ,b,k,!0);var w=p.props;if(w){var N=w.children;if(N)if(u.isArray(N)){var v=N.length;if(v>0){for(var h=[],f=0;f<v;f++){var y=N[f];u.isStringOrNumber(y)?h.push(y):!u.isInvalid(y)&&s(y)&&h.push(a(y))}w.children=h}}else s(N)&&(w.children=a(N))}p.children=null}else 3970&g?(i=n&&!u.isUndefined(n.children)?n.children:e.children,p=o(g,e.type,m,i,e.props||n?u.combineFrom(e.props,n):c.EMPTY_OBJ,b,k,!i)):1&g&&(p=d(e.children,b))}return p}function l(){return o(4096,null)}function d(e,n){return o(1,null,null,e,null,n)}function s(e){return!!e.flags}Object.defineProperty(n,"__esModule",{value:!0});var u=t(0),c=t(2),p=t(20),h=t(3);n.createVNode=o,n.directClone=a,n.cloneVNode=i,n.createVoidVNode=l,n.createTextVNode=d,n.isVNode=s},function(e,n,t){"use strict";function r(e,n,t,r,o,i,u){if(e!==n){var c=e.flags,p=n.flags;28&p?28&c?l(e,n,t,r,o,i,4&p,u):_.replaceVNode(t,j.mountComponent(n,null,r,o,i,(4&p)>0),e,r,u):3970&p?3970&c?a(e,n,t,r,o,i,u):_.replaceVNode(t,j.mountElement(n,null,r,o,i),e,r,u):1&p?1&c?d(e,n):_.replaceVNode(t,j.mountText(n,null),e,r,u):4096&p?4096&c?s(e,n):_.replaceVNode(t,j.mountVoid(n,null),e,r,u):_.replaceLastChildAndUnmount(e,n,t,r,o,i,u)}}function o(e,n,t,r){w.isVNode(e)?O.unmount(e,n,t,!0,r):b.isArray(e)?_.removeAllChildren(n,e,t,r):n.textContent=""}function a(e,n,t,r,o,a,l){var d=n.type;if(e.type!==d)_.replaceWithNewNode(e,n,t,r,o,a,l);else{var s=e.dom,u=e.props,c=n.props,p=e.children,h=n.children,v=e.flags,g=n.flags,k=n.ref,w=e.className,N=n.className;if(n.dom=s,a=a||(128&g)>0,p!==h&&i(v,g,p,h,s,r,o,a,l),u!==c){var y=u||_.EMPTY_OBJ,V=c||_.EMPTY_OBJ,O=!1;if(V!==_.EMPTY_OBJ){var C=(3584&g)>0;C&&(O=z.isControlledFormElement(V));for(var x in V){var E=V[x];f(x,y[x],E,s,a,O)}C&&z.processElement(g,n,s,V,!1,O)}if(y!==_.EMPTY_OBJ)for(var x in y)b.isNullOrUndef(V[x])&&m(x,y[x],s)}w!==N&&(b.isNullOrUndef(N)?s.removeAttribute("class"):a?s.setAttribute("class",N):s.className=N),k&&(e.ref!==k||l)&&j.mountRef(s,k,r)}}function i(e,n,t,a,i,l,d,s,p){var h=!1,f=!1;64&n?h=!0:(32&e)>0&&(32&n)>0?(f=!0,h=!0):b.isInvalid(a)?o(t,i,l,p):b.isInvalid(t)?b.isStringOrNumber(a)?_.setTextContent(i,a):b.isArray(a)?j.mountArrayChildren(a,i,l,d,s):j.mount(a,i,l,d,s):b.isStringOrNumber(a)?b.isStringOrNumber(t)?_.updateTextContent(i,a):(o(t,i,l,p),_.setTextContent(i,a)):b.isArray(a)?b.isArray(t)?(h=!0,_.isKeyed(t,a)&&(f=!0)):(o(t,i,l,p),j.mountArrayChildren(a,i,l,d,s)):b.isArray(t)?(_.removeAllChildren(i,t,l,p),j.mount(a,i,l,d,s)):w.isVNode(a)&&(w.isVNode(t)?r(t,a,i,l,d,s,p):(o(t,i,l,p),j.mount(a,i,l,d,s))),h&&(f?c(t,a,i,l,d,s,p):u(t,a,i,l,d,s,p))}function l(e,n,t,o,a,i,l,d){var s=e.type,u=n.type,c=e.key,p=n.key;if(s!==u||c!==p)return _.replaceWithNewNode(e,n,t,o,a,i,d),!1;var h=n.props||_.EMPTY_OBJ;if(l){var f=e.children;if(f._updating=!0,f._unmounted){if(b.isNull(t))return!0;_.replaceChild(t,j.mountComponent(n,null,o,a,i,(4&n.flags)>0),e.dom)}else{var v=!b.isUndefined(f.componentDidUpdate),g=f.state,m=v?b.combineFrom(g,null):g,N=f.props,y=void 0;b.isUndefined(f.getChildContext)||(y=f.getChildContext()),n.children=f,f._isSVG=i,y=b.isNullOrUndef(y)?a:b.combineFrom(a,y);var O=f._lastInput,z=f._updateComponent(m,g,N,h,a,!1,!1),C=!0;f._childContext=y,b.isInvalid(z)?z=w.createVoidVNode():z===b.NO_OP?(z=O,C=!1):b.isStringOrNumber(z)?z=w.createTextVNode(z,null):b.isArray(z)?b.throwError():b.isObject(z)&&(b.isNull(z.dom)||(z=w.directClone(z))),28&z.flags?z.parentVNode=n:28&O.flags&&(O.parentVNode=n),f._lastInput=z,f._vNode=n,C&&(r(O,z,t,o,y,i,d),v&&f.componentDidUpdate(N,m),b.isNull(k.options.afterUpdate)||k.options.afterUpdate(n),k.options.findDOMNodeEnabled&&V.componentToDOMNodeMap.set(f,z.dom)),n.dom=z.dom}f._updating=!1}else{var x=!0,N=e.props,E=n.ref,U=!b.isNullOrUndef(E),O=e.children,z=O;n.dom=e.dom,n.children=O,c!==p?x=!0:U&&!b.isNullOrUndef(E.onComponentShouldUpdate)&&(x=E.onComponentShouldUpdate(N,h)),!1!==x&&(U&&!b.isNullOrUndef(E.onComponentWillUpdate)&&E.onComponentWillUpdate(N,h),z=u(h,a),b.isInvalid(z)?z=w.createVoidVNode():b.isStringOrNumber(z)&&z!==b.NO_OP?z=w.createTextVNode(z,null):b.isArray(z)?b.throwError():b.isObject(z)&&(b.isNull(z.dom)||(z=w.directClone(z))),z!==b.NO_OP&&(r(O,z,t,o,a,i,d),n.children=z,U&&!b.isNullOrUndef(E.onComponentDidUpdate)&&E.onComponentDidUpdate(N,h),n.dom=z.dom)),28&z.flags?z.parentVNode=n:28&O.flags&&(O.parentVNode=n)}return!1}function d(e,n){var t=n.children,r=e.dom;n.dom=r,e.children!==t&&(r.nodeValue=t)}function s(e,n){n.dom=e.dom}function u(e,n,t,o,a,i,l){for(var d=e.length,s=n.length,u=d>s?s:d,c=0;c<u;c++){var p=n[c];p.dom&&(p=n[c]=w.directClone(p)),r(e[c],p,t,o,a,i,l)}if(d<s)for(c=u;c<s;c++){var p=n[c];p.dom&&(p=n[c]=w.directClone(p)),_.appendChild(t,j.mount(p,null,o,a,i))}else if(0===s)_.removeAllChildren(t,e,o,l);else if(d>s)for(c=u;c<d;c++)O.unmount(e[c],t,o,!1,l)}function c(e,n,t,o,a,i,l){var d,s,u,c,h,f,v,g=e.length,m=n.length,k=g-1,N=m-1,y=0,V=0;if(0===g)return void(m>0&&j.mountArrayChildren(n,t,o,a,i));if(0===m)return void _.removeAllChildren(t,e,o,l);var z=e[y],C=n[V],x=e[k],E=n[N];C.dom&&(n[V]=C=w.directClone(C)),E.dom&&(n[N]=E=w.directClone(E));e:for(;;){for(;z.key===C.key;){if(r(z,C,t,o,a,i,l),y++,V++,y>k||V>N)break e;z=e[y],C=n[V],C.dom&&(n[V]=C=w.directClone(C))}for(;x.key===E.key;){if(r(x,E,t,o,a,i,l),k--,N--,y>k||V>N)break e;x=e[k],E=n[N],E.dom&&(n[N]=E=w.directClone(E))}if(x.key!==C.key){if(z.key!==E.key)break;r(z,E,t,o,a,i,l),f=N+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,E.dom,h),y++,N--,z=e[y],E=n[N],E.dom&&(n[N]=E=w.directClone(E))}else r(x,C,t,o,a,i,l),_.insertOrAppend(t,C.dom,z.dom),k--,V++,x=e[k],C=n[V],C.dom&&(n[V]=C=w.directClone(C))}if(y>k){if(V<=N)for(f=N+1,h=f<n.length?n[f].dom:null;V<=N;)v=n[V],v.dom&&(n[V]=v=w.directClone(v)),V++,_.insertOrAppend(t,j.mount(v,null,o,a,i),h)}else if(V>N)for(;y<=k;)O.unmount(e[y++],t,o,!1,l);else{g=k-y+1,m=N-V+1;var U=new Array(m);for(d=0;d<m;d++)U[d]=-1;var P=!1,R=0,M=0;if(m<=4||g*m<=16){for(d=y;d<=k;d++)if(u=e[d],M<m)for(s=V;s<=N;s++)if(c=n[s],u.key===c.key){U[s-V]=d,R>s?P=!0:R=s,c.dom&&(n[s]=c=w.directClone(c)),r(u,c,t,o,a,i,l),M++,e[d]=null;break}}else{var S=new Map;for(d=V;d<=N;d++)S.set(n[d].key,d);for(d=y;d<=k;d++)u=e[d],M<m&&(s=S.get(u.key),b.isUndefined(s)||(c=n[s],U[s-V]=d,R>s?P=!0:R=s,c.dom&&(n[s]=c=w.directClone(c)),r(u,c,t,o,a,i,l),M++,e[d]=null))}if(g===e.length&&0===M)for(_.removeAllChildren(t,e,o,l);V<m;)v=n[V],v.dom&&(n[V]=v=w.directClone(v)),V++,_.insertOrAppend(t,j.mount(v,null,o,a,i),null);else{for(d=g-M;d>0;)u=e[y++],b.isNull(u)||(O.unmount(u,t,o,!0,l),d--);if(P){var D=p(U);for(s=D.length-1,d=m-1;d>=0;d--)-1===U[d]?(R=d+V,v=n[R],v.dom&&(n[R]=v=w.directClone(v)),f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,j.mount(v,t,o,a,i),h)):s<0||d!==D[s]?(R=d+V,v=n[R],f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,v.dom,h)):s--}else if(M!==m)for(d=m-1;d>=0;d--)-1===U[d]&&(R=d+V,v=n[R],v.dom&&(n[R]=v=w.directClone(v)),f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,j.mount(v,null,o,a,i),h))}}}function p(e){var n,t,r,o,a,i=e.slice(0),l=[0],d=e.length;for(n=0;n<d;n++){var s=e[n];if(-1!==s)if(t=l[l.length-1],e[t]<s)i[n]=t,l.push(n);else{for(r=0,o=l.length-1;r<o;)a=(r+o)/2|0,e[l[a]]<s?r=a+1:o=a;s<e[l[r]]&&(r>0&&(i[n]=l[r-1]),l[r]=n)}}for(r=l.length,o=l[r-1];r-- >0;)l[r]=o,o=i[o];return l}function h(e){return"o"===e[0]&&"n"===e[1]}function f(e,n,t,r,o,a){if(n!==t){if(N.skipProps.has(e)||a&&"value"===e)return;if(N.booleanProps.has(e))e="autoFocus"===e?e.toLowerCase():e,r[e]=!!t;else if(N.strictProps.has(e)){var i=b.isNullOrUndef(t)?"":t;r[e]!==i&&(r[e]=i)}else if(h(e))v(e,n,t,r);else if(b.isNullOrUndef(t))r.removeAttribute(e);else if("style"===e)g(n,t,r);else if("dangerouslySetInnerHTML"===e){var l=n&&n.__html,d=t&&t.__html;l!==d&&(b.isNullOrUndef(d)||(r.innerHTML=d))}else o&&N.namespaces.has(e)?r.setAttributeNS(N.namespaces.get(e),e,t):r.setAttribute(e,t)}}function v(e,n,t,r){if(n!==t)if(N.delegatedEvents.has(e))y.handleEvent(e,n,t,r);else{var o=e.toLowerCase(),a=r[o];if(a&&a.wrapped)return;if(b.isFunction(t)||b.isNullOrUndef(t))r[o]=t;else{var i=t.event;i&&b.isFunction(i)?r[o]=function(e){i(t.data,e)}:b.throwError()}}}function g(e,n,t){var r=t.style;if(b.isString(n))return void(r.cssText=n);for(var o in n){var a=n[o];!b.isNumber(a)||N.isUnitlessNumber.has(o)?r[o]=a:r[o]=a+"px"}if(!b.isNullOrUndef(e))for(var o in e)b.isNullOrUndef(n[o])&&(r[o]="")}function m(e,n,t){"value"===e?t.value="":"style"===e?t.removeAttribute("style"):h(e)?y.handleEvent(e,n,null,t):t.removeAttribute(e)}Object.defineProperty(n,"__esModule",{value:!0});var b=t(0),k=t(3),w=t(4),N=t(8),y=t(44),j=t(9),V=t(6),O=t(11),_=t(2),z=t(12);n.patch=r,n.patchElement=a,n.patchComponent=l,n.patchText=d,n.patchVoid=s,n.patchNonKeyedChildren=u,n.patchKeyedChildren=c,n.isAttrAnEvent=h,n.patchProp=f,n.patchEvent=v,n.patchStyle=g},function(e,n,t){"use strict";function r(e){u.options.findDOMNodeEnabled||s.throwError();var t=e&&e.nodeType?e:null;return n.componentToDOMNodeMap.get(e)||t}function o(e){for(var n=0,t=m.length;n<t;n++){var r=m[n];if(r.dom===e)return r}return null}function a(e,n,t){var r={dom:e,input:n,lifecycle:t};return m.push(r),r}function i(e){for(var n=0,t=m.length;n<t;n++)if(m[n]===e)return void m.splice(n,1)}function l(e,n){if(b===n&&s.throwError(),e!==s.NO_OP){var t=o(n);if(s.isNull(t)){var r=new s.Lifecycle;s.isInvalid(e)||(e.dom&&(e=c.directClone(e)),p.hydrateRoot(e,n,r)||h.mount(e,n,r,g.EMPTY_OBJ,!1),t=a(n,e,r),r.trigger())}else{var r=t.lifecycle;r.listeners=[],s.isNullOrUndef(e)?(v.unmount(t.input,n,r,!1,!1),i(t)):(e.dom&&(e=c.directClone(e)),f.patch(t.input,e,n,r,g.EMPTY_OBJ,!1,!1)),t.input=e,r.trigger()}if(t){var l=t.input;if(l&&28&l.flags)return l.children}}}function d(e){return function(n,t){e||(e=n),l(t,e)}}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(3),c=t(4),p=t(46),h=t(9),f=t(5),v=t(11),g=t(2);n.componentToDOMNodeMap=new Map;var m=u.options.roots;n.findDOMNode=r;var b=s.isBrowser?document.body:null;n.render=l,n.createRenderer=d},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(10),a=t(14),i=t(0),l=t(18),d=Promise.resolve(),s=function(e){function n(n,t){var r=e.call(this,n,t)||this;return r._onComponentResolved=function(e,n){r.setState({asyncComponent:n})},r.state={asyncComponent:null},r}return r(n,e),n.prototype.componentWillMount=function(){var e=this,n=this.props.onEnter,t=this.context.router;n&&d.then(function(){n({props:e.props,router:t})});var r=this.props.getComponent;r&&d.then(function(){r({props:e.props,router:t},e._onComponentResolved)})},n.prototype.onLeave=function(e){void 0===e&&(e=!1);var n=this.props.onLeave,t=this.context.router;n&&e&&n({props:this.props,router:t})},n.prototype.onEnter=function(e){var n=e.onEnter,t=this.context.router;this.props.path!==e.path&&n&&n({props:e,router:t})},n.prototype.getComponent=function(e){var n=e.getComponent,t=this.context.router;this.props.path!==e.path&&n&&n({props:e,router:t},this._onComponentResolved)},n.prototype.componentWillUnmount=function(){this.onLeave(!0)},n.prototype.componentWillReceiveProps=function(e){this.getComponent(e),this.onEnter(e),this.onLeave(this.props.path!==e.path)},n.prototype.render=function(e){var n=e.component,t=e.children,r=l.rest(e,["component","children","path","getComponent"]),o=this.state.asyncComponent,d=n||o;return d?a.default(d,r,t):i.isArray(t)?null:t},n}(o.default);n.default=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.xlinkNS="http://www.w3.org/1999/xlink",n.xmlNS="http://www.w3.org/XML/1998/namespace",n.svgNS="http://www.w3.org/2000/svg",n.strictProps=new Set,n.strictProps.add("volume"),n.strictProps.add("defaultChecked"),n.booleanProps=new Set,n.booleanProps.add("muted"),n.booleanProps.add("scoped"),n.booleanProps.add("loop"),n.booleanProps.add("open"),n.booleanProps.add("checked"),n.booleanProps.add("default"),n.booleanProps.add("capture"),n.booleanProps.add("disabled"),n.booleanProps.add("readOnly"),n.booleanProps.add("required"),n.booleanProps.add("autoplay"),n.booleanProps.add("controls"),n.booleanProps.add("seamless"),n.booleanProps.add("reversed"),n.booleanProps.add("allowfullscreen"),n.booleanProps.add("novalidate"),n.booleanProps.add("hidden"),n.booleanProps.add("autoFocus"),n.booleanProps.add("selected"),n.namespaces=new Map,n.namespaces.set("xlink:href",n.xlinkNS),n.namespaces.set("xlink:arcrole",n.xlinkNS),n.namespaces.set("xlink:actuate",n.xlinkNS),n.namespaces.set("xlink:show",n.xlinkNS),n.namespaces.set("xlink:role",n.xlinkNS),n.namespaces.set("xlink:title",n.xlinkNS),n.namespaces.set("xlink:type",n.xlinkNS),n.namespaces.set("xml:base",n.xmlNS),n.namespaces.set("xml:lang",n.xmlNS),n.namespaces.set("xml:space",n.xmlNS),n.isUnitlessNumber=new Set,n.isUnitlessNumber.add("animationIterationCount"),n.isUnitlessNumber.add("borderImageOutset"),n.isUnitlessNumber.add("borderImageSlice"),n.isUnitlessNumber.add("borderImageWidth"),n.isUnitlessNumber.add("boxFlex"),n.isUnitlessNumber.add("boxFlexGroup"),n.isUnitlessNumber.add("boxOrdinalGroup"),n.isUnitlessNumber.add("columnCount"),n.isUnitlessNumber.add("flex"),n.isUnitlessNumber.add("flexGrow"),n.isUnitlessNumber.add("flexPositive"),n.isUnitlessNumber.add("flexShrink"),n.isUnitlessNumber.add("flexNegative"),n.isUnitlessNumber.add("flexOrder"),n.isUnitlessNumber.add("gridRow"),n.isUnitlessNumber.add("gridColumn"),n.isUnitlessNumber.add("fontWeight"),n.isUnitlessNumber.add("lineClamp"),n.isUnitlessNumber.add("lineHeight"),n.isUnitlessNumber.add("opacity"),n.isUnitlessNumber.add("order"),n.isUnitlessNumber.add("orphans"),n.isUnitlessNumber.add("tabSize"),n.isUnitlessNumber.add("widows"),n.isUnitlessNumber.add("zIndex"),n.isUnitlessNumber.add("zoom"),n.isUnitlessNumber.add("fillOpacity"),n.isUnitlessNumber.add("floodOpacity"),n.isUnitlessNumber.add("stopOpacity"),n.isUnitlessNumber.add("strokeDasharray"),n.isUnitlessNumber.add("strokeDashoffset"),n.isUnitlessNumber.add("strokeMiterlimit"),n.isUnitlessNumber.add("strokeOpacity"),n.isUnitlessNumber.add("strokeWidth"),n.skipProps=new Set,n.skipProps.add("children"),n.skipProps.add("childrenType"),n.skipProps.add("defaultValue"),n.skipProps.add("ref"),n.skipProps.add("key"),n.skipProps.add("checked"),n.skipProps.add("multiple"),n.delegatedEvents=new Set,n.delegatedEvents.add("onClick"),n.delegatedEvents.add("onMouseDown"),n.delegatedEvents.add("onMouseUp"),n.delegatedEvents.add("onMouseMove"),n.delegatedEvents.add("onSubmit"),n.delegatedEvents.add("onDblClick"),n.delegatedEvents.add("onKeyDown"),n.delegatedEvents.add("onKeyUp"),n.delegatedEvents.add("onKeyPress")},function(e,n,t){"use strict";function r(e,n,t,r,l){var s=e.flags;return 3970&s?i(e,n,t,r,l):28&s?d(e,n,t,r,l,(4&s)>0):4096&s?a(e,n):1&s?o(e,n):void p.throwError()}function o(e,n){var t=document.createTextNode(e.children);return e.dom=t,p.isNull(n)||b.appendChild(n,t),t}function a(e,n){var t=document.createTextNode("");return e.dom=t,p.isNull(n)||b.appendChild(n,t),t}function i(e,n,t,o,a){if(h.options.recyclingEnabled){var i=g.recycleElement(e,t,o,a);if(!p.isNull(i))return p.isNull(n)||b.appendChild(n,i),i}var d=e.flags;a=a||(128&d)>0;var s=b.documentCreateElement(e.type,a),u=e.children,m=e.props,w=e.className,N=e.ref;if(e.dom=s,p.isInvalid(u)||(p.isStringOrNumber(u)?b.setTextContent(s,u):p.isArray(u)?l(u,s,t,o,a):f.isVNode(u)&&r(u,s,t,o,a)),!p.isNull(m)){var y=!1,j=(3584&d)>0;j&&(y=k.isControlledFormElement(m));for(var V in m)v.patchProp(V,null,m[V],s,a,y);j&&k.processElement(d,e,s,m,!0,y)}return null!==w&&(a?s.setAttribute("class",w):s.className=w),p.isNull(N)||c(s,N,t),p.isNull(n)||b.appendChild(n,s),s}function l(e,n,t,o,a){for(var i=0,l=e.length;i<l;i++){var d=e[i];p.isInvalid(d)||(d.dom&&(e[i]=d=f.directClone(d)),r(e[i],n,t,o,a))}}function d(e,n,t,o,a,i){if(h.options.recyclingEnabled){var l=g.recycleComponent(e,t,o,a);if(!p.isNull(l))return p.isNull(n)||b.appendChild(n,l),l}var d,c=e.type,f=e.props||b.EMPTY_OBJ,v=e.ref;if(i){var k=b.createClassComponentInstance(e,c,f,o,a,t),w=k._lastInput;k._vNode=e,e.dom=d=r(w,null,t,k._childContext,a),p.isNull(n)||b.appendChild(n,d),s(e,v,k,t),k._updating=!1,h.options.findDOMNodeEnabled&&m.componentToDOMNodeMap.set(k,d)}else{var w=b.createFunctionalComponentInput(e,c,f,o);e.dom=d=r(w,null,t,o,a),e.children=w,u(v,d,t),p.isNull(n)||b.appendChild(n,d)}return d}function s(e,n,t,r){n&&(p.isFunction(n)?n(t):p.throwError());var o=!p.isUndefined(t.componentDidMount),a=h.options.afterMount;!o&&p.isNull(a)||r.addListener(function(){t._updating=!0,a&&a(e),o&&t.componentDidMount(),t._updating=!1})}function u(e,n,t){e&&(p.isNullOrUndef(e.onComponentWillMount)||e.onComponentWillMount(),p.isNullOrUndef(e.onComponentDidMount)||t.addListener(function(){return e.onComponentDidMount(n)}))}function c(e,n,t){if(p.isFunction(n))t.addListener(function(){return n(e)});else{if(p.isInvalid(n))return;p.throwError()}}Object.defineProperty(n,"__esModule",{value:!0});var p=t(0),h=t(3),f=t(4),v=t(5),g=t(19),m=t(6),b=t(2),k=t(12);n.mount=r,n.mountText=o,n.mountVoid=a,n.mountElement=i,n.mountArrayChildren=l,n.mountComponent=d,n.mountClassComponentCallbacks=s,n.mountFunctionalComponentCallbacks=u,n.mountRef=c},function(e,n,t){e.exports=t(35).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,n,t,r,l){var d=e.flags;28&d?a(e,n,t,r,l):3970&d?i(e,n,t,r,l):4097&d&&o(e,n)}function o(e,n){s.isNull(n)||f.removeChild(n,e.dom)}function a(e,n,t,o,a){var i=e.children,l=e.flags,d=4&l,c=e.ref,v=e.dom;if(a||(d?i._unmounted||(i._blockSetState=!0,s.isNull(u.options.beforeUnmount)||u.options.beforeUnmount(e),s.isUndefined(i.componentWillUnmount)||i.componentWillUnmount(),c&&!a&&c(null),i._unmounted=!0,u.options.findDOMNodeEnabled&&h.componentToDOMNodeMap.delete(i),r(i._lastInput,null,i._lifecycle,!1,a)):(s.isNullOrUndef(c)||s.isNullOrUndef(c.onComponentWillUnmount)||c.onComponentWillUnmount(v),r(i,null,t,!1,a))),n){var g=i._lastInput;s.isNullOrUndef(g)&&(g=i),f.removeChild(n,v)}u.options.recyclingEnabled&&!d&&(n||o)&&p.poolComponent(e)}function i(e,n,t,r,o){var a=e.dom,i=e.ref,h=e.props;i&&!o&&d(i);var v=e.children;if(s.isNullOrUndef(v)||l(v,t,o),!s.isNull(h))for(var g in h)null!==h[g]&&c.isAttrAnEvent(g)&&(c.patchEvent(g,h[g],null,a),h[g]=null);s.isNull(n)||f.removeChild(n,a),u.options.recyclingEnabled&&(n||r)&&p.poolElement(e)}function l(e,n,t){if(s.isArray(e))for(var o=0,a=e.length;o<a;o++){var i=e[o];!s.isInvalid(i)&&s.isObject(i)&&r(i,null,n,!1,t)}else s.isObject(e)&&r(e,null,n,!1,t)}function d(e){if(s.isFunction(e))e(null);else{if(s.isInvalid(e))return;s.throwError()}}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(3),c=t(5),p=t(19),h=t(6),f=t(2);n.unmount=r,n.unmountComponent=a,n.unmountElement=i},function(e,n,t){"use strict";function r(e,n,t,r,o,a){512&e&&i.processInput(n,t,r,o,a),2048&e&&l.processSelect(n,t,r,o,a),1024&e&&d.processTextarea(n,t,r,o,a)}function o(e){return e.type&&i.isCheckedType(e.type)?!a.isNullOrUndef(e.checked):!a.isNullOrUndef(e.value)}Object.defineProperty(n,"__esModule",{value:!0});var a=t(0),i=t(47),l=t(48),d=t(49);n.processElement=r,n.isControlledFormElement=o},function(e,n,t){"use strict";n.__esModule=!0;n.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},n.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},n.stripPrefix=function(e,n){return 0===e.indexOf(n)?e.substr(n.length):e},n.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},n.parsePath=function(e){var n=e||"/",t="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var a=n.indexOf("?");return-1!==a&&(t=n.substr(a),n=n.substr(0,a)),n=decodeURI(n),{pathname:n,search:"?"===t?"":t,hash:"#"===r?"":r}},n.createPath=function(e){var n=e.pathname,t=e.search,r=e.hash,o=encodeURI(n||"/");return t&&"?"!==t&&(o+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,n,t){e.exports=t(36).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,n,t){return i.createVNode(2,"a",e,n,t)}function o(e,n){var t,o=n.router,i=e.activeClassName,d=e.activeStyle,s=e.className,u=e.onClick,c=e.children,p=e.to,h=a(e,["activeClassName","activeStyle","className","onClick","children","to"]);return s&&(t=s),o?(h.href=l.isBrowser?o.createHref({pathname:p}):o.location.baseUrl?o.location.baseUrl+p:p,o.location.pathname===p&&(i&&(t=(s?s+" ":"")+i),d&&(h.style=l.combineFrom(e.style,d))),h.onclick=function(e){0!==e.button||e.ctrlKey||e.altKey||e.metaKey||e.shiftKey||(e.preventDefault(),"function"==typeof u&&u(e),o.push(p,e.target.textContent))},r(t,c,h)):(h.href=p,h.onClick=u,r(t,c,h))}var a=this&&this.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&(t[r[o]]=e[r[o]]);return t};Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),l=t(0);n.default=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(10),a=function(e){function n(n,t){return e.call(this,n,t)||this}return r(n,e),n.prototype.getChildContext=function(){return{router:this.props.router||{location:{baseUrl:this.props.baseUrl,pathname:this.props.location}}}},n.prototype.render=function(e){return e.matched},n}(o.default);n.default=a},function(e,n,t){"use strict";function r(e,n){var t=s.getURLString(n);return o(l.toArray(e),encodeURI(t),"/")}function o(e,n,t,r){void 0===n&&(n="/"),void 0===t&&(t="/"),void 0===r&&(r=!1);var d=l.isArray(e)?s.flatten(e):l.toArray(e),u=n.split("?"),c=u[0],p=void 0===c?"/":c,h=u[1],f=void 0===h?"":h,v=s.mapSearchParams(f);d.sort(s.pathRankSort);for(var g=0,m=d.length;g<m;g++){var b=d[g],k=b.props||s.emptyObject,w=k.from||k.path||"/",N=t+s.toPartialURL(w,t).replace(/\/\//g,"/"),y=s.isEmpty(k.children),j=a(y,N,p);if(j){var V=k.children;if(k.from&&(r=k.to),V){var O=o(V,n,N,r);if(O){if(O.redirect)return{location:N,redirect:O.redirect};V=O.matched;var _=V.props.params;for(var z in _)v[z]=_[z]}else V=null}return{location:N,redirect:r,matched:i.default.cloneVNode(b,{params:l.combineFrom(v,j.params),children:V})}}}}function a(e,n,t){var r=n+"|"+e,o=u.get(r);if(void 0===o){var a=[];o={pattern:d.default(n,a,{end:e}),keys:a},u.set(r,o)}var i=o.pattern.exec(t);if(!i)return null;for(var l=i[0],c=Object.create(null),p=1,h=i.length;p<h;p+=1)c[o.keys[p-1].name]=s.decode(i[p]);return{path:""===l?"/":l,params:c}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),l=t(0),d=t(53),s=t(18),u=new Map;n.default=r,n.matchPath=a},function(e,n,t){"use strict";function r(e){return"string"!=typeof e?e:decodeURIComponent(e)}function o(e){return!e||!(v.isArray(e)?e:Object.keys(e)).length}function a(e){var n=[];return f(e,n),n}function i(e){return v.isString(e)?e:e.pathname+e.search}function l(e){if(""===e)return{};for(var n=Object.create(null),t=e.split("&"),r=0,o=t.length;r<o;r++){var a=t[r],i=a.split("=").map(c).map(decodeURIComponent),l=i[0],d=i[1];n[l]?(n[l]=v.isArray(n[l])?n[l]:[n[l]],n[l].push(d)):n[l]=d}return n}function d(e,n){return 0===e.indexOf(n)?e.substr(n.length):e}function s(e,n){var t={};for(var r in e)n.indexOf(r)<0&&(t[r]=e[r]);return t}function u(e,t){var r=e.props||n.emptyObject,o=t.props||n.emptyObject;return h(o.path)-h(r.path)||(o.path&&r.path?o.path.length-r.path.length:0)}function c(e,n){return decodeURIComponent(0|n?e:e.replace("[]",""))}function p(e){return e.replace(/(^\/+|\/+$)/g,"")}function h(e){return void 0===e&&(e=""),(p(e).match(/\/+/g)||"").length}function f(e,n){for(var t=0,r=e.length;t<r;t++){var o=e[t];v.isArray(o)?f(o,n):n.push(o)}}Object.defineProperty(n,"__esModule",{value:!0});var v=t(0);n.emptyObject={},n.decode=r,n.isEmpty=o,n.flatten=a,n.getURLString=i,n.mapSearchParams=l,n.toPartialURL=d,n.rest=s,n.pathRankSort=u},function(e,n,t){"use strict";function r(e,n,t,r){var o=e.type,a=u.get(o);if(!l.isUndefined(a)){var i=e.key,s=null===i?a.nonKeyed:a.keyed.get(i);if(!l.isUndefined(s)){var c=s.pop();if(!l.isUndefined(c))return d.patchElement(c,e,null,n,t,r,!0),e.dom}}return null}function o(e){var n=e.type,t=e.key,r=u.get(n);if(l.isUndefined(r)&&(r={keyed:new Map,nonKeyed:[]},u.set(n,r)),l.isNull(t))r.nonKeyed.push(e);else{var o=r.keyed.get(t);l.isUndefined(o)&&(o=[],r.keyed.set(t,o)),o.push(e)}}function a(e,n,t,r){var o=e.type,a=s.get(o);if(!l.isUndefined(a)){var i=e.key,u=null===i?a.nonKeyed:a.keyed.get(i);if(!l.isUndefined(u)){var c=u.pop();if(!l.isUndefined(c)){var p=e.flags;if(!d.patchComponent(c,e,null,n,t,r,4&p,!0))return e.dom}}}return null}function i(e){var n=e.ref;if(!n||!(n.onComponentWillMount||n.onComponentWillUnmount||n.onComponentDidMount||n.onComponentWillUpdate||n.onComponentDidUpdate)){var t=e.type,r=e.key,o=s.get(t);if(l.isUndefined(o)&&(o={keyed:new Map,nonKeyed:[]},s.set(t,o)),l.isNull(r))o.nonKeyed.push(e);else{var a=o.keyed.get(r);l.isUndefined(a)&&(a=[],o.keyed.set(r,a)),a.push(e)}}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),d=t(5),s=new Map,u=new Map;n.recycleElement=r,n.poolElement=o,n.recycleComponent=a,n.poolComponent=i},function(e,n,t){"use strict";function r(e,n){return n.key=e,n}function o(e,n){return p.isNumber(e)&&(e="."+e),p.isNull(n.key)||"."===n.key[0]?r(e,n):n}function a(e,n){return n.key=e+n.key,n}function i(e,n,t,o){for(var l=e.length;t<l;t++){var d=e[t],s=o+"."+t;p.isInvalid(d)||(p.isArray(d)?i(d,n,0,s):(p.isStringOrNumber(d)?d=h.createTextVNode(d,null):(h.isVNode(d)&&d.dom||d.key&&"."===d.key[0])&&(d=h.directClone(d)),d=p.isNull(d.key)||"."===d.key[0]?r(s,d):a(o,d),n.push(d)))}}function l(e){var n;!0===e.$?e=e.slice():e.$=!0;for(var t=0,r=e.length;t<r;t++){var a=e[t];if(p.isInvalid(a)||p.isArray(a)){var l=(n||e).slice(0,t);return i(e,l,t,""),l}p.isStringOrNumber(a)?(n||(n=e.slice(0,t)),n.push(o(t,h.createTextVNode(a,null)))):h.isVNode(a)&&null!==a.dom||p.isNull(a.key)&&0==(64&a.flags)?(n||(n=e.slice(0,t)),n.push(o(t,h.directClone(a)))):n&&n.push(o(t,h.directClone(a)))}return n||e}function d(e){return p.isArray(e)?l(e):h.isVNode(e)&&null!==e.dom?h.directClone(e):e}function s(e,n,t){3970&e.flags&&(p.isNullOrUndef(t)&&!p.isNullOrUndef(n.children)&&(e.children=n.children),p.isNullOrUndef(n.className)||(e.className=n.className,delete n.className)),n.ref&&(e.ref=n.ref,delete n.ref),p.isNullOrUndef(n.key)||(e.key=n.key,delete n.key)}function u(e){return"svg"===e?128:"input"===e?512:"select"===e?2048:"textarea"===e?1024:"media"===e?256:2}function c(e){var n=e.props,t=e.children;if(28&e.flags){var r=e.type,o=r.defaultProps;if(!p.isNullOrUndef(o))if(n)for(var a in o)p.isUndefined(n[a])&&(n[a]=o[a]);else n=e.props=o;p.isString(r)&&(e.flags=u(r),n&&n.children&&(e.children=n.children,t=n.children))}n&&(s(e,n,t),p.isInvalid(n.children)||(n.children=d(n.children))),p.isInvalid(t)||(e.children=d(t))}Object.defineProperty(n,"__esModule",{value:!0});var p=t(0),h=t(4);n.normalizeVNodes=l,n.getFlagsForElementVnode=u,n.normalize=c},function(e,n,t){"use strict";var r=function(){};e.exports=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Besluit=void 0;var r=t(1);n.Besluit=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Besluit"),(0,r.createVNode)(2,"p",null,"Uit het werk kunnen we besluiten dat de hiërarchie van de Romeinen goed in elkaar zat aangezien iedereen zijn plaats kende en er respect en aanzien was. Door deze organisatie was het Romeinse leger een van de succesvolste legers uit die tijd. Wanneer we het huidige leger vergelijken met het Romeinse stellen we vast dat onze hiërarchie een zeer uitgebreide versie is van die van het Romeinse leger. Er zijn meer onderverdelingen en meer componenten dan bij de Romeinen, maar dit is te wijten aan technologische en wetenschappelijke vooruitgang. Zo zijn er nu vliegtuigen, tanks, jeeps en vliegdekschepen wat ervoor zorgt dat iedere persoon binnen het leger zijn specifieke functie heeft en er dus meer verdeeldheid is. Op het vlak van bewapening waren de Romeinen ook goed voorzien. Ze waren veel bezig met het ontwikkelen van nieuwe wapens om hun vijanden te kunnen verrassen. Hun wapens waren efficiënt en doeltreffend waardoor ze vele veldslagen hebben gewonnen. Wanneer we het Romeinse leger met het huidige vergelijken stellen we vast dat alles is veranderd. Dit is weer te wijten aan technologische en wetenschappelijke vooruitgang. In huidige tijden wordt er niet meer gestreden met zwaarden, schilden en speren, maar met machinegeweren, langeafstandsraketten en computers. De Romeinen waren ongetwijfeld de grondleggers van verscheidene legers die later zijn ontstaan, maar sporen van hun wapens zijn in het huidige leger niet meer te vinden. Het Romeinse leger was een van de succesvolste legers uit de geschiedenis. Dit is te wijten aan hun ijzersterke discipline en goed bedachte tactieken en aanvalsplannen. De Romeinen begrepen ook zeer goed dat een veldslag niet enkel fysiek werd gestreden, maar ook mentaal. Ze wisten goed hoe ze het moreel bij hun troepen hoog moesten houden terwijl ze dat van de vijand verzwakten. Het verlies van een veldslag vond zijn oorzaak meestal bij slecht leiderschap. De tactieken van het huidige leger zijn zeer sterk veranderd aangezien alles vanop een langere afstand gebeurt en er meer en meer via robots wordt gewerkt. Vroeger waren bijna alle gevechten man tot man gevechten waardoor men tactieken kon toepassen zoals bijvoorbeeld: ruiters langs de flanken laten inkomen. Tegenwoordig heeft dit geen nut meer aangezien het aantal soldaten waarmee men oorlog voert sterk verminderd is.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bewapening=void 0;var r=t(1);n.Bewapening=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Hoe was de bewapening bij de Romeinen"),(0,r.createVNode)(2,"p",null,"Gedurende enkele eeuwen tot op de dag van vandaag ontstond er een voortdurende ontwikkeling van bewapening. Dit heeft zich kunnen verwezenlijken door de technologische vooruitgang met als gevolg dat de kracht van wapens aanzienlijk is vergroot. Maar om de evolutie van de bewapening waar te nemen, moeten we terugblikken ten tijde van het Romeinse imperium waar de basis werd gelegd."),(0,r.createVNode)(2,"h3",null,"Draagbare bewapening"),(0,r.createVNode)(2,"p",null,["Vele kinderen of jongeren lezen weleens strips zoals Asterix en Obelix of moeten op school enkele werkjes maken omtrent de Romeinse beschaving. Hierdoor krijgen ze een bepaald beeld over het Romeinse leven en met welke wapens de soldaten te werk gingen. Het algemene beeld die wij hiervan hebben, is dat elke soldaat een aanvalswapen en een verdedigingswapen ter beschikking had en dat iedere soldaat voorzien werd van stoere vechterskledij. Hierbij zijn vaak het zwaard en de speer de belangrijkste aanvalswapens en ter verdediging gebruikten ze het schild. Om zich te beschermen droegen ze vaak een harnas. Of deze algemene voorstelling altijd waar is, wordt in dit hoofdstuk onderzocht.",(0,r.createVNode)(2,"p"),"Bewapening bij Romeinse legionairs hielden telkens verband met de rang waartoe ze behoorden. Bewapening is net zoals de rangen in verschillende groepen te verdelen. Beginnen doen we met de verschillende tijdperken gaande van 105 v.Chr. tot einde 2de eeuw. Hierbij wordt een nieuw tijdperk telkens ingeleid bij ontstaan van nieuwe en belangrijke bewapening.",(0,r.createVNode)(2,"p"),"Bij de eerste generatie was de gladius (= zwaard) het belangrijkste aanvalswapen. Deze werd altijd gebruikt in combinatie met de aspis (= schild) waarmee ze zich konden verdedigen. In het begin had de gladius een korte lengte, geïnspireerd op het model van de Griekse xiphos. Het schild of de zogenaamde aspis werd vervaardigd uit hout met telkens een bronzen rand ter versterking. De vorm van het schild was rond en relatief groot ter vergelijking met wat er nog zou volgen. Ook hierbij hebben de Romeinen zich weer laten inspireren door de Grieken. Bij de volgende generatie wilden de Romeinen hun eigen stijl creëren waarin Griekse, Keltische en Italische invloeden verwerkt werden. Zo creëerden ze de scutum als vervanging van de aspis. Het had een ovale vorm en beschikte over tal van voordelen. Zo is het schild duurzamer en lichter dan de vorige en het beschikte over een schildknop (= metalen bol die zich centraal op het schild bevond). De functie van die knop was meer schade toe brengen aan de vijand. De aspis werd altijd in de linkerhand gedragen waardoor ze het zwaard in de rechterhand konden leggen. De rede hiervoor was dat de meeste Romeinse soldaten rechtshandig waren waardoor ze meer kracht hadden in hun rechterarm wat noodzakelijk was om bruuske bewegingen te maken met de gladius. Enige tijd later gingen ze gebruik maken van een iets langer zwaard wat overgenomen was van de vijand tijdens de Punische oorlogen. Diezelfde generatie ging zich ook richten op de ontwikkeling van stootsperen (= eerste versie speren). Deze hadden ongeveer dezelfde functie als het zwaard.",(0,r.createVNode)(2,"p"),(0,r.createVNode)(2,"p"),"Het enige verschil was dat ze nog langer waren. Ze waren in het begin niet bedoeld om weg te gooien in de richting van de vijand. Stootsperen werden gebruikt door de hastati (= legionarii van het eerste manipel). Uiteindelijk werd de stootspeer minder gebruikt door de legionairs en evolueerde men naar het ontwikkelen van een lichtere werpspeer nl de pilum. Dit resulteerde in een nieuwe generatie. Elke legatus beschikte over 2 pila waardoor ze bij de start van een gevecht de vijand onmiddellijk konden verzwakken. De pilum was zelfs zo gemaakt dat de punt van de speer bij botsing krom ging staan of afbrak waardoor de vijand de speer niet kon hergebruiken. Stel dat de pilum in een schild belandde, dan was het gevolg dat de zware achterkant van de speer naar beneden zakte waardoor het onmogelijk was om er verder mee rond te lopen. Hierdoor was de vijand vaak genoodzaakt om zonder schild verder te vechten.",(0,r.createVNode)(2,"p"),"In de 3de eeuw kwam er opnieuw een opvallende vooruitgang, maar ditmaal op het gebied van verdediging. De bekende scutum werd aangepast en zo ontstond de spiculum. Het was een vlak schild, nog lichter en net zoals de scutum met een slagknop in het midden.",(0,r.createVNode)(2,"p"),"De bewapening van de hulptroepen is ook op te delen in enkele groepen. Tijdens de eerste jaren van de equitatus werd de gladius gebruikt om de vijand aan te vallen vanop het paard. Doordat het zwaard kort was, maakten ze kans om snel van het paard te vallen. In de loop van de 3de eeuw was men erin geslaagd een langere versie van de gladius te creëren nl de spatha. De sagittarii maken gebruik van de sagitta (= pijlenboog). De gebogen vorm van de sagitta werd gevormd door begin en einde aan te spannen met een stevige, strakke draad. Hiermee konden ze hun pijlen over een grote afstand schieten. Tot slot hanteren de funditores de funda. Dit is een slinger waarin ze loden kogels legde om die vervolgens naar de vijand te gooien.",(0,r.createVNode)(2,"p"),"Uit al deze gegevens weten we dat het algemene beeld grotendeels juist is. Maar je kan onmogelijk besluiten dat je met dat beeld alles weet over de bewapening van Romeinse soldaten. Naast het zwaard, de speer en het schild waren er nog tal van andere aanvals- en verdedigingswapens die gebruikt werden tijdens de gevechten ten tijde van de Romeinen."]),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Bewapening legionairs"),(0,r.createVNode)(2,"th",null,"aanvalswapen"),(0,r.createVNode)(2,"th",null,"verdedingingswapen"),(0,r.createVNode)(2,"th")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"1ste generatie"),(0,r.createVNode)(2,"td",null,"gladius"),(0,r.createVNode)(2,"td",null,"aspia"),(0,r.createVNode)(2,"td",null,"Generaties gaande vanaf ± 3de eeuw v.Chr. – 3de eeuw",{rowspan:"4"})]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"2de generatie"),(0,r.createVNode)(2,"td",null,"hasta + gladius"),(0,r.createVNode)(2,"td",null,"scutum")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"3de generatie"),(0,r.createVNode)(2,"td",null,"pilum + gladius"),(0,r.createVNode)(2,"td",null,"scutum")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"4de generatie"),(0,r.createVNode)(2,"td",null,"spatha"),(0,r.createVNode)(2,"td",null,"spiculum")])])),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Bewapening hulptroepen"),(0,r.createVNode)(2,"th",null,"aanvalswapens"),(0,r.createVNode)(2,"th",null,"verdedigingswapens")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"equitatus"),(0,r.createVNode)(2,"td",null,"spatha"),(0,r.createVNode)(2,"td",null,"Verdediging komt grotendeels overeen met die van de legionairs",{rowspan:"3"})]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"sagittarii"),(0,r.createVNode)(2,"td",null,"sagitta")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"funditores"),(0,r.createVNode)(2,"td",null,"funda")])])),(0,r.createVNode)(2,"p",null,"Aangezien er weinig betrouwbare bronnen zijn over de exacte data ’s i.v.m. het ontstaan van reeds vermelde bewapening, werd de chronologische volgorde van het ontstaan weergegeven a.d.h.v. generaties."),(0,r.createVNode)(2,"h3",null,"Oorlogstuigen"),(0,r.createVNode)(2,"p",null,"Tenslotte bespreken we in dit hoofdstuk de Romeinse oorlogstuigen aangezien het een belangrijk aspect was van de gevechten. Hierbij gaan we een opdeling maken tussen de tormenta (= aanvalswapens) en enkele andere oorlogsvoertuigen ter verdediging."),(0,r.createVNode)(2,"h4",null,"Aanvalswapens"),(0,r.createVNode)(2,"p",null,"De aanvalswapens waren veel krachtiger dan degene die ze op zak droegen. De bekendste aanvalsmachines waren de catapultae (= katapulten), onder te verdelen in enkele categorieën. Ze werden gebruikt om projectielen weg te schieten m.b.v. mechanische energie. De eerste katapulten schoten hun pijlen in bijna horizontale richting waardoor de afstand die ze konden afleggen niet al te succesvol was. De Romeinse ingenieurs van die tijd gingen dan zoeken naar methodes om het reeds vermelde probleem op te lossen. Hieruit ontstond de ballista. Deze katapult had tussen de 2 horizontaal schuin geplaatste balken een gespannen touw. Onder het touw bevond zich een halve cilinder waarin het projectiel werd gelegd. Deze halve cilinder werd altijd naar boven gericht en de hoek waarin het zich bevond konden ze bijsturen indien nodig. Het was dus niet zo dat ballista's een vaste hoek meekregen zoals bij de eerste versies van de katapulten. Door die regelbare hoek konden ze hun pijlen over een afstand van 400 meter schieten. Net zoals bij de oudste katapulten waren er veel soldaten (±4) nodig om het in gebruik te kunnen nemen. Daarom zochten de ingenieurs nog steeds naar een verbeterde versie. De ingenieurs plaatsten dit nadeel centraal in hun volgende ontwerpen waardoor de scorpiones (kruisboog op voet) waren ontstaan. Het waren kleine katapulten die door 1 man gedragen konden worden. Ze bestonden uit een ijzeren boog waartussen een snaar werd gespannen. De projectielen die ze konden afvuren waren houten spiesen van 67cm. Na de scorpiones ontwikkelde men de cheioballistra die beschikte over metalen frames wat veel sterker was dan voordien. De onager was de laatste hervorming van de katapult en werd algemeen in gebruik genomen rond de 4de eeuw."),(0,r.createVNode)(2,"p",null,"Deze had een totaal andere werkwijze dan de vorige. Het was een heel groot en zwaar machine bedoeld om grote projectielen naar de vijand te werpen. Dergelijke projectielen waren meestal stenen. Het opvallendste kenmerk van de onager was dat er opnieuw vele soldaten nodig waren om de katapult in gebruik te nemen en dit was juist wat men bij de ontwikkeling van de katapult wilde tegengaan."),(0,r.createVNode)(2,"h3",null,"Verdedigingswapens"),(0,r.createVNode)(2,"p",null,["De verdedigingsmachines waren net zoals de aanvalsmachines krachtiger in vergelijking met wat de soldaten bij zich droegen. U zal telkens een korte beschrijving krijgen over enkele oorlogstuigen die ter verdediging werden gebruikt.",(0,r.createVNode)(2,"p"),"Beginnen doen we met de plutei, een halfcirkelvormig schild op wielen die veel weerstand bood. Vervolgens was er de testudo. Deze was net zoals de plutei een bescherming op wielen (kan ook zonder wielen). Maar het verschil was dat bij de testudo schilden aan elkaar werden gehecht die ze dan als afdak gebruikten.",(0,r.createVNode)(2,"p"),"Tot slot bestond er een machine die zowel bij de aanvals- als bij de verdedigingswapens zou kunnen horen, nl de tures ambulatoriae. Het was een houten toren op wielen waarin ze konden schuilen en op die manier konden ze ongeschonden de vijand naderen. Zo’n toren telde enkele verdiepingen en had telkens een valluik per verdiep. Dit gaf hen de kans om over de muren te geraken van de vijand. Helemaal onderaan werd een stormram ingebouwd en deze had als functie de poorten van het vijandelijke gebied te doorbreken.",(0,r.createVNode)(2,"p")]),(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Oorlogstuigen"),(0,r.createVNode)(2,"th",null,"wapens")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"aanvalswapens (= tormenta)"),(0,r.createVNode)(2,"td",null,"catapultae")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"Ballistae")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"Scorpiones")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"cheioballistra")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"onager")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"verdedinginswapens"),(0,r.createVNode)(2,"td",null,"Plutei")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"testudo")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"combinatiewapen"),(0,r.createVNode)(2,"td",null,"Tures ambulatoriae")])]),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Als we een vergelijking maken van de Romeinse bewapening t.o.v. de huidige, dan kunnen we een zeer sterke evolutie vaststellen voortgekomen uit de wetenschappelijke vooruitgang die men doorheen de jaren boekte. Ze hebben zich altijd willen verbeteren in het maken van machines die projectielen konden afschieten. Zo werd de katapult omgevormd tot een lange afstandsraket. Men ontwikkelde zelfs een systeem om zwaarden te vervangen door machines die kogels konden afvuren.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bronnen=void 0;var r=t(1);n.Bronnen=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Bronnen"),(0,r.createVNode)(2,"h3","bron","Boeken"),(0,r.createVNode)(2,"p",null,[(0,r.createVNode)(2,"ul",null,[(0,r.createVNode)(2,"li",null,"Commentarii de bello Gallico, VII, LXIX"),(0,r.createVNode)(2,"li",null,"Van Gelder, J. (1952) Latijnse geschiedschrijvers. Bloemlezing uit de werken van Sallustius, Caesar, Livius en Tacitus. Haarlem: Spaarnestad"),(0,r.createVNode)(2,"li",null,"Harpur, J. (2007) Guerriers: Les grands héros de l’histoire. MILAN: Toulouse"),(0,r.createVNode)(2,"li",null,"Van Daele, B. (2003) Het Romeinse Leger. Davidsfonds: Leuven"),(0,r.createVNode)(2,"li",null,"Goldsworthy, A. (2017) Romeinse legioenen. Omniboek: Utrecht"),(0,r.createVNode)(2,"li",null,"Rodgers, N. (2012) Het Romeinse Rijk. Veltman: Utrecht"),(0,r.createVNode)(2,"li",null,"Anoniem. (2015). De Veldslagen, Het Pop-Upboek. Tielt: Lannoo."),(0,r.createVNode)(2,"li",null,"Warry, W. (1981). Oorlogvoering in de klassieke wereld. Hemond: Helmond."),(0,r.createVNode)(2,"li",null,"Dando-Collins, S. (2010). Legions of Rome: The Definitive History of Every Imperial Roman Legion. Londen: Quercus Publishing."),(0,r.createVNode)(2,"li",null,"Feugere, M. (2002). The Weapons of the Romans. United Kingdom: The History Press.")]),(0,r.createVNode)(2,"h3","bron","Mondeling"),(0,r.createVNode)(2,"p",null,"Mondelinge bron geleverd door Kolonel SBH Marc Alexander (Hoogleraar aan de KMS)"),(0,r.createVNode)(2,"h3","bron","Websites"),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"ul",null,[(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Goede keizers, slechte keizers",{href:"https://marcaur.wordpress.com/2015/03/20/de-vijf-grootste-overwinningen-van-de-romeinen-longread/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"militair.net",{href:"http://www.militair.net/Oorlogen/Romeinse%20oorlogen/Slag%20bij%20Teutoburgerwoud/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"4 opmerkelijke veldslagen uit de Romeinse geschiedenis",{href:"http://www.isgeschiedenis.nl/nieuws/4-opmerkelijke-veldslagen-romeinse-geschiedenis/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Beleg van Alesia",{href:"https://nl.wikipedia.org/wiki/Beleg%20van%20Alesia"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Waar lag Alésia?",{href:"https://www.kunstgeografie.nl/henv/helden.alesia.slag.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"de geschiedenis van Alesia",{href:"http://www.cenens.be/alesia/omgeving.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Drie grote veldslagen uit de Romeinse tijd",{href:"https://plazilla.com/page/4295028913/drie-grote-veldslagen-uit-de-romeinse-tijd"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Slag bij het Teutoburgerwoud",{href:"https://nl.wikipedia.org/wiki/Slag_bij_het_Teutoburgerwoud"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Slag bij het Teutoburgerwoud: Varus loopt in een Germaanse hinderlaag",{href:"http://www.isgeschiedenis.nl/militaire-confrontaties/slag-bij-het-teutoburgerwoud-varus-loopt-in-een-germaanse-hinderlaag/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Varusslag: 2000 jaar geleden",{href:"https://www.historischecartografie.nl/nieuws/2009/11/varusslag-2000-jaar-geleden/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"De Varusslag in 9 n.Chr.",{href:"http://www.noviomagus.info/varusslag.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Publius Quinctilius Varus",{href:"https://nl.wikipedia.org/wiki/Publius_Quinctilius_Varus"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Tactieken",{href:"http://www.legioxi.be/educatief/tactieken (open veldslag)"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Het Romeinse leger",{href:"http://www.klassiekevertalingen.nl/cultuur/leger.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Hulptroepen",{href:"http://users.telenet.be/phoenica/hulptroepen.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"De bewapening van de Romeinse legionair",{href:"http://romeinen.info/de-bewapening-van-de-romeinse-legionair"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Verdedigingswerken en belegeringsoorlog",{href:"http://users.skynet.be/veni_vidi_vici/bestorming.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Weapons",{href:"http://www.primaryhomeworkhelp.co.uk/romans/weapons.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Tools of War",{href:"https://romanmilitary.net/tools/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Ancient roman military, weapons and spies",{href:"http://factsanddetails.com/world/cat56/sub368/item2055.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Weapons & Tactics",{href:"https://www.the-romans.co.uk/weapons.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Organization of the Roman Imperial Legion",{href:"http://www.unrv.com/military/legion.php"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"The Roman Army",{href:"http://www.roman-empire.net/army/army.html"}))]))])])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Inleiding=void 0;var r=t(1);n.Inleiding=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Inleiding"),(0,r.createVNode)(2,"p",null,"Wij hebben beslist om ons werk over het Romeinse leger te beginnen met de onderverdeling van het leger. Hierdoor krijg je al een inzicht in hoe de hiërarchie was ten tijde van de Romeinen. Hierna zijn wij dieper ingegaan op de bewapening van de Romeinen zodat je goed weet hoe ze toen vochten en wat ze ter beschikking hadden om hun vijand te overmeesteren. Als laatste hebben wij gekeken naar het verloop van twee veldslagen en hebben we deze volledig geanalyseerd om uiteindelijk te kunnen zeggen hoe deze beter hadden kunnen verlopen. Wij hebben verscheidene bronnen gebruikt om ons werk te onderbouwen, gaande van boeken uit het archief van de Koninklijke Militaire School tot websites van professoren latijn die thesissen over het Romeinse leger hebben geschreven. Om nog extra documentatie en afbeeldingen te verschaffen bij deze onderzoekscompetentie, hebben wij besloten om deze site te maken.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Onderverdeling=void 0;var r=t(1);n.Onderverdeling=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Onderverdeling van het leger"),(0,r.createVNode)(2,"p",null,"De Romeinen hadden verschillende rangen binnen het leger waartoe je kon behoren. Het leger werd opgedeeld in meerdere legioenen en hulptroepen waarmee ze vanuit verschillende hoeken de vijand gestructureerd konden aanvallen. Doorheen de jaren nam het aantal soldaten sterk toe. De reden daartoe was vrij eenvoudig. Eenmaal een bepaalde bevolkingsgroep zijn strijdmanschappen vergrootte, was de andere verplicht om hetzelfde te doen, aangezien ze anders geen enkele kans zouden hebben op de overwinning."),(0,r.createVNode)(2,"h3",null,"Het legioen"),(0,r.createVNode)(2,"p",null,"Een legioen werd opgedeeld in 10 cohorten waarbij 1 cohorte een aantal van 600 soldaten telde op voorwaarde dat het legioen bestond uit ongeveer 6000 legionarii (= soldaten). De leider van een legioen werd een legatus genoemd. Het was altijd een man omdat enkel de mannen toegelaten werden bij het leger (Vrouwen moesten het huishouden doen). De legatus had ook 5 à 6 assistenten ter beschikking die de naam tribuni kregen. Dat waren steeds jonge mannen die een politieke carrière wilde starten maar eerst wat militaire ervaring nodig hadden. Vervolgens werden alle cohorten nog eens onderverdeeld in 3 manipels met telkens een aantal van 200 man. Het 1ste manipel van iedere cohorte kreeg de naam pilus. Het 1ste manipel van de 1ste cohorte werd de primus pilus genoemd met de primi pili centurio aan het hoofd. Deze 200 mannen werden nogmaals gesplitst in 2 groepen van 100 soldaten. Dergelijke groepen behoorden tot de rang van de centuria. Hierbij was een centurio (= onderofficier) de aanvoerder van 1 van de 6 centuriën. Hij beschikte over een aantal soldaten, 1 veldtekendrager en een optio. Zijn belangrijkheid was afhankelijk van de rang die zijn centuria had. Zo is de centurio van het 1ste centurie, 1ste manipel en 1ste cohorte de belangrijkste en naarmate je verder gaat in de hiërarchie nemen ze aan belangrijkheid af. Een centurio beschikte net zoals een legatus over een assistent die de naam optio aangeboden kreeg. Deze optio beschikte over een klein manschap om wat ervaring te krijgen over hoe je leiding moest geven. Het uiteindelijke doel van de optio was te promoveren om zo de functie van een centurio te krijgen. Zeer ervaren centurio’s kregen ook nog kans om praefectus castrorum (= kampcommandant) te worden. Tot slot werden die 100 man nog een keer opgedeeld in 10 groepjes van telkens 10 soldaten die samen een kleine tent moesten delen waarin ze konden overnachten. Dergelijk tenten waren ongeveer 4 bij 3 meter. De reden hiervoor was dat ze omwille van hun grootte makkelijk te vervoeren waren. Deze groepjes werden conturbernium genoemd. Elk conturbernium beschikte over een muilezel die de soldaten hielp bij het vervoeren van hun goederen. Het legioen bevatte naast reeds vermelde rangen nog andere personen die een specifieke taak uitvoerden."),(0,r.createVNode)(2,"p",null,["Een aquilifer (= standaarddrager) kreeg de taak om met het Romeinse embleem van een aquila (= arend) het legioen vooraf te gaan en stond aan het hoofd van alle andere veldtekendragers. In een legioen waren er ook bakkers, smeden, dokter, …",(0,r.createVNode)(2,"p"),"Een legioen kon dus zonder enig probleem enkele maanden rondtrekken door de grote voorraad van dingen die ze meesleurde tijdens hun tocht en het groot aanbod van assistenten."]),(0,r.createVNode)(2,"h3",null,"De hulptroepen"),(0,r.createVNode)(2,"p",null,["Naast legioenen maakte de Romeinen ook veelvuldig gebruik van de auxilia (= hulptroepen). Daartoe behoorden de soldaten die niet de status hadden van Romeinse staatsburger doordat ze afkomstig waren uit andere volkeren. Omwille van hun andere afkomst kregen ze maar 1/3 van het loon van een legionarius.",(0,r.createVNode)(2,"p"),"Hun voornaamste functie was om de legioenen te helpen en om de grenzen te bewaken en te verdedigen. Deze taken moesten ze uitvoeren onder bevel van praefecti (= Romeinse officieren). Als een auxiliarius (= een soldaat van de hulptroepen) een diensttermijn van 25 jaar had afgesloten, kreeg hij en zijn gezin vanaf dat moment de status van een Romeins staatsburger. De zonen van een ex-auxiliarius gingen als legionarius werken wat hen de kans gaf om meer te verdienen dan hun vader. De ex-auxiliarius zelf nam de naam van de regerende keizer aan.",(0,r.createVNode)(2,"p"),"Net zoals de legioenen zijn er verschillende onderdelen binnen de hulptroepen zoals: de equitatus (= ruiters), de sagittarii (= boogschutters) en de funditores (= slingeraars). Elke soldaat binnen de hulptroepen kreeg een bijpassend wapen afhankelijk tot welke groep hij behoorde."]),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","onderverdeling-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"groepen"),(0,r.createVNode)(2,"th",null,"legioenen"),(0,r.createVNode)(2,"th",null,"hulptroepen")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"belangrijkste onderdelen"),(0,r.createVNode)(2,"td",null,["cohorten",(0,r.createVNode)(2,"br"),"manipels",(0,r.createVNode)(2,"br"),"centuria",(0,r.createVNode)(2,"br"),"conturbernium"]),(0,r.createVNode)(2,"td",null,["sagittarii",(0,r.createVNode)(2,"br"),"equitatus",(0,r.createVNode)(2,"br"),"funditores"])]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"aantal"),(0,r.createVNode)(2,"td",null,["1 cohort = ± 600",(0,r.createVNode)(2,"br"),"1 manipel = ± 200",(0,r.createVNode)(2,"br"),"1 centuria = ± 100",(0,r.createVNode)(2,"br"),"1 conturbernium = ± 10"]),(0,r.createVNode)(2,"td",null,"aantal is onduidelijk")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"leiders"),(0,r.createVNode)(2,"td",null,"legioen --\x3e legatus centuria --\x3e centurio zeer ervaren centurio --\x3e  praefectus castrorum"),(0,r.createVNode)(2,"td",null,"Hulptroepen --\x3e praefecti")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"status"),(0,r.createVNode)(2,"td",null,"Romeins staatsburger"),(0,r.createVNode)(2,"td",null,"geen Romeins staatsburger. Afkomstig van andere volkeren")])])),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Als we de onderverdeling bij de Romeinen vergelijken met de onze dan merken we op dat de structuur voor een groot deel bewaard is gebleven. Toch kunnen we stellen dat het huidige systeem meer onderverdelingen heeft en dat de namen ook steeds gewijzigd zijn. Zo is in 2017 de generaal de leider van het leger en vroeger sprak men over legatus die de leiding had over het legioen.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Veldslagen=void 0;var r=t(1);n.Veldslagen=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Veldslagen en oorlogen"),(0,r.createVNode)(2,"p",null,"De Romeinen hebben doorheen hun lange bestaan in vele delen van de wereld gevochten tegen verschillende rijken, stadstaten, handelsnaties en barbaarse stammen aangezien ze steeds meer grondgebied wilden veroveren. Hoewel velen hiervan werden gewonnen dankzij hun doordachte tactieken en ijzersterke discipline, waren er ook zware nederlagen bij zoals: de slag bij het Teutoburgerwoud, de slag bij Cannae en de slag bij Adrianopolis. Door deze nederlagen schaafden ze hun tactieken bij om dezelfde fouten niet nog eens te maken."),(0,r.createVNode)(2,"h3",null,"De slag bij Alesia"),(0,r.createVNode)(2,"p",null,'De slag bij Alesia werd gevochten tussen de Romeinse troepen van Julius Caesar en de Avernische troepen van Vercingetorix. Deze slag was de beslissende slag in de strijd tussen de Galliërs en de Romeinen en het was tevens een van de grootste overwinningen van Caesar. De slag vond plaats in 52 v.C. bij het Gallische Alesia rond een versterkt fort van het volk Mandubii. Het fort van Alesia was gelegen bovenop een heuvel waar rivieren langs stroomden. Caesar gaf van de omgeving een zeer goede beschrijving in zijn Commentarii de bello Gallico: "Ipsum erat oppidum Alesia in colle summo admodum edito loco, ut nisi obsidione expugnari non posse videretur. Cuius collis radices duo duabus ex partibus flumina subluebant. Ante id oppidum planities circiter millia passuum III in longitudine patebat; reliquis ex omnibus partibus colles mediocri interiecto spatio pari altitudinis fastigio oppidum cingebant." Dit kan men vertalen als: ‘De vesting Alesia zelf lag op een heuveltop die aanzienlijk boven de vlakte uitstak, zodat zij oninneembaar scheen tenzij door blokkade. De voet van die heuvel wordt aan twee zijden bespoeld door waterlopen. Vóór de vesting strekte zich een ongeveer drie mijl brede vlakte uit; aan al de andere zijden omringde heuvels, op korte afstand van elkaar gelegen en met gelijke tophoogte, de vesting.’ Door deze uitstekende locatie was het zeer moeilijk om het fort in te nemen dus besloot Caesar om het fort te belegeren door gebruik te maken van een circumvallatielinie om zo de troepen en de bevolking van Alesia uit te hongeren.'),(0,r.createVNode)(2,"p",null,["De linie bestond uit meerdere verstevigingen en wallen met een totale lengte van ongeveer 18km. De tactiek van Caesar bleek zeer goed te werken aangezien Vercingetorix radeloos was. De enige mogelijkheid die Vercingetorix nog had was om een deel van de Gallische cavalerie te doen ontsnappen door een nog onvoltooid gedeelte van de linie om versterking te halen. Zij slaagden in deze opzet en brachten succesvol een ontzettingsleger op de been. Caesar had echter aan alle mogelijke scenario’s gedacht en hij had besloten om een contravallatielinie van 21 kilometer te bouwen rond de circumvallatielinie, waardoor de Romeinen langs twee zijden tegen de Gallische aanvallen beschermd waren.",(0,r.createVNode)(2,"br"),"Eenmaal het ontzettingsleger bij Alesia was aangekomen, waren het eigenlijk de Romeinen die belegerd waren aangezien ze ingesloten zaten tussen twee Gallische legers. Onder leiding van Commius viel het ontzettingsleger de contravallatielinie aan.",(0,r.createVNode)(2,"img","siege-of-alexia-img",null,{src:"./images/siegeOfAlexia.jpg"}),"Tegelijkertijd liet Vercingetorix zijn troepen de circumvallatielinie aanvallen. De eerste dag hielden de Romeinen goed stand tegen de aanvallen van de Galliërs, maar de daar opvolgende dagen gingen bergaf. Ze werden gedwongen om forten en kampen in de contravallatielinie op te geven, maar Gaius rebonius kon met de cavalerie voorkomen dat de Galliërs hier gebruik van konden maken. Na maandenlang vechten besloot de neef van Vercingetorix, Vercassivellaunos, om met 60.000 manschappen de Romeinse stellingen aan te vallen. Hij koos de plek waar de stellingen het zwakst waren, namelijk waar de linies op dezelfde plek een rivier kruisten. Vercingetorix liet van binnenuit op dezelfde plaats een aanval uitvoeren, maar Caesar had zoveel vertrouwen in zijn troepen dat hij het bevel gaf om de stellingen te behouden. Caesar nam een grote gok door met 6.000 manschappen een leger van 60.000 manschappen aan te vallen, maar hij overdonderde de Galliërs zo hard dat ze zich genoodzaakt voelden om zich terug te trekken."]),(0,r.createVNode)(2,"p",null,"Hiermee was het belangrijkste en meest beslissende gevecht gestreden waarna de troepen in Alesia zich overgaven door hongersnood en gebrek aan manschappen. Rome was de grote overwinnaar bij deze slag die de basis vormde voor het verder veroveren van Gallië en Brittannië. De Gallische soldaten werden als slaven meegenomen en verkocht. Vercingetorix werd tevens gevangengenomen, maar niet verkocht aangezien de Romeinen hem wilden houden als trofee. Na een paar jaar werd hij ritueel gewurgd tijdens een triomftocht. De elementen die de Romeinen de overwinning hebben bezorgd zijn vooral berust op de geest. Caesar heeft steeds de moreel bij zijn troepen hoog weten te houden hoewel ze soms nederlagen leden. Dit zorgde ervoor dat de strijdlust bij de soldaten aanwezig bleef en ze steeds voelden dat ze de bovenhand hadden in het gevecht. Caesar nam het moreel van zijn troepen zeer serieus en ging zelfs zo ver dat hij met hen meestreed. Het moreel van zijn troepen lag aan de basis van de laatste belangrijke slag aangezien ze het gevecht onderbemand moesten aangaan, maar uiteindelijk hebben ze de overwinning behaald. Een tweede punt waardoor ze deze slag hebben gewonnen, is het goed doordachte aanvalsplan van Caesar. Zo had hij de contravallatielinie voorzien voor een eventuele aanval. Was deze linie er niet geweest, hadden de Galliërs deze veldslag gegarandeerd gewonnen door hun grote aantallen. Caesar was ook degene die een verrassingsaanval heeft kunnen afwenden door de vrouwen en kinderen niet uit Alesia te laten vertrekken. De Galliërs wilden hen namelijk als afleiding gebruiken om ondertussen een versteviging aan te vallen, maar door Caesar zijn besluit om de vrouwen en kinderen niet buiten te laten is de aanval niet kunnen doorgaan. Het enige negatieve punt dat geoptimaliseerd had kunnen worden is de bouw van de linies bij de rivieren aangezien dit het zwakke punt was van het kamp. Deze slag is een goed voorbeeld van de Romeinse discipline en strijdlust aangezien ze geen enkele grote fout hebben begaan die tot een eventueel verlies had kunnen lijden."),(0,r.createVNode)(2,"h3",null,"De slag bij het Teutoburgerwoud"),(0,r.createVNode)(2,"p",null,"De slag bij het Teutoburgerwoud werd gevochten tussen de Romeinse troepen van Varus en de Germaanse troepen van Arminius. Deze slag leidde een zevenjarige oorlog in, die uiteindelijk tot gevolg had dat de Rijn voor een periode van 400 jaar werd vastgelegd als grens van het Romeinse Rijk. De slag vond plaats in 9 n.C. nabij Kalkriese dat in Duitsland is gelegen. De slag was een van de grootste nederlagen uit de geschiedenis van het Romeinse leger."),(0,r.createVNode)(2,"p",null,["De Romeinen waren namelijk in een list getrapt van Arminius, de leider van de Germaanse stammen. Hij liet doorgeven dat er een opstand aan de gang was van veroverde Germaanse stammen. Hij wilde de Romeinen namelijk naar een voor hen onbekend gebied lokken zodat de Germanen een strategisch voordeel hadden. De Romeinse aanvoerder Varus was op dat moment met zijn leger op weg naar hun winterkampen voor de opkomende winter. Hij geloofde echter het nepbericht van Arminius en hij week van zijn route af en ging door het Teutoburgerwoud naar de zogezegde opstand.",(0,r.createVNode)(2,"br"),"Wat hij echter niet wist, was dat hij opgewacht werd door een groot Germaans leger dat zich in het bos had verstopt om een verrassingsaanval uit te voeren. Het Teutoburgerwoud was ondoordringbaar, mistig en vochtig, iets wat de Romeinen niet gewend waren aangezien zij altijd op vlakke en open slagvelden streden. Door het gebrek aan overzicht en de willekeur van de Germanen hadden de Romeinen vanaf het begin een nadeel. Ze konden namelijk hun gebruikelijke tactieken niet uitvoeren door het gebrek aan organisatie en ruimte. Toen na een paar dagen de Romeinse ondergang onafwendbaar leek, pleegde Varus zelfmoord. Hiermee was het lot van zijn troepen ook bezegeld aangezien ze geen leider meer hadden. Van de 18 000 manschappen slaagden slechts enkelen erin aan de vijand te ontsnappen en de Romeinse winterkampen aan de Rijn te bereiken."]),(0,r.createVNode)(2,"div","teutoburgerwoud-img",(0,r.createVNode)(2,"span","teutoburgerwoud-img-txt","Uitzicht van het Teutoburgerwoud gebaseerd op teksten van de eerste eeuw n.C.")),(0,r.createVNode)(2,"p",null,"Deze slag had tot gevolg dat er een einde kwam aan de Romeinse expansie in Noord-Europa. Ook had keizer Augustus besloten dat vanaf toen de Rijn de vaste grens zou worden van het Imperium Romanum."),(0,r.createVNode)(2,"p",null,"In deze slag is heel wat misgelopen, vooral op het vlak van leiderschap. Goed leiderschap vormt de basis voor elke slag als je kans wilt maken op de overwinning. Varus was in geen enkel opzicht een goede leider in deze slag. Hij nam irrationele beslissingen en dacht niet na over de gevolgen hiervan. Het begon reeds bij het niet nagaan van de informatie die hij had verkregen. Hij vertrouwde blind op de verkregen informatie en stippelde meteen een route uit. Hij had eigenlijk eerst de situatie moeten bekijken en eventueel ruiters voorop moeten sturen om na te gaan of er wel degelijk een opstand was. Hiermee had hij het conflict kunnen vermijden aangezien de ruiters dan hadden gezien dat er geen opstand was. Zijn tweede grote fout was om het leger wijd gespreid te laten lopen in een gebied dat hij niet kende. Het leger was namelijk aan het marcheren met een afstand van 15 kilometer tussen de eerste en de laatste soldaten. Hierdoor konden de Germanen met hun grotere aantallen de kleine groepjes Romeinen zonder enig probleem aanvallen. Had hij zijn leger compact laten marcheren, hadden de Romeinen nog een haalbare kans gehad op de overwinning in het gevecht aangezien de laatste troepen dan snel konden bijspringen om de eerste te helpen. Tijdens het gevecht zelf nam hij alleen maar slechte beslissingen. Hij had wel veel tegenslag met het weer waardoor de schutters hun bogen niet konden gebruiken en de houten schilden te zwaar werden om te dragen door het gewicht van het water dat in het hout was opgeslorpt. Hij gaf het order om door te marcheren naar een open plek, maar aangezien hij het bos niet kende wist hij niet dat er geen open plekken in hun nabijheid waren. Dit was een fout order aangezien hij de omgeving niet kende en dus ook niet wist waar er zich nog Germanen bevonden. Hij had zijn positie moeten verdedigen om zo een basis proberen op te richten aangezien het leger het kwetsbaarst is wanneer ze zich aan het verplaatsen zijn. Varus gaf ook geen steun aan zijn manschappen waardoor de strijdlust weg ging en velen het nut van de strijd niet meer zagen. De Legatus, Numonius Vala, van een van zijn drie legioenen was een van die personen die het leiderschap van Varus in twijfel trok en de verzwakte moreel aanvoelde. Hij was dan ook degene die samen met de ruiters vluchtte en zo de troepen in de steek liet. Maar ver kwam hij niet aangezien hij in het bos zelf nog werd afgemaakt door de ruiters van de Germanen. Zonder de steun van de ruiters was het leger verzwakt en dus grepen de Germanen hun kans. Ze begonnen bijna iedereen genadeloos af te slachten. Varus zag op dat ogenblik in dat hij zwaar had gefaald en pleegde daarom zelfmoord."),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Het is zeer moeilijk om het huidige leger te vergelijken met het Romeinse leger aangezien er zich een zeer grote ontwikkeling heeft plaatsgevonden op het gebied van wetenschappen en technologie. Vroeger streed men met een zwaard en een schild en had je als steun enkel ruiters. Nu wordt er gestreden vanop een zeer grote afstand aangezien men machinegeweren, pistolen, langeafstandsrakketten,… gebruikt. Er zijn nu ook veel nieuwe ondersteuningsmogelijkheden zoals tanks, schepen en vliegtuigen waardoor er een heleboel nieuwe tactieken mogelijk zijn. Door al deze veranderingen heeft men de tactieken die men gebruikt ook moeten veranderen. Vroeger kon men in een man op man gevecht tactieken gebruiken die zeer effectief waren op korte afstand en een klein slagveld. Als men deze tegenwoordig zou uitvoeren, zouden de soldaten ter plaatse worden afgemaakt. De hoeveelheid soldaten die daadwerkelijk vechten is ook sterk afgenomen in vergelijking met het Romeinse leger. Vroeger streed men met legers van zeer grote aantallen. Deze aantallen kunnen we ons tegenwoordig niet meer voorstellen. Er gebeurt nu veel meer achter de schermen om de soldaten die moeten vechten te helpen. Zo wordt er via satellieten of drones informatie verzameld over de omgeving waarin de soldaten zich bevinden en eventueel waar hun vijanden schuilen. Een soldaat heeft nu ook de mogelijkheid om, mits de goedkeuring van zijn aanvoerder, een luchtaanval in te roepen. De huidige tactieken draaien ook niet meer alleen maar rond het militaire aspect, maar ook rond onder andere het economische. Als men zijn vijand economisch kan verzwakken zal deze ook minder weerbaar zijn.")])}},function(e,n){},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=t(21),l=r(i),d=t(51),s=r(d),u=t(33),c=t(13),p=t(34),h=r(p),f=t(32),v=function(){try{return window.history.state||{}}catch(e){return{}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(f.canUseDOM,"Browser history needs a DOM");var n=window.history,t=(0,f.supportsHistory)(),r=!(0,f.supportsPopStateOnHashChange)(),i=e.forceRefresh,d=void 0!==i&&i,p=e.getUserConfirmation,g=void 0===p?f.getConfirmation:p,m=e.keyLength,b=void 0===m?6:m,k=e.basename?(0,c.stripTrailingSlash)((0,c.addLeadingSlash)(e.basename)):"",w=function(e){var n=e||{},t=n.key,r=n.state,o=window.location,i=o.pathname,l=o.search,d=o.hash,s=i+l+d;return k&&(s=(0,c.stripPrefix)(s,k)),a({},(0,c.parsePath)(s),{state:r,key:t})},N=function(){return Math.random().toString(36).substr(2,b)},y=(0,h.default)(),j=function(e){a(B,e),B.length=n.length,y.notifyListeners(B.location,B.action)},V=function(e){(0,f.isExtraneousPopstateEvent)(e)||z(w(e.state))},O=function(){z(w(v()))},_=!1,z=function(e){if(_)_=!1,j();else{y.confirmTransitionTo(e,"POP",g,function(n){n?j({action:"POP",location:e}):C(e)})}},C=function(e){var n=B.location,t=E.indexOf(n.key);-1===t&&(t=0);var r=E.indexOf(e.key);-1===r&&(r=0);var o=t-r;o&&(_=!0,M(o))},x=w(v()),E=[x.key],U=function(e){return k+(0,c.createPath)(e)},P=function(e,r){(0,l.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,N(),B.location);y.confirmTransitionTo(a,"PUSH",g,function(e){if(e){var r=U(a),o=a.key,i=a.state;if(t)if(n.pushState({key:o,state:i},null,r),d)window.location.href=r;else{var s=E.indexOf(B.location.key),u=E.slice(0,-1===s?0:s+1);u.push(a.key),E=u,j({action:"PUSH",location:a})}else(0,l.default)(void 0===i,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},R=function(e,r){(0,l.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,N(),B.location);y.confirmTransitionTo(a,"REPLACE",g,function(e){if(e){var r=U(a),o=a.key,i=a.state;if(t)if(n.replaceState({key:o,state:i},null,r),d)window.location.replace(r);else{var s=E.indexOf(B.location.key);-1!==s&&(E[s]=a.key),j({action:"REPLACE",location:a})}else(0,l.default)(void 0===i,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},M=function(e){n.go(e)},S=function(){return M(-1)},D=function(){return M(1)},A=0,T=function(e){A+=e,1===A?((0,f.addEventListener)(window,"popstate",V),r&&(0,f.addEventListener)(window,"hashchange",O)):0===A&&((0,f.removeEventListener)(window,"popstate",V),r&&(0,f.removeEventListener)(window,"hashchange",O))},I=!1,H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=y.setPrompt(e);return I||(T(1),I=!0),function(){return I&&(I=!1,T(-1)),n()}},L=function(e){var n=y.appendListener(e);return T(1),function(){T(-1),n()}},B={length:n.length,action:"POP",location:x,createHref:U,push:P,replace:R,go:M,goBack:S,goForward:D,block:H,listen:L};return B};n.default=g},function(e,n,t){e.exports=t(42).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var n=e.children;return(0,i.createVNode)(2,"div","page",[(0,i.createVNode)(2,"header",null,[(0,i.createVNode)(2,"h1",null,"Het Romeinse Leger"),(0,i.createVNode)(2,"nav",null,(0,i.createVNode)(2,"ul",null,[(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat",activeClassName:"linkActiveClass",children:"Inleiding"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/onderverdeling",activeClassName:"linkActiveClass",children:"onderverdeling"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/bewapening",activeClassName:"linkActiveClass",children:"bewapening"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/veldslagen",activeClassName:"linkActiveClass",children:"veldslagen"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/besluit",activeClassName:"linkActiveClass",children:"besluit"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/oclat/bronnen",activeClassName:"linkActiveClass",children:"bronnen"}))]))]),(0,i.createVNode)(2,"section","content",n),(0,i.createVNode)(2,"footer",null,[(0,i.createVNode)(2,"span",null,"mei 2017"),(0,i.createVNode)(2,"span",null,"Kosh 6LWib"),(0,i.createVNode)(2,"span",null,"Aquila Ziedins (6), Tobias Alexander (1)")])])}function a(e){e.children;return(0,i.createVNode)(2,"div",null,"Hier bent u uit het Romeinse rijk")}var i=t(1),l=r(i),d=t(30),s=t(29),u=r(s);t(28);var c=t(25),p=t(26),h=t(23),f=t(27),v=t(22),g=t(24),m=(0,u.default)(),b=(0,i.createVNode)(16,d.Router,null,null,{history:m,children:(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat",component:o,children:[(0,i.createVNode)(16,d.IndexRoute,null,null,{component:c.Inleiding}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat",component:c.Inleiding}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/onderverdeling",component:p.Onderverdeling}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/bewapening",component:h.Bewapening}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/veldslagen",component:f.Veldslagen}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/besluit",component:v.Besluit}),(0,i.createVNode)(16,d.Route,null,null,{path:"/oclat/bronnen",component:g.Bronnen}),(0,i.createVNode)(16,d.Route,null,null,{path:"*",component:a})]})});l.default.render(b,document.getElementById("app"))},function(e,n,t){"use strict";n.__esModule=!0;n.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),n.addEventListener=function(e,n,t){return e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,t)},n.removeEventListener=function(e,n,t){return e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent("on"+n,t)},n.getConfirmation=function(e,n){return n(window.confirm(e))},n.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},n.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},n.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},n.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.locationsAreEqual=n.createLocation=void 0;var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a=t(55),i=r(a),l=t(56),d=r(l),s=t(13);n.createLocation=function(e,n,t,r){var a=void 0;return"string"==typeof e?(a=(0,s.parsePath)(e),a.state=n):(a=o({},e),void 0===a.pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==n&&void 0===a.state&&(a.state=n)),a.key=t,r&&(a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.default)(a.pathname,r.pathname)):a.pathname=r.pathname),a},n.locationsAreEqual=function(e,n){return e.pathname===n.pathname&&e.search===n.search&&e.hash===n.hash&&e.key===n.key&&(0,d.default)(e.state,n.state)}},function(e,n,t){"use strict";n.__esModule=!0;var r=t(21),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){var e=null,n=function(n){return(0,o.default)(null==e,"A history supports only one prompt at a time"),e=n,function(){e===n&&(e=null)}},t=function(n,t,r,a){if(null!=e){var i="function"==typeof e?e(n,t):e;"string"==typeof i?"function"==typeof r?r(i,a):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==i)}else a(!0)},r=[];return{setPrompt:n,confirmTransitionTo:t,appendListener:function(e){var n=!0,t=function(){n&&e.apply(void 0,arguments)};return r.push(t),function(){n=!1,r=r.filter(function(e){return e!==t})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];r.forEach(function(e){return e.apply(void 0,n)})}}};n.default=a},function(e,n,t){"use strict";function r(e,n){if(28&e.flags){var t=e.parentVNode;t&&(t.dom=n,r(t,n))}}function o(e,n,t){var r=s.get(e);void 0===r&&(r=[],s.set(e,r),u.then(function(){s.delete(e),e._updating=!0,i(e,n,function(){for(var n=0,t=r.length;n<t;n++)r[n].call(e)}),e._updating=!1})),d.isNullOrUndef(t)||r.push(t)}function a(e,n,t){d.isFunction(n)&&(n=n(e.state,e.props,e.context));var r=e._pendingState;if(null===r)e._pendingState=r=n;else for(var a in n)r[a]=n[a];if(!d.isBrowser||e._pendingSetState||e._blockRender){var l=e.state;if(null===l)e.state=r;else for(var s in r)l[s]=r[s];e._pendingState=null,!d.isNullOrUndef(t)&&e._blockRender&&e._lifecycle.addListener(t.bind(e))}else e._updating?o(e,!1,t):(e._pendingSetState=!0,e._updating=!0,i(e,!1,t),e._updating=!1)}function i(e,n,t){if(!e._unmounted){if(n||!e._blockRender){e._pendingSetState=!1;var o=e._pendingState,a=e.state,i=d.combineFrom(a,o),s=e.props,u=e.context;e._pendingState=null;var c=e._updateComponent(a,i,s,s,u,n,!0),p=!0;d.isInvalid(c)?c=l.createVNode(4096,null):c===d.NO_OP?(c=e._lastInput,p=!1):d.isStringOrNumber(c)?c=l.createVNode(1,null,null,c):d.isArray(c)&&d.throwError();var h=e._lastInput,f=e._vNode,v=h.dom&&h.dom.parentNode||(h.dom=f.dom);if(e._lastInput=c,p){var g=void 0;d.isUndefined(e.getChildContext)||(g=e.getChildContext()),g=d.isNullOrUndef(g)?e._childContext:d.combineFrom(u,g);var m=e._lifecycle;l.internal_patch(h,c,v,m,g,e._isSVG,!1),m.trigger(),d.isUndefined(e.componentDidUpdate)||e.componentDidUpdate(s,a,u),d.isNull(l.options.afterUpdate)||l.options.afterUpdate(f)}var b=f.dom=c.dom;l.options.findDOMNodeEnabled&&l.internal_DOMNodeMap.set(e,c.dom),r(f,b)}else e.state=e._pendingState,e._pendingState=null;d.isNullOrUndef(t)||t.call(e)}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(1),d=t(0),s=(d.ERROR_MSG,new Map),u=Promise.resolve(),c=function(){function e(e,n){this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._isSVG=!1,this._updating=!0,this.props=e||l.EMPTY_OBJ,this.context=n||l.EMPTY_OBJ}return e.prototype.forceUpdate=function(e){!this._unmounted&&d.isBrowser&&i(this,!0,e)},e.prototype.setState=function(e,n){this._unmounted||(this._blockSetState?d.throwError():a(this,e,n))},e.prototype.setStateSync=function(e){this.setState(e)},e.prototype._updateComponent=function(e,n,t,r,o,a,i){if(!0===this._unmounted&&d.throwError(),t!==r||r===l.EMPTY_OBJ||e!==n||a){if(t===r&&r!==l.EMPTY_OBJ||(d.isUndefined(this.componentWillReceiveProps)||i||(this._blockRender=!0,this.componentWillReceiveProps(r,o),this._blockRender=!1),this._pendingSetState&&(n=d.combineFrom(n,this._pendingState),this._pendingSetState=!1,this._pendingState=null)),d.isUndefined(this.shouldComponentUpdate)||this.shouldComponentUpdate(r,n,o)||a){d.isUndefined(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(r,n,o),this._blockSetState=!1),this.props=r,this.state=n,this.context=o,l.options.beforeRender&&l.options.beforeRender(this);var s=this.render(r,n,o);return l.options.afterRender&&l.options.afterRender(this),s}this.props=r,this.state=n,this.context=o}return d.NO_OP},e.prototype.render=function(e,n,t){},e}();n.default=c},function(e,n,t){"use strict";function r(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(a.isInvalid(e)||a.isObject(e))throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");var l,d=t,s=null,u=null,c=null,p=0;if(t&&(1===t.length?d=t[0]:0===t.length&&(d=void 0)),a.isString(e)){if(p=o.getFlagsForElementVnode(e),!a.isNullOrUndef(n)){l={};for(var h in n)"className"===h||"class"===h?c=n[h]:"key"===h?u=n.key:"children"===h&&a.isUndefined(d)?d=n.children:"ref"===h?s=n.ref:l[h]=n[h]}}else if(p=16,a.isUndefined(d)||(n||(n={}),n.children=d,d=null),!a.isNullOrUndef(n)){l={};for(var h in n)i.has(h)?(s||(s={}),s[h]=n[h]):"key"===h?u=n.key:l[h]=n[h]}return o.createVNode(p,e,c,d,l,u,s)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),a=t(0),i=new Set;i.add("onComponentWillMount"),i.add("onComponentDidMount"),i.add("onComponentWillUnmount"),i.add("onComponentShouldUpdate"),i.add("onComponentWillUpdate"),i.add("onComponentDidUpdate"),n.default=r},function(e,n,t){"use strict";function r(e){return e.to="/",o.createVNode(8,a.default,null,null,e)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),a=t(15);n.default=r},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(7),a=function(e){function n(n,t){var r=e.call(this,n,t)||this;return n.path="/",r}return r(n,e),n}(o.default);n.default=a},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(7),a=function(e){function n(n,t){var r=e.call(this,n,t)||this;return n.to||(n.to="/"),r}return r(n,e),n}(o.default);n.default=a},function(e,n,t){"use strict";function r(e){if(!e)throw new TypeError('Inferno: Error "inferno-router" requires a history prop passed');return{createHref:e.createHref,listen:e.listen,push:e.push,replace:e.replace,isActive:function(e){return l.matchPath(!0,e,this.url)},get location(){return"blank"!==e.location.pathname?e.location:{pathname:"/",search:""}},get url(){return this.location.pathname+this.location.search}}}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t(1),i=t(10),l=t(17),d=t(16),s=function(e){function n(n,t){var o=e.call(this,n,t)||this;return o.router=r(n.history),o.state={url:n.url||o.router.url},o}return o(n,e),n.prototype.componentWillMount=function(){var e=this;this.router&&(this.unlisten=this.router.listen(function(){e.routeTo(e.router.url)}))},n.prototype.componentWillReceiveProps=function(e){var n=this;this.setState({url:e.url},this.props.onUpdate?function(){return n.props.onUpdate()}:void 0)},n.prototype.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.prototype.routeTo=function(e){var n=this;this.setState({url:e},this.props.onUpdate?function(){return n.props.onUpdate()}:void 0)},n.prototype.render=function(e){var n=this,t=l.default(e.children,this.state.url);return t.redirect?(setTimeout(function(){n.router.replace(t.redirect)},0),null):a.createVNode(4,d.default,null,null,{location:this.state.url,matched:t.matched,router:this.router})},n}(i.default);n.default=s},function(e,n,t){"use strict";function r(e){if(e.indexRoute&&!e.childRoutes)return o.default(i.default,e);var n={};for(var t in e)n[t]=e[t];if(n.children=[],n.indexRoute&&(n.children.push(l(n.indexRoute)),delete n.indexRoute),n.childRoutes){var r=a.isArray(n.childRoutes)?n.childRoutes:[n.childRoutes];(d=n.children).push.apply(d,s(r)),delete n.childRoutes}return 1===n.children.length&&(n.children=n.children[0]),(a.isArray(n.children)&&0===n.children.length||!a.isArray(n.children)&&0===Object.keys(n.children).length)&&delete n.children,o.default(i.default,n);var d}Object.defineProperty(n,"__esModule",{value:!0});var o=t(14),a=t(0),i=t(7),l=function(e){return o.default(i.default,e)},d=function(e){return r(e)},s=function(e){return e.map(d)};n.default=function(e){return e.map(r)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(41);n.createRoutes=r.default;var o=t(37);n.IndexLink=o.default;var a=t(38);n.IndexRoute=a.default;var i=t(15);n.Link=i.default;var l=t(17);n.match=l.default;var d=t(39);n.Redirect=d.default,n.IndexRedirect=d.default;var s=t(7);n.Route=s.default;var u=t(40);n.Router=u.default;var c=t(16);n.RouterContext=c.default,n.default={Route:s.default,IndexRoute:a.default,Redirect:d.default,IndexRedirect:d.default,Router:u.default,RouterContext:c.default,Link:i.default,IndexLink:o.default,match:l.default,createRoutes:r.default}},function(e,n,t){"use strict";function r(e){return n.isArray(e)?e:e?[e]:e}function o(e){return!h(e.prototype)&&!h(e.prototype.render)}function a(e){var n=typeof e;return"string"===n||"number"===n}function i(e){return h(e)||c(e)}function l(e){return c(e)||!1===e||p(e)||h(e)}function d(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return null===e}function p(e){return!0===e}function h(e){return void 0===e}function f(e){return"object"==typeof e}function v(e){throw e||(e=n.ERROR_MSG),new Error("Inferno Error: "+e)}function g(e){console.warn(e)}function m(e,n){var t={};if(e)for(var r in e)t[r]=e[r];if(n)for(var r in n)t[r]=n[r];return t}function b(){this.listeners=[]}Object.defineProperty(n,"__esModule",{value:!0}),n.NO_OP="$NO_OP",n.ERROR_MSG="a runtime error occured! Use Inferno in development environment to find the error.",n.isBrowser=!("undefined"==typeof window||!window.document),n.toArray=r,n.isArray=Array.isArray,n.isStatefulComponent=o,n.isStringOrNumber=a,n.isNullOrUndef=i,n.isInvalid=l,n.isFunction=d,n.isString=s,n.isNumber=u,n.isNull=c,n.isTrue=p,n.isUndefined=h,n.isObject=f,n.throwError=v,n.warning=g,n.combineFrom=m,n.Lifecycle=b,b.prototype.addListener=function(e){this.listeners.push(e)},b.prototype.trigger=function(){for(var e,n=this.listeners;e=n.shift();)e()}},function(e,n,t){"use strict";function r(e,n,t,r){var o=p.get(e);if(t)o||(o={items:new Map,docEvent:null},o.docEvent=l(e,o),p.set(e,o)),n||c&&"onClick"===e&&s(r),o.items.set(r,t);else if(o){var i=o.items;i.delete(r)&&0===i.size&&(document.removeEventListener(a(e),o.docEvent),p.delete(e))}}function o(e,n,t,r,a,i){var l=t.get(n);if((!l||(r--,i.dom=n,l.event?l.event(l.data,e):l(e),!e.cancelBubble))&&r>0){var d=n.parentNode;if(null===d||a&&1===d.nodeType&&d.disabled)return;o(e,d,t,r,a,i)}}function a(e){return e.substr(2).toLowerCase()}function i(){this.cancelBubble=!0,this.stopImmediatePropagation()}function l(e,n){var t=function(e){var t=n.items.size;if(t>0){e.stopPropagation=i;var r={dom:document};try{Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return r.dom}})}catch(e){}o(e,e.target,n.items,t,"click"===e.type,r)}};return document.addEventListener(a(e),t),t}function d(){}function s(e){e.onclick=d}Object.defineProperty(n,"__esModule",{value:!0});var u=t(0),c=u.isBrowser&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),p=new Map;n.handleEvent=r},function(e,n,t){"use strict";function r(e,n){return{data:e,event:n}}Object.defineProperty(n,"__esModule",{value:!0}),n.linkEvent=r},function(e,n,t){"use strict";function r(e){for(var n=e.firstChild;n;)if(8===n.nodeType)if("!"===n.data){var t=document.createTextNode("");e.replaceChild(t,n),n=n.nextSibling}else{var r=n.previousSibling;e.removeChild(n),n=r||e.firstChild}else n=n.nextSibling}function o(e,n,t,r,o,a){var i=e.type,l=e.ref;e.dom=n;var d=e.props||m.EMPTY_OBJ;if(a){var u=n.namespaceURI===h.svgNS,c=m.createClassComponentInstance(e,i,d,r,u,t),v=c._lastInput;c._vNode=e,s(v,n,t,c._childContext,u),f.mountClassComponentCallbacks(e,l,c,t),c._updating=!1,p.options.findDOMNodeEnabled&&g.componentToDOMNodeMap.set(c,n)}else{var v=m.createFunctionalComponentInput(e,i,d,r);s(v,n,t,r,o),e.children=v,e.dom=v.dom,f.mountFunctionalComponentCallbacks(l,n,t)}return n}function a(e,n,t,r,o){var a=e.children,l=e.props,d=e.className,s=e.flags,u=e.ref;if(o=o||(128&s)>0,1!==n.nodeType||n.tagName.toLowerCase()!==e.type){var p=f.mountElement(e,null,t,r,o);return e.dom=p,m.replaceChild(n.parentNode,p,n),p}if(e.dom=n,a&&i(a,n,t,r,o),l){var h=!1,g=(3584&s)>0;g&&(h=b.isControlledFormElement(l));for(var k in l)v.patchProp(k,null,l[k],n,o,h);g&&b.processElement(s,e,n,l,!0,h)}return c.isNullOrUndef(d)?n.removeAttribute("class"):o?n.setAttribute("class",d):n.className=d,u&&f.mountRef(n,u,t),n}function i(e,n,t,o,a){r(n);var i=n.firstChild;if(c.isArray(e))for(var l=0,d=e.length;l<d;l++){var u=e[l];!c.isNull(u)&&c.isObject(u)&&(c.isNull(i)?f.mount(u,n,t,o,a):i=s(u,i,t,o,a).nextSibling)}else c.isStringOrNumber(e)?(i&&3===i.nodeType?i.nodeValue!==e&&(i.nodeValue=e):e&&(n.textContent=e),i=i.nextSibling):c.isObject(e)&&(s(e,i,t,o,a),i=i.nextSibling);for(;i;){var p=i.nextSibling;n.removeChild(i),i=p}}function l(e,n){if(3!==n.nodeType){var t=f.mountText(e,null);return e.dom=t,m.replaceChild(n.parentNode,t,n),t}var r=e.children;return n.nodeValue!==r&&(n.nodeValue=r),e.dom=n,n}function d(e,n){return e.dom=n,n}function s(e,n,t,r,i){var s=e.flags;return 28&s?o(e,n,t,r,i,(4&s)>0):3970&s?a(e,n,t,r,i):1&s?l(e,n):4096&s?d(e,n):void c.throwError()}function u(e,n,t){if(!c.isNull(n)){var r=n.firstChild;if(!c.isNull(r)){for(s(e,r,t,m.EMPTY_OBJ,!1),r=n.firstChild;r=r.nextSibling;)n.removeChild(r);return!0}}return!1}Object.defineProperty(n,"__esModule",{value:!0});var c=t(0),p=t(3),h=t(8),f=t(9),v=t(5),g=t(6),m=t(2),b=t(12);n.normalizeChildNodes=r,n.hydrateRoot=u},function(e,n,t){"use strict";function r(e){return"checkbox"===e||"radio"===e}function o(e){var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onInput){var a=t.onInput;a.event?a.event(a.data,e):a(e)}else t.oninput&&t.oninput(e);var i=this,l=i.props||u.EMPTY_OBJ;o!==l.value&&d(l,r)}function a(e){var n=this.props||u.EMPTY_OBJ,t=n.onChange;t.event?t.event(t.data,e):t(e)}function i(e){e.stopPropagation();var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onClick){var a=t.onClick;a.event?a.event(a.data,e):a(e)}else t.onclick&&t.onclick(e);var i=this,l=i.props||u.EMPTY_OBJ;o!==l.value&&d(l,r)}function l(e,n,t,l,s){d(t,n),l&&s&&(r(t.type)?(n.onclick=i.bind(e),n.onclick.wrapped=!0):(n.oninput=o.bind(e),n.oninput.wrapped=!0),t.onChange&&(n.onchange=a.bind(e),n.onchange.wrapped=!0))}function d(e,n){var t=e.type,o=e.value,a=e.checked,i=e.multiple,l=e.defaultValue,d=!s.isNullOrUndef(o);t&&t!==n.type&&n.setAttribute("type",t),i&&i!==n.multiple&&(n.multiple=i),s.isNullOrUndef(l)||d||(n.defaultValue=l+""),r(t)?(d&&(n.value=o),s.isNullOrUndef(a)||(n.checked=a)):d&&n.value!==o?n.value=o:s.isNullOrUndef(a)||(n.checked=a)}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(2);n.isCheckedType=r,n.processInput=l,n.applyValue=d},function(e,n,t){"use strict";function r(e,n){if("optgroup"===e.type){var t=e.children;if(d.isArray(t))for(var r=0,a=t.length;r<a;r++)o(t[r],n);else s.isVNode(t)&&o(t,n)}else o(e,n)}function o(e,n){var t=e.props||u.EMPTY_OBJ,r=e.dom;r.value=t.value,d.isArray(n)&&-1!==n.indexOf(t.value)||t.value===n?r.selected=!0:d.isNullOrUndef(n)&&d.isNullOrUndef(t.selected)||(r.selected=t.selected||!1)}function a(e){var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onChange){var a=t.onChange;a.event?a.event(a.data,e):a(e)}else t.onchange&&t.onchange(e);var i=this,d=i.props||u.EMPTY_OBJ;o!==d.value&&l(i,r,d,!1)}function i(e,n,t,r,o){l(e,n,t,r),r&&o&&(n.onchange=a.bind(e),n.onchange.wrapped=!0)}function l(e,n,t,o){t.multiple!==n.multiple&&(n.multiple=t.multiple);var a=e.children;if(!d.isInvalid(a)){var i=t.value;if(o&&d.isNullOrUndef(i)&&(i=t.defaultValue),d.isArray(a))for(var l=0,u=a.length;l<u;l++)r(a[l],i);else s.isVNode(a)&&r(a,i)}}Object.defineProperty(n,"__esModule",{value:!0});var d=t(0),s=t(4),u=t(2);n.processSelect=i,n.applyValue=l},function(e,n,t){"use strict";function r(e){var n=this.props||d.EMPTY_OBJ,t=n.onChange;t.event?t.event(t.data,e):t(e)}function o(e){var n=this,t=n.props||d.EMPTY_OBJ,r=t.value;if(t.onInput){var o=t.onInput;o.event?o.event(o.data,e):o(e)}else t.oninput&&t.oninput(e);var a=this;r!==(a.props||d.EMPTY_OBJ).value&&i(a,n.dom,!1)}function a(e,n,t,a,l){i(t,n,a),a&&l&&(n.oninput=o.bind(e),n.oninput.wrapped=!0,t.onChange&&(n.onchange=r.bind(e),n.onchange.wrapped=!0))}function i(e,n,t){var r=e.value,o=n.value;if(l.isNullOrUndef(r)){if(t){var a=e.defaultValue;l.isNullOrUndef(a)?""!==o&&(n.value=""):a!==o&&(n.value=a)}}else o!==r&&(n.value=r)}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),d=t(2);n.processTextarea=a,n.applyValue=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0);n.NO_OP=r.NO_OP;var o=t(20);n.getFlagsForElementVnode=o.getFlagsForElementVnode,n.internal_normalize=o.normalize;var a=t(3);n.options=a.options;var i=t(4);n.cloneVNode=i.cloneVNode,n.createVNode=i.createVNode;var l=t(8);n.internal_isUnitlessNumber=l.isUnitlessNumber;var d=t(45);n.linkEvent=d.linkEvent;var s=t(5);n.internal_patch=s.patch;var u=t(6);n.internal_DOMNodeMap=u.componentToDOMNodeMap,n.createRenderer=u.createRenderer,n.findDOMNode=u.findDOMNode,n.render=u.render;var c=t(2);n.EMPTY_OBJ=c.EMPTY_OBJ;n.version="3.1.0",n.default={getFlagsForElementVnode:o.getFlagsForElementVnode,linkEvent:d.linkEvent,createVNode:i.createVNode,cloneVNode:i.cloneVNode,NO_OP:r.NO_OP,EMPTY_OBJ:c.EMPTY_OBJ,render:u.render,findDOMNode:u.findDOMNode,createRenderer:u.createRenderer,options:a.options,version:"3.1.0",internal_patch:s.patch,internal_DOMNodeMap:u.componentToDOMNodeMap,internal_isUnitlessNumber:l.isUnitlessNumber,internal_normalize:o.normalize}},function(e,n,t){"use strict";var r=function(e,n,t,r,o,a,i,l){if(!e){var d;if(void 0===n)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[t,r,o,a,i,l],u=0;d=new Error(n.replace(/%s/g,function(){return s[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};e.exports=r},function(e,n){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,n,t){var r=t(54);e.exports=r,e.exports.parse=r.parse,e.exports.compile=r.compile,e.exports.tokensToFunction=r.tokensToFunction,e.exports.tokensToRegExp=r.tokensToRegExp,e.exports.default=e.exports},function(e,n,t){function r(e,n){for(var t,r=[],o=0,a=0,i="",l=n&&n.delimiter||"/";null!=(t=b.exec(e));){var u=t[0],c=t[1],p=t.index;if(i+=e.slice(a,p),a=p+u.length,c)i+=c[1];else{var h=e[a],f=t[2],v=t[3],g=t[4],m=t[5],k=t[6],w=t[7];i&&(r.push(i),i="");var N=null!=f&&null!=h&&h!==f,y="+"===k||"*"===k,j="?"===k||"*"===k,V=t[2]||l,O=g||m;r.push({name:v||o++,prefix:f||"",delimiter:V,optional:j,repeat:y,partial:N,asterisk:!!w,pattern:O?s(O):w?".*":"[^"+d(V)+"]+?"})}}return a<e.length&&(i+=e.substr(a)),i&&r.push(i),r}function o(e,n){return l(r(e,n))}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){for(var n=new Array(e.length),t=0;t<e.length;t++)"object"==typeof e[t]&&(n[t]=new RegExp("^(?:"+e[t].pattern+")$"));return function(t,r){for(var o="",l=t||{},d=r||{},s=d.pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var p,h=l[c.name];if(null==h){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(m(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=s(h[f]),!n[u].test(p))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===f?c.prefix:c.delimiter)+p}}else{if(p=c.asterisk?i(h):s(h),!n[u].test(p))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+p+'"');o+=c.prefix+p}}else o+=c}return o}}function d(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,n){return e.keys=n,e}function c(e){return e.sensitive?"":"i"}function p(e,n){var t=e.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)n.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,n)}function h(e,n,t){for(var r=[],o=0;o<e.length;o++)r.push(g(e[o],n,t).source);return u(new RegExp("(?:"+r.join("|")+")",c(t)),n)}function f(e,n,t){return v(r(e,t),n,t)}function v(e,n,t){m(n)||(t=n||t,n=[]),t=t||{};for(var r=t.strict,o=!1!==t.end,a="",i=0;i<e.length;i++){var l=e[i];if("string"==typeof l)a+=d(l);else{var s=d(l.prefix),p="(?:"+l.pattern+")";n.push(l),l.repeat&&(p+="(?:"+s+p+")*"),p=l.optional?l.partial?s+"("+p+")?":"(?:"+s+"("+p+"))?":s+"("+p+")",a+=p}}var h=d(t.delimiter||"/"),f=a.slice(-h.length)===h;return r||(a=(f?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":r&&f?"":"(?="+h+"|$)",u(new RegExp("^"+a,c(t)),n)}function g(e,n,t){return m(n)||(t=n||t,n=[]),t=t||{},e instanceof RegExp?p(e,n):m(e)?h(e,n,t):f(e,n,t)}var m=t(52);e.exports=g,e.exports.parse=r,e.exports.compile=o,e.exports.tokensToFunction=l,e.exports.tokensToRegExp=v;var b=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,n,t){"use strict";var r=function(e){return"/"===e.charAt(0)},o=function(e,n){for(var t=n,r=t+1,o=e.length;r<o;t+=1,r+=1)e[t]=e[r];e.pop()},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=e&&e.split("/")||[],a=n&&n.split("/")||[],i=e&&r(e),l=n&&r(n),d=i||l;if(e&&r(e)?a=t:t.length&&(a.pop(),a=a.concat(t)),!a.length)return"/";var s=void 0;if(a.length){var u=a[a.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,p=a.length;p>=0;p--){var h=a[p];"."===h?o(a,p):".."===h?(o(a,p),c++):c&&(o(a,p),c--)}if(!d)for(;c--;c)a.unshift("..");!d||""===a[0]||a[0]&&r(a[0])||a.unshift("");var f=a.join("/");return s&&"/"!==f.substr(-1)&&(f+="/"),f};e.exports=a},function(e,n,t){"use strict";n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function e(n,t){if(n===t)return!0;if(null==n||null==t)return!1;if(Array.isArray(n))return Array.isArray(t)&&n.length===t.length&&n.every(function(n,r){return e(n,t[r])});var o=void 0===n?"undefined":r(n);if(o!==(void 0===t?"undefined":r(t)))return!1;if("object"===o){var a=n.valueOf(),i=t.valueOf();if(a!==n||i!==t)return e(a,i);var l=Object.keys(n),d=Object.keys(t);return l.length===d.length&&l.every(function(r){return e(n[r],t[r])})}return!1};n.default=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAzYzMwYWE1NWE4MGQ2M2JlZDJiOCIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tc2hhcmVkL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvY29yZS9vcHRpb25zLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L2NvcmUvVk5vZGVzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9wYXRjaGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vcmVuZGVyaW5nLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9Sb3V0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9tb3VudGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS91bm1vdW50aW5nLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9wcm9jZXNzRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvUGF0aFV0aWxzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1jcmVhdGUtZWxlbWVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvTGluay5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvbWF0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9yZWN5Y2xpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvY29yZS9ub3JtYWxpemF0aW9uLmpzIiwid2VicGFjazovLy8uL34vd2FybmluZy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9iZXNsdWl0LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYmV3YXBlbmluZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jyb25uZW4uanN4Iiwid2VicGFjazovLy8uL3NyYy9pbmxlaWRpbmcuanN4Iiwid2VicGFjazovLy8uL3NyYy9vbmRlcnZlcmRlbGluZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZlbGRzbGFnZW4uanN4Iiwid2VicGFjazovLy8uL34vaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzeCIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvRE9NVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L0xvY2F0aW9uVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1jb21wb25lbnQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tY3JlYXRlLWVsZW1lbnQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvSW5kZXhMaW5rLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9JbmRleFJvdXRlLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9SZWRpcmVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9jcmVhdGVSb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1zaGFyZWQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2RlbGVnYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvRE9NL2V2ZW50cy9saW5rRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvRE9NL2h5ZHJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vd3JhcHBlcnMvSW5wdXRXcmFwcGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9TZWxlY3RXcmFwcGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9UZXh0YXJlYVdyYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wYXRoLXRvLXJlZ2V4cC1lczYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wYXRoLXRvLXJlZ2V4cC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3Jlc29sdmUtcGF0aG5hbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi92YWx1ZS1lcXVhbC9pbmRleC5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiaG90RGlzcG9zZUNodW5rIiwiY2h1bmtJZCIsImluc3RhbGxlZENodW5rcyIsImhvdERvd25sb2FkVXBkYXRlQ2h1bmsiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hhcnNldCIsInNyYyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiaG90Q3VycmVudEhhc2giLCJhcHBlbmRDaGlsZCIsImhvdERvd25sb2FkTWFuaWZlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlhNTEh0dHBSZXF1ZXN0IiwiRXJyb3IiLCJyZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsImhvdENyZWF0ZVJlcXVpcmUiLCJtb2R1bGVJZCIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsImZuIiwiaG90IiwiYWN0aXZlIiwicGFyZW50cyIsImluZGV4T2YiLCJwdXNoIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwibmFtZSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiaG90Q2h1bmtzTG9hZGluZyIsImhvdFN0YXR1cyIsImhvdFdhaXRpbmdGaWxlc01hcCIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJob3RDcmVhdGVNb2R1bGUiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJfbWFpbiIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwiaSIsImxlbmd0aCIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImNoZWNrIiwiaG90Q2hlY2siLCJhcHBseSIsImhvdEFwcGx5IiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJkYXRhIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJ1bmRlZmluZWQiLCJuZXdTdGF0dXMiLCJ0b01vZHVsZUlkIiwiaWQiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImMiLCJob3RVcGRhdGVOZXdIYXNoIiwiaCIsInByb21pc2UiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZSIsImhvdEFkZFVwZGF0ZUNodW5rIiwibW9yZU1vZHVsZXMiLCJkZWZlcnJlZCIsInJlc3VsdCIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImNiIiwiaiIsIm1vZHVsZSIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsInVwZGF0ZU1vZHVsZUlkIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwicGFyZW50SWQiLCJwYXJlbnQiLCJjb25jYXQiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsImpvaW4iLCJvbkRlY2xpbmVkIiwiaWdub3JlRGVjbGluZWQiLCJvblVuYWNjZXB0ZWQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib25BY2NlcHRlZCIsIm9uRGlzcG9zZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImRpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwiZGVwZW5kZW5jeSIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yZ2luYWxFcnJvciIsImV4cG9ydHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsInRoaXMiLCJtIiwiZCIsImdldHRlciIsIm8iLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsImRlZmF1bHQiLCJjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlIiwidk5vZGUiLCJDb21wb25lbnQiLCJwcm9wcyIsImNvbnRleHQiLCJpc1NWRyIsImxpZmVjeWNsZSIsImluZmVybm9fc2hhcmVkXzEiLCJpc1VuZGVmaW5lZCIsIkVNUFRZX09CSiIsImluc3RhbmNlIiwiX2Jsb2NrU2V0U3RhdGUiLCJfbGlmZWN5Y2xlIiwiX3VubW91bnRlZCIsIl9wZW5kaW5nU2V0U3RhdGUiLCJfaXNTVkciLCJjb21wb25lbnRXaWxsTW91bnQiLCJfYmxvY2tSZW5kZXIiLCJjaGlsZENvbnRleHQiLCJnZXRDaGlsZENvbnRleHQiLCJpc051bGxPclVuZGVmIiwiX2NoaWxkQ29udGV4dCIsImNvbWJpbmVGcm9tIiwiaXNOdWxsIiwib3B0aW9uc18xIiwiYmVmb3JlUmVuZGVyIiwiaW5wdXQiLCJyZW5kZXIiLCJzdGF0ZSIsImFmdGVyUmVuZGVyIiwiaXNBcnJheSIsInRocm93RXJyb3IiLCJpc0ludmFsaWQiLCJWTm9kZXNfMSIsImNyZWF0ZVZvaWRWTm9kZSIsImlzU3RyaW5nT3JOdW1iZXIiLCJjcmVhdGVUZXh0Vk5vZGUiLCJkb20iLCJkaXJlY3RDbG9uZSIsImZsYWdzIiwicGFyZW50Vk5vZGUiLCJfbGFzdElucHV0IiwicmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQiLCJsYXN0SW5wdXQiLCJuZXh0SW5wdXQiLCJwYXJlbnREb20iLCJpc1JlY3ljbGluZyIsInJlcGxhY2VWTm9kZSIsIm1vdW50aW5nXzEiLCJtb3VudCIsInVubW91bnRpbmdfMSIsInVubW91bnQiLCJyZXBsYWNlQ2hpbGQiLCJjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQiLCJjb21wb25lbnQiLCJzZXRUZXh0Q29udGVudCIsInRleHQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRleHROb2RlIiwidXBkYXRlVGV4dENvbnRlbnQiLCJmaXJzdENoaWxkIiwibm9kZVZhbHVlIiwiaW5zZXJ0T3JBcHBlbmQiLCJuZXdOb2RlIiwibmV4dE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJkb2N1bWVudENyZWF0ZUVsZW1lbnQiLCJ0YWciLCJjcmVhdGVFbGVtZW50TlMiLCJjb25zdGFudHNfMSIsInN2Z05TIiwicmVwbGFjZVdpdGhOZXdOb2RlIiwibGFzdE5vZGUiLCJuZXh0RG9tIiwibGFzdERvbSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUFsbENoaWxkcmVuIiwicmVjeWNsaW5nRW5hYmxlZCIsInJlbW92ZUNoaWxkcmVuIiwibGVuIiwiaXNLZXllZCIsImxhc3RDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsImtleSIsImFmdGVyTW91bnQiLCJhZnRlclVwZGF0ZSIsImJlZm9yZVVubW91bnQiLCJjcmVhdGVWTm9kZSIsImZpbmRET01Ob2RlRW5hYmxlZCIsInJvb3RzIiwiVk5vZGUiLCJjbGFzc05hbWUiLCJyZWYiLCJub05vcm1hbGlzZSIsImlzU3RhdGVmdWxDb21wb25lbnQiLCJub3JtYWxpemF0aW9uXzEiLCJub3JtYWxpemUiLCJ2Tm9kZVRvQ2xvbmUiLCJuZXdWTm9kZSIsInByb3BzVG9DbG9uZSIsInV0aWxzXzEiLCJuZXdQcm9wcyIsIm5ld0NoaWxkcmVuIiwidG1wQXJyYXkiLCJpc1ZOb2RlIiwiY2xvbmVWTm9kZSIsIl9jaGlsZHJlbiIsIl9pIiwiYXJndW1lbnRzIiwiY2hpbGRyZW5MZW4iLCJwYXRjaCIsImxhc3RWTm9kZSIsIm5leHRWTm9kZSIsImxhc3RGbGFncyIsIm5leHRGbGFncyIsInBhdGNoQ29tcG9uZW50IiwibW91bnRDb21wb25lbnQiLCJwYXRjaEVsZW1lbnQiLCJtb3VudEVsZW1lbnQiLCJwYXRjaFRleHQiLCJtb3VudFRleHQiLCJwYXRjaFZvaWQiLCJtb3VudFZvaWQiLCJ1bm1vdW50Q2hpbGRyZW4iLCJuZXh0VGFnIiwibGFzdFByb3BzIiwibmV4dFByb3BzIiwibmV4dFJlZiIsImxhc3RDbGFzc05hbWUiLCJuZXh0Q2xhc3NOYW1lIiwicGF0Y2hDaGlsZHJlbiIsImxhc3RQcm9wc09yRW1wdHkiLCJuZXh0UHJvcHNPckVtcHR5IiwiaGFzQ29udHJvbGxlZFZhbHVlIiwiaXNGb3JtRWxlbWVudCIsInByb2Nlc3NFbGVtZW50XzEiLCJpc0NvbnRyb2xsZWRGb3JtRWxlbWVudCIsInByb3AiLCJuZXh0VmFsdWUiLCJwYXRjaFByb3AiLCJwcm9jZXNzRWxlbWVudCIsInJlbW92ZVByb3AiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJtb3VudFJlZiIsInBhdGNoQXJyYXkiLCJwYXRjaEtleWVkIiwibW91bnRBcnJheUNoaWxkcmVuIiwicGF0Y2hLZXllZENoaWxkcmVuIiwicGF0Y2hOb25LZXllZENoaWxkcmVuIiwiaXNDbGFzcyIsImxhc3RUeXBlIiwibmV4dFR5cGUiLCJsYXN0S2V5IiwibmV4dEtleSIsIl91cGRhdGluZyIsImhhc0NvbXBvbmVudERpZFVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsIm5leHRTdGF0ZSIsImxhc3RTdGF0ZSIsIl91cGRhdGVDb21wb25lbnQiLCJkaWRVcGRhdGUiLCJOT19PUCIsImlzT2JqZWN0IiwiX3ZOb2RlIiwicmVuZGVyaW5nXzEiLCJjb21wb25lbnRUb0RPTU5vZGVNYXAiLCJzaG91bGRVcGRhdGUiLCJuZXh0SG9va3MiLCJuZXh0SG9va3NEZWZpbmVkIiwib25Db21wb25lbnRTaG91bGRVcGRhdGUiLCJvbkNvbXBvbmVudFdpbGxVcGRhdGUiLCJvbkNvbXBvbmVudERpZFVwZGF0ZSIsIm5leHRUZXh0IiwibGFzdENoaWxkcmVuTGVuZ3RoIiwibmV4dENoaWxkcmVuTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwiYU5vZGUiLCJiTm9kZSIsIm5leHRQb3MiLCJub2RlIiwiYUxlbmd0aCIsImJMZW5ndGgiLCJhRW5kIiwiYkVuZCIsImFTdGFydCIsImJTdGFydCIsImFTdGFydE5vZGUiLCJiU3RhcnROb2RlIiwiYUVuZE5vZGUiLCJiRW5kTm9kZSIsIm91dGVyIiwic291cmNlcyIsIkFycmF5IiwibW92ZWQiLCJwb3MiLCJwYXRjaGVkIiwia2V5SW5kZXgiLCJNYXAiLCJzZXEiLCJsaXNfYWxnb3JpdGhtIiwiYXJyIiwidSIsInYiLCJhcnJJIiwiaXNBdHRyQW5FdmVudCIsImF0dHIiLCJsYXN0VmFsdWUiLCJza2lwUHJvcHMiLCJoYXMiLCJib29sZWFuUHJvcHMiLCJ0b0xvd2VyQ2FzZSIsInN0cmljdFByb3BzIiwicGF0Y2hFdmVudCIsInBhdGNoU3R5bGUiLCJsYXN0SHRtbCIsIl9faHRtbCIsIm5leHRIdG1sIiwiaW5uZXJIVE1MIiwibmFtZXNwYWNlcyIsInNldEF0dHJpYnV0ZU5TIiwiZGVsZWdhdGVkRXZlbnRzIiwiZGVsZWdhdGlvbl8xIiwiaGFuZGxlRXZlbnQiLCJuYW1lTG93ZXJDYXNlIiwiZG9tRXZlbnQiLCJ3cmFwcGVkIiwiaXNGdW5jdGlvbiIsImxpbmtFdmVudF8xIiwiZXZlbnQiLCJsYXN0QXR0clZhbHVlIiwibmV4dEF0dHJWYWx1ZSIsImRvbVN0eWxlIiwic3R5bGUiLCJpc1N0cmluZyIsImNzc1RleHQiLCJpc051bWJlciIsImlzVW5pdGxlc3NOdW1iZXIiLCJmaW5kRE9NTm9kZSIsIm5vZGVUeXBlIiwiZ2V0Um9vdCIsInJvb3QiLCJzZXRSb290IiwicmVtb3ZlUm9vdCIsImRvY3VtZW50Qm9keSIsIkxpZmVjeWNsZSIsImh5ZHJhdGlvbl8xIiwiaHlkcmF0ZVJvb3QiLCJ0cmlnZ2VyIiwibGlzdGVuZXJzIiwicGF0Y2hpbmdfMSIsInJvb3RJbnB1dCIsImNyZWF0ZVJlbmRlcmVyIiwiaXNCcm93c2VyIiwiYm9keSIsIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJpbmZlcm5vX2NvbXBvbmVudF8xIiwiaW5mZXJub19jcmVhdGVfZWxlbWVudF8xIiwicmVzb2x2ZWRQcm9taXNlIiwiUm91dGUiLCJfc3VwZXIiLCJfdGhpcyIsIl9vbkNvbXBvbmVudFJlc29sdmVkIiwic2V0U3RhdGUiLCJhc3luY0NvbXBvbmVudCIsIm9uRW50ZXIiLCJyb3V0ZXIiLCJnZXRDb21wb25lbnQiLCJvbkxlYXZlIiwicGF0aCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIl9hcmdzIiwicmVzdCIsInJlc29sdmVkQ29tcG9uZW50IiwieGxpbmtOUyIsInhtbE5TIiwiU2V0IiwiYWRkIiwiZG9tXzEiLCJyZWN5Y2xpbmdfMSIsInJlY3ljbGVFbGVtZW50IiwiZG9tXzIiLCJyZWN5Y2xlQ29tcG9uZW50IiwibW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyIsIm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyIsImhhc0RpZE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJhZGRMaXN0ZW5lciIsIm9uQ29tcG9uZW50V2lsbE1vdW50Iiwib25Db21wb25lbnREaWRNb3VudCIsImNhblJlY3ljbGUiLCJ1bm1vdW50Q29tcG9uZW50IiwidW5tb3VudEVsZW1lbnQiLCJ1bm1vdW50Vm9pZE9yVGV4dCIsImRlbGV0ZSIsIm9uQ29tcG9uZW50V2lsbFVubW91bnQiLCJwb29sQ29tcG9uZW50IiwidW5tb3VudFJlZiIsIm5hbWVfMSIsInBvb2xFbGVtZW50IiwibW91bnRpbmciLCJpc0NvbnRyb2xsZWQiLCJJbnB1dFdyYXBwZXJfMSIsInByb2Nlc3NJbnB1dCIsIlNlbGVjdFdyYXBwZXJfMSIsInByb2Nlc3NTZWxlY3QiLCJUZXh0YXJlYVdyYXBwZXJfMSIsInByb2Nlc3NUZXh0YXJlYSIsImlzQ2hlY2tlZFR5cGUiLCJjaGVja2VkIiwiYWRkTGVhZGluZ1NsYXNoIiwiY2hhckF0Iiwic3RyaXBMZWFkaW5nU2xhc2giLCJzdWJzdHIiLCJzdHJpcFByZWZpeCIsInByZWZpeCIsInN0cmlwVHJhaWxpbmdTbGFzaCIsInBhcnNlUGF0aCIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImhhc2hJbmRleCIsInNlYXJjaEluZGV4IiwiZGVjb2RlVVJJIiwiY3JlYXRlUGF0aCIsImxvY2F0aW9uIiwiZW5jb2RlVVJJIiwicmVuZGVyTGluayIsImNsYXNzTm0iLCJvdGhlclByb3BzIiwiaW5mZXJub18xIiwiTGluayIsIl9hIiwiYWN0aXZlQ2xhc3NOYW1lIiwiYWN0aXZlU3R5bGUiLCJvbkNsaWNrIiwidG8iLCJfX3Jlc3QiLCJocmVmIiwiY3JlYXRlSHJlZiIsImJhc2VVcmwiLCJvbmNsaWNrIiwiYnV0dG9uIiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwidCIsImdldE93blByb3BlcnR5U3ltYm9scyIsIlJvdXRlckNvbnRleHQiLCJtYXRjaGVkIiwibWF0Y2giLCJyb3V0ZXMiLCJjdXJyZW50VVJMIiwiZ2V0VVJMU3RyaW5nIiwibWF0Y2hSb3V0ZXMiLCJ0b0FycmF5IiwiX3JvdXRlcyIsInBhcmVudFBhdGgiLCJyZWRpcmVjdCIsImZsYXR0ZW4iLCJzcGxpdCIsIl9iIiwicGF0aFRvTWF0Y2giLCJfYyIsInBhcmFtcyIsIm1hcFNlYXJjaFBhcmFtcyIsInNvcnQiLCJwYXRoUmFua1NvcnQiLCJyb3V0ZSIsImVtcHR5T2JqZWN0Iiwicm91dGVQYXRoIiwiZnJvbSIsImxvY2F0aW9uXzEiLCJ0b1BhcnRpYWxVUkwiLCJyZXBsYWNlIiwiaXNMYXN0IiwiaXNFbXB0eSIsIm1hdGNoQmFzZSIsIm1hdGNoUGF0aCIsIm1hdGNoQ2hpbGQiLCJjaGlsZFByb3BzIiwiZW5kIiwicmVnZXhwIiwiY2FjaGUiLCJwYXR0ZXJuIiwicGF0aF90b19yZWdleHBfZXM2XzEiLCJleGVjIiwiZGVjb2RlIiwidmFsIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwib2xkQXJyYXkiLCJuZXdBcnJheSIsImZsYXR0ZW5BcnJheSIsImZyYWdtZW50cyIsImZyYWdtZW50IiwibWFwRnJhZ21lbnQiLCJrIiwiZnVsbFVSTCIsInBhcnRVUkwiLCJleGNsdWRlZCIsImFBdHRyIiwiYkF0dHIiLCJyYW5rIiwiaXNWYWwiLCJzdHJpcCIsInVybCIsInBvb2xzIiwiZWxlbWVudFBvb2xzIiwicG9vbCIsIm5vbktleWVkIiwia2V5ZWQiLCJyZWN5Y2xlZFZOb2RlIiwiY29tcG9uZW50UG9vbHMiLCJob29rcyIsImFwcGx5S2V5IiwiYXBwbHlLZXlJZk1pc3NpbmciLCJhcHBseUtleVByZWZpeCIsIl9ub3JtYWxpemVWTm9kZXMiLCJub2RlcyIsImluZGV4IiwiY3VycmVudEtleSIsIm5vcm1hbGl6ZVZOb2RlcyIsIm5ld05vZGVzIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJub3JtYWxpemVQcm9wcyIsImdldEZsYWdzRm9yRWxlbWVudFZub2RlIiwiZGVmYXVsdFByb3BzIiwid2FybmluZyIsIkJlc2x1aXQiLCJfaW5mZXJubyIsIkJld2FwZW5pbmciLCJyb3dzcGFuIiwiQnJvbm5lbiIsIklubGVpZGluZyIsIk9uZGVydmVyZGVsaW5nIiwiVmVsZHNsYWdlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsIl93YXJuaW5nIiwiX3dhcm5pbmcyIiwiX2ludmFyaWFudCIsIl9pbnZhcmlhbnQyIiwiX0xvY2F0aW9uVXRpbHMiLCJfUGF0aFV0aWxzIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiIsIl9ET01VdGlscyIsImdldEhpc3RvcnlTdGF0ZSIsIndpbmRvdyIsImhpc3RvcnkiLCJjcmVhdGVCcm93c2VySGlzdG9yeSIsImNhblVzZURPTSIsImdsb2JhbEhpc3RvcnkiLCJjYW5Vc2VIaXN0b3J5Iiwic3VwcG9ydHNIaXN0b3J5IiwibmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIiLCJzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlIiwiX3Byb3BzJGZvcmNlUmVmcmVzaCIsImZvcmNlUmVmcmVzaCIsIl9wcm9wcyRnZXRVc2VyQ29uZmlybSIsImdldFVzZXJDb25maXJtYXRpb24iLCJnZXRDb25maXJtYXRpb24iLCJfcHJvcHMka2V5TGVuZ3RoIiwia2V5TGVuZ3RoIiwiYmFzZW5hbWUiLCJnZXRET01Mb2NhdGlvbiIsImhpc3RvcnlTdGF0ZSIsIl9yZWYiLCJfd2luZG93JGxvY2F0aW9uIiwiY3JlYXRlS2V5IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwidHJhbnNpdGlvbk1hbmFnZXIiLCJub3RpZnlMaXN0ZW5lcnMiLCJhY3Rpb24iLCJoYW5kbGVQb3BTdGF0ZSIsImlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQiLCJoYW5kbGVQb3AiLCJoYW5kbGVIYXNoQ2hhbmdlIiwiZm9yY2VOZXh0UG9wIiwiY29uZmlybVRyYW5zaXRpb25UbyIsIm9rIiwicmV2ZXJ0UG9wIiwiZnJvbUxvY2F0aW9uIiwidG9Mb2NhdGlvbiIsInRvSW5kZXgiLCJhbGxLZXlzIiwiZnJvbUluZGV4IiwiZGVsdGEiLCJnbyIsImluaXRpYWxMb2NhdGlvbiIsImNyZWF0ZUxvY2F0aW9uIiwicHVzaFN0YXRlIiwicHJldkluZGV4IiwibmV4dEtleXMiLCJyZXBsYWNlU3RhdGUiLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJsaXN0ZW5lckNvdW50IiwiY2hlY2tET01MaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzQmxvY2tlZCIsImJsb2NrIiwicHJvbXB0IiwidW5ibG9jayIsInNldFByb21wdCIsImxpc3RlbiIsImxpc3RlbmVyIiwidW5saXN0ZW4iLCJhcHBlbmRMaXN0ZW5lciIsIkFwcCIsIl9pbmZlcm5vUm91dGVyIiwiTm9NYXRjaCIsIl9yZWYyIiwiX2luZmVybm8yIiwiX2NyZWF0ZUJyb3dzZXJIaXN0b3J5IiwiX2NyZWF0ZUJyb3dzZXJIaXN0b3J5MiIsIl9pbmxlaWRpbmciLCJfb25kZXJ2ZXJkZWxpbmciLCJfYmV3YXBlbmluZyIsIl92ZWxkc2xhZ2VuIiwiX2Jlc2x1aXQiLCJfYnJvbm5lbiIsImJyb3dzZXJIaXN0b3J5IiwiSW5kZXhSb3V0ZSIsImdldEVsZW1lbnRCeUlkIiwiYXR0YWNoRXZlbnQiLCJkZXRhY2hFdmVudCIsIm1lc3NhZ2UiLCJjb25maXJtIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCIsImxvY2F0aW9uc0FyZUVxdWFsIiwiX3Jlc29sdmVQYXRobmFtZSIsIl9yZXNvbHZlUGF0aG5hbWUyIiwiX3ZhbHVlRXF1YWwiLCJfdmFsdWVFcXVhbDIiLCJjdXJyZW50TG9jYXRpb24iLCJjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciIsIm5leHRQcm9tcHQiLCJpc0FjdGl2ZSIsImZpbHRlciIsIl9sZW4iLCJhcmdzIiwiX2tleSIsInVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2RlcyIsImFkZFRvUXVldWUiLCJmb3JjZSIsImNvbXBvbmVudENhbGxiYWNrUXVldWUiLCJhcHBseVN0YXRlIiwicXVldWVTdGF0ZUNoYW5nZXMiLCJuZXdTdGF0ZSIsInBlbmRpbmciLCJfcGVuZGluZ1N0YXRlIiwic3RhdGVLZXkiLCJiaW5kIiwicGVuZGluZ1N0YXRlIiwicHJldlN0YXRlIiwiY29udGV4dF8xIiwibGlmZUN5Y2xlIiwiaW50ZXJuYWxfcGF0Y2giLCJpbnRlcm5hbF9ET01Ob2RlTWFwIiwiRVJST1JfTVNHIiwiZm9yY2VVcGRhdGUiLCJzZXRTdGF0ZVN5bmMiLCJwcmV2UHJvcHMiLCJmcm9tU2V0U3RhdGUiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwibmV4dENvbnRleHQiLCJjb21wb25lbnRIb29rcyIsIkluZGV4TGluayIsIkxpbmtfMSIsIlJvdXRlXzEiLCJSZWRpcmVjdCIsImNyZWF0ZXJSb3V0ZXIiLCJUeXBlRXJyb3IiLCJtYXRjaF8xIiwiUm91dGVyQ29udGV4dF8xIiwiUm91dGVyIiwicm91dGVUbyIsIm9uVXBkYXRlIiwiaGl0Iiwic2V0VGltZW91dCIsImhhbmRsZVJvdXRlTm9kZSIsInJvdXRlQ29uZmlnTm9kZSIsImluZGV4Um91dGUiLCJjaGlsZFJvdXRlcyIsImhhbmRsZUluZGV4Um91dGUiLCJoYW5kbGVDaGlsZFJvdXRlcyIsImluZGV4Um91dGVOb2RlIiwiaGFuZGxlQ2hpbGRSb3V0ZSIsImNoaWxkUm91dGVOb2RlIiwiY2hpbGRSb3V0ZU5vZGVzIiwicm91dGVDb25maWciLCJjcmVhdGVSb3V0ZXNfMSIsImNyZWF0ZVJvdXRlcyIsIkluZGV4TGlua18xIiwiSW5kZXhSb3V0ZV8xIiwiUmVkaXJlY3RfMSIsIkluZGV4UmVkaXJlY3QiLCJSb3V0ZXJfMSIsImlzVHJ1ZSIsImZpcnN0Iiwic2Vjb25kIiwib3V0Iiwic2hpZnQiLCJsYXN0RXZlbnQiLCJuZXh0RXZlbnQiLCJkZWxlZ2F0ZWRSb290cyIsIml0ZW1zIiwiZG9jRXZlbnQiLCJhdHRhY2hFdmVudFRvRG9jdW1lbnQiLCJpc2lPUyIsInRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50Iiwic2l6ZSIsIm5vcm1hbGl6ZUV2ZW50TmFtZSIsImRpc3BhdGNoRXZlbnQiLCJjb3VudCIsImlzQ2xpY2siLCJldmVudERhdGEiLCJldmVudHNUb1RyaWdnZXIiLCJjYW5jZWxCdWJibGUiLCJkaXNhYmxlZCIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImV2ZW50RGF0YV8xIiwiZW1wdHlGbiIsInBsYXRmb3JtIiwidGVzdCIsImxpbmtFdmVudCIsIm5vcm1hbGl6ZUNoaWxkTm9kZXMiLCJwbGFjZWhvbGRlciIsIm5leHRTaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiaHlkcmF0ZUNvbXBvbmVudCIsIm5hbWVzcGFjZVVSSSIsImh5ZHJhdGUiLCJoeWRyYXRlRWxlbWVudCIsInRhZ05hbWUiLCJuZXdEb20iLCJoeWRyYXRlQ2hpbGRyZW4iLCJoeWRyYXRlVGV4dCIsImh5ZHJhdGVWb2lkIiwib25UZXh0SW5wdXRDaGFuZ2UiLCJwcmV2aW91c1ZhbHVlIiwib25JbnB1dCIsImV2ZW50XzEiLCJvbmlucHV0IiwiYXBwbHlWYWx1ZSIsIndyYXBwZWRPbkNoYW5nZSIsIm9uQ2hhbmdlIiwib25DaGVja2JveENoYW5nZSIsImV2ZW50XzIiLCJvbmNoYW5nZSIsIm11bHRpcGxlIiwiZGVmYXVsdFZhbHVlIiwiaGFzVmFsdWUiLCJ1cGRhdGVDaGlsZE9wdGlvbkdyb3VwIiwidXBkYXRlQ2hpbGRPcHRpb24iLCJzZWxlY3RlZCIsIm9uU2VsZWN0Q2hhbmdlIiwib25UZXh0YXJlYUlucHV0Q2hhbmdlIiwiZG9tVmFsdWUiLCJpbnRlcm5hbF9ub3JtYWxpemUiLCJpbnRlcm5hbF9pc1VuaXRsZXNzTnVtYmVyIiwidmVyc2lvbiIsImludmFyaWFudCIsImNvbmRpdGlvbiIsImZvcm1hdCIsImYiLCJhcmdJbmRleCIsImZyYW1lc1RvUG9wIiwicGF0aFRvUmVnRXhwIiwiY29tcGlsZSIsInRva2Vuc1RvRnVuY3Rpb24iLCJ0b2tlbnNUb1JlZ0V4cCIsInN0ciIsInJlcyIsInRva2VucyIsImRlZmF1bHREZWxpbWl0ZXIiLCJkZWxpbWl0ZXIiLCJQQVRIX1JFR0VYUCIsImVzY2FwZWQiLCJvZmZzZXQiLCJuZXh0IiwiY2FwdHVyZSIsImdyb3VwIiwibW9kaWZpZXIiLCJhc3RlcmlzayIsInBhcnRpYWwiLCJyZXBlYXQiLCJvcHRpb25hbCIsImVzY2FwZUdyb3VwIiwiZXNjYXBlU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IiwiY2hhckNvZGVBdCIsInRvVXBwZXJDYXNlIiwiZW5jb2RlQXN0ZXJpc2siLCJtYXRjaGVzIiwiUmVnRXhwIiwib3B0cyIsImVuY29kZSIsInByZXR0eSIsImVuY29kZVVSSUNvbXBvbmVudCIsInRva2VuIiwic2VnbWVudCIsImlzYXJyYXkiLCJzdHJpbmdpZnkiLCJhdHRhY2hLZXlzIiwicmUiLCJzZW5zaXRpdmUiLCJyZWdleHBUb1JlZ2V4cCIsImdyb3VwcyIsImFycmF5VG9SZWdleHAiLCJwYXJ0cyIsInBhdGhUb1JlZ2V4cCIsInN0cmluZ1RvUmVnZXhwIiwic3RyaWN0IiwiZW5kc1dpdGhEZWxpbWl0ZXIiLCJpc0Fic29sdXRlIiwic3BsaWNlT25lIiwibGlzdCIsInJlc29sdmVQYXRobmFtZSIsInRvUGFydHMiLCJmcm9tUGFydHMiLCJpc1RvQWJzIiwiaXNGcm9tQWJzIiwibXVzdEVuZEFicyIsImhhc1RyYWlsaW5nU2xhc2giLCJsYXN0IiwidXAiLCJwYXJ0IiwidW5zaGlmdCIsInZhbHVlRXF1YWwiLCJldmVyeSIsImFUeXBlIiwiYVZhbHVlIiwidmFsdWVPZiIsImJWYWx1ZSIsImFLZXlzIiwiYktleXMiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDQW5CLFFBQUFDLEdBQUFDLFNBQ0FDLGlCQUFBRCxHQVNBLFFBQUFFLEdBQUFGLEdBQ0EsR0FBQUcsR0FBQUMsU0FBQUMscUJBQUEsV0FDQUMsRUFBQUYsU0FBQUcsY0FBQSxTQUNBRCxHQUFBRSxLQUFBLGtCQUNBRixFQUFBRyxRQUFBLFFBQ0FILEVBQUFJLElBQUFDLEVBQUFDLEVBQUEsR0FBQVosRUFBQSxJQUFBYSxFQUFBLGlCQUNBVixFQUFBVyxZQUFBUixHQUdBLFFBQUFTLEtBQ0EsVUFBQUMsU0FBQSxTQUFBQyxFQUFBQyxHQUNBLHNCQUFBQyxnQkFDQSxNQUFBRCxHQUFBLEdBQUFF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QUF1VSxPQUFBLEtBQUFqekIsRUFBQSxZQUFBNmYsRUFBQTdmLEVBR0EsSUFBQWl6QixTQUZBLEtBQUFoekIsRUFBQSxZQUFBNGYsRUFBQTVmLElBRUEsUUFFQSxlQUFBZ3pCLEVBQUEsQ0FDQSxHQUFBQyxHQUFBbHpCLEVBQUFtekIsVUFDQUMsRUFBQW56QixFQUFBa3pCLFNBRUEsSUFBQUQsSUFBQWx6QixHQUFBb3pCLElBQUFuekIsRUFBQSxNQUFBOHlCLEdBQUFHLEVBQUFFLEVBRUEsSUFBQUMsR0FBQXgzQixPQUFBbUcsS0FBQWhDLEdBQ0FzekIsRUFBQXozQixPQUFBbUcsS0FBQS9CLEVBRUEsT0FBQW96QixHQUFBMTFCLFNBQUEyMUIsRUFBQTMxQixRQUVBMDFCLEVBQUFMLE1BQUEsU0FBQWpxQixHQUNBLE1BQUFncUIsR0FBQS95QixFQUFBK0ksR0FBQTlJLEVBQUE4SSxNQUlBLFNBR0FsRyxHQUFBYSxRQUFBcXZCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbi8qKioqKiovIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuLyoqKioqKi8gXHR9XG4vKioqKioqLyBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuLyoqKioqKi8gXHR0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH0gO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuLyoqKioqKi8gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4vKioqKioqLyBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4vKioqKioqLyBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIilcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbi8qKioqKiovIFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xyXG4vKioqKioqLyBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IDEwMDAwO1xyXG4vKioqKioqLyBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuLyoqKioqKi8gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KGVycik7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Ly8gdGltZW91dFxyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHQvLyBzdWNjZXNzXHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZXR1cm47XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXNvbHZlKHVwZGF0ZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqL1xuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCIzYzMwYWE1NWE4MGQ2M2JlZDJiOFwiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdGlmKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XHJcbi8qKioqKiovIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPCAwKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcclxuLyoqKioqKi8gXHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbi8qKioqKiovIFx0XHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJiBuYW1lICE9PSBcImVcIikge1xyXG4vKioqKioqLyBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKVxyXG4vKioqKioqLyBcdFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dGhyb3cgZXJyO1xyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdHJldHVybiBmbjtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBob3QgPSB7XHJcbi8qKioqKiovIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcclxuLyoqKioqKi8gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuLyoqKioqKi8gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcclxuLyoqKioqKi8gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXHJcbi8qKioqKiovIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcclxuLyoqKioqKi8gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1vZHVsZSBBUElcclxuLyoqKioqKi8gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuLyoqKioqKi8gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXHJcbi8qKioqKiovIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcclxuLyoqKioqKi8gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4vKioqKioqLyBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighbCkgcmV0dXJuIGhvdFN0YXR1cztcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXHJcbi8qKioqKiovIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBob3Q7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xyXG4vKioqKioqLyBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XHJcbi8qKioqKiovIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXHJcbi8qKioqKiovIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XHJcbi8qKioqKiovIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdHZhciBob3REZWZlcnJlZDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyBUaGUgdXBkYXRlIGluZm9cclxuLyoqKioqKi8gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcclxuLyoqKioqKi8gXHRcdHZhciBpc051bWJlciA9ICgraWQpICsgXCJcIiA9PT0gaWQ7XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcclxuLyoqKioqKi8gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbi8qKioqKiovIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdCgpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKCF1cGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybiBudWxsO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4vKioqKioqLyBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbi8qKioqKiovIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcclxuLyoqKioqKi8gXHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHRcdHZhciBjaHVua0lkID0gMDtcclxuLyoqKioqKi8gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbi8qKioqKiovIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuLyoqKioqKi8gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBwcm9taXNlO1xyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXHJcbi8qKioqKiovIFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0aWYoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuLyoqKioqKi8gXHRcdGlmKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcclxuLyoqKioqKi8gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xyXG4vKioqKioqLyBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XHJcbi8qKioqKiovIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XHJcbi8qKioqKiovIFx0XHRpZighZGVmZXJyZWQpIHJldHVybjtcclxuLyoqKioqKi8gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdH0sIGZ1bmN0aW9uKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XHJcbi8qKioqKiovIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4vKioqKioqLyBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHR2YXIgY2I7XHJcbi8qKioqKiovIFx0XHR2YXIgaTtcclxuLyoqKioqKi8gXHRcdHZhciBqO1xyXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZTtcclxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGVJZDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZDogaWRcclxuLyoqKioqKi8gXHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0d2hpbGUocXVldWUubGVuZ3RoID4gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX21haW4pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxyXG4vKioqKioqLyBcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKCFwYXJlbnQpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpID49IDApIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXHJcbi8qKioqKiovIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XHJcbi8qKioqKiovIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGEuaW5kZXhPZihpdGVtKSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRhLnB1c2goaXRlbSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXHJcbi8qKioqKiovIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xyXG4vKioqKioqLyBcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCIpO1xyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaWQgaW4gaG90VXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHJlc3VsdDtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihob3RVcGRhdGVbaWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmVzdWx0ID0ge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxyXG4vKioqKioqLyBcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihyZXN1bHQuY2hhaW4pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0c3dpdGNoKHJlc3VsdC50eXBlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGVjbGluZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIGNoYWluSW5mbyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EZWNsaW5lZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiIGluIFwiICsgcmVzdWx0LnBhcmVudElkICsgY2hhaW5JbmZvKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uVW5hY2NlcHRlZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRpc3Bvc2VkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcclxuLyoqKioqKi8gXHRcdFx0XHRcdGRlZmF1bHQ6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKGFib3J0RXJyb3IpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihkb0FwcGx5KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLCByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRpZihkb0Rpc3Bvc2UpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbi8qKioqKiovIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XHJcbi8qKioqKiovIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXHJcbi8qKioqKiovIFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbi8qKioqKiovIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fSk7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHR2YXIgaWR4O1xyXG4vKioqKioqLyBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XHJcbi8qKioqKiovIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRhdGEgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXHJcbi8qKioqKiovIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XHJcbi8qKioqKiovIFx0XHRcdGZvcihqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdGNiKGRhdGEpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxyXG4vKioqKioqLyBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXHJcbi8qKioqKiovIFx0XHRcdGZvcihqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxyXG4vKioqKioqLyBcdFx0dmFyIGRlcGVuZGVuY3k7XHJcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XHJcbi8qKioqKiovIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuLyoqKioqKi8gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbi8qKioqKiovIFx0XHRmb3IobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdHZhciBlcnJvciA9IG51bGw7XHJcbi8qKioqKiovIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihjYWxsYmFja3MuaW5kZXhPZihjYikgPj0gMCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGZvcihpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR0cnkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xyXG4vKioqKioqLyBcdFx0Zm9yKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xyXG4vKioqKioqLyBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9IGNhdGNoKGVycjIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRvcmdpbmFsRXJyb3I6IGVyclxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbi8qKioqKiovIFx0XHRpZihlcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuLyoqKioqKi8gXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbi8qKioqKiovIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbi8qKioqKiovIFx0XHRcdGNoaWxkcmVuOiBbXVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMzEpKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMxKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTApLmRlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgVk5vZGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgY29uc3RhbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG52YXIgbW91bnRpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcbnZhciB1bm1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxuLy8gV2UgbmVlZCBFTVBUWV9PQkogZGVmaW5lZCBpbiBvbmUgcGxhY2UuXHJcbi8vIEl0cyB1c2VkIGZvciBjb21wYXJpc29uIHNvIHdlIGNhbnQgaW5saW5lIGl0IGludG8gc2hhcmVkXHJcbmV4cG9ydHMuRU1QVFlfT0JKID0ge307XHJcbmlmIChmYWxzZSkge1xyXG4gICAgT2JqZWN0LmZyZWV6ZShleHBvcnRzLkVNUFRZX09CSik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZSh2Tm9kZSwgQ29tcG9uZW50LCBwcm9wcywgY29udGV4dCwgaXNTVkcsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29udGV4dCkpIHtcclxuICAgICAgICBjb250ZXh0ID0gZXhwb3J0cy5FTVBUWV9PQko7IC8vIENvbnRleHQgc2hvdWxkIG5vdCBiZSBtdXRhYmxlXHJcbiAgICB9XHJcbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcclxuICAgIHZOb2RlLmNoaWxkcmVuID0gaW5zdGFuY2U7XHJcbiAgICBpbnN0YW5jZS5fYmxvY2tTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgaW5zdGFuY2UuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICBpZiAoaW5zdGFuY2UucHJvcHMgPT09IGV4cG9ydHMuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcclxuICAgIH1cclxuICAgIC8vIHNldFN0YXRlIGNhbGxiYWNrcyBtdXN0IGZpcmUgYWZ0ZXIgcmVuZGVyIGlzIGRvbmUgd2hlbiBjYWxsZWQgZnJvbSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIG9yIGNvbXBvbmVudFdpbGxNb3VudFxyXG4gICAgaW5zdGFuY2UuX2xpZmVjeWNsZSA9IGxpZmVjeWNsZTtcclxuICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSBmYWxzZTtcclxuICAgIGluc3RhbmNlLl9wZW5kaW5nU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgaW5zdGFuY2UuX2lzU1ZHID0gaXNTVkc7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KSkge1xyXG4gICAgICAgIGluc3RhbmNlLl9ibG9ja1JlbmRlciA9IHRydWU7XHJcbiAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCk7XHJcbiAgICAgICAgaW5zdGFuY2UuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRDb250ZXh0O1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmdldENoaWxkQ29udGV4dCkpIHtcclxuICAgICAgICBjaGlsZENvbnRleHQgPSBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQoKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgIGluc3RhbmNlLl9jaGlsZENvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYmVmb3JlUmVuZGVyKSkge1xyXG4gICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVJlbmRlcihpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICB2YXIgaW5wdXQgPSBpbnN0YW5jZS5yZW5kZXIocHJvcHMsIGluc3RhbmNlLnN0YXRlLCBjb250ZXh0KTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIpKSB7XHJcbiAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKGlucHV0LCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGlucHV0IHRoYXQgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgcnVuIGludG8gYSB0cmlja3kgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgIC8vIHdoZXJlIHRoZSByb290IHZOb2RlIG5lZWRzIHRvIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IERPTSBlbnRyeVxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBicmVhayBtb25vbW9ycGhpc20gb24gb3VyIGlucHV0IGFuZCBzdXBwbHkgaXQgb3VyIHZOb2RlIGFzIHBhcmVudFZOb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGlzIGdldHMgdXMgb3V0IG9mIGEgbG90IG9mIGlzc3Vlc1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRWTm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluc3RhbmNlLl9wZW5kaW5nU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgIGluc3RhbmNlLl9sYXN0SW5wdXQgPSBpbnB1dDtcclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2UgPSBjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlO1xyXG5mdW5jdGlvbiByZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgcmVwbGFjZVZOb2RlKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudChuZXh0SW5wdXQsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBsYXN0SW5wdXQsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQgPSByZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudDtcclxuZnVuY3Rpb24gcmVwbGFjZVZOb2RlKHBhcmVudERvbSwgZG9tLCB2Tm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdW5tb3VudGluZ18xLnVubW91bnQodk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIGRvbSwgdk5vZGUuZG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VWTm9kZSA9IHJlcGxhY2VWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCBjb21wb25lbnQsIHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICB2YXIgaW5wdXQgPSBjb21wb25lbnQocHJvcHMsIGNvbnRleHQpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKGlucHV0LCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGlucHV0IHRoYXQgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgcnVuIGludG8gYSB0cmlja3kgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgIC8vIHdoZXJlIHRoZSByb290IHZOb2RlIG5lZWRzIHRvIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IERPTSBlbnRyeVxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBicmVhayBtb25vbW9ycGhpc20gb24gb3VyIGlucHV0IGFuZCBzdXBwbHkgaXQgb3VyIHZOb2RlIGFzIHBhcmVudFZOb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGlzIGdldHMgdXMgb3V0IG9mIGEgbG90IG9mIGlzc3Vlc1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRWTm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbnB1dDtcclxufVxyXG5leHBvcnRzLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCA9IGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dDtcclxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQoZG9tLCB0ZXh0KSB7XHJcbiAgICBpZiAodGV4dCAhPT0gJycpIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZXRUZXh0Q29udGVudCA9IHNldFRleHRDb250ZW50O1xyXG5mdW5jdGlvbiB1cGRhdGVUZXh0Q29udGVudChkb20sIHRleHQpIHtcclxuICAgIGRvbS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbn1cclxuZXhwb3J0cy51cGRhdGVUZXh0Q29udGVudCA9IHVwZGF0ZVRleHRDb250ZW50O1xyXG5mdW5jdGlvbiBhcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLmFwcGVuZENoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5hcHBlbmRDaGlsZCA9IGFwcGVuZENoaWxkO1xyXG5mdW5jdGlvbiBpbnNlcnRPckFwcGVuZChwYXJlbnREb20sIG5ld05vZGUsIG5leHROb2RlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHROb2RlKSkge1xyXG4gICAgICAgIGFwcGVuZENoaWxkKHBhcmVudERvbSwgbmV3Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwYXJlbnREb20uaW5zZXJ0QmVmb3JlKG5ld05vZGUsIG5leHROb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmluc2VydE9yQXBwZW5kID0gaW5zZXJ0T3JBcHBlbmQ7XHJcbmZ1bmN0aW9uIGRvY3VtZW50Q3JlYXRlRWxlbWVudCh0YWcsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcgPT09IHRydWUpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGNvbnN0YW50c18xLnN2Z05TLCB0YWcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudDtcclxuZnVuY3Rpb24gcmVwbGFjZVdpdGhOZXdOb2RlKGxhc3ROb2RlLCBuZXh0Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdW5tb3VudGluZ18xLnVubW91bnQobGFzdE5vZGUsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgIHZhciBkb20gPSBtb3VudGluZ18xLm1vdW50KG5leHROb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIG5leHROb2RlLmRvbSA9IGRvbTtcclxuICAgIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIGRvbSwgbGFzdE5vZGUuZG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VXaXRoTmV3Tm9kZSA9IHJlcGxhY2VXaXRoTmV3Tm9kZTtcclxuZnVuY3Rpb24gcmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbmV4dERvbSwgbGFzdERvbSkge1xyXG4gICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICBwYXJlbnREb20gPSBsYXN0RG9tLnBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKG5leHREb20sIGxhc3REb20pO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZUNoaWxkID0gcmVwbGFjZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZW1vdmVDaGlsZCA9IHJlbW92ZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVBbGxDaGlsZHJlbihkb20sIGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCB8fCAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAhaXNSZWN5Y2xpbmcpKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2hpbGRyZW4obnVsbCwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQWxsQ2hpbGRyZW4gPSByZW1vdmVBbGxDaGlsZHJlbjtcclxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoY2hpbGQsIGRvbSwgbGlmZWN5Y2xlLCB0cnVlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQ2hpbGRyZW4gPSByZW1vdmVDaGlsZHJlbjtcclxuZnVuY3Rpb24gaXNLZXllZChsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbikge1xyXG4gICAgcmV0dXJuIG5leHRDaGlsZHJlbi5sZW5ndGggPiAwICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dENoaWxkcmVuWzBdKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDaGlsZHJlblswXS5rZXkpXHJcbiAgICAgICAgJiYgbGFzdENoaWxkcmVuLmxlbmd0aCA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0Q2hpbGRyZW5bMF0pICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdENoaWxkcmVuWzBdLmtleSk7XHJcbn1cclxuZXhwb3J0cy5pc0tleWVkID0gaXNLZXllZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMub3B0aW9ucyA9IHtcclxuICAgIGFmdGVyTW91bnQ6IG51bGwsXHJcbiAgICBhZnRlclJlbmRlcjogbnVsbCxcclxuICAgIGFmdGVyVXBkYXRlOiBudWxsLFxyXG4gICAgYmVmb3JlUmVuZGVyOiBudWxsLFxyXG4gICAgYmVmb3JlVW5tb3VudDogbnVsbCxcclxuICAgIGNyZWF0ZVZOb2RlOiBudWxsLFxyXG4gICAgZmluZERPTU5vZGVFbmFibGVkOiBmYWxzZSxcclxuICAgIHJlY3ljbGluZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgcm9vdHM6IFtdXHJcbn07XHJcblxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxudmFyIG5vcm1hbGl6YXRpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxuZnVuY3Rpb24gVk5vZGUoY2hpbGRyZW4sIGNsYXNzTmFtZSwgZmxhZ3MsIGtleSwgcHJvcHMsIHJlZiwgdHlwZSkge1xyXG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICB0aGlzLmRvbSA9IG51bGw7XHJcbiAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XHJcbiAgICB0aGlzLmtleSA9IGtleTtcclxuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcclxuICAgIHRoaXMucmVmID0gcmVmO1xyXG4gICAgdGhpcy50eXBlID0gdHlwZTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyB2aXJ0dWFsIG5vZGVcclxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufG51bGx9IHR5cGVcclxuICogQHBhcmFtIHtzdHJpbmd8bnVsbD19IGNsYXNzTmFtZVxyXG4gKiBAcGFyYW0ge29iamVjdD19IGNoaWxkcmVuXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gcHJvcHNcclxuICogQHBhcmFtIHsqPX0ga2V5XHJcbiAqIEBwYXJhbSB7b2JqZWN0fEZ1bmN0aW9uPX0gcmVmXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vTm9ybWFsaXNlXHJcbiAqIEByZXR1cm5zIHtWTm9kZX0gcmV0dXJucyBuZXcgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVWTm9kZShmbGFncywgdHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgcHJvcHMsIGtleSwgcmVmLCBub05vcm1hbGlzZSkge1xyXG4gICAgaWYgKGZsYWdzICYgMTYgLyogQ29tcG9uZW50VW5rbm93biAqLykge1xyXG4gICAgICAgIGZsYWdzID0gaW5mZXJub19zaGFyZWRfMS5pc1N0YXRlZnVsQ29tcG9uZW50KHR5cGUpID8gNCAvKiBDb21wb25lbnRDbGFzcyAqLyA6IDggLyogQ29tcG9uZW50RnVuY3Rpb24gKi87XHJcbiAgICB9XHJcbiAgICB2YXIgdk5vZGUgPSBuZXcgVk5vZGUoY2hpbGRyZW4gPT09IHZvaWQgMCA/IG51bGwgOiBjaGlsZHJlbiwgY2xhc3NOYW1lID09PSB2b2lkIDAgPyBudWxsIDogY2xhc3NOYW1lLCBmbGFncywga2V5ID09PSB2b2lkIDAgPyBudWxsIDoga2V5LCBwcm9wcyA9PT0gdm9pZCAwID8gbnVsbCA6IHByb3BzLCByZWYgPT09IHZvaWQgMCA/IG51bGwgOiByZWYsIHR5cGUpO1xyXG4gICAgaWYgKG5vTm9ybWFsaXNlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZSh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMuY3JlYXRlVk5vZGUgIT09IG51bGwpIHtcclxuICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5jcmVhdGVWTm9kZSh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVWTm9kZSA9IGNyZWF0ZVZOb2RlO1xyXG5mdW5jdGlvbiBkaXJlY3RDbG9uZSh2Tm9kZVRvQ2xvbmUpIHtcclxuICAgIHZhciBuZXdWTm9kZTtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlVG9DbG9uZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHZvaWQgMDtcclxuICAgICAgICB2YXIgcHJvcHNUb0Nsb25lID0gdk5vZGVUb0Nsb25lLnByb3BzO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wc1RvQ2xvbmUpKSB7XHJcbiAgICAgICAgICAgIHByb3BzID0gdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHNUb0Nsb25lKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcHJvcHNUb0Nsb25lW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVWTm9kZShmbGFncywgdk5vZGVUb0Nsb25lLnR5cGUsIG51bGwsIG51bGwsIHByb3BzLCB2Tm9kZVRvQ2xvbmUua2V5LCB2Tm9kZVRvQ2xvbmUucmVmLCB0cnVlKTtcclxuICAgICAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcztcclxuICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBuZXdQcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGFsc28gY2xvbmUgY29tcG9uZW50IGNoaWxkcmVuIHRoYXQgYXJlIGluIHByb3BzXHJcbiAgICAgICAgLy8gYXMgdGhlIGNoaWxkcmVuIG1heSBhbHNvIGhhdmUgYmVlbiBob2lzdGVkXHJcbiAgICAgICAgaWYgKG5ld0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV3Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gbmV3Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5ld0NoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpc1ZOb2RlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChkaXJlY3RDbG9uZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gdG1wQXJyYXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNWTm9kZShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gZGlyZWN0Q2xvbmUobmV3Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlLmNoaWxkcmVuID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdk5vZGVUb0Nsb25lLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHZvaWQgMDtcclxuICAgICAgICB2YXIgcHJvcHNUb0Nsb25lID0gdk5vZGVUb0Nsb25lLnByb3BzO1xyXG4gICAgICAgIGlmIChwcm9wc1RvQ2xvbmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wc1RvQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSBwcm9wc1RvQ2xvbmVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgdk5vZGVUb0Nsb25lLmNsYXNzTmFtZSwgY2hpbGRyZW4sIHByb3BzLCB2Tm9kZVRvQ2xvbmUua2V5LCB2Tm9kZVRvQ2xvbmUucmVmLCAhY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVRleHRWTm9kZSh2Tm9kZVRvQ2xvbmUuY2hpbGRyZW4sIHZOb2RlVG9DbG9uZS5rZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1ZOb2RlO1xyXG59XHJcbmV4cG9ydHMuZGlyZWN0Q2xvbmUgPSBkaXJlY3RDbG9uZTtcclxuLypcclxuIGRpcmVjdENsb25lIGlzIHByZWZlcnJlZCBvdmVyIGNsb25lVk5vZGUgYW5kIHVzZWQgaW50ZXJuYWxseSBhbHNvLlxyXG4gVGhpcyBmdW5jdGlvbiBtYWtlcyBJbmZlcm5vIGJhY2t3YXJkcyBjb21wYXRpYmxlLlxyXG4gQW5kIGNhbiBiZSB0cmVlLXNoYWtlZCBieSBtb2Rlcm4gYnVuZGxlcnNcclxuXHJcbiBXb3VsZCBiZSBuaWNlIHRvIGNvbWJpbmUgdGhpcyB3aXRoIGRpcmVjdENsb25lIGJ1dCBjb3VsZCBub3QgZG8gaXQgd2l0aG91dCBicmVha2luZyBjaGFuZ2VcclxuICovXHJcbi8qKlxyXG4gKiBDbG9uZXMgZ2l2ZW4gdmlydHVhbCBub2RlIGJ5IGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBpdFxyXG4gKiBAcGFyYW0ge1ZOb2RlfSB2Tm9kZVRvQ2xvbmUgdmlydHVhbCBub2RlIHRvIGJlIGNsb25lZFxyXG4gKiBAcGFyYW0ge1Byb3BzPX0gcHJvcHMgYWRkaXRpb25hbCBwcm9wcyBmb3IgbmV3IHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0gey4uLip9IF9jaGlsZHJlbiBuZXcgY2hpbGRyZW4gZm9yIG5ldyB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge1ZOb2RlfSBuZXcgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZOb2RlVG9DbG9uZSwgcHJvcHMpIHtcclxuICAgIHZhciBfY2hpbGRyZW4gPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgX2NoaWxkcmVuW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gX2NoaWxkcmVuO1xyXG4gICAgdmFyIGNoaWxkcmVuTGVuID0gX2NoaWxkcmVuLmxlbmd0aDtcclxuICAgIGlmIChjaGlsZHJlbkxlbiA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoX2NoaWxkcmVuWzBdKSkge1xyXG4gICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuTGVuID09PSAxKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIG5ld1ZOb2RlO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheSh2Tm9kZVRvQ2xvbmUpKSB7XHJcbiAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZOb2RlVG9DbG9uZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKHZOb2RlVG9DbG9uZVtpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IHRtcEFycmF5O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGZsYWdzID0gdk5vZGVUb0Nsb25lLmZsYWdzO1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZVRvQ2xvbmUuY2xhc3NOYW1lIHx8IChwcm9wcyAmJiBwcm9wcy5jbGFzc05hbWUpO1xyXG4gICAgICAgIHZhciBrZXkgPSAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZOb2RlVG9DbG9uZS5rZXkpID8gdk5vZGVUb0Nsb25lLmtleSA6IChwcm9wcyA/IHByb3BzLmtleSA6IG51bGwpO1xyXG4gICAgICAgIHZhciByZWYgPSB2Tm9kZVRvQ2xvbmUucmVmIHx8IChwcm9wcyA/IHByb3BzLnJlZiA6IG51bGwpO1xyXG4gICAgICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgY2xhc3NOYW1lLCBudWxsLCAoIXZOb2RlVG9DbG9uZS5wcm9wcyAmJiAhcHJvcHMpID8gdXRpbHNfMS5FTVBUWV9PQkogOiBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHZOb2RlVG9DbG9uZS5wcm9wcywgcHJvcHMpLCBrZXksIHJlZiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xyXG4gICAgICAgICAgICBpZiAobmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IG5ld1Byb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBhbHNvIGNsb25lIGNvbXBvbmVudCBjaGlsZHJlbiB0aGF0IGFyZSBpbiBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gYXMgdGhlIGNoaWxkcmVuIG1heSBhbHNvIGhhdmUgYmVlbiBob2lzdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuID0gbmV3Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVuID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkgJiYgaXNWTm9kZShjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChkaXJlY3RDbG9uZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gdG1wQXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNWTm9kZShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSBkaXJlY3RDbG9uZShuZXdDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlLmNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSAocHJvcHMgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocHJvcHMuY2hpbGRyZW4pKSA/IHByb3BzLmNoaWxkcmVuIDogdk5vZGVUb0Nsb25lLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgKCF2Tm9kZVRvQ2xvbmUucHJvcHMgJiYgIXByb3BzKSA/IHV0aWxzXzEuRU1QVFlfT0JKIDogaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbSh2Tm9kZVRvQ2xvbmUucHJvcHMsIHByb3BzKSwga2V5LCByZWYsICFjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVGV4dFZOb2RlKHZOb2RlVG9DbG9uZS5jaGlsZHJlbiwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Vk5vZGU7XHJcbn1cclxuZXhwb3J0cy5jbG9uZVZOb2RlID0gY2xvbmVWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlVm9pZFZOb2RlKCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKDQwOTYgLyogVm9pZCAqLywgbnVsbCk7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVWb2lkVk5vZGUgPSBjcmVhdGVWb2lkVk5vZGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0LCBrZXkpIHtcclxuICAgIHJldHVybiBjcmVhdGVWTm9kZSgxIC8qIFRleHQgKi8sIG51bGwsIG51bGwsIHRleHQsIG51bGwsIGtleSk7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVUZXh0Vk5vZGUgPSBjcmVhdGVUZXh0Vk5vZGU7XHJcbmZ1bmN0aW9uIGlzVk5vZGUobykge1xyXG4gICAgcmV0dXJuICEhby5mbGFncztcclxufVxyXG5leHBvcnRzLmlzVk5vZGUgPSBpc1ZOb2RlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIGNvbnN0YW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxudmFyIGRlbGVnYXRpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xyXG52YXIgbW91bnRpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcbnZhciByZW5kZXJpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcbnZhciB1bm1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5mdW5jdGlvbiBwYXRjaChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgaWYgKGxhc3RWTm9kZSAhPT0gbmV4dFZOb2RlKSB7XHJcbiAgICAgICAgdmFyIGxhc3RGbGFncyA9IGxhc3RWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dEZsYWdzID0gbmV4dFZOb2RlLmZsYWdzO1xyXG4gICAgICAgIGlmIChuZXh0RmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgaWYgKGxhc3RGbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hDb21wb25lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgbmV4dEZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50Q29tcG9uZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgKG5leHRGbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRWxlbWVudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRFbGVtZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRUZXh0KG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRWb2lkKG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGNhc2U6IG1vdW50IG5ldyBvbmUgcmVwbGFjaW5nIG9sZCBvbmVcclxuICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2ggPSBwYXRjaDtcclxuZnVuY3Rpb24gdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaEVsZW1lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBuZXh0VGFnID0gbmV4dFZOb2RlLnR5cGU7XHJcbiAgICB2YXIgbGFzdFRhZyA9IGxhc3RWTm9kZS50eXBlO1xyXG4gICAgaWYgKGxhc3RUYWcgIT09IG5leHRUYWcpIHtcclxuICAgICAgICB1dGlsc18xLnJlcGxhY2VXaXRoTmV3Tm9kZShsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICB2YXIgbGFzdFByb3BzID0gbGFzdFZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgdmFyIGxhc3RDaGlsZHJlbiA9IGxhc3RWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBsYXN0RmxhZ3MgPSBsYXN0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRGbGFncyA9IG5leHRWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dFJlZiA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgdmFyIGxhc3RDbGFzc05hbWUgPSBsYXN0Vk5vZGUuY2xhc3NOYW1lO1xyXG4gICAgICAgIHZhciBuZXh0Q2xhc3NOYW1lID0gbmV4dFZOb2RlLmNsYXNzTmFtZTtcclxuICAgICAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgKG5leHRGbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGxhc3RDaGlsZHJlbiAhPT0gbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4obGFzdEZsYWdzLCBuZXh0RmxhZ3MsIGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5saW5lZCBwYXRjaFByb3BzICAtLSBzdGFydHMgLS1cclxuICAgICAgICBpZiAobGFzdFByb3BzICE9PSBuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wc09yRW1wdHkgPSBsYXN0UHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgICAgIHZhciBuZXh0UHJvcHNPckVtcHR5ID0gbmV4dFByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHNPckVtcHR5ICE9PSB1dGlsc18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAobmV4dEZsYWdzICYgMzU4NCAvKiBGb3JtRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KG5leHRQcm9wc09yRW1wdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBuZXh0UHJvcHNPckVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gbGFzdFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQobmV4dEZsYWdzLCBuZXh0Vk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgZmFsc2UsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxhc3RQcm9wc09yRW1wdHkgIT09IHV0aWxzXzEuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxhc3RQcm9wc09yRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eVtwcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvcChwcm9wLCBsYXN0UHJvcHNPckVtcHR5W3Byb3BdLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbmxpbmVkIHBhdGNoUHJvcHMgIC0tIGVuZHMgLS1cclxuICAgICAgICBpZiAobGFzdENsYXNzTmFtZSAhPT0gbmV4dENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBuZXh0Q2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBuZXh0Q2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXh0UmVmKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0Vk5vZGUucmVmICE9PSBuZXh0UmVmIHx8IGlzUmVjeWNsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgbmV4dFJlZiwgbGlmZWN5Y2xlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoRWxlbWVudCA9IHBhdGNoRWxlbWVudDtcclxuZnVuY3Rpb24gcGF0Y2hDaGlsZHJlbihsYXN0RmxhZ3MsIG5leHRGbGFncywgbGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBwYXRjaEFycmF5ID0gZmFsc2U7XHJcbiAgICB2YXIgcGF0Y2hLZXllZCA9IGZhbHNlO1xyXG4gICAgaWYgKG5leHRGbGFncyAmIDY0IC8qIEhhc05vbktleWVkQ2hpbGRyZW4gKi8pIHtcclxuICAgICAgICBwYXRjaEFycmF5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChsYXN0RmxhZ3MgJiAzMiAvKiBIYXNLZXllZENoaWxkcmVuICovKSA+IDAgJiYgKG5leHRGbGFncyAmIDMyIC8qIEhhc0tleWVkQ2hpbGRyZW4gKi8pID4gMCkge1xyXG4gICAgICAgIHBhdGNoS2V5ZWQgPSB0cnVlO1xyXG4gICAgICAgIHBhdGNoQXJyYXkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEudXBkYXRlVGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgdXRpbHNfMS5zZXRUZXh0Q29udGVudChkb20sIG5leHRDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGxhc3RDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcGF0Y2hBcnJheSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh1dGlsc18xLmlzS2V5ZWQobGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudEFycmF5Q2hpbGRyZW4obmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoVk5vZGVzXzEuaXNWTm9kZShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXRjaEFycmF5KSB7XHJcbiAgICAgICAgaWYgKHBhdGNoS2V5ZWQpIHtcclxuICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhdGNoQ29tcG9uZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbGFzdFR5cGUgPSBsYXN0Vk5vZGUudHlwZTtcclxuICAgIHZhciBuZXh0VHlwZSA9IG5leHRWTm9kZS50eXBlO1xyXG4gICAgdmFyIGxhc3RLZXkgPSBsYXN0Vk5vZGUua2V5O1xyXG4gICAgdmFyIG5leHRLZXkgPSBuZXh0Vk5vZGUua2V5O1xyXG4gICAgaWYgKGxhc3RUeXBlICE9PSBuZXh0VHlwZSB8fCBsYXN0S2V5ICE9PSBuZXh0S2V5KSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlV2l0aE5ld05vZGUobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudENvbXBvbmVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChuZXh0Vk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApLCBsYXN0Vk5vZGUuZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNDb21wb25lbnREaWRVcGRhdGUgPSAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgLy8gV2hlbiBjb21wb25lbnQgaGFzIGNvbXBvbmVudERpZFVwZGF0ZSBob29rLCB3ZSBuZWVkIHRvIGNsb25lIGxhc3RTdGF0ZSBvciB3aWxsIGJlIG1vZGlmaWVkIGJ5IHJlZmVyZW5jZSBkdXJpbmcgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdFN0YXRlID0gaGFzQ29tcG9uZW50RGlkVXBkYXRlID8gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShuZXh0U3RhdGUsIG51bGwpIDogbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGluc3RhbmNlLnByb3BzO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9pc1NWRyA9IGlzU1ZHO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBsYXN0SW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRJbnB1dCA9IGluc3RhbmNlLl91cGRhdGVDb21wb25lbnQobGFzdFN0YXRlLCBuZXh0U3RhdGUsIGxhc3RQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gY2hpbGRDb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHRJbnB1dCA9PT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IGxhc3RJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2EgdmFsaWQgSW5mZXJubyBWTm9kZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZCBmcm9tIGEgY29tcG9uZW50IHJlbmRlci4gWW91IG1heSBoYXZlIHJldHVybmVkIGFuIGFycmF5IG9yIGFuIGludmFsaWQgb2JqZWN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwobmV4dElucHV0LmRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGFzdElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2xhc3RJbnB1dCA9IG5leHRJbnB1dDtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl92Tm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgICAgIGlmIChkaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNoaWxkQ29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ29tcG9uZW50RGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZShsYXN0UHJvcHMsIGxhc3RTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmFmdGVyVXBkYXRlKG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLnNldChpbnN0YW5jZSwgbmV4dElucHV0LmRvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dFZOb2RlLmRvbSA9IG5leHRJbnB1dC5kb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGxhc3RWTm9kZS5wcm9wcztcclxuICAgICAgICAgICAgdmFyIG5leHRIb29rcyA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgICAgIHZhciBuZXh0SG9va3NEZWZpbmVkID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3MpO1xyXG4gICAgICAgICAgICB2YXIgbGFzdElucHV0ID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB2YXIgbmV4dElucHV0ID0gbGFzdElucHV0O1xyXG4gICAgICAgICAgICBuZXh0Vk5vZGUuZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICAgICAgbmV4dFZOb2RlLmNoaWxkcmVuID0gbGFzdElucHV0O1xyXG4gICAgICAgICAgICBpZiAobGFzdEtleSAhPT0gbmV4dEtleSkge1xyXG4gICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SG9va3NEZWZpbmVkICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzLm9uQ29tcG9uZW50U2hvdWxkVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IG5leHRIb29rcy5vbkNvbXBvbmVudFNob3VsZFVwZGF0ZShsYXN0UHJvcHMsIG5leHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SG9va3NEZWZpbmVkICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzLm9uQ29tcG9uZW50V2lsbFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IG5leHRUeXBlKG5leHRQcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG5leHRJbnB1dCkgJiYgbmV4dElucHV0ICE9PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2EgdmFsaWQgSW5mZXJubyBWTm9kZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZCBmcm9tIGEgY29tcG9uZW50IHJlbmRlci4gWW91IG1heSBoYXZlIHJldHVybmVkIGFuIGFycmF5IG9yIGFuIGludmFsaWQgb2JqZWN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwobmV4dElucHV0LmRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dElucHV0ICE9PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobGFzdElucHV0LCBuZXh0SW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRWTm9kZS5jaGlsZHJlbiA9IG5leHRJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEhvb2tzRGVmaW5lZCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIb29rcy5vbkNvbXBvbmVudERpZFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEhvb2tzLm9uQ29tcG9uZW50RGlkVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFZOb2RlLmRvbSA9IG5leHRJbnB1dC5kb207XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5leHRJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgbmV4dElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgbGFzdElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmV4cG9ydHMucGF0Y2hDb21wb25lbnQgPSBwYXRjaENvbXBvbmVudDtcclxuZnVuY3Rpb24gcGF0Y2hUZXh0KGxhc3RWTm9kZSwgbmV4dFZOb2RlKSB7XHJcbiAgICB2YXIgbmV4dFRleHQgPSBuZXh0Vk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgIG5leHRWTm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAobGFzdFZOb2RlLmNoaWxkcmVuICE9PSBuZXh0VGV4dCkge1xyXG4gICAgICAgIGRvbS5ub2RlVmFsdWUgPSBuZXh0VGV4dDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoVGV4dCA9IHBhdGNoVGV4dDtcclxuZnVuY3Rpb24gcGF0Y2hWb2lkKGxhc3RWTm9kZSwgbmV4dFZOb2RlKSB7XHJcbiAgICBuZXh0Vk5vZGUuZG9tID0gbGFzdFZOb2RlLmRvbTtcclxufVxyXG5leHBvcnRzLnBhdGNoVm9pZCA9IHBhdGNoVm9pZDtcclxuZnVuY3Rpb24gcGF0Y2hOb25LZXllZENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbGFzdENoaWxkcmVuTGVuZ3RoID0gbGFzdENoaWxkcmVuLmxlbmd0aDtcclxuICAgIHZhciBuZXh0Q2hpbGRyZW5MZW5ndGggPSBuZXh0Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgdmFyIGNvbW1vbkxlbmd0aCA9IGxhc3RDaGlsZHJlbkxlbmd0aCA+IG5leHRDaGlsZHJlbkxlbmd0aCA/IG5leHRDaGlsZHJlbkxlbmd0aCA6IGxhc3RDaGlsZHJlbkxlbmd0aDtcclxuICAgIHZhciBpID0gMDtcclxuICAgIGZvciAoOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldO1xyXG4gICAgICAgIGlmIChuZXh0Q2hpbGQuZG9tKSB7XHJcbiAgICAgICAgICAgIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRDaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhdGNoKGxhc3RDaGlsZHJlbltpXSwgbmV4dENoaWxkLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGlmIChsYXN0Q2hpbGRyZW5MZW5ndGggPCBuZXh0Q2hpbGRyZW5MZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGkgPSBjb21tb25MZW5ndGg7IGkgPCBuZXh0Q2hpbGRyZW5MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAobmV4dENoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dENoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKGRvbSwgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGQsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChuZXh0Q2hpbGRyZW5MZW5ndGggPT09IDApIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgbGFzdENoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGxhc3RDaGlsZHJlbkxlbmd0aCA+IG5leHRDaGlsZHJlbkxlbmd0aCkge1xyXG4gICAgICAgIGZvciAoaSA9IGNvbW1vbkxlbmd0aDsgaSA8IGxhc3RDaGlsZHJlbkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGxhc3RDaGlsZHJlbltpXSwgZG9tLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hOb25LZXllZENoaWxkcmVuID0gcGF0Y2hOb25LZXllZENoaWxkcmVuO1xyXG5mdW5jdGlvbiBwYXRjaEtleWVkQ2hpbGRyZW4oYSwgYiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGFMZW5ndGggPSBhLmxlbmd0aDtcclxuICAgIHZhciBiTGVuZ3RoID0gYi5sZW5ndGg7XHJcbiAgICB2YXIgYUVuZCA9IGFMZW5ndGggLSAxO1xyXG4gICAgdmFyIGJFbmQgPSBiTGVuZ3RoIC0gMTtcclxuICAgIHZhciBhU3RhcnQgPSAwO1xyXG4gICAgdmFyIGJTdGFydCA9IDA7XHJcbiAgICB2YXIgaTtcclxuICAgIHZhciBqO1xyXG4gICAgdmFyIGFOb2RlO1xyXG4gICAgdmFyIGJOb2RlO1xyXG4gICAgdmFyIG5leHROb2RlO1xyXG4gICAgdmFyIG5leHRQb3M7XHJcbiAgICB2YXIgbm9kZTtcclxuICAgIGlmIChhTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgaWYgKGJMZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnRBcnJheUNoaWxkcmVuKGIsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGJMZW5ndGggPT09IDApIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgYSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICB2YXIgYlN0YXJ0Tm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgIHZhciBhRW5kTm9kZSA9IGFbYUVuZF07XHJcbiAgICB2YXIgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgaWYgKGJTdGFydE5vZGUuZG9tKSB7XHJcbiAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJFbmROb2RlLmRvbSkge1xyXG4gICAgICAgIGJbYkVuZF0gPSBiRW5kTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJFbmROb2RlKTtcclxuICAgIH1cclxuICAgIC8vIFN0ZXAgMVxyXG4gICAgLyogZXNsaW50IG5vLWNvbnN0YW50LWNvbmRpdGlvbjogMCAqL1xyXG4gICAgb3V0ZXI6IHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgLy8gU3luYyBub2RlcyB3aXRoIHRoZSBzYW1lIGtleSBhdCB0aGUgYmVnaW5uaW5nLlxyXG4gICAgICAgIHdoaWxlIChhU3RhcnROb2RlLmtleSA9PT0gYlN0YXJ0Tm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYVN0YXJ0Tm9kZSwgYlN0YXJ0Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIGFTdGFydCsrO1xyXG4gICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgaWYgKGFTdGFydCA+IGFFbmQgfHwgYlN0YXJ0ID4gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYVN0YXJ0Tm9kZSA9IGFbYVN0YXJ0XTtcclxuICAgICAgICAgICAgYlN0YXJ0Tm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgICAgICAgICAgaWYgKGJTdGFydE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JTdGFydF0gPSBiU3RhcnROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYlN0YXJ0Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3luYyBub2RlcyB3aXRoIHRoZSBzYW1lIGtleSBhdCB0aGUgZW5kLlxyXG4gICAgICAgIHdoaWxlIChhRW5kTm9kZS5rZXkgPT09IGJFbmROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhRW5kTm9kZSwgYkVuZE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBhRW5kLS07XHJcbiAgICAgICAgICAgIGJFbmQtLTtcclxuICAgICAgICAgICAgaWYgKGFTdGFydCA+IGFFbmQgfHwgYlN0YXJ0ID4gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgICAgICAgICBiRW5kTm9kZSA9IGJbYkVuZF07XHJcbiAgICAgICAgICAgIGlmIChiRW5kTm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgIGJbYkVuZF0gPSBiRW5kTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJFbmROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNb3ZlIGFuZCBzeW5jIG5vZGVzIGZyb20gcmlnaHQgdG8gbGVmdC5cclxuICAgICAgICBpZiAoYUVuZE5vZGUua2V5ID09PSBiU3RhcnROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhRW5kTm9kZSwgYlN0YXJ0Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBiU3RhcnROb2RlLmRvbSwgYVN0YXJ0Tm9kZS5kb20pO1xyXG4gICAgICAgICAgICBhRW5kLS07XHJcbiAgICAgICAgICAgIGJTdGFydCsrO1xyXG4gICAgICAgICAgICBhRW5kTm9kZSA9IGFbYUVuZF07XHJcbiAgICAgICAgICAgIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNb3ZlIGFuZCBzeW5jIG5vZGVzIGZyb20gbGVmdCB0byByaWdodC5cclxuICAgICAgICBpZiAoYVN0YXJ0Tm9kZS5rZXkgPT09IGJFbmROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhU3RhcnROb2RlLCBiRW5kTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG5leHRQb3MgPSBiRW5kICsgMTtcclxuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBiRW5kTm9kZS5kb20sIG5leHROb2RlKTtcclxuICAgICAgICAgICAgYVN0YXJ0Kys7XHJcbiAgICAgICAgICAgIGJFbmQtLTtcclxuICAgICAgICAgICAgYVN0YXJ0Tm9kZSA9IGFbYVN0YXJ0XTtcclxuICAgICAgICAgICAgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgICAgICAgICBpZiAoYkVuZE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgaWYgKGFTdGFydCA+IGFFbmQpIHtcclxuICAgICAgICBpZiAoYlN0YXJ0IDw9IGJFbmQpIHtcclxuICAgICAgICAgICAgbmV4dFBvcyA9IGJFbmQgKyAxO1xyXG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgd2hpbGUgKGJTdGFydCA8PSBiRW5kKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYltiU3RhcnRdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYlN0YXJ0ID4gYkVuZCkge1xyXG4gICAgICAgIHdoaWxlIChhU3RhcnQgPD0gYUVuZCkge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChhW2FTdGFydCsrXSwgZG9tLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYUxlbmd0aCA9IGFFbmQgLSBhU3RhcnQgKyAxO1xyXG4gICAgICAgIGJMZW5ndGggPSBiRW5kIC0gYlN0YXJ0ICsgMTtcclxuICAgICAgICB2YXIgc291cmNlcyA9IG5ldyBBcnJheShiTGVuZ3RoKTtcclxuICAgICAgICAvLyBNYXJrIGFsbCBub2RlcyBhcyBpbnNlcnRlZC5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNvdXJjZXNbaV0gPSAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHBvcyA9IDA7XHJcbiAgICAgICAgdmFyIHBhdGNoZWQgPSAwO1xyXG4gICAgICAgIC8vIFdoZW4gc2l6ZXMgYXJlIHNtYWxsLCBqdXN0IGxvb3AgdGhlbSB0aHJvdWdoXHJcbiAgICAgICAgaWYgKChiTGVuZ3RoIDw9IDQpIHx8IChhTGVuZ3RoICogYkxlbmd0aCA8PSAxNikpIHtcclxuICAgICAgICAgICAgZm9yIChpID0gYVN0YXJ0OyBpIDw9IGFFbmQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYU5vZGUgPSBhW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZWQgPCBiTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gYlN0YXJ0OyBqIDw9IGJFbmQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiTm9kZSA9IGJbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhTm9kZS5rZXkgPT09IGJOb2RlLmtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlc1tqIC0gYlN0YXJ0XSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zID4gaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYk5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYltqXSA9IGJOb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2goYU5vZGUsIGJOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBrZXlJbmRleCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgLy8gTWFwIGtleXMgYnkgdGhlaXIgaW5kZXggaW4gYXJyYXlcclxuICAgICAgICAgICAgZm9yIChpID0gYlN0YXJ0OyBpIDw9IGJFbmQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAga2V5SW5kZXguc2V0KGJbaV0ua2V5LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUcnkgdG8gcGF0Y2ggc2FtZSBrZXlzXHJcbiAgICAgICAgICAgIGZvciAoaSA9IGFTdGFydDsgaSA8PSBhRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkIDwgYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGogPSBrZXlJbmRleC5nZXQoYU5vZGUua2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYk5vZGUgPSBiW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW2ogLSBiU3RhcnRdID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJOb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltqXSA9IGJOb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoKGFOb2RlLCBiTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYVtpXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZhc3QtcGF0aDogaWYgbm90aGluZyBwYXRjaGVkIHJlbW92ZSBhbGwgb2xkIGFuZCBhZGQgYWxsIG5ld1xyXG4gICAgICAgIGlmIChhTGVuZ3RoID09PSBhLmxlbmd0aCAmJiBwYXRjaGVkID09PSAwKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBhLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgd2hpbGUgKGJTdGFydCA8IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICBiW2JTdGFydF0gPSBub2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaSA9IGFMZW5ndGggLSBwYXRjaGVkO1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVthU3RhcnQrK107XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGFOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGFOb2RlLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW92ZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXEgPSBsaXNfYWxnb3JpdGhtKHNvdXJjZXMpO1xyXG4gICAgICAgICAgICAgICAgaiA9IHNlcS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gYkxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbaV0gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltwb3NdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQb3MgPSBwb3MgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IHNlcVtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gaSArIGJTdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UG9zID0gcG9zICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG5vZGUuZG9tLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGF0Y2hlZCAhPT0gYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiBwYXRjaGVkIGNvdW50IGRvZXNuJ3QgbWF0Y2ggYiBsZW5ndGggd2UgbmVlZCB0byBpbnNlcnQgdGhvc2UgbmV3IG9uZXNcclxuICAgICAgICAgICAgICAgIC8vIGxvb3AgYmFja3dhcmRzIHNvIHdlIGNhbiB1c2UgaW5zZXJ0QmVmb3JlXHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBiTGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlc1tpXSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gaSArIGJTdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbcG9zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiW3Bvc10gPSBub2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBvcyA9IHBvcyArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoS2V5ZWRDaGlsZHJlbiA9IHBhdGNoS2V5ZWRDaGlsZHJlbjtcclxuLy8gLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9uZ2VzdF9pbmNyZWFzaW5nX3N1YnNlcXVlbmNlXHJcbmZ1bmN0aW9uIGxpc19hbGdvcml0aG0oYXJyKSB7XHJcbiAgICB2YXIgcCA9IGFyci5zbGljZSgwKTtcclxuICAgIHZhciByZXN1bHQgPSBbMF07XHJcbiAgICB2YXIgaTtcclxuICAgIHZhciBqO1xyXG4gICAgdmFyIHU7XHJcbiAgICB2YXIgdjtcclxuICAgIHZhciBjO1xyXG4gICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgYXJySSA9IGFycltpXTtcclxuICAgICAgICBpZiAoYXJySSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGlmIChhcnJbal0gPCBhcnJJKSB7XHJcbiAgICAgICAgICAgIHBbaV0gPSBqO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChpKTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHUgPSAwO1xyXG4gICAgICAgIHYgPSByZXN1bHQubGVuZ3RoIC0gMTtcclxuICAgICAgICB3aGlsZSAodSA8IHYpIHtcclxuICAgICAgICAgICAgYyA9ICgodSArIHYpIC8gMikgfCAwO1xyXG4gICAgICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XHJcbiAgICAgICAgICAgICAgICB1ID0gYyArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ID0gYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XHJcbiAgICAgICAgICAgIGlmICh1ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcFtpXSA9IHJlc3VsdFt1IC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0W3VdID0gaTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1ID0gcmVzdWx0Lmxlbmd0aDtcclxuICAgIHYgPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgd2hpbGUgKHUtLSA+IDApIHtcclxuICAgICAgICByZXN1bHRbdV0gPSB2O1xyXG4gICAgICAgIHYgPSBwW3ZdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBpc0F0dHJBbkV2ZW50KGF0dHIpIHtcclxuICAgIHJldHVybiBhdHRyWzBdID09PSAnbycgJiYgYXR0clsxXSA9PT0gJ24nO1xyXG59XHJcbmV4cG9ydHMuaXNBdHRyQW5FdmVudCA9IGlzQXR0ckFuRXZlbnQ7XHJcbmZ1bmN0aW9uIHBhdGNoUHJvcChwcm9wLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKSB7XHJcbiAgICBpZiAobGFzdFZhbHVlICE9PSBuZXh0VmFsdWUpIHtcclxuICAgICAgICBpZiAoY29uc3RhbnRzXzEuc2tpcFByb3BzLmhhcyhwcm9wKSB8fCAoaGFzQ29udHJvbGxlZFZhbHVlICYmIHByb3AgPT09ICd2YWx1ZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29uc3RhbnRzXzEuYm9vbGVhblByb3BzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICBwcm9wID0gcHJvcCA9PT0gJ2F1dG9Gb2N1cycgPyBwcm9wLnRvTG93ZXJDYXNlKCkgOiBwcm9wO1xyXG4gICAgICAgICAgICBkb21bcHJvcF0gPSAhIW5leHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29uc3RhbnRzXzEuc3RyaWN0UHJvcHMuaGFzKHByb3ApKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0VmFsdWUpID8gJycgOiBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChkb21bcHJvcF0gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBkb21bcHJvcF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc0F0dHJBbkV2ZW50KHByb3ApKSB7XHJcbiAgICAgICAgICAgIHBhdGNoRXZlbnQocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGRvbS5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgcGF0Y2hTdHlsZShsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xyXG4gICAgICAgICAgICB2YXIgbGFzdEh0bWwgPSBsYXN0VmFsdWUgJiYgbGFzdFZhbHVlLl9faHRtbDtcclxuICAgICAgICAgICAgdmFyIG5leHRIdG1sID0gbmV4dFZhbHVlICYmIG5leHRWYWx1ZS5fX2h0bWw7XHJcbiAgICAgICAgICAgIGlmIChsYXN0SHRtbCAhPT0gbmV4dEh0bWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIdG1sKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5pbm5lckhUTUwgPSBuZXh0SHRtbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gV2Ugb3B0aW1pemUgZm9yIE5TIGJlaW5nIGJvb2xlYW4uIEl0cyA5OS45JSB0aW1lIGZhbHNlXHJcbiAgICAgICAgICAgIGlmIChpc1NWRyAmJiBjb25zdGFudHNfMS5uYW1lc3BhY2VzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZW5kIHVwIGluIHRoaXMgcGF0aCB3ZSBjYW4gcmVhZCBwcm9wZXJ0eSBhZ2FpblxyXG4gICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZU5TKGNvbnN0YW50c18xLm5hbWVzcGFjZXMuZ2V0KHByb3ApLCBwcm9wLCBuZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShwcm9wLCBuZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hQcm9wID0gcGF0Y2hQcm9wO1xyXG5mdW5jdGlvbiBwYXRjaEV2ZW50KG5hbWUsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20pIHtcclxuICAgIGlmIChsYXN0VmFsdWUgIT09IG5leHRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChjb25zdGFudHNfMS5kZWxlZ2F0ZWRFdmVudHMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIGRlbGVnYXRpb25fMS5oYW5kbGVFdmVudChuYW1lLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lTG93ZXJDYXNlID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB2YXIgZG9tRXZlbnQgPSBkb21bbmFtZUxvd2VyQ2FzZV07XHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSBmdW5jdGlvbiBpcyB3cmFwcGVkLCB0aGF0IG1lYW5zIGl0J3MgYmVlbiBjb250cm9sbGVkIGJ5IGEgd3JhcHBlclxyXG4gICAgICAgICAgICBpZiAoZG9tRXZlbnQgJiYgZG9tRXZlbnQud3JhcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKG5leHRWYWx1ZSkgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlua0V2ZW50XzEgPSBuZXh0VmFsdWUuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlua0V2ZW50XzEgJiYgaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKGxpbmtFdmVudF8xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbVtuYW1lTG93ZXJDYXNlXSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtFdmVudF8xKG5leHRWYWx1ZS5kYXRhLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImFuIGV2ZW50IG9uIGEgVk5vZGUgXFxcIlwiICsgbmFtZSArIFwiXFxcIi4gd2FzIG5vdCBhIGZ1bmN0aW9uIG9yIGEgdmFsaWQgbGlua0V2ZW50LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEV2ZW50ID0gcGF0Y2hFdmVudDtcclxuLy8gV2UgYXJlIGFzc3VtaW5nIGhlcmUgdGhhdCB3ZSBjb21lIGZyb20gcGF0Y2hQcm9wIHJvdXRpbmVcclxuLy8gLW5leHRBdHRyVmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXHJcbmZ1bmN0aW9uIHBhdGNoU3R5bGUobGFzdEF0dHJWYWx1ZSwgbmV4dEF0dHJWYWx1ZSwgZG9tKSB7XHJcbiAgICB2YXIgZG9tU3R5bGUgPSBkb20uc3R5bGU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyhuZXh0QXR0clZhbHVlKSkge1xyXG4gICAgICAgIGRvbVN0eWxlLmNzc1RleHQgPSBuZXh0QXR0clZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAodmFyIHN0eWxlIGluIG5leHRBdHRyVmFsdWUpIHtcclxuICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRBdHRyVmFsdWVbc3R5bGVdO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bWJlcih2YWx1ZSkgfHwgY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlci5oYXMoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gdmFsdWUgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGxhc3RBdHRyVmFsdWUpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3R5bGUgaW4gbGFzdEF0dHJWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRBdHRyVmFsdWVbc3R5bGVdKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFN0eWxlID0gcGF0Y2hTdHlsZTtcclxuZnVuY3Rpb24gcmVtb3ZlUHJvcChwcm9wLCBsYXN0VmFsdWUsIGRvbSkge1xyXG4gICAgaWYgKHByb3AgPT09ICd2YWx1ZScpIHtcclxuICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgIGRlbGVnYXRpb25fMS5oYW5kbGVFdmVudChwcm9wLCBsYXN0VmFsdWUsIG51bGwsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgfVxyXG59XHJcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgVk5vZGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgaHlkcmF0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcclxudmFyIG1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbnZhciB1bm1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG4vLyByYXRoZXIgdGhhbiB1c2UgYSBNYXAsIGxpa2Ugd2UgZGlkIGJlZm9yZSwgd2UgY2FuIHVzZSBhbiBhcnJheSBoZXJlXHJcbi8vIGdpdmVuIHRoZXJlIHNob3VsZG4ndCBiZSBUSEFUIG1hbnkgcm9vdHMgb24gdGhlIHBhZ2UsIHRoZSBkaWZmZXJlbmNlXHJcbi8vIGluIHBlcmZvcm1hbmNlIGlzIGh1Z2U6IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTgwMmE2OTEzMzBhYjA5OTAwYTFhMmRhXHJcbmV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwID0gbmV3IE1hcCgpO1xyXG52YXIgcm9vdHMgPSBvcHRpb25zXzEub3B0aW9ucy5yb290cztcclxuLyoqXHJcbiAqIFdoZW4gaW5mZXJuby5vcHRpb25zLmZpbmRET01OT2RlRW5hYmxlZCBpcyB0cnVlLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIERPTSBOb2RlIGJ5IGNvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0gcmVmIENvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcmV0dXJucyB7KnxudWxsfSByZXR1cm5zIGRvbSBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kRE9NTm9kZShyZWYpIHtcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZmluZERPTU5vZGUoKSBoYXMgYmVlbiBkaXNhYmxlZCwgdXNlIEluZmVybm8ub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQgPSB0cnVlOyBlbmFibGVkIGZpbmRET01Ob2RlKCkuIFdhcm5pbmcgdGhpcyBjYW4gc2lnbmlmaWNhbnRseSBpbXBhY3QgcGVyZm9ybWFuY2UhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgdmFyIGRvbSA9IHJlZiAmJiByZWYubm9kZVR5cGUgPyByZWYgOiBudWxsO1xyXG4gICAgcmV0dXJuIGV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwLmdldChyZWYpIHx8IGRvbTtcclxufVxyXG5leHBvcnRzLmZpbmRET01Ob2RlID0gZmluZERPTU5vZGU7XHJcbmZ1bmN0aW9uIGdldFJvb3QoZG9tKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm9vdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgcm9vdCA9IHJvb3RzW2ldO1xyXG4gICAgICAgIGlmIChyb290LmRvbSA9PT0gZG9tKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHNldFJvb3QoZG9tLCBpbnB1dCwgbGlmZWN5Y2xlKSB7XHJcbiAgICB2YXIgcm9vdCA9IHtcclxuICAgICAgICBkb206IGRvbSxcclxuICAgICAgICBpbnB1dDogaW5wdXQsXHJcbiAgICAgICAgbGlmZWN5Y2xlOiBsaWZlY3ljbGVcclxuICAgIH07XHJcbiAgICByb290cy5wdXNoKHJvb3QpO1xyXG4gICAgcmV0dXJuIHJvb3Q7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlUm9vdChyb290KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm9vdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAocm9vdHNbaV0gPT09IHJvb3QpIHtcclxuICAgICAgICAgICAgcm9vdHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmlmIChmYWxzZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyICYmIGRvY3VtZW50LmJvZHkgPT09IG51bGwpIHtcclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gd2FybmluZzogeW91IGNhbm5vdCBpbml0aWFsaXplIGluZmVybm8gd2l0aG91dCBcImRvY3VtZW50LmJvZHlcIi4gV2FpdCBvbiBcIkRPTUNvbnRlbnRMb2FkZWRcIiBldmVudCwgYWRkIHNjcmlwdCB0byBib3R0b20gb2YgYm9keSwgb3IgdXNlIGFzeW5jL2RlZmVyIGF0dHJpYnV0ZXMgb24gc2NyaXB0IHRhZy4nKTtcclxuICAgIH1cclxufVxyXG52YXIgZG9jdW1lbnRCb2R5ID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgPyBkb2N1bWVudC5ib2R5IDogbnVsbDtcclxuLyoqXHJcbiAqIFJlbmRlcnMgdmlydHVhbCBub2RlIHRyZWUgaW50byBwYXJlbnQgbm9kZS5cclxuICogQHBhcmFtIHtWTm9kZSB8IG51bGwgfCBzdHJpbmcgfCBudW1iZXJ9IGlucHV0IHZOb2RlIHRvIGJlIHJlbmRlcmVkXHJcbiAqIEBwYXJhbSBwYXJlbnREb20gRE9NIG5vZGUgd2hpY2ggY29udGVudCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHZpcnR1YWwgbm9kZVxyXG4gKiBAcmV0dXJucyB7SW5mZXJub0NoaWxkcmVufSByZW5kZXJlZCB2aXJ0dWFsIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlcihpbnB1dCwgcGFyZW50RG9tKSB7XHJcbiAgICBpZiAoZG9jdW1lbnRCb2R5ID09PSBwYXJlbnREb20pIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCd5b3UgY2Fubm90IHJlbmRlcigpIHRvIHRoZSBcImRvY3VtZW50LmJvZHlcIi4gVXNlIGFuIGVtcHR5IGVsZW1lbnQgYXMgYSBjb250YWluZXIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcm9vdCA9IGdldFJvb3QocGFyZW50RG9tKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChyb290KSkge1xyXG4gICAgICAgIHZhciBsaWZlY3ljbGUgPSBuZXcgaW5mZXJub19zaGFyZWRfMS5MaWZlY3ljbGUoKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGlucHV0KSkge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWh5ZHJhdGlvbl8xLmh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQoaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvb3QgPSBzZXRSb290KHBhcmVudERvbSwgaW5wdXQsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGxpZmVjeWNsZSA9IHJvb3QubGlmZWN5Y2xlO1xyXG4gICAgICAgIGxpZmVjeWNsZS5saXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGlucHV0KSkge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChyb290LmlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlUm9vdChyb290KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2gocm9vdC5pbnB1dCwgaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm9vdC5pbnB1dCA9IGlucHV0O1xyXG4gICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICB9XHJcbiAgICBpZiAocm9vdCkge1xyXG4gICAgICAgIHZhciByb290SW5wdXQgPSByb290LmlucHV0O1xyXG4gICAgICAgIGlmIChyb290SW5wdXQgJiYgKHJvb3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3RJbnB1dC5jaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKHBhcmVudERvbSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlbmRlcmVyKGxhc3RJbnB1dCwgbmV4dElucHV0KSB7XHJcbiAgICAgICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICAgICAgcGFyZW50RG9tID0gbGFzdElucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZW5kZXIobmV4dElucHV0LCBwYXJlbnREb20pO1xyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxudmFyIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxudmFyIFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuX29uQ29tcG9uZW50UmVzb2x2ZWQgPSBmdW5jdGlvbiAoZXJyb3IsIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBhc3luY0NvbXBvbmVudDogY29tcG9uZW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGFzeW5jQ29tcG9uZW50OiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSB0aGlzLnByb3BzLm9uRW50ZXI7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKG9uRW50ZXIpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25FbnRlcih7IHByb3BzOiBfdGhpcy5wcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gdGhpcy5wcm9wcy5nZXRDb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKGdldENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnQoeyBwcm9wczogX3RoaXMucHJvcHMsIHJvdXRlcjogcm91dGVyIH0sIF90aGlzLl9vbkNvbXBvbmVudFJlc29sdmVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5vbkxlYXZlID0gZnVuY3Rpb24gKHRyaWdnZXIpIHtcclxuICAgICAgICBpZiAodHJpZ2dlciA9PT0gdm9pZCAwKSB7IHRyaWdnZXIgPSBmYWxzZTsgfVxyXG4gICAgICAgIHZhciBvbkxlYXZlID0gdGhpcy5wcm9wcy5vbkxlYXZlO1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xyXG4gICAgICAgIGlmIChvbkxlYXZlICYmIHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgb25MZWF2ZSh7IHByb3BzOiB0aGlzLnByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLm9uRW50ZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSBuZXh0UHJvcHMub25FbnRlcjtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBvbkVudGVyKSB7XHJcbiAgICAgICAgICAgIG9uRW50ZXIoeyBwcm9wczogbmV4dFByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gbmV4dFByb3BzLmdldENvbXBvbmVudDtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBnZXRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50KHsgcHJvcHM6IG5leHRQcm9wcywgcm91dGVyOiByb3V0ZXIgfSwgdGhpcy5fb25Db21wb25lbnRSZXNvbHZlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uRW50ZXIobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChfYXJncykge1xyXG4gICAgICAgIHZhciBjb21wb25lbnQgPSBfYXJncy5jb21wb25lbnQsIGNoaWxkcmVuID0gX2FyZ3MuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHByb3BzID0gdXRpbHNfMS5yZXN0KF9hcmdzLCBbJ2NvbXBvbmVudCcsICdjaGlsZHJlbicsICdwYXRoJywgJ2dldENvbXBvbmVudCddKTtcclxuICAgICAgICB2YXIgYXN5bmNDb21wb25lbnQgPSB0aGlzLnN0YXRlLmFzeW5jQ29tcG9uZW50O1xyXG4gICAgICAgIHZhciByZXNvbHZlZENvbXBvbmVudCA9IGNvbXBvbmVudCB8fCBhc3luY0NvbXBvbmVudDtcclxuICAgICAgICBpZiAoIXJlc29sdmVkQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KHJlc29sdmVkQ29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZTtcclxufShpbmZlcm5vX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmV4cG9ydHMueG1sTlMgPSAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJztcclxuZXhwb3J0cy5zdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbmV4cG9ydHMuc3RyaWN0UHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuc3RyaWN0UHJvcHMuYWRkKCd2b2x1bWUnKTtcclxuZXhwb3J0cy5zdHJpY3RQcm9wcy5hZGQoJ2RlZmF1bHRDaGVja2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ211dGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnc2NvcGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbG9vcCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ29wZW4nKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdjaGVja2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnZGVmYXVsdCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NhcHR1cmUnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdkaXNhYmxlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3JlYWRPbmx5Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgncmVxdWlyZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdhdXRvcGxheScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NvbnRyb2xzJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnc2VhbWxlc3MnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdyZXZlcnNlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2FsbG93ZnVsbHNjcmVlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ25vdmFsaWRhdGUnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdoaWRkZW4nKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdhdXRvRm9jdXMnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzZWxlY3RlZCcpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMgPSBuZXcgTWFwKCk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOmhyZWYnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazphcmNyb2xlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6YWN0dWF0ZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnNob3cnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazpyb2xlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6dGl0bGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazp0eXBlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOmJhc2UnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOmxhbmcnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOnNwYWNlJywgZXhwb3J0cy54bWxOUyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlciA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm9yZGVySW1hZ2VPdXRzZXQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm9yZGVySW1hZ2VTbGljZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZVdpZHRoJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JveEZsZXgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94RmxleEdyb3VwJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JveE9yZGluYWxHcm91cCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdjb2x1bW5Db3VudCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhHcm93Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhQb3NpdGl2ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4U2hyaW5rJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhOZWdhdGl2ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4T3JkZXInKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZ3JpZFJvdycpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdncmlkQ29sdW1uJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZvbnRXZWlnaHQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnbGluZUNsYW1wJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2xpbmVIZWlnaHQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnb3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcmRlcicpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcnBoYW5zJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3RhYlNpemUnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnd2lkb3dzJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3pJbmRleCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCd6b29tJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZpbGxPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2Zsb29kT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdG9wT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VEYXNoYXJyYXknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlRGFzaG9mZnNldCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VNaXRlcmxpbWl0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZU9wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlV2lkdGgnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnY2hpbGRyZW4nKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGlsZHJlblR5cGUnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdkZWZhdWx0VmFsdWUnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdyZWYnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdrZXknKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGVja2VkJyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnbXVsdGlwbGUnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25DbGljaycpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uTW91c2VEb3duJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZVVwJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZU1vdmUnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvblN1Ym1pdCcpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uRGJsQ2xpY2snKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleURvd24nKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleVVwJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25LZXlQcmVzcycpO1xyXG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIHBhdGNoaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG52YXIgcmVjeWNsaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcclxudmFyIHJlbmRlcmluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5mdW5jdGlvbiBtb3VudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCAoZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRWb2lkKHZOb2RlLCBwYXJlbnREb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRUZXh0KHZOb2RlLCBwYXJlbnREb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygdk5vZGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJtb3VudCgpIHJlY2VpdmVkIGFuIG9iamVjdCB0aGF0J3Mgbm90IGEgdmFsaWQgVk5vZGUsIHlvdSBzaG91bGQgc3RyaW5naWZ5IGl0IGZpcnN0LiBPYmplY3Q6IFxcXCJcIiArIEpTT04uc3RyaW5naWZ5KHZOb2RlKSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJtb3VudCgpIGV4cGVjdHMgYSB2YWxpZCBWTm9kZSwgaW5zdGVhZCBpdCByZWNlaXZlZCBhbiBvYmplY3Qgd2l0aCB0aGUgdHlwZSBcXFwiXCIgKyB0eXBlb2Ygdk5vZGUgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnQgPSBtb3VudDtcclxuZnVuY3Rpb24gbW91bnRUZXh0KHZOb2RlLCBwYXJlbnREb20pIHtcclxuICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2Tm9kZS5jaGlsZHJlbik7XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZXhwb3J0cy5tb3VudFRleHQgPSBtb3VudFRleHQ7XHJcbmZ1bmN0aW9uIG1vdW50Vm9pZCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRWb2lkID0gbW91bnRWb2lkO1xyXG5mdW5jdGlvbiBtb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLnJlY3ljbGluZ0VuYWJsZWQpIHtcclxuICAgICAgICB2YXIgZG9tXzEgPSByZWN5Y2xpbmdfMS5yZWN5Y2xlRWxlbWVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChkb21fMSkpIHtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tXzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkb21fMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlzU1ZHID0gaXNTVkcgfHwgKGZsYWdzICYgMTI4IC8qIFN2Z0VsZW1lbnQgKi8pID4gMDtcclxuICAgIHZhciBkb20gPSB1dGlsc18xLmRvY3VtZW50Q3JlYXRlRWxlbWVudCh2Tm9kZS50eXBlLCBpc1NWRyk7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IHZOb2RlLmNsYXNzTmFtZTtcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgbW91bnRBcnJheUNoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBtb3VudChjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzKSkge1xyXG4gICAgICAgIHZhciBoYXNDb250cm9sbGVkVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGb3JtRWxlbWVudCA9IChmbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoUHJvcChwcm9wLCBudWxsLCBwcm9wc1twcm9wXSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnRfMS5wcm9jZXNzRWxlbWVudChmbGFncywgdk5vZGUsIGRvbSwgcHJvcHMsIHRydWUsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocmVmKSkge1xyXG4gICAgICAgIG1vdW50UmVmKGRvbSwgcmVmLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRFbGVtZW50ID0gbW91bnRFbGVtZW50O1xyXG5mdW5jdGlvbiBtb3VudEFycmF5Q2hpbGRyZW4oY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgLy8gVmVyaWZ5IGNhbiBzdHJpbmcvbnVtYmVyIGJlIGhlcmUuIG1pZ2h0IGNhdXNlIGRlLW9wdC4gLSBOb3JtYWxpemF0aW9uIHRha2VzIGNhcmUgb2YgaXQuXHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkpIHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5baV0gPSBjaGlsZCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtb3VudChjaGlsZHJlbltpXSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudEFycmF5Q2hpbGRyZW4gPSBtb3VudEFycmF5Q2hpbGRyZW47XHJcbmZ1bmN0aW9uIG1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MpIHtcclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIGRvbV8yID0gcmVjeWNsaW5nXzEucmVjeWNsZUNvbXBvbmVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChkb21fMikpIHtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tXzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkb21fMjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgZG9tO1xyXG4gICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB1dGlsc18xLmNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2Uodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0LCBpc1NWRywgbGlmZWN5Y2xlKTtcclxuICAgICAgICB2YXIgaW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgIGluc3RhbmNlLl92Tm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGRvbSA9IG1vdW50KGlucHV0LCBudWxsLCBsaWZlY3ljbGUsIGluc3RhbmNlLl9jaGlsZENvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHV0aWxzXzEuY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gZG9tID0gbW91bnQoaW5wdXQsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIHZOb2RlLmNoaWxkcmVuID0gaW5wdXQ7XHJcbiAgICAgICAgbW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRDb21wb25lbnQgPSBtb3VudENvbXBvbmVudDtcclxuZnVuY3Rpb24gbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyh2Tm9kZSwgcmVmLCBpbnN0YW5jZSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAocmVmKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihyZWYpKSB7XHJcbiAgICAgICAgICAgIHJlZihpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QocmVmKSAmJiAodk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZnVuY3Rpb25hbCBjb21wb25lbnQgbGlmZWN5Y2xlIGV2ZW50cyBhcmUgbm90IHN1cHBvcnRlZCBvbiBFUzIwMTUgY2xhc3MgY29tcG9uZW50cy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImEgYmFkIHZhbHVlIGZvciBcXFwicmVmXFxcIiB3YXMgdXNlZCBvbiBjb21wb25lbnQ6IFxcXCJcIiArIEpTT04uc3RyaW5naWZ5KHJlZikgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGhhc0RpZE1vdW50ID0gIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQpO1xyXG4gICAgdmFyIGFmdGVyTW91bnQgPSBvcHRpb25zXzEub3B0aW9ucy5hZnRlck1vdW50O1xyXG4gICAgaWYgKGhhc0RpZE1vdW50IHx8ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhZnRlck1vdW50KSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChhZnRlck1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBhZnRlck1vdW50KHZOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGFzRGlkTW91bnQpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzID0gbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsTW91bnQpKSB7XHJcbiAgICAgICAgICAgIHJlZi5vbkNvbXBvbmVudFdpbGxNb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnREaWRNb3VudCkpIHtcclxuICAgICAgICAgICAgbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZi5vbkNvbXBvbmVudERpZE1vdW50KGRvbSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyA9IG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRSZWYoZG9tLCB2YWx1ZSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZShkb20pOyB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdzdHJpbmcgXCJyZWZzXCIgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gSW5mZXJubyAxLjAuIFVzZSBjYWxsYmFjayBcInJlZnNcIiBpbnN0ZWFkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50UmVmID0gbW91bnRSZWY7XHJcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSkuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbnZhciByZWN5Y2xpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbmZ1bmN0aW9uIHVubW91bnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgKDEgLyogVGV4dCAqLyB8IDQwOTYgLyogVm9pZCAqLykpIHtcclxuICAgICAgICB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnQgPSB1bm1vdW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgdk5vZGUuZG9tKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBpbnN0YW5jZSA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICB2YXIgaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgaWYgKCFpc1JlY3ljbGluZykge1xyXG4gICAgICAgIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2Jsb2NrU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVVubW91bnQodk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVmICYmICFpc1JlY3ljbGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZihudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5kZWxldGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdW5tb3VudChpbnN0YW5jZS5fbGFzdElucHV0LCBudWxsLCBpbnN0YW5jZS5fbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYub25Db21wb25lbnRXaWxsVW5tb3VudChkb20pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVubW91bnQoaW5zdGFuY2UsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGFyZW50RG9tKSB7XHJcbiAgICAgICAgdmFyIGxhc3RJbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGxhc3RJbnB1dCA9IGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmICFpc1N0YXRlZnVsQ29tcG9uZW50ICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sQ29tcG9uZW50KHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnRDb21wb25lbnQgPSB1bm1vdW50Q29tcG9uZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgaWYgKHJlZiAmJiAhaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICB1bm1vdW50UmVmKHJlZik7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzKSkge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBpZiAocHJvcHNbbmFtZV8xXSAhPT0gbnVsbCAmJiBwYXRjaGluZ18xLmlzQXR0ckFuRXZlbnQobmFtZV8xKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEV2ZW50KG5hbWVfMSwgcHJvcHNbbmFtZV8xXSwgbnVsbCwgZG9tKTtcclxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgbnVsbCwgYmVjYXVzZSBzYW1lIHByb3BzIG90aGVyd2lzZSBjb21lIGJhY2sgaWYgU0NVIHJldHVybnMgZmFsc2UgYW5kIHdlIGFyZSByZWN5bGluZ1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV8xXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sRWxlbWVudCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50RWxlbWVudCA9IHVubW91bnRFbGVtZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjaGlsZCwgbnVsbCwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50KGNoaWxkcmVuLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5tb3VudFJlZihyZWYpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIHJlZihudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChyZWYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBJbnB1dFdyYXBwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xyXG52YXIgU2VsZWN0V3JhcHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XHJcbnZhciBUZXh0YXJlYVdyYXBwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xyXG4vKipcclxuICogVGhlcmUgaXMgY3VycmVudGx5IG5vIHN1cHBvcnQgZm9yIHN3aXRjaGluZyBzYW1lIGlucHV0IGJldHdlZW4gY29udHJvbGxlZCBhbmQgbm9uQ29udHJvbGxlZFxyXG4gKiBJZiB0aGF0IGV2ZXIgYmVjb21lcyBhIHJlYWwgaXNzdWUsIHRoZW4gcmUgZGVzaWduIGNvbnRyb2xsZWQgZWxlbWVudHNcclxuICogQ3VycmVudGx5IHVzZXIgbXVzdCBjaG9vc2UgZWl0aGVyIGNvbnRyb2xsZWQgb3Igbm9uLWNvbnRyb2xsZWQgYW5kIHN0aWNrIHdpdGggdGhhdFxyXG4gKi9cclxuZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGlmIChmbGFncyAmIDUxMiAvKiBJbnB1dEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBJbnB1dFdyYXBwZXJfMS5wcm9jZXNzSW5wdXQodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZmxhZ3MgJiAyMDQ4IC8qIFNlbGVjdEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBTZWxlY3RXcmFwcGVyXzEucHJvY2Vzc1NlbGVjdCh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKTtcclxuICAgIH1cclxuICAgIGlmIChmbGFncyAmIDEwMjQgLyogVGV4dGFyZWFFbGVtZW50ICovKSB7XHJcbiAgICAgICAgVGV4dGFyZWFXcmFwcGVyXzEucHJvY2Vzc1RleHRhcmVhKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0VsZW1lbnQgPSBwcm9jZXNzRWxlbWVudDtcclxuZnVuY3Rpb24gaXNDb250cm9sbGVkRm9ybUVsZW1lbnQobmV4dFByb3BzT3JFbXB0eSkge1xyXG4gICAgcmV0dXJuIChuZXh0UHJvcHNPckVtcHR5LnR5cGUgJiYgSW5wdXRXcmFwcGVyXzEuaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSA/ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS5jaGVja2VkKSA6ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS52YWx1ZSk7XHJcbn1cclxuZXhwb3J0cy5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudCA9IGlzQ29udHJvbGxlZEZvcm1FbGVtZW50O1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIGFkZExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuYWRkTGVhZGluZ1NsYXNoID0gZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbn07XG5cbnZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuc3RyaXBMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xufTtcblxudmFyIHN0cmlwUHJlZml4ID0gZXhwb3J0cy5zdHJpcFByZWZpeCA9IGZ1bmN0aW9uIHN0cmlwUHJlZml4KHBhdGgsIHByZWZpeCkge1xuICByZXR1cm4gcGF0aC5pbmRleE9mKHByZWZpeCkgPT09IDAgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59O1xuXG52YXIgc3RyaXBUcmFpbGluZ1NsYXNoID0gZXhwb3J0cy5zdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxudmFyIHBhcnNlUGF0aCA9IGV4cG9ydHMucGFyc2VQYXRoID0gZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICB2YXIgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICBwYXRobmFtZSA9IGRlY29kZVVSSShwYXRobmFtZSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2ggPT09ICc/JyA/ICcnIDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2ggPT09ICcjJyA/ICcnIDogaGFzaFxuICB9O1xufTtcblxudmFyIGNyZWF0ZVBhdGggPSBleHBvcnRzLmNyZWF0ZVBhdGggPSBmdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLFxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG5cblxuICB2YXIgcGF0aCA9IGVuY29kZVVSSShwYXRobmFtZSB8fCAnLycpO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNikuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbmZ1bmN0aW9uIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpIHtcclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoMiAvKiBIdG1sRWxlbWVudCAqLywgJ2EnLCBjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcyk7XHJcbn1cclxuZnVuY3Rpb24gTGluayhwcm9wcywgX2EpIHtcclxuICAgIHZhciByb3V0ZXIgPSBfYS5yb3V0ZXI7XHJcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gcHJvcHMuYWN0aXZlQ2xhc3NOYW1lLCBhY3RpdmVTdHlsZSA9IHByb3BzLmFjdGl2ZVN0eWxlLCBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsIG9uQ2xpY2sgPSBwcm9wcy5vbkNsaWNrLCBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLCB0byA9IHByb3BzLnRvLCBvdGhlclByb3BzID0gX19yZXN0KHByb3BzLCBbXCJhY3RpdmVDbGFzc05hbWVcIiwgXCJhY3RpdmVTdHlsZVwiLCBcImNsYXNzTmFtZVwiLCBcIm9uQ2xpY2tcIiwgXCJjaGlsZHJlblwiLCBcInRvXCJdKTtcclxuICAgIHZhciBjbGFzc05tO1xyXG4gICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGNsYXNzTm0gPSBjbGFzc05hbWU7XHJcbiAgICB9XHJcbiAgICBpZiAoIXJvdXRlcikge1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJzxMaW5rLz4gY29tcG9uZW50IHVzZWQgb3V0c2lkZSBvZiA8Um91dGVyLz4uIEZhbGxiYWNrIHRvIDxhPiB0YWcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG90aGVyUHJvcHMuaHJlZiA9IHRvO1xyXG4gICAgICAgIG90aGVyUHJvcHMub25DbGljayA9IG9uQ2xpY2s7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG4gICAgfVxyXG4gICAgb3RoZXJQcm9wcy5ocmVmID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgPyByb3V0ZXIuY3JlYXRlSHJlZih7IHBhdGhuYW1lOiB0byB9KSA6IHJvdXRlci5sb2NhdGlvbi5iYXNlVXJsID8gcm91dGVyLmxvY2F0aW9uLmJhc2VVcmwgKyB0byA6IHRvO1xyXG4gICAgaWYgKHJvdXRlci5sb2NhdGlvbi5wYXRobmFtZSA9PT0gdG8pIHtcclxuICAgICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTm0gPSAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgYWN0aXZlQ2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aXZlU3R5bGUpIHtcclxuICAgICAgICAgICAgb3RoZXJQcm9wcy5zdHlsZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJvcHMuc3R5bGUsIGFjdGl2ZVN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdGhlclByb3BzLm9uY2xpY2sgPSBmdW5jdGlvbiBuYXZpZ2F0ZShlKSB7XHJcbiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwIHx8IGUuY3RybEtleSB8fCBlLmFsdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgb25DbGljayhlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm91dGVyLnB1c2godG8sIGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gcmVuZGVyTGluayhjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcyk7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gTGluaztcclxuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxudmFyIFJvdXRlckNvbnRleHQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJvdXRlckNvbnRleHQsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZXJDb250ZXh0KHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMubG9jYXRpb24gfHwgIXByb3BzLm1hdGNoZWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiaW5mZXJuby1yb3V0ZXJcIiByZXF1aXJlcyBhIFwibG9jYXRpb25cIiBhbmQgXCJtYXRjaGVkXCIgcHJvcHMgcGFzc2VkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGVyQ29udGV4dC5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJvdXRlcjogdGhpcy5wcm9wcy5yb3V0ZXIgfHwge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXJsOiB0aGlzLnByb3BzLmJhc2VVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IHRoaXMucHJvcHMubG9jYXRpb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgUm91dGVyQ29udGV4dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3BzLm1hdGNoZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJvdXRlckNvbnRleHQ7XHJcbn0oaW5mZXJub19jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlckNvbnRleHQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIHBhdGhfdG9fcmVnZXhwX2VzNl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XHJcbnZhciBjYWNoZSA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBub2RlIGNvbnRhaW5pbmcgb25seSB0aGUgbWF0Y2hlZCBjb21wb25lbnRzXHJcbiAqIEBwYXJhbSByb3V0ZXNcclxuICogQHBhcmFtIGN1cnJlbnRVUkxcclxuICogQHJldHVybnMgeyp9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXRjaChyb3V0ZXMsIGN1cnJlbnRVUkwpIHtcclxuICAgIHZhciBsb2NhdGlvbiA9IHV0aWxzXzEuZ2V0VVJMU3RyaW5nKGN1cnJlbnRVUkwpO1xyXG4gICAgcmV0dXJuIG1hdGNoUm91dGVzKGluZmVybm9fc2hhcmVkXzEudG9BcnJheShyb3V0ZXMpLCBlbmNvZGVVUkkobG9jYXRpb24pLCAnLycpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG1hdGNoO1xyXG4vKipcclxuICogR28gdGhyb3VnaCBldmVyeSByb3V0ZSBhbmQgY3JlYXRlIGEgbmV3IG5vZGVcclxuICogd2l0aCB0aGUgbWF0Y2hlZCBjb21wb25lbnRzXHJcbiAqIEBwYXJhbSBfcm91dGVzXHJcbiAqIEBwYXJhbSBjdXJyZW50VVJMXHJcbiAqIEBwYXJhbSBwYXJlbnRQYXRoXHJcbiAqIEBwYXJhbSByZWRpcmVjdFxyXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbWF0Y2hSb3V0ZXMoX3JvdXRlcywgY3VycmVudFVSTCwgcGFyZW50UGF0aCwgcmVkaXJlY3QpIHtcclxuICAgIGlmIChjdXJyZW50VVJMID09PSB2b2lkIDApIHsgY3VycmVudFVSTCA9ICcvJzsgfVxyXG4gICAgaWYgKHBhcmVudFBhdGggPT09IHZvaWQgMCkgeyBwYXJlbnRQYXRoID0gJy8nOyB9XHJcbiAgICBpZiAocmVkaXJlY3QgPT09IHZvaWQgMCkgeyByZWRpcmVjdCA9IGZhbHNlOyB9XHJcbiAgICB2YXIgcm91dGVzID0gaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KF9yb3V0ZXMpID8gdXRpbHNfMS5mbGF0dGVuKF9yb3V0ZXMpIDogaW5mZXJub19zaGFyZWRfMS50b0FycmF5KF9yb3V0ZXMpO1xyXG4gICAgdmFyIF9hID0gY3VycmVudFVSTC5zcGxpdCgnPycpLCBfYiA9IF9hWzBdLCBwYXRoVG9NYXRjaCA9IF9iID09PSB2b2lkIDAgPyAnLycgOiBfYiwgX2MgPSBfYVsxXSwgc2VhcmNoID0gX2MgPT09IHZvaWQgMCA/ICcnIDogX2M7XHJcbiAgICB2YXIgcGFyYW1zID0gdXRpbHNfMS5tYXBTZWFyY2hQYXJhbXMoc2VhcmNoKTtcclxuICAgIHJvdXRlcy5zb3J0KHV0aWxzXzEucGF0aFJhbmtTb3J0KTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb3V0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgcm91dGUgPSByb3V0ZXNbaV07XHJcbiAgICAgICAgdmFyIHByb3BzID0gcm91dGUucHJvcHMgfHwgdXRpbHNfMS5lbXB0eU9iamVjdDtcclxuICAgICAgICB2YXIgcm91dGVQYXRoID0gcHJvcHMuZnJvbSB8fCBwcm9wcy5wYXRoIHx8ICcvJztcclxuICAgICAgICB2YXIgbG9jYXRpb25fMSA9IHBhcmVudFBhdGggKyB1dGlsc18xLnRvUGFydGlhbFVSTChyb3V0ZVBhdGgsIHBhcmVudFBhdGgpLnJlcGxhY2UoL1xcL1xcLy9nLCAnLycpO1xyXG4gICAgICAgIHZhciBpc0xhc3QgPSB1dGlsc18xLmlzRW1wdHkocHJvcHMuY2hpbGRyZW4pO1xyXG4gICAgICAgIHZhciBtYXRjaEJhc2UgPSBtYXRjaFBhdGgoaXNMYXN0LCBsb2NhdGlvbl8xLCBwYXRoVG9NYXRjaCk7XHJcbiAgICAgICAgaWYgKG1hdGNoQmFzZSkge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgaWYgKHByb3BzLmZyb20pIHtcclxuICAgICAgICAgICAgICAgIHJlZGlyZWN0ID0gcHJvcHMudG87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hDaGlsZCA9IG1hdGNoUm91dGVzKGNoaWxkcmVuLCBjdXJyZW50VVJMLCBsb2NhdGlvbl8xLCByZWRpcmVjdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaENoaWxkLnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25fMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBtYXRjaENoaWxkLnJlZGlyZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gbWF0Y2hDaGlsZC5tYXRjaGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZFByb3BzID0gY2hpbGRyZW4ucHJvcHMucGFyYW1zO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjaGlsZFByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1trZXldID0gY2hpbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IGluZmVybm9fMS5kZWZhdWx0LmNsb25lVk5vZGUocm91dGUsIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtczogaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShwYXJhbXMsIG1hdGNoQmFzZS5wYXJhbXMpLFxyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzEsXHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdDogcmVkaXJlY3QsXHJcbiAgICAgICAgICAgICAgICBtYXRjaGVkOiBtYXRjaGVkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBwYXRoIHRvIGEgcmVnZXgsIGlmIGEgbWF0Y2ggaXMgZm91bmQgdGhlbiB3ZSBleHRyYWN0IHBhcmFtcyBmcm9tIGl0XHJcbiAqIEBwYXJhbSBlbmRcclxuICogQHBhcmFtIHJvdXRlUGF0aFxyXG4gKiBAcGFyYW0gcGF0aFRvTWF0Y2hcclxuICogQHJldHVybnMge2FueX1cclxuICovXHJcbmZ1bmN0aW9uIG1hdGNoUGF0aChlbmQsIHJvdXRlUGF0aCwgcGF0aFRvTWF0Y2gpIHtcclxuICAgIHZhciBrZXkgPSByb3V0ZVBhdGggKyBcInxcIiArIGVuZDtcclxuICAgIHZhciByZWdleHAgPSBjYWNoZS5nZXQoa2V5KTtcclxuICAgIGlmIChyZWdleHAgPT09IHZvaWQgMCkge1xyXG4gICAgICAgIHZhciBrZXlzID0gW107XHJcbiAgICAgICAgcmVnZXhwID0geyBwYXR0ZXJuOiBwYXRoX3RvX3JlZ2V4cF9lczZfMS5kZWZhdWx0KHJvdXRlUGF0aCwga2V5cywgeyBlbmQ6IGVuZCB9KSwga2V5czoga2V5cyB9O1xyXG4gICAgICAgIGNhY2hlLnNldChrZXksIHJlZ2V4cCk7XHJcbiAgICB9XHJcbiAgICB2YXIgbSA9IHJlZ2V4cC5wYXR0ZXJuLmV4ZWMocGF0aFRvTWF0Y2gpO1xyXG4gICAgaWYgKCFtKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICB2YXIgcGF0aCA9IG1bMF07XHJcbiAgICB2YXIgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBtLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XHJcbiAgICAgICAgcGFyYW1zW3JlZ2V4cC5rZXlzW2kgLSAxXS5uYW1lXSA9IHV0aWxzXzEuZGVjb2RlKG1baV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwYXRoOiBwYXRoID09PSAnJyA/ICcvJyA6IHBhdGgsXHJcbiAgICAgICAgcGFyYW1zOiBwYXJhbXNcclxuICAgIH07XHJcbn1cclxuZXhwb3J0cy5tYXRjaFBhdGggPSBtYXRjaFBhdGg7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG5leHBvcnRzLmVtcHR5T2JqZWN0ID0ge307XHJcbmZ1bmN0aW9uIGRlY29kZSh2YWwpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsICE9PSAnc3RyaW5nJyA/IHZhbCA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xyXG59XHJcbmV4cG9ydHMuZGVjb2RlID0gZGVjb2RlO1xyXG5mdW5jdGlvbiBpc0VtcHR5KGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gIWNoaWxkcmVuIHx8ICEoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogT2JqZWN0LmtleXMoY2hpbGRyZW4pKS5sZW5ndGg7XHJcbn1cclxuZXhwb3J0cy5pc0VtcHR5ID0gaXNFbXB0eTtcclxuZnVuY3Rpb24gZmxhdHRlbihvbGRBcnJheSkge1xyXG4gICAgdmFyIG5ld0FycmF5ID0gW107XHJcbiAgICBmbGF0dGVuQXJyYXkob2xkQXJyYXksIG5ld0FycmF5KTtcclxuICAgIHJldHVybiBuZXdBcnJheTtcclxufVxyXG5leHBvcnRzLmZsYXR0ZW4gPSBmbGF0dGVuO1xyXG5mdW5jdGlvbiBnZXRVUkxTdHJpbmcobG9jYXRpb24pIHtcclxuICAgIHJldHVybiBpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nKGxvY2F0aW9uKSA/IGxvY2F0aW9uIDogKGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoKTtcclxufVxyXG5leHBvcnRzLmdldFVSTFN0cmluZyA9IGdldFVSTFN0cmluZztcclxuLyoqXHJcbiAqIE1hcHMgYSBxdWVyeXN0cmluZyB0byBhbiBvYmplY3RcclxuICogU3VwcG9ydHMgYXJyYXlzIGFuZCB1dGYtOCBjaGFyYWN0ZXJzXHJcbiAqIEBwYXJhbSBzZWFyY2hcclxuICogQHJldHVybnMge2FueX1cclxuICovXHJcbmZ1bmN0aW9uIG1hcFNlYXJjaFBhcmFtcyhzZWFyY2gpIHtcclxuICAgIGlmIChzZWFyY2ggPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgLy8gQ3JlYXRlIGFuIG9iamVjdCB3aXRoIG5vIHByb3RvdHlwZVxyXG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICB2YXIgZnJhZ21lbnRzID0gc2VhcmNoLnNwbGl0KCcmJyk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZnJhZ21lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gZnJhZ21lbnRzW2ldO1xyXG4gICAgICAgIHZhciBfYSA9IGZyYWdtZW50LnNwbGl0KCc9JykubWFwKG1hcEZyYWdtZW50KS5tYXAoZGVjb2RlVVJJQ29tcG9uZW50KSwgayA9IF9hWzBdLCB2ID0gX2FbMV07XHJcbiAgICAgICAgaWYgKG1hcFtrXSkge1xyXG4gICAgICAgICAgICBtYXBba10gPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobWFwW2tdKSA/IG1hcFtrXSA6IFttYXBba11dO1xyXG4gICAgICAgICAgICBtYXBba10ucHVzaCh2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcFtrXSA9IHY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hcDtcclxufVxyXG5leHBvcnRzLm1hcFNlYXJjaFBhcmFtcyA9IG1hcFNlYXJjaFBhcmFtcztcclxuLyoqXHJcbiAqIEdldHMgdGhlIHJlbGV2YW50IHBhcnQgb2YgdGhlIFVSTCBmb3IgbWF0Y2hpbmdcclxuICogQHBhcmFtIGZ1bGxVUkxcclxuICogQHBhcmFtIHBhcnRVUkxcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIHRvUGFydGlhbFVSTChmdWxsVVJMLCBwYXJ0VVJMKSB7XHJcbiAgICBpZiAoZnVsbFVSTC5pbmRleE9mKHBhcnRVUkwpID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bGxVUkwuc3Vic3RyKHBhcnRVUkwubGVuZ3RoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdWxsVVJMO1xyXG59XHJcbmV4cG9ydHMudG9QYXJ0aWFsVVJMID0gdG9QYXJ0aWFsVVJMO1xyXG4vKipcclxuICogU2ltdWxhdGVzIC4uLiBvcGVyYXRvciBieSByZXR1cm5pbmcgZmlyc3QgYXJndW1lbnRcclxuICogd2l0aCB0aGUga2V5cyBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50IGV4Y2x1ZGVkXHJcbiAqIEBwYXJhbSBfYXJnc1xyXG4gKiBAcGFyYW0gZXhjbHVkZWRcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzdChfYXJncywgZXhjbHVkZWQpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIF9hcmdzKSB7XHJcbiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2YocCkgPCAwKSB7XHJcbiAgICAgICAgICAgIHRbcF0gPSBfYXJnc1twXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5leHBvcnRzLnJlc3QgPSByZXN0O1xyXG4vKipcclxuICogU29ydHMgYW4gYXJyYXkgYWNjb3JkaW5nIHRvIGl0cyBgcGF0aGAgcHJvcCBsZW5ndGhcclxuICogQHBhcmFtIGFcclxuICogQHBhcmFtIGJcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIHBhdGhSYW5rU29ydChhLCBiKSB7XHJcbiAgICB2YXIgYUF0dHIgPSBhLnByb3BzIHx8IGV4cG9ydHMuZW1wdHlPYmplY3Q7XHJcbiAgICB2YXIgYkF0dHIgPSBiLnByb3BzIHx8IGV4cG9ydHMuZW1wdHlPYmplY3Q7XHJcbiAgICB2YXIgZGlmZiA9IHJhbmsoYkF0dHIucGF0aCkgLSByYW5rKGFBdHRyLnBhdGgpO1xyXG4gICAgcmV0dXJuIGRpZmYgfHwgKChiQXR0ci5wYXRoICYmIGFBdHRyLnBhdGgpID8gKGJBdHRyLnBhdGgubGVuZ3RoIC0gYUF0dHIucGF0aC5sZW5ndGgpIDogMCk7XHJcbn1cclxuZXhwb3J0cy5wYXRoUmFua1NvcnQgPSBwYXRoUmFua1NvcnQ7XHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIHBhcnNpbmcgcXVlcnlzdHJpbmcgYXJyYXlzXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXBGcmFnbWVudChwLCBpc1ZhbCkge1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpc1ZhbCB8IDAgPyBwIDogcC5yZXBsYWNlKCdbXScsICcnKSk7XHJcbn1cclxuZnVuY3Rpb24gc3RyaXAodXJsKSB7XHJcbiAgICByZXR1cm4gdXJsLnJlcGxhY2UoLyheXFwvK3xcXC8rJCkvZywgJycpO1xyXG59XHJcbmZ1bmN0aW9uIHJhbmsodXJsKSB7XHJcbiAgICBpZiAodXJsID09PSB2b2lkIDApIHsgdXJsID0gJyc7IH1cclxuICAgIHJldHVybiAoc3RyaXAodXJsKS5tYXRjaCgvXFwvKy9nKSB8fCAnJykubGVuZ3RoO1xyXG59XHJcbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShvbGRBcnJheSwgbmV3QXJyYXkpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBvbGRBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBpdGVtID0gb2xkQXJyYXlbaV07XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpdGVtKSkge1xyXG4gICAgICAgICAgICBmbGF0dGVuQXJyYXkoaXRlbSwgbmV3QXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBwYXRjaGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxudmFyIGNvbXBvbmVudFBvb2xzID0gbmV3IE1hcCgpO1xyXG52YXIgZWxlbWVudFBvb2xzID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiByZWN5Y2xlRWxlbWVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIHRhZyA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcG9vbHMgPSBlbGVtZW50UG9vbHMuZ2V0KHRhZyk7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgICAgICB2YXIgcG9vbCA9IGtleSA9PT0gbnVsbCA/IHBvb2xzLm5vbktleWVkIDogcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHZhciByZWN5Y2xlZFZOb2RlID0gcG9vbC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHJlY3ljbGVkVk5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoRWxlbWVudChyZWN5Y2xlZFZOb2RlLCB2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdk5vZGUuZG9tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZXhwb3J0cy5yZWN5Y2xlRWxlbWVudCA9IHJlY3ljbGVFbGVtZW50O1xyXG5mdW5jdGlvbiBwb29sRWxlbWVudCh2Tm9kZSkge1xyXG4gICAgdmFyIHRhZyA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIga2V5ID0gdk5vZGUua2V5O1xyXG4gICAgdmFyIHBvb2xzID0gZWxlbWVudFBvb2xzLmdldCh0YWcpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgcG9vbHMgPSB7XHJcbiAgICAgICAgICAgIGtleWVkOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgIG5vbktleWVkOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZWxlbWVudFBvb2xzLnNldCh0YWcsIHBvb2xzKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChrZXkpKSB7XHJcbiAgICAgICAgcG9vbHMubm9uS2V5ZWQucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcG9vbCA9IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHBvb2wgPSBbXTtcclxuICAgICAgICAgICAgcG9vbHMua2V5ZWQuc2V0KGtleSwgcG9vbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvb2wucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wb29sRWxlbWVudCA9IHBvb2xFbGVtZW50O1xyXG5mdW5jdGlvbiByZWN5Y2xlQ29tcG9uZW50KHZOb2RlLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcG9vbHMgPSBjb21wb25lbnRQb29scy5nZXQodHlwZSk7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgICAgICB2YXIgcG9vbCA9IGtleSA9PT0gbnVsbCA/IHBvb2xzLm5vbktleWVkIDogcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHZhciByZWN5Y2xlZFZOb2RlID0gcG9vbC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHJlY3ljbGVkVk5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgICAgICAgICAgICAgIHZhciBmYWlsZWQgPSBwYXRjaGluZ18xLnBhdGNoQ29tcG9uZW50KHJlY3ljbGVkVk5vZGUsIHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmYWlsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdk5vZGUuZG9tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZXhwb3J0cy5yZWN5Y2xlQ29tcG9uZW50ID0gcmVjeWNsZUNvbXBvbmVudDtcclxuZnVuY3Rpb24gcG9vbENvbXBvbmVudCh2Tm9kZSkge1xyXG4gICAgdmFyIGhvb2tzID0gdk5vZGUucmVmO1xyXG4gICAgdmFyIG5vblJlY3ljbGVIb29rcyA9IGhvb2tzICYmIChob29rcy5vbkNvbXBvbmVudFdpbGxNb3VudCB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50V2lsbFVubW91bnQgfHxcclxuICAgICAgICBob29rcy5vbkNvbXBvbmVudERpZE1vdW50IHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlIHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnREaWRVcGRhdGUpO1xyXG4gICAgaWYgKG5vblJlY3ljbGVIb29rcykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciB0eXBlID0gdk5vZGUudHlwZTtcclxuICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICB2YXIgcG9vbHMgPSBjb21wb25lbnRQb29scy5nZXQodHlwZSk7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29scykpIHtcclxuICAgICAgICBwb29scyA9IHtcclxuICAgICAgICAgICAga2V5ZWQ6IG5ldyBNYXAoKSxcclxuICAgICAgICAgICAgbm9uS2V5ZWQ6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb21wb25lbnRQb29scy5zZXQodHlwZSwgcG9vbHMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGtleSkpIHtcclxuICAgICAgICBwb29scy5ub25LZXllZC5wdXNoKHZOb2RlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBwb29sID0gcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbCkpIHtcclxuICAgICAgICAgICAgcG9vbCA9IFtdO1xyXG4gICAgICAgICAgICBwb29scy5rZXllZC5zZXQoa2V5LCBwb29sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcG9vbC5wdXNoKHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBvb2xDb21wb25lbnQgPSBwb29sQ29tcG9uZW50O1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuZnVuY3Rpb24gYXBwbHlLZXkoa2V5LCB2Tm9kZSkge1xyXG4gICAgdk5vZGUua2V5ID0ga2V5O1xyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5S2V5SWZNaXNzaW5nKGtleSwgdk5vZGUpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVtYmVyKGtleSkpIHtcclxuICAgICAgICBrZXkgPSBcIi5cIiArIGtleTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbCh2Tm9kZS5rZXkpIHx8IHZOb2RlLmtleVswXSA9PT0gJy4nKSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcGx5S2V5KGtleSwgdk5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5S2V5UHJlZml4KGtleSwgdk5vZGUpIHtcclxuICAgIHZOb2RlLmtleSA9IGtleSArIHZOb2RlLmtleTtcclxuICAgIHJldHVybiB2Tm9kZTtcclxufVxyXG5mdW5jdGlvbiBfbm9ybWFsaXplVk5vZGVzKG5vZGVzLCByZXN1bHQsIGluZGV4LCBjdXJyZW50S2V5KSB7XHJcbiAgICBmb3IgKHZhciBsZW4gPSBub2Rlcy5sZW5ndGg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XHJcbiAgICAgICAgdmFyIG4gPSBub2Rlc1tpbmRleF07XHJcbiAgICAgICAgdmFyIGtleSA9IGN1cnJlbnRLZXkgKyBcIi5cIiArIGluZGV4O1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobikpIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuKSkge1xyXG4gICAgICAgICAgICAgICAgX25vcm1hbGl6ZVZOb2RlcyhuLCByZXN1bHQsIDAsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFZOb2Rlc18xLmlzVk5vZGUobikgJiYgbi5kb20gfHwgKG4ua2V5ICYmIG4ua2V5WzBdID09PSAnLicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG4ua2V5KSB8fCBuLmtleVswXSA9PT0gJy4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IGFwcGx5S2V5KGtleSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gYXBwbHlLZXlQcmVmaXgoY3VycmVudEtleSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVWTm9kZXMobm9kZXMpIHtcclxuICAgIHZhciBuZXdOb2RlcztcclxuICAgIC8vIHdlIGFzc2lnbiAkIHdoaWNoIGJhc2ljYWxseSBtZWFucyB3ZSd2ZSBmbGFnZ2VkIHRoaXMgYXJyYXkgZm9yIGZ1dHVyZSBub3RlXHJcbiAgICAvLyBpZiBpdCBjb21lcyBiYWNrIGFnYWluLCB3ZSBuZWVkIHRvIGNsb25lIGl0LCBhcyBwZW9wbGUgYXJlIHVzaW5nIGl0XHJcbiAgICAvLyBpbiBhbiBpbW11dGFibGUgd2F5XHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZVxyXG4gICAgaWYgKG5vZGVzWyckJ10gPT09IHRydWUpIHtcclxuICAgICAgICBub2RlcyA9IG5vZGVzLnNsaWNlKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBub2Rlc1snJCddID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIHRzbGludDplbmFibGVcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBuID0gbm9kZXNbaV07XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG4pIHx8IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gKG5ld05vZGVzIHx8IG5vZGVzKS5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgX25vcm1hbGl6ZVZOb2Rlcyhub2RlcywgcmVzdWx0LCBpLCBcIlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG4pKSB7XHJcbiAgICAgICAgICAgIGlmICghbmV3Tm9kZXMpIHtcclxuICAgICAgICAgICAgICAgIG5ld05vZGVzID0gbm9kZXMuc2xpY2UoMCwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Tm9kZXMucHVzaChhcHBseUtleUlmTWlzc2luZyhpLCBWTm9kZXNfMS5jcmVhdGVUZXh0Vk5vZGUobiwgbnVsbCkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKFZOb2Rlc18xLmlzVk5vZGUobikgJiYgbi5kb20gIT09IG51bGwpIHx8IChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChuLmtleSkgJiYgKG4uZmxhZ3MgJiA2NCAvKiBIYXNOb25LZXllZENoaWxkcmVuICovKSA9PT0gMCkpIHtcclxuICAgICAgICAgICAgaWYgKCFuZXdOb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZXMgPSBub2Rlcy5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdOb2Rlcy5wdXNoKGFwcGx5S2V5SWZNaXNzaW5nKGksIFZOb2Rlc18xLmRpcmVjdENsb25lKG4pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5ld05vZGVzKSB7XHJcbiAgICAgICAgICAgIG5ld05vZGVzLnB1c2goYXBwbHlLZXlJZk1pc3NpbmcoaSwgVk5vZGVzXzEuZGlyZWN0Q2xvbmUobikpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Tm9kZXMgfHwgbm9kZXM7XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemVWTm9kZXMgPSBub3JtYWxpemVWTm9kZXM7XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHJldHVybiBub3JtYWxpemVWTm9kZXMoY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikgJiYgY2hpbGRyZW4uZG9tICE9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIFZOb2Rlc18xLmRpcmVjdENsb25lKGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjaGlsZHJlbjtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyh2Tm9kZSwgcHJvcHMsIGNoaWxkcmVuKSB7XHJcbiAgICBpZiAodk5vZGUuZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5jbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIHZOb2RlLmNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgICAgICAgZGVsZXRlIHByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcHMucmVmKSB7XHJcbiAgICAgICAgdk5vZGUucmVmID0gcHJvcHMucmVmO1xyXG4gICAgICAgIGRlbGV0ZSBwcm9wcy5yZWY7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5rZXkpKSB7XHJcbiAgICAgICAgdk5vZGUua2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgIGRlbGV0ZSBwcm9wcy5rZXk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUodHlwZSkge1xyXG4gICAgaWYgKHR5cGUgPT09ICdzdmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIDEyOCAvKiBTdmdFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2lucHV0Jykge1xyXG4gICAgICAgIHJldHVybiA1MTIgLyogSW5wdXRFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3NlbGVjdCcpIHtcclxuICAgICAgICByZXR1cm4gMjA0OCAvKiBTZWxlY3RFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3RleHRhcmVhJykge1xyXG4gICAgICAgIHJldHVybiAxMDI0IC8qIFRleHRhcmVhRWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdtZWRpYScpIHtcclxuICAgICAgICByZXR1cm4gMjU2IC8qIE1lZGlhRWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIHJldHVybiAyIC8qIEh0bWxFbGVtZW50ICovO1xyXG59XHJcbmV4cG9ydHMuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUgPSBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTtcclxuZnVuY3Rpb24gbm9ybWFsaXplKHZOb2RlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgLy8gY29udmVydCBhIHdyb25nbHkgY3JlYXRlZCB0eXBlIGJhY2sgdG8gZWxlbWVudFxyXG4gICAgLy8gUHJpbWl0aXZlIG5vZGUgZG9lc24ndCBoYXZlIGRlZmF1bHRQcm9wcywgb25seSBDb21wb25lbnRcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IHByb3BzXHJcbiAgICAgICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0UHJvcHMpKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzID0gdk5vZGUucHJvcHMgPSBkZWZhdWx0UHJvcHM7IC8vIENyZWF0ZSBuZXcgb2JqZWN0IGlmIG9ubHkgZGVmYXVsdFByb3BzIGdpdmVuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHByb3BzW3Byb3BdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1twcm9wXSA9IGRlZmF1bHRQcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcodHlwZSkpIHtcclxuICAgICAgICAgICAgdk5vZGUuZmxhZ3MgPSBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSh0eXBlKTtcclxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIG5vcm1hbGl6ZVByb3BzKHZOb2RlLCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQocHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4ocHJvcHMuY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdk5vZGUuY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAvLyBUaGlzIGNvZGUgd2lsbCBiZSBzdHJpcHBlZCBvdXQgZnJvbSBwcm9kdWN0aW9uIENPREVcclxuICAgICAgICAvLyBJdCBoZWxwcyB1c2VycyB0byB0cmFjayBlcnJvcnMgaW4gdGhlaXIgYXBwbGljYXRpb25zLlxyXG4gICAgICAgIHZhciB2ZXJpZnlLZXlzID0gZnVuY3Rpb24gKHZOb2Rlcykge1xyXG4gICAgICAgICAgICB2YXIga2V5VmFsdWVzID0gdk5vZGVzLm1hcChmdW5jdGlvbiAodm5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBrZXlWYWx1ZXMuc29tZShmdW5jdGlvbiAoaXRlbSwgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzRHVwbGljYXRlID0ga2V5VmFsdWVzLmluZGV4T2YoaXRlbSkgIT09IGlkeDtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNEdXBsaWNhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gbm9ybWFsaXNhdGlvbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCBzYW1lIGtleSwgYWxsIGtleXMgbXVzdCBiZSB1bmlxdWUgd2l0aGluIGl0cyBzaWJsaW5ncy4gRHVwbGljYXRlZCBrZXkgaXM6JyArIGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc0R1cGxpY2F0ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodk5vZGUuY2hpbGRyZW4gJiYgQXJyYXkuaXNBcnJheSh2Tm9kZS5jaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdmVyaWZ5S2V5cyh2Tm9kZS5jaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubm9ybWFsaXplID0gbm9ybWFsaXplO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblxuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChmYWxzZSkge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQmVzbHVpdCA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIEJlc2x1aXQgPSBleHBvcnRzLkJlc2x1aXQgPSBmdW5jdGlvbiBCZXNsdWl0KCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIkJlc2x1aXRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiVWl0IGhldCB3ZXJrIGt1bm5lbiB3ZSBiZXNsdWl0ZW4gZGF0IGRlIGhpXFx4RUJyYXJjaGllIHZhbiBkZSBSb21laW5lbiBnb2VkIGluIGVsa2FhciB6YXQgYWFuZ2V6aWVuIGllZGVyZWVuIHppam4gcGxhYXRzIGtlbmRlIGVuIGVyIHJlc3BlY3QgZW4gYWFuemllbiB3YXMuIERvb3IgZGV6ZSBvcmdhbmlzYXRpZSB3YXMgaGV0IFJvbWVpbnNlIGxlZ2VyIGVlbiB2YW4gZGUgc3VjY2Vzdm9sc3RlIGxlZ2VycyB1aXQgZGllIHRpamQuIFdhbm5lZXIgd2UgaGV0IGh1aWRpZ2UgbGVnZXIgdmVyZ2VsaWprZW4gbWV0IGhldCBSb21laW5zZSBzdGVsbGVuIHdlIHZhc3QgZGF0IG9uemUgaGlcXHhFQnJhcmNoaWUgZWVuIHplZXIgdWl0Z2VicmVpZGUgdmVyc2llIGlzIHZhbiBkaWUgdmFuIGhldCBSb21laW5zZSBsZWdlci4gRXIgemlqbiBtZWVyIG9uZGVydmVyZGVsaW5nZW4gZW4gbWVlciBjb21wb25lbnRlbiBkYW4gYmlqIGRlIFJvbWVpbmVuLCBtYWFyIGRpdCBpcyB0ZSB3aWp0ZW4gYWFuIHRlY2hub2xvZ2lzY2hlIGVuIHdldGVuc2NoYXBwZWxpamtlIHZvb3J1aXRnYW5nLiBabyB6aWpuIGVyIG51IHZsaWVndHVpZ2VuLCB0YW5rcywgamVlcHMgZW4gdmxpZWdkZWtzY2hlcGVuIHdhdCBlcnZvb3Igem9yZ3QgZGF0IGllZGVyZSBwZXJzb29uIGJpbm5lbiBoZXQgbGVnZXIgemlqbiBzcGVjaWZpZWtlIGZ1bmN0aWUgaGVlZnQgZW4gZXIgZHVzIG1lZXIgdmVyZGVlbGRoZWlkIGlzLiBPcCBoZXQgdmxhayB2YW4gYmV3YXBlbmluZyB3YXJlbiBkZSBSb21laW5lbiBvb2sgZ29lZCB2b29yemllbi4gWmUgd2FyZW4gdmVlbCBiZXppZyBtZXQgaGV0IG9udHdpa2tlbGVuIHZhbiBuaWV1d2Ugd2FwZW5zIG9tIGh1biB2aWphbmRlbiB0ZSBrdW5uZW4gdmVycmFzc2VuLiBIdW4gd2FwZW5zIHdhcmVuIGVmZmljaVxceEVCbnQgZW4gZG9lbHRyZWZmZW5kIHdhYXJkb29yIHplIHZlbGUgdmVsZHNsYWdlbiBoZWJiZW4gZ2V3b25uZW4uIFdhbm5lZXIgd2UgaGV0IFJvbWVpbnNlIGxlZ2VyIG1ldCBoZXQgaHVpZGlnZSB2ZXJnZWxpamtlbiBzdGVsbGVuIHdlIHZhc3QgZGF0IGFsbGVzIGlzIHZlcmFuZGVyZC4gRGl0IGlzIHdlZXIgdGUgd2lqdGVuIGFhbiB0ZWNobm9sb2dpc2NoZSBlbiB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZy4gSW4gaHVpZGlnZSB0aWpkZW4gd29yZHQgZXIgbmlldCBtZWVyIGdlc3RyZWRlbiBtZXQgendhYXJkZW4sIHNjaGlsZGVuIGVuIHNwZXJlbiwgbWFhciBtZXQgbWFjaGluZWdld2VyZW4sIGxhbmdlYWZzdGFuZHNyYWtldHRlbiBlbiBjb21wdXRlcnMuIERlIFJvbWVpbmVuIHdhcmVuIG9uZ2V0d2lqZmVsZCBkZSBncm9uZGxlZ2dlcnMgdmFuIHZlcnNjaGVpZGVuZSBsZWdlcnMgZGllIGxhdGVyIHppam4gb250c3RhYW4sIG1hYXIgc3BvcmVuIHZhbiBodW4gd2FwZW5zIHppam4gaW4gaGV0IGh1aWRpZ2UgbGVnZXIgbmlldCBtZWVyIHRlIHZpbmRlbi4gSGV0IFJvbWVpbnNlIGxlZ2VyIHdhcyBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRlIGdlc2NoaWVkZW5pcy4gRGl0IGlzIHRlIHdpanRlbiBhYW4gaHVuIGlqemVyc3RlcmtlIGRpc2NpcGxpbmUgZW4gZ29lZCBiZWRhY2h0ZSB0YWN0aWVrZW4gZW4gYWFudmFsc3BsYW5uZW4uIERlIFJvbWVpbmVuIGJlZ3JlcGVuIG9vayB6ZWVyIGdvZWQgZGF0IGVlbiB2ZWxkc2xhZyBuaWV0IGVua2VsIGZ5c2llayB3ZXJkIGdlc3RyZWRlbiwgbWFhciBvb2sgbWVudGFhbC4gWmUgd2lzdGVuIGdvZWQgaG9lIHplIGhldCBtb3JlZWwgYmlqIGh1biB0cm9lcGVuIGhvb2cgbW9lc3RlbiBob3VkZW4gdGVyd2lqbCB6ZSBkYXQgdmFuIGRlIHZpamFuZCB2ZXJ6d2FrdGVuLiBIZXQgdmVybGllcyB2YW4gZWVuIHZlbGRzbGFnIHZvbmQgemlqbiBvb3J6YWFrIG1lZXN0YWwgYmlqIHNsZWNodCBsZWlkZXJzY2hhcC4gRGUgdGFjdGlla2VuIHZhbiBoZXQgaHVpZGlnZSBsZWdlciB6aWpuIHplZXIgc3RlcmsgdmVyYW5kZXJkIGFhbmdlemllbiBhbGxlcyB2YW5vcCBlZW4gbGFuZ2VyZSBhZnN0YW5kIGdlYmV1cnQgZW4gZXIgbWVlciBlbiBtZWVyIHZpYSByb2JvdHMgd29yZHQgZ2V3ZXJrdC4gVnJvZWdlciB3YXJlbiBiaWpuYSBhbGxlIGdldmVjaHRlbiBtYW4gdG90IG1hbiBnZXZlY2h0ZW4gd2FhcmRvb3IgbWVuIHRhY3RpZWtlbiBrb24gdG9lcGFzc2VuIHpvYWxzIGJpanZvb3JiZWVsZDogcnVpdGVycyBsYW5ncyBkZSBmbGFua2VuIGxhdGVuIGlua29tZW4uIFRlZ2Vud29vcmRpZyBoZWVmdCBkaXQgZ2VlbiBudXQgbWVlciBhYW5nZXppZW4gaGV0IGFhbnRhbCBzb2xkYXRlbiB3YWFybWVlIG1lbiBvb3Jsb2cgdm9lcnQgc3RlcmsgdmVybWluZGVyZCBpcy5cIildKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQmV3YXBlbmluZyA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIEJld2FwZW5pbmcgPSBleHBvcnRzLkJld2FwZW5pbmcgPSBmdW5jdGlvbiBCZXdhcGVuaW5nKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIkhvZSB3YXMgZGUgYmV3YXBlbmluZyBiaWogZGUgUm9tZWluZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiR2VkdXJlbmRlIGVua2VsZSBlZXV3ZW4gdG90IG9wIGRlIGRhZyB2YW4gdmFuZGFhZyBvbnRzdG9uZCBlciBlZW4gdm9vcnRkdXJlbmRlIG9udHdpa2tlbGluZyB2YW4gYmV3YXBlbmluZy4gRGl0IGhlZWZ0IHppY2gga3VubmVuIHZlcndlemVubGlqa2VuIGRvb3IgZGUgdGVjaG5vbG9naXNjaGUgdm9vcnVpdGdhbmcgbWV0IGFscyBnZXZvbGcgZGF0IGRlIGtyYWNodCB2YW4gd2FwZW5zIGFhbnppZW5saWprIGlzIHZlcmdyb290LiBNYWFyIG9tIGRlIGV2b2x1dGllIHZhbiBkZSBiZXdhcGVuaW5nIHdhYXIgdGUgbmVtZW4sIG1vZXRlbiB3ZSB0ZXJ1Z2JsaWtrZW4gdGVuIHRpamRlIHZhbiBoZXQgUm9tZWluc2UgaW1wZXJpdW0gd2FhciBkZSBiYXNpcyB3ZXJkIGdlbGVnZC5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIkRyYWFnYmFyZSBiZXdhcGVuaW5nXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBbXCJWZWxlIGtpbmRlcmVuIG9mIGpvbmdlcmVuIGxlemVuIHdlbGVlbnMgc3RyaXBzIHpvYWxzIEFzdGVyaXggZW4gT2JlbGl4IG9mIG1vZXRlbiBvcCBzY2hvb2wgZW5rZWxlIHdlcmtqZXMgbWFrZW4gb210cmVudCBkZSBSb21laW5zZSBiZXNjaGF2aW5nLiBIaWVyZG9vciBrcmlqZ2VuIHplIGVlbiBiZXBhYWxkIGJlZWxkIG92ZXIgaGV0IFJvbWVpbnNlIGxldmVuIGVuIG1ldCB3ZWxrZSB3YXBlbnMgZGUgc29sZGF0ZW4gdGUgd2VyayBnaW5nZW4uIEhldCBhbGdlbWVuZSBiZWVsZCBkaWUgd2lqIGhpZXJ2YW4gaGViYmVuLCBpcyBkYXQgZWxrZSBzb2xkYWF0IGVlbiBhYW52YWxzd2FwZW4gZW4gZWVuIHZlcmRlZGlnaW5nc3dhcGVuIHRlciBiZXNjaGlra2luZyBoYWQgZW4gZGF0IGllZGVyZSBzb2xkYWF0IHZvb3J6aWVuIHdlcmQgdmFuIHN0b2VyZSB2ZWNodGVyc2tsZWRpai4gSGllcmJpaiB6aWpuIHZhYWsgaGV0IHp3YWFyZCBlbiBkZSBzcGVlciBkZSBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbnMgZW4gdGVyIHZlcmRlZGlnaW5nIGdlYnJ1aWt0ZW4gemUgaGV0IHNjaGlsZC4gT20gemljaCB0ZSBiZXNjaGVybWVuIGRyb2VnZW4gemUgdmFhayBlZW4gaGFybmFzLiBPZiBkZXplIGFsZ2VtZW5lIHZvb3JzdGVsbGluZyBhbHRpamQgd2FhciBpcywgd29yZHQgaW4gZGl0IGhvb2Zkc3R1ayBvbmRlcnpvY2h0LlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJCZXdhcGVuaW5nIGJpaiBSb21laW5zZSBsZWdpb25haXJzIGhpZWxkZW4gdGVsa2VucyB2ZXJiYW5kIG1ldCBkZSByYW5nIHdhYXJ0b2UgemUgYmVob29yZGVuLiBCZXdhcGVuaW5nIGlzIG5ldCB6b2FscyBkZSByYW5nZW4gaW4gdmVyc2NoaWxsZW5kZSBncm9lcGVuIHRlIHZlcmRlbGVuLiBCZWdpbm5lbiBkb2VuIHdlIG1ldCBkZSB2ZXJzY2hpbGxlbmRlIHRpamRwZXJrZW4gZ2FhbmRlIHZhbiAxMDUgdi5DaHIuIHRvdCBlaW5kZSAyZGUgZWV1dy4gSGllcmJpaiB3b3JkdCBlZW4gbmlldXcgdGlqZHBlcmsgdGVsa2VucyBpbmdlbGVpZCBiaWogb250c3RhYW4gdmFuIG5pZXV3ZSBlbiBiZWxhbmdyaWprZSBiZXdhcGVuaW5nLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJCaWogZGUgZWVyc3RlIGdlbmVyYXRpZSB3YXMgZGUgZ2xhZGl1cyAoPSB6d2FhcmQpIGhldCBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbi4gRGV6ZSB3ZXJkIGFsdGlqZCBnZWJydWlrdCBpbiBjb21iaW5hdGllIG1ldCBkZSBhc3BpcyAoPSBzY2hpbGQpIHdhYXJtZWUgemUgemljaCBrb25kZW4gdmVyZGVkaWdlbi4gSW4gaGV0IGJlZ2luIGhhZCBkZSBnbGFkaXVzIGVlbiBrb3J0ZSBsZW5ndGUsIGdlXFx4RUZuc3BpcmVlcmQgb3AgaGV0IG1vZGVsIHZhbiBkZSBHcmlla3NlIHhpcGhvcy4gSGV0IHNjaGlsZCBvZiBkZSB6b2dlbmFhbWRlIGFzcGlzIHdlcmQgdmVydmFhcmRpZ2QgdWl0IGhvdXQgbWV0IHRlbGtlbnMgZWVuIGJyb256ZW4gcmFuZCB0ZXIgdmVyc3RlcmtpbmcuIERlIHZvcm0gdmFuIGhldCBzY2hpbGQgd2FzIHJvbmQgZW4gcmVsYXRpZWYgZ3Jvb3QgdGVyIHZlcmdlbGlqa2luZyBtZXQgd2F0IGVyIG5vZyB6b3Ugdm9sZ2VuLiBPb2sgaGllcmJpaiBoZWJiZW4gZGUgUm9tZWluZW4gemljaCB3ZWVyIGxhdGVuIGluc3BpcmVyZW4gZG9vciBkZSBHcmlla2VuLiBCaWogZGUgdm9sZ2VuZGUgZ2VuZXJhdGllIHdpbGRlbiBkZSBSb21laW5lbiBodW4gZWlnZW4gc3RpamwgY3JlXFx4RUJyZW4gd2FhcmluIEdyaWVrc2UsIEtlbHRpc2NoZSBlbiBJdGFsaXNjaGUgaW52bG9lZGVuIHZlcndlcmt0IHdlcmRlbi4gWm8gY3JlXFx4RUJlcmRlbiB6ZSBkZSBzY3V0dW0gYWxzIHZlcnZhbmdpbmcgdmFuIGRlIGFzcGlzLiBIZXQgaGFkIGVlbiBvdmFsZSB2b3JtIGVuIGJlc2NoaWt0ZSBvdmVyIHRhbCB2YW4gdm9vcmRlbGVuLiBabyBpcyBoZXQgc2NoaWxkIGR1dXJ6YW1lciBlbiBsaWNodGVyIGRhbiBkZSB2b3JpZ2UgZW4gaGV0IGJlc2NoaWt0ZSBvdmVyIGVlbiBzY2hpbGRrbm9wICg9IG1ldGFsZW4gYm9sIGRpZSB6aWNoIGNlbnRyYWFsIG9wIGhldCBzY2hpbGQgYmV2b25kKS4gRGUgZnVuY3RpZSB2YW4gZGllIGtub3Agd2FzIG1lZXIgc2NoYWRlIHRvZSBicmVuZ2VuIGFhbiBkZSB2aWphbmQuIERlIGFzcGlzIHdlcmQgYWx0aWpkIGluIGRlIGxpbmtlcmhhbmQgZ2VkcmFnZW4gd2FhcmRvb3IgemUgaGV0IHp3YWFyZCBpbiBkZSByZWNodGVyaGFuZCBrb25kZW4gbGVnZ2VuLiBEZSByZWRlIGhpZXJ2b29yIHdhcyBkYXQgZGUgbWVlc3RlIFJvbWVpbnNlIHNvbGRhdGVuIHJlY2h0c2hhbmRpZyB3YXJlbiB3YWFyZG9vciB6ZSBtZWVyIGtyYWNodCBoYWRkZW4gaW4gaHVuIHJlY2h0ZXJhcm0gd2F0IG5vb2R6YWtlbGlqayB3YXMgb20gYnJ1dXNrZSBiZXdlZ2luZ2VuIHRlIG1ha2VuIG1ldCBkZSBnbGFkaXVzLiBFbmlnZSB0aWpkIGxhdGVyIGdpbmdlbiB6ZSBnZWJydWlrIG1ha2VuIHZhbiBlZW4gaWV0cyBsYW5nZXIgendhYXJkIHdhdCBvdmVyZ2Vub21lbiB3YXMgdmFuIGRlIHZpamFuZCB0aWpkZW5zIGRlIFB1bmlzY2hlIG9vcmxvZ2VuLiBEaWV6ZWxmZGUgZ2VuZXJhdGllIGdpbmcgemljaCBvb2sgcmljaHRlbiBvcCBkZSBvbnR3aWtrZWxpbmcgdmFuIHN0b290c3BlcmVuICg9IGVlcnN0ZSB2ZXJzaWUgc3BlcmVuKS4gRGV6ZSBoYWRkZW4gb25nZXZlZXIgZGV6ZWxmZGUgZnVuY3RpZSBhbHMgaGV0IHp3YWFyZC5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkhldCBlbmlnZSB2ZXJzY2hpbCB3YXMgZGF0IHplIG5vZyBsYW5nZXIgd2FyZW4uIFplIHdhcmVuIGluIGhldCBiZWdpbiBuaWV0IGJlZG9lbGQgb20gd2VnIHRlIGdvb2llbiBpbiBkZSByaWNodGluZyB2YW4gZGUgdmlqYW5kLiBTdG9vdHNwZXJlbiB3ZXJkZW4gZ2VicnVpa3QgZG9vciBkZSBoYXN0YXRpICg9IGxlZ2lvbmFyaWkgdmFuIGhldCBlZXJzdGUgbWFuaXBlbCkuIFVpdGVpbmRlbGlqayB3ZXJkIGRlIHN0b290c3BlZXIgbWluZGVyIGdlYnJ1aWt0IGRvb3IgZGUgbGVnaW9uYWlycyBlbiBldm9sdWVlcmRlIG1lbiBuYWFyIGhldCBvbnR3aWtrZWxlbiB2YW4gZWVuIGxpY2h0ZXJlIHdlcnBzcGVlciBubCBkZSBwaWx1bS4gRGl0IHJlc3VsdGVlcmRlIGluIGVlbiBuaWV1d2UgZ2VuZXJhdGllLiBFbGtlIGxlZ2F0dXMgYmVzY2hpa3RlIG92ZXIgMiBwaWxhIHdhYXJkb29yIHplIGJpaiBkZSBzdGFydCB2YW4gZWVuIGdldmVjaHQgZGUgdmlqYW5kIG9ubWlkZGVsbGlqayBrb25kZW4gdmVyendha2tlbi4gRGUgcGlsdW0gd2FzIHplbGZzIHpvIGdlbWFha3QgZGF0IGRlIHB1bnQgdmFuIGRlIHNwZWVyIGJpaiBib3RzaW5nIGtyb20gZ2luZyBzdGFhbiBvZiBhZmJyYWsgd2FhcmRvb3IgZGUgdmlqYW5kIGRlIHNwZWVyIG5pZXQga29uIGhlcmdlYnJ1aWtlbi4gU3RlbCBkYXQgZGUgcGlsdW0gaW4gZWVuIHNjaGlsZCBiZWxhbmRkZSwgZGFuIHdhcyBoZXQgZ2V2b2xnIGRhdCBkZSB6d2FyZSBhY2h0ZXJrYW50IHZhbiBkZSBzcGVlciBuYWFyIGJlbmVkZW4gemFrdGUgd2FhcmRvb3IgaGV0IG9ubW9nZWxpamsgd2FzIG9tIGVyIHZlcmRlciBtZWUgcm9uZCB0ZSBsb3Blbi4gSGllcmRvb3Igd2FzIGRlIHZpamFuZCB2YWFrIGdlbm9vZHphYWt0IG9tIHpvbmRlciBzY2hpbGQgdmVyZGVyIHRlIHZlY2h0ZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkluIGRlIDNkZSBlZXV3IGt3YW0gZXIgb3BuaWV1dyBlZW4gb3B2YWxsZW5kZSB2b29ydWl0Z2FuZywgbWFhciBkaXRtYWFsIG9wIGhldCBnZWJpZWQgdmFuIHZlcmRlZGlnaW5nLiBEZSBiZWtlbmRlIHNjdXR1bSB3ZXJkIGFhbmdlcGFzdCBlbiB6byBvbnRzdG9uZCBkZSBzcGljdWx1bS4gSGV0IHdhcyBlZW4gdmxhayBzY2hpbGQsIG5vZyBsaWNodGVyIGVuIG5ldCB6b2FscyBkZSBzY3V0dW0gbWV0IGVlbiBzbGFna25vcCBpbiBoZXQgbWlkZGVuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJEZSBiZXdhcGVuaW5nIHZhbiBkZSBodWxwdHJvZXBlbiBpcyBvb2sgb3AgdGUgZGVsZW4gaW4gZW5rZWxlIGdyb2VwZW4uIFRpamRlbnMgZGUgZWVyc3RlIGphcmVuIHZhbiBkZSBlcXVpdGF0dXMgd2VyZCBkZSBnbGFkaXVzIGdlYnJ1aWt0IG9tIGRlIHZpamFuZCBhYW4gdGUgdmFsbGVuIHZhbm9wIGhldCBwYWFyZC4gRG9vcmRhdCBoZXQgendhYXJkIGtvcnQgd2FzLCBtYWFrdGVuIHplIGthbnMgb20gc25lbCB2YW4gaGV0IHBhYXJkIHRlIHZhbGxlbi4gSW4gZGUgbG9vcCB2YW4gZGUgM2RlIGVldXcgd2FzIG1lbiBlcmluIGdlc2xhYWdkIGVlbiBsYW5nZXJlIHZlcnNpZSB2YW4gZGUgZ2xhZGl1cyB0ZSBjcmVcXHhFQnJlbiBubCBkZSBzcGF0aGEuIERlIHNhZ2l0dGFyaWkgbWFrZW4gZ2VicnVpayB2YW4gZGUgc2FnaXR0YSAoPSBwaWpsZW5ib29nKS4gRGUgZ2Vib2dlbiB2b3JtIHZhbiBkZSBzYWdpdHRhIHdlcmQgZ2V2b3JtZCBkb29yIGJlZ2luIGVuIGVpbmRlIGFhbiB0ZSBzcGFubmVuIG1ldCBlZW4gc3RldmlnZSwgc3RyYWtrZSBkcmFhZC4gSGllcm1lZSBrb25kZW4gemUgaHVuIHBpamxlbiBvdmVyIGVlbiBncm90ZSBhZnN0YW5kIHNjaGlldGVuLiBUb3Qgc2xvdCBoYW50ZXJlbiBkZSBmdW5kaXRvcmVzIGRlIGZ1bmRhLiBEaXQgaXMgZWVuIHNsaW5nZXIgd2FhcmluIHplIGxvZGVuIGtvZ2VscyBsZWdkZSBvbSBkaWUgdmVydm9sZ2VucyBuYWFyIGRlIHZpamFuZCB0ZSBnb29pZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIlVpdCBhbCBkZXplIGdlZ2V2ZW5zIHdldGVuIHdlIGRhdCBoZXQgYWxnZW1lbmUgYmVlbGQgZ3JvdGVuZGVlbHMganVpc3QgaXMuIE1hYXIgamUga2FuIG9ubW9nZWxpamsgYmVzbHVpdGVuIGRhdCBqZSBtZXQgZGF0IGJlZWxkIGFsbGVzIHdlZXQgb3ZlciBkZSBiZXdhcGVuaW5nIHZhbiBSb21laW5zZSBzb2xkYXRlbi4gTmFhc3QgaGV0IHp3YWFyZCwgZGUgc3BlZXIgZW4gaGV0IHNjaGlsZCB3YXJlbiBlciBub2cgdGFsIHZhbiBhbmRlcmUgYWFudmFscy0gZW4gdmVyZGVkaWdpbmdzd2FwZW5zIGRpZSBnZWJydWlrdCB3ZXJkZW4gdGlqZGVucyBkZSBnZXZlY2h0ZW4gdGVuIHRpamRlIHZhbiBkZSBSb21laW5lbi5cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGFibGVcIiwgXCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoZWFkXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwiQmV3YXBlbmluZyBsZWdpb25haXJzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJhYW52YWxzd2FwZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcInZlcmRlZGluZ2luZ3N3YXBlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIpXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIjFzdGUgZ2VuZXJhdGllXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJnbGFkaXVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJhc3BpYVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiR2VuZXJhdGllcyBnYWFuZGUgdmFuYWYgXFx4QjEgM2RlIGVldXcgdi5DaHIuIFxcdTIwMTMgM2RlIGVldXdcIiwge1xuICAgIFwicm93c3BhblwiOiBcIjRcIlxuICB9KV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIjJkZSBnZW5lcmF0aWVcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImhhc3RhICsgZ2xhZGl1c1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwic2N1dHVtXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiM2RlIGdlbmVyYXRpZVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwicGlsdW0gKyBnbGFkaXVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzY3V0dW1cIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCI0ZGUgZ2VuZXJhdGllXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzcGF0aGFcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcInNwaWN1bHVtXCIpXSldKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0YWJsZVwiLCBcImJld2FwZW5pbmctbGVnaW9uLXRhYmxlXCIsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhlYWRcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJCZXdhcGVuaW5nIGh1bHB0cm9lcGVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJhYW52YWxzd2FwZW5zXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJ2ZXJkZWRpZ2luZ3N3YXBlbnNcIildKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZXF1aXRhdHVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzcGF0aGFcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIlZlcmRlZGlnaW5nIGtvbXQgZ3JvdGVuZGVlbHMgb3ZlcmVlbiBtZXQgZGllIHZhbiBkZSBsZWdpb25haXJzXCIsIHtcbiAgICBcInJvd3NwYW5cIjogXCIzXCJcbiAgfSldKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzYWdpdHRhcmlpXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzYWdpdHRhXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZnVuZGl0b3Jlc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZnVuZGFcIildKV0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJBYW5nZXppZW4gZXIgd2VpbmlnIGJldHJvdXdiYXJlIGJyb25uZW4gemlqbiBvdmVyIGRlIGV4YWN0ZSBkYXRhIFxcdTIwMTlzIGkudi5tLiBoZXQgb250c3RhYW4gdmFuIHJlZWRzIHZlcm1lbGRlIGJld2FwZW5pbmcsIHdlcmQgZGUgY2hyb25vbG9naXNjaGUgdm9sZ29yZGUgdmFuIGhldCBvbnRzdGFhbiB3ZWVyZ2VnZXZlbiBhLmQuaC52LiBnZW5lcmF0aWVzLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiT29ybG9nc3R1aWdlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJUZW5zbG90dGUgYmVzcHJla2VuIHdlIGluIGRpdCBob29mZHN0dWsgZGUgUm9tZWluc2Ugb29ybG9nc3R1aWdlbiBhYW5nZXppZW4gaGV0IGVlbiBiZWxhbmdyaWprIGFzcGVjdCB3YXMgdmFuIGRlIGdldmVjaHRlbi4gSGllcmJpaiBnYWFuIHdlIGVlbiBvcGRlbGluZyBtYWtlbiB0dXNzZW4gZGUgdG9ybWVudGEgKD0gYWFudmFsc3dhcGVucykgZW4gZW5rZWxlIGFuZGVyZSBvb3Jsb2dzdm9lcnR1aWdlbiB0ZXIgdmVyZGVkaWdpbmcuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDRcIiwgbnVsbCwgXCJBYW52YWxzd2FwZW5zXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlIGFhbnZhbHN3YXBlbnMgd2FyZW4gdmVlbCBrcmFjaHRpZ2VyIGRhbiBkZWdlbmUgZGllIHplIG9wIHphayBkcm9lZ2VuLiBEZSBiZWtlbmRzdGUgYWFudmFsc21hY2hpbmVzIHdhcmVuIGRlIGNhdGFwdWx0YWUgKD0ga2F0YXB1bHRlbiksIG9uZGVyIHRlIHZlcmRlbGVuIGluIGVua2VsZSBjYXRlZ29yaWVcXHhFQm4uIFplIHdlcmRlbiBnZWJydWlrdCBvbSBwcm9qZWN0aWVsZW4gd2VnIHRlIHNjaGlldGVuIG0uYi52LiBtZWNoYW5pc2NoZSBlbmVyZ2llLiBEZSBlZXJzdGUga2F0YXB1bHRlbiBzY2hvdGVuIGh1biBwaWpsZW4gaW4gYmlqbmEgaG9yaXpvbnRhbGUgcmljaHRpbmcgd2FhcmRvb3IgZGUgYWZzdGFuZCBkaWUgemUga29uZGVuIGFmbGVnZ2VuIG5pZXQgYWwgdGUgc3VjY2Vzdm9sIHdhcy4gRGUgUm9tZWluc2UgaW5nZW5pZXVycyB2YW4gZGllIHRpamQgZ2luZ2VuIGRhbiB6b2VrZW4gbmFhciBtZXRob2RlcyBvbSBoZXQgcmVlZHMgdmVybWVsZGUgcHJvYmxlZW0gb3AgdGUgbG9zc2VuLiBIaWVydWl0IG9udHN0b25kIGRlIGJhbGxpc3RhLiBEZXplIGthdGFwdWx0IGhhZCB0dXNzZW4gZGUgMiBob3Jpem9udGFhbCBzY2h1aW4gZ2VwbGFhdHN0ZSBiYWxrZW4gZWVuIGdlc3Bhbm5lbiB0b3V3LiBPbmRlciBoZXQgdG91dyBiZXZvbmQgemljaCBlZW4gaGFsdmUgY2lsaW5kZXIgd2FhcmluIGhldCBwcm9qZWN0aWVsIHdlcmQgZ2VsZWdkLiBEZXplIGhhbHZlIGNpbGluZGVyIHdlcmQgYWx0aWpkIG5hYXIgYm92ZW4gZ2VyaWNodCBlbiBkZSBob2VrIHdhYXJpbiBoZXQgemljaCBiZXZvbmQga29uZGVuIHplIGJpanN0dXJlbiBpbmRpZW4gbm9kaWcuIEhldCB3YXMgZHVzIG5pZXQgem8gZGF0IGJhbGxpc3RhJ3MgZWVuIHZhc3RlIGhvZWsgbWVla3JlZ2VuIHpvYWxzIGJpaiBkZSBlZXJzdGUgdmVyc2llcyB2YW4gZGUga2F0YXB1bHRlbi4gRG9vciBkaWUgcmVnZWxiYXJlIGhvZWsga29uZGVuIHplIGh1biBwaWpsZW4gb3ZlciBlZW4gYWZzdGFuZCB2YW4gNDAwIG1ldGVyIHNjaGlldGVuLiBOZXQgem9hbHMgYmlqIGRlIG91ZHN0ZSBrYXRhcHVsdGVuIHdhcmVuIGVyIHZlZWwgc29sZGF0ZW4gKFxceEIxNCkgbm9kaWcgb20gaGV0IGluIGdlYnJ1aWsgdGUga3VubmVuIG5lbWVuLiBEYWFyb20gem9jaHRlbiBkZSBpbmdlbmlldXJzIG5vZyBzdGVlZHMgbmFhciBlZW4gdmVyYmV0ZXJkZSB2ZXJzaWUuIERlIGluZ2VuaWV1cnMgcGxhYXRzdGVuIGRpdCBuYWRlZWwgY2VudHJhYWwgaW4gaHVuIHZvbGdlbmRlIG9udHdlcnBlbiB3YWFyZG9vciBkZSBzY29ycGlvbmVzIChrcnVpc2Jvb2cgb3Agdm9ldCkgd2FyZW4gb250c3RhYW4uIEhldCB3YXJlbiBrbGVpbmUga2F0YXB1bHRlbiBkaWUgZG9vciAxIG1hbiBnZWRyYWdlbiBrb25kZW4gd29yZGVuLiBaZSBiZXN0b25kZW4gdWl0IGVlbiBpanplcmVuIGJvb2cgd2FhcnR1c3NlbiBlZW4gc25hYXIgd2VyZCBnZXNwYW5uZW4uIERlIHByb2plY3RpZWxlbiBkaWUgemUga29uZGVuIGFmdnVyZW4gd2FyZW4gaG91dGVuIHNwaWVzZW4gdmFuIDY3Y20uIE5hIGRlIHNjb3JwaW9uZXMgb250d2lra2VsZGUgbWVuIGRlIGNoZWlvYmFsbGlzdHJhIGRpZSBiZXNjaGlrdGUgb3ZlciBtZXRhbGVuIGZyYW1lcyB3YXQgdmVlbCBzdGVya2VyIHdhcyBkYW4gdm9vcmRpZW4uIERlIG9uYWdlciB3YXMgZGUgbGFhdHN0ZSBoZXJ2b3JtaW5nIHZhbiBkZSBrYXRhcHVsdCBlbiB3ZXJkIGFsZ2VtZWVuIGluIGdlYnJ1aWsgZ2Vub21lbiByb25kIGRlIDRkZSBlZXV3LlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJEZXplIGhhZCBlZW4gdG90YWFsIGFuZGVyZSB3ZXJrd2lqemUgZGFuIGRlIHZvcmlnZS4gSGV0IHdhcyBlZW4gaGVlbCBncm9vdCBlbiB6d2FhciBtYWNoaW5lIGJlZG9lbGQgb20gZ3JvdGUgcHJvamVjdGllbGVuIG5hYXIgZGUgdmlqYW5kIHRlIHdlcnBlbi4gRGVyZ2VsaWprZSBwcm9qZWN0aWVsZW4gd2FyZW4gbWVlc3RhbCBzdGVuZW4uIEhldCBvcHZhbGxlbmRzdGUga2VubWVyayB2YW4gZGUgb25hZ2VyIHdhcyBkYXQgZXIgb3BuaWV1dyB2ZWxlIHNvbGRhdGVuIG5vZGlnIHdhcmVuIG9tIGRlIGthdGFwdWx0IGluIGdlYnJ1aWsgdGUgbmVtZW4gZW4gZGl0IHdhcyBqdWlzdCB3YXQgbWVuIGJpaiBkZSBvbnR3aWtrZWxpbmcgdmFuIGRlIGthdGFwdWx0IHdpbGRlIHRlZ2VuZ2Fhbi5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIlZlcmRlZGlnaW5nc3dhcGVuc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgW1wiRGUgdmVyZGVkaWdpbmdzbWFjaGluZXMgd2FyZW4gbmV0IHpvYWxzIGRlIGFhbnZhbHNtYWNoaW5lcyBrcmFjaHRpZ2VyIGluIHZlcmdlbGlqa2luZyBtZXQgd2F0IGRlIHNvbGRhdGVuIGJpaiB6aWNoIGRyb2VnZW4uIFUgemFsIHRlbGtlbnMgZWVuIGtvcnRlIGJlc2NocmlqdmluZyBrcmlqZ2VuIG92ZXIgZW5rZWxlIG9vcmxvZ3N0dWlnZW4gZGllIHRlciB2ZXJkZWRpZ2luZyB3ZXJkZW4gZ2VicnVpa3QuXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkJlZ2lubmVuIGRvZW4gd2UgbWV0IGRlIHBsdXRlaSwgZWVuIGhhbGZjaXJrZWx2b3JtaWcgc2NoaWxkIG9wIHdpZWxlbiBkaWUgdmVlbCB3ZWVyc3RhbmQgYm9vZC4gVmVydm9sZ2VucyB3YXMgZXIgZGUgdGVzdHVkby4gRGV6ZSB3YXMgbmV0IHpvYWxzIGRlIHBsdXRlaSBlZW4gYmVzY2hlcm1pbmcgb3Agd2llbGVuIChrYW4gb29rIHpvbmRlciB3aWVsZW4pLiBNYWFyIGhldCB2ZXJzY2hpbCB3YXMgZGF0IGJpaiBkZSB0ZXN0dWRvIHNjaGlsZGVuIGFhbiBlbGthYXIgd2VyZGVuIGdlaGVjaHQgZGllIHplIGRhbiBhbHMgYWZkYWsgZ2VicnVpa3Rlbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiVG90IHNsb3QgYmVzdG9uZCBlciBlZW4gbWFjaGluZSBkaWUgem93ZWwgYmlqIGRlIGFhbnZhbHMtIGFscyBiaWogZGUgdmVyZGVkaWdpbmdzd2FwZW5zIHpvdSBrdW5uZW4gaG9yZW4sIG5sIGRlIHR1cmVzIGFtYnVsYXRvcmlhZS4gSGV0IHdhcyBlZW4gaG91dGVuIHRvcmVuIG9wIHdpZWxlbiB3YWFyaW4gemUga29uZGVuIHNjaHVpbGVuIGVuIG9wIGRpZSBtYW5pZXIga29uZGVuIHplIG9uZ2VzY2hvbmRlbiBkZSB2aWphbmQgbmFkZXJlbi4gWm9cXHUyMDE5biB0b3JlbiB0ZWxkZSBlbmtlbGUgdmVyZGllcGluZ2VuIGVuIGhhZCB0ZWxrZW5zIGVlbiB2YWxsdWlrIHBlciB2ZXJkaWVwLiBEaXQgZ2FmIGhlbiBkZSBrYW5zIG9tIG92ZXIgZGUgbXVyZW4gdGUgZ2VyYWtlbiB2YW4gZGUgdmlqYW5kLiBIZWxlbWFhbCBvbmRlcmFhbiB3ZXJkIGVlbiBzdG9ybXJhbSBpbmdlYm91d2QgZW4gZGV6ZSBoYWQgYWxzIGZ1bmN0aWUgZGUgcG9vcnRlbiB2YW4gaGV0IHZpamFuZGVsaWprZSBnZWJpZWQgdGUgZG9vcmJyZWtlbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRhYmxlXCIsIFwiYmV3YXBlbmluZy1sZWdpb24tdGFibGVcIiwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aGVhZFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcIk9vcmxvZ3N0dWlnZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcIndhcGVuc1wiKV0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJhYW52YWxzd2FwZW5zICg9IHRvcm1lbnRhKVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiY2F0YXB1bHRhZVwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiQmFsbGlzdGFlXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJTY29ycGlvbmVzXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJjaGVpb2JhbGxpc3RyYVwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwib25hZ2VyXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwidmVyZGVkaW5naW5zd2FwZW5zXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJQbHV0ZWlcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcInRlc3R1ZG9cIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJjb21iaW5hdGlld2FwZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIlR1cmVzIGFtYnVsYXRvcmlhZVwiKV0pXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIlZlcmdlbGlqa2luZ1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJBbHMgd2UgZWVuIHZlcmdlbGlqa2luZyBtYWtlbiB2YW4gZGUgUm9tZWluc2UgYmV3YXBlbmluZyB0Lm8udi4gZGUgaHVpZGlnZSwgZGFuIGt1bm5lbiB3ZSBlZW4gemVlciBzdGVya2UgZXZvbHV0aWUgdmFzdHN0ZWxsZW4gdm9vcnRnZWtvbWVuIHVpdCBkZSB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZyBkaWUgbWVuIGRvb3JoZWVuIGRlIGphcmVuIGJvZWt0ZS4gWmUgaGViYmVuIHppY2ggYWx0aWpkIHdpbGxlbiB2ZXJiZXRlcmVuIGluIGhldCBtYWtlbiB2YW4gbWFjaGluZXMgZGllIHByb2plY3RpZWxlbiBrb25kZW4gYWZzY2hpZXRlbi4gWm8gd2VyZCBkZSBrYXRhcHVsdCBvbWdldm9ybWQgdG90IGVlbiBsYW5nZSBhZnN0YW5kc3Jha2V0LiBNZW4gb250d2lra2VsZGUgemVsZnMgZWVuIHN5c3RlZW0gb20gendhYXJkZW4gdGUgdmVydmFuZ2VuIGRvb3IgbWFjaGluZXMgZGllIGtvZ2VscyBrb25kZW4gYWZ2dXJlbi5cIildKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQnJvbm5lbiA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIEJyb25uZW4gPSBleHBvcnRzLkJyb25uZW4gPSBmdW5jdGlvbiBCcm9ubmVuKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIkJyb25uZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBcImJyb25cIiwgXCJCb2VrZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidWxcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIkNvbW1lbnRhcmlpIGRlIGJlbGxvIEdhbGxpY28sIFZJSSwgTFhJWFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiVmFuIEdlbGRlciwgSi4gKDE5NTIpIExhdGlqbnNlIGdlc2NoaWVkc2NocmlqdmVycy4gQmxvZW1sZXppbmcgdWl0IGRlIHdlcmtlbiB2YW4gU2FsbHVzdGl1cywgQ2Flc2FyLCBMaXZpdXMgZW4gVGFjaXR1cy4gSGFhcmxlbTogU3BhYXJuZXN0YWRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIkhhcnB1ciwgSi4gKDIwMDcpIEd1ZXJyaWVyczogTGVzIGdyYW5kcyBoXFx4RTlyb3MgZGUgbFxcdTIwMTloaXN0b2lyZS4gTUlMQU46IFRvdWxvdXNlXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJWYW4gRGFlbGUsIEIuICgyMDAzKSBIZXQgUm9tZWluc2UgTGVnZXIuIERhdmlkc2ZvbmRzOiBMZXV2ZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIkdvbGRzd29ydGh5LCBBLiAoMjAxNykgUm9tZWluc2UgbGVnaW9lbmVuLiBPbW5pYm9lazogVXRyZWNodFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiUm9kZ2VycywgTi4gKDIwMTIpIEhldCBSb21laW5zZSBSaWprLiBWZWx0bWFuOiBVdHJlY2h0XCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJBbm9uaWVtLiAoMjAxNSkuIERlIFZlbGRzbGFnZW4sIEhldCBQb3AtVXBib2VrLiBUaWVsdDogTGFubm9vLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiV2FycnksIFcuICgxOTgxKS4gT29ybG9ndm9lcmluZyBpbiBkZSBrbGFzc2lla2Ugd2VyZWxkLiBIZW1vbmQ6IEhlbG1vbmQuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJEYW5kby1Db2xsaW5zLCBTLiAoMjAxMCkuIExlZ2lvbnMgb2YgUm9tZTogVGhlIERlZmluaXRpdmUgSGlzdG9yeSBvZiBFdmVyeSBJbXBlcmlhbCBSb21hbiBMZWdpb24uIExvbmRlbjogUXVlcmN1cyBQdWJsaXNoaW5nLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiRmV1Z2VyZSwgTS4gKDIwMDIpLiBUaGUgV2VhcG9ucyBvZiB0aGUgUm9tYW5zLiBVbml0ZWQgS2luZ2RvbTogVGhlIEhpc3RvcnkgUHJlc3MuXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBcImJyb25cIiwgXCJNb25kZWxpbmdcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiTW9uZGVsaW5nZSBicm9uIGdlbGV2ZXJkIGRvb3IgS29sb25lbCBTQkggTWFyYyBBbGV4YW5kZXIgKEhvb2dsZXJhYXIgYWFuIGRlIEtNUylcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBcImJyb25cIiwgXCJXZWJzaXRlc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInVsXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJHb2VkZSBrZWl6ZXJzLCBzbGVjaHRlIGtlaXplcnNcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vbWFyY2F1ci53b3JkcHJlc3MuY29tLzIwMTUvMDMvMjAvZGUtdmlqZi1ncm9vdHN0ZS1vdmVyd2lubmluZ2VuLXZhbi1kZS1yb21laW5lbi1sb25ncmVhZC9cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIm1pbGl0YWlyLm5ldFwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5taWxpdGFpci5uZXQvT29ybG9nZW4vUm9tZWluc2UlMjBvb3Jsb2dlbi9TbGFnJTIwYmlqJTIwVGV1dG9idXJnZXJ3b3VkL1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiNCBvcG1lcmtlbGlqa2UgdmVsZHNsYWdlbiB1aXQgZGUgUm9tZWluc2UgZ2VzY2hpZWRlbmlzXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LmlzZ2VzY2hpZWRlbmlzLm5sL25pZXV3cy80LW9wbWVya2VsaWprZS12ZWxkc2xhZ2VuLXJvbWVpbnNlLWdlc2NoaWVkZW5pcy9cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkJlbGVnIHZhbiBBbGVzaWFcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vbmwud2lraXBlZGlhLm9yZy93aWtpL0JlbGVnJTIwdmFuJTIwQWxlc2lhXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJXYWFyIGxhZyBBbFxceEU5c2lhP1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly93d3cua3Vuc3RnZW9ncmFmaWUubmwvaGVudi9oZWxkZW4uYWxlc2lhLnNsYWcuaHRtXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJkZSBnZXNjaGllZGVuaXMgdmFuIEFsZXNpYVwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5jZW5lbnMuYmUvYWxlc2lhL29tZ2V2aW5nLmh0bWxcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkRyaWUgZ3JvdGUgdmVsZHNsYWdlbiB1aXQgZGUgUm9tZWluc2UgdGlqZFwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9wbGF6aWxsYS5jb20vcGFnZS80Mjk1MDI4OTEzL2RyaWUtZ3JvdGUtdmVsZHNsYWdlbi11aXQtZGUtcm9tZWluc2UtdGlqZFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiU2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZFwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9ubC53aWtpcGVkaWEub3JnL3dpa2kvU2xhZ19iaWpfaGV0X1RldXRvYnVyZ2Vyd291ZFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiU2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZDogVmFydXMgbG9vcHQgaW4gZWVuIEdlcm1hYW5zZSBoaW5kZXJsYWFnXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LmlzZ2VzY2hpZWRlbmlzLm5sL21pbGl0YWlyZS1jb25mcm9udGF0aWVzL3NsYWctYmlqLWhldC10ZXV0b2J1cmdlcndvdWQtdmFydXMtbG9vcHQtaW4tZWVuLWdlcm1hYW5zZS1oaW5kZXJsYWFnL1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiVmFydXNzbGFnOiAyMDAwIGphYXIgZ2VsZWRlblwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly93d3cuaGlzdG9yaXNjaGVjYXJ0b2dyYWZpZS5ubC9uaWV1d3MvMjAwOS8xMS92YXJ1c3NsYWctMjAwMC1qYWFyLWdlbGVkZW4vXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJEZSBWYXJ1c3NsYWcgaW4gOSBuLkNoci5cIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cubm92aW9tYWd1cy5pbmZvL3ZhcnVzc2xhZy5odG1cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlB1YmxpdXMgUXVpbmN0aWxpdXMgVmFydXNcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vbmwud2lraXBlZGlhLm9yZy93aWtpL1B1YmxpdXNfUXVpbmN0aWxpdXNfVmFydXNcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlRhY3RpZWtlblwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5sZWdpb3hpLmJlL2VkdWNhdGllZi90YWN0aWVrZW4gKG9wZW4gdmVsZHNsYWcpXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJIZXQgUm9tZWluc2UgbGVnZXJcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cua2xhc3NpZWtldmVydGFsaW5nZW4ubmwvY3VsdHV1ci9sZWdlci5odG1cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkh1bHB0cm9lcGVuXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vdXNlcnMudGVsZW5ldC5iZS9waG9lbmljYS9odWxwdHJvZXBlbi5odG1cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkRlIGJld2FwZW5pbmcgdmFuIGRlIFJvbWVpbnNlIGxlZ2lvbmFpclwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3JvbWVpbmVuLmluZm8vZGUtYmV3YXBlbmluZy12YW4tZGUtcm9tZWluc2UtbGVnaW9uYWlyXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJWZXJkZWRpZ2luZ3N3ZXJrZW4gZW4gYmVsZWdlcmluZ3Nvb3Jsb2dcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly91c2Vycy5za3luZXQuYmUvdmVuaV92aWRpX3ZpY2kvYmVzdG9ybWluZy5odG1sXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJXZWFwb25zXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LnByaW1hcnlob21ld29ya2hlbHAuY28udWsvcm9tYW5zL3dlYXBvbnMuaHRtbFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiVG9vbHMgb2YgV2FyXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL3JvbWFubWlsaXRhcnkubmV0L3Rvb2xzL1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiQW5jaWVudCByb21hbiBtaWxpdGFyeSwgd2VhcG9ucyBhbmQgc3BpZXNcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly9mYWN0c2FuZGRldGFpbHMuY29tL3dvcmxkL2NhdDU2L3N1YjM2OC9pdGVtMjA1NS5odG1sXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJXZWFwb25zICYgVGFjdGljc1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly93d3cudGhlLXJvbWFucy5jby51ay93ZWFwb25zLmh0bVwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiT3JnYW5pemF0aW9uIG9mIHRoZSBSb21hbiBJbXBlcmlhbCBMZWdpb25cIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cudW5ydi5jb20vbWlsaXRhcnkvbGVnaW9uLnBocFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiVGhlIFJvbWFuIEFybXlcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cucm9tYW4tZW1waXJlLm5ldC9hcm15L2FybXkuaHRtbFwiXG4gIH0pKV0pKV0pXSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLklubGVpZGluZyA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIElubGVpZGluZyA9IGV4cG9ydHMuSW5sZWlkaW5nID0gZnVuY3Rpb24gSW5sZWlkaW5nKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIklubGVpZGluZ1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJXaWogaGViYmVuIGJlc2xpc3Qgb20gb25zIHdlcmsgb3ZlciBoZXQgUm9tZWluc2UgbGVnZXIgdGUgYmVnaW5uZW4gbWV0IGRlIG9uZGVydmVyZGVsaW5nIHZhbiBoZXQgbGVnZXIuIEhpZXJkb29yIGtyaWpnIGplIGFsIGVlbiBpbnppY2h0IGluIGhvZSBkZSBoaVxceEVCcmFyY2hpZSB3YXMgdGVuIHRpamRlIHZhbiBkZSBSb21laW5lbi4gSGllcm5hIHppam4gd2lqIGRpZXBlciBpbmdlZ2FhbiBvcCBkZSBiZXdhcGVuaW5nIHZhbiBkZSBSb21laW5lbiB6b2RhdCBqZSBnb2VkIHdlZXQgaG9lIHplIHRvZW4gdm9jaHRlbiBlbiB3YXQgemUgdGVyIGJlc2NoaWtraW5nIGhhZGRlbiBvbSBodW4gdmlqYW5kIHRlIG92ZXJtZWVzdGVyZW4uIEFscyBsYWF0c3RlIGhlYmJlbiB3aWogZ2VrZWtlbiBuYWFyIGhldCB2ZXJsb29wIHZhbiB0d2VlIHZlbGRzbGFnZW4gZW4gaGViYmVuIHdlIGRlemUgdm9sbGVkaWcgZ2VhbmFseXNlZXJkIG9tIHVpdGVpbmRlbGlqayB0ZSBrdW5uZW4gemVnZ2VuIGhvZSBkZXplIGJldGVyIGhhZGRlbiBrdW5uZW4gdmVybG9wZW4uIFdpaiBoZWJiZW4gdmVyc2NoZWlkZW5lIGJyb25uZW4gZ2VicnVpa3Qgb20gb25zIHdlcmsgdGUgb25kZXJib3V3ZW4sIGdhYW5kZSB2YW4gYm9la2VuIHVpdCBoZXQgYXJjaGllZiB2YW4gZGUgS29uaW5rbGlqa2UgTWlsaXRhaXJlIFNjaG9vbCB0b3Qgd2Vic2l0ZXMgdmFuIHByb2Zlc3NvcmVuIGxhdGlqbiBkaWUgdGhlc2lzc2VuIG92ZXIgaGV0IFJvbWVpbnNlIGxlZ2VyIGhlYmJlbiBnZXNjaHJldmVuLiBPbSBub2cgZXh0cmEgZG9jdW1lbnRhdGllIGVuIGFmYmVlbGRpbmdlbiB0ZSB2ZXJzY2hhZmZlbiBiaWogZGV6ZSBvbmRlcnpvZWtzY29tcGV0ZW50aWUsIGhlYmJlbiB3aWogYmVzbG90ZW4gb20gZGV6ZSBzaXRlIHRlIG1ha2VuLlwiKV0pO1xufTtcblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5PbmRlcnZlcmRlbGluZyA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIE9uZGVydmVyZGVsaW5nID0gZXhwb3J0cy5PbmRlcnZlcmRlbGluZyA9IGZ1bmN0aW9uIE9uZGVydmVyZGVsaW5nKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIk9uZGVydmVyZGVsaW5nIHZhbiBoZXQgbGVnZXJcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRGUgUm9tZWluZW4gaGFkZGVuIHZlcnNjaGlsbGVuZGUgcmFuZ2VuIGJpbm5lbiBoZXQgbGVnZXIgd2FhcnRvZSBqZSBrb24gYmVob3Jlbi4gSGV0IGxlZ2VyIHdlcmQgb3BnZWRlZWxkIGluIG1lZXJkZXJlIGxlZ2lvZW5lbiBlbiBodWxwdHJvZXBlbiB3YWFybWVlIHplIHZhbnVpdCB2ZXJzY2hpbGxlbmRlIGhvZWtlbiBkZSB2aWphbmQgZ2VzdHJ1Y3R1cmVlcmQga29uZGVuIGFhbnZhbGxlbi4gRG9vcmhlZW4gZGUgamFyZW4gbmFtIGhldCBhYW50YWwgc29sZGF0ZW4gc3RlcmsgdG9lLiBEZSByZWRlbiBkYWFydG9lIHdhcyB2cmlqIGVlbnZvdWRpZy4gRWVubWFhbCBlZW4gYmVwYWFsZGUgYmV2b2xraW5nc2dyb2VwIHppam4gc3RyaWpkbWFuc2NoYXBwZW4gdmVyZ3Jvb3R0ZSwgd2FzIGRlIGFuZGVyZSB2ZXJwbGljaHQgb20gaGV0emVsZmRlIHRlIGRvZW4sIGFhbmdlemllbiB6ZSBhbmRlcnMgZ2VlbiBlbmtlbGUga2FucyB6b3VkZW4gaGViYmVuIG9wIGRlIG92ZXJ3aW5uaW5nLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiSGV0IGxlZ2lvZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRWVuIGxlZ2lvZW4gd2VyZCBvcGdlZGVlbGQgaW4gMTAgY29ob3J0ZW4gd2FhcmJpaiAxIGNvaG9ydGUgZWVuIGFhbnRhbCB2YW4gNjAwIHNvbGRhdGVuIHRlbGRlIG9wIHZvb3J3YWFyZGUgZGF0IGhldCBsZWdpb2VuIGJlc3RvbmQgdWl0IG9uZ2V2ZWVyIDYwMDAgbGVnaW9uYXJpaSAoPSBzb2xkYXRlbikuIERlIGxlaWRlciB2YW4gZWVuIGxlZ2lvZW4gd2VyZCBlZW4gbGVnYXR1cyBnZW5vZW1kLiBIZXQgd2FzIGFsdGlqZCBlZW4gbWFuIG9tZGF0IGVua2VsIGRlIG1hbm5lbiB0b2VnZWxhdGVuIHdlcmRlbiBiaWogaGV0IGxlZ2VyIChWcm91d2VuIG1vZXN0ZW4gaGV0IGh1aXNob3VkZW4gZG9lbikuIERlIGxlZ2F0dXMgaGFkIG9vayA1IFxceEUwIDYgYXNzaXN0ZW50ZW4gdGVyIGJlc2NoaWtraW5nIGRpZSBkZSBuYWFtIHRyaWJ1bmkga3JlZ2VuLiBEYXQgd2FyZW4gc3RlZWRzIGpvbmdlIG1hbm5lbiBkaWUgZWVuIHBvbGl0aWVrZSBjYXJyaVxceEU4cmUgd2lsZGUgc3RhcnRlbiBtYWFyIGVlcnN0IHdhdCBtaWxpdGFpcmUgZXJ2YXJpbmcgbm9kaWcgaGFkZGVuLiBWZXJ2b2xnZW5zIHdlcmRlbiBhbGxlIGNvaG9ydGVuIG5vZyBlZW5zIG9uZGVydmVyZGVlbGQgaW4gMyBtYW5pcGVscyBtZXQgdGVsa2VucyBlZW4gYWFudGFsIHZhbiAyMDAgbWFuLiBIZXQgMXN0ZSBtYW5pcGVsIHZhbiBpZWRlcmUgY29ob3J0ZSBrcmVlZyBkZSBuYWFtIHBpbHVzLiBIZXQgMXN0ZSBtYW5pcGVsIHZhbiBkZSAxc3RlIGNvaG9ydGUgd2VyZCBkZSBwcmltdXMgcGlsdXMgZ2Vub2VtZCBtZXQgZGUgcHJpbWkgcGlsaSBjZW50dXJpbyBhYW4gaGV0IGhvb2ZkLiBEZXplIDIwMCBtYW5uZW4gd2VyZGVuIG5vZ21hYWxzIGdlc3BsaXRzdCBpbiAyIGdyb2VwZW4gdmFuIDEwMCBzb2xkYXRlbi4gRGVyZ2VsaWprZSBncm9lcGVuIGJlaG9vcmRlbiB0b3QgZGUgcmFuZyB2YW4gZGUgY2VudHVyaWEuIEhpZXJiaWogd2FzIGVlbiBjZW50dXJpbyAoPSBvbmRlcm9mZmljaWVyKSBkZSBhYW52b2VyZGVyIHZhbiAxIHZhbiBkZSA2IGNlbnR1cmlcXHhFQm4uIEhpaiBiZXNjaGlrdGUgb3ZlciBlZW4gYWFudGFsIHNvbGRhdGVuLCAxIHZlbGR0ZWtlbmRyYWdlciBlbiBlZW4gb3B0aW8uIFppam4gYmVsYW5ncmlqa2hlaWQgd2FzIGFmaGFua2VsaWprIHZhbiBkZSByYW5nIGRpZSB6aWpuIGNlbnR1cmlhIGhhZC4gWm8gaXMgZGUgY2VudHVyaW8gdmFuIGhldCAxc3RlIGNlbnR1cmllLCAxc3RlIG1hbmlwZWwgZW4gMXN0ZSBjb2hvcnRlIGRlIGJlbGFuZ3JpamtzdGUgZW4gbmFhcm1hdGUgamUgdmVyZGVyIGdhYXQgaW4gZGUgaGlcXHhFQnJhcmNoaWUgbmVtZW4gemUgYWFuIGJlbGFuZ3JpamtoZWlkIGFmLiBFZW4gY2VudHVyaW8gYmVzY2hpa3RlIG5ldCB6b2FscyBlZW4gbGVnYXR1cyBvdmVyIGVlbiBhc3Npc3RlbnQgZGllIGRlIG5hYW0gb3B0aW8gYWFuZ2Vib2RlbiBrcmVlZy4gRGV6ZSBvcHRpbyBiZXNjaGlrdGUgb3ZlciBlZW4ga2xlaW4gbWFuc2NoYXAgb20gd2F0IGVydmFyaW5nIHRlIGtyaWpnZW4gb3ZlciBob2UgamUgbGVpZGluZyBtb2VzdCBnZXZlbi4gSGV0IHVpdGVpbmRlbGlqa2UgZG9lbCB2YW4gZGUgb3B0aW8gd2FzIHRlIHByb21vdmVyZW4gb20gem8gZGUgZnVuY3RpZSB2YW4gZWVuIGNlbnR1cmlvIHRlIGtyaWpnZW4uIFplZXIgZXJ2YXJlbiBjZW50dXJpb1xcdTIwMTlzIGtyZWdlbiBvb2sgbm9nIGthbnMgb20gcHJhZWZlY3R1cyBjYXN0cm9ydW0gKD0ga2FtcGNvbW1hbmRhbnQpIHRlIHdvcmRlbi4gVG90IHNsb3Qgd2VyZGVuIGRpZSAxMDAgbWFuIG5vZyBlZW4ga2VlciBvcGdlZGVlbGQgaW4gMTAgZ3JvZXBqZXMgdmFuIHRlbGtlbnMgMTAgc29sZGF0ZW4gZGllIHNhbWVuIGVlbiBrbGVpbmUgdGVudCBtb2VzdGVuIGRlbGVuIHdhYXJpbiB6ZSBrb25kZW4gb3Zlcm5hY2h0ZW4uIERlcmdlbGlqayB0ZW50ZW4gd2FyZW4gb25nZXZlZXIgNCBiaWogMyBtZXRlci4gRGUgcmVkZW4gaGllcnZvb3Igd2FzIGRhdCB6ZSBvbXdpbGxlIHZhbiBodW4gZ3Jvb3R0ZSBtYWtrZWxpamsgdGUgdmVydm9lcmVuIHdhcmVuLiBEZXplIGdyb2VwamVzIHdlcmRlbiBjb250dXJiZXJuaXVtIGdlbm9lbWQuIEVsayBjb250dXJiZXJuaXVtIGJlc2NoaWt0ZSBvdmVyIGVlbiBtdWlsZXplbCBkaWUgZGUgc29sZGF0ZW4gaGllbHAgYmlqIGhldCB2ZXJ2b2VyZW4gdmFuIGh1biBnb2VkZXJlbi4gSGV0IGxlZ2lvZW4gYmV2YXR0ZSBuYWFzdCByZWVkcyB2ZXJtZWxkZSByYW5nZW4gbm9nIGFuZGVyZSBwZXJzb25lbiBkaWUgZWVuIHNwZWNpZmlla2UgdGFhayB1aXR2b2VyZGVuLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgW1wiRWVuIGFxdWlsaWZlciAoPSBzdGFuZGFhcmRkcmFnZXIpIGtyZWVnIGRlIHRhYWsgb20gbWV0IGhldCBSb21laW5zZSBlbWJsZWVtIHZhbiBlZW4gYXF1aWxhICg9IGFyZW5kKSBoZXQgbGVnaW9lbiB2b29yYWYgdGUgZ2FhbiBlbiBzdG9uZCBhYW4gaGV0IGhvb2ZkIHZhbiBhbGxlIGFuZGVyZSB2ZWxkdGVrZW5kcmFnZXJzLiBJbiBlZW4gbGVnaW9lbiB3YXJlbiBlciBvb2sgYmFra2Vycywgc21lZGVuLCBkb2t0ZXIsIFxcdTIwMjZcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiRWVuIGxlZ2lvZW4ga29uIGR1cyB6b25kZXIgZW5pZyBwcm9ibGVlbSBlbmtlbGUgbWFhbmRlbiByb25kdHJla2tlbiBkb29yIGRlIGdyb3RlIHZvb3JyYWFkIHZhbiBkaW5nZW4gZGllIHplIG1lZXNsZXVyZGUgdGlqZGVucyBodW4gdG9jaHQgZW4gaGV0IGdyb290IGFhbmJvZCB2YW4gYXNzaXN0ZW50ZW4uXCJdKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiRGUgaHVscHRyb2VwZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFtcIk5hYXN0IGxlZ2lvZW5lbiBtYWFrdGUgZGUgUm9tZWluZW4gb29rIHZlZWx2dWxkaWcgZ2VicnVpayB2YW4gZGUgYXV4aWxpYSAoPSBodWxwdHJvZXBlbikuIERhYXJ0b2UgYmVob29yZGVuIGRlIHNvbGRhdGVuIGRpZSBuaWV0IGRlIHN0YXR1cyBoYWRkZW4gdmFuIFJvbWVpbnNlIHN0YWF0c2J1cmdlciBkb29yZGF0IHplIGFma29tc3RpZyB3YXJlbiB1aXQgYW5kZXJlIHZvbGtlcmVuLiBPbXdpbGxlIHZhbiBodW4gYW5kZXJlIGFma29tc3Qga3JlZ2VuIHplIG1hYXIgMS8zIHZhbiBoZXQgbG9vbiB2YW4gZWVuIGxlZ2lvbmFyaXVzLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJIdW4gdm9vcm5hYW1zdGUgZnVuY3RpZSB3YXMgb20gZGUgbGVnaW9lbmVuIHRlIGhlbHBlbiBlbiBvbSBkZSBncmVuemVuIHRlIGJld2FrZW4gZW4gdGUgdmVyZGVkaWdlbi4gRGV6ZSB0YWtlbiBtb2VzdGVuIHplIHVpdHZvZXJlbiBvbmRlciBiZXZlbCB2YW4gcHJhZWZlY3RpICg9IFJvbWVpbnNlIG9mZmljaWVyZW4pLiBBbHMgZWVuIGF1eGlsaWFyaXVzICg9IGVlbiBzb2xkYWF0IHZhbiBkZSBodWxwdHJvZXBlbikgZWVuIGRpZW5zdHRlcm1pam4gdmFuIDI1IGphYXIgaGFkIGFmZ2VzbG90ZW4sIGtyZWVnIGhpaiBlbiB6aWpuIGdlemluIHZhbmFmIGRhdCBtb21lbnQgZGUgc3RhdHVzIHZhbiBlZW4gUm9tZWlucyBzdGFhdHNidXJnZXIuIERlIHpvbmVuIHZhbiBlZW4gZXgtYXV4aWxpYXJpdXMgZ2luZ2VuIGFscyBsZWdpb25hcml1cyB3ZXJrZW4gd2F0IGhlbiBkZSBrYW5zIGdhZiBvbSBtZWVyIHRlIHZlcmRpZW5lbiBkYW4gaHVuIHZhZGVyLiBEZSBleC1hdXhpbGlhcml1cyB6ZWxmIG5hbSBkZSBuYWFtIHZhbiBkZSByZWdlcmVuZGUga2VpemVyIGFhbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiTmV0IHpvYWxzIGRlIGxlZ2lvZW5lbiB6aWpuIGVyIHZlcnNjaGlsbGVuZGUgb25kZXJkZWxlbiBiaW5uZW4gZGUgaHVscHRyb2VwZW4gem9hbHM6IGRlIGVxdWl0YXR1cyAoPSBydWl0ZXJzKSwgZGUgc2FnaXR0YXJpaSAoPSBib29nc2NodXR0ZXJzKSBlbiBkZSBmdW5kaXRvcmVzICg9IHNsaW5nZXJhYXJzKS4gRWxrZSBzb2xkYWF0IGJpbm5lbiBkZSBodWxwdHJvZXBlbiBrcmVlZyBlZW4gYmlqcGFzc2VuZCB3YXBlbiBhZmhhbmtlbGlqayB0b3Qgd2Vsa2UgZ3JvZXAgaGlqIGJlaG9vcmRlLlwiXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0YWJsZVwiLCBcIm9uZGVydmVyZGVsaW5nLXRhYmxlXCIsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhlYWRcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJncm9lcGVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJsZWdpb2VuZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcImh1bHB0cm9lcGVuXCIpXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImJlbGFuZ3JpamtzdGUgb25kZXJkZWxlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFtcImNvaG9ydGVuXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJtYW5pcGVsc1wiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiY2VudHVyaWFcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcImNvbnR1cmJlcm5pdW1cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgW1wic2FnaXR0YXJpaVwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiZXF1aXRhdHVzXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJmdW5kaXRvcmVzXCJdKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImFhbnRhbFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFtcIjEgY29ob3J0ID0gXFx4QjEgNjAwXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCIxIG1hbmlwZWwgPSBcXHhCMSAyMDBcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcIjEgY2VudHVyaWEgPSBcXHhCMSAxMDBcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcIjEgY29udHVyYmVybml1bSA9IFxceEIxIDEwXCJdKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiYWFudGFsIGlzIG9uZHVpZGVsaWprXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwibGVpZGVyc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwibGVnaW9lbiAtLT4gbGVnYXR1cyBjZW50dXJpYSAtLT4gY2VudHVyaW8gemVlciBlcnZhcmVuIGNlbnR1cmlvIC0tPiAgcHJhZWZlY3R1cyBjYXN0cm9ydW1cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIkh1bHB0cm9lcGVuIC0tPiBwcmFlZmVjdGlcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzdGF0dXNcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIlJvbWVpbnMgc3RhYXRzYnVyZ2VyXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJnZWVuIFJvbWVpbnMgc3RhYXRzYnVyZ2VyLiBBZmtvbXN0aWcgdmFuIGFuZGVyZSB2b2xrZXJlblwiKV0pXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJWZXJnZWxpamtpbmdcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiQWxzIHdlIGRlIG9uZGVydmVyZGVsaW5nIGJpaiBkZSBSb21laW5lbiB2ZXJnZWxpamtlbiBtZXQgZGUgb256ZSBkYW4gbWVya2VuIHdlIG9wIGRhdCBkZSBzdHJ1Y3R1dXIgdm9vciBlZW4gZ3Jvb3QgZGVlbCBiZXdhYXJkIGlzIGdlYmxldmVuLiBUb2NoIGt1bm5lbiB3ZSBzdGVsbGVuIGRhdCBoZXQgaHVpZGlnZSBzeXN0ZWVtIG1lZXIgb25kZXJ2ZXJkZWxpbmdlbiBoZWVmdCBlbiBkYXQgZGUgbmFtZW4gb29rIHN0ZWVkcyBnZXdpanppZ2Qgemlqbi4gWm8gaXMgaW4gMjAxNyBkZSBnZW5lcmFhbCBkZSBsZWlkZXIgdmFuIGhldCBsZWdlciBlbiB2cm9lZ2VyIHNwcmFrIG1lbiBvdmVyIGxlZ2F0dXMgZGllIGRlIGxlaWRpbmcgaGFkIG92ZXIgaGV0IGxlZ2lvZW4uXCIpXSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlZlbGRzbGFnZW4gPSB1bmRlZmluZWQ7XG5cbnZhciBfaW5mZXJubyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBWZWxkc2xhZ2VuID0gZXhwb3J0cy5WZWxkc2xhZ2VuID0gZnVuY3Rpb24gVmVsZHNsYWdlbigpIHtcbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhcnRpY2xlXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDJcIiwgbnVsbCwgXCJWZWxkc2xhZ2VuIGVuIG9vcmxvZ2VuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlIFJvbWVpbmVuIGhlYmJlbiBkb29yaGVlbiBodW4gbGFuZ2UgYmVzdGFhbiBpbiB2ZWxlIGRlbGVuIHZhbiBkZSB3ZXJlbGQgZ2V2b2NodGVuIHRlZ2VuIHZlcnNjaGlsbGVuZGUgcmlqa2VuLCBzdGFkc3RhdGVuLCBoYW5kZWxzbmF0aWVzIGVuIGJhcmJhYXJzZSBzdGFtbWVuIGFhbmdlemllbiB6ZSBzdGVlZHMgbWVlciBncm9uZGdlYmllZCB3aWxkZW4gdmVyb3ZlcmVuLiBIb2V3ZWwgdmVsZW4gaGllcnZhbiB3ZXJkZW4gZ2V3b25uZW4gZGFua3ppaiBodW4gZG9vcmRhY2h0ZSB0YWN0aWVrZW4gZW4gaWp6ZXJzdGVya2UgZGlzY2lwbGluZSwgd2FyZW4gZXIgb29rIHp3YXJlIG5lZGVybGFnZW4gYmlqIHpvYWxzOiBkZSBzbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkLCBkZSBzbGFnIGJpaiBDYW5uYWUgZW4gZGUgc2xhZyBiaWogQWRyaWFub3BvbGlzLiBEb29yIGRlemUgbmVkZXJsYWdlbiBzY2hhYWZkZW4gemUgaHVuIHRhY3RpZWtlbiBiaWogb20gZGV6ZWxmZGUgZm91dGVuIG5pZXQgbm9nIGVlbnMgdGUgbWFrZW4uXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJEZSBzbGFnIGJpaiBBbGVzaWFcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRGUgc2xhZyBiaWogQWxlc2lhIHdlcmQgZ2V2b2NodGVuIHR1c3NlbiBkZSBSb21laW5zZSB0cm9lcGVuIHZhbiBKdWxpdXMgQ2Flc2FyIGVuIGRlIEF2ZXJuaXNjaGUgdHJvZXBlbiB2YW4gVmVyY2luZ2V0b3JpeC4gRGV6ZSBzbGFnIHdhcyBkZSBiZXNsaXNzZW5kZSBzbGFnIGluIGRlIHN0cmlqZCB0dXNzZW4gZGUgR2FsbGlcXHhFQnJzIGVuIGRlIFJvbWVpbmVuIGVuIGhldCB3YXMgdGV2ZW5zIGVlbiB2YW4gZGUgZ3Jvb3RzdGUgb3Zlcndpbm5pbmdlbiB2YW4gQ2Flc2FyLiBEZSBzbGFnIHZvbmQgcGxhYXRzIGluIDUyIHYuQy4gYmlqIGhldCBHYWxsaXNjaGUgQWxlc2lhIHJvbmQgZWVuIHZlcnN0ZXJrdCBmb3J0IHZhbiBoZXQgdm9sayBNYW5kdWJpaS4gSGV0IGZvcnQgdmFuIEFsZXNpYSB3YXMgZ2VsZWdlbiBib3Zlbm9wIGVlbiBoZXV2ZWwgd2FhciByaXZpZXJlbiBsYW5ncyBzdHJvb21kZW4uIENhZXNhciBnYWYgdmFuIGRlIG9tZ2V2aW5nIGVlbiB6ZWVyIGdvZWRlIGJlc2NocmlqdmluZyBpbiB6aWpuIENvbW1lbnRhcmlpIGRlIGJlbGxvIEdhbGxpY286IFxcXCJJcHN1bSBlcmF0IG9wcGlkdW0gQWxlc2lhIGluIGNvbGxlIHN1bW1vIGFkbW9kdW0gZWRpdG8gbG9jbywgdXQgbmlzaSBvYnNpZGlvbmUgZXhwdWduYXJpIG5vbiBwb3NzZSB2aWRlcmV0dXIuIEN1aXVzIGNvbGxpcyByYWRpY2VzIGR1byBkdWFidXMgZXggcGFydGlidXMgZmx1bWluYSBzdWJsdWViYW50LiBBbnRlIGlkIG9wcGlkdW0gcGxhbml0aWVzIGNpcmNpdGVyIG1pbGxpYSBwYXNzdXVtIElJSSBpbiBsb25naXR1ZGluZSBwYXRlYmF0OyByZWxpcXVpcyBleCBvbW5pYnVzIHBhcnRpYnVzIGNvbGxlcyBtZWRpb2NyaSBpbnRlcmllY3RvIHNwYXRpbyBwYXJpIGFsdGl0dWRpbmlzIGZhc3RpZ2lvIG9wcGlkdW0gY2luZ2ViYW50LlxcXCIgRGl0IGthbiBtZW4gdmVydGFsZW4gYWxzOiBcXHUyMDE4RGUgdmVzdGluZyBBbGVzaWEgemVsZiBsYWcgb3AgZWVuIGhldXZlbHRvcCBkaWUgYWFuemllbmxpamsgYm92ZW4gZGUgdmxha3RlIHVpdHN0YWssIHpvZGF0IHppaiBvbmlubmVlbWJhYXIgc2NoZWVuIHRlbnppaiBkb29yIGJsb2trYWRlLiBEZSB2b2V0IHZhbiBkaWUgaGV1dmVsIHdvcmR0IGFhbiB0d2VlIHppamRlbiBiZXNwb2VsZCBkb29yIHdhdGVybG9wZW4uIFZcXHhGM1xceEYzciBkZSB2ZXN0aW5nIHN0cmVrdGUgemljaCBlZW4gb25nZXZlZXIgZHJpZSBtaWpsIGJyZWRlIHZsYWt0ZSB1aXQ7IGFhbiBhbCBkZSBhbmRlcmUgemlqZGVuIG9tcmluZ2RlIGhldXZlbHMsIG9wIGtvcnRlIGFmc3RhbmQgdmFuIGVsa2FhciBnZWxlZ2VuIGVuIG1ldCBnZWxpamtlIHRvcGhvb2d0ZSwgZGUgdmVzdGluZy5cXHUyMDE5IERvb3IgZGV6ZSB1aXRzdGVrZW5kZSBsb2NhdGllIHdhcyBoZXQgemVlciBtb2VpbGlqayBvbSBoZXQgZm9ydCBpbiB0ZSBuZW1lbiBkdXMgYmVzbG9vdCBDYWVzYXIgb20gaGV0IGZvcnQgdGUgYmVsZWdlcmVuIGRvb3IgZ2VicnVpayB0ZSBtYWtlbiB2YW4gZWVuIGNpcmN1bXZhbGxhdGllbGluaWUgb20gem8gZGUgdHJvZXBlbiBlbiBkZSBiZXZvbGtpbmcgdmFuIEFsZXNpYSB1aXQgdGUgaG9uZ2VyZW4uXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBbXCJEZSBsaW5pZSBiZXN0b25kIHVpdCBtZWVyZGVyZSB2ZXJzdGV2aWdpbmdlbiBlbiB3YWxsZW4gbWV0IGVlbiB0b3RhbGUgbGVuZ3RlIHZhbiBvbmdldmVlciAxOGttLiBEZSB0YWN0aWVrIHZhbiBDYWVzYXIgYmxlZWsgemVlciBnb2VkIHRlIHdlcmtlbiBhYW5nZXppZW4gVmVyY2luZ2V0b3JpeCByYWRlbG9vcyB3YXMuIERlIGVuaWdlIG1vZ2VsaWpraGVpZCBkaWUgVmVyY2luZ2V0b3JpeCBub2cgaGFkIHdhcyBvbSBlZW4gZGVlbCB2YW4gZGUgR2FsbGlzY2hlIGNhdmFsZXJpZSB0ZSBkb2VuIG9udHNuYXBwZW4gZG9vciBlZW4gbm9nIG9udm9sdG9vaWQgZ2VkZWVsdGUgdmFuIGRlIGxpbmllIG9tIHZlcnN0ZXJraW5nIHRlIGhhbGVuLiBaaWogc2xhYWdkZW4gaW4gZGV6ZSBvcHpldCBlbiBicmFjaHRlbiBzdWNjZXN2b2wgZWVuIG9udHpldHRpbmdzbGVnZXIgb3AgZGUgYmVlbi4gQ2Flc2FyIGhhZCBlY2h0ZXIgYWFuIGFsbGUgbW9nZWxpamtlIHNjZW5hcmlvXFx1MjAxOXMgZ2VkYWNodCBlbiBoaWogaGFkIGJlc2xvdGVuIG9tIGVlbiBjb250cmF2YWxsYXRpZWxpbmllIHZhbiAyMSBraWxvbWV0ZXIgdGUgYm91d2VuIHJvbmQgZGUgY2lyY3VtdmFsbGF0aWVsaW5pZSwgd2FhcmRvb3IgZGUgUm9tZWluZW4gbGFuZ3MgdHdlZSB6aWpkZW4gdGVnZW4gZGUgR2FsbGlzY2hlIGFhbnZhbGxlbiBiZXNjaGVybWQgd2FyZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJFZW5tYWFsIGhldCBvbnR6ZXR0aW5nc2xlZ2VyIGJpaiBBbGVzaWEgd2FzIGFhbmdla29tZW4sIHdhcmVuIGhldCBlaWdlbmxpamsgZGUgUm9tZWluZW4gZGllIGJlbGVnZXJkIHdhcmVuIGFhbmdlemllbiB6ZSBpbmdlc2xvdGVuIHphdGVuIHR1c3NlbiB0d2VlIEdhbGxpc2NoZSBsZWdlcnMuIE9uZGVyIGxlaWRpbmcgdmFuIENvbW1pdXMgdmllbCBoZXQgb250emV0dGluZ3NsZWdlciBkZSBjb250cmF2YWxsYXRpZWxpbmllIGFhbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImltZ1wiLCBcInNpZWdlLW9mLWFsZXhpYS1pbWdcIiwgbnVsbCwge1xuICAgIFwic3JjXCI6IFwiLi9pbWFnZXMvc2llZ2VPZkFsZXhpYS5qcGdcIlxuICB9KSwgXCJUZWdlbGlqa2VydGlqZCBsaWV0IFZlcmNpbmdldG9yaXggemlqbiB0cm9lcGVuIGRlIGNpcmN1bXZhbGxhdGllbGluaWUgYWFudmFsbGVuLiBEZSBlZXJzdGUgZGFnIGhpZWxkZW4gZGUgUm9tZWluZW4gZ29lZCBzdGFuZCB0ZWdlbiBkZSBhYW52YWxsZW4gdmFuIGRlIEdhbGxpXFx4RUJycywgbWFhciBkZSBkYWFyIG9wdm9sZ2VuZGUgZGFnZW4gZ2luZ2VuIGJlcmdhZi4gWmUgd2VyZGVuIGdlZHdvbmdlbiBvbSBmb3J0ZW4gZW4ga2FtcGVuIGluIGRlIGNvbnRyYXZhbGxhdGllbGluaWUgb3AgdGUgZ2V2ZW4sIG1hYXIgR2FpdXMgcmVib25pdXMga29uIG1ldCBkZSBjYXZhbGVyaWUgdm9vcmtvbWVuIGRhdCBkZSBHYWxsaVxceEVCcnMgaGllciBnZWJydWlrIHZhbiBrb25kZW4gbWFrZW4uIE5hIG1hYW5kZW5sYW5nIHZlY2h0ZW4gYmVzbG9vdCBkZSBuZWVmIHZhbiBWZXJjaW5nZXRvcml4LCBWZXJjYXNzaXZlbGxhdW5vcywgb20gbWV0IDYwLjAwMCBtYW5zY2hhcHBlbiBkZSBSb21laW5zZSBzdGVsbGluZ2VuIGFhbiB0ZSB2YWxsZW4uIEhpaiBrb29zIGRlIHBsZWsgd2FhciBkZSBzdGVsbGluZ2VuIGhldCB6d2Frc3Qgd2FyZW4sIG5hbWVsaWprIHdhYXIgZGUgbGluaWVzIG9wIGRlemVsZmRlIHBsZWsgZWVuIHJpdmllciBrcnVpc3Rlbi4gVmVyY2luZ2V0b3JpeCBsaWV0IHZhbiBiaW5uZW51aXQgb3AgZGV6ZWxmZGUgcGxhYXRzIGVlbiBhYW52YWwgdWl0dm9lcmVuLCBtYWFyIENhZXNhciBoYWQgem92ZWVsIHZlcnRyb3V3ZW4gaW4gemlqbiB0cm9lcGVuIGRhdCBoaWogaGV0IGJldmVsIGdhZiBvbSBkZSBzdGVsbGluZ2VuIHRlIGJlaG91ZGVuLiBDYWVzYXIgbmFtIGVlbiBncm90ZSBnb2sgZG9vciBtZXQgNi4wMDAgbWFuc2NoYXBwZW4gZWVuIGxlZ2VyIHZhbiA2MC4wMDAgbWFuc2NoYXBwZW4gYWFuIHRlIHZhbGxlbiwgbWFhciBoaWogb3ZlcmRvbmRlcmRlIGRlIEdhbGxpXFx4RUJycyB6byBoYXJkIGRhdCB6ZSB6aWNoIGdlbm9vZHphYWt0IHZvZWxkZW4gb20gemljaCB0ZXJ1ZyB0ZSB0cmVra2VuLlwiXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiSGllcm1lZSB3YXMgaGV0IGJlbGFuZ3JpamtzdGUgZW4gbWVlc3QgYmVzbGlzc2VuZGUgZ2V2ZWNodCBnZXN0cmVkZW4gd2Fhcm5hIGRlIHRyb2VwZW4gaW4gQWxlc2lhIHppY2ggb3ZlcmdhdmVuIGRvb3IgaG9uZ2Vyc25vb2QgZW4gZ2VicmVrIGFhbiBtYW5zY2hhcHBlbi4gUm9tZSB3YXMgZGUgZ3JvdGUgb3Zlcndpbm5hYXIgYmlqIGRlemUgc2xhZyBkaWUgZGUgYmFzaXMgdm9ybWRlIHZvb3IgaGV0IHZlcmRlciB2ZXJvdmVyZW4gdmFuIEdhbGxpXFx4RUIgZW4gQnJpdHRhbm5pXFx4RUIuIERlIEdhbGxpc2NoZSBzb2xkYXRlbiB3ZXJkZW4gYWxzIHNsYXZlbiBtZWVnZW5vbWVuIGVuIHZlcmtvY2h0LiBWZXJjaW5nZXRvcml4IHdlcmQgdGV2ZW5zIGdldmFuZ2VuZ2Vub21lbiwgbWFhciBuaWV0IHZlcmtvY2h0IGFhbmdlemllbiBkZSBSb21laW5lbiBoZW0gd2lsZGVuIGhvdWRlbiBhbHMgdHJvZmVlLiBOYSBlZW4gcGFhciBqYWFyIHdlcmQgaGlqIHJpdHVlZWwgZ2V3dXJnZCB0aWpkZW5zIGVlbiB0cmlvbWZ0b2NodC4gRGUgZWxlbWVudGVuIGRpZSBkZSBSb21laW5lbiBkZSBvdmVyd2lubmluZyBoZWJiZW4gYmV6b3JnZCB6aWpuIHZvb3JhbCBiZXJ1c3Qgb3AgZGUgZ2Vlc3QuIENhZXNhciBoZWVmdCBzdGVlZHMgZGUgbW9yZWVsIGJpaiB6aWpuIHRyb2VwZW4gaG9vZyB3ZXRlbiB0ZSBob3VkZW4gaG9ld2VsIHplIHNvbXMgbmVkZXJsYWdlbiBsZWRlbi4gRGl0IHpvcmdkZSBlcnZvb3IgZGF0IGRlIHN0cmlqZGx1c3QgYmlqIGRlIHNvbGRhdGVuIGFhbndlemlnIGJsZWVmIGVuIHplIHN0ZWVkcyB2b2VsZGVuIGRhdCB6ZSBkZSBib3ZlbmhhbmQgaGFkZGVuIGluIGhldCBnZXZlY2h0LiBDYWVzYXIgbmFtIGhldCBtb3JlZWwgdmFuIHppam4gdHJvZXBlbiB6ZWVyIHNlcmlldXMgZW4gZ2luZyB6ZWxmcyB6byB2ZXIgZGF0IGhpaiBtZXQgaGVuIG1lZXN0cmVlZC4gSGV0IG1vcmVlbCB2YW4gemlqbiB0cm9lcGVuIGxhZyBhYW4gZGUgYmFzaXMgdmFuIGRlIGxhYXRzdGUgYmVsYW5ncmlqa2Ugc2xhZyBhYW5nZXppZW4gemUgaGV0IGdldmVjaHQgb25kZXJiZW1hbmQgbW9lc3RlbiBhYW5nYWFuLCBtYWFyIHVpdGVpbmRlbGlqayBoZWJiZW4gemUgZGUgb3Zlcndpbm5pbmcgYmVoYWFsZC4gRWVuIHR3ZWVkZSBwdW50IHdhYXJkb29yIHplIGRlemUgc2xhZyBoZWJiZW4gZ2V3b25uZW4sIGlzIGhldCBnb2VkIGRvb3JkYWNodGUgYWFudmFsc3BsYW4gdmFuIENhZXNhci4gWm8gaGFkIGhpaiBkZSBjb250cmF2YWxsYXRpZWxpbmllIHZvb3J6aWVuIHZvb3IgZWVuIGV2ZW50dWVsZSBhYW52YWwuIFdhcyBkZXplIGxpbmllIGVyIG5pZXQgZ2V3ZWVzdCwgaGFkZGVuIGRlIEdhbGxpXFx4RUJycyBkZXplIHZlbGRzbGFnIGdlZ2FyYW5kZWVyZCBnZXdvbm5lbiBkb29yIGh1biBncm90ZSBhYW50YWxsZW4uIENhZXNhciB3YXMgb29rIGRlZ2VuZSBkaWUgZWVuIHZlcnJhc3NpbmdzYWFudmFsIGhlZWZ0IGt1bm5lbiBhZndlbmRlbiBkb29yIGRlIHZyb3V3ZW4gZW4ga2luZGVyZW4gbmlldCB1aXQgQWxlc2lhIHRlIGxhdGVuIHZlcnRyZWtrZW4uIERlIEdhbGxpXFx4RUJycyB3aWxkZW4gaGVuIG5hbWVsaWprIGFscyBhZmxlaWRpbmcgZ2VicnVpa2VuIG9tIG9uZGVydHVzc2VuIGVlbiB2ZXJzdGV2aWdpbmcgYWFuIHRlIHZhbGxlbiwgbWFhciBkb29yIENhZXNhciB6aWpuIGJlc2x1aXQgb20gZGUgdnJvdXdlbiBlbiBraW5kZXJlbiBuaWV0IGJ1aXRlbiB0ZSBsYXRlbiBpcyBkZSBhYW52YWwgbmlldCBrdW5uZW4gZG9vcmdhYW4uIEhldCBlbmlnZSBuZWdhdGlldmUgcHVudCBkYXQgZ2VvcHRpbWFsaXNlZXJkIGhhZCBrdW5uZW4gd29yZGVuIGlzIGRlIGJvdXcgdmFuIGRlIGxpbmllcyBiaWogZGUgcml2aWVyZW4gYWFuZ2V6aWVuIGRpdCBoZXQgendha2tlIHB1bnQgd2FzIHZhbiBoZXQga2FtcC4gRGV6ZSBzbGFnIGlzIGVlbiBnb2VkIHZvb3JiZWVsZCB2YW4gZGUgUm9tZWluc2UgZGlzY2lwbGluZSBlbiBzdHJpamRsdXN0IGFhbmdlemllbiB6ZSBnZWVuIGVua2VsZSBncm90ZSBmb3V0IGhlYmJlbiBiZWdhYW4gZGllIHRvdCBlZW4gZXZlbnR1ZWVsIHZlcmxpZXMgaGFkIGt1bm5lbiBsaWpkZW4uXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJEZSBzbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlIHNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQgd2VyZCBnZXZvY2h0ZW4gdHVzc2VuIGRlIFJvbWVpbnNlIHRyb2VwZW4gdmFuIFZhcnVzIGVuIGRlIEdlcm1hYW5zZSB0cm9lcGVuIHZhbiBBcm1pbml1cy4gRGV6ZSBzbGFnIGxlaWRkZSBlZW4gemV2ZW5qYXJpZ2Ugb29ybG9nIGluLCBkaWUgdWl0ZWluZGVsaWprIHRvdCBnZXZvbGcgaGFkIGRhdCBkZSBSaWpuIHZvb3IgZWVuIHBlcmlvZGUgdmFuIDQwMCBqYWFyIHdlcmQgdmFzdGdlbGVnZCBhbHMgZ3JlbnMgdmFuIGhldCBSb21laW5zZSBSaWprLiBEZSBzbGFnIHZvbmQgcGxhYXRzIGluIDkgbi5DLiBuYWJpaiBLYWxrcmllc2UgZGF0IGluIER1aXRzbGFuZCBpcyBnZWxlZ2VuLiBEZSBzbGFnIHdhcyBlZW4gdmFuIGRlIGdyb290c3RlIG5lZGVybGFnZW4gdWl0IGRlIGdlc2NoaWVkZW5pcyB2YW4gaGV0IFJvbWVpbnNlIGxlZ2VyLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgW1wiRGUgUm9tZWluZW4gd2FyZW4gbmFtZWxpamsgaW4gZWVuIGxpc3QgZ2V0cmFwdCB2YW4gQXJtaW5pdXMsIGRlIGxlaWRlciB2YW4gZGUgR2VybWFhbnNlIHN0YW1tZW4uIEhpaiBsaWV0IGRvb3JnZXZlbiBkYXQgZXIgZWVuIG9wc3RhbmQgYWFuIGRlIGdhbmcgd2FzIHZhbiB2ZXJvdmVyZGUgR2VybWFhbnNlIHN0YW1tZW4uIEhpaiB3aWxkZSBkZSBSb21laW5lbiBuYW1lbGlqayBuYWFyIGVlbiB2b29yIGhlbiBvbmJla2VuZCBnZWJpZWQgbG9ra2VuIHpvZGF0IGRlIEdlcm1hbmVuIGVlbiBzdHJhdGVnaXNjaCB2b29yZGVlbCBoYWRkZW4uIERlIFJvbWVpbnNlIGFhbnZvZXJkZXIgVmFydXMgd2FzIG9wIGRhdCBtb21lbnQgbWV0IHppam4gbGVnZXIgb3Agd2VnIG5hYXIgaHVuIHdpbnRlcmthbXBlbiB2b29yIGRlIG9wa29tZW5kZSB3aW50ZXIuIEhpaiBnZWxvb2ZkZSBlY2h0ZXIgaGV0IG5lcGJlcmljaHQgdmFuIEFybWluaXVzIGVuIGhpaiB3ZWVrIHZhbiB6aWpuIHJvdXRlIGFmIGVuIGdpbmcgZG9vciBoZXQgVGV1dG9idXJnZXJ3b3VkIG5hYXIgZGUgem9nZXplZ2RlIG9wc3RhbmQuXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJXYXQgaGlqIGVjaHRlciBuaWV0IHdpc3QsIHdhcyBkYXQgaGlqIG9wZ2V3YWNodCB3ZXJkIGRvb3IgZWVuIGdyb290IEdlcm1hYW5zIGxlZ2VyIGRhdCB6aWNoIGluIGhldCBib3MgaGFkIHZlcnN0b3B0IG9tIGVlbiB2ZXJyYXNzaW5nc2FhbnZhbCB1aXQgdGUgdm9lcmVuLiBIZXQgVGV1dG9idXJnZXJ3b3VkIHdhcyBvbmRvb3JkcmluZ2JhYXIsIG1pc3RpZyBlbiB2b2NodGlnLCBpZXRzIHdhdCBkZSBSb21laW5lbiBuaWV0IGdld2VuZCB3YXJlbiBhYW5nZXppZW4gemlqIGFsdGlqZCBvcCB2bGFra2UgZW4gb3BlbiBzbGFndmVsZGVuIHN0cmVkZW4uIERvb3IgaGV0IGdlYnJlayBhYW4gb3ZlcnppY2h0IGVuIGRlIHdpbGxla2V1ciB2YW4gZGUgR2VybWFuZW4gaGFkZGVuIGRlIFJvbWVpbmVuIHZhbmFmIGhldCBiZWdpbiBlZW4gbmFkZWVsLiBaZSBrb25kZW4gbmFtZWxpamsgaHVuIGdlYnJ1aWtlbGlqa2UgdGFjdGlla2VuIG5pZXQgdWl0dm9lcmVuIGRvb3IgaGV0IGdlYnJlayBhYW4gb3JnYW5pc2F0aWUgZW4gcnVpbXRlLiBUb2VuIG5hIGVlbiBwYWFyIGRhZ2VuIGRlIFJvbWVpbnNlIG9uZGVyZ2FuZyBvbmFmd2VuZGJhYXIgbGVlaywgcGxlZWdkZSBWYXJ1cyB6ZWxmbW9vcmQuIEhpZXJtZWUgd2FzIGhldCBsb3QgdmFuIHppam4gdHJvZXBlbiBvb2sgYmV6ZWdlbGQgYWFuZ2V6aWVuIHplIGdlZW4gbGVpZGVyIG1lZXIgaGFkZGVuLiBWYW4gZGUgMThcXHhBMDAwMCBtYW5zY2hhcHBlbiBzbGFhZ2RlbiBzbGVjaHRzIGVua2VsZW4gZXJpbiBhYW4gZGUgdmlqYW5kIHRlIG9udHNuYXBwZW4gZW4gZGUgUm9tZWluc2Ugd2ludGVya2FtcGVuIGFhbiBkZSBSaWpuIHRlIGJlcmVpa2VuLlwiXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJkaXZcIiwgXCJ0ZXV0b2J1cmdlcndvdWQtaW1nXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJzcGFuXCIsIFwidGV1dG9idXJnZXJ3b3VkLWltZy10eHRcIiwgXCJVaXR6aWNodCB2YW4gaGV0IFRldXRvYnVyZ2Vyd291ZCBnZWJhc2VlcmQgb3AgdGVrc3RlbiB2YW4gZGUgZWVyc3RlIGVldXcgbi5DLlwiKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRGV6ZSBzbGFnIGhhZCB0b3QgZ2V2b2xnIGRhdCBlciBlZW4gZWluZGUga3dhbSBhYW4gZGUgUm9tZWluc2UgZXhwYW5zaWUgaW4gTm9vcmQtRXVyb3BhLiBPb2sgaGFkIGtlaXplciBBdWd1c3R1cyBiZXNsb3RlbiBkYXQgdmFuYWYgdG9lbiBkZSBSaWpuIGRlIHZhc3RlIGdyZW5zIHpvdSB3b3JkZW4gdmFuIGhldCBJbXBlcml1bSBSb21hbnVtLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJJbiBkZXplIHNsYWcgaXMgaGVlbCB3YXQgbWlzZ2Vsb3Blbiwgdm9vcmFsIG9wIGhldCB2bGFrIHZhbiBsZWlkZXJzY2hhcC4gR29lZCBsZWlkZXJzY2hhcCB2b3JtdCBkZSBiYXNpcyB2b29yIGVsa2Ugc2xhZyBhbHMgamUga2FucyB3aWx0IG1ha2VuIG9wIGRlIG92ZXJ3aW5uaW5nLiBWYXJ1cyB3YXMgaW4gZ2VlbiBlbmtlbCBvcHppY2h0IGVlbiBnb2VkZSBsZWlkZXIgaW4gZGV6ZSBzbGFnLiBIaWogbmFtIGlycmF0aW9uZWxlIGJlc2xpc3NpbmdlbiBlbiBkYWNodCBuaWV0IG5hIG92ZXIgZGUgZ2V2b2xnZW4gaGllcnZhbi4gSGV0IGJlZ29uIHJlZWRzIGJpaiBoZXQgbmlldCBuYWdhYW4gdmFuIGRlIGluZm9ybWF0aWUgZGllIGhpaiBoYWQgdmVya3JlZ2VuLiBIaWogdmVydHJvdXdkZSBibGluZCBvcCBkZSB2ZXJrcmVnZW4gaW5mb3JtYXRpZSBlbiBzdGlwcGVsZGUgbWV0ZWVuIGVlbiByb3V0ZSB1aXQuIEhpaiBoYWQgZWlnZW5saWprIGVlcnN0IGRlIHNpdHVhdGllIG1vZXRlbiBiZWtpamtlbiBlbiBldmVudHVlZWwgcnVpdGVycyB2b29yb3AgbW9ldGVuIHN0dXJlbiBvbSBuYSB0ZSBnYWFuIG9mIGVyIHdlbCBkZWdlbGlqayBlZW4gb3BzdGFuZCB3YXMuIEhpZXJtZWUgaGFkIGhpaiBoZXQgY29uZmxpY3Qga3VubmVuIHZlcm1pamRlbiBhYW5nZXppZW4gZGUgcnVpdGVycyBkYW4gaGFkZGVuIGdlemllbiBkYXQgZXIgZ2VlbiBvcHN0YW5kIHdhcy4gWmlqbiB0d2VlZGUgZ3JvdGUgZm91dCB3YXMgb20gaGV0IGxlZ2VyIHdpamQgZ2VzcHJlaWQgdGUgbGF0ZW4gbG9wZW4gaW4gZWVuIGdlYmllZCBkYXQgaGlqIG5pZXQga2VuZGUuIEhldCBsZWdlciB3YXMgbmFtZWxpamsgYWFuIGhldCBtYXJjaGVyZW4gbWV0IGVlbiBhZnN0YW5kIHZhbiAxNSBraWxvbWV0ZXIgdHVzc2VuIGRlIGVlcnN0ZSBlbiBkZSBsYWF0c3RlIHNvbGRhdGVuLiBIaWVyZG9vciBrb25kZW4gZGUgR2VybWFuZW4gbWV0IGh1biBncm90ZXJlIGFhbnRhbGxlbiBkZSBrbGVpbmUgZ3JvZXBqZXMgUm9tZWluZW4gem9uZGVyIGVuaWcgcHJvYmxlZW0gYWFudmFsbGVuLiBIYWQgaGlqIHppam4gbGVnZXIgY29tcGFjdCBsYXRlbiBtYXJjaGVyZW4sIGhhZGRlbiBkZSBSb21laW5lbiBub2cgZWVuIGhhYWxiYXJlIGthbnMgZ2VoYWQgb3AgZGUgb3Zlcndpbm5pbmcgaW4gaGV0IGdldmVjaHQgYWFuZ2V6aWVuIGRlIGxhYXRzdGUgdHJvZXBlbiBkYW4gc25lbCBrb25kZW4gYmlqc3ByaW5nZW4gb20gZGUgZWVyc3RlIHRlIGhlbHBlbi4gVGlqZGVucyBoZXQgZ2V2ZWNodCB6ZWxmIG5hbSBoaWogYWxsZWVuIG1hYXIgc2xlY2h0ZSBiZXNsaXNzaW5nZW4uIEhpaiBoYWQgd2VsIHZlZWwgdGVnZW5zbGFnIG1ldCBoZXQgd2VlciB3YWFyZG9vciBkZSBzY2h1dHRlcnMgaHVuIGJvZ2VuIG5pZXQga29uZGVuIGdlYnJ1aWtlbiBlbiBkZSBob3V0ZW4gc2NoaWxkZW4gdGUgendhYXIgd2VyZGVuIG9tIHRlIGRyYWdlbiBkb29yIGhldCBnZXdpY2h0IHZhbiBoZXQgd2F0ZXIgZGF0IGluIGhldCBob3V0IHdhcyBvcGdlc2xvcnB0LiBIaWogZ2FmIGhldCBvcmRlciBvbSBkb29yIHRlIG1hcmNoZXJlbiBuYWFyIGVlbiBvcGVuIHBsZWssIG1hYXIgYWFuZ2V6aWVuIGhpaiBoZXQgYm9zIG5pZXQga2VuZGUgd2lzdCBoaWogbmlldCBkYXQgZXIgZ2VlbiBvcGVuIHBsZWtrZW4gaW4gaHVuIG5hYmlqaGVpZCB3YXJlbi4gRGl0IHdhcyBlZW4gZm91dCBvcmRlciBhYW5nZXppZW4gaGlqIGRlIG9tZ2V2aW5nIG5pZXQga2VuZGUgZW4gZHVzIG9vayBuaWV0IHdpc3Qgd2FhciBlciB6aWNoIG5vZyBHZXJtYW5lbiBiZXZvbmRlbi4gSGlqIGhhZCB6aWpuIHBvc2l0aWUgbW9ldGVuIHZlcmRlZGlnZW4gb20gem8gZWVuIGJhc2lzIHByb2JlcmVuIG9wIHRlIHJpY2h0ZW4gYWFuZ2V6aWVuIGhldCBsZWdlciBoZXQga3dldHNiYWFyc3QgaXMgd2FubmVlciB6ZSB6aWNoIGFhbiBoZXQgdmVycGxhYXRzZW4gemlqbi4gVmFydXMgZ2FmIG9vayBnZWVuIHN0ZXVuIGFhbiB6aWpuIG1hbnNjaGFwcGVuIHdhYXJkb29yIGRlIHN0cmlqZGx1c3Qgd2VnIGdpbmcgZW4gdmVsZW4gaGV0IG51dCB2YW4gZGUgc3RyaWpkIG5pZXQgbWVlciB6YWdlbi4gRGUgTGVnYXR1cywgTnVtb25pdXMgVmFsYSwgdmFuIGVlbiB2YW4gemlqbiBkcmllIGxlZ2lvZW5lbiB3YXMgZWVuIHZhbiBkaWUgcGVyc29uZW4gZGllIGhldCBsZWlkZXJzY2hhcCB2YW4gVmFydXMgaW4gdHdpamZlbCB0cm9rIGVuIGRlIHZlcnp3YWt0ZSBtb3JlZWwgYWFudm9lbGRlLiBIaWogd2FzIGRhbiBvb2sgZGVnZW5lIGRpZSBzYW1lbiBtZXQgZGUgcnVpdGVycyB2bHVjaHR0ZSBlbiB6byBkZSB0cm9lcGVuIGluIGRlIHN0ZWVrIGxpZXQuIE1hYXIgdmVyIGt3YW0gaGlqIG5pZXQgYWFuZ2V6aWVuIGhpaiBpbiBoZXQgYm9zIHplbGYgbm9nIHdlcmQgYWZnZW1hYWt0IGRvb3IgZGUgcnVpdGVycyB2YW4gZGUgR2VybWFuZW4uIFpvbmRlciBkZSBzdGV1biB2YW4gZGUgcnVpdGVycyB3YXMgaGV0IGxlZ2VyIHZlcnp3YWt0IGVuIGR1cyBncmVwZW4gZGUgR2VybWFuZW4gaHVuIGthbnMuIFplIGJlZ29ubmVuIGJpam5hIGllZGVyZWVuIGdlbmFkZWxvb3MgYWYgdGUgc2xhY2h0ZW4uIFZhcnVzIHphZyBvcCBkYXQgb2dlbmJsaWsgaW4gZGF0IGhpaiB6d2FhciBoYWQgZ2VmYWFsZCBlbiBwbGVlZ2RlIGRhYXJvbSB6ZWxmbW9vcmQuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJWZXJnZWxpamtpbmdcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiSGV0IGlzIHplZXIgbW9laWxpamsgb20gaGV0IGh1aWRpZ2UgbGVnZXIgdGUgdmVyZ2VsaWprZW4gbWV0IGhldCBSb21laW5zZSBsZWdlciBhYW5nZXppZW4gZXIgemljaCBlZW4gemVlciBncm90ZSBvbnR3aWtrZWxpbmcgaGVlZnQgcGxhYXRzZ2V2b25kZW4gb3AgaGV0IGdlYmllZCB2YW4gd2V0ZW5zY2hhcHBlbiBlbiB0ZWNobm9sb2dpZS4gVnJvZWdlciBzdHJlZWQgbWVuIG1ldCBlZW4gendhYXJkIGVuIGVlbiBzY2hpbGQgZW4gaGFkIGplIGFscyBzdGV1biBlbmtlbCBydWl0ZXJzLiBOdSB3b3JkdCBlciBnZXN0cmVkZW4gdmFub3AgZWVuIHplZXIgZ3JvdGUgYWZzdGFuZCBhYW5nZXppZW4gbWVuIG1hY2hpbmVnZXdlcmVuLCBwaXN0b2xlbiwgbGFuZ2VhZnN0YW5kc3Jha2tldHRlbixcXHUyMDI2IGdlYnJ1aWt0LiBFciB6aWpuIG51IG9vayB2ZWVsIG5pZXV3ZSBvbmRlcnN0ZXVuaW5nc21vZ2VsaWpraGVkZW4gem9hbHMgdGFua3MsIHNjaGVwZW4gZW4gdmxpZWd0dWlnZW4gd2FhcmRvb3IgZXIgZWVuIGhlbGVib2VsIG5pZXV3ZSB0YWN0aWVrZW4gbW9nZWxpamsgemlqbi4gRG9vciBhbCBkZXplIHZlcmFuZGVyaW5nZW4gaGVlZnQgbWVuIGRlIHRhY3RpZWtlbiBkaWUgbWVuIGdlYnJ1aWt0IG9vayBtb2V0ZW4gdmVyYW5kZXJlbi4gVnJvZWdlciBrb24gbWVuIGluIGVlbiBtYW4gb3AgbWFuIGdldmVjaHQgdGFjdGlla2VuIGdlYnJ1aWtlbiBkaWUgemVlciBlZmZlY3RpZWYgd2FyZW4gb3Aga29ydGUgYWZzdGFuZCBlbiBlZW4ga2xlaW4gc2xhZ3ZlbGQuIEFscyBtZW4gZGV6ZSB0ZWdlbndvb3JkaWcgem91IHVpdHZvZXJlbiwgem91ZGVuIGRlIHNvbGRhdGVuIHRlciBwbGFhdHNlIHdvcmRlbiBhZmdlbWFha3QuIERlIGhvZXZlZWxoZWlkIHNvbGRhdGVuIGRpZSBkYWFkd2Vya2VsaWprIHZlY2h0ZW4gaXMgb29rIHN0ZXJrIGFmZ2Vub21lbiBpbiB2ZXJnZWxpamtpbmcgbWV0IGhldCBSb21laW5zZSBsZWdlci4gVnJvZWdlciBzdHJlZWQgbWVuIG1ldCBsZWdlcnMgdmFuIHplZXIgZ3JvdGUgYWFudGFsbGVuLiBEZXplIGFhbnRhbGxlbiBrdW5uZW4gd2Ugb25zIHRlZ2Vud29vcmRpZyBuaWV0IG1lZXIgdm9vcnN0ZWxsZW4uIEVyIGdlYmV1cnQgbnUgdmVlbCBtZWVyIGFjaHRlciBkZSBzY2hlcm1lbiBvbSBkZSBzb2xkYXRlbiBkaWUgbW9ldGVuIHZlY2h0ZW4gdGUgaGVscGVuLiBabyB3b3JkdCBlciB2aWEgc2F0ZWxsaWV0ZW4gb2YgZHJvbmVzIGluZm9ybWF0aWUgdmVyemFtZWxkIG92ZXIgZGUgb21nZXZpbmcgd2FhcmluIGRlIHNvbGRhdGVuIHppY2ggYmV2aW5kZW4gZW4gZXZlbnR1ZWVsIHdhYXIgaHVuIHZpamFuZGVuIHNjaHVpbGVuLiBFZW4gc29sZGFhdCBoZWVmdCBudSBvb2sgZGUgbW9nZWxpamtoZWlkIG9tLCBtaXRzIGRlIGdvZWRrZXVyaW5nIHZhbiB6aWpuIGFhbnZvZXJkZXIsIGVlbiBsdWNodGFhbnZhbCBpbiB0ZSByb2VwZW4uIERlIGh1aWRpZ2UgdGFjdGlla2VuIGRyYWFpZW4gb29rIG5pZXQgbWVlciBhbGxlZW4gbWFhciByb25kIGhldCBtaWxpdGFpcmUgYXNwZWN0LCBtYWFyIG9vayByb25kIG9uZGVyIGFuZGVyZSBoZXQgZWNvbm9taXNjaGUuIEFscyBtZW4gemlqbiB2aWphbmQgZWNvbm9taXNjaCBrYW4gdmVyendha2tlbiB6YWwgZGV6ZSBvb2sgbWluZGVyIHdlZXJiYWFyIHppam4uXCIpXSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX0xvY2F0aW9uVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblxudmFyIF9QYXRoVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xuXG52YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKTtcblxudmFyIF9ET01VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG52YXIgZ2V0SGlzdG9yeVN0YXRlID0gZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDExIHNvbWV0aW1lcyB0aHJvd3Mgd2hlbiBhY2Nlc3Npbmcgd2luZG93Lmhpc3Rvcnkuc3RhdGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpbmNsdWRpbmdcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxuICovXG52YXIgY3JlYXRlQnJvd3Nlckhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeSgpIHtcbiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoX0RPTVV0aWxzLmNhblVzZURPTSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpO1xuXG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Vc2VIaXN0b3J5ID0gKDAsIF9ET01VdGlscy5zdXBwb3J0c0hpc3RvcnkpKCk7XG4gIHZhciBuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lciA9ICEoMCwgX0RPTVV0aWxzLnN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UpKCk7XG5cbiAgdmFyIF9wcm9wcyRmb3JjZVJlZnJlc2ggPSBwcm9wcy5mb3JjZVJlZnJlc2gsXG4gICAgICBmb3JjZVJlZnJlc2ggPSBfcHJvcHMkZm9yY2VSZWZyZXNoID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9wcm9wcyRmb3JjZVJlZnJlc2gsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBwcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdW5kZWZpbmVkID8gX0RPTVV0aWxzLmdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBwcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB1bmRlZmluZWQgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcblxuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/ICgwLCBfUGF0aFV0aWxzLnN0cmlwVHJhaWxpbmdTbGFzaCkoKDAsIF9QYXRoVXRpbHMuYWRkTGVhZGluZ1NsYXNoKShwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG5cbiAgdmFyIGdldERPTUxvY2F0aW9uID0gZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgdmFyIF9yZWYgPSBoaXN0b3J5U3RhdGUgfHwge30sXG4gICAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cbiAgICB2YXIgX3dpbmRvdyRsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgICAgcGF0aG5hbWUgPSBfd2luZG93JGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2ggPSBfd2luZG93JGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzaCA9IF93aW5kb3ckbG9jYXRpb24uaGFzaDtcblxuXG4gICAgdmFyIHBhdGggPSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG5cbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSAoMCwgX1BhdGhVdGlscy5zdHJpcFByZWZpeCkocGF0aCwgYmFzZW5hbWUpO1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCAoMCwgX1BhdGhVdGlscy5wYXJzZVBhdGgpKHBhdGgpLCB7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBrZXk6IGtleVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVLZXkgPSBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9O1xuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9ICgwLCBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyLmRlZmF1bHQpKCk7XG5cbiAgdmFyIHNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9O1xuXG4gIHZhciBoYW5kbGVQb3BTdGF0ZSA9IGZ1bmN0aW9uIGhhbmRsZVBvcFN0YXRlKGV2ZW50KSB7XG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cbiAgICBpZiAoKDAsIF9ET01VdGlscy5pc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KShldmVudCkpIHJldHVybjtcblxuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihldmVudC5zdGF0ZSkpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVIYXNoQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpKTtcbiAgfTtcblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG5cbiAgdmFyIGhhbmRsZVBvcCA9IGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuXG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXZlcnRQb3AgPSBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuXG4gICAgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBrZXlzIHdlJ3ZlIHNlZW4gaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgLy8gSW5zdGVhZCwgd2UganVzdCBkZWZhdWx0IHRvIDAgZm9yIGtleXMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsS2V5cy5pbmRleE9mKHRvTG9jYXRpb24ua2V5KTtcblxuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG5cbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGZyb21Mb2NhdGlvbi5rZXkpO1xuXG4gICAgaWYgKGZyb21JbmRleCA9PT0gLTEpIGZyb21JbmRleCA9IDA7XG5cbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpO1xuICB2YXIgYWxsS2V5cyA9IFtpbml0aWFsTG9jYXRpb24ua2V5XTtcblxuICAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2VuYW1lICsgKDAsIF9QYXRoVXRpbHMuY3JlYXRlUGF0aCkobG9jYXRpb24pO1xuICB9O1xuXG4gIHZhciBwdXNoID0gZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gKDAsIF9Mb2NhdGlvblV0aWxzLmNyZWF0ZUxvY2F0aW9uKShwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICB2YXIgbmV4dEtleXMgPSBhbGxLZXlzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XG5cbiAgICAgICAgICBuZXh0S2V5cy5wdXNoKGxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgYWxsS2V5cyA9IG5leHRLZXlzO1xuXG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gKDAsIF9Mb2NhdGlvblV0aWxzLmNyZWF0ZUxvY2F0aW9uKShwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuXG4gICAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbEtleXNbcHJldkluZGV4XSA9IGxvY2F0aW9uLmtleTtcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnbyA9IGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9O1xuXG4gIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgcmV0dXJuIGdvKC0xKTtcbiAgfTtcblxuICB2YXIgZ29Gb3J3YXJkID0gZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIHJldHVybiBnbygxKTtcbiAgfTtcblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgdmFyIGNoZWNrRE9NTGlzdGVuZXJzID0gZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEpIHtcbiAgICAgICgwLCBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcikod2luZG93LCBQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgKDAsIF9ET01VdGlscy5hZGRFdmVudExpc3RlbmVyKSh3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICAoMCwgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIpKHdpbmRvdywgUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpICgwLCBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcikod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgdmFyIGJsb2NrID0gZnVuY3Rpb24gYmxvY2soKSB7XG4gICAgdmFyIHByb21wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuXG4gIHJldHVybiBoaXN0b3J5O1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlQnJvd3Nlckhpc3Rvcnk7XG5cbi8qKiovIH0pLFxuLyogMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuLyoqKi8gfSksXG4vKiAzMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2luZmVybm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2luZmVybm8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5mZXJubyk7XG5cbnZhciBfaW5mZXJub1JvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXG52YXIgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfY3JlYXRlQnJvd3Nlckhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQnJvd3Nlckhpc3RvcnkpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblxudmFyIF9pbmxlaWRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxudmFyIF9vbmRlcnZlcmRlbGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG52YXIgX2Jld2FwZW5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF92ZWxkc2xhZ2VuID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cbnZhciBfYmVzbHVpdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXG52YXIgX2Jyb25uZW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGJyb3dzZXJIaXN0b3J5ID0gKDAsIF9jcmVhdGVCcm93c2VySGlzdG9yeTIuZGVmYXVsdCkoKTtcblxuZnVuY3Rpb24gQXBwKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcblxuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnZGl2JywgJ3BhZ2UnLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnaGVhZGVyJywgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2gxJywgbnVsbCwgJ0hldCBSb21laW5zZSBMZWdlcicpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICduYXYnLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICd1bCcsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdsaScsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLkxpbmssIG51bGwsIG51bGwsIHtcbiAgICAndG8nOiAnL29jbGF0JyxcbiAgICAnYWN0aXZlQ2xhc3NOYW1lJzogJ2xpbmtBY3RpdmVDbGFzcycsXG4gICAgY2hpbGRyZW46ICdJbmxlaWRpbmcnXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbGknLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5MaW5rLCBudWxsLCBudWxsLCB7XG4gICAgJ3RvJzogJy9vY2xhdC9vbmRlcnZlcmRlbGluZycsXG4gICAgJ2FjdGl2ZUNsYXNzTmFtZSc6ICdsaW5rQWN0aXZlQ2xhc3MnLFxuICAgIGNoaWxkcmVuOiAnb25kZXJ2ZXJkZWxpbmcnXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbGknLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5MaW5rLCBudWxsLCBudWxsLCB7XG4gICAgJ3RvJzogJy9vY2xhdC9iZXdhcGVuaW5nJyxcbiAgICAnYWN0aXZlQ2xhc3NOYW1lJzogJ2xpbmtBY3RpdmVDbGFzcycsXG4gICAgY2hpbGRyZW46ICdiZXdhcGVuaW5nJ1xuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2xpJywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuTGluaywgbnVsbCwgbnVsbCwge1xuICAgICd0byc6ICcvb2NsYXQvdmVsZHNsYWdlbicsXG4gICAgJ2FjdGl2ZUNsYXNzTmFtZSc6ICdsaW5rQWN0aXZlQ2xhc3MnLFxuICAgIGNoaWxkcmVuOiAndmVsZHNsYWdlbidcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdsaScsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLkxpbmssIG51bGwsIG51bGwsIHtcbiAgICAndG8nOiAnL29jbGF0L2Jlc2x1aXQnLFxuICAgICdhY3RpdmVDbGFzc05hbWUnOiAnbGlua0FjdGl2ZUNsYXNzJyxcbiAgICBjaGlsZHJlbjogJ2Jlc2x1aXQnXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbGknLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5MaW5rLCBudWxsLCBudWxsLCB7XG4gICAgJ3RvJzogJy9vY2xhdC9icm9ubmVuJyxcbiAgICAnYWN0aXZlQ2xhc3NOYW1lJzogJ2xpbmtBY3RpdmVDbGFzcycsXG4gICAgY2hpbGRyZW46ICdicm9ubmVuJ1xuICB9KSldKSldKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnc2VjdGlvbicsICdjb250ZW50JywgY2hpbGRyZW4pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdmb290ZXInLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnc3BhbicsIG51bGwsICdtZWkgMjAxNycpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdzcGFuJywgbnVsbCwgJ0tvc2ggNkxXaWInKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnc3BhbicsIG51bGwsICdBcXVpbGEgWmllZGlucyAoNiksIFRvYmlhcyBBbGV4YW5kZXIgKDEpJyldKV0pO1xufVxuXG5mdW5jdGlvbiBOb01hdGNoKF9yZWYyKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYyLmNoaWxkcmVuO1xuXG4gIHJldHVybiAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdkaXYnLCBudWxsLCAnSGllciBiZW50IHUgdWl0IGhldCBSb21laW5zZSByaWprJyk7XG59XG5cbnZhciByb3V0ZXMgPSAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZXIsIG51bGwsIG51bGwsIHtcbiAgJ2hpc3RvcnknOiBicm93c2VySGlzdG9yeSxcbiAgY2hpbGRyZW46ICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgJ3BhdGgnOiAnL29jbGF0JyxcbiAgICAnY29tcG9uZW50JzogQXBwLFxuICAgIGNoaWxkcmVuOiBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuSW5kZXhSb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ2NvbXBvbmVudCc6IF9pbmxlaWRpbmcuSW5sZWlkaW5nXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICcvb2NsYXQnLFxuICAgICAgJ2NvbXBvbmVudCc6IF9pbmxlaWRpbmcuSW5sZWlkaW5nXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICcvb2NsYXQvb25kZXJ2ZXJkZWxpbmcnLFxuICAgICAgJ2NvbXBvbmVudCc6IF9vbmRlcnZlcmRlbGluZy5PbmRlcnZlcmRlbGluZ1xuICAgIH0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ3BhdGgnOiAnL29jbGF0L2Jld2FwZW5pbmcnLFxuICAgICAgJ2NvbXBvbmVudCc6IF9iZXdhcGVuaW5nLkJld2FwZW5pbmdcbiAgICB9KSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuUm91dGUsIG51bGwsIG51bGwsIHtcbiAgICAgICdwYXRoJzogJy9vY2xhdC92ZWxkc2xhZ2VuJyxcbiAgICAgICdjb21wb25lbnQnOiBfdmVsZHNsYWdlbi5WZWxkc2xhZ2VuXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICcvb2NsYXQvYmVzbHVpdCcsXG4gICAgICAnY29tcG9uZW50JzogX2Jlc2x1aXQuQmVzbHVpdFxuICAgIH0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5Sb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ3BhdGgnOiAnL29jbGF0L2Jyb25uZW4nLFxuICAgICAgJ2NvbXBvbmVudCc6IF9icm9ubmVuLkJyb25uZW5cbiAgICB9KSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuUm91dGUsIG51bGwsIG51bGwsIHtcbiAgICAgICdwYXRoJzogJyonLFxuICAgICAgJ2NvbXBvbmVudCc6IE5vTWF0Y2hcbiAgICB9KV1cbiAgfSlcbn0pO1xuXG5faW5mZXJubzIuZGVmYXVsdC5yZW5kZXIocm91dGVzLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpO1xuXG4vKioqLyB9KSxcbi8qIDMyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgY2FuVXNlRE9NID0gZXhwb3J0cy5jYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG52YXIgYWRkRXZlbnRMaXN0ZW5lciA9IGV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIgPyBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxudmFyIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSBleHBvcnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICByZXR1cm4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyID8gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpIDogbm9kZS5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbn07XG5cbnZhciBnZXRDb25maXJtYXRpb24gPSBleHBvcnRzLmdldENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICByZXR1cm4gY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpO1xufTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuICogY2hhbmdlZCB0byBhdm9pZCBmYWxzZSBuZWdhdGl2ZXMgZm9yIFdpbmRvd3MgUGhvbmVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yb3V0ZXIvaXNzdWVzLzU4NlxuICovXG52YXIgc3VwcG9ydHNIaXN0b3J5ID0gZXhwb3J0cy5zdXBwb3J0c0hpc3RvcnkgPSBmdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJyb3dzZXIgZmlyZXMgcG9wc3RhdGUgb24gaGFzaCBjaGFuZ2UuXG4gKiBJRTEwIGFuZCBJRTExIGRvIG5vdC5cbiAqL1xudmFyIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBleHBvcnRzLnN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG52YXIgc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBleHBvcnRzLnN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoID0gZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cbiAqIEFjY291bnRzIGZvciB0aGUgZmFjdCB0aGF0IENocm9tZSBvbiBpT1MgZmlyZXMgcmVhbCBwb3BzdGF0ZSBldmVudHNcbiAqIGNvbnRhaW5pbmcgdW5kZWZpbmVkIHN0YXRlIHdoZW4gcHJlc3NpbmcgdGhlIGJhY2sgYnV0dG9uLlxuICovXG52YXIgaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCA9IGV4cG9ydHMuaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCA9IGZ1bmN0aW9uIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnN0YXRlID09PSB1bmRlZmluZWQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDcmlPUycpID09PSAtMTtcbn07XG5cbi8qKiovIH0pLFxuLyogMzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubG9jYXRpb25zQXJlRXF1YWwgPSBleHBvcnRzLmNyZWF0ZUxvY2F0aW9uID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3Jlc29sdmVQYXRobmFtZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuXG52YXIgX3Jlc29sdmVQYXRobmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXNvbHZlUGF0aG5hbWUpO1xuXG52YXIgX3ZhbHVlRXF1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblxudmFyIF92YWx1ZUVxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbHVlRXF1YWwpO1xuXG52YXIgX1BhdGhVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY3JlYXRlTG9jYXRpb24gPSBleHBvcnRzLmNyZWF0ZUxvY2F0aW9uID0gZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGtleSwgY3VycmVudExvY2F0aW9uKSB7XG4gIHZhciBsb2NhdGlvbiA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIC8vIFR3by1hcmcgZm9ybTogcHVzaChwYXRoLCBzdGF0ZSlcbiAgICBsb2NhdGlvbiA9ICgwLCBfUGF0aFV0aWxzLnBhcnNlUGF0aCkocGF0aCk7XG4gICAgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBPbmUtYXJnIGZvcm06IHB1c2gobG9jYXRpb24pXG4gICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgcGF0aCk7XG5cbiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24ucGF0aG5hbWUgPSAnJztcblxuICAgIGlmIChsb2NhdGlvbi5zZWFyY2gpIHtcbiAgICAgIGlmIChsb2NhdGlvbi5zZWFyY2guY2hhckF0KDApICE9PSAnPycpIGxvY2F0aW9uLnNlYXJjaCA9ICc/JyArIGxvY2F0aW9uLnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24uc2VhcmNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgIGlmIChsb2NhdGlvbi5oYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBsb2NhdGlvbi5oYXNoID0gJyMnICsgbG9jYXRpb24uaGFzaDtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24uaGFzaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZSAhPT0gdW5kZWZpbmVkICYmIGxvY2F0aW9uLnN0YXRlID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH1cblxuICBsb2NhdGlvbi5rZXkgPSBrZXk7XG5cbiAgaWYgKGN1cnJlbnRMb2NhdGlvbikge1xuICAgIC8vIFJlc29sdmUgaW5jb21wbGV0ZS9yZWxhdGl2ZSBwYXRobmFtZSByZWxhdGl2ZSB0byBjdXJyZW50IGxvY2F0aW9uLlxuICAgIGlmICghbG9jYXRpb24ucGF0aG5hbWUpIHtcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gY3VycmVudExvY2F0aW9uLnBhdGhuYW1lO1xuICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lID0gKDAsIF9yZXNvbHZlUGF0aG5hbWUyLmRlZmF1bHQpKGxvY2F0aW9uLnBhdGhuYW1lLCBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBsb2NhdGlvbjtcbn07XG5cbnZhciBsb2NhdGlvbnNBcmVFcXVhbCA9IGV4cG9ydHMubG9jYXRpb25zQXJlRXF1YWwgPSBmdW5jdGlvbiBsb2NhdGlvbnNBcmVFcXVhbChhLCBiKSB7XG4gIHJldHVybiBhLnBhdGhuYW1lID09PSBiLnBhdGhuYW1lICYmIGEuc2VhcmNoID09PSBiLnNlYXJjaCAmJiBhLmhhc2ggPT09IGIuaGFzaCAmJiBhLmtleSA9PT0gYi5rZXkgJiYgKDAsIF92YWx1ZUVxdWFsMi5kZWZhdWx0KShhLnN0YXRlLCBiLnN0YXRlKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyID0gZnVuY3Rpb24gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKSB7XG4gIHZhciBwcm9tcHQgPSBudWxsO1xuXG4gIHZhciBzZXRQcm9tcHQgPSBmdW5jdGlvbiBzZXRQcm9tcHQobmV4dFByb21wdCkge1xuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkocHJvbXB0ID09IG51bGwsICdBIGhpc3Rvcnkgc3VwcG9ydHMgb25seSBvbmUgcHJvbXB0IGF0IGEgdGltZScpO1xuXG4gICAgcHJvbXB0ID0gbmV4dFByb21wdDtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocHJvbXB0ID09PSBuZXh0UHJvbXB0KSBwcm9tcHQgPSBudWxsO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNvbmZpcm1UcmFuc2l0aW9uVG8gPSBmdW5jdGlvbiBjb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgLy8gVE9ETzogSWYgYW5vdGhlciB0cmFuc2l0aW9uIHN0YXJ0cyB3aGlsZSB3ZSdyZSBzdGlsbCBjb25maXJtaW5nXG4gICAgLy8gdGhlIHByZXZpb3VzIG9uZSwgd2UgbWF5IGVuZCB1cCBpbiBhIHdlaXJkIHN0YXRlLiBGaWd1cmUgb3V0IHRoZVxuICAgIC8vIGJlc3Qgd2F5IHRvIGhhbmRsZSB0aGlzLlxuICAgIGlmIChwcm9tcHQgIT0gbnVsbCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHR5cGVvZiBwcm9tcHQgPT09ICdmdW5jdGlvbicgPyBwcm9tcHQobG9jYXRpb24sIGFjdGlvbikgOiBwcm9tcHQ7XG5cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodHlwZW9mIGdldFVzZXJDb25maXJtYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBnZXRVc2VyQ29uZmlybWF0aW9uKHJlc3VsdCwgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoZmFsc2UsICdBIGhpc3RvcnkgbmVlZHMgYSBnZXRVc2VyQ29uZmlybWF0aW9uIGZ1bmN0aW9uIGluIG9yZGVyIHRvIHVzZSBhIHByb21wdCBtZXNzYWdlJyk7XG5cbiAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGZyb20gYSB0cmFuc2l0aW9uIGhvb2sgdG8gY2FuY2VsIHRoZSB0cmFuc2l0aW9uLlxuICAgICAgICBjYWxsYmFjayhyZXN1bHQgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICB2YXIgYXBwZW5kTGlzdGVuZXIgPSBmdW5jdGlvbiBhcHBlbmRMaXN0ZW5lcihmbikge1xuICAgIHZhciBpc0FjdGl2ZSA9IHRydWU7XG5cbiAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcigpIHtcbiAgICAgIGlmIChpc0FjdGl2ZSkgZm4uYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgbm90aWZ5TGlzdGVuZXJzID0gZnVuY3Rpb24gbm90aWZ5TGlzdGVuZXJzKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRQcm9tcHQ6IHNldFByb21wdCxcbiAgICBjb25maXJtVHJhbnNpdGlvblRvOiBjb25maXJtVHJhbnNpdGlvblRvLFxuICAgIGFwcGVuZExpc3RlbmVyOiBhcHBlbmRMaXN0ZW5lcixcbiAgICBub3RpZnlMaXN0ZW5lcnM6IG5vdGlmeUxpc3RlbmVyc1xuICB9O1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXI7XG5cbi8qKiovIH0pLFxuLyogMzUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyBNYWtlIHN1cmUgdSB1c2UgRU1QVFlfT0JKIGZyb20gJ2luZmVybm8nLCBvdGhlcndpc2UgaXQnbGwgYmUgYSBkaWZmZXJlbnQgcmVmZXJlbmNlXHJcbnZhciBpbmZlcm5vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBub09wID0gaW5mZXJub19zaGFyZWRfMS5FUlJPUl9NU0c7XHJcbmlmIChmYWxzZSkge1xyXG4gICAgbm9PcCA9ICdJbmZlcm5vIEVycm9yOiBDYW4gb25seSB1cGRhdGUgYSBtb3VudGVkIG9yIG1vdW50aW5nIGNvbXBvbmVudC4gVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgc2V0U3RhdGUoKSBvciBmb3JjZVVwZGF0ZSgpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuIFRoaXMgaXMgYSBuby1vcC4nO1xyXG59XHJcbnZhciBjb21wb25lbnRDYWxsYmFja1F1ZXVlID0gbmV3IE1hcCgpO1xyXG4vLyB3aGVuIGEgY29tcG9uZW50cyByb290IFZOb2RlIGlzIGFsc28gYSBjb21wb25lbnQsIHdlIGNhbiBydW4gaW50byBpc3N1ZXNcclxuLy8gdGhpcyB3aWxsIHJlY3Vyc2l2ZWx5IGxvb2sgZm9yIHZOb2RlLnBhcmVudE5vZGUgaWYgdGhlIFZOb2RlIGlzIGEgY29tcG9uZW50XHJcbmZ1bmN0aW9uIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2Rlcyh2Tm9kZSwgZG9tKSB7XHJcbiAgICBpZiAodk5vZGUuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB2YXIgcGFyZW50Vk5vZGUgPSB2Tm9kZS5wYXJlbnRWTm9kZTtcclxuICAgICAgICBpZiAocGFyZW50Vk5vZGUpIHtcclxuICAgICAgICAgICAgcGFyZW50Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgICAgICB1cGRhdGVQYXJlbnRDb21wb25lbnRWTm9kZXMocGFyZW50Vk5vZGUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuZnVuY3Rpb24gYWRkVG9RdWV1ZShjb21wb25lbnQsIGZvcmNlLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIHF1ZXVlID0gY29tcG9uZW50Q2FsbGJhY2tRdWV1ZS5nZXQoY29tcG9uZW50KTtcclxuICAgIGlmIChxdWV1ZSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgcXVldWUgPSBbXTtcclxuICAgICAgICBjb21wb25lbnRDYWxsYmFja1F1ZXVlLnNldChjb21wb25lbnQsIHF1ZXVlKTtcclxuICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudENhbGxiYWNrUXVldWUuZGVsZXRlKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBseVN0YXRlKGNvbXBvbmVudCwgZm9yY2UsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBxdWV1ZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldLmNhbGwoY29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIHF1ZXVlLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlU3RhdGVDaGFuZ2VzKGNvbXBvbmVudCwgbmV3U3RhdGUsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKG5ld1N0YXRlKSkge1xyXG4gICAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUoY29tcG9uZW50LnN0YXRlLCBjb21wb25lbnQucHJvcHMsIGNvbXBvbmVudC5jb250ZXh0KTtcclxuICAgIH1cclxuICAgIHZhciBwZW5kaW5nID0gY29tcG9uZW50Ll9wZW5kaW5nU3RhdGU7XHJcbiAgICBpZiAocGVuZGluZyA9PT0gbnVsbCkge1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gcGVuZGluZyA9IG5ld1N0YXRlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3RhdGVLZXkgaW4gbmV3U3RhdGUpIHtcclxuICAgICAgICAgICAgcGVuZGluZ1tzdGF0ZUtleV0gPSBuZXdTdGF0ZVtzdGF0ZUtleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyICYmICFjb21wb25lbnQuX3BlbmRpbmdTZXRTdGF0ZSAmJiAhY29tcG9uZW50Ll9ibG9ja1JlbmRlcikge1xyXG4gICAgICAgIGlmICghY29tcG9uZW50Ll91cGRhdGluZykge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBseVN0YXRlKGNvbXBvbmVudCwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYWRkVG9RdWV1ZShjb21wb25lbnQsIGZhbHNlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHN0YXRlID0gY29tcG9uZW50LnN0YXRlO1xyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuc3RhdGUgPSBwZW5kaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHBlbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBwZW5kaW5nW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSAmJiBjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGNhbGxiYWNrLmJpbmQoY29tcG9uZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmb3JjZSwgY2FsbGJhY2spIHtcclxuICAgIGlmIChjb21wb25lbnQuX3VubW91bnRlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChmb3JjZSB8fCAhY29tcG9uZW50Ll9ibG9ja1JlbmRlcikge1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHBlbmRpbmdTdGF0ZSA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgICAgIHZhciBwcmV2U3RhdGUgPSBjb21wb25lbnQuc3RhdGU7XHJcbiAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJldlN0YXRlLCBwZW5kaW5nU3RhdGUpO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcclxuICAgICAgICB2YXIgY29udGV4dF8xID0gY29tcG9uZW50LmNvbnRleHQ7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHZhciBuZXh0SW5wdXQgPSBjb21wb25lbnQuX3VwZGF0ZUNvbXBvbmVudChwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcHJvcHMsIHByb3BzLCBjb250ZXh0XzEsIGZvcmNlLCB0cnVlKTtcclxuICAgICAgICB2YXIgZGlkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBuZXh0SW5wdXQgPSBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoNDA5NiAvKiBWb2lkICovLCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dElucHV0ID09PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgIG5leHRJbnB1dCA9IGNvbXBvbmVudC5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgbmV4dElucHV0ID0gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDEgLyogVGV4dCAqLywgbnVsbCwgbnVsbCwgbmV4dElucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2EgdmFsaWQgSW5mZXJubyBWTm9kZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZCBmcm9tIGEgY29tcG9uZW50IHJlbmRlci4gWW91IG1heSBoYXZlIHJldHVybmVkIGFuIGFycmF5IG9yIGFuIGludmFsaWQgb2JqZWN0LicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbGFzdElucHV0ID0gY29tcG9uZW50Ll9sYXN0SW5wdXQ7XHJcbiAgICAgICAgdmFyIHZOb2RlID0gY29tcG9uZW50Ll92Tm9kZTtcclxuICAgICAgICB2YXIgcGFyZW50RG9tID0gKGxhc3RJbnB1dC5kb20gJiYgbGFzdElucHV0LmRvbS5wYXJlbnROb2RlKSB8fCAobGFzdElucHV0LmRvbSA9IHZOb2RlLmRvbSk7XHJcbiAgICAgICAgY29tcG9uZW50Ll9sYXN0SW5wdXQgPSBuZXh0SW5wdXQ7XHJcbiAgICAgICAgaWYgKGRpZFVwZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRDb250ZXh0ID0gdm9pZCAwO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29tcG9uZW50LmdldENoaWxkQ29udGV4dCkpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkQ29udGV4dCkpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGNvbXBvbmVudC5fY2hpbGRDb250ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShjb250ZXh0XzEsIGNoaWxkQ29udGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxpZmVDeWNsZSA9IGNvbXBvbmVudC5fbGlmZWN5Y2xlO1xyXG4gICAgICAgICAgICBpbmZlcm5vXzEuaW50ZXJuYWxfcGF0Y2gobGFzdElucHV0LCBuZXh0SW5wdXQsIHBhcmVudERvbSwgbGlmZUN5Y2xlLCBjaGlsZENvbnRleHQsIGNvbXBvbmVudC5faXNTVkcsIGZhbHNlKTtcclxuICAgICAgICAgICAgbGlmZUN5Y2xlLnRyaWdnZXIoKTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKHByb3BzLCBwcmV2U3RhdGUsIGNvbnRleHRfMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChpbmZlcm5vXzEub3B0aW9ucy5hZnRlclVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fMS5vcHRpb25zLmFmdGVyVXBkYXRlKHZOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZG9tID0gdk5vZGUuZG9tID0gbmV4dElucHV0LmRvbTtcclxuICAgICAgICBpZiAoaW5mZXJub18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fMS5pbnRlcm5hbF9ET01Ob2RlTWFwLnNldChjb21wb25lbnQsIG5leHRJbnB1dC5kb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1cGRhdGVQYXJlbnRDb21wb25lbnRWTm9kZXModk5vZGUsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb21wb25lbnQuc3RhdGUgPSBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZTtcclxuICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjYWxsYmFjaykpIHtcclxuICAgICAgICBjYWxsYmFjay5jYWxsKGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbn1cclxudmFyIGFscmVhZHlXYXJuZWQgPSBmYWxzZTtcclxudmFyIENvbXBvbmVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9ibG9ja1JlbmRlciA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2Jsb2NrU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fbGFzdElucHV0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLl92Tm9kZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fdW5tb3VudGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fbGlmZWN5Y2xlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9jaGlsZENvbnRleHQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2lzU1ZHID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgIC8qKiBAdHlwZSB7b2JqZWN0fSAqL1xyXG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcyB8fCBpbmZlcm5vXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgIC8qKiBAdHlwZSB7b2JqZWN0fSAqL1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQgfHwgaW5mZXJub18xLkVNUFRZX09CSjsgLy8gY29udGV4dCBzaG91bGQgbm90IGJlIG11dGFibGVcclxuICAgIH1cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5tb3VudGVkIHx8ICFpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3Nlcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwcGx5U3RhdGUodGhpcywgdHJ1ZSwgY2FsbGJhY2spO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAobmV3U3RhdGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5fYmxvY2tTZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICBxdWV1ZVN0YXRlQ2hhbmdlcyh0aGlzLCBuZXdTdGF0ZSwgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2Nhbm5vdCB1cGRhdGUgc3RhdGUgdmlhIHNldFN0YXRlKCkgaW4gY29tcG9uZW50V2lsbFVwZGF0ZSgpIG9yIGNvbnN0cnVjdG9yLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlU3luYyA9IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAoIWFscmVhZHlXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgIGFscmVhZHlXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbmZlcm5vIFdBUk5JTkc6IHNldFN0YXRlU3luYyBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCByZWxlYXNlLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLl91cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAocHJldlN0YXRlLCBuZXh0U3RhdGUsIHByZXZQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmb3JjZSwgZnJvbVNldFN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3VubW91bnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihub09wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChwcmV2UHJvcHMgIT09IG5leHRQcm9wcyB8fCBuZXh0UHJvcHMgPT09IGluZmVybm9fMS5FTVBUWV9PQkopIHx8IHByZXZTdGF0ZSAhPT0gbmV4dFN0YXRlIHx8IGZvcmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChwcmV2UHJvcHMgIT09IG5leHRQcm9wcyB8fCBuZXh0UHJvcHMgPT09IGluZmVybm9fMS5FTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZCh0aGlzLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpICYmICFmcm9tU2V0U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1JlbmRlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxvY2tSZW5kZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU2V0U3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0U3RhdGUgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKG5leHRTdGF0ZSwgdGhpcy5fcGVuZGluZ1N0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIFVwZGF0ZSBpZiBzY3UgaXMgbm90IGRlZmluZWQsIG9yIGl0IHJldHVybnMgdHJ1dGh5IHZhbHVlIG9yIGZvcmNlICovXHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKSB8fCB0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSwgY29udGV4dCkgfHwgZm9yY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZCh0aGlzLmNvbXBvbmVudFdpbGxVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxvY2tTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzID0gbmV4dFByb3BzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub18xLm9wdGlvbnMuYmVmb3JlUmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYmVmb3JlUmVuZGVyKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlciA9IHRoaXMucmVuZGVyKG5leHRQcm9wcywgbmV4dFN0YXRlLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5hZnRlclJlbmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fMS5vcHRpb25zLmFmdGVyUmVuZGVyKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5mZXJub19zaGFyZWRfMS5OT19PUDtcclxuICAgIH07XHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHlcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCkgeyB9O1xyXG4gICAgcmV0dXJuIENvbXBvbmVudDtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQ29tcG9uZW50O1xyXG5cblxuLyoqKi8gfSksXG4vKiAzNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBjb21wb25lbnRIb29rcyA9IG5ldyBTZXQoKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudFdpbGxNb3VudCcpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50RGlkTW91bnQnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudFdpbGxVbm1vdW50Jyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRTaG91bGRVcGRhdGUnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudFdpbGxVcGRhdGUnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudERpZFVwZGF0ZScpO1xyXG4vKipcclxuICogQ3JlYXRlcyB2aXJ0dWFsIG5vZGVcclxuICogQHBhcmFtIHtzdHJpbmd8RnVuY3Rpb258Q29tcG9uZW50PGFueSwgYW55Pn0gdHlwZSBUeXBlIG9mIG5vZGVcclxuICogQHBhcmFtIHtvYmplY3Q9fSBwcm9wcyBPcHRpb25hbCBwcm9wcyBmb3IgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7Li4ue29iamVjdH09fSBfY2hpbGRyZW4gT3B0aW9uYWwgY2hpbGRyZW4gZm9yIHZpcnR1YWwgbm9kZVxyXG4gKiBAcmV0dXJucyB7Vk5vZGV9IG5ldyB2aXJ0dWFsIG5kb2VcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgcHJvcHMpIHtcclxuICAgIHZhciBfY2hpbGRyZW4gPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgX2NoaWxkcmVuW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKHR5cGUpIHx8IGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QodHlwZSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmVybm8gRXJyb3I6IGNyZWF0ZUVsZW1lbnQoKSBuYW1lIHBhcmFtZXRlciBjYW5ub3QgYmUgdW5kZWZpbmVkLCBudWxsLCBmYWxzZSBvciB0cnVlLCBJdCBtdXN0IGJlIGEgc3RyaW5nLCBjbGFzcyBvciBmdW5jdGlvbi4nKTtcclxuICAgIH1cclxuICAgIHZhciBjaGlsZHJlbiA9IF9jaGlsZHJlbjtcclxuICAgIHZhciByZWYgPSBudWxsO1xyXG4gICAgdmFyIGtleSA9IG51bGw7XHJcbiAgICB2YXIgY2xhc3NOYW1lID0gbnVsbDtcclxuICAgIHZhciBmbGFncyA9IDA7XHJcbiAgICB2YXIgbmV3UHJvcHM7XHJcbiAgICBpZiAoX2NoaWxkcmVuKSB7XHJcbiAgICAgICAgaWYgKF9jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfY2hpbGRyZW5bMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKF9jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSB2b2lkIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcodHlwZSkpIHtcclxuICAgICAgICBmbGFncyA9IGluZmVybm9fMS5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSh0eXBlKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcykpIHtcclxuICAgICAgICAgICAgbmV3UHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdjbGFzc05hbWUnIHx8IHByb3AgPT09ICdjbGFzcycpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdrZXknKSB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2NoaWxkcmVuJyAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47IC8vIGFsd2F5cyBmYXZvdXIgY2hpbGRyZW4gYXJncywgZGVmYXVsdCB0byBwcm9wc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ3JlZicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYgPSBwcm9wcy5yZWY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1twcm9wXSA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmxhZ3MgPSAxNiAvKiBDb21wb25lbnRVbmtub3duICovO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgaWYgKCFwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzKSkge1xyXG4gICAgICAgICAgICBuZXdQcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50SG9va3MuaGFzKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlZltwcm9wXSA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2tleScpIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXkgPSBwcm9wcy5rZXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1twcm9wXSA9IHByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluZmVybm9fMS5jcmVhdGVWTm9kZShmbGFncywgdHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgbmV3UHJvcHMsIGtleSwgcmVmKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVFbGVtZW50O1xyXG5cblxuLyoqKi8gfSksXG4vKiAzNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG52YXIgTGlua18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XHJcbmZ1bmN0aW9uIEluZGV4TGluayhwcm9wcykge1xyXG4gICAgcHJvcHMudG8gPSAnLyc7XHJcbiAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDggLyogQ29tcG9uZW50RnVuY3Rpb24gKi8sIExpbmtfMS5kZWZhdWx0LCBudWxsLCBudWxsLCBwcm9wcyk7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gSW5kZXhMaW5rO1xyXG5cblxuLyoqKi8gfSksXG4vKiAzOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUm91dGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcbnZhciBJbmRleFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJbmRleFJvdXRlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSW5kZXhSb3V0ZShwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIHByb3BzLnBhdGggPSAnLyc7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEluZGV4Um91dGU7XHJcbn0oUm91dGVfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEluZGV4Um91dGU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDM5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSb3V0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxudmFyIFJlZGlyZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSZWRpcmVjdCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJlZGlyZWN0KHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgaWYgKCFwcm9wcy50bykge1xyXG4gICAgICAgICAgICBwcm9wcy50byA9ICcvJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFJlZGlyZWN0O1xyXG59KFJvdXRlXzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSZWRpcmVjdDtcclxuXG5cbi8qKiovIH0pLFxuLyogNDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBpbmZlcm5vX2NvbXBvbmVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XHJcbnZhciBtYXRjaF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XHJcbnZhciBSb3V0ZXJDb250ZXh0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcclxuZnVuY3Rpb24gY3JlYXRlclJvdXRlcihoaXN0b3J5KSB7XHJcbiAgICBpZiAoIWhpc3RvcnkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbmZlcm5vOiBFcnJvciBcImluZmVybm8tcm91dGVyXCIgcmVxdWlyZXMgYSBoaXN0b3J5IHByb3AgcGFzc2VkJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNyZWF0ZUhyZWY6IGhpc3RvcnkuY3JlYXRlSHJlZixcclxuICAgICAgICBsaXN0ZW46IGhpc3RvcnkubGlzdGVuLFxyXG4gICAgICAgIHB1c2g6IGhpc3RvcnkucHVzaCxcclxuICAgICAgICByZXBsYWNlOiBoaXN0b3J5LnJlcGxhY2UsXHJcbiAgICAgICAgaXNBY3RpdmU6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoXzEubWF0Y2hQYXRoKHRydWUsIHVybCwgdGhpcy51cmwpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IGxvY2F0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZSAhPT0gJ2JsYW5rJyA/IGhpc3RvcnkubG9jYXRpb24gOiB7XHJcbiAgICAgICAgICAgICAgICBwYXRobmFtZTogJy8nLFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoOiAnJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IHVybCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb24ucGF0aG5hbWUgKyB0aGlzLmxvY2F0aW9uLnNlYXJjaDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbnZhciBSb3V0ZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJvdXRlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlcihwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnJvdXRlciA9IGNyZWF0ZXJSb3V0ZXIocHJvcHMuaGlzdG9yeSk7XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHVybDogcHJvcHMudXJsIHx8IF90aGlzLnJvdXRlci51cmxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMucm91dGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW4gPSB0aGlzLnJvdXRlci5saXN0ZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucm91dGVUbyhfdGhpcy5yb3V0ZXIudXJsKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB1cmw6IG5leHRQcm9wcy51cmwgfSwgdGhpcy5wcm9wcy5vblVwZGF0ZSA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnByb3BzLm9uVXBkYXRlKCk7IH0gOiB2b2lkIDApO1xyXG4gICAgfTtcclxuICAgIFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudW5saXN0ZW4pIHtcclxuICAgICAgICAgICAgdGhpcy51bmxpc3RlbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLnJvdXRlVG8gPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXJsOiB1cmwgfSwgdGhpcy5wcm9wcy5vblVwZGF0ZSA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnByb3BzLm9uVXBkYXRlKCk7IH0gOiB2b2lkIDApO1xyXG4gICAgfTtcclxuICAgIFJvdXRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgaGl0ID0gbWF0Y2hfMS5kZWZhdWx0KHByb3BzLmNoaWxkcmVuLCB0aGlzLnN0YXRlLnVybCk7XHJcbiAgICAgICAgaWYgKGhpdC5yZWRpcmVjdCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJvdXRlci5yZXBsYWNlKGhpdC5yZWRpcmVjdCk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fMS5jcmVhdGVWTm9kZSg0IC8qIENvbXBvbmVudENsYXNzICovLCBSb3V0ZXJDb250ZXh0XzEuZGVmYXVsdCwgbnVsbCwgbnVsbCwge1xyXG4gICAgICAgICAgICBsb2NhdGlvbjogdGhpcy5zdGF0ZS51cmwsXHJcbiAgICAgICAgICAgIG1hdGNoZWQ6IGhpdC5tYXRjaGVkLFxyXG4gICAgICAgICAgICByb3V0ZXI6IHRoaXMucm91dGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJvdXRlcjtcclxufShpbmZlcm5vX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGVyO1xyXG5cblxuLyoqKi8gfSksXG4vKiA0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG4vKipcclxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBwYXJzaW5nIHBsYWluIHJvdXRlIGNvbmZpZ3VyYXRpb25zXHJcbiAqIGJhc2VkIG9uIHJlYWN0LXJvdXRlciBjcmVhdGVSb3V0ZXMgaGFuZGxlci5cclxuICpcclxuICogY3VycmVudGx5IHN1cHBvcnRlZCBrZXlzOlxyXG4gKiAtIHBhdGhcclxuICogLSBjb21wb25lbnRcclxuICogLSBjaGlsZFJvdXRlc1xyXG4gKiAtIGluZGV4Um91dGVcclxuICpcclxuICogVXNhZ2UgZXhhbXBsZTpcclxuICogY29uc3Qgcm91dGVzID0gY3JlYXRlUm91dGVzKFtcclxuICogIHtcclxuICogICAgcGF0aCAgICAgICAgOiAnLycsXHJcbiAqICAgIGNvbXBvbmVudCAgIDogQXBwLFxyXG4gKiAgICBpbmRleFJvdXRlICA6IHtcclxuICogICAgICBjb21wb25lbnQgICAgIDogSG9tZSxcclxuICogICAgfSxcclxuICogICAgY2hpbGRSb3V0ZXMgOiBbXHJcbiAqICAgICAge1xyXG4gKiAgICAgICAgcGF0aCA6ICdmaWxtcy8nLFxyXG4gKiAgICAgICAgY29tcG9uZW50IDogRmlsbXMsXHJcbiAqICAgICAgICBjaGlsZFJvdXRlcyA6IHtcclxuICogICAgICAgICAgcGF0aCA6ICdkZXRhaWwvOmlkJyxcclxuICogICAgICAgICAgY29tcG9uZW50IDogRmlsbURldGFpbCxcclxuICogICAgICAgIH1cclxuICogICAgICB9LFxyXG4gKiAgICAgIHtcclxuICogICAgICAgIHBhdGggOiAnLyonLFxyXG4gKiAgICAgICAgY29tcG9uZW50IDogTm9NYXRjaFxyXG4gKiAgICAgIH1cclxuICogICAgXVxyXG4gKiAgfVxyXG4gKiBdKTtcclxuICpcclxuICogVXNhZ2Ugb24gUm91dGVyIEpTWFxyXG4gKiA8Um91dGVyIGhpc3Rvcnk9e2Jyb3dzZXJIaXN0b3J5fSBjaGlsZHJlbj17cm91dGVzfSAvPlxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19jcmVhdGVfZWxlbWVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIFJvdXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG52YXIgaGFuZGxlSW5kZXhSb3V0ZSA9IGZ1bmN0aW9uIChpbmRleFJvdXRlTm9kZSkgeyByZXR1cm4gaW5mZXJub19jcmVhdGVfZWxlbWVudF8xLmRlZmF1bHQoUm91dGVfMS5kZWZhdWx0LCBpbmRleFJvdXRlTm9kZSk7IH07XHJcbnZhciBoYW5kbGVDaGlsZFJvdXRlID0gZnVuY3Rpb24gKGNoaWxkUm91dGVOb2RlKSB7IHJldHVybiBoYW5kbGVSb3V0ZU5vZGUoY2hpbGRSb3V0ZU5vZGUpOyB9O1xyXG52YXIgaGFuZGxlQ2hpbGRSb3V0ZXMgPSBmdW5jdGlvbiAoY2hpbGRSb3V0ZU5vZGVzKSB7IHJldHVybiBjaGlsZFJvdXRlTm9kZXMubWFwKGhhbmRsZUNoaWxkUm91dGUpOyB9O1xyXG5mdW5jdGlvbiBoYW5kbGVSb3V0ZU5vZGUocm91dGVDb25maWdOb2RlKSB7XHJcbiAgICBpZiAocm91dGVDb25maWdOb2RlLmluZGV4Um91dGUgJiYgIXJvdXRlQ29uZmlnTm9kZS5jaGlsZFJvdXRlcykge1xyXG4gICAgICAgIHJldHVybiBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEuZGVmYXVsdChSb3V0ZV8xLmRlZmF1bHQsIHJvdXRlQ29uZmlnTm9kZSk7XHJcbiAgICB9XHJcbiAgICAvLyBjcmVhdGUgZGVlcCBjb3B5IG9mIGNvbmZpZ1xyXG4gICAgdmFyIG5vZGUgPSB7fTtcclxuICAgIGZvciAodmFyIGtleSBpbiByb3V0ZUNvbmZpZ05vZGUpIHtcclxuICAgICAgICBub2RlW2tleV0gPSByb3V0ZUNvbmZpZ05vZGVba2V5XTtcclxuICAgIH1cclxuICAgIG5vZGUuY2hpbGRyZW4gPSBbXTtcclxuICAgIC8vIGhhbmRsZSBpbmRleCByb3V0ZSBjb25maWdcclxuICAgIGlmIChub2RlLmluZGV4Um91dGUpIHtcclxuICAgICAgICBub2RlLmNoaWxkcmVuLnB1c2goaGFuZGxlSW5kZXhSb3V0ZShub2RlLmluZGV4Um91dGUpKTtcclxuICAgICAgICBkZWxldGUgbm9kZS5pbmRleFJvdXRlO1xyXG4gICAgfVxyXG4gICAgLy8gaGFuZGxlIGNoaWxkIHJvdXRlcyBjb25maWdcclxuICAgIGlmIChub2RlLmNoaWxkUm91dGVzKSB7XHJcbiAgICAgICAgdmFyIG5vZGVzID0gaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5vZGUuY2hpbGRSb3V0ZXMpID8gbm9kZS5jaGlsZFJvdXRlcyA6IFtub2RlLmNoaWxkUm91dGVzXTtcclxuICAgICAgICAoX2EgPSBub2RlLmNoaWxkcmVuKS5wdXNoLmFwcGx5KF9hLCBoYW5kbGVDaGlsZFJvdXRlcyhub2RlcykpO1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkUm91dGVzO1xyXG4gICAgfVxyXG4gICAgLy8gY2xlYW51cCB0byBtYXRjaCBuYXRpdmUgcmVuZGVyZWQgcmVzdWx0XHJcbiAgICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICBub2RlLmNoaWxkcmVuID0gbm9kZS5jaGlsZHJlblswXTtcclxuICAgIH1cclxuICAgIGlmICgoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB8fFxyXG4gICAgICAgICghaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5vZGUuY2hpbGRyZW4pICYmIE9iamVjdC5rZXlzKG5vZGUuY2hpbGRyZW4pLmxlbmd0aCA9PT0gMCkpIHtcclxuICAgICAgICBkZWxldGUgbm9kZS5jaGlsZHJlbjtcclxuICAgIH1cclxuICAgIHJldHVybiBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEuZGVmYXVsdChSb3V0ZV8xLmRlZmF1bHQsIG5vZGUpO1xyXG4gICAgdmFyIF9hO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChyb3V0ZUNvbmZpZykgeyByZXR1cm4gcm91dGVDb25maWcubWFwKGhhbmRsZVJvdXRlTm9kZSk7IH07XHJcblxuXG4vKioqLyB9KSxcbi8qIDQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNyZWF0ZVJvdXRlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XHJcbmV4cG9ydHMuY3JlYXRlUm91dGVzID0gY3JlYXRlUm91dGVzXzEuZGVmYXVsdDtcclxudmFyIEluZGV4TGlua18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XHJcbmV4cG9ydHMuSW5kZXhMaW5rID0gSW5kZXhMaW5rXzEuZGVmYXVsdDtcclxudmFyIEluZGV4Um91dGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xyXG5leHBvcnRzLkluZGV4Um91dGUgPSBJbmRleFJvdXRlXzEuZGVmYXVsdDtcclxudmFyIExpbmtfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xyXG5leHBvcnRzLkxpbmsgPSBMaW5rXzEuZGVmYXVsdDtcclxudmFyIG1hdGNoXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcclxuZXhwb3J0cy5tYXRjaCA9IG1hdGNoXzEuZGVmYXVsdDtcclxudmFyIFJlZGlyZWN0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcclxuZXhwb3J0cy5SZWRpcmVjdCA9IFJlZGlyZWN0XzEuZGVmYXVsdDtcclxuZXhwb3J0cy5JbmRleFJlZGlyZWN0ID0gUmVkaXJlY3RfMS5kZWZhdWx0O1xyXG52YXIgUm91dGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcbmV4cG9ydHMuUm91dGUgPSBSb3V0ZV8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xyXG5leHBvcnRzLlJvdXRlciA9IFJvdXRlcl8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZXJDb250ZXh0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcclxuZXhwb3J0cy5Sb3V0ZXJDb250ZXh0ID0gUm91dGVyQ29udGV4dF8xLmRlZmF1bHQ7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IHtcclxuICAgIFJvdXRlOiBSb3V0ZV8xLmRlZmF1bHQsXHJcbiAgICBJbmRleFJvdXRlOiBJbmRleFJvdXRlXzEuZGVmYXVsdCxcclxuICAgIFJlZGlyZWN0OiBSZWRpcmVjdF8xLmRlZmF1bHQsXHJcbiAgICBJbmRleFJlZGlyZWN0OiBSZWRpcmVjdF8xLmRlZmF1bHQsXHJcbiAgICBSb3V0ZXI6IFJvdXRlcl8xLmRlZmF1bHQsXHJcbiAgICBSb3V0ZXJDb250ZXh0OiBSb3V0ZXJDb250ZXh0XzEuZGVmYXVsdCxcclxuICAgIExpbms6IExpbmtfMS5kZWZhdWx0LFxyXG4gICAgSW5kZXhMaW5rOiBJbmRleExpbmtfMS5kZWZhdWx0LFxyXG4gICAgbWF0Y2g6IG1hdGNoXzEuZGVmYXVsdCxcclxuICAgIGNyZWF0ZVJvdXRlczogY3JlYXRlUm91dGVzXzEuZGVmYXVsdFxyXG59O1xyXG5cblxuLyoqKi8gfSksXG4vKiA0MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuTk9fT1AgPSAnJE5PX09QJztcclxuZXhwb3J0cy5FUlJPUl9NU0cgPSAnYSBydW50aW1lIGVycm9yIG9jY3VyZWQhIFVzZSBJbmZlcm5vIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50IHRvIGZpbmQgdGhlIGVycm9yLic7XHJcbi8vIFRoaXMgc2hvdWxkIGJlIGJvb2xlYW4gYW5kIG5vdCByZWZlcmVuY2UgdG8gd2luZG93LmRvY3VtZW50XHJcbmV4cG9ydHMuaXNCcm93c2VyID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50KTtcclxuZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xyXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbiA6IChjaGlsZHJlbiA/IFtjaGlsZHJlbl0gOiBjaGlsZHJlbik7XHJcbn1cclxuZXhwb3J0cy50b0FycmF5ID0gdG9BcnJheTtcclxuLy8gdGhpcyBpcyBNVUNIIGZhc3RlciB0aGFuIC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgYW5kIGluc3RhbmNlb2YgQXJyYXlcclxuLy8gaW4gTm9kZSA3IGFuZCB0aGUgbGF0ZXIgdmVyc2lvbnMgb2YgVjgsIHNsb3dlciBpbiBvbGRlciB2ZXJzaW9ucyB0aG91Z2hcclxuZXhwb3J0cy5pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcclxuZnVuY3Rpb24gaXNTdGF0ZWZ1bENvbXBvbmVudChvKSB7XHJcbiAgICByZXR1cm4gIWlzVW5kZWZpbmVkKG8ucHJvdG90eXBlKSAmJiAhaXNVbmRlZmluZWQoby5wcm90b3R5cGUucmVuZGVyKTtcclxufVxyXG5leHBvcnRzLmlzU3RhdGVmdWxDb21wb25lbnQgPSBpc1N0YXRlZnVsQ29tcG9uZW50O1xyXG5mdW5jdGlvbiBpc1N0cmluZ09yTnVtYmVyKG8pIHtcclxuICAgIHZhciB0eXBlID0gdHlwZW9mIG87XHJcbiAgICByZXR1cm4gdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcic7XHJcbn1cclxuZXhwb3J0cy5pc1N0cmluZ09yTnVtYmVyID0gaXNTdHJpbmdPck51bWJlcjtcclxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZihvKSB7XHJcbiAgICByZXR1cm4gaXNVbmRlZmluZWQobykgfHwgaXNOdWxsKG8pO1xyXG59XHJcbmV4cG9ydHMuaXNOdWxsT3JVbmRlZiA9IGlzTnVsbE9yVW5kZWY7XHJcbmZ1bmN0aW9uIGlzSW52YWxpZChvKSB7XHJcbiAgICByZXR1cm4gaXNOdWxsKG8pIHx8IG8gPT09IGZhbHNlIHx8IGlzVHJ1ZShvKSB8fCBpc1VuZGVmaW5lZChvKTtcclxufVxyXG5leHBvcnRzLmlzSW52YWxpZCA9IGlzSW52YWxpZDtcclxuZnVuY3Rpb24gaXNGdW5jdGlvbihvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdmdW5jdGlvbic7XHJcbn1cclxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcclxuZnVuY3Rpb24gaXNTdHJpbmcobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnc3RyaW5nJztcclxufVxyXG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XHJcbmZ1bmN0aW9uIGlzTnVtYmVyKG8pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ251bWJlcic7XHJcbn1cclxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xyXG5mdW5jdGlvbiBpc051bGwobykge1xyXG4gICAgcmV0dXJuIG8gPT09IG51bGw7XHJcbn1cclxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XHJcbmZ1bmN0aW9uIGlzVHJ1ZShvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gdHJ1ZTtcclxufVxyXG5leHBvcnRzLmlzVHJ1ZSA9IGlzVHJ1ZTtcclxuZnVuY3Rpb24gaXNVbmRlZmluZWQobykge1xyXG4gICAgcmV0dXJuIG8gPT09IHZvaWQgMDtcclxufVxyXG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XHJcbmZ1bmN0aW9uIGlzT2JqZWN0KG8pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCc7XHJcbn1cclxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xyXG5mdW5jdGlvbiB0aHJvd0Vycm9yKG1lc3NhZ2UpIHtcclxuICAgIGlmICghbWVzc2FnZSkge1xyXG4gICAgICAgIG1lc3NhZ2UgPSBleHBvcnRzLkVSUk9SX01TRztcclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcihcIkluZmVybm8gRXJyb3I6IFwiICsgbWVzc2FnZSk7XHJcbn1cclxuZXhwb3J0cy50aHJvd0Vycm9yID0gdGhyb3dFcnJvcjtcclxuZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XHJcbiAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XHJcbn1cclxuZXhwb3J0cy53YXJuaW5nID0gd2FybmluZztcclxuZnVuY3Rpb24gY29tYmluZUZyb20oZmlyc3QsIHNlY29uZCkge1xyXG4gICAgdmFyIG91dCA9IHt9O1xyXG4gICAgaWYgKGZpcnN0KSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGZpcnN0KSB7XHJcbiAgICAgICAgICAgIG91dFtrZXldID0gZmlyc3Rba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoc2Vjb25kKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNlY29uZCkge1xyXG4gICAgICAgICAgICBvdXRba2V5XSA9IHNlY29uZFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbn1cclxuZXhwb3J0cy5jb21iaW5lRnJvbSA9IGNvbWJpbmVGcm9tO1xyXG5mdW5jdGlvbiBMaWZlY3ljbGUoKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG59XHJcbmV4cG9ydHMuTGlmZWN5Y2xlID0gTGlmZWN5Y2xlO1xyXG5MaWZlY3ljbGUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG59O1xyXG5MaWZlY3ljbGUucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiB0cmlnZ2VyKCkge1xyXG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzO1xyXG4gICAgdmFyIGxpc3RlbmVyO1xyXG4gICAgLy8gV2UgbmVlZCB0byByZW1vdmUgY3VycmVudCBsaXN0ZW5lciBmcm9tIGFycmF5IHdoZW4gY2FsbGluZyBpdCwgYmVjYXVzZSBtb3JlIGxpc3RlbmVycyBtaWdodCBiZSBhZGRlZFxyXG4gICAgd2hpbGUgKGxpc3RlbmVyID0gbGlzdGVuZXJzLnNoaWZ0KCkpIHtcclxuICAgICAgICBsaXN0ZW5lcigpO1xyXG4gICAgfVxyXG59O1xyXG5cblxuLyoqKi8gfSksXG4vKiA0NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIGlzaU9TID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgJiYgISFuYXZpZ2F0b3IucGxhdGZvcm0gJiYgL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcclxudmFyIGRlbGVnYXRlZEV2ZW50cyA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gaGFuZGxlRXZlbnQobmFtZSwgbGFzdEV2ZW50LCBuZXh0RXZlbnQsIGRvbSkge1xyXG4gICAgdmFyIGRlbGVnYXRlZFJvb3RzID0gZGVsZWdhdGVkRXZlbnRzLmdldChuYW1lKTtcclxuICAgIGlmIChuZXh0RXZlbnQpIHtcclxuICAgICAgICBpZiAoIWRlbGVnYXRlZFJvb3RzKSB7XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZFJvb3RzID0geyBpdGVtczogbmV3IE1hcCgpLCBkb2NFdmVudDogbnVsbCB9O1xyXG4gICAgICAgICAgICBkZWxlZ2F0ZWRSb290cy5kb2NFdmVudCA9IGF0dGFjaEV2ZW50VG9Eb2N1bWVudChuYW1lLCBkZWxlZ2F0ZWRSb290cyk7XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZEV2ZW50cy5zZXQobmFtZSwgZGVsZWdhdGVkUm9vdHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWxhc3RFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoaXNpT1MgJiYgbmFtZSA9PT0gJ29uQ2xpY2snKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGVnYXRlZFJvb3RzLml0ZW1zLnNldChkb20sIG5leHRFdmVudCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkZWxlZ2F0ZWRSb290cykge1xyXG4gICAgICAgIHZhciBpdGVtcyA9IGRlbGVnYXRlZFJvb3RzLml0ZW1zO1xyXG4gICAgICAgIGlmIChpdGVtcy5kZWxldGUoZG9tKSkge1xyXG4gICAgICAgICAgICAvLyBJZiBhbnkgaXRlbXMgd2VyZSBkZWxldGVkLCBjaGVjayBpZiBsaXN0ZW5lciBuZWVkIHRvIGJlIHJlbW92ZWRcclxuICAgICAgICAgICAgaWYgKGl0ZW1zLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobm9ybWFsaXplRXZlbnROYW1lKG5hbWUpLCBkZWxlZ2F0ZWRSb290cy5kb2NFdmVudCk7XHJcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZWRFdmVudHMuZGVsZXRlKG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuaGFuZGxlRXZlbnQgPSBoYW5kbGVFdmVudDtcclxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChldmVudCwgdGFyZ2V0LCBpdGVtcywgY291bnQsIGlzQ2xpY2ssIGV2ZW50RGF0YSkge1xyXG4gICAgdmFyIGV2ZW50c1RvVHJpZ2dlciA9IGl0ZW1zLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKGV2ZW50c1RvVHJpZ2dlcikge1xyXG4gICAgICAgIGNvdW50LS07XHJcbiAgICAgICAgLy8gbGlua0V2ZW50IG9iamVjdFxyXG4gICAgICAgIGV2ZW50RGF0YS5kb20gPSB0YXJnZXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50c1RvVHJpZ2dlci5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudHNUb1RyaWdnZXIuZXZlbnQoZXZlbnRzVG9UcmlnZ2VyLmRhdGEsIGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1RvVHJpZ2dlcihldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgICB2YXIgcGFyZW50RG9tID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgLy8gSHRtbCBOb2RlcyBjYW4gYmUgbmVzdGVkIGZlOiBzcGFuIGluc2lkZSBidXR0b24gaW4gdGhhdCBzY2VuYXJpbyBicm93c2VyIGRvZXMgbm90IGhhbmRsZSBkaXNhYmxlZCBhdHRyaWJ1dGUgb24gcGFyZW50LFxyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIGV2ZW50IGxpc3RlbmVyIGlzIG9uIGRvY3VtZW50LmJvZHlcclxuICAgICAgICAvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50c1xyXG4gICAgICAgIGlmIChwYXJlbnREb20gPT09IG51bGwgfHwgKGlzQ2xpY2sgJiYgcGFyZW50RG9tLm5vZGVUeXBlID09PSAxICYmIHBhcmVudERvbS5kaXNhYmxlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaXNwYXRjaEV2ZW50KGV2ZW50LCBwYXJlbnREb20sIGl0ZW1zLCBjb3VudCwgaXNDbGljaywgZXZlbnREYXRhKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVFdmVudE5hbWUobmFtZSkge1xyXG4gICAgcmV0dXJuIG5hbWUuc3Vic3RyKDIpLnRvTG93ZXJDYXNlKCk7XHJcbn1cclxuZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xyXG4gICAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxufVxyXG5mdW5jdGlvbiBhdHRhY2hFdmVudFRvRG9jdW1lbnQobmFtZSwgZGVsZWdhdGVkUm9vdHMpIHtcclxuICAgIHZhciBkb2NFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBjb3VudCA9IGRlbGVnYXRlZFJvb3RzLml0ZW1zLnNpemU7XHJcbiAgICAgICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBzdG9wUHJvcGFnYXRpb247XHJcbiAgICAgICAgICAgIC8vIEV2ZW50IGRhdGEgbmVlZHMgdG8gYmUgb2JqZWN0IHRvIHNhdmUgcmVmZXJlbmNlIHRvIGN1cnJlbnRUYXJnZXQgZ2V0dGVyXHJcbiAgICAgICAgICAgIHZhciBldmVudERhdGFfMSA9IHtcclxuICAgICAgICAgICAgICAgIGRvbTogZG9jdW1lbnRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ2N1cnJlbnRUYXJnZXQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnREYXRhXzEuZG9tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChldmVudCwgZXZlbnQudGFyZ2V0LCBkZWxlZ2F0ZWRSb290cy5pdGVtcywgY291bnQsIGV2ZW50LnR5cGUgPT09ICdjbGljaycsIGV2ZW50RGF0YV8xKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihub3JtYWxpemVFdmVudE5hbWUobmFtZSksIGRvY0V2ZW50KTtcclxuICAgIHJldHVybiBkb2NFdmVudDtcclxufVxyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHlcclxuZnVuY3Rpb24gZW1wdHlGbigpIHsgfVxyXG5mdW5jdGlvbiB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb20pIHtcclxuICAgIC8vIE1vYmlsZSBTYWZhcmkgZG9lcyBub3QgZmlyZSBwcm9wZXJseSBidWJibGUgY2xpY2sgZXZlbnRzIG9uXHJcbiAgICAvLyBub24taW50ZXJhY3RpdmUgZWxlbWVudHMsIHdoaWNoIG1lYW5zIGRlbGVnYXRlZCBjbGljayBsaXN0ZW5lcnMgZG8gbm90XHJcbiAgICAvLyBmaXJlLiBUaGUgd29ya2Fyb3VuZCBmb3IgdGhpcyBidWcgaW52b2x2ZXMgYXR0YWNoaW5nIGFuIGVtcHR5IGNsaWNrXHJcbiAgICAvLyBsaXN0ZW5lciBvbiB0aGUgdGFyZ2V0IG5vZGUuXHJcbiAgICAvLyBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAxMC8wOS9jbGlja19ldmVudF9kZWwuaHRtbFxyXG4gICAgLy8gSnVzdCBzZXQgaXQgdXNpbmcgdGhlIG9uY2xpY2sgcHJvcGVydHkgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIG1hbmFnZSBhbnlcclxuICAgIC8vIGJvb2trZWVwaW5nIGZvciBpdC4gTm90IHN1cmUgaWYgd2UgbmVlZCB0byBjbGVhciBpdCB3aGVuIHRoZSBsaXN0ZW5lciBpc1xyXG4gICAgLy8gcmVtb3ZlZC5cclxuICAgIC8vIFRPRE86IE9ubHkgZG8gdGhpcyBmb3IgdGhlIHJlbGV2YW50IFNhZmFyaXMgbWF5YmU/XHJcbiAgICBkb20ub25jbGljayA9IGVtcHR5Rm47XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuLyogNDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogTGlua3MgZ2l2ZW4gZGF0YSB0byBldmVudCBhcyBmaXJzdCBwYXJhbWV0ZXJcclxuICogQHBhcmFtIHsqfSBkYXRhIGRhdGEgdG8gYmUgbGlua2VkLCBpdCB3aWxsIGJlIGF2YWlsYWJsZSBpbiBmdW5jdGlvbiBhcyBmaXJzdCBwYXJhbWV0ZXJcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXZlbnQgRnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gZXZlbnQgb2NjdXJzXHJcbiAqIEByZXR1cm5zIHt7ZGF0YTogKiwgZXZlbnQ6IEZ1bmN0aW9ufX1cclxuICovXHJcbmZ1bmN0aW9uIGxpbmtFdmVudChkYXRhLCBldmVudCkge1xyXG4gICAgcmV0dXJuIHsgZGF0YTogZGF0YSwgZXZlbnQ6IGV2ZW50IH07XHJcbn1cclxuZXhwb3J0cy5saW5rRXZlbnQgPSBsaW5rRXZlbnQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDQ2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIGNvbnN0YW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxudmFyIG1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbnZhciByZW5kZXJpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxudmFyIHByb2Nlc3NFbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGROb2RlcyhwYXJlbnREb20pIHtcclxuICAgIHZhciBkb20gPSBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgIHdoaWxlIChkb20pIHtcclxuICAgICAgICBpZiAoZG9tLm5vZGVUeXBlID09PSA4KSB7XHJcbiAgICAgICAgICAgIGlmIChkb20uZGF0YSA9PT0gJyEnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKHBsYWNlaG9sZGVyLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3REb20gPSBkb20ucHJldmlvdXNTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbiAgICAgICAgICAgICAgICBkb20gPSBsYXN0RG9tIHx8IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubm9ybWFsaXplQ2hpbGROb2RlcyA9IG5vcm1hbGl6ZUNoaWxkTm9kZXM7XHJcbmZ1bmN0aW9uIGh5ZHJhdGVDb21wb25lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNDbGFzcykge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICB2YXIgX2lzU1ZHID0gZG9tLm5hbWVzcGFjZVVSSSA9PT0gY29uc3RhbnRzXzEuc3ZnTlM7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdXRpbHNfMS5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCwgX2lzU1ZHLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIHZhciBpbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaW5zdGFuY2UuX3ZOb2RlID0gdk5vZGU7XHJcbiAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIGluc3RhbmNlLl9jaGlsZENvbnRleHQsIF9pc1NWRyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzKHZOb2RlLCByZWYsIGluc3RhbmNlLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlOyAvLyBNb3VudCBmaW5pc2hlZCBhbGxvdyBnb2luZyBzeW5jXHJcbiAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHV0aWxzXzEuY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IGlucHV0O1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGlucHV0LmRvbTtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZUVsZW1lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZS5jbGFzc05hbWU7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICBpc1NWRyA9IGlzU1ZHIHx8IChmbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICBpZiAoZG9tLm5vZGVUeXBlICE9PSAxIHx8IGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IHZOb2RlLnR5cGUpIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCdJbmZlcm5vIGh5ZHJhdGlvbjogU2VydmVyLXNpZGUgbWFya3VwIGRvZXNuXFwndCBtYXRjaCBjbGllbnQtc2lkZSBtYXJrdXAgb3IgSW5pdGlhbCByZW5kZXIgdGFyZ2V0IGlzIG5vdCBlbXB0eScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmV3RG9tID0gbW91bnRpbmdfMS5tb3VudEVsZW1lbnQodk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IG5ld0RvbTtcclxuICAgICAgICB1dGlsc18xLnJlcGxhY2VDaGlsZChkb20ucGFyZW50Tm9kZSwgbmV3RG9tLCBkb20pO1xyXG4gICAgICAgIHJldHVybiBuZXdEb207XHJcbiAgICB9XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICBoeWRyYXRlQ2hpbGRyZW4oY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcHMpIHtcclxuICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAoZmxhZ3MgJiAzNTg0IC8qIEZvcm1FbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaGFzQ29udHJvbGxlZFZhbHVlID0gcHJvY2Vzc0VsZW1lbnRfMS5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudChwcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaFByb3AocHJvcCwgbnVsbCwgcHJvcHNbcHJvcF0sIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIHByb3BzLCB0cnVlLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2xhc3NOYW1lKSkge1xyXG4gICAgICAgIGRvbS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVmKSB7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudFJlZihkb20sIHJlZiwgbGlmZWN5Y2xlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZUNoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIG5vcm1hbGl6ZUNoaWxkTm9kZXMocGFyZW50RG9tKTtcclxuICAgIHZhciBkb20gPSBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGNoaWxkKSAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChkb20pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tID0gaHlkcmF0ZShjaGlsZCwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKS5uZXh0U2libGluZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQoY2hpbGQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGRvbSAmJiBkb20ubm9kZVR5cGUgPT09IDMpIHtcclxuICAgICAgICAgICAgaWYgKGRvbS5ub2RlVmFsdWUgIT09IGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBkb20ubm9kZVZhbHVlID0gY2hpbGRyZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgcGFyZW50RG9tLnRleHRDb250ZW50ID0gY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaHlkcmF0ZShjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICB9XHJcbiAgICAvLyBjbGVhciBhbnkgb3RoZXIgRE9NIG5vZGVzLCB0aGVyZSBzaG91bGQgYmUgb25seSBhIHNpbmdsZSBlbnRyeSBmb3IgdGhlIHJvb3RcclxuICAgIHdoaWxlIChkb20pIHtcclxuICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbiAgICAgICAgZG9tID0gbmV4dFNpYmxpbmc7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVRleHQodk5vZGUsIGRvbSkge1xyXG4gICAgaWYgKGRvbS5ub2RlVHlwZSAhPT0gMykge1xyXG4gICAgICAgIHZhciBuZXdEb20gPSBtb3VudGluZ18xLm1vdW50VGV4dCh2Tm9kZSwgbnVsbCk7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gbmV3RG9tO1xyXG4gICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKGRvbS5wYXJlbnROb2RlLCBuZXdEb20sIGRvbSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld0RvbTtcclxuICAgIH1cclxuICAgIHZhciB0ZXh0ID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICBpZiAoZG9tLm5vZGVWYWx1ZSAhPT0gdGV4dCkge1xyXG4gICAgICAgIGRvbS5ub2RlVmFsdWUgPSB0ZXh0O1xyXG4gICAgfVxyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlVm9pZCh2Tm9kZSwgZG9tKSB7XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGUodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICByZXR1cm4gaHlkcmF0ZUNvbXBvbmVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCAoZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICByZXR1cm4gaHlkcmF0ZUVsZW1lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlVGV4dCh2Tm9kZSwgZG9tKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVWb2lkKHZOb2RlLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImh5ZHJhdGUoKSBleHBlY3RzIGEgdmFsaWQgVk5vZGUsIGluc3RlYWQgaXQgcmVjZWl2ZWQgYW4gb2JqZWN0IHdpdGggdGhlIHR5cGUgXFxcIlwiICsgdHlwZW9mIHZOb2RlICsgXCJcXFwiLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVJvb3QoaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB2YXIgZG9tID0gcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChkb20pKSB7XHJcbiAgICAgICAgICAgIGh5ZHJhdGUoaW5wdXQsIGRvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBkb20gPSBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgICAgICAgICAgLy8gY2xlYXIgYW55IG90aGVyIERPTSBub2RlcywgdGhlcmUgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgZW50cnkgZm9yIHRoZSByb290XHJcbiAgICAgICAgICAgIHdoaWxlIChkb20gPSBkb20ubmV4dFNpYmxpbmcpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLmh5ZHJhdGVSb290ID0gaHlkcmF0ZVJvb3Q7XHJcblxuXG4vKioqLyB9KSxcbi8qIDQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbmZ1bmN0aW9uIGlzQ2hlY2tlZFR5cGUodHlwZSkge1xyXG4gICAgcmV0dXJuIHR5cGUgPT09ICdjaGVja2JveCcgfHwgdHlwZSA9PT0gJ3JhZGlvJztcclxufVxyXG5leHBvcnRzLmlzQ2hlY2tlZFR5cGUgPSBpc0NoZWNrZWRUeXBlO1xyXG5mdW5jdGlvbiBvblRleHRJbnB1dENoYW5nZShlKSB7XHJcbiAgICB2YXIgdk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmIChwcm9wcy5vbklucHV0KSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzEgPSBwcm9wcy5vbklucHV0O1xyXG4gICAgICAgIGlmIChldmVudF8xLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEuZXZlbnQoZXZlbnRfMS5kYXRhLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvcHMub25pbnB1dCkge1xyXG4gICAgICAgIHByb3BzLm9uaW5wdXQoZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdQcm9wcywgZG9tKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB3cmFwcGVkT25DaGFuZ2UoZSkge1xyXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBldmVudCA9IHByb3BzLm9uQ2hhbmdlO1xyXG4gICAgaWYgKGV2ZW50LmV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQuZXZlbnQoZXZlbnQuZGF0YSwgZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBldmVudChlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBvbkNoZWNrYm94Q2hhbmdlKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFRoaXMgY2xpY2sgc2hvdWxkIG5vdCBwcm9wYWdhdGUgaXRzIGZvciBpbnRlcm5hbCB1c2VcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uQ2xpY2spIHtcclxuICAgICAgICB2YXIgZXZlbnRfMiA9IHByb3BzLm9uQ2xpY2s7XHJcbiAgICAgICAgaWYgKGV2ZW50XzIuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMi5ldmVudChldmVudF8yLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmNsaWNrKSB7XHJcbiAgICAgICAgcHJvcHMub25jbGljayhlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1Byb3BzLCBkb20pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NJbnB1dCh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKSB7XHJcbiAgICBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSk7XHJcbiAgICBpZiAobW91bnRpbmcgJiYgaXNDb250cm9sbGVkKSB7XHJcbiAgICAgICAgaWYgKGlzQ2hlY2tlZFR5cGUobmV4dFByb3BzT3JFbXB0eS50eXBlKSkge1xyXG4gICAgICAgICAgICBkb20ub25jbGljayA9IG9uQ2hlY2tib3hDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIGRvbS5vbmNsaWNrLndyYXBwZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tLm9uaW5wdXQgPSBvblRleHRJbnB1dENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICAgICAgZG9tLm9uaW5wdXQud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXh0UHJvcHNPckVtcHR5Lm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmNoYW5nZSA9IHdyYXBwZWRPbkNoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlLndyYXBwZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnByb2Nlc3NJbnB1dCA9IHByb2Nlc3NJbnB1dDtcclxuZnVuY3Rpb24gYXBwbHlWYWx1ZShuZXh0UHJvcHNPckVtcHR5LCBkb20pIHtcclxuICAgIHZhciB0eXBlID0gbmV4dFByb3BzT3JFbXB0eS50eXBlO1xyXG4gICAgdmFyIHZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS52YWx1ZTtcclxuICAgIHZhciBjaGVja2VkID0gbmV4dFByb3BzT3JFbXB0eS5jaGVja2VkO1xyXG4gICAgdmFyIG11bHRpcGxlID0gbmV4dFByb3BzT3JFbXB0eS5tdWx0aXBsZTtcclxuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgIHZhciBoYXNWYWx1ZSA9ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodmFsdWUpO1xyXG4gICAgaWYgKHR5cGUgJiYgdHlwZSAhPT0gZG9tLnR5cGUpIHtcclxuICAgICAgICBkb20uc2V0QXR0cmlidXRlKCd0eXBlJywgdHlwZSk7XHJcbiAgICB9XHJcbiAgICBpZiAobXVsdGlwbGUgJiYgbXVsdGlwbGUgIT09IGRvbS5tdWx0aXBsZSkge1xyXG4gICAgICAgIGRvbS5tdWx0aXBsZSA9IG11bHRpcGxlO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoZGVmYXVsdFZhbHVlKSAmJiAhaGFzVmFsdWUpIHtcclxuICAgICAgICBkb20uZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlICsgJyc7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNDaGVja2VkVHlwZSh0eXBlKSkge1xyXG4gICAgICAgIGlmIChoYXNWYWx1ZSkge1xyXG4gICAgICAgICAgICBkb20udmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hlY2tlZCkpIHtcclxuICAgICAgICAgICAgZG9tLmNoZWNrZWQgPSBjaGVja2VkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChoYXNWYWx1ZSAmJiBkb20udmFsdWUgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvbS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoZWNrZWQpKSB7XHJcbiAgICAgICAgICAgIGRvbS5jaGVja2VkID0gY2hlY2tlZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5hcHBseVZhbHVlID0gYXBwbHlWYWx1ZTtcclxuXG5cbi8qKiovIH0pLFxuLyogNDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBWTm9kZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuZnVuY3Rpb24gdXBkYXRlQ2hpbGRPcHRpb25Hcm91cCh2Tm9kZSwgdmFsdWUpIHtcclxuICAgIHZhciB0eXBlID0gdk5vZGUudHlwZTtcclxuICAgIGlmICh0eXBlID09PSAnb3B0Z3JvdXAnKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbihjaGlsZHJlbltpXSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFZOb2Rlc18xLmlzVk5vZGUoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uKGNoaWxkcmVuLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb24odk5vZGUsIHZhbHVlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB1cGRhdGVDaGlsZE9wdGlvbih2Tm9kZSwgdmFsdWUpIHtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIC8vIHdlIGRvIHRoaXMgYXMgbXVsdGlwbGUgbWF5IGhhdmUgY2hhbmdlZFxyXG4gICAgZG9tLnZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAoKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuaW5kZXhPZihwcm9wcy52YWx1ZSkgIT09IC0xKSB8fCBwcm9wcy52YWx1ZSA9PT0gdmFsdWUpIHtcclxuICAgICAgICBkb20uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSkgfHwgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5zZWxlY3RlZCkpIHtcclxuICAgICAgICBkb20uc2VsZWN0ZWQgPSBwcm9wcy5zZWxlY3RlZCB8fCBmYWxzZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBvblNlbGVjdENoYW5nZShlKSB7XHJcbiAgICB2YXIgdk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmIChwcm9wcy5vbkNoYW5nZSkge1xyXG4gICAgICAgIHZhciBldmVudF8xID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmNoYW5nZSkge1xyXG4gICAgICAgIHByb3BzLm9uY2hhbmdlKGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3Vk5vZGUsIGRvbSwgbmV3UHJvcHMsIGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzU2VsZWN0KHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGFwcGx5VmFsdWUodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcpO1xyXG4gICAgaWYgKG1vdW50aW5nICYmIGlzQ29udHJvbGxlZCkge1xyXG4gICAgICAgIGRvbS5vbmNoYW5nZSA9IG9uU2VsZWN0Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgIGRvbS5vbmNoYW5nZS53cmFwcGVkID0gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnByb2Nlc3NTZWxlY3QgPSBwcm9jZXNzU2VsZWN0O1xyXG5mdW5jdGlvbiBhcHBseVZhbHVlKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nKSB7XHJcbiAgICBpZiAobmV4dFByb3BzT3JFbXB0eS5tdWx0aXBsZSAhPT0gZG9tLm11bHRpcGxlKSB7XHJcbiAgICAgICAgZG9tLm11bHRpcGxlID0gbmV4dFByb3BzT3JFbXB0eS5tdWx0aXBsZTtcclxuICAgIH1cclxuICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZHJlbikpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LnZhbHVlO1xyXG4gICAgICAgIGlmIChtb3VudGluZyAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS5kZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb25Hcm91cChjaGlsZHJlbltpXSwgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFZOb2Rlc18xLmlzVk5vZGUoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uR3JvdXAoY2hpbGRyZW4sIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5hcHBseVZhbHVlID0gYXBwbHlWYWx1ZTtcclxuXG5cbi8qKiovIH0pLFxuLyogNDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuZnVuY3Rpb24gd3JhcHBlZE9uQ2hhbmdlKGUpIHtcclxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZXZlbnQgPSBwcm9wcy5vbkNoYW5nZTtcclxuICAgIGlmIChldmVudC5ldmVudCkge1xyXG4gICAgICAgIGV2ZW50LmV2ZW50KGV2ZW50LmRhdGEsIGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZXZlbnQoZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gb25UZXh0YXJlYUlucHV0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25JbnB1dCkge1xyXG4gICAgICAgIHZhciBldmVudF8xID0gcHJvcHMub25JbnB1dDtcclxuICAgICAgICBpZiAoZXZlbnRfMS5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8xLmV2ZW50KGV2ZW50XzEuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8xKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uaW5wdXQpIHtcclxuICAgICAgICBwcm9wcy5vbmlucHV0KGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3Vk5vZGUsIHZOb2RlLmRvbSwgZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NUZXh0YXJlYSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKSB7XHJcbiAgICBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSwgbW91bnRpbmcpO1xyXG4gICAgaWYgKG1vdW50aW5nICYmIGlzQ29udHJvbGxlZCkge1xyXG4gICAgICAgIGRvbS5vbmlucHV0ID0gb25UZXh0YXJlYUlucHV0Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgIGRvbS5vbmlucHV0LndyYXBwZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChuZXh0UHJvcHNPckVtcHR5Lm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmNoYW5nZSA9IHdyYXBwZWRPbkNoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlLndyYXBwZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnByb2Nlc3NUZXh0YXJlYSA9IHByb2Nlc3NUZXh0YXJlYTtcclxuZnVuY3Rpb24gYXBwbHlWYWx1ZShuZXh0UHJvcHNPckVtcHR5LCBkb20sIG1vdW50aW5nKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LnZhbHVlO1xyXG4gICAgdmFyIGRvbVZhbHVlID0gZG9tLnZhbHVlO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSkpIHtcclxuICAgICAgICBpZiAobW91bnRpbmcpIHtcclxuICAgICAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IG5leHRQcm9wc09yRW1wdHkuZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSBkb21WYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS52YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkb21WYWx1ZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGRvbS52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLyogVGhlcmUgaXMgdmFsdWUgc28ga2VlcCBpdCBjb250cm9sbGVkICovXHJcbiAgICAgICAgaWYgKGRvbVZhbHVlICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICBkb20udmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5hcHBseVZhbHVlID0gYXBwbHlWYWx1ZTtcclxuXG5cbi8qKiovIH0pLFxuLyogNTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbmV4cG9ydHMuTk9fT1AgPSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QO1xyXG52YXIgbm9ybWFsaXphdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XHJcbmV4cG9ydHMuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUgPSBub3JtYWxpemF0aW9uXzEuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGU7XHJcbmV4cG9ydHMuaW50ZXJuYWxfbm9ybWFsaXplID0gbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZTtcclxudmFyIG9wdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbmV4cG9ydHMub3B0aW9ucyA9IG9wdGlvbnNfMS5vcHRpb25zO1xyXG52YXIgVk5vZGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG5leHBvcnRzLmNsb25lVk5vZGUgPSBWTm9kZXNfMS5jbG9uZVZOb2RlO1xyXG5leHBvcnRzLmNyZWF0ZVZOb2RlID0gVk5vZGVzXzEuY3JlYXRlVk5vZGU7XHJcbnZhciBjb25zdGFudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcbmV4cG9ydHMuaW50ZXJuYWxfaXNVbml0bGVzc051bWJlciA9IGNvbnN0YW50c18xLmlzVW5pdGxlc3NOdW1iZXI7XHJcbnZhciBsaW5rRXZlbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDUpO1xyXG5leHBvcnRzLmxpbmtFdmVudCA9IGxpbmtFdmVudF8xLmxpbmtFdmVudDtcclxudmFyIHBhdGNoaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG5leHBvcnRzLmludGVybmFsX3BhdGNoID0gcGF0Y2hpbmdfMS5wYXRjaDtcclxudmFyIHJlbmRlcmluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuZXhwb3J0cy5pbnRlcm5hbF9ET01Ob2RlTWFwID0gcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwO1xyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gcmVuZGVyaW5nXzEuY3JlYXRlUmVuZGVyZXI7XHJcbmV4cG9ydHMuZmluZERPTU5vZGUgPSByZW5kZXJpbmdfMS5maW5kRE9NTm9kZTtcclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXJpbmdfMS5yZW5kZXI7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxuZXhwb3J0cy5FTVBUWV9PQkogPSB1dGlsc18xLkVNUFRZX09CSjtcclxuaWYgKGZhbHNlKSB7XHJcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHkgKi9cclxuICAgIHZhciB0ZXN0RnVuYyA9IGZ1bmN0aW9uIHRlc3RGbigpIHsgfTtcclxuICAgIGlmICgodGVzdEZ1bmMubmFtZSB8fCB0ZXN0RnVuYy50b1N0cmluZygpKS5pbmRleE9mKCd0ZXN0Rm4nKSA9PT0gLTEpIHtcclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoKCdJdCBsb29rcyBsaWtlIHlvdVxcJ3JlIHVzaW5nIGEgbWluaWZpZWQgY29weSBvZiB0aGUgZGV2ZWxvcG1lbnQgYnVpbGQgJyArXHJcbiAgICAgICAgICAgICdvZiBJbmZlcm5vLiBXaGVuIGRlcGxveWluZyBJbmZlcm5vIGFwcHMgdG8gcHJvZHVjdGlvbiwgbWFrZSBzdXJlIHRvIHVzZSAnICtcclxuICAgICAgICAgICAgJ3RoZSBwcm9kdWN0aW9uIGJ1aWxkIHdoaWNoIHNraXBzIGRldmVsb3BtZW50IHdhcm5pbmdzIGFuZCBpcyBmYXN0ZXIuICcgK1xyXG4gICAgICAgICAgICAnU2VlIGh0dHA6Ly9pbmZlcm5vanMub3JnIGZvciBtb3JlIGRldGFpbHMuJykpO1xyXG4gICAgfVxyXG59XHJcbnZhciB2ZXJzaW9uID0gJzMuMS4wJztcclxuZXhwb3J0cy52ZXJzaW9uID0gdmVyc2lvbjtcclxuLy8gd2UgZHVwbGljYXRlIGl0IHNvIGl0IHBsYXlzIG5pY2VseSB3aXRoIGRpZmZlcmVudCBtb2R1bGUgbG9hZGluZyBzeXN0ZW1zXHJcbmV4cG9ydHMuZGVmYXVsdCA9IHtcclxuICAgIGdldEZsYWdzRm9yRWxlbWVudFZub2RlOiBub3JtYWxpemF0aW9uXzEuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUsXHJcbiAgICBsaW5rRXZlbnQ6IGxpbmtFdmVudF8xLmxpbmtFdmVudCxcclxuICAgIC8vIGNvcmUgc2hhcGVzXHJcbiAgICBjcmVhdGVWTm9kZTogVk5vZGVzXzEuY3JlYXRlVk5vZGUsXHJcbiAgICAvLyBjbG9uaW5nXHJcbiAgICBjbG9uZVZOb2RlOiBWTm9kZXNfMS5jbG9uZVZOb2RlLFxyXG4gICAgLy8gdXNlZCB0byBzaGFyZWQgY29tbW9uIGl0ZW1zIGJldHdlZW4gSW5mZXJubyBsaWJzXHJcbiAgICBOT19PUDogaW5mZXJub19zaGFyZWRfMS5OT19PUCxcclxuICAgIEVNUFRZX09CSjogdXRpbHNfMS5FTVBUWV9PQkosXHJcbiAgICAvLyBET01cclxuICAgIHJlbmRlcjogcmVuZGVyaW5nXzEucmVuZGVyLFxyXG4gICAgZmluZERPTU5vZGU6IHJlbmRlcmluZ18xLmZpbmRET01Ob2RlLFxyXG4gICAgY3JlYXRlUmVuZGVyZXI6IHJlbmRlcmluZ18xLmNyZWF0ZVJlbmRlcmVyLFxyXG4gICAgb3B0aW9uczogb3B0aW9uc18xLm9wdGlvbnMsXHJcbiAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxyXG4gICAgaW50ZXJuYWxfcGF0Y2g6IHBhdGNoaW5nXzEucGF0Y2gsXHJcbiAgICBpbnRlcm5hbF9ET01Ob2RlTWFwOiByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAsXHJcbiAgICBpbnRlcm5hbF9pc1VuaXRsZXNzTnVtYmVyOiBjb25zdGFudHNfMS5pc1VuaXRsZXNzTnVtYmVyLFxyXG4gICAgaW50ZXJuYWxfbm9ybWFsaXplOiBub3JtYWxpemF0aW9uXzEubm9ybWFsaXplXHJcbn07XHJcblxuXG4vKioqLyB9KSxcbi8qIDUxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuXG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAoZmFsc2UpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7IHJldHVybiBhcmdzW2FyZ0luZGV4KytdOyB9KVxuICAgICAgKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcblxuXG4vKioqLyB9KSxcbi8qIDUyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuXG4vKioqLyB9KSxcbi8qIDUzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXRoVG9SZWdFeHAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KVxyXG5cclxuLyoqXHJcbiAqIEV4cG9zZSBgcGF0aFRvUmVnZXhwYCBhcyBFUzYgbW9kdWxlXHJcbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGhUb1JlZ0V4cDtcclxubW9kdWxlLmV4cG9ydHMucGFyc2UgPSBwYXRoVG9SZWdFeHAucGFyc2VcclxubW9kdWxlLmV4cG9ydHMuY29tcGlsZSA9IHBhdGhUb1JlZ0V4cC5jb21waWxlXHJcbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvRnVuY3Rpb24gPSBwYXRoVG9SZWdFeHAudG9rZW5zVG9GdW5jdGlvblxyXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb1JlZ0V4cCA9IHBhdGhUb1JlZ0V4cC50b2tlbnNUb1JlZ0V4cFxyXG5tb2R1bGUuZXhwb3J0c1snZGVmYXVsdCddID0gbW9kdWxlLmV4cG9ydHM7XHJcblxuXG4vKioqLyB9KSxcbi8qIDU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc2FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MilcblxuLyoqXG4gKiBFeHBvc2UgYHBhdGhUb1JlZ2V4cGAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gcGF0aFRvUmVnZXhwXG5tb2R1bGUuZXhwb3J0cy5wYXJzZSA9IHBhcnNlXG5tb2R1bGUuZXhwb3J0cy5jb21waWxlID0gY29tcGlsZVxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9GdW5jdGlvbiA9IHRva2Vuc1RvRnVuY3Rpb25cbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvUmVnRXhwID0gdG9rZW5zVG9SZWdFeHBcblxuLyoqXG4gKiBUaGUgbWFpbiBwYXRoIG1hdGNoaW5nIHJlZ2V4cCB1dGlsaXR5LlxuICpcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbnZhciBQQVRIX1JFR0VYUCA9IG5ldyBSZWdFeHAoW1xuICAvLyBNYXRjaCBlc2NhcGVkIGNoYXJhY3RlcnMgdGhhdCB3b3VsZCBvdGhlcndpc2UgYXBwZWFyIGluIGZ1dHVyZSBtYXRjaGVzLlxuICAvLyBUaGlzIGFsbG93cyB0aGUgdXNlciB0byBlc2NhcGUgc3BlY2lhbCBjaGFyYWN0ZXJzIHRoYXQgd29uJ3QgdHJhbnNmb3JtLlxuICAnKFxcXFxcXFxcLiknLFxuICAvLyBNYXRjaCBFeHByZXNzLXN0eWxlIHBhcmFtZXRlcnMgYW5kIHVuLW5hbWVkIHBhcmFtZXRlcnMgd2l0aCBhIHByZWZpeFxuICAvLyBhbmQgb3B0aW9uYWwgc3VmZml4ZXMuIE1hdGNoZXMgYXBwZWFyIGFzOlxuICAvL1xuICAvLyBcIi86dGVzdChcXFxcZCspP1wiID0+IFtcIi9cIiwgXCJ0ZXN0XCIsIFwiXFxkK1wiLCB1bmRlZmluZWQsIFwiP1wiLCB1bmRlZmluZWRdXG4gIC8vIFwiL3JvdXRlKFxcXFxkKylcIiAgPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFwiXFxkK1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgLy8gXCIvKlwiICAgICAgICAgICAgPT4gW1wiL1wiLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFwiKlwiXVxuICAnKFtcXFxcLy5dKT8oPzooPzpcXFxcOihcXFxcdyspKD86XFxcXCgoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKV0pKylcXFxcKSk/fFxcXFwoKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKCldKSspXFxcXCkpKFsrKj9dKT98KFxcXFwqKSknXG5dLmpvaW4oJ3wnKSwgJ2cnKVxuXG4vKipcbiAqIFBhcnNlIGEgc3RyaW5nIGZvciB0aGUgcmF3IHRva2Vucy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBzdHJcbiAqIEBwYXJhbSAge09iamVjdD19IG9wdGlvbnNcbiAqIEByZXR1cm4geyFBcnJheX1cbiAqL1xuZnVuY3Rpb24gcGFyc2UgKHN0ciwgb3B0aW9ucykge1xuICB2YXIgdG9rZW5zID0gW11cbiAgdmFyIGtleSA9IDBcbiAgdmFyIGluZGV4ID0gMFxuICB2YXIgcGF0aCA9ICcnXG4gIHZhciBkZWZhdWx0RGVsaW1pdGVyID0gb3B0aW9ucyAmJiBvcHRpb25zLmRlbGltaXRlciB8fCAnLydcbiAgdmFyIHJlc1xuXG4gIHdoaWxlICgocmVzID0gUEFUSF9SRUdFWFAuZXhlYyhzdHIpKSAhPSBudWxsKSB7XG4gICAgdmFyIG0gPSByZXNbMF1cbiAgICB2YXIgZXNjYXBlZCA9IHJlc1sxXVxuICAgIHZhciBvZmZzZXQgPSByZXMuaW5kZXhcbiAgICBwYXRoICs9IHN0ci5zbGljZShpbmRleCwgb2Zmc2V0KVxuICAgIGluZGV4ID0gb2Zmc2V0ICsgbS5sZW5ndGhcblxuICAgIC8vIElnbm9yZSBhbHJlYWR5IGVzY2FwZWQgc2VxdWVuY2VzLlxuICAgIGlmIChlc2NhcGVkKSB7XG4gICAgICBwYXRoICs9IGVzY2FwZWRbMV1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgdmFyIG5leHQgPSBzdHJbaW5kZXhdXG4gICAgdmFyIHByZWZpeCA9IHJlc1syXVxuICAgIHZhciBuYW1lID0gcmVzWzNdXG4gICAgdmFyIGNhcHR1cmUgPSByZXNbNF1cbiAgICB2YXIgZ3JvdXAgPSByZXNbNV1cbiAgICB2YXIgbW9kaWZpZXIgPSByZXNbNl1cbiAgICB2YXIgYXN0ZXJpc2sgPSByZXNbN11cblxuICAgIC8vIFB1c2ggdGhlIGN1cnJlbnQgcGF0aCBvbnRvIHRoZSB0b2tlbnMuXG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIHRva2Vucy5wdXNoKHBhdGgpXG4gICAgICBwYXRoID0gJydcbiAgICB9XG5cbiAgICB2YXIgcGFydGlhbCA9IHByZWZpeCAhPSBudWxsICYmIG5leHQgIT0gbnVsbCAmJiBuZXh0ICE9PSBwcmVmaXhcbiAgICB2YXIgcmVwZWF0ID0gbW9kaWZpZXIgPT09ICcrJyB8fCBtb2RpZmllciA9PT0gJyonXG4gICAgdmFyIG9wdGlvbmFsID0gbW9kaWZpZXIgPT09ICc/JyB8fCBtb2RpZmllciA9PT0gJyonXG4gICAgdmFyIGRlbGltaXRlciA9IHJlc1syXSB8fCBkZWZhdWx0RGVsaW1pdGVyXG4gICAgdmFyIHBhdHRlcm4gPSBjYXB0dXJlIHx8IGdyb3VwXG5cbiAgICB0b2tlbnMucHVzaCh7XG4gICAgICBuYW1lOiBuYW1lIHx8IGtleSsrLFxuICAgICAgcHJlZml4OiBwcmVmaXggfHwgJycsXG4gICAgICBkZWxpbWl0ZXI6IGRlbGltaXRlcixcbiAgICAgIG9wdGlvbmFsOiBvcHRpb25hbCxcbiAgICAgIHJlcGVhdDogcmVwZWF0LFxuICAgICAgcGFydGlhbDogcGFydGlhbCxcbiAgICAgIGFzdGVyaXNrOiAhIWFzdGVyaXNrLFxuICAgICAgcGF0dGVybjogcGF0dGVybiA/IGVzY2FwZUdyb3VwKHBhdHRlcm4pIDogKGFzdGVyaXNrID8gJy4qJyA6ICdbXicgKyBlc2NhcGVTdHJpbmcoZGVsaW1pdGVyKSArICddKz8nKVxuICAgIH0pXG4gIH1cblxuICAvLyBNYXRjaCBhbnkgY2hhcmFjdGVycyBzdGlsbCByZW1haW5pbmcuXG4gIGlmIChpbmRleCA8IHN0ci5sZW5ndGgpIHtcbiAgICBwYXRoICs9IHN0ci5zdWJzdHIoaW5kZXgpXG4gIH1cblxuICAvLyBJZiB0aGUgcGF0aCBleGlzdHMsIHB1c2ggaXQgb250byB0aGUgZW5kLlxuICBpZiAocGF0aCkge1xuICAgIHRva2Vucy5wdXNoKHBhdGgpXG4gIH1cblxuICByZXR1cm4gdG9rZW5zXG59XG5cbi8qKlxuICogQ29tcGlsZSBhIHN0cmluZyB0byBhIHRlbXBsYXRlIGZ1bmN0aW9uIGZvciB0aGUgcGF0aC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgIHN0clxuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshZnVuY3Rpb24oT2JqZWN0PSwgT2JqZWN0PSl9XG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGUgKHN0ciwgb3B0aW9ucykge1xuICByZXR1cm4gdG9rZW5zVG9GdW5jdGlvbihwYXJzZShzdHIsIG9wdGlvbnMpKVxufVxuXG4vKipcbiAqIFByZXR0aWVyIGVuY29kaW5nIG9mIFVSSSBwYXRoIHNlZ21lbnRzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IChzdHIpIHtcbiAgcmV0dXJuIGVuY29kZVVSSShzdHIpLnJlcGxhY2UoL1tcXC8/I10vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXG4gIH0pXG59XG5cbi8qKlxuICogRW5jb2RlIHRoZSBhc3RlcmlzayBwYXJhbWV0ZXIuIFNpbWlsYXIgdG8gYHByZXR0eWAsIGJ1dCBhbGxvd3Mgc2xhc2hlcy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZUFzdGVyaXNrIChzdHIpIHtcbiAgcmV0dXJuIGVuY29kZVVSSShzdHIpLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXG4gIH0pXG59XG5cbi8qKlxuICogRXhwb3NlIGEgbWV0aG9kIGZvciB0cmFuc2Zvcm1pbmcgdG9rZW5zIGludG8gdGhlIHBhdGggZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRva2Vuc1RvRnVuY3Rpb24gKHRva2Vucykge1xuICAvLyBDb21waWxlIGFsbCB0aGUgdG9rZW5zIGludG8gcmVnZXhwcy5cbiAgdmFyIG1hdGNoZXMgPSBuZXcgQXJyYXkodG9rZW5zLmxlbmd0aClcblxuICAvLyBDb21waWxlIGFsbCB0aGUgcGF0dGVybnMgYmVmb3JlIGNvbXBpbGF0aW9uLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0eXBlb2YgdG9rZW5zW2ldID09PSAnb2JqZWN0Jykge1xuICAgICAgbWF0Y2hlc1tpXSA9IG5ldyBSZWdFeHAoJ14oPzonICsgdG9rZW5zW2ldLnBhdHRlcm4gKyAnKSQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAob2JqLCBvcHRzKSB7XG4gICAgdmFyIHBhdGggPSAnJ1xuICAgIHZhciBkYXRhID0gb2JqIHx8IHt9XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRzIHx8IHt9XG4gICAgdmFyIGVuY29kZSA9IG9wdGlvbnMucHJldHR5ID8gZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IDogZW5jb2RlVVJJQ29tcG9uZW50XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhdGggKz0gdG9rZW5cblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWUgPSBkYXRhW3Rva2VuLm5hbWVdXG4gICAgICB2YXIgc2VnbWVudFxuXG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAvLyBQcmVwZW5kIHBhcnRpYWwgc2VnbWVudCBwcmVmaXhlcy5cbiAgICAgICAgICBpZiAodG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgICAgcGF0aCArPSB0b2tlbi5wcmVmaXhcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gYmUgZGVmaW5lZCcpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzYXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmICghdG9rZW4ucmVwZWF0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBub3QgcmVwZWF0LCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAnYCcpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCBiZSBlbXB0eScpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHNlZ21lbnQgPSBlbmNvZGUodmFsdWVbal0pXG5cbiAgICAgICAgICBpZiAoIW1hdGNoZXNbaV0udGVzdChzZWdtZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYWxsIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbWF0Y2ggXCInICsgdG9rZW4ucGF0dGVybiArICdcIiwgYnV0IHJlY2VpdmVkIGAnICsgSlNPTi5zdHJpbmdpZnkoc2VnbWVudCkgKyAnYCcpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcGF0aCArPSAoaiA9PT0gMCA/IHRva2VuLnByZWZpeCA6IHRva2VuLmRlbGltaXRlcikgKyBzZWdtZW50XG4gICAgICAgIH1cblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBzZWdtZW50ID0gdG9rZW4uYXN0ZXJpc2sgPyBlbmNvZGVBc3Rlcmlzayh2YWx1ZSkgOiBlbmNvZGUodmFsdWUpXG5cbiAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbWF0Y2ggXCInICsgdG9rZW4ucGF0dGVybiArICdcIiwgYnV0IHJlY2VpdmVkIFwiJyArIHNlZ21lbnQgKyAnXCInKVxuICAgICAgfVxuXG4gICAgICBwYXRoICs9IHRva2VuLnByZWZpeCArIHNlZ21lbnRcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aFxuICB9XG59XG5cbi8qKlxuICogRXNjYXBlIGEgcmVndWxhciBleHByZXNzaW9uIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHN0clxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcgKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLisqPz1eIToke30oKVtcXF18XFwvXFxcXF0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEVzY2FwZSB0aGUgY2FwdHVyaW5nIGdyb3VwIGJ5IGVzY2FwaW5nIHNwZWNpYWwgY2hhcmFjdGVycyBhbmQgbWVhbmluZy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGdyb3VwXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUdyb3VwIChncm91cCkge1xuICByZXR1cm4gZ3JvdXAucmVwbGFjZSgvKFs9ITokXFwvKCldKS9nLCAnXFxcXCQxJylcbn1cblxuLyoqXG4gKiBBdHRhY2ggdGhlIGtleXMgYXMgYSBwcm9wZXJ0eSBvZiB0aGUgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHJlXG4gKiBAcGFyYW0gIHtBcnJheX0gICBrZXlzXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBhdHRhY2hLZXlzIChyZSwga2V5cykge1xuICByZS5rZXlzID0ga2V5c1xuICByZXR1cm4gcmVcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGZsYWdzIGZvciBhIHJlZ2V4cCBmcm9tIHRoZSBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBmbGFncyAob3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucy5zZW5zaXRpdmUgPyAnJyA6ICdpJ1xufVxuXG4vKipcbiAqIFB1bGwgb3V0IGtleXMgZnJvbSBhIHJlZ2V4cC5cbiAqXG4gKiBAcGFyYW0gIHshUmVnRXhwfSBwYXRoXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBrZXlzXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiByZWdleHBUb1JlZ2V4cCAocGF0aCwga2V5cykge1xuICAvLyBVc2UgYSBuZWdhdGl2ZSBsb29rYWhlYWQgdG8gbWF0Y2ggb25seSBjYXB0dXJpbmcgZ3JvdXBzLlxuICB2YXIgZ3JvdXBzID0gcGF0aC5zb3VyY2UubWF0Y2goL1xcKCg/IVxcPykvZylcblxuICBpZiAoZ3JvdXBzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleXMucHVzaCh7XG4gICAgICAgIG5hbWU6IGksXG4gICAgICAgIHByZWZpeDogbnVsbCxcbiAgICAgICAgZGVsaW1pdGVyOiBudWxsLFxuICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgIHJlcGVhdDogZmFsc2UsXG4gICAgICAgIHBhcnRpYWw6IGZhbHNlLFxuICAgICAgICBhc3RlcmlzazogZmFsc2UsXG4gICAgICAgIHBhdHRlcm46IG51bGxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGF0dGFjaEtleXMocGF0aCwga2V5cylcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm0gYW4gYXJyYXkgaW50byBhIHJlZ2V4cC5cbiAqXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBwYXRoXG4gKiBAcGFyYW0gIHtBcnJheX0gICBrZXlzXG4gKiBAcGFyYW0gIHshT2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBhcnJheVRvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIHZhciBwYXJ0cyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgcGFydHMucHVzaChwYXRoVG9SZWdleHAocGF0aFtpXSwga2V5cywgb3B0aW9ucykuc291cmNlKVxuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoJyg/OicgKyBwYXJ0cy5qb2luKCd8JykgKyAnKScsIGZsYWdzKG9wdGlvbnMpKVxuXG4gIHJldHVybiBhdHRhY2hLZXlzKHJlZ2V4cCwga2V5cylcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBwYXRoIHJlZ2V4cCBmcm9tIHN0cmluZyBpbnB1dC5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBwYXRoXG4gKiBAcGFyYW0gIHshQXJyYXl9ICBrZXlzXG4gKiBAcGFyYW0gIHshT2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBzdHJpbmdUb1JlZ2V4cCAocGF0aCwga2V5cywgb3B0aW9ucykge1xuICByZXR1cm4gdG9rZW5zVG9SZWdFeHAocGFyc2UocGF0aCwgb3B0aW9ucyksIGtleXMsIG9wdGlvbnMpXG59XG5cbi8qKlxuICogRXhwb3NlIGEgZnVuY3Rpb24gZm9yIHRha2luZyB0b2tlbnMgYW5kIHJldHVybmluZyBhIFJlZ0V4cC5cbiAqXG4gKiBAcGFyYW0gIHshQXJyYXl9ICAgICAgICAgIHRva2Vuc1xuICogQHBhcmFtICB7KEFycmF5fE9iamVjdCk9fSBrZXlzXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHRva2Vuc1RvUmVnRXhwICh0b2tlbnMsIGtleXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XG4gICAgb3B0aW9ucyA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGtleXMgfHwgb3B0aW9ucylcbiAgICBrZXlzID0gW11cbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgdmFyIHN0cmljdCA9IG9wdGlvbnMuc3RyaWN0XG4gIHZhciBlbmQgPSBvcHRpb25zLmVuZCAhPT0gZmFsc2VcbiAgdmFyIHJvdXRlID0gJydcblxuICAvLyBJdGVyYXRlIG92ZXIgdGhlIHRva2VucyBhbmQgY3JlYXRlIG91ciByZWdleHAgc3RyaW5nLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXVxuXG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJvdXRlICs9IGVzY2FwZVN0cmluZyh0b2tlbilcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHByZWZpeCA9IGVzY2FwZVN0cmluZyh0b2tlbi5wcmVmaXgpXG4gICAgICB2YXIgY2FwdHVyZSA9ICcoPzonICsgdG9rZW4ucGF0dGVybiArICcpJ1xuXG4gICAgICBrZXlzLnB1c2godG9rZW4pXG5cbiAgICAgIGlmICh0b2tlbi5yZXBlYXQpIHtcbiAgICAgICAgY2FwdHVyZSArPSAnKD86JyArIHByZWZpeCArIGNhcHR1cmUgKyAnKSonXG4gICAgICB9XG5cbiAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICBpZiAoIXRva2VuLnBhcnRpYWwpIHtcbiAgICAgICAgICBjYXB0dXJlID0gJyg/OicgKyBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJykpPydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpPydcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FwdHVyZSA9IHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKSdcbiAgICAgIH1cblxuICAgICAgcm91dGUgKz0gY2FwdHVyZVxuICAgIH1cbiAgfVxuXG4gIHZhciBkZWxpbWl0ZXIgPSBlc2NhcGVTdHJpbmcob3B0aW9ucy5kZWxpbWl0ZXIgfHwgJy8nKVxuICB2YXIgZW5kc1dpdGhEZWxpbWl0ZXIgPSByb3V0ZS5zbGljZSgtZGVsaW1pdGVyLmxlbmd0aCkgPT09IGRlbGltaXRlclxuXG4gIC8vIEluIG5vbi1zdHJpY3QgbW9kZSB3ZSBhbGxvdyBhIHNsYXNoIGF0IHRoZSBlbmQgb2YgbWF0Y2guIElmIHRoZSBwYXRoIHRvXG4gIC8vIG1hdGNoIGFscmVhZHkgZW5kcyB3aXRoIGEgc2xhc2gsIHdlIHJlbW92ZSBpdCBmb3IgY29uc2lzdGVuY3kuIFRoZSBzbGFzaFxuICAvLyBpcyB2YWxpZCBhdCB0aGUgZW5kIG9mIGEgcGF0aCBtYXRjaCwgbm90IGluIHRoZSBtaWRkbGUuIFRoaXMgaXMgaW1wb3J0YW50XG4gIC8vIGluIG5vbi1lbmRpbmcgbW9kZSwgd2hlcmUgXCIvdGVzdC9cIiBzaG91bGRuJ3QgbWF0Y2ggXCIvdGVzdC8vcm91dGVcIi5cbiAgaWYgKCFzdHJpY3QpIHtcbiAgICByb3V0ZSA9IChlbmRzV2l0aERlbGltaXRlciA/IHJvdXRlLnNsaWNlKDAsIC1kZWxpbWl0ZXIubGVuZ3RoKSA6IHJvdXRlKSArICcoPzonICsgZGVsaW1pdGVyICsgJyg/PSQpKT8nXG4gIH1cblxuICBpZiAoZW5kKSB7XG4gICAgcm91dGUgKz0gJyQnXG4gIH0gZWxzZSB7XG4gICAgLy8gSW4gbm9uLWVuZGluZyBtb2RlLCB3ZSBuZWVkIHRoZSBjYXB0dXJpbmcgZ3JvdXBzIHRvIG1hdGNoIGFzIG11Y2ggYXNcbiAgICAvLyBwb3NzaWJsZSBieSB1c2luZyBhIHBvc2l0aXZlIGxvb2thaGVhZCB0byB0aGUgZW5kIG9yIG5leHQgcGF0aCBzZWdtZW50LlxuICAgIHJvdXRlICs9IHN0cmljdCAmJiBlbmRzV2l0aERlbGltaXRlciA/ICcnIDogJyg/PScgKyBkZWxpbWl0ZXIgKyAnfCQpJ1xuICB9XG5cbiAgcmV0dXJuIGF0dGFjaEtleXMobmV3IFJlZ0V4cCgnXicgKyByb3V0ZSwgZmxhZ3Mob3B0aW9ucykpLCBrZXlzKVxufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSB0aGUgZ2l2ZW4gcGF0aCBzdHJpbmcsIHJldHVybmluZyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAqXG4gKiBBbiBlbXB0eSBhcnJheSBjYW4gYmUgcGFzc2VkIGluIGZvciB0aGUga2V5cywgd2hpY2ggd2lsbCBob2xkIHRoZVxuICogcGxhY2Vob2xkZXIga2V5IGRlc2NyaXB0aW9ucy4gRm9yIGV4YW1wbGUsIHVzaW5nIGAvdXNlci86aWRgLCBga2V5c2Agd2lsbFxuICogY29udGFpbiBgW3sgbmFtZTogJ2lkJywgZGVsaW1pdGVyOiAnLycsIG9wdGlvbmFsOiBmYWxzZSwgcmVwZWF0OiBmYWxzZSB9XWAuXG4gKlxuICogQHBhcmFtICB7KHN0cmluZ3xSZWdFeHB8QXJyYXkpfSBwYXRoXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19ICAgICAgIGtleXNcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gcGF0aFRvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIGlmICghaXNhcnJheShrZXlzKSkge1xuICAgIG9wdGlvbnMgPSAvKiogQHR5cGUgeyFPYmplY3R9ICovIChrZXlzIHx8IG9wdGlvbnMpXG4gICAga2V5cyA9IFtdXG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIGlmIChwYXRoIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgcmV0dXJuIHJlZ2V4cFRvUmVnZXhwKHBhdGgsIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cykpXG4gIH1cblxuICBpZiAoaXNhcnJheShwYXRoKSkge1xuICAgIHJldHVybiBhcnJheVRvUmVnZXhwKC8qKiBAdHlwZSB7IUFycmF5fSAqLyAocGF0aCksIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cyksIG9wdGlvbnMpXG4gIH1cblxuICByZXR1cm4gc3RyaW5nVG9SZWdleHAoLyoqIEB0eXBlIHtzdHJpbmd9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcbn1cblxuXG4vKioqLyB9KSxcbi8qIDU1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBpc0Fic29sdXRlID0gZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xuICByZXR1cm4gcGF0aG5hbWUuY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKClcbnZhciBzcGxpY2VPbmUgPSBmdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4LCBrID0gaSArIDEsIG4gPSBsaXN0Lmxlbmd0aDsgayA8IG47IGkgKz0gMSwgayArPSAxKSB7XG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIH1saXN0LnBvcCgpO1xufTtcblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBoZWF2aWx5IG9uIG5vZGUncyB1cmwucGFyc2VcbnZhciByZXNvbHZlUGF0aG5hbWUgPSBmdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUodG8pIHtcbiAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IGZyb20gJiYgZnJvbS5zcGxpdCgnLycpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSB2b2lkIDA7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkge1xuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpO1xuICB9aWYgKG11c3RFbmRBYnMgJiYgZnJvbVBhcnRzWzBdICE9PSAnJyAmJiAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKSkgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzb2x2ZVBhdGhuYW1lO1xuXG4vKioqLyB9KSxcbi8qIDU2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIHZhbHVlRXF1YWwgPSBmdW5jdGlvbiB2YWx1ZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHJldHVybiBBcnJheS5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHJldHVybiB2YWx1ZUVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgfSk7XG5cbiAgdmFyIGFUeXBlID0gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGEpO1xuICB2YXIgYlR5cGUgPSB0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYik7XG5cbiAgaWYgKGFUeXBlICE9PSBiVHlwZSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChhVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgYVZhbHVlID0gYS52YWx1ZU9mKCk7XG4gICAgdmFyIGJWYWx1ZSA9IGIudmFsdWVPZigpO1xuXG4gICAgaWYgKGFWYWx1ZSAhPT0gYSB8fCBiVmFsdWUgIT09IGIpIHJldHVybiB2YWx1ZUVxdWFsKGFWYWx1ZSwgYlZhbHVlKTtcblxuICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuXG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gYUtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHZhbHVlRXF1YWwoYVtrZXldLCBiW2tleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gdmFsdWVFcXVhbDtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBidW5kbGUuanMiLCIgXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4gXHR0aGlzW1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IFxyXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0XHRpZihwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xyXG4gXHR9IDtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbiBcdFx0c2NyaXB0LnR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiO1xyXG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XHJcbiBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gXHRcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XHJcbiBcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcclxuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcclxuIFx0XHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gMTAwMDA7XHJcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcclxuIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRcdGlmKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xyXG4gXHRcdFx0XHRpZihyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xyXG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcclxuIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XHJcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxyXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xyXG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcclxuIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xyXG4gXHRcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiBcdFx0XHRcdFx0fSBjYXRjaChlKSB7XHJcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XHJcbiBcdFx0XHRcdFx0XHRyZXR1cm47XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fTtcclxuIFx0XHR9KTtcclxuIFx0fVxyXG5cbiBcdFxyXG4gXHRcclxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xyXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjNjMzBhYTU1YTgwZDYzYmVkMmI4XCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XHJcbiBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRpZighbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xyXG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuIFx0XHRcdGlmKG1lLmhvdC5hY3RpdmUpIHtcclxuIFx0XHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xyXG4gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcclxuIFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlcXVlc3QgKyBcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgKyBtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcclxuIFx0XHR9O1xyXG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XHJcbiBcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XHJcbiBcdFx0XHRcdH0sXHJcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH07XHJcbiBcdFx0fTtcclxuIFx0XHRmb3IodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmIG5hbWUgIT09IFwiZVwiKSB7XHJcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XHJcbiBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicmVhZHlcIilcclxuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcclxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuIFx0XHRcdFx0dGhyb3cgZXJyO1xyXG4gXHRcdFx0fSk7XHJcbiBcdFxyXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xyXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XHJcbiBcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuIFx0XHRcdFx0XHRpZighaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0aWYoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9O1xyXG4gXHRcdHJldHVybiBmbjtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHR2YXIgaG90ID0ge1xyXG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcclxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxyXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXHJcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcclxuIFx0XHJcbiBcdFx0XHQvLyBNb2R1bGUgQVBJXHJcbiBcdFx0XHRhY3RpdmU6IHRydWUsXHJcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbiBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcbiBcdFx0XHRcdGVsc2VcclxuIFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKVxyXG4gXHRcdFx0XHRcdGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlXHJcbiBcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxyXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxyXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcclxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxyXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbiBcdFx0fTtcclxuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XHJcbiBcdFx0cmV0dXJuIGhvdDtcclxuIFx0fVxyXG4gXHRcclxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XHJcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcclxuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xyXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdERlZmVycmVkO1xyXG4gXHRcclxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXHJcbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XHJcbiBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcclxuIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XHJcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoKS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcclxuIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XHJcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XHJcbiBcdFxyXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xyXG4gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXHJcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcclxuIFx0XHRcdFx0fTtcclxuIFx0XHRcdH0pO1xyXG4gXHRcdFx0aG90VXBkYXRlID0ge307XHJcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XHJcbiBcdFx0XHR7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9uZS1ibG9ja3NcclxuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cclxuIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xyXG4gXHRcdH0pO1xyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0aWYoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuIFx0XHRcdHJldHVybjtcclxuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xyXG4gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcdGlmKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcclxuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcclxuIFx0XHRpZighaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0fSBlbHNlIHtcclxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcclxuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbiBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XHJcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xyXG4gXHRcdGlmKCFkZWZlcnJlZCkgcmV0dXJuO1xyXG4gXHRcdGlmKGhvdEFwcGx5T25VcGRhdGUpIHtcclxuIFx0XHRcdGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiBcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcclxuIFx0XHRcdH0sIGZ1bmN0aW9uKGVycikge1xyXG4gXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcclxuIFx0XHRcdH0pO1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4gXHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcclxuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0XHR9XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcclxuIFx0XHRpZihob3RTdGF0dXMgIT09IFwicmVhZHlcIikgdGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xyXG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gXHRcclxuIFx0XHR2YXIgY2I7XHJcbiBcdFx0dmFyIGk7XHJcbiBcdFx0dmFyIGo7XHJcbiBcdFx0dmFyIG1vZHVsZTtcclxuIFx0XHR2YXIgbW9kdWxlSWQ7XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcclxuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbiBcdFxyXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XHJcbiBcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXHJcbiBcdFx0XHRcdFx0aWQ6IGlkXHJcbiBcdFx0XHRcdH07XHJcbiBcdFx0XHR9KTtcclxuIFx0XHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuIFx0XHRcdFx0dmFyIHF1ZXVlSXRlbSA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XHJcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcclxuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXHJcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcclxuIFx0XHRcdFx0XHR9O1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKG1vZHVsZS5ob3QuX21haW4pIHtcclxuIFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXHJcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXHJcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcclxuIFx0XHRcdFx0XHR9O1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xyXG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcclxuIFx0XHRcdFx0XHRpZighcGFyZW50KSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuIFx0XHRcdFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcclxuIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcclxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcclxuIFx0XHRcdFx0XHRcdH07XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xyXG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xyXG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcclxuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcclxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXHJcbiBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcclxuIFx0XHRcdFx0XHR9KTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcclxuIFx0XHRcdHJldHVybiB7XHJcbiBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcclxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxyXG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcclxuIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXHJcbiBcdFx0XHR9O1xyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xyXG4gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xyXG4gXHRcdFx0XHRpZihhLmluZGV4T2YoaXRlbSkgPCAwKVxyXG4gXHRcdFx0XHRcdGEucHVzaChpdGVtKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXHJcbiBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxyXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcclxuIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xyXG4gXHRcclxuIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xyXG4gXHRcdFx0Y29uc29sZS53YXJuKFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiKTtcclxuIFx0XHR9O1xyXG4gXHRcclxuIFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XHJcbiBcdFx0XHRcdHZhciByZXN1bHQ7XHJcbiBcdFx0XHRcdGlmKGhvdFVwZGF0ZVtpZF0pIHtcclxuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHRyZXN1bHQgPSB7XHJcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXHJcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcclxuIFx0XHRcdFx0XHR9O1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XHJcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XHJcbiBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcclxuIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XHJcbiBcdFx0XHRcdGlmKHJlc3VsdC5jaGFpbikge1xyXG4gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRzd2l0Y2gocmVzdWx0LnR5cGUpIHtcclxuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRlY2xpbmVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxyXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgKyByZXN1bHQubW9kdWxlSWQgKyBjaGFpbkluZm8pO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGVjbGluZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXHJcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIiBpbiBcIiArIHJlc3VsdC5wYXJlbnRJZCArIGNoYWluSW5mbyk7XHJcbiBcdFx0XHRcdFx0XHRicmVhaztcclxuIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vblVuYWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25VbmFjY2VwdGVkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mbyk7XHJcbiBcdFx0XHRcdFx0XHRicmVhaztcclxuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25BY2NlcHRlZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRpc3Bvc2VkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XHJcbiBcdFx0XHRcdFx0XHRicmVhaztcclxuIFx0XHRcdFx0XHRkZWZhdWx0OlxyXG4gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihhYm9ydEVycm9yKSB7XHJcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKGRvQXBwbHkpIHtcclxuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XHJcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcclxuIFx0XHRcdFx0XHRmb3IobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbiBcdFx0XHRcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcclxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcclxuIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLCByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKTtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYoZG9EaXNwb3NlKSB7XHJcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCBbcmVzdWx0Lm1vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cclxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0Zm9yKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcclxuIFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkKVxyXG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XHJcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXHJcbiBcdFx0XHRcdH0pO1xyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcclxuIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XHJcbiBcdFx0XHRpZihob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcclxuIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH0pO1xyXG4gXHRcclxuIFx0XHR2YXIgaWR4O1xyXG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xyXG4gXHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XHJcbiBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdGlmKCFtb2R1bGUpIGNvbnRpbnVlO1xyXG4gXHRcclxuIFx0XHRcdHZhciBkYXRhID0ge307XHJcbiBcdFxyXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXHJcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xyXG4gXHRcdFx0Zm9yKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XHJcbiBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xyXG4gXHRcdFx0XHRjYihkYXRhKTtcclxuIFx0XHRcdH1cclxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFxyXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuIFx0XHRcdGZvcihqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XHJcbiBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSB7XHJcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cclxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcclxuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XHJcbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0aWYobW9kdWxlKSB7XHJcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdFx0Zm9yKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcclxuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4gXHRcdFx0XHRcdFx0aWYoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcclxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcclxuIFx0XHJcbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xyXG4gXHRcclxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcclxuIFx0XHRmb3IobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcclxuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xyXG4gXHRcdGZvcihtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XHJcbiBcdFx0XHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xyXG4gXHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XHJcbiBcdFx0XHRcdFx0aWYoY2FsbGJhY2tzLmluZGV4T2YoY2IpID49IDApIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xyXG4gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRXJyb3JlZCkge1xyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxyXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxyXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcclxuIFx0XHRcdFx0XHRcdFx0fSk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbiBcdFx0Zm9yKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcclxuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XHJcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XHJcbiBcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcclxuIFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XHJcbiBcdFx0XHRcdFx0fSBjYXRjaChlcnIyKSB7XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRXJyb3JlZCkge1xyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XHJcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcclxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXHJcbiBcdFx0XHRcdFx0XHRcdFx0b3JnaW5hbEVycm9yOiBlcnJcclxuIFx0XHRcdFx0XHRcdFx0fSk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjI7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0fSBlbHNlIHtcclxuIFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRXJyb3JlZCkge1xyXG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xyXG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcclxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXHJcbiBcdFx0XHRcdFx0XHR9KTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXHJcbiBcdFx0aWYoZXJyb3IpIHtcclxuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XHJcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gXHRcdH1cclxuIFx0XHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuIFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdH1cclxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgzMSkoX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzEpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDNjMzBhYTU1YTgwZDYzYmVkMmI4IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKTtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tc2hhcmVkL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0JykuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vY29yZS9vcHRpb25zXCIpO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi4vY29yZS9WTm9kZXNcIik7XHJcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcclxudmFyIG1vdW50aW5nXzEgPSByZXF1aXJlKFwiLi9tb3VudGluZ1wiKTtcclxudmFyIHVubW91bnRpbmdfMSA9IHJlcXVpcmUoXCIuL3VubW91bnRpbmdcIik7XHJcbi8vIFdlIG5lZWQgRU1QVFlfT0JKIGRlZmluZWQgaW4gb25lIHBsYWNlLlxyXG4vLyBJdHMgdXNlZCBmb3IgY29tcGFyaXNvbiBzbyB3ZSBjYW50IGlubGluZSBpdCBpbnRvIHNoYXJlZFxyXG5leHBvcnRzLkVNUFRZX09CSiA9IHt9O1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgT2JqZWN0LmZyZWV6ZShleHBvcnRzLkVNUFRZX09CSik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZSh2Tm9kZSwgQ29tcG9uZW50LCBwcm9wcywgY29udGV4dCwgaXNTVkcsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29udGV4dCkpIHtcclxuICAgICAgICBjb250ZXh0ID0gZXhwb3J0cy5FTVBUWV9PQko7IC8vIENvbnRleHQgc2hvdWxkIG5vdCBiZSBtdXRhYmxlXHJcbiAgICB9XHJcbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcclxuICAgIHZOb2RlLmNoaWxkcmVuID0gaW5zdGFuY2U7XHJcbiAgICBpbnN0YW5jZS5fYmxvY2tTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgaW5zdGFuY2UuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICBpZiAoaW5zdGFuY2UucHJvcHMgPT09IGV4cG9ydHMuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcclxuICAgIH1cclxuICAgIC8vIHNldFN0YXRlIGNhbGxiYWNrcyBtdXN0IGZpcmUgYWZ0ZXIgcmVuZGVyIGlzIGRvbmUgd2hlbiBjYWxsZWQgZnJvbSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIG9yIGNvbXBvbmVudFdpbGxNb3VudFxyXG4gICAgaW5zdGFuY2UuX2xpZmVjeWNsZSA9IGxpZmVjeWNsZTtcclxuICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSBmYWxzZTtcclxuICAgIGluc3RhbmNlLl9wZW5kaW5nU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgaW5zdGFuY2UuX2lzU1ZHID0gaXNTVkc7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KSkge1xyXG4gICAgICAgIGluc3RhbmNlLl9ibG9ja1JlbmRlciA9IHRydWU7XHJcbiAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCk7XHJcbiAgICAgICAgaW5zdGFuY2UuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRDb250ZXh0O1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmdldENoaWxkQ29udGV4dCkpIHtcclxuICAgICAgICBjaGlsZENvbnRleHQgPSBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQoKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgIGluc3RhbmNlLl9jaGlsZENvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYmVmb3JlUmVuZGVyKSkge1xyXG4gICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVJlbmRlcihpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICB2YXIgaW5wdXQgPSBpbnN0YW5jZS5yZW5kZXIocHJvcHMsIGluc3RhbmNlLnN0YXRlLCBjb250ZXh0KTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIpKSB7XHJcbiAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2EgdmFsaWQgSW5mZXJubyBWTm9kZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZCBmcm9tIGEgY29tcG9uZW50IHJlbmRlci4gWW91IG1heSBoYXZlIHJldHVybmVkIGFuIGFycmF5IG9yIGFuIGludmFsaWQgb2JqZWN0LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVm9pZFZOb2RlKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIoaW5wdXQpKSB7XHJcbiAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVUZXh0Vk5vZGUoaW5wdXQsIG51bGwpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGlucHV0LmRvbSkge1xyXG4gICAgICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGlucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYW4gaW5wdXQgdGhhdCBpcyBhbHNvIGEgY29tcG9uZW50LCB3ZSBydW4gaW50byBhIHRyaWNreSBzaXR1YXRpb25cclxuICAgICAgICAgICAgLy8gd2hlcmUgdGhlIHJvb3Qgdk5vZGUgbmVlZHMgdG8gYWx3YXlzIGhhdmUgdGhlIGNvcnJlY3QgRE9NIGVudHJ5XHJcbiAgICAgICAgICAgIC8vIHNvIHdlIGJyZWFrIG1vbm9tb3JwaGlzbSBvbiBvdXIgaW5wdXQgYW5kIHN1cHBseSBpdCBvdXIgdk5vZGUgYXMgcGFyZW50Vk5vZGVcclxuICAgICAgICAgICAgLy8gd2UgY2FuIG9wdGltaXNlIHRoaXMgaW4gdGhlIGZ1dHVyZSwgYnV0IHRoaXMgZ2V0cyB1cyBvdXQgb2YgYSBsb3Qgb2YgaXNzdWVzXHJcbiAgICAgICAgICAgIGlucHV0LnBhcmVudFZOb2RlID0gdk5vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5zdGFuY2UuX3BlbmRpbmdTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgaW5zdGFuY2UuX2xhc3RJbnB1dCA9IGlucHV0O1xyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcbmV4cG9ydHMuY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZSA9IGNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2U7XHJcbmZ1bmN0aW9uIHJlcGxhY2VMYXN0Q2hpbGRBbmRVbm1vdW50KGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICByZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50KG5leHRJbnB1dCwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIGxhc3RJbnB1dCwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbn1cclxuZXhwb3J0cy5yZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudCA9IHJlcGxhY2VMYXN0Q2hpbGRBbmRVbm1vdW50O1xyXG5mdW5jdGlvbiByZXBsYWNlVk5vZGUocGFyZW50RG9tLCBkb20sIHZOb2RlLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB1bm1vdW50aW5nXzEudW5tb3VudCh2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgcmVwbGFjZUNoaWxkKHBhcmVudERvbSwgZG9tLCB2Tm9kZS5kb20pO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZVZOb2RlID0gcmVwbGFjZVZOb2RlO1xyXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQodk5vZGUsIGNvbXBvbmVudCwgcHJvcHMsIGNvbnRleHQpIHtcclxuICAgIHZhciBpbnB1dCA9IGNvbXBvbmVudChwcm9wcywgY29udGV4dCk7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGlucHV0KSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoaW5wdXQpKSB7XHJcbiAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShpbnB1dCwgbnVsbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbiBpbnB1dCB0aGF0IGlzIGFsc28gYSBjb21wb25lbnQsIHdlIHJ1biBpbnRvIGEgdHJpY2t5IHNpdHVhdGlvblxyXG4gICAgICAgICAgICAvLyB3aGVyZSB0aGUgcm9vdCB2Tm9kZSBuZWVkcyB0byBhbHdheXMgaGF2ZSB0aGUgY29ycmVjdCBET00gZW50cnlcclxuICAgICAgICAgICAgLy8gc28gd2UgYnJlYWsgbW9ub21vcnBoaXNtIG9uIG91ciBpbnB1dCBhbmQgc3VwcGx5IGl0IG91ciB2Tm9kZSBhcyBwYXJlbnRWTm9kZVxyXG4gICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBpbiB0aGUgZnV0dXJlLCBidXQgdGhpcyBnZXRzIHVzIG91dCBvZiBhIGxvdCBvZiBpc3N1ZXNcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50Vk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5wdXQ7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQgPSBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQ7XHJcbmZ1bmN0aW9uIHNldFRleHRDb250ZW50KGRvbSwgdGV4dCkge1xyXG4gICAgaWYgKHRleHQgIT09ICcnKSB7XHJcbiAgICAgICAgZG9tLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuc2V0VGV4dENvbnRlbnQgPSBzZXRUZXh0Q29udGVudDtcclxuZnVuY3Rpb24gdXBkYXRlVGV4dENvbnRlbnQoZG9tLCB0ZXh0KSB7XHJcbiAgICBkb20uZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB0ZXh0O1xyXG59XHJcbmV4cG9ydHMudXBkYXRlVGV4dENvbnRlbnQgPSB1cGRhdGVUZXh0Q29udGVudDtcclxuZnVuY3Rpb24gYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pIHtcclxuICAgIHBhcmVudERvbS5hcHBlbmRDaGlsZChkb20pO1xyXG59XHJcbmV4cG9ydHMuYXBwZW5kQ2hpbGQgPSBhcHBlbmRDaGlsZDtcclxuZnVuY3Rpb24gaW5zZXJ0T3JBcHBlbmQocGFyZW50RG9tLCBuZXdOb2RlLCBuZXh0Tm9kZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0Tm9kZSkpIHtcclxuICAgICAgICBhcHBlbmRDaGlsZChwYXJlbnREb20sIG5ld05vZGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcGFyZW50RG9tLmluc2VydEJlZm9yZShuZXdOb2RlLCBuZXh0Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5pbnNlcnRPckFwcGVuZCA9IGluc2VydE9yQXBwZW5kO1xyXG5mdW5jdGlvbiBkb2N1bWVudENyZWF0ZUVsZW1lbnQodGFnLCBpc1NWRykge1xyXG4gICAgaWYgKGlzU1ZHID09PSB0cnVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhjb25zdGFudHNfMS5zdmdOUywgdGFnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kb2N1bWVudENyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQ7XHJcbmZ1bmN0aW9uIHJlcGxhY2VXaXRoTmV3Tm9kZShsYXN0Tm9kZSwgbmV4dE5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHVubW91bnRpbmdfMS51bm1vdW50KGxhc3ROb2RlLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB2YXIgZG9tID0gbW91bnRpbmdfMS5tb3VudChuZXh0Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICBuZXh0Tm9kZS5kb20gPSBkb207XHJcbiAgICByZXBsYWNlQ2hpbGQocGFyZW50RG9tLCBkb20sIGxhc3ROb2RlLmRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZXBsYWNlV2l0aE5ld05vZGUgPSByZXBsYWNlV2l0aE5ld05vZGU7XHJcbmZ1bmN0aW9uIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIG5leHREb20sIGxhc3REb20pIHtcclxuICAgIGlmICghcGFyZW50RG9tKSB7XHJcbiAgICAgICAgcGFyZW50RG9tID0gbGFzdERvbS5wYXJlbnROb2RlO1xyXG4gICAgfVxyXG4gICAgcGFyZW50RG9tLnJlcGxhY2VDaGlsZChuZXh0RG9tLCBsYXN0RG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VDaGlsZCA9IHJlcGxhY2VDaGlsZDtcclxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQocGFyZW50RG9tLCBkb20pIHtcclxuICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb20pO1xyXG59XHJcbmV4cG9ydHMucmVtb3ZlQ2hpbGQgPSByZW1vdmVDaGlsZDtcclxuZnVuY3Rpb24gcmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgZG9tLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICBpZiAoIW9wdGlvbnNfMS5vcHRpb25zLnJlY3ljbGluZ0VuYWJsZWQgfHwgKG9wdGlvbnNfMS5vcHRpb25zLnJlY3ljbGluZ0VuYWJsZWQgJiYgIWlzUmVjeWNsaW5nKSkge1xyXG4gICAgICAgIHJlbW92ZUNoaWxkcmVuKG51bGwsIGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnJlbW92ZUFsbENoaWxkcmVuID0gcmVtb3ZlQWxsQ2hpbGRyZW47XHJcbmZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKGRvbSwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGNoaWxkLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnJlbW92ZUNoaWxkcmVuID0gcmVtb3ZlQ2hpbGRyZW47XHJcbmZ1bmN0aW9uIGlzS2V5ZWQobGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pIHtcclxuICAgIHJldHVybiBuZXh0Q2hpbGRyZW4ubGVuZ3RoID4gMCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDaGlsZHJlblswXSkgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0Q2hpbGRyZW5bMF0ua2V5KVxyXG4gICAgICAgICYmIGxhc3RDaGlsZHJlbi5sZW5ndGggPiAwICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdENoaWxkcmVuWzBdKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGxhc3RDaGlsZHJlblswXS5rZXkpO1xyXG59XHJcbmV4cG9ydHMuaXNLZXllZCA9IGlzS2V5ZWQ7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3V0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMub3B0aW9ucyA9IHtcclxuICAgIGFmdGVyTW91bnQ6IG51bGwsXHJcbiAgICBhZnRlclJlbmRlcjogbnVsbCxcclxuICAgIGFmdGVyVXBkYXRlOiBudWxsLFxyXG4gICAgYmVmb3JlUmVuZGVyOiBudWxsLFxyXG4gICAgYmVmb3JlVW5tb3VudDogbnVsbCxcclxuICAgIGNyZWF0ZVZOb2RlOiBudWxsLFxyXG4gICAgZmluZERPTU5vZGVFbmFibGVkOiBmYWxzZSxcclxuICAgIHJlY3ljbGluZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgcm9vdHM6IFtdXHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvY29yZS9vcHRpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9ET00vdXRpbHNcIik7XHJcbnZhciBub3JtYWxpemF0aW9uXzEgPSByZXF1aXJlKFwiLi9ub3JtYWxpemF0aW9uXCIpO1xyXG52YXIgb3B0aW9uc18xID0gcmVxdWlyZShcIi4vb3B0aW9uc1wiKTtcclxuZnVuY3Rpb24gVk5vZGUoY2hpbGRyZW4sIGNsYXNzTmFtZSwgZmxhZ3MsIGtleSwgcHJvcHMsIHJlZiwgdHlwZSkge1xyXG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICB0aGlzLmRvbSA9IG51bGw7XHJcbiAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XHJcbiAgICB0aGlzLmtleSA9IGtleTtcclxuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcclxuICAgIHRoaXMucmVmID0gcmVmO1xyXG4gICAgdGhpcy50eXBlID0gdHlwZTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyB2aXJ0dWFsIG5vZGVcclxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufG51bGx9IHR5cGVcclxuICogQHBhcmFtIHtzdHJpbmd8bnVsbD19IGNsYXNzTmFtZVxyXG4gKiBAcGFyYW0ge29iamVjdD19IGNoaWxkcmVuXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gcHJvcHNcclxuICogQHBhcmFtIHsqPX0ga2V5XHJcbiAqIEBwYXJhbSB7b2JqZWN0fEZ1bmN0aW9uPX0gcmVmXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vTm9ybWFsaXNlXHJcbiAqIEByZXR1cm5zIHtWTm9kZX0gcmV0dXJucyBuZXcgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVWTm9kZShmbGFncywgdHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgcHJvcHMsIGtleSwgcmVmLCBub05vcm1hbGlzZSkge1xyXG4gICAgaWYgKGZsYWdzICYgMTYgLyogQ29tcG9uZW50VW5rbm93biAqLykge1xyXG4gICAgICAgIGZsYWdzID0gaW5mZXJub19zaGFyZWRfMS5pc1N0YXRlZnVsQ29tcG9uZW50KHR5cGUpID8gNCAvKiBDb21wb25lbnRDbGFzcyAqLyA6IDggLyogQ29tcG9uZW50RnVuY3Rpb24gKi87XHJcbiAgICB9XHJcbiAgICB2YXIgdk5vZGUgPSBuZXcgVk5vZGUoY2hpbGRyZW4gPT09IHZvaWQgMCA/IG51bGwgOiBjaGlsZHJlbiwgY2xhc3NOYW1lID09PSB2b2lkIDAgPyBudWxsIDogY2xhc3NOYW1lLCBmbGFncywga2V5ID09PSB2b2lkIDAgPyBudWxsIDoga2V5LCBwcm9wcyA9PT0gdm9pZCAwID8gbnVsbCA6IHByb3BzLCByZWYgPT09IHZvaWQgMCA/IG51bGwgOiByZWYsIHR5cGUpO1xyXG4gICAgaWYgKG5vTm9ybWFsaXNlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZSh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMuY3JlYXRlVk5vZGUgIT09IG51bGwpIHtcclxuICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5jcmVhdGVWTm9kZSh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVWTm9kZSA9IGNyZWF0ZVZOb2RlO1xyXG5mdW5jdGlvbiBkaXJlY3RDbG9uZSh2Tm9kZVRvQ2xvbmUpIHtcclxuICAgIHZhciBuZXdWTm9kZTtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlVG9DbG9uZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHZvaWQgMDtcclxuICAgICAgICB2YXIgcHJvcHNUb0Nsb25lID0gdk5vZGVUb0Nsb25lLnByb3BzO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wc1RvQ2xvbmUpKSB7XHJcbiAgICAgICAgICAgIHByb3BzID0gdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHNUb0Nsb25lKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcHJvcHNUb0Nsb25lW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVWTm9kZShmbGFncywgdk5vZGVUb0Nsb25lLnR5cGUsIG51bGwsIG51bGwsIHByb3BzLCB2Tm9kZVRvQ2xvbmUua2V5LCB2Tm9kZVRvQ2xvbmUucmVmLCB0cnVlKTtcclxuICAgICAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcztcclxuICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBuZXdQcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGFsc28gY2xvbmUgY29tcG9uZW50IGNoaWxkcmVuIHRoYXQgYXJlIGluIHByb3BzXHJcbiAgICAgICAgLy8gYXMgdGhlIGNoaWxkcmVuIG1heSBhbHNvIGhhdmUgYmVlbiBob2lzdGVkXHJcbiAgICAgICAgaWYgKG5ld0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV3Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gbmV3Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5ld0NoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpc1ZOb2RlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChkaXJlY3RDbG9uZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gdG1wQXJyYXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNWTm9kZShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gZGlyZWN0Q2xvbmUobmV3Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlLmNoaWxkcmVuID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdk5vZGVUb0Nsb25lLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHZvaWQgMDtcclxuICAgICAgICB2YXIgcHJvcHNUb0Nsb25lID0gdk5vZGVUb0Nsb25lLnByb3BzO1xyXG4gICAgICAgIGlmIChwcm9wc1RvQ2xvbmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wc1RvQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSBwcm9wc1RvQ2xvbmVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgdk5vZGVUb0Nsb25lLmNsYXNzTmFtZSwgY2hpbGRyZW4sIHByb3BzLCB2Tm9kZVRvQ2xvbmUua2V5LCB2Tm9kZVRvQ2xvbmUucmVmLCAhY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVRleHRWTm9kZSh2Tm9kZVRvQ2xvbmUuY2hpbGRyZW4sIHZOb2RlVG9DbG9uZS5rZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1ZOb2RlO1xyXG59XHJcbmV4cG9ydHMuZGlyZWN0Q2xvbmUgPSBkaXJlY3RDbG9uZTtcclxuLypcclxuIGRpcmVjdENsb25lIGlzIHByZWZlcnJlZCBvdmVyIGNsb25lVk5vZGUgYW5kIHVzZWQgaW50ZXJuYWxseSBhbHNvLlxyXG4gVGhpcyBmdW5jdGlvbiBtYWtlcyBJbmZlcm5vIGJhY2t3YXJkcyBjb21wYXRpYmxlLlxyXG4gQW5kIGNhbiBiZSB0cmVlLXNoYWtlZCBieSBtb2Rlcm4gYnVuZGxlcnNcclxuXHJcbiBXb3VsZCBiZSBuaWNlIHRvIGNvbWJpbmUgdGhpcyB3aXRoIGRpcmVjdENsb25lIGJ1dCBjb3VsZCBub3QgZG8gaXQgd2l0aG91dCBicmVha2luZyBjaGFuZ2VcclxuICovXHJcbi8qKlxyXG4gKiBDbG9uZXMgZ2l2ZW4gdmlydHVhbCBub2RlIGJ5IGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBpdFxyXG4gKiBAcGFyYW0ge1ZOb2RlfSB2Tm9kZVRvQ2xvbmUgdmlydHVhbCBub2RlIHRvIGJlIGNsb25lZFxyXG4gKiBAcGFyYW0ge1Byb3BzPX0gcHJvcHMgYWRkaXRpb25hbCBwcm9wcyBmb3IgbmV3IHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0gey4uLip9IF9jaGlsZHJlbiBuZXcgY2hpbGRyZW4gZm9yIG5ldyB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge1ZOb2RlfSBuZXcgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZOb2RlVG9DbG9uZSwgcHJvcHMpIHtcclxuICAgIHZhciBfY2hpbGRyZW4gPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgX2NoaWxkcmVuW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gX2NoaWxkcmVuO1xyXG4gICAgdmFyIGNoaWxkcmVuTGVuID0gX2NoaWxkcmVuLmxlbmd0aDtcclxuICAgIGlmIChjaGlsZHJlbkxlbiA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoX2NoaWxkcmVuWzBdKSkge1xyXG4gICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuTGVuID09PSAxKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIG5ld1ZOb2RlO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheSh2Tm9kZVRvQ2xvbmUpKSB7XHJcbiAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZOb2RlVG9DbG9uZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKHZOb2RlVG9DbG9uZVtpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IHRtcEFycmF5O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGZsYWdzID0gdk5vZGVUb0Nsb25lLmZsYWdzO1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZVRvQ2xvbmUuY2xhc3NOYW1lIHx8IChwcm9wcyAmJiBwcm9wcy5jbGFzc05hbWUpO1xyXG4gICAgICAgIHZhciBrZXkgPSAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZOb2RlVG9DbG9uZS5rZXkpID8gdk5vZGVUb0Nsb25lLmtleSA6IChwcm9wcyA/IHByb3BzLmtleSA6IG51bGwpO1xyXG4gICAgICAgIHZhciByZWYgPSB2Tm9kZVRvQ2xvbmUucmVmIHx8IChwcm9wcyA/IHByb3BzLnJlZiA6IG51bGwpO1xyXG4gICAgICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgY2xhc3NOYW1lLCBudWxsLCAoIXZOb2RlVG9DbG9uZS5wcm9wcyAmJiAhcHJvcHMpID8gdXRpbHNfMS5FTVBUWV9PQkogOiBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHZOb2RlVG9DbG9uZS5wcm9wcywgcHJvcHMpLCBrZXksIHJlZiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xyXG4gICAgICAgICAgICBpZiAobmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IG5ld1Byb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBhbHNvIGNsb25lIGNvbXBvbmVudCBjaGlsZHJlbiB0aGF0IGFyZSBpbiBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gYXMgdGhlIGNoaWxkcmVuIG1heSBhbHNvIGhhdmUgYmVlbiBob2lzdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuID0gbmV3Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVuID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkgJiYgaXNWTm9kZShjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChkaXJlY3RDbG9uZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gdG1wQXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNWTm9kZShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSBkaXJlY3RDbG9uZShuZXdDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlLmNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSAocHJvcHMgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocHJvcHMuY2hpbGRyZW4pKSA/IHByb3BzLmNoaWxkcmVuIDogdk5vZGVUb0Nsb25lLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgKCF2Tm9kZVRvQ2xvbmUucHJvcHMgJiYgIXByb3BzKSA/IHV0aWxzXzEuRU1QVFlfT0JKIDogaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbSh2Tm9kZVRvQ2xvbmUucHJvcHMsIHByb3BzKSwga2V5LCByZWYsICFjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVGV4dFZOb2RlKHZOb2RlVG9DbG9uZS5jaGlsZHJlbiwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Vk5vZGU7XHJcbn1cclxuZXhwb3J0cy5jbG9uZVZOb2RlID0gY2xvbmVWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlVm9pZFZOb2RlKCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKDQwOTYgLyogVm9pZCAqLywgbnVsbCk7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVWb2lkVk5vZGUgPSBjcmVhdGVWb2lkVk5vZGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0LCBrZXkpIHtcclxuICAgIHJldHVybiBjcmVhdGVWTm9kZSgxIC8qIFRleHQgKi8sIG51bGwsIG51bGwsIHRleHQsIG51bGwsIGtleSk7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVUZXh0Vk5vZGUgPSBjcmVhdGVUZXh0Vk5vZGU7XHJcbmZ1bmN0aW9uIGlzVk5vZGUobykge1xyXG4gICAgcmV0dXJuICEhby5mbGFncztcclxufVxyXG5leHBvcnRzLmlzVk5vZGUgPSBpc1ZOb2RlO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L2NvcmUvVk5vZGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgb3B0aW9uc18xID0gcmVxdWlyZShcIi4uL2NvcmUvb3B0aW9uc1wiKTtcclxudmFyIFZOb2Rlc18xID0gcmVxdWlyZShcIi4uL2NvcmUvVk5vZGVzXCIpO1xyXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XHJcbnZhciBkZWxlZ2F0aW9uXzEgPSByZXF1aXJlKFwiLi9ldmVudHMvZGVsZWdhdGlvblwiKTtcclxudmFyIG1vdW50aW5nXzEgPSByZXF1aXJlKFwiLi9tb3VudGluZ1wiKTtcclxudmFyIHJlbmRlcmluZ18xID0gcmVxdWlyZShcIi4vcmVuZGVyaW5nXCIpO1xyXG52YXIgdW5tb3VudGluZ18xID0gcmVxdWlyZShcIi4vdW5tb3VudGluZ1wiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcclxudmFyIHByb2Nlc3NFbGVtZW50XzEgPSByZXF1aXJlKFwiLi93cmFwcGVycy9wcm9jZXNzRWxlbWVudFwiKTtcclxuZnVuY3Rpb24gcGF0Y2gobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChsYXN0Vk5vZGUgIT09IG5leHRWTm9kZSkge1xyXG4gICAgICAgIHZhciBsYXN0RmxhZ3MgPSBsYXN0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRGbGFncyA9IG5leHRWTm9kZS5mbGFncztcclxuICAgICAgICBpZiAobmV4dEZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoQ29tcG9uZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIG5leHRGbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZVZOb2RlKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudENvbXBvbmVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChuZXh0RmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApLCBsYXN0Vk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5leHRGbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgICAgICBpZiAobGFzdEZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaEVsZW1lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50RWxlbWVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBsYXN0Vk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5leHRGbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgICAgICBpZiAobGFzdEZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaFRleHQobGFzdFZOb2RlLCBuZXh0Vk5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50VGV4dChuZXh0Vk5vZGUsIG51bGwpLCBsYXN0Vk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5leHRGbGFncyAmIDQwOTYgLyogVm9pZCAqLykge1xyXG4gICAgICAgICAgICBpZiAobGFzdEZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaFZvaWQobGFzdFZOb2RlLCBuZXh0Vk5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50Vm9pZChuZXh0Vk5vZGUsIG51bGwpLCBsYXN0Vk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBFcnJvciBjYXNlOiBtb3VudCBuZXcgb25lIHJlcGxhY2luZyBvbGQgb25lXHJcbiAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoID0gcGF0Y2g7XHJcbmZ1bmN0aW9uIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIHRydWUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcGF0Y2hFbGVtZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbmV4dFRhZyA9IG5leHRWTm9kZS50eXBlO1xyXG4gICAgdmFyIGxhc3RUYWcgPSBsYXN0Vk5vZGUudHlwZTtcclxuICAgIGlmIChsYXN0VGFnICE9PSBuZXh0VGFnKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlV2l0aE5ld05vZGUobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGRvbSA9IGxhc3RWTm9kZS5kb207XHJcbiAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGxhc3RWTm9kZS5wcm9wcztcclxuICAgICAgICB2YXIgbmV4dFByb3BzID0gbmV4dFZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBsYXN0Q2hpbGRyZW4gPSBsYXN0Vk5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgbGFzdEZsYWdzID0gbGFzdFZOb2RlLmZsYWdzO1xyXG4gICAgICAgIHZhciBuZXh0RmxhZ3MgPSBuZXh0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRSZWYgPSBuZXh0Vk5vZGUucmVmO1xyXG4gICAgICAgIHZhciBsYXN0Q2xhc3NOYW1lID0gbGFzdFZOb2RlLmNsYXNzTmFtZTtcclxuICAgICAgICB2YXIgbmV4dENsYXNzTmFtZSA9IG5leHRWTm9kZS5jbGFzc05hbWU7XHJcbiAgICAgICAgbmV4dFZOb2RlLmRvbSA9IGRvbTtcclxuICAgICAgICBpc1NWRyA9IGlzU1ZHIHx8IChuZXh0RmxhZ3MgJiAxMjggLyogU3ZnRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgIGlmIChsYXN0Q2hpbGRyZW4gIT09IG5leHRDaGlsZHJlbikge1xyXG4gICAgICAgICAgICBwYXRjaENoaWxkcmVuKGxhc3RGbGFncywgbmV4dEZsYWdzLCBsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlubGluZWQgcGF0Y2hQcm9wcyAgLS0gc3RhcnRzIC0tXHJcbiAgICAgICAgaWYgKGxhc3RQcm9wcyAhPT0gbmV4dFByb3BzKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0UHJvcHNPckVtcHR5ID0gbGFzdFByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB2YXIgbmV4dFByb3BzT3JFbXB0eSA9IG5leHRQcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgICAgICAgICAgdmFyIGhhc0NvbnRyb2xsZWRWYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAobmV4dFByb3BzT3JFbXB0eSAhPT0gdXRpbHNfMS5FTVBUWV9PQkopIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0Zvcm1FbGVtZW50ID0gKG5leHRGbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbGxlZFZhbHVlID0gcHJvY2Vzc0VsZW1lbnRfMS5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudChuZXh0UHJvcHNPckVtcHR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gbmV4dFByb3BzT3JFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhZGQgYSBoYXNPd25Qcm9wZXJ0eSBjaGVjayBoZXJlLCBpdCBhZmZlY3RzIHBlcmZvcm1hbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IG5leHRQcm9wc09yRW1wdHlbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IGxhc3RQcm9wc09yRW1wdHlbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hQcm9wKHByb3AsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20sIGlzU1ZHLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRWxlbWVudF8xLnByb2Nlc3NFbGVtZW50KG5leHRGbGFncywgbmV4dFZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIGZhbHNlLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChsYXN0UHJvcHNPckVtcHR5ICE9PSB1dGlsc18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBsYXN0UHJvcHNPckVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRQcm9wc09yRW1wdHlbcHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVByb3AocHJvcCwgbGFzdFByb3BzT3JFbXB0eVtwcm9wXSwgZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5saW5lZCBwYXRjaFByb3BzICAtLSBlbmRzIC0tXHJcbiAgICAgICAgaWYgKGxhc3RDbGFzc05hbWUgIT09IG5leHRDbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0Q2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgbmV4dENsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gbmV4dENsYXNzTmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV4dFJlZikge1xyXG4gICAgICAgICAgICBpZiAobGFzdFZOb2RlLnJlZiAhPT0gbmV4dFJlZiB8fCBpc1JlY3ljbGluZykge1xyXG4gICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudFJlZihkb20sIG5leHRSZWYsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEVsZW1lbnQgPSBwYXRjaEVsZW1lbnQ7XHJcbmZ1bmN0aW9uIHBhdGNoQ2hpbGRyZW4obGFzdEZsYWdzLCBuZXh0RmxhZ3MsIGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgcGF0Y2hBcnJheSA9IGZhbHNlO1xyXG4gICAgdmFyIHBhdGNoS2V5ZWQgPSBmYWxzZTtcclxuICAgIGlmIChuZXh0RmxhZ3MgJiA2NCAvKiBIYXNOb25LZXllZENoaWxkcmVuICovKSB7XHJcbiAgICAgICAgcGF0Y2hBcnJheSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgobGFzdEZsYWdzICYgMzIgLyogSGFzS2V5ZWRDaGlsZHJlbiAqLykgPiAwICYmIChuZXh0RmxhZ3MgJiAzMiAvKiBIYXNLZXllZENoaWxkcmVuICovKSA+IDApIHtcclxuICAgICAgICBwYXRjaEtleWVkID0gdHJ1ZTtcclxuICAgICAgICBwYXRjaEFycmF5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50Q2hpbGRyZW4obGFzdENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobGFzdENoaWxkcmVuKSkge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnNldFRleHRDb250ZW50KGRvbSwgbmV4dENoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudEFycmF5Q2hpbGRyZW4obmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobGFzdENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnVwZGF0ZVRleHRDb250ZW50KGRvbSwgbmV4dENoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHBhdGNoQXJyYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodXRpbHNfMS5pc0tleWVkKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hLZXllZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnRBcnJheUNoaWxkcmVuKG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobGFzdENoaWxkcmVuKSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBsYXN0Q2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKFZOb2Rlc18xLmlzVk5vZGUobGFzdENoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBwYXRjaChsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4obGFzdENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGF0Y2hBcnJheSkge1xyXG4gICAgICAgIGlmIChwYXRjaEtleWVkKSB7XHJcbiAgICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRjaE5vbktleWVkQ2hpbGRyZW4obGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaENvbXBvbmVudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc0NsYXNzLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGxhc3RUeXBlID0gbGFzdFZOb2RlLnR5cGU7XHJcbiAgICB2YXIgbmV4dFR5cGUgPSBuZXh0Vk5vZGUudHlwZTtcclxuICAgIHZhciBsYXN0S2V5ID0gbGFzdFZOb2RlLmtleTtcclxuICAgIHZhciBuZXh0S2V5ID0gbmV4dFZOb2RlLmtleTtcclxuICAgIGlmIChsYXN0VHlwZSAhPT0gbmV4dFR5cGUgfHwgbGFzdEtleSAhPT0gbmV4dEtleSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVwbGFjZVdpdGhOZXdOb2RlKGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgbmV4dFByb3BzID0gbmV4dFZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgIGlmIChpc0NsYXNzKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGxhc3RWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlLl91bm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VDaGlsZChwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRDb21wb25lbnQobmV4dFZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCAobmV4dFZOb2RlLmZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLykgPiAwKSwgbGFzdFZOb2RlLmRvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzQ29tcG9uZW50RGlkVXBkYXRlID0gIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcclxuICAgICAgICAgICAgICAgIC8vIFdoZW4gY29tcG9uZW50IGhhcyBjb21wb25lbnREaWRVcGRhdGUgaG9vaywgd2UgbmVlZCB0byBjbG9uZSBsYXN0U3RhdGUgb3Igd2lsbCBiZSBtb2RpZmllZCBieSByZWZlcmVuY2UgZHVyaW5nIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGhhc0NvbXBvbmVudERpZFVwZGF0ZSA/IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20obmV4dFN0YXRlLCBudWxsKSA6IG5leHRTdGF0ZTtcclxuICAgICAgICAgICAgICAgIHZhciBsYXN0UHJvcHMgPSBpbnN0YW5jZS5wcm9wcztcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbnRleHQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluc3RhbmNlLmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dFZOb2RlLmNoaWxkcmVuID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5faXNTVkcgPSBpc1NWRztcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKGNvbnRleHQsIGNoaWxkQ29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdElucHV0ID0gaW5zdGFuY2UuX2xhc3RJbnB1dDtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0SW5wdXQgPSBpbnN0YW5jZS5fdXBkYXRlQ29tcG9uZW50KGxhc3RTdGF0ZSwgbmV4dFN0YXRlLCBsYXN0UHJvcHMsIG5leHRQcm9wcywgY29udGV4dCwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHZhciBkaWRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCA9IGNoaWxkQ29udGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVm9pZFZOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0SW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBsYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlkVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuZXh0SW5wdXQsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2EgdmFsaWQgSW5mZXJubyBWTm9kZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZCBmcm9tIGEgY29tcG9uZW50IHJlbmRlci4gWW91IG1heSBoYXZlIHJldHVybmVkIGFuIGFycmF5IG9yIGFuIGludmFsaWQgb2JqZWN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwobmV4dElucHV0LmRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGFzdElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2xhc3RJbnB1dCA9IG5leHRJbnB1dDtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl92Tm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgICAgIGlmIChkaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNoaWxkQ29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ29tcG9uZW50RGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZShsYXN0UHJvcHMsIGxhc3RTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmFmdGVyVXBkYXRlKG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLnNldChpbnN0YW5jZSwgbmV4dElucHV0LmRvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dFZOb2RlLmRvbSA9IG5leHRJbnB1dC5kb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGxhc3RWTm9kZS5wcm9wcztcclxuICAgICAgICAgICAgdmFyIG5leHRIb29rcyA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgICAgIHZhciBuZXh0SG9va3NEZWZpbmVkID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3MpO1xyXG4gICAgICAgICAgICB2YXIgbGFzdElucHV0ID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB2YXIgbmV4dElucHV0ID0gbGFzdElucHV0O1xyXG4gICAgICAgICAgICBuZXh0Vk5vZGUuZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICAgICAgbmV4dFZOb2RlLmNoaWxkcmVuID0gbGFzdElucHV0O1xyXG4gICAgICAgICAgICBpZiAobGFzdEtleSAhPT0gbmV4dEtleSkge1xyXG4gICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SG9va3NEZWZpbmVkICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzLm9uQ29tcG9uZW50U2hvdWxkVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IG5leHRIb29rcy5vbkNvbXBvbmVudFNob3VsZFVwZGF0ZShsYXN0UHJvcHMsIG5leHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SG9va3NEZWZpbmVkICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzLm9uQ29tcG9uZW50V2lsbFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IG5leHRUeXBlKG5leHRQcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG5leHRJbnB1dCkgJiYgbmV4dElucHV0ICE9PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChuZXh0SW5wdXQuZG9tKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuZXh0SW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SW5wdXQgIT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFZOb2RlLmNoaWxkcmVuID0gbmV4dElucHV0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0SG9va3NEZWZpbmVkICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzLm9uQ29tcG9uZW50RGlkVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SG9va3Mub25Db21wb25lbnREaWRVcGRhdGUobGFzdFByb3BzLCBuZXh0UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuZG9tID0gbmV4dElucHV0LmRvbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobmV4dElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0SW5wdXQucGFyZW50Vk5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobGFzdElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0SW5wdXQucGFyZW50Vk5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZXhwb3J0cy5wYXRjaENvbXBvbmVudCA9IHBhdGNoQ29tcG9uZW50O1xyXG5mdW5jdGlvbiBwYXRjaFRleHQobGFzdFZOb2RlLCBuZXh0Vk5vZGUpIHtcclxuICAgIHZhciBuZXh0VGV4dCA9IG5leHRWTm9kZS5jaGlsZHJlbjtcclxuICAgIHZhciBkb20gPSBsYXN0Vk5vZGUuZG9tO1xyXG4gICAgbmV4dFZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmIChsYXN0Vk5vZGUuY2hpbGRyZW4gIT09IG5leHRUZXh0KSB7XHJcbiAgICAgICAgZG9tLm5vZGVWYWx1ZSA9IG5leHRUZXh0O1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hUZXh0ID0gcGF0Y2hUZXh0O1xyXG5mdW5jdGlvbiBwYXRjaFZvaWQobGFzdFZOb2RlLCBuZXh0Vk5vZGUpIHtcclxuICAgIG5leHRWTm9kZS5kb20gPSBsYXN0Vk5vZGUuZG9tO1xyXG59XHJcbmV4cG9ydHMucGF0Y2hWb2lkID0gcGF0Y2hWb2lkO1xyXG5mdW5jdGlvbiBwYXRjaE5vbktleWVkQ2hpbGRyZW4obGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBsYXN0Q2hpbGRyZW5MZW5ndGggPSBsYXN0Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgdmFyIG5leHRDaGlsZHJlbkxlbmd0aCA9IG5leHRDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICB2YXIgY29tbW9uTGVuZ3RoID0gbGFzdENoaWxkcmVuTGVuZ3RoID4gbmV4dENoaWxkcmVuTGVuZ3RoID8gbmV4dENoaWxkcmVuTGVuZ3RoIDogbGFzdENoaWxkcmVuTGVuZ3RoO1xyXG4gICAgdmFyIGkgPSAwO1xyXG4gICAgZm9yICg7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBuZXh0Q2hpbGQgPSBuZXh0Q2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKG5leHRDaGlsZC5kb20pIHtcclxuICAgICAgICAgICAgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dENoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGF0Y2gobGFzdENoaWxkcmVuW2ldLCBuZXh0Q2hpbGQsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgaWYgKGxhc3RDaGlsZHJlbkxlbmd0aCA8IG5leHRDaGlsZHJlbkxlbmd0aCkge1xyXG4gICAgICAgIGZvciAoaSA9IGNvbW1vbkxlbmd0aDsgaSA8IG5leHRDaGlsZHJlbkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXh0Q2hpbGQgPSBuZXh0Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0Q2hpbGQgPSBuZXh0Q2hpbGRyZW5baV0gPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuZXh0Q2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5leHRDaGlsZCwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG5leHRDaGlsZHJlbkxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBsYXN0Q2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobGFzdENoaWxkcmVuTGVuZ3RoID4gbmV4dENoaWxkcmVuTGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChpID0gY29tbW9uTGVuZ3RoOyBpIDwgbGFzdENoaWxkcmVuTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQobGFzdENoaWxkcmVuW2ldLCBkb20sIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaE5vbktleWVkQ2hpbGRyZW4gPSBwYXRjaE5vbktleWVkQ2hpbGRyZW47XHJcbmZ1bmN0aW9uIHBhdGNoS2V5ZWRDaGlsZHJlbihhLCBiLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgYUxlbmd0aCA9IGEubGVuZ3RoO1xyXG4gICAgdmFyIGJMZW5ndGggPSBiLmxlbmd0aDtcclxuICAgIHZhciBhRW5kID0gYUxlbmd0aCAtIDE7XHJcbiAgICB2YXIgYkVuZCA9IGJMZW5ndGggLSAxO1xyXG4gICAgdmFyIGFTdGFydCA9IDA7XHJcbiAgICB2YXIgYlN0YXJ0ID0gMDtcclxuICAgIHZhciBpO1xyXG4gICAgdmFyIGo7XHJcbiAgICB2YXIgYU5vZGU7XHJcbiAgICB2YXIgYk5vZGU7XHJcbiAgICB2YXIgbmV4dE5vZGU7XHJcbiAgICB2YXIgbmV4dFBvcztcclxuICAgIHZhciBub2RlO1xyXG4gICAgaWYgKGFMZW5ndGggPT09IDApIHtcclxuICAgICAgICBpZiAoYkxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudEFycmF5Q2hpbGRyZW4oYiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYkxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBhLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgYVN0YXJ0Tm9kZSA9IGFbYVN0YXJ0XTtcclxuICAgIHZhciBiU3RhcnROb2RlID0gYltiU3RhcnRdO1xyXG4gICAgdmFyIGFFbmROb2RlID0gYVthRW5kXTtcclxuICAgIHZhciBiRW5kTm9kZSA9IGJbYkVuZF07XHJcbiAgICBpZiAoYlN0YXJ0Tm9kZS5kb20pIHtcclxuICAgICAgICBiW2JTdGFydF0gPSBiU3RhcnROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYlN0YXJ0Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYkVuZE5vZGUuZG9tKSB7XHJcbiAgICAgICAgYltiRW5kXSA9IGJFbmROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYkVuZE5vZGUpO1xyXG4gICAgfVxyXG4gICAgLy8gU3RlcCAxXHJcbiAgICAvKiBlc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiAwICovXHJcbiAgICBvdXRlcjogd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAvLyBTeW5jIG5vZGVzIHdpdGggdGhlIHNhbWUga2V5IGF0IHRoZSBiZWdpbm5pbmcuXHJcbiAgICAgICAgd2hpbGUgKGFTdGFydE5vZGUua2V5ID09PSBiU3RhcnROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhU3RhcnROb2RlLCBiU3RhcnROb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgYVN0YXJ0Kys7XHJcbiAgICAgICAgICAgIGJTdGFydCsrO1xyXG4gICAgICAgICAgICBpZiAoYVN0YXJ0ID4gYUVuZCB8fCBiU3RhcnQgPiBiRW5kKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhayBvdXRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhU3RhcnROb2RlID0gYVthU3RhcnRdO1xyXG4gICAgICAgICAgICBiU3RhcnROb2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICBpZiAoYlN0YXJ0Tm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IGJTdGFydE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiU3RhcnROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTeW5jIG5vZGVzIHdpdGggdGhlIHNhbWUga2V5IGF0IHRoZSBlbmQuXHJcbiAgICAgICAgd2hpbGUgKGFFbmROb2RlLmtleSA9PT0gYkVuZE5vZGUua2V5KSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGFFbmROb2RlLCBiRW5kTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIGFFbmQtLTtcclxuICAgICAgICAgICAgYkVuZC0tO1xyXG4gICAgICAgICAgICBpZiAoYVN0YXJ0ID4gYUVuZCB8fCBiU3RhcnQgPiBiRW5kKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhayBvdXRlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhRW5kTm9kZSA9IGFbYUVuZF07XHJcbiAgICAgICAgICAgIGJFbmROb2RlID0gYltiRW5kXTtcclxuICAgICAgICAgICAgaWYgKGJFbmROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiRW5kXSA9IGJFbmROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYkVuZE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1vdmUgYW5kIHN5bmMgbm9kZXMgZnJvbSByaWdodCB0byBsZWZ0LlxyXG4gICAgICAgIGlmIChhRW5kTm9kZS5rZXkgPT09IGJTdGFydE5vZGUua2V5KSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGFFbmROb2RlLCBiU3RhcnROb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIGJTdGFydE5vZGUuZG9tLCBhU3RhcnROb2RlLmRvbSk7XHJcbiAgICAgICAgICAgIGFFbmQtLTtcclxuICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgIGFFbmROb2RlID0gYVthRW5kXTtcclxuICAgICAgICAgICAgYlN0YXJ0Tm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgICAgICAgICAgaWYgKGJTdGFydE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JTdGFydF0gPSBiU3RhcnROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYlN0YXJ0Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1vdmUgYW5kIHN5bmMgbm9kZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxyXG4gICAgICAgIGlmIChhU3RhcnROb2RlLmtleSA9PT0gYkVuZE5vZGUua2V5KSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGFTdGFydE5vZGUsIGJFbmROb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgbmV4dFBvcyA9IGJFbmQgKyAxO1xyXG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIGJFbmROb2RlLmRvbSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICBhU3RhcnQrKztcclxuICAgICAgICAgICAgYkVuZC0tO1xyXG4gICAgICAgICAgICBhU3RhcnROb2RlID0gYVthU3RhcnRdO1xyXG4gICAgICAgICAgICBiRW5kTm9kZSA9IGJbYkVuZF07XHJcbiAgICAgICAgICAgIGlmIChiRW5kTm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgIGJbYkVuZF0gPSBiRW5kTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJFbmROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICBpZiAoYVN0YXJ0ID4gYUVuZCkge1xyXG4gICAgICAgIGlmIChiU3RhcnQgPD0gYkVuZCkge1xyXG4gICAgICAgICAgICBuZXh0UG9zID0gYkVuZCArIDE7XHJcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICB3aGlsZSAoYlN0YXJ0IDw9IGJFbmQpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICBiW2JTdGFydF0gPSBub2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChiU3RhcnQgPiBiRW5kKSB7XHJcbiAgICAgICAgd2hpbGUgKGFTdGFydCA8PSBhRW5kKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGFbYVN0YXJ0KytdLCBkb20sIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhTGVuZ3RoID0gYUVuZCAtIGFTdGFydCArIDE7XHJcbiAgICAgICAgYkxlbmd0aCA9IGJFbmQgLSBiU3RhcnQgKyAxO1xyXG4gICAgICAgIHZhciBzb3VyY2VzID0gbmV3IEFycmF5KGJMZW5ndGgpO1xyXG4gICAgICAgIC8vIE1hcmsgYWxsIG5vZGVzIGFzIGluc2VydGVkLlxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBiTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc291cmNlc1tpXSA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgcG9zID0gMDtcclxuICAgICAgICB2YXIgcGF0Y2hlZCA9IDA7XHJcbiAgICAgICAgLy8gV2hlbiBzaXplcyBhcmUgc21hbGwsIGp1c3QgbG9vcCB0aGVtIHRocm91Z2hcclxuICAgICAgICBpZiAoKGJMZW5ndGggPD0gNCkgfHwgKGFMZW5ndGggKiBiTGVuZ3RoIDw9IDE2KSkge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBhU3RhcnQ7IGkgPD0gYUVuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhTm9kZSA9IGFbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA8IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSBiU3RhcnQ7IGogPD0gYkVuZDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJOb2RlID0gYltqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFOb2RlLmtleSA9PT0gYk5vZGUua2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW2ogLSBiU3RhcnRdID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPiBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiTm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiW2pdID0gYk5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaChhTm9kZSwgYk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtpXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGtleUluZGV4ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICAvLyBNYXAga2V5cyBieSB0aGVpciBpbmRleCBpbiBhcnJheVxyXG4gICAgICAgICAgICBmb3IgKGkgPSBiU3RhcnQ7IGkgPD0gYkVuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBrZXlJbmRleC5zZXQoYltpXS5rZXksIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBwYXRjaCBzYW1lIGtleXNcclxuICAgICAgICAgICAgZm9yIChpID0gYVN0YXJ0OyBpIDw9IGFFbmQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYU5vZGUgPSBhW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZWQgPCBiTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaiA9IGtleUluZGV4LmdldChhTm9kZS5rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChqKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiTm9kZSA9IGJbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXNbaiAtIGJTdGFydF0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zID4gaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYk5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiW2pdID0gYk5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2goYU5vZGUsIGJOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhW2ldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZmFzdC1wYXRoOiBpZiBub3RoaW5nIHBhdGNoZWQgcmVtb3ZlIGFsbCBvbGQgYW5kIGFkZCBhbGwgbmV3XHJcbiAgICAgICAgaWYgKGFMZW5ndGggPT09IGEubGVuZ3RoICYmIHBhdGNoZWQgPT09IDApIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGEsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB3aGlsZSAoYlN0YXJ0IDwgYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJTdGFydCsrO1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpID0gYUxlbmd0aCAtIHBhdGNoZWQ7XHJcbiAgICAgICAgICAgIHdoaWxlIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYU5vZGUgPSBhW2FTdGFydCsrXTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoYU5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoYU5vZGUsIGRvbSwgbGlmZWN5Y2xlLCB0cnVlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlcSA9IGxpc19hbGdvcml0aG0oc291cmNlcyk7XHJcbiAgICAgICAgICAgICAgICBqID0gc2VxLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBiTGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlc1tpXSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gaSArIGJTdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbcG9zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiW3Bvc10gPSBub2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBvcyA9IHBvcyArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaSAhPT0gc2VxW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBpICsgYlN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbcG9zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQb3MgPSBwb3MgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbm9kZS5kb20sIG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGotLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXRjaGVkICE9PSBiTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHBhdGNoZWQgY291bnQgZG9lc24ndCBtYXRjaCBiIGxlbmd0aCB3ZSBuZWVkIHRvIGluc2VydCB0aG9zZSBuZXcgb25lc1xyXG4gICAgICAgICAgICAgICAgLy8gbG9vcCBiYWNrd2FyZHMgc28gd2UgY2FuIHVzZSBpbnNlcnRCZWZvcmVcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGJMZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW2ldID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBpICsgYlN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltwb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbcG9zXSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UG9zID0gcG9zICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hLZXllZENoaWxkcmVuID0gcGF0Y2hLZXllZENoaWxkcmVuO1xyXG4vLyAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Mb25nZXN0X2luY3JlYXNpbmdfc3Vic2VxdWVuY2VcclxuZnVuY3Rpb24gbGlzX2FsZ29yaXRobShhcnIpIHtcclxuICAgIHZhciBwID0gYXJyLnNsaWNlKDApO1xyXG4gICAgdmFyIHJlc3VsdCA9IFswXTtcclxuICAgIHZhciBpO1xyXG4gICAgdmFyIGo7XHJcbiAgICB2YXIgdTtcclxuICAgIHZhciB2O1xyXG4gICAgdmFyIGM7XHJcbiAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBhcnJJID0gYXJyW2ldO1xyXG4gICAgICAgIGlmIChhcnJJID09PSAtMSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaiA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcclxuICAgICAgICAgICAgcFtpXSA9IGo7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdSA9IDA7XHJcbiAgICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xyXG4gICAgICAgIHdoaWxlICh1IDwgdikge1xyXG4gICAgICAgICAgICBjID0gKCh1ICsgdikgLyAyKSB8IDA7XHJcbiAgICAgICAgICAgIGlmIChhcnJbcmVzdWx0W2NdXSA8IGFyckkpIHtcclxuICAgICAgICAgICAgICAgIHUgPSBjICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHYgPSBjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcclxuICAgICAgICAgICAgaWYgKHUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBwW2ldID0gcmVzdWx0W3UgLSAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHRbdV0gPSBpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHUgPSByZXN1bHQubGVuZ3RoO1xyXG4gICAgdiA9IHJlc3VsdFt1IC0gMV07XHJcbiAgICB3aGlsZSAodS0tID4gMCkge1xyXG4gICAgICAgIHJlc3VsdFt1XSA9IHY7XHJcbiAgICAgICAgdiA9IHBbdl07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIGlzQXR0ckFuRXZlbnQoYXR0cikge1xyXG4gICAgcmV0dXJuIGF0dHJbMF0gPT09ICdvJyAmJiBhdHRyWzFdID09PSAnbic7XHJcbn1cclxuZXhwb3J0cy5pc0F0dHJBbkV2ZW50ID0gaXNBdHRyQW5FdmVudDtcclxuZnVuY3Rpb24gcGF0Y2hQcm9wKHByb3AsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20sIGlzU1ZHLCBoYXNDb250cm9sbGVkVmFsdWUpIHtcclxuICAgIGlmIChsYXN0VmFsdWUgIT09IG5leHRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChjb25zdGFudHNfMS5za2lwUHJvcHMuaGFzKHByb3ApIHx8IChoYXNDb250cm9sbGVkVmFsdWUgJiYgcHJvcCA9PT0gJ3ZhbHVlJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb25zdGFudHNfMS5ib29sZWFuUHJvcHMuaGFzKHByb3ApKSB7XHJcbiAgICAgICAgICAgIHByb3AgPSBwcm9wID09PSAnYXV0b0ZvY3VzJyA/IHByb3AudG9Mb3dlckNhc2UoKSA6IHByb3A7XHJcbiAgICAgICAgICAgIGRvbVtwcm9wXSA9ICEhbmV4dFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb25zdGFudHNfMS5zdHJpY3RQcm9wcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRWYWx1ZSkgPyAnJyA6IG5leHRWYWx1ZTtcclxuICAgICAgICAgICAgaWYgKGRvbVtwcm9wXSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGRvbVtwcm9wXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzQXR0ckFuRXZlbnQocHJvcCkpIHtcclxuICAgICAgICAgICAgcGF0Y2hFdmVudChwcm9wLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgICAgICBwYXRjaFN0eWxlKGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0SHRtbCA9IGxhc3RWYWx1ZSAmJiBsYXN0VmFsdWUuX19odG1sO1xyXG4gICAgICAgICAgICB2YXIgbmV4dEh0bWwgPSBuZXh0VmFsdWUgJiYgbmV4dFZhbHVlLl9faHRtbDtcclxuICAgICAgICAgICAgaWYgKGxhc3RIdG1sICE9PSBuZXh0SHRtbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEh0bWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9IG5leHRIdG1sO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBXZSBvcHRpbWl6ZSBmb3IgTlMgYmVpbmcgYm9vbGVhbi4gSXRzIDk5LjklIHRpbWUgZmFsc2VcclxuICAgICAgICAgICAgaWYgKGlzU1ZHICYmIGNvbnN0YW50c18xLm5hbWVzcGFjZXMuaGFzKHByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBlbmQgdXAgaW4gdGhpcyBwYXRoIHdlIGNhbiByZWFkIHByb3BlcnR5IGFnYWluXHJcbiAgICAgICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlTlMoY29uc3RhbnRzXzEubmFtZXNwYWNlcy5nZXQocHJvcCksIHByb3AsIG5leHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKHByb3AsIG5leHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFByb3AgPSBwYXRjaFByb3A7XHJcbmZ1bmN0aW9uIHBhdGNoRXZlbnQobmFtZSwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSkge1xyXG4gICAgaWYgKGxhc3RWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGNvbnN0YW50c18xLmRlbGVnYXRlZEV2ZW50cy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgZGVsZWdhdGlvbl8xLmhhbmRsZUV2ZW50KG5hbWUsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIG5hbWVMb3dlckNhc2UgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciBkb21FdmVudCA9IGRvbVtuYW1lTG93ZXJDYXNlXTtcclxuICAgICAgICAgICAgLy8gaWYgdGhlIGZ1bmN0aW9uIGlzIHdyYXBwZWQsIHRoYXQgbWVhbnMgaXQncyBiZWVuIGNvbnRyb2xsZWQgYnkgYSB3cmFwcGVyXHJcbiAgICAgICAgICAgIGlmIChkb21FdmVudCAmJiBkb21FdmVudC53cmFwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24obmV4dFZhbHVlKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5rRXZlbnRfMSA9IG5leHRWYWx1ZS5ldmVudDtcclxuICAgICAgICAgICAgICAgIGlmIChsaW5rRXZlbnRfMSAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24obGlua0V2ZW50XzEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tW25hbWVMb3dlckNhc2VdID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlua0V2ZW50XzEobmV4dFZhbHVlLmRhdGEsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJhbiBldmVudCBvbiBhIFZOb2RlIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIuIHdhcyBub3QgYSBmdW5jdGlvbiBvciBhIHZhbGlkIGxpbmtFdmVudC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9tW25hbWVMb3dlckNhc2VdID0gbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hFdmVudCA9IHBhdGNoRXZlbnQ7XHJcbi8vIFdlIGFyZSBhc3N1bWluZyBoZXJlIHRoYXQgd2UgY29tZSBmcm9tIHBhdGNoUHJvcCByb3V0aW5lXHJcbi8vIC1uZXh0QXR0clZhbHVlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZFxyXG5mdW5jdGlvbiBwYXRjaFN0eWxlKGxhc3RBdHRyVmFsdWUsIG5leHRBdHRyVmFsdWUsIGRvbSkge1xyXG4gICAgdmFyIGRvbVN0eWxlID0gZG9tLnN0eWxlO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcobmV4dEF0dHJWYWx1ZSkpIHtcclxuICAgICAgICBkb21TdHlsZS5jc3NUZXh0ID0gbmV4dEF0dHJWYWx1ZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBzdHlsZSBpbiBuZXh0QXR0clZhbHVlKSB7XHJcbiAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICB2YXIgdmFsdWUgPSBuZXh0QXR0clZhbHVlW3N0eWxlXTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdW1iZXIodmFsdWUpIHx8IGNvbnN0YW50c18xLmlzVW5pdGxlc3NOdW1iZXIuaGFzKHN0eWxlKSkge1xyXG4gICAgICAgICAgICBkb21TdHlsZVtzdHlsZV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9IHZhbHVlICsgJ3B4JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0QXR0clZhbHVlKSkge1xyXG4gICAgICAgIGZvciAodmFyIHN0eWxlIGluIGxhc3RBdHRyVmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0QXR0clZhbHVlW3N0eWxlXSkpIHtcclxuICAgICAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hTdHlsZSA9IHBhdGNoU3R5bGU7XHJcbmZ1bmN0aW9uIHJlbW92ZVByb3AocHJvcCwgbGFzdFZhbHVlLCBkb20pIHtcclxuICAgIGlmIChwcm9wID09PSAndmFsdWUnKSB7XHJcbiAgICAgICAgZG9tLnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQXR0ckFuRXZlbnQocHJvcCkpIHtcclxuICAgICAgICBkZWxlZ2F0aW9uXzEuaGFuZGxlRXZlbnQocHJvcCwgbGFzdFZhbHVlLCBudWxsLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS9wYXRjaGluZy5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL29wdGlvbnNcIik7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL1ZOb2Rlc1wiKTtcclxudmFyIGh5ZHJhdGlvbl8xID0gcmVxdWlyZShcIi4vaHlkcmF0aW9uXCIpO1xyXG52YXIgbW91bnRpbmdfMSA9IHJlcXVpcmUoXCIuL21vdW50aW5nXCIpO1xyXG52YXIgcGF0Y2hpbmdfMSA9IHJlcXVpcmUoXCIuL3BhdGNoaW5nXCIpO1xyXG52YXIgdW5tb3VudGluZ18xID0gcmVxdWlyZShcIi4vdW5tb3VudGluZ1wiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcclxuLy8gcmF0aGVyIHRoYW4gdXNlIGEgTWFwLCBsaWtlIHdlIGRpZCBiZWZvcmUsIHdlIGNhbiB1c2UgYW4gYXJyYXkgaGVyZVxyXG4vLyBnaXZlbiB0aGVyZSBzaG91bGRuJ3QgYmUgVEhBVCBtYW55IHJvb3RzIG9uIHRoZSBwYWdlLCB0aGUgZGlmZmVyZW5jZVxyXG4vLyBpbiBwZXJmb3JtYW5jZSBpcyBodWdlOiBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzU4MDJhNjkxMzMwYWIwOTkwMGExYTJkYVxyXG5leHBvcnRzLmNvbXBvbmVudFRvRE9NTm9kZU1hcCA9IG5ldyBNYXAoKTtcclxudmFyIHJvb3RzID0gb3B0aW9uc18xLm9wdGlvbnMucm9vdHM7XHJcbi8qKlxyXG4gKiBXaGVuIGluZmVybm8ub3B0aW9ucy5maW5kRE9NTk9kZUVuYWJsZWQgaXMgdHJ1ZSwgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBET00gTm9kZSBieSBjb21wb25lbnQgaW5zdGFuY2VcclxuICogQHBhcmFtIHJlZiBDb21wb25lbnQgaW5zdGFuY2VcclxuICogQHJldHVybnMgeyp8bnVsbH0gcmV0dXJucyBkb20gbm9kZVxyXG4gKi9cclxuZnVuY3Rpb24gZmluZERPTU5vZGUocmVmKSB7XHJcbiAgICBpZiAoIW9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZmluZERPTU5vZGUoKSBoYXMgYmVlbiBkaXNhYmxlZCwgdXNlIEluZmVybm8ub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQgPSB0cnVlOyBlbmFibGVkIGZpbmRET01Ob2RlKCkuIFdhcm5pbmcgdGhpcyBjYW4gc2lnbmlmaWNhbnRseSBpbXBhY3QgcGVyZm9ybWFuY2UhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgdmFyIGRvbSA9IHJlZiAmJiByZWYubm9kZVR5cGUgPyByZWYgOiBudWxsO1xyXG4gICAgcmV0dXJuIGV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwLmdldChyZWYpIHx8IGRvbTtcclxufVxyXG5leHBvcnRzLmZpbmRET01Ob2RlID0gZmluZERPTU5vZGU7XHJcbmZ1bmN0aW9uIGdldFJvb3QoZG9tKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm9vdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgcm9vdCA9IHJvb3RzW2ldO1xyXG4gICAgICAgIGlmIChyb290LmRvbSA9PT0gZG9tKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHNldFJvb3QoZG9tLCBpbnB1dCwgbGlmZWN5Y2xlKSB7XHJcbiAgICB2YXIgcm9vdCA9IHtcclxuICAgICAgICBkb206IGRvbSxcclxuICAgICAgICBpbnB1dDogaW5wdXQsXHJcbiAgICAgICAgbGlmZWN5Y2xlOiBsaWZlY3ljbGVcclxuICAgIH07XHJcbiAgICByb290cy5wdXNoKHJvb3QpO1xyXG4gICAgcmV0dXJuIHJvb3Q7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlUm9vdChyb290KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm9vdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAocm9vdHNbaV0gPT09IHJvb3QpIHtcclxuICAgICAgICAgICAgcm9vdHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgJiYgZG9jdW1lbnQuYm9keSA9PT0gbnVsbCkge1xyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEud2FybmluZygnSW5mZXJubyB3YXJuaW5nOiB5b3UgY2Fubm90IGluaXRpYWxpemUgaW5mZXJubyB3aXRob3V0IFwiZG9jdW1lbnQuYm9keVwiLiBXYWl0IG9uIFwiRE9NQ29udGVudExvYWRlZFwiIGV2ZW50LCBhZGQgc2NyaXB0IHRvIGJvdHRvbSBvZiBib2R5LCBvciB1c2UgYXN5bmMvZGVmZXIgYXR0cmlidXRlcyBvbiBzY3JpcHQgdGFnLicpO1xyXG4gICAgfVxyXG59XHJcbnZhciBkb2N1bWVudEJvZHkgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3NlciA/IGRvY3VtZW50LmJvZHkgOiBudWxsO1xyXG4vKipcclxuICogUmVuZGVycyB2aXJ0dWFsIG5vZGUgdHJlZSBpbnRvIHBhcmVudCBub2RlLlxyXG4gKiBAcGFyYW0ge1ZOb2RlIHwgbnVsbCB8IHN0cmluZyB8IG51bWJlcn0gaW5wdXQgdk5vZGUgdG8gYmUgcmVuZGVyZWRcclxuICogQHBhcmFtIHBhcmVudERvbSBET00gbm9kZSB3aGljaCBjb250ZW50IHdpbGwgYmUgcmVwbGFjZWQgYnkgdmlydHVhbCBub2RlXHJcbiAqIEByZXR1cm5zIHtJbmZlcm5vQ2hpbGRyZW59IHJlbmRlcmVkIHZpcnR1YWwgbm9kZVxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyKGlucHV0LCBwYXJlbnREb20pIHtcclxuICAgIGlmIChkb2N1bWVudEJvZHkgPT09IHBhcmVudERvbSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigneW91IGNhbm5vdCByZW5kZXIoKSB0byB0aGUgXCJkb2N1bWVudC5ib2R5XCIuIFVzZSBhbiBlbXB0eSBlbGVtZW50IGFzIGEgY29udGFpbmVyIGluc3RlYWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlucHV0ID09PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHJvb3QgPSBnZXRSb290KHBhcmVudERvbSk7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwocm9vdCkpIHtcclxuICAgICAgICB2YXIgbGlmZWN5Y2xlID0gbmV3IGluZmVybm9fc2hhcmVkXzEuTGlmZWN5Y2xlKCk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICAgICAgaWYgKGlucHV0LmRvbSkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFoeWRyYXRpb25fMS5oeWRyYXRlUm9vdChpbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUpKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgdXRpbHNfMS5FTVBUWV9PQkosIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByb290ID0gc2V0Um9vdChwYXJlbnREb20sIGlucHV0LCBsaWZlY3ljbGUpO1xyXG4gICAgICAgICAgICBsaWZlY3ljbGUudHJpZ2dlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBsaWZlY3ljbGUgPSByb290LmxpZmVjeWNsZTtcclxuICAgICAgICBsaWZlY3ljbGUubGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihpbnB1dCkpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQocm9vdC5pbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHJlbW92ZVJvb3Qocm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoKHJvb3QuaW5wdXQsIGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgdXRpbHNfMS5FTVBUWV9PQkosIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJvb3QuaW5wdXQgPSBpbnB1dDtcclxuICAgICAgICBsaWZlY3ljbGUudHJpZ2dlcigpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJvb3QpIHtcclxuICAgICAgICB2YXIgcm9vdElucHV0ID0gcm9vdC5pbnB1dDtcclxuICAgICAgICBpZiAocm9vdElucHV0ICYmIChyb290SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb290SW5wdXQuY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVuZGVyID0gcmVuZGVyO1xyXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihwYXJlbnREb20pIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiByZW5kZXJlcihsYXN0SW5wdXQsIG5leHRJbnB1dCkge1xyXG4gICAgICAgIGlmICghcGFyZW50RG9tKSB7XHJcbiAgICAgICAgICAgIHBhcmVudERvbSA9IGxhc3RJbnB1dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVuZGVyKG5leHRJbnB1dCwgcGFyZW50RG9tKTtcclxuICAgIH07XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVSZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS9yZW5kZXJpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NvbXBvbmVudF8xID0gcmVxdWlyZShcImluZmVybm8tY29tcG9uZW50XCIpO1xyXG52YXIgaW5mZXJub19jcmVhdGVfZWxlbWVudF8xID0gcmVxdWlyZShcImluZmVybm8tY3JlYXRlLWVsZW1lbnRcIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG52YXIgcmVzb2x2ZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbnZhciBSb3V0ZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZShwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLl9vbkNvbXBvbmVudFJlc29sdmVkID0gZnVuY3Rpb24gKGVycm9yLCBjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgYXN5bmNDb21wb25lbnQ6IGNvbXBvbmVudFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBhc3luY0NvbXBvbmVudDogbnVsbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBvbkVudGVyID0gdGhpcy5wcm9wcy5vbkVudGVyO1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xyXG4gICAgICAgIGlmIChvbkVudGVyKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmVkUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9uRW50ZXIoeyBwcm9wczogX3RoaXMucHJvcHMsIHJvdXRlcjogcm91dGVyIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGdldENvbXBvbmVudCA9IHRoaXMucHJvcHMuZ2V0Q29tcG9uZW50O1xyXG4gICAgICAgIGlmIChnZXRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50KHsgcHJvcHM6IF90aGlzLnByb3BzLCByb3V0ZXI6IHJvdXRlciB9LCBfdGhpcy5fb25Db21wb25lbnRSZXNvbHZlZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUub25MZWF2ZSA9IGZ1bmN0aW9uICh0cmlnZ2VyKSB7XHJcbiAgICAgICAgaWYgKHRyaWdnZXIgPT09IHZvaWQgMCkgeyB0cmlnZ2VyID0gZmFsc2U7IH1cclxuICAgICAgICB2YXIgb25MZWF2ZSA9IHRoaXMucHJvcHMub25MZWF2ZTtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAob25MZWF2ZSAmJiB0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIG9uTGVhdmUoeyBwcm9wczogdGhpcy5wcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5vbkVudGVyID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xyXG4gICAgICAgIHZhciBvbkVudGVyID0gbmV4dFByb3BzLm9uRW50ZXI7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGF0aCAhPT0gbmV4dFByb3BzLnBhdGggJiYgb25FbnRlcikge1xyXG4gICAgICAgICAgICBvbkVudGVyKHsgcHJvcHM6IG5leHRQcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5nZXRDb21wb25lbnQgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIGdldENvbXBvbmVudCA9IG5leHRQcm9wcy5nZXRDb21wb25lbnQ7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucGF0aCAhPT0gbmV4dFByb3BzLnBhdGggJiYgZ2V0Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGdldENvbXBvbmVudCh7IHByb3BzOiBuZXh0UHJvcHMsIHJvdXRlcjogcm91dGVyIH0sIHRoaXMuX29uQ29tcG9uZW50UmVzb2x2ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5vbkxlYXZlKHRydWUpO1xyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KG5leHRQcm9wcyk7XHJcbiAgICAgICAgdGhpcy5vbkVudGVyKG5leHRQcm9wcyk7XHJcbiAgICAgICAgdGhpcy5vbkxlYXZlKHRoaXMucHJvcHMucGF0aCAhPT0gbmV4dFByb3BzLnBhdGgpO1xyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoX2FyZ3MpIHtcclxuICAgICAgICB2YXIgY29tcG9uZW50ID0gX2FyZ3MuY29tcG9uZW50LCBjaGlsZHJlbiA9IF9hcmdzLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHV0aWxzXzEucmVzdChfYXJncywgWydjb21wb25lbnQnLCAnY2hpbGRyZW4nLCAncGF0aCcsICdnZXRDb21wb25lbnQnXSk7XHJcbiAgICAgICAgdmFyIGFzeW5jQ29tcG9uZW50ID0gdGhpcy5zdGF0ZS5hc3luY0NvbXBvbmVudDtcclxuICAgICAgICB2YXIgcmVzb2x2ZWRDb21wb25lbnQgPSBjb21wb25lbnQgfHwgYXN5bmNDb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKCFyZXNvbHZlZENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIWluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbiA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEuZGVmYXVsdChyZXNvbHZlZENvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUm91dGU7XHJcbn0oaW5mZXJub19jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9Sb3V0ZS5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmV4cG9ydHMueG1sTlMgPSAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJztcclxuZXhwb3J0cy5zdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbmV4cG9ydHMuc3RyaWN0UHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuc3RyaWN0UHJvcHMuYWRkKCd2b2x1bWUnKTtcclxuZXhwb3J0cy5zdHJpY3RQcm9wcy5hZGQoJ2RlZmF1bHRDaGVja2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ211dGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnc2NvcGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbG9vcCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ29wZW4nKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdjaGVja2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnZGVmYXVsdCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NhcHR1cmUnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdkaXNhYmxlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3JlYWRPbmx5Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgncmVxdWlyZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdhdXRvcGxheScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NvbnRyb2xzJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnc2VhbWxlc3MnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdyZXZlcnNlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2FsbG93ZnVsbHNjcmVlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ25vdmFsaWRhdGUnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdoaWRkZW4nKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdhdXRvRm9jdXMnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzZWxlY3RlZCcpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMgPSBuZXcgTWFwKCk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOmhyZWYnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazphcmNyb2xlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6YWN0dWF0ZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnNob3cnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazpyb2xlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6dGl0bGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazp0eXBlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOmJhc2UnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOmxhbmcnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOnNwYWNlJywgZXhwb3J0cy54bWxOUyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlciA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm9yZGVySW1hZ2VPdXRzZXQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm9yZGVySW1hZ2VTbGljZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZVdpZHRoJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JveEZsZXgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94RmxleEdyb3VwJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JveE9yZGluYWxHcm91cCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdjb2x1bW5Db3VudCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhHcm93Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhQb3NpdGl2ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4U2hyaW5rJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhOZWdhdGl2ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4T3JkZXInKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZ3JpZFJvdycpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdncmlkQ29sdW1uJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZvbnRXZWlnaHQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnbGluZUNsYW1wJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2xpbmVIZWlnaHQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnb3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcmRlcicpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcnBoYW5zJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3RhYlNpemUnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnd2lkb3dzJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3pJbmRleCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCd6b29tJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZpbGxPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2Zsb29kT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdG9wT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VEYXNoYXJyYXknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlRGFzaG9mZnNldCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VNaXRlcmxpbWl0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZU9wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlV2lkdGgnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnY2hpbGRyZW4nKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGlsZHJlblR5cGUnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdkZWZhdWx0VmFsdWUnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdyZWYnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdrZXknKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGVja2VkJyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnbXVsdGlwbGUnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25DbGljaycpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uTW91c2VEb3duJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZVVwJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZU1vdmUnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvblN1Ym1pdCcpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uRGJsQ2xpY2snKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleURvd24nKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleVVwJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25LZXlQcmVzcycpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS9jb25zdGFudHMuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vY29yZS9vcHRpb25zXCIpO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi4vY29yZS9WTm9kZXNcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciByZWN5Y2xpbmdfMSA9IHJlcXVpcmUoXCIuL3JlY3ljbGluZ1wiKTtcclxudmFyIHJlbmRlcmluZ18xID0gcmVxdWlyZShcIi4vcmVuZGVyaW5nXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL3dyYXBwZXJzL3Byb2Nlc3NFbGVtZW50XCIpO1xyXG5mdW5jdGlvbiBtb3VudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCAoZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRWb2lkKHZOb2RlLCBwYXJlbnREb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRUZXh0KHZOb2RlLCBwYXJlbnREb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2Tm9kZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcIm1vdW50KCkgcmVjZWl2ZWQgYW4gb2JqZWN0IHRoYXQncyBub3QgYSB2YWxpZCBWTm9kZSwgeW91IHNob3VsZCBzdHJpbmdpZnkgaXQgZmlyc3QuIE9iamVjdDogXFxcIlwiICsgSlNPTi5zdHJpbmdpZnkodk5vZGUpICsgXCJcXFwiLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcIm1vdW50KCkgZXhwZWN0cyBhIHZhbGlkIFZOb2RlLCBpbnN0ZWFkIGl0IHJlY2VpdmVkIGFuIG9iamVjdCB3aXRoIHRoZSB0eXBlIFxcXCJcIiArIHR5cGVvZiB2Tm9kZSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudCA9IG1vdW50O1xyXG5mdW5jdGlvbiBtb3VudFRleHQodk5vZGUsIHBhcmVudERvbSkge1xyXG4gICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZOb2RlLmNoaWxkcmVuKTtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50VGV4dCA9IG1vdW50VGV4dDtcclxuZnVuY3Rpb24gbW91bnRWb2lkKHZOb2RlLCBwYXJlbnREb20pIHtcclxuICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZXhwb3J0cy5tb3VudFZvaWQgPSBtb3VudFZvaWQ7XHJcbmZ1bmN0aW9uIG1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCkge1xyXG4gICAgICAgIHZhciBkb21fMSA9IHJlY3ljbGluZ18xLnJlY3ljbGVFbGVtZW50KHZOb2RlLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGRvbV8xKSkge1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb21fMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGRvbV8xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgaXNTVkcgPSBpc1NWRyB8fCAoZmxhZ3MgJiAxMjggLyogU3ZnRWxlbWVudCAqLykgPiAwO1xyXG4gICAgdmFyIGRvbSA9IHV0aWxzXzEuZG9jdW1lbnRDcmVhdGVFbGVtZW50KHZOb2RlLnR5cGUsIGlzU1ZHKTtcclxuICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHM7XHJcbiAgICB2YXIgY2xhc3NOYW1lID0gdk5vZGUuY2xhc3NOYW1lO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5zZXRUZXh0Q29udGVudChkb20sIGNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBtb3VudEFycmF5Q2hpbGRyZW4oY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKFZOb2Rlc18xLmlzVk5vZGUoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIG1vdW50KGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocHJvcHMpKSB7XHJcbiAgICAgICAgdmFyIGhhc0NvbnRyb2xsZWRWYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpc0Zvcm1FbGVtZW50ID0gKGZsYWdzICYgMzU4NCAvKiBGb3JtRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGhhc0NvbnRyb2xsZWRWYWx1ZSA9IHByb2Nlc3NFbGVtZW50XzEuaXNDb250cm9sbGVkRm9ybUVsZW1lbnQocHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgIC8vIGRvIG5vdCBhZGQgYSBoYXNPd25Qcm9wZXJ0eSBjaGVjayBoZXJlLCBpdCBhZmZlY3RzIHBlcmZvcm1hbmNlXHJcbiAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2hQcm9wKHByb3AsIG51bGwsIHByb3BzW3Byb3BdLCBkb20sIGlzU1ZHLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBwcm9jZXNzRWxlbWVudF8xLnByb2Nlc3NFbGVtZW50KGZsYWdzLCB2Tm9kZSwgZG9tLCBwcm9wcywgdHJ1ZSwgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoY2xhc3NOYW1lICE9PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChyZWYpKSB7XHJcbiAgICAgICAgbW91bnRSZWYoZG9tLCByZWYsIGxpZmVjeWNsZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZXhwb3J0cy5tb3VudEVsZW1lbnQgPSBtb3VudEVsZW1lbnQ7XHJcbmZ1bmN0aW9uIG1vdW50QXJyYXlDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAvLyBWZXJpZnkgY2FuIHN0cmluZy9udW1iZXIgYmUgaGVyZS4gbWlnaHQgY2F1c2UgZGUtb3B0LiAtIE5vcm1hbGl6YXRpb24gdGFrZXMgY2FyZSBvZiBpdC5cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSkge1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbltpXSA9IGNoaWxkID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoY2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1vdW50KGNoaWxkcmVuW2ldLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50QXJyYXlDaGlsZHJlbiA9IG1vdW50QXJyYXlDaGlsZHJlbjtcclxuZnVuY3Rpb24gbW91bnRDb21wb25lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNDbGFzcykge1xyXG4gICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLnJlY3ljbGluZ0VuYWJsZWQpIHtcclxuICAgICAgICB2YXIgZG9tXzIgPSByZWN5Y2xpbmdfMS5yZWN5Y2xlQ29tcG9uZW50KHZOb2RlLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGRvbV8yKSkge1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb21fMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGRvbV8yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciB0eXBlID0gdk5vZGUudHlwZTtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBkb207XHJcbiAgICBpZiAoaXNDbGFzcykge1xyXG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHV0aWxzXzEuY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZSh2Tm9kZSwgdHlwZSwgcHJvcHMsIGNvbnRleHQsIGlzU1ZHLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIHZhciBpbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaW5zdGFuY2UuX3ZOb2RlID0gdk5vZGU7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gZG9tID0gbW91bnQoaW5wdXQsIG51bGwsIGxpZmVjeWNsZSwgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyh2Tm9kZSwgcmVmLCBpbnN0YW5jZSwgbGlmZWN5Y2xlKTtcclxuICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5zZXQoaW5zdGFuY2UsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gdXRpbHNfMS5jcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBkb20gPSBtb3VudChpbnB1dCwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgdk5vZGUuY2hpbGRyZW4gPSBpbnB1dDtcclxuICAgICAgICBtb3VudEZ1bmN0aW9uYWxDb21wb25lbnRDYWxsYmFja3MocmVmLCBkb20sIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZXhwb3J0cy5tb3VudENvbXBvbmVudCA9IG1vdW50Q29tcG9uZW50O1xyXG5mdW5jdGlvbiBtb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzKHZOb2RlLCByZWYsIGluc3RhbmNlLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKHJlZikpIHtcclxuICAgICAgICAgICAgcmVmKGluc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKHJlZikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ3N0cmluZyBcInJlZnNcIiBhcmUgbm90IHN1cHBvcnRlZCBpbiBJbmZlcm5vIDEuMC4gVXNlIGNhbGxiYWNrIFwicmVmc1wiIGluc3RlYWQuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KHJlZikgJiYgKHZOb2RlLmZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2Z1bmN0aW9uYWwgY29tcG9uZW50IGxpZmVjeWNsZSBldmVudHMgYXJlIG5vdCBzdXBwb3J0ZWQgb24gRVMyMDE1IGNsYXNzIGNvbXBvbmVudHMuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJhIGJhZCB2YWx1ZSBmb3IgXFxcInJlZlxcXCIgd2FzIHVzZWQgb24gY29tcG9uZW50OiBcXFwiXCIgKyBKU09OLnN0cmluZ2lmeShyZWYpICsgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBoYXNEaWRNb3VudCA9ICFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KTtcclxuICAgIHZhciBhZnRlck1vdW50ID0gb3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJNb3VudDtcclxuICAgIGlmIChoYXNEaWRNb3VudCB8fCAhaW5mZXJub19zaGFyZWRfMS5pc051bGwoYWZ0ZXJNb3VudCkpIHtcclxuICAgICAgICBsaWZlY3ljbGUuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoYWZ0ZXJNb3VudCkge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJNb3VudCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhhc0RpZE1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyA9IG1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3M7XHJcbmZ1bmN0aW9uIG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAocmVmKSB7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocmVmLm9uQ29tcG9uZW50V2lsbE1vdW50KSkge1xyXG4gICAgICAgICAgICByZWYub25Db21wb25lbnRXaWxsTW91bnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocmVmLm9uQ29tcG9uZW50RGlkTW91bnQpKSB7XHJcbiAgICAgICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7IHJldHVybiByZWYub25Db21wb25lbnREaWRNb3VudChkb20pOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudEZ1bmN0aW9uYWxDb21wb25lbnRDYWxsYmFja3MgPSBtb3VudEZ1bmN0aW9uYWxDb21wb25lbnRDYWxsYmFja3M7XHJcbmZ1bmN0aW9uIG1vdW50UmVmKGRvbSwgdmFsdWUsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICBsaWZlY3ljbGUuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWUoZG9tKTsgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdzdHJpbmcgXCJyZWZzXCIgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gSW5mZXJubyAxLjAuIFVzZSBjYWxsYmFjayBcInJlZnNcIiBpbnN0ZWFkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50UmVmID0gbW91bnRSZWY7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL21vdW50aW5nLmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0JykuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tY29tcG9uZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL29wdGlvbnNcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciByZWN5Y2xpbmdfMSA9IHJlcXVpcmUoXCIuL3JlY3ljbGluZ1wiKTtcclxudmFyIHJlbmRlcmluZ18xID0gcmVxdWlyZShcIi4vcmVuZGVyaW5nXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG5mdW5jdGlvbiB1bm1vdW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgdW5tb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgdW5tb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmICgxIC8qIFRleHQgKi8gfCA0MDk2IC8qIFZvaWQgKi8pKSB7XHJcbiAgICAgICAgdW5tb3VudFZvaWRPclRleHQodk5vZGUsIHBhcmVudERvbSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50ID0gdW5tb3VudDtcclxuZnVuY3Rpb24gdW5tb3VudFZvaWRPclRleHQodk5vZGUsIHBhcmVudERvbSkge1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVDaGlsZChwYXJlbnREb20sIHZOb2RlLmRvbSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5tb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgaW5zdGFuY2UgPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgdmFyIGlzU3RhdGVmdWxDb21wb25lbnQgPSBmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi87XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIGlmICghaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLl91bm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9ibG9ja1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYmVmb3JlVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVVbm1vdW50KHZOb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlZiAmJiAhaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYobnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fdW5tb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuZGVsZXRlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVubW91bnQoaW5zdGFuY2UuX2xhc3RJbnB1dCwgbnVsbCwgaW5zdGFuY2UuX2xpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocmVmLm9uQ29tcG9uZW50V2lsbFVubW91bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmLm9uQ29tcG9uZW50V2lsbFVubW91bnQoZG9tKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1bm1vdW50KGluc3RhbmNlLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBhcmVudERvbSkge1xyXG4gICAgICAgIHZhciBsYXN0SW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdElucHV0KSkge1xyXG4gICAgICAgICAgICBsYXN0SW5wdXQgPSBpbnN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAhaXNTdGF0ZWZ1bENvbXBvbmVudCAmJiAocGFyZW50RG9tIHx8IGNhblJlY3ljbGUpKSB7XHJcbiAgICAgICAgcmVjeWNsaW5nXzEucG9vbENvbXBvbmVudCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50Q29tcG9uZW50ID0gdW5tb3VudENvbXBvbmVudDtcclxuZnVuY3Rpb24gdW5tb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIGlmIChyZWYgJiYgIWlzUmVjeWNsaW5nKSB7XHJcbiAgICAgICAgdW5tb3VudFJlZihyZWYpO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wcykpIHtcclxuICAgICAgICBmb3IgKHZhciBuYW1lXzEgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgaWYgKHByb3BzW25hbWVfMV0gIT09IG51bGwgJiYgcGF0Y2hpbmdfMS5pc0F0dHJBbkV2ZW50KG5hbWVfMSkpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2hFdmVudChuYW1lXzEsIHByb3BzW25hbWVfMV0sIG51bGwsIGRvbSk7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHNldCB0aGlzIG51bGwsIGJlY2F1c2Ugc2FtZSBwcm9wcyBvdGhlcndpc2UgY29tZSBiYWNrIGlmIFNDVSByZXR1cm5zIGZhbHNlIGFuZCB3ZSBhcmUgcmVjeWxpbmdcclxuICAgICAgICAgICAgICAgIHByb3BzW25hbWVfMV0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAocGFyZW50RG9tIHx8IGNhblJlY3ljbGUpKSB7XHJcbiAgICAgICAgcmVjeWNsaW5nXzEucG9vbEVsZW1lbnQodk5vZGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMudW5tb3VudEVsZW1lbnQgPSB1bm1vdW50RWxlbWVudDtcclxuZnVuY3Rpb24gdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkgJiYgaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgIHVubW91bnQoY2hpbGQsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdW5tb3VudChjaGlsZHJlbiwgbnVsbCwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHVubW91bnRSZWYocmVmKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKHJlZikpIHtcclxuICAgICAgICByZWYobnVsbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQocmVmKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vdW5tb3VudGluZy5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBJbnB1dFdyYXBwZXJfMSA9IHJlcXVpcmUoXCIuL0lucHV0V3JhcHBlclwiKTtcclxudmFyIFNlbGVjdFdyYXBwZXJfMSA9IHJlcXVpcmUoXCIuL1NlbGVjdFdyYXBwZXJcIik7XHJcbnZhciBUZXh0YXJlYVdyYXBwZXJfMSA9IHJlcXVpcmUoXCIuL1RleHRhcmVhV3JhcHBlclwiKTtcclxuLyoqXHJcbiAqIFRoZXJlIGlzIGN1cnJlbnRseSBubyBzdXBwb3J0IGZvciBzd2l0Y2hpbmcgc2FtZSBpbnB1dCBiZXR3ZWVuIGNvbnRyb2xsZWQgYW5kIG5vbkNvbnRyb2xsZWRcclxuICogSWYgdGhhdCBldmVyIGJlY29tZXMgYSByZWFsIGlzc3VlLCB0aGVuIHJlIGRlc2lnbiBjb250cm9sbGVkIGVsZW1lbnRzXHJcbiAqIEN1cnJlbnRseSB1c2VyIG11c3QgY2hvb3NlIGVpdGhlciBjb250cm9sbGVkIG9yIG5vbi1jb250cm9sbGVkIGFuZCBzdGljayB3aXRoIHRoYXRcclxuICovXHJcbmZ1bmN0aW9uIHByb2Nlc3NFbGVtZW50KGZsYWdzLCB2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKSB7XHJcbiAgICBpZiAoZmxhZ3MgJiA1MTIgLyogSW5wdXRFbGVtZW50ICovKSB7XHJcbiAgICAgICAgSW5wdXRXcmFwcGVyXzEucHJvY2Vzc0lucHV0KHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGZsYWdzICYgMjA0OCAvKiBTZWxlY3RFbGVtZW50ICovKSB7XHJcbiAgICAgICAgU2VsZWN0V3JhcHBlcl8xLnByb2Nlc3NTZWxlY3Qodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZmxhZ3MgJiAxMDI0IC8qIFRleHRhcmVhRWxlbWVudCAqLykge1xyXG4gICAgICAgIFRleHRhcmVhV3JhcHBlcl8xLnByb2Nlc3NUZXh0YXJlYSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnByb2Nlc3NFbGVtZW50ID0gcHJvY2Vzc0VsZW1lbnQ7XHJcbmZ1bmN0aW9uIGlzQ29udHJvbGxlZEZvcm1FbGVtZW50KG5leHRQcm9wc09yRW1wdHkpIHtcclxuICAgIHJldHVybiAobmV4dFByb3BzT3JFbXB0eS50eXBlICYmIElucHV0V3JhcHBlcl8xLmlzQ2hlY2tlZFR5cGUobmV4dFByb3BzT3JFbXB0eS50eXBlKSkgPyAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRQcm9wc09yRW1wdHkuY2hlY2tlZCkgOiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRQcm9wc09yRW1wdHkudmFsdWUpO1xyXG59XHJcbmV4cG9ydHMuaXNDb250cm9sbGVkRm9ybUVsZW1lbnQgPSBpc0NvbnRyb2xsZWRGb3JtRWxlbWVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vd3JhcHBlcnMvcHJvY2Vzc0VsZW1lbnQuanNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBhZGRMZWFkaW5nU2xhc2ggPSBleHBvcnRzLmFkZExlYWRpbmdTbGFzaCA9IGZ1bmN0aW9uIGFkZExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG59O1xuXG52YXIgc3RyaXBMZWFkaW5nU2xhc2ggPSBleHBvcnRzLnN0cmlwTGVhZGluZ1NsYXNoID0gZnVuY3Rpb24gc3RyaXBMZWFkaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJyA/IHBhdGguc3Vic3RyKDEpIDogcGF0aDtcbn07XG5cbnZhciBzdHJpcFByZWZpeCA9IGV4cG9ydHMuc3RyaXBQcmVmaXggPSBmdW5jdGlvbiBzdHJpcFByZWZpeChwYXRoLCBwcmVmaXgpIHtcbiAgcmV0dXJuIHBhdGguaW5kZXhPZihwcmVmaXgpID09PSAwID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xufTtcblxudmFyIHN0cmlwVHJhaWxpbmdTbGFzaCA9IGV4cG9ydHMuc3RyaXBUcmFpbGluZ1NsYXNoID0gZnVuY3Rpb24gc3RyaXBUcmFpbGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KHBhdGgubGVuZ3RoIC0gMSkgPT09ICcvJyA/IHBhdGguc2xpY2UoMCwgLTEpIDogcGF0aDtcbn07XG5cbnZhciBwYXJzZVBhdGggPSBleHBvcnRzLnBhcnNlUGF0aCA9IGZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIHZhciBwYXRobmFtZSA9IHBhdGggfHwgJy8nO1xuICB2YXIgc2VhcmNoID0gJyc7XG4gIHZhciBoYXNoID0gJyc7XG5cbiAgdmFyIGhhc2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcbiAgICBoYXNoID0gcGF0aG5hbWUuc3Vic3RyKGhhc2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIoMCwgaGFzaEluZGV4KTtcbiAgfVxuXG4gIHZhciBzZWFyY2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJz8nKTtcbiAgaWYgKHNlYXJjaEluZGV4ICE9PSAtMSkge1xuICAgIHNlYXJjaCA9IHBhdGhuYW1lLnN1YnN0cihzZWFyY2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIoMCwgc2VhcmNoSW5kZXgpO1xuICB9XG5cbiAgcGF0aG5hbWUgPSBkZWNvZGVVUkkocGF0aG5hbWUpO1xuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoID09PSAnPycgPyAnJyA6IHNlYXJjaCxcbiAgICBoYXNoOiBoYXNoID09PSAnIycgPyAnJyA6IGhhc2hcbiAgfTtcbn07XG5cbnZhciBjcmVhdGVQYXRoID0gZXhwb3J0cy5jcmVhdGVQYXRoID0gZnVuY3Rpb24gY3JlYXRlUGF0aChsb2NhdGlvbikge1xuICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuXG5cbiAgdmFyIHBhdGggPSBlbmNvZGVVUkkocGF0aG5hbWUgfHwgJy8nKTtcblxuICBpZiAoc2VhcmNoICYmIHNlYXJjaCAhPT0gJz8nKSBwYXRoICs9IHNlYXJjaC5jaGFyQXQoMCkgPT09ICc/JyA/IHNlYXJjaCA6ICc/JyArIHNlYXJjaDtcblxuICBpZiAoaGFzaCAmJiBoYXNoICE9PSAnIycpIHBhdGggKz0gaGFzaC5jaGFyQXQoMCkgPT09ICcjJyA/IGhhc2ggOiAnIycgKyBoYXNoO1xuXG4gIHJldHVybiBwYXRoO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9QYXRoVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0JykuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tY3JlYXRlLWVsZW1lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IHJlcXVpcmUoXCJpbmZlcm5vXCIpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxuZnVuY3Rpb24gcmVuZGVyTGluayhjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcykge1xyXG4gICAgcmV0dXJuIGluZmVybm9fMS5jcmVhdGVWTm9kZSgyIC8qIEh0bWxFbGVtZW50ICovLCAnYScsIGNsYXNzTm0sIGNoaWxkcmVuLCBvdGhlclByb3BzKTtcclxufVxyXG5mdW5jdGlvbiBMaW5rKHByb3BzLCBfYSkge1xyXG4gICAgdmFyIHJvdXRlciA9IF9hLnJvdXRlcjtcclxuICAgIHZhciBhY3RpdmVDbGFzc05hbWUgPSBwcm9wcy5hY3RpdmVDbGFzc05hbWUsIGFjdGl2ZVN0eWxlID0gcHJvcHMuYWN0aXZlU3R5bGUsIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSwgb25DbGljayA9IHByb3BzLm9uQ2xpY2ssIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sIHRvID0gcHJvcHMudG8sIG90aGVyUHJvcHMgPSBfX3Jlc3QocHJvcHMsIFtcImFjdGl2ZUNsYXNzTmFtZVwiLCBcImFjdGl2ZVN0eWxlXCIsIFwiY2xhc3NOYW1lXCIsIFwib25DbGlja1wiLCBcImNoaWxkcmVuXCIsIFwidG9cIl0pO1xyXG4gICAgdmFyIGNsYXNzTm07XHJcbiAgICBpZiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgY2xhc3NObSA9IGNsYXNzTmFtZTtcclxuICAgIH1cclxuICAgIGlmICghcm91dGVyKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCc8TGluay8+IGNvbXBvbmVudCB1c2VkIG91dHNpZGUgb2YgPFJvdXRlci8+LiBGYWxsYmFjayB0byA8YT4gdGFnLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvdGhlclByb3BzLmhyZWYgPSB0bztcclxuICAgICAgICBvdGhlclByb3BzLm9uQ2xpY2sgPSBvbkNsaWNrO1xyXG4gICAgICAgIHJldHVybiByZW5kZXJMaW5rKGNsYXNzTm0sIGNoaWxkcmVuLCBvdGhlclByb3BzKTtcclxuICAgIH1cclxuICAgIG90aGVyUHJvcHMuaHJlZiA9IGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyID8gcm91dGVyLmNyZWF0ZUhyZWYoeyBwYXRobmFtZTogdG8gfSkgOiByb3V0ZXIubG9jYXRpb24uYmFzZVVybCA/IHJvdXRlci5sb2NhdGlvbi5iYXNlVXJsICsgdG8gOiB0bztcclxuICAgIGlmIChyb3V0ZXIubG9jYXRpb24ucGF0aG5hbWUgPT09IHRvKSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZUNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBjbGFzc05tID0gKGNsYXNzTmFtZSA/IGNsYXNzTmFtZSArICcgJyA6ICcnKSArIGFjdGl2ZUNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFjdGl2ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIG90aGVyUHJvcHMuc3R5bGUgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHByb3BzLnN0eWxlLCBhY3RpdmVTdHlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb3RoZXJQcm9wcy5vbmNsaWNrID0gZnVuY3Rpb24gbmF2aWdhdGUoZSkge1xyXG4gICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCB8fCBlLmN0cmxLZXkgfHwgZS5hbHRLZXkgfHwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG9uQ2xpY2soZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJvdXRlci5wdXNoKHRvLCBlLnRhcmdldC50ZXh0Q29udGVudCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IExpbms7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L0xpbmsuanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19jb21wb25lbnRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLWNvbXBvbmVudFwiKTtcclxudmFyIFJvdXRlckNvbnRleHQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJvdXRlckNvbnRleHQsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZXJDb250ZXh0KHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKCFwcm9wcy5sb2NhdGlvbiB8fCAhcHJvcHMubWF0Y2hlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJpbmZlcm5vLXJvdXRlclwiIHJlcXVpcmVzIGEgXCJsb2NhdGlvblwiIGFuZCBcIm1hdGNoZWRcIiBwcm9wcyBwYXNzZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSb3V0ZXJDb250ZXh0LnByb3RvdHlwZS5nZXRDaGlsZENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcm91dGVyOiB0aGlzLnByb3BzLnJvdXRlciB8fCB7XHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVcmw6IHRoaXMucHJvcHMuYmFzZVVybCxcclxuICAgICAgICAgICAgICAgICAgICBwYXRobmFtZTogdGhpcy5wcm9wcy5sb2NhdGlvblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBSb3V0ZXJDb250ZXh0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICByZXR1cm4gcHJvcHMubWF0Y2hlZDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUm91dGVyQ29udGV4dDtcclxufShpbmZlcm5vX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGVyQ29udGV4dDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyQ29udGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IHJlcXVpcmUoXCJpbmZlcm5vXCIpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIHBhdGhfdG9fcmVnZXhwX2VzNl8xID0gcmVxdWlyZShcInBhdGgtdG8tcmVnZXhwLWVzNlwiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcclxudmFyIGNhY2hlID0gbmV3IE1hcCgpO1xyXG4vKipcclxuICogUmV0dXJucyBhIG5vZGUgY29udGFpbmluZyBvbmx5IHRoZSBtYXRjaGVkIGNvbXBvbmVudHNcclxuICogQHBhcmFtIHJvdXRlc1xyXG4gKiBAcGFyYW0gY3VycmVudFVSTFxyXG4gKiBAcmV0dXJucyB7Kn1cclxuICovXHJcbmZ1bmN0aW9uIG1hdGNoKHJvdXRlcywgY3VycmVudFVSTCkge1xyXG4gICAgdmFyIGxvY2F0aW9uID0gdXRpbHNfMS5nZXRVUkxTdHJpbmcoY3VycmVudFVSTCk7XHJcbiAgICByZXR1cm4gbWF0Y2hSb3V0ZXMoaW5mZXJub19zaGFyZWRfMS50b0FycmF5KHJvdXRlcyksIGVuY29kZVVSSShsb2NhdGlvbiksICcvJyk7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gbWF0Y2g7XHJcbi8qKlxyXG4gKiBHbyB0aHJvdWdoIGV2ZXJ5IHJvdXRlIGFuZCBjcmVhdGUgYSBuZXcgbm9kZVxyXG4gKiB3aXRoIHRoZSBtYXRjaGVkIGNvbXBvbmVudHNcclxuICogQHBhcmFtIF9yb3V0ZXNcclxuICogQHBhcmFtIGN1cnJlbnRVUkxcclxuICogQHBhcmFtIHBhcmVudFBhdGhcclxuICogQHBhcmFtIHJlZGlyZWN0XHJcbiAqIEByZXR1cm5zIHtvYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXRjaFJvdXRlcyhfcm91dGVzLCBjdXJyZW50VVJMLCBwYXJlbnRQYXRoLCByZWRpcmVjdCkge1xyXG4gICAgaWYgKGN1cnJlbnRVUkwgPT09IHZvaWQgMCkgeyBjdXJyZW50VVJMID0gJy8nOyB9XHJcbiAgICBpZiAocGFyZW50UGF0aCA9PT0gdm9pZCAwKSB7IHBhcmVudFBhdGggPSAnLyc7IH1cclxuICAgIGlmIChyZWRpcmVjdCA9PT0gdm9pZCAwKSB7IHJlZGlyZWN0ID0gZmFsc2U7IH1cclxuICAgIHZhciByb3V0ZXMgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoX3JvdXRlcykgPyB1dGlsc18xLmZsYXR0ZW4oX3JvdXRlcykgOiBpbmZlcm5vX3NoYXJlZF8xLnRvQXJyYXkoX3JvdXRlcyk7XHJcbiAgICB2YXIgX2EgPSBjdXJyZW50VVJMLnNwbGl0KCc/JyksIF9iID0gX2FbMF0sIHBhdGhUb01hdGNoID0gX2IgPT09IHZvaWQgMCA/ICcvJyA6IF9iLCBfYyA9IF9hWzFdLCBzZWFyY2ggPSBfYyA9PT0gdm9pZCAwID8gJycgOiBfYztcclxuICAgIHZhciBwYXJhbXMgPSB1dGlsc18xLm1hcFNlYXJjaFBhcmFtcyhzZWFyY2gpO1xyXG4gICAgcm91dGVzLnNvcnQodXRpbHNfMS5wYXRoUmFua1NvcnQpO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJvdXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciByb3V0ZSA9IHJvdXRlc1tpXTtcclxuICAgICAgICB2YXIgcHJvcHMgPSByb3V0ZS5wcm9wcyB8fCB1dGlsc18xLmVtcHR5T2JqZWN0O1xyXG4gICAgICAgIHZhciByb3V0ZVBhdGggPSBwcm9wcy5mcm9tIHx8IHByb3BzLnBhdGggfHwgJy8nO1xyXG4gICAgICAgIHZhciBsb2NhdGlvbl8xID0gcGFyZW50UGF0aCArIHV0aWxzXzEudG9QYXJ0aWFsVVJMKHJvdXRlUGF0aCwgcGFyZW50UGF0aCkucmVwbGFjZSgvXFwvXFwvL2csICcvJyk7XHJcbiAgICAgICAgdmFyIGlzTGFzdCA9IHV0aWxzXzEuaXNFbXB0eShwcm9wcy5jaGlsZHJlbik7XHJcbiAgICAgICAgdmFyIG1hdGNoQmFzZSA9IG1hdGNoUGF0aChpc0xhc3QsIGxvY2F0aW9uXzEsIHBhdGhUb01hdGNoKTtcclxuICAgICAgICBpZiAobWF0Y2hCYXNlKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBpZiAocHJvcHMuZnJvbSkge1xyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3QgPSBwcm9wcy50bztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaENoaWxkID0gbWF0Y2hSb3V0ZXMoY2hpbGRyZW4sIGN1cnJlbnRVUkwsIGxvY2F0aW9uXzEsIHJlZGlyZWN0KTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaENoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoQ2hpbGQucmVkaXJlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbl8xLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IG1hdGNoQ2hpbGQucmVkaXJlY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBtYXRjaENoaWxkLm1hdGNoZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkUHJvcHMgPSBjaGlsZHJlbi5wcm9wcy5wYXJhbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGNoaWxkUHJvcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zW2tleV0gPSBjaGlsZFByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBtYXRjaGVkID0gaW5mZXJub18xLmRlZmF1bHQuY2xvbmVWTm9kZShyb3V0ZSwge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHBhcmFtcywgbWF0Y2hCYXNlLnBhcmFtcyksXHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25fMSxcclxuICAgICAgICAgICAgICAgIHJlZGlyZWN0OiByZWRpcmVjdCxcclxuICAgICAgICAgICAgICAgIG1hdGNoZWQ6IG1hdGNoZWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENvbnZlcnRzIHBhdGggdG8gYSByZWdleCwgaWYgYSBtYXRjaCBpcyBmb3VuZCB0aGVuIHdlIGV4dHJhY3QgcGFyYW1zIGZyb20gaXRcclxuICogQHBhcmFtIGVuZFxyXG4gKiBAcGFyYW0gcm91dGVQYXRoXHJcbiAqIEBwYXJhbSBwYXRoVG9NYXRjaFxyXG4gKiBAcmV0dXJucyB7YW55fVxyXG4gKi9cclxuZnVuY3Rpb24gbWF0Y2hQYXRoKGVuZCwgcm91dGVQYXRoLCBwYXRoVG9NYXRjaCkge1xyXG4gICAgdmFyIGtleSA9IHJvdXRlUGF0aCArIFwifFwiICsgZW5kO1xyXG4gICAgdmFyIHJlZ2V4cCA9IGNhY2hlLmdldChrZXkpO1xyXG4gICAgaWYgKHJlZ2V4cCA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgdmFyIGtleXMgPSBbXTtcclxuICAgICAgICByZWdleHAgPSB7IHBhdHRlcm46IHBhdGhfdG9fcmVnZXhwX2VzNl8xLmRlZmF1bHQocm91dGVQYXRoLCBrZXlzLCB7IGVuZDogZW5kIH0pLCBrZXlzOiBrZXlzIH07XHJcbiAgICAgICAgY2FjaGUuc2V0KGtleSwgcmVnZXhwKTtcclxuICAgIH1cclxuICAgIHZhciBtID0gcmVnZXhwLnBhdHRlcm4uZXhlYyhwYXRoVG9NYXRjaCk7XHJcbiAgICBpZiAoIW0pIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHZhciBwYXRoID0gbVswXTtcclxuICAgIHZhciBwYXJhbXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IG0ubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcclxuICAgICAgICBwYXJhbXNbcmVnZXhwLmtleXNbaSAtIDFdLm5hbWVdID0gdXRpbHNfMS5kZWNvZGUobVtpXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHBhdGg6IHBhdGggPT09ICcnID8gJy8nIDogcGF0aCxcclxuICAgICAgICBwYXJhbXM6IHBhcmFtc1xyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLm1hdGNoUGF0aCA9IG1hdGNoUGF0aDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvbWF0Y2guanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG5leHBvcnRzLmVtcHR5T2JqZWN0ID0ge307XHJcbmZ1bmN0aW9uIGRlY29kZSh2YWwpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsICE9PSAnc3RyaW5nJyA/IHZhbCA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xyXG59XHJcbmV4cG9ydHMuZGVjb2RlID0gZGVjb2RlO1xyXG5mdW5jdGlvbiBpc0VtcHR5KGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gIWNoaWxkcmVuIHx8ICEoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogT2JqZWN0LmtleXMoY2hpbGRyZW4pKS5sZW5ndGg7XHJcbn1cclxuZXhwb3J0cy5pc0VtcHR5ID0gaXNFbXB0eTtcclxuZnVuY3Rpb24gZmxhdHRlbihvbGRBcnJheSkge1xyXG4gICAgdmFyIG5ld0FycmF5ID0gW107XHJcbiAgICBmbGF0dGVuQXJyYXkob2xkQXJyYXksIG5ld0FycmF5KTtcclxuICAgIHJldHVybiBuZXdBcnJheTtcclxufVxyXG5leHBvcnRzLmZsYXR0ZW4gPSBmbGF0dGVuO1xyXG5mdW5jdGlvbiBnZXRVUkxTdHJpbmcobG9jYXRpb24pIHtcclxuICAgIHJldHVybiBpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nKGxvY2F0aW9uKSA/IGxvY2F0aW9uIDogKGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoKTtcclxufVxyXG5leHBvcnRzLmdldFVSTFN0cmluZyA9IGdldFVSTFN0cmluZztcclxuLyoqXHJcbiAqIE1hcHMgYSBxdWVyeXN0cmluZyB0byBhbiBvYmplY3RcclxuICogU3VwcG9ydHMgYXJyYXlzIGFuZCB1dGYtOCBjaGFyYWN0ZXJzXHJcbiAqIEBwYXJhbSBzZWFyY2hcclxuICogQHJldHVybnMge2FueX1cclxuICovXHJcbmZ1bmN0aW9uIG1hcFNlYXJjaFBhcmFtcyhzZWFyY2gpIHtcclxuICAgIGlmIChzZWFyY2ggPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgLy8gQ3JlYXRlIGFuIG9iamVjdCB3aXRoIG5vIHByb3RvdHlwZVxyXG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICB2YXIgZnJhZ21lbnRzID0gc2VhcmNoLnNwbGl0KCcmJyk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZnJhZ21lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gZnJhZ21lbnRzW2ldO1xyXG4gICAgICAgIHZhciBfYSA9IGZyYWdtZW50LnNwbGl0KCc9JykubWFwKG1hcEZyYWdtZW50KS5tYXAoZGVjb2RlVVJJQ29tcG9uZW50KSwgayA9IF9hWzBdLCB2ID0gX2FbMV07XHJcbiAgICAgICAgaWYgKG1hcFtrXSkge1xyXG4gICAgICAgICAgICBtYXBba10gPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobWFwW2tdKSA/IG1hcFtrXSA6IFttYXBba11dO1xyXG4gICAgICAgICAgICBtYXBba10ucHVzaCh2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcFtrXSA9IHY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hcDtcclxufVxyXG5leHBvcnRzLm1hcFNlYXJjaFBhcmFtcyA9IG1hcFNlYXJjaFBhcmFtcztcclxuLyoqXHJcbiAqIEdldHMgdGhlIHJlbGV2YW50IHBhcnQgb2YgdGhlIFVSTCBmb3IgbWF0Y2hpbmdcclxuICogQHBhcmFtIGZ1bGxVUkxcclxuICogQHBhcmFtIHBhcnRVUkxcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIHRvUGFydGlhbFVSTChmdWxsVVJMLCBwYXJ0VVJMKSB7XHJcbiAgICBpZiAoZnVsbFVSTC5pbmRleE9mKHBhcnRVUkwpID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bGxVUkwuc3Vic3RyKHBhcnRVUkwubGVuZ3RoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdWxsVVJMO1xyXG59XHJcbmV4cG9ydHMudG9QYXJ0aWFsVVJMID0gdG9QYXJ0aWFsVVJMO1xyXG4vKipcclxuICogU2ltdWxhdGVzIC4uLiBvcGVyYXRvciBieSByZXR1cm5pbmcgZmlyc3QgYXJndW1lbnRcclxuICogd2l0aCB0aGUga2V5cyBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50IGV4Y2x1ZGVkXHJcbiAqIEBwYXJhbSBfYXJnc1xyXG4gKiBAcGFyYW0gZXhjbHVkZWRcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzdChfYXJncywgZXhjbHVkZWQpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIF9hcmdzKSB7XHJcbiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2YocCkgPCAwKSB7XHJcbiAgICAgICAgICAgIHRbcF0gPSBfYXJnc1twXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5leHBvcnRzLnJlc3QgPSByZXN0O1xyXG4vKipcclxuICogU29ydHMgYW4gYXJyYXkgYWNjb3JkaW5nIHRvIGl0cyBgcGF0aGAgcHJvcCBsZW5ndGhcclxuICogQHBhcmFtIGFcclxuICogQHBhcmFtIGJcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIHBhdGhSYW5rU29ydChhLCBiKSB7XHJcbiAgICB2YXIgYUF0dHIgPSBhLnByb3BzIHx8IGV4cG9ydHMuZW1wdHlPYmplY3Q7XHJcbiAgICB2YXIgYkF0dHIgPSBiLnByb3BzIHx8IGV4cG9ydHMuZW1wdHlPYmplY3Q7XHJcbiAgICB2YXIgZGlmZiA9IHJhbmsoYkF0dHIucGF0aCkgLSByYW5rKGFBdHRyLnBhdGgpO1xyXG4gICAgcmV0dXJuIGRpZmYgfHwgKChiQXR0ci5wYXRoICYmIGFBdHRyLnBhdGgpID8gKGJBdHRyLnBhdGgubGVuZ3RoIC0gYUF0dHIucGF0aC5sZW5ndGgpIDogMCk7XHJcbn1cclxuZXhwb3J0cy5wYXRoUmFua1NvcnQgPSBwYXRoUmFua1NvcnQ7XHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIHBhcnNpbmcgcXVlcnlzdHJpbmcgYXJyYXlzXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXBGcmFnbWVudChwLCBpc1ZhbCkge1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpc1ZhbCB8IDAgPyBwIDogcC5yZXBsYWNlKCdbXScsICcnKSk7XHJcbn1cclxuZnVuY3Rpb24gc3RyaXAodXJsKSB7XHJcbiAgICByZXR1cm4gdXJsLnJlcGxhY2UoLyheXFwvK3xcXC8rJCkvZywgJycpO1xyXG59XHJcbmZ1bmN0aW9uIHJhbmsodXJsKSB7XHJcbiAgICBpZiAodXJsID09PSB2b2lkIDApIHsgdXJsID0gJyc7IH1cclxuICAgIHJldHVybiAoc3RyaXAodXJsKS5tYXRjaCgvXFwvKy9nKSB8fCAnJykubGVuZ3RoO1xyXG59XHJcbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShvbGRBcnJheSwgbmV3QXJyYXkpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBvbGRBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBpdGVtID0gb2xkQXJyYXlbaV07XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpdGVtKSkge1xyXG4gICAgICAgICAgICBmbGF0dGVuQXJyYXkoaXRlbSwgbmV3QXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvdXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgcGF0Y2hpbmdfMSA9IHJlcXVpcmUoXCIuL3BhdGNoaW5nXCIpO1xyXG52YXIgY29tcG9uZW50UG9vbHMgPSBuZXcgTWFwKCk7XHJcbnZhciBlbGVtZW50UG9vbHMgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIHJlY3ljbGVFbGVtZW50KHZOb2RlLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgdGFnID0gdk5vZGUudHlwZTtcclxuICAgIHZhciBwb29scyA9IGVsZW1lbnRQb29scy5nZXQodGFnKTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29scykpIHtcclxuICAgICAgICB2YXIga2V5ID0gdk5vZGUua2V5O1xyXG4gICAgICAgIHZhciBwb29sID0ga2V5ID09PSBudWxsID8gcG9vbHMubm9uS2V5ZWQgOiBwb29scy5rZXllZC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbCkpIHtcclxuICAgICAgICAgICAgdmFyIHJlY3ljbGVkVk5vZGUgPSBwb29sLnBvcCgpO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocmVjeWNsZWRWTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2hFbGVtZW50KHJlY3ljbGVkVk5vZGUsIHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2Tm9kZS5kb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5leHBvcnRzLnJlY3ljbGVFbGVtZW50ID0gcmVjeWNsZUVsZW1lbnQ7XHJcbmZ1bmN0aW9uIHBvb2xFbGVtZW50KHZOb2RlKSB7XHJcbiAgICB2YXIgdGFnID0gdk5vZGUudHlwZTtcclxuICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICB2YXIgcG9vbHMgPSBlbGVtZW50UG9vbHMuZ2V0KHRhZyk7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29scykpIHtcclxuICAgICAgICBwb29scyA9IHtcclxuICAgICAgICAgICAga2V5ZWQ6IG5ldyBNYXAoKSxcclxuICAgICAgICAgICAgbm9uS2V5ZWQ6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBlbGVtZW50UG9vbHMuc2V0KHRhZywgcG9vbHMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGtleSkpIHtcclxuICAgICAgICBwb29scy5ub25LZXllZC5wdXNoKHZOb2RlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBwb29sID0gcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbCkpIHtcclxuICAgICAgICAgICAgcG9vbCA9IFtdO1xyXG4gICAgICAgICAgICBwb29scy5rZXllZC5zZXQoa2V5LCBwb29sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcG9vbC5wdXNoKHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBvb2xFbGVtZW50ID0gcG9vbEVsZW1lbnQ7XHJcbmZ1bmN0aW9uIHJlY3ljbGVDb21wb25lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciB0eXBlID0gdk5vZGUudHlwZTtcclxuICAgIHZhciBwb29scyA9IGNvbXBvbmVudFBvb2xzLmdldCh0eXBlKTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29scykpIHtcclxuICAgICAgICB2YXIga2V5ID0gdk5vZGUua2V5O1xyXG4gICAgICAgIHZhciBwb29sID0ga2V5ID09PSBudWxsID8gcG9vbHMubm9uS2V5ZWQgOiBwb29scy5rZXllZC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbCkpIHtcclxuICAgICAgICAgICAgdmFyIHJlY3ljbGVkVk5vZGUgPSBwb29sLnBvcCgpO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocmVjeWNsZWRWTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZhaWxlZCA9IHBhdGNoaW5nXzEucGF0Y2hDb21wb25lbnQocmVjeWNsZWRWTm9kZSwgdk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZhaWxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2Tm9kZS5kb207XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5leHBvcnRzLnJlY3ljbGVDb21wb25lbnQgPSByZWN5Y2xlQ29tcG9uZW50O1xyXG5mdW5jdGlvbiBwb29sQ29tcG9uZW50KHZOb2RlKSB7XHJcbiAgICB2YXIgaG9va3MgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgbm9uUmVjeWNsZUhvb2tzID0gaG9va3MgJiYgKGhvb2tzLm9uQ29tcG9uZW50V2lsbE1vdW50IHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnRXaWxsVW5tb3VudCB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50RGlkTW91bnQgfHxcclxuICAgICAgICBob29rcy5vbkNvbXBvbmVudFdpbGxVcGRhdGUgfHxcclxuICAgICAgICBob29rcy5vbkNvbXBvbmVudERpZFVwZGF0ZSk7XHJcbiAgICBpZiAobm9uUmVjeWNsZUhvb2tzKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgIHZhciBwb29scyA9IGNvbXBvbmVudFBvb2xzLmdldCh0eXBlKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHBvb2xzID0ge1xyXG4gICAgICAgICAgICBrZXllZDogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgICBub25LZXllZDogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbXBvbmVudFBvb2xzLnNldCh0eXBlLCBwb29scyk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwoa2V5KSkge1xyXG4gICAgICAgIHBvb2xzLm5vbktleWVkLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBwb29scy5rZXllZC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICBwb29sID0gW107XHJcbiAgICAgICAgICAgIHBvb2xzLmtleWVkLnNldChrZXksIHBvb2wpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwb29sLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucG9vbENvbXBvbmVudCA9IHBvb2xDb21wb25lbnQ7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3JlY3ljbGluZy5qc1xuLy8gbW9kdWxlIGlkID0gMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuL1ZOb2Rlc1wiKTtcclxuZnVuY3Rpb24gYXBwbHlLZXkoa2V5LCB2Tm9kZSkge1xyXG4gICAgdk5vZGUua2V5ID0ga2V5O1xyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5S2V5SWZNaXNzaW5nKGtleSwgdk5vZGUpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVtYmVyKGtleSkpIHtcclxuICAgICAgICBrZXkgPSBcIi5cIiArIGtleTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbCh2Tm9kZS5rZXkpIHx8IHZOb2RlLmtleVswXSA9PT0gJy4nKSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcGx5S2V5KGtleSwgdk5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5S2V5UHJlZml4KGtleSwgdk5vZGUpIHtcclxuICAgIHZOb2RlLmtleSA9IGtleSArIHZOb2RlLmtleTtcclxuICAgIHJldHVybiB2Tm9kZTtcclxufVxyXG5mdW5jdGlvbiBfbm9ybWFsaXplVk5vZGVzKG5vZGVzLCByZXN1bHQsIGluZGV4LCBjdXJyZW50S2V5KSB7XHJcbiAgICBmb3IgKHZhciBsZW4gPSBub2Rlcy5sZW5ndGg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XHJcbiAgICAgICAgdmFyIG4gPSBub2Rlc1tpbmRleF07XHJcbiAgICAgICAgdmFyIGtleSA9IGN1cnJlbnRLZXkgKyBcIi5cIiArIGluZGV4O1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobikpIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuKSkge1xyXG4gICAgICAgICAgICAgICAgX25vcm1hbGl6ZVZOb2RlcyhuLCByZXN1bHQsIDAsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFZOb2Rlc18xLmlzVk5vZGUobikgJiYgbi5kb20gfHwgKG4ua2V5ICYmIG4ua2V5WzBdID09PSAnLicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG4ua2V5KSB8fCBuLmtleVswXSA9PT0gJy4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IGFwcGx5S2V5KGtleSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gYXBwbHlLZXlQcmVmaXgoY3VycmVudEtleSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVWTm9kZXMobm9kZXMpIHtcclxuICAgIHZhciBuZXdOb2RlcztcclxuICAgIC8vIHdlIGFzc2lnbiAkIHdoaWNoIGJhc2ljYWxseSBtZWFucyB3ZSd2ZSBmbGFnZ2VkIHRoaXMgYXJyYXkgZm9yIGZ1dHVyZSBub3RlXHJcbiAgICAvLyBpZiBpdCBjb21lcyBiYWNrIGFnYWluLCB3ZSBuZWVkIHRvIGNsb25lIGl0LCBhcyBwZW9wbGUgYXJlIHVzaW5nIGl0XHJcbiAgICAvLyBpbiBhbiBpbW11dGFibGUgd2F5XHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZVxyXG4gICAgaWYgKG5vZGVzWyckJ10gPT09IHRydWUpIHtcclxuICAgICAgICBub2RlcyA9IG5vZGVzLnNsaWNlKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBub2Rlc1snJCddID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIHRzbGludDplbmFibGVcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBuID0gbm9kZXNbaV07XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG4pIHx8IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gKG5ld05vZGVzIHx8IG5vZGVzKS5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgX25vcm1hbGl6ZVZOb2Rlcyhub2RlcywgcmVzdWx0LCBpLCBcIlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG4pKSB7XHJcbiAgICAgICAgICAgIGlmICghbmV3Tm9kZXMpIHtcclxuICAgICAgICAgICAgICAgIG5ld05vZGVzID0gbm9kZXMuc2xpY2UoMCwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Tm9kZXMucHVzaChhcHBseUtleUlmTWlzc2luZyhpLCBWTm9kZXNfMS5jcmVhdGVUZXh0Vk5vZGUobiwgbnVsbCkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKFZOb2Rlc18xLmlzVk5vZGUobikgJiYgbi5kb20gIT09IG51bGwpIHx8IChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChuLmtleSkgJiYgKG4uZmxhZ3MgJiA2NCAvKiBIYXNOb25LZXllZENoaWxkcmVuICovKSA9PT0gMCkpIHtcclxuICAgICAgICAgICAgaWYgKCFuZXdOb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZXMgPSBub2Rlcy5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdOb2Rlcy5wdXNoKGFwcGx5S2V5SWZNaXNzaW5nKGksIFZOb2Rlc18xLmRpcmVjdENsb25lKG4pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5ld05vZGVzKSB7XHJcbiAgICAgICAgICAgIG5ld05vZGVzLnB1c2goYXBwbHlLZXlJZk1pc3NpbmcoaSwgVk5vZGVzXzEuZGlyZWN0Q2xvbmUobikpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Tm9kZXMgfHwgbm9kZXM7XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemVWTm9kZXMgPSBub3JtYWxpemVWTm9kZXM7XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHJldHVybiBub3JtYWxpemVWTm9kZXMoY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikgJiYgY2hpbGRyZW4uZG9tICE9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIFZOb2Rlc18xLmRpcmVjdENsb25lKGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjaGlsZHJlbjtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyh2Tm9kZSwgcHJvcHMsIGNoaWxkcmVuKSB7XHJcbiAgICBpZiAodk5vZGUuZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5jbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIHZOb2RlLmNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgICAgICAgZGVsZXRlIHByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcHMucmVmKSB7XHJcbiAgICAgICAgdk5vZGUucmVmID0gcHJvcHMucmVmO1xyXG4gICAgICAgIGRlbGV0ZSBwcm9wcy5yZWY7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5rZXkpKSB7XHJcbiAgICAgICAgdk5vZGUua2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgIGRlbGV0ZSBwcm9wcy5rZXk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUodHlwZSkge1xyXG4gICAgaWYgKHR5cGUgPT09ICdzdmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIDEyOCAvKiBTdmdFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2lucHV0Jykge1xyXG4gICAgICAgIHJldHVybiA1MTIgLyogSW5wdXRFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3NlbGVjdCcpIHtcclxuICAgICAgICByZXR1cm4gMjA0OCAvKiBTZWxlY3RFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3RleHRhcmVhJykge1xyXG4gICAgICAgIHJldHVybiAxMDI0IC8qIFRleHRhcmVhRWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdtZWRpYScpIHtcclxuICAgICAgICByZXR1cm4gMjU2IC8qIE1lZGlhRWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIHJldHVybiAyIC8qIEh0bWxFbGVtZW50ICovO1xyXG59XHJcbmV4cG9ydHMuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUgPSBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTtcclxuZnVuY3Rpb24gbm9ybWFsaXplKHZOb2RlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgLy8gY29udmVydCBhIHdyb25nbHkgY3JlYXRlZCB0eXBlIGJhY2sgdG8gZWxlbWVudFxyXG4gICAgLy8gUHJpbWl0aXZlIG5vZGUgZG9lc24ndCBoYXZlIGRlZmF1bHRQcm9wcywgb25seSBDb21wb25lbnRcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IHByb3BzXHJcbiAgICAgICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0UHJvcHMpKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzID0gdk5vZGUucHJvcHMgPSBkZWZhdWx0UHJvcHM7IC8vIENyZWF0ZSBuZXcgb2JqZWN0IGlmIG9ubHkgZGVmYXVsdFByb3BzIGdpdmVuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHByb3BzW3Byb3BdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1twcm9wXSA9IGRlZmF1bHRQcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcodHlwZSkpIHtcclxuICAgICAgICAgICAgdk5vZGUuZmxhZ3MgPSBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSh0eXBlKTtcclxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIG5vcm1hbGl6ZVByb3BzKHZOb2RlLCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQocHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4ocHJvcHMuY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdk5vZGUuY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIC8vIFRoaXMgY29kZSB3aWxsIGJlIHN0cmlwcGVkIG91dCBmcm9tIHByb2R1Y3Rpb24gQ09ERVxyXG4gICAgICAgIC8vIEl0IGhlbHBzIHVzZXJzIHRvIHRyYWNrIGVycm9ycyBpbiB0aGVpciBhcHBsaWNhdGlvbnMuXHJcbiAgICAgICAgdmFyIHZlcmlmeUtleXMgPSBmdW5jdGlvbiAodk5vZGVzKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXlWYWx1ZXMgPSB2Tm9kZXMubWFwKGZ1bmN0aW9uICh2bm9kZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZub2RlLmtleTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGtleVZhbHVlcy5zb21lKGZ1bmN0aW9uIChpdGVtLCBpZHgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNEdXBsaWNhdGUgPSBrZXlWYWx1ZXMuaW5kZXhPZihpdGVtKSAhPT0gaWR4O1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc0R1cGxpY2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEud2FybmluZygnSW5mZXJubyBub3JtYWxpc2F0aW9uKC4uLik6IEVuY291bnRlcmVkIHR3byBjaGlsZHJlbiB3aXRoIHNhbWUga2V5LCBhbGwga2V5cyBtdXN0IGJlIHVuaXF1ZSB3aXRoaW4gaXRzIHNpYmxpbmdzLiBEdXBsaWNhdGVkIGtleSBpczonICsgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzRHVwbGljYXRlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICh2Tm9kZS5jaGlsZHJlbiAmJiBBcnJheS5pc0FycmF5KHZOb2RlLmNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB2ZXJpZnlLZXlzKHZOb2RlLmNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemUgPSBub3JtYWxpemU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvY29yZS9ub3JtYWxpemF0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciB3YXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcbiAgICAgICAgJ21lc3NhZ2UgYXJndW1lbnQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSB3YXJuaW5nIGZvcm1hdCBzaG91bGQgYmUgYWJsZSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzICcgK1xuICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gY2F0Y2goeCkge31cbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi93YXJuaW5nL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBjb25zdCBCZXNsdWl0ID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgICA8YXJ0aWNsZT5cbiAgICA8aDI+QmVzbHVpdDwvaDI+XG4gICAgPHA+XG4gICAgICBVaXQgaGV0IHdlcmsga3VubmVuIHdlIGJlc2x1aXRlbiBkYXQgZGUgaGnDq3JhcmNoaWUgdmFuIGRlIFJvbWVpbmVuIGdvZWQgaW4gZWxrYWFyIHphdCBhYW5nZXppZW4gaWVkZXJlZW4gemlqbiBwbGFhdHMga2VuZGUgZW4gZXIgcmVzcGVjdCBlbiBhYW56aWVuIHdhcy4gRG9vciBkZXplIG9yZ2FuaXNhdGllIHdhcyBoZXQgUm9tZWluc2UgbGVnZXIgZWVuIHZhbiBkZSBzdWNjZXN2b2xzdGUgbGVnZXJzIHVpdCBkaWUgdGlqZC4gV2FubmVlciB3ZSBoZXQgaHVpZGlnZSBsZWdlciB2ZXJnZWxpamtlbiBtZXQgaGV0IFJvbWVpbnNlIHN0ZWxsZW4gd2UgdmFzdCBkYXQgb256ZSBoacOrcmFyY2hpZSBlZW4gemVlciB1aXRnZWJyZWlkZSB2ZXJzaWUgaXMgdmFuIGRpZSB2YW4gaGV0IFJvbWVpbnNlIGxlZ2VyLiBFciB6aWpuIG1lZXIgb25kZXJ2ZXJkZWxpbmdlbiBlbiBtZWVyIGNvbXBvbmVudGVuIGRhbiBiaWogZGUgUm9tZWluZW4sIG1hYXIgZGl0IGlzIHRlIHdpanRlbiBhYW4gdGVjaG5vbG9naXNjaGUgZW4gd2V0ZW5zY2hhcHBlbGlqa2Ugdm9vcnVpdGdhbmcuIFpvIHppam4gZXIgbnUgdmxpZWd0dWlnZW4sIHRhbmtzLCBqZWVwcyBlbiB2bGllZ2Rla3NjaGVwZW4gd2F0IGVydm9vciB6b3JndCBkYXQgaWVkZXJlIHBlcnNvb24gYmlubmVuIGhldCBsZWdlciB6aWpuIHNwZWNpZmlla2UgZnVuY3RpZSBoZWVmdCBlbiBlciBkdXMgbWVlciB2ZXJkZWVsZGhlaWQgaXMuXG4gICAgICBPcCBoZXQgdmxhayB2YW4gYmV3YXBlbmluZyB3YXJlbiBkZSBSb21laW5lbiBvb2sgZ29lZCB2b29yemllbi4gWmUgd2FyZW4gdmVlbCBiZXppZyBtZXQgaGV0IG9udHdpa2tlbGVuIHZhbiBuaWV1d2Ugd2FwZW5zIG9tIGh1biB2aWphbmRlbiB0ZSBrdW5uZW4gdmVycmFzc2VuLiBIdW4gd2FwZW5zIHdhcmVuIGVmZmljacOrbnQgZW4gZG9lbHRyZWZmZW5kIHdhYXJkb29yIHplIHZlbGUgdmVsZHNsYWdlbiBoZWJiZW4gZ2V3b25uZW4uIFdhbm5lZXIgd2UgaGV0IFJvbWVpbnNlIGxlZ2VyIG1ldCBoZXQgaHVpZGlnZSB2ZXJnZWxpamtlbiBzdGVsbGVuIHdlIHZhc3QgZGF0IGFsbGVzIGlzIHZlcmFuZGVyZC4gRGl0IGlzIHdlZXIgdGUgd2lqdGVuIGFhbiB0ZWNobm9sb2dpc2NoZSBlbiB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZy4gSW4gaHVpZGlnZSB0aWpkZW4gd29yZHQgZXIgbmlldCBtZWVyIGdlc3RyZWRlbiBtZXQgendhYXJkZW4sIHNjaGlsZGVuIGVuIHNwZXJlbiwgbWFhciBtZXQgbWFjaGluZWdld2VyZW4sIGxhbmdlYWZzdGFuZHNyYWtldHRlbiBlbiBjb21wdXRlcnMuIERlIFJvbWVpbmVuIHdhcmVuIG9uZ2V0d2lqZmVsZCBkZSBncm9uZGxlZ2dlcnMgdmFuIHZlcnNjaGVpZGVuZSBsZWdlcnMgZGllIGxhdGVyIHppam4gb250c3RhYW4sIG1hYXIgc3BvcmVuIHZhbiBodW4gd2FwZW5zIHppam4gaW4gaGV0IGh1aWRpZ2UgbGVnZXIgbmlldCBtZWVyIHRlIHZpbmRlbi5cbiAgICAgIEhldCBSb21laW5zZSBsZWdlciB3YXMgZWVuIHZhbiBkZSBzdWNjZXN2b2xzdGUgbGVnZXJzIHVpdCBkZSBnZXNjaGllZGVuaXMuIERpdCBpcyB0ZSB3aWp0ZW4gYWFuIGh1biBpanplcnN0ZXJrZSBkaXNjaXBsaW5lIGVuIGdvZWQgYmVkYWNodGUgdGFjdGlla2VuIGVuIGFhbnZhbHNwbGFubmVuLiBEZSBSb21laW5lbiBiZWdyZXBlbiBvb2sgemVlciBnb2VkIGRhdCBlZW4gdmVsZHNsYWcgbmlldCBlbmtlbCBmeXNpZWsgd2VyZCBnZXN0cmVkZW4sIG1hYXIgb29rIG1lbnRhYWwuIFplIHdpc3RlbiBnb2VkIGhvZSB6ZSBoZXQgbW9yZWVsIGJpaiBodW4gdHJvZXBlbiBob29nIG1vZXN0ZW4gaG91ZGVuIHRlcndpamwgemUgZGF0IHZhbiBkZSB2aWphbmQgdmVyendha3Rlbi4gSGV0IHZlcmxpZXMgdmFuIGVlbiB2ZWxkc2xhZyB2b25kIHppam4gb29yemFhayBtZWVzdGFsIGJpaiBzbGVjaHQgbGVpZGVyc2NoYXAuIERlIHRhY3RpZWtlbiB2YW4gaGV0IGh1aWRpZ2UgbGVnZXIgemlqbiB6ZWVyIHN0ZXJrIHZlcmFuZGVyZCBhYW5nZXppZW4gYWxsZXMgdmFub3AgZWVuIGxhbmdlcmUgYWZzdGFuZCBnZWJldXJ0IGVuIGVyIG1lZXIgZW4gbWVlciB2aWEgcm9ib3RzIHdvcmR0IGdld2Vya3QuIFZyb2VnZXIgd2FyZW4gYmlqbmEgYWxsZSBnZXZlY2h0ZW4gbWFuIHRvdCBtYW4gZ2V2ZWNodGVuIHdhYXJkb29yIG1lbiB0YWN0aWVrZW4ga29uIHRvZXBhc3NlbiB6b2FscyBiaWp2b29yYmVlbGQ6IHJ1aXRlcnMgbGFuZ3MgZGUgZmxhbmtlbiBsYXRlbiBpbmtvbWVuLiBUZWdlbndvb3JkaWcgaGVlZnQgZGl0IGdlZW4gbnV0IG1lZXIgYWFuZ2V6aWVuIGhldCBhYW50YWwgc29sZGF0ZW4gd2Fhcm1lZSBtZW4gb29ybG9nIHZvZXJ0IHN0ZXJrIHZlcm1pbmRlcmQgaXMuXG4gICAgPC9wPlxuICA8L2FydGljbGU+XG4gICk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jlc2x1aXQuanN4IiwiZXhwb3J0IGNvbnN0IEJld2FwZW5pbmcgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGFydGljbGU+XG4gICAgICA8aDI+SG9lIHdhcyBkZSBiZXdhcGVuaW5nIGJpaiBkZSBSb21laW5lbjwvaDI+XG4gICAgICA8cD5cbiAgICAgICAgR2VkdXJlbmRlIGVua2VsZSBlZXV3ZW4gdG90IG9wIGRlIGRhZyB2YW4gdmFuZGFhZyBvbnRzdG9uZCBlciBlZW4gdm9vcnRkdXJlbmRlIG9udHdpa2tlbGluZyB2YW4gYmV3YXBlbmluZy4gRGl0IGhlZWZ0IHppY2gga3VubmVuIHZlcndlemVubGlqa2VuIGRvb3IgZGUgdGVjaG5vbG9naXNjaGUgdm9vcnVpdGdhbmcgbWV0IGFscyBnZXZvbGcgZGF0IGRlIGtyYWNodCB2YW4gd2FwZW5zIGFhbnppZW5saWprIGlzIHZlcmdyb290LiBNYWFyIG9tIGRlIGV2b2x1dGllIHZhbiBkZSBiZXdhcGVuaW5nIHdhYXIgdGUgbmVtZW4sIG1vZXRlbiB3ZSB0ZXJ1Z2JsaWtrZW4gdGVuIHRpamRlIHZhbiBoZXQgUm9tZWluc2UgaW1wZXJpdW0gd2FhciBkZSBiYXNpcyB3ZXJkIGdlbGVnZC5cbiAgICAgIDwvcD5cblxuICAgICAgPGgzPkRyYWFnYmFyZSBiZXdhcGVuaW5nPC9oMz5cbiAgICAgIDxwPlxuICAgICAgICBWZWxlIGtpbmRlcmVuIG9mIGpvbmdlcmVuIGxlemVuIHdlbGVlbnMgc3RyaXBzIHpvYWxzIEFzdGVyaXggZW4gT2JlbGl4IG9mIG1vZXRlbiBvcCBzY2hvb2wgZW5rZWxlIHdlcmtqZXMgbWFrZW4gb210cmVudCBkZSBSb21laW5zZSBiZXNjaGF2aW5nLiBIaWVyZG9vciBrcmlqZ2VuIHplIGVlbiBiZXBhYWxkIGJlZWxkIG92ZXIgaGV0IFJvbWVpbnNlIGxldmVuIGVuIG1ldCB3ZWxrZSB3YXBlbnMgZGUgc29sZGF0ZW4gdGUgd2VyayBnaW5nZW4uXG4gICAgICAgIEhldCBhbGdlbWVuZSBiZWVsZCBkaWUgd2lqIGhpZXJ2YW4gaGViYmVuLCBpcyBkYXQgZWxrZSBzb2xkYWF0IGVlbiBhYW52YWxzd2FwZW4gZW4gZWVuIHZlcmRlZGlnaW5nc3dhcGVuIHRlciBiZXNjaGlra2luZyBoYWQgZW4gZGF0IGllZGVyZSBzb2xkYWF0IHZvb3J6aWVuIHdlcmQgdmFuIHN0b2VyZSB2ZWNodGVyc2tsZWRpai4gSGllcmJpaiB6aWpuIHZhYWsgaGV0IHp3YWFyZCBlbiBkZSBzcGVlciBkZSBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbnMgZW4gdGVyIHZlcmRlZGlnaW5nIGdlYnJ1aWt0ZW4gemUgaGV0IHNjaGlsZC4gT20gemljaCB0ZSBiZXNjaGVybWVuIGRyb2VnZW4gemUgdmFhayBlZW4gaGFybmFzLiBPZiBkZXplIGFsZ2VtZW5lIHZvb3JzdGVsbGluZyBhbHRpamQgd2FhciBpcywgd29yZHQgaW4gZGl0IGhvb2Zkc3R1ayBvbmRlcnpvY2h0LlxuICAgICAgICA8cC8+XG4gICAgICAgIEJld2FwZW5pbmcgYmlqIFJvbWVpbnNlIGxlZ2lvbmFpcnMgaGllbGRlbiB0ZWxrZW5zIHZlcmJhbmQgbWV0IGRlIHJhbmcgd2FhcnRvZSB6ZSBiZWhvb3JkZW4uIEJld2FwZW5pbmcgaXMgbmV0IHpvYWxzIGRlIHJhbmdlbiBpbiB2ZXJzY2hpbGxlbmRlIGdyb2VwZW4gdGUgdmVyZGVsZW4uIEJlZ2lubmVuIGRvZW4gd2UgbWV0IGRlIHZlcnNjaGlsbGVuZGUgdGlqZHBlcmtlbiBnYWFuZGUgdmFuIDEwNSB2LkNoci4gdG90IGVpbmRlIDJkZSBlZXV3LiBIaWVyYmlqIHdvcmR0IGVlbiBuaWV1dyB0aWpkcGVyayB0ZWxrZW5zIGluZ2VsZWlkIGJpaiBvbnRzdGFhbiB2YW4gbmlldXdlIGVuIGJlbGFuZ3JpamtlIGJld2FwZW5pbmcuXG4gICAgICAgIDxwLz5cbiAgICAgICAgQmlqIGRlIGVlcnN0ZSBnZW5lcmF0aWUgd2FzIGRlIGdsYWRpdXMgKD0gendhYXJkKSBoZXQgYmVsYW5ncmlqa3N0ZSBhYW52YWxzd2FwZW4uIERlemUgd2VyZCBhbHRpamQgZ2VicnVpa3QgaW4gY29tYmluYXRpZSBtZXQgZGUgYXNwaXMgKD0gc2NoaWxkKSB3YWFybWVlIHplIHppY2gga29uZGVuIHZlcmRlZGlnZW4uIEluIGhldCBiZWdpbiBoYWQgZGUgZ2xhZGl1cyBlZW4ga29ydGUgbGVuZ3RlLCBnZcOvbnNwaXJlZXJkIG9wIGhldCBtb2RlbCB2YW4gZGUgR3JpZWtzZSB4aXBob3MuIEhldCBzY2hpbGQgb2YgZGUgem9nZW5hYW1kZSBhc3BpcyB3ZXJkIHZlcnZhYXJkaWdkIHVpdCBob3V0IG1ldCB0ZWxrZW5zIGVlbiBicm9uemVuIHJhbmQgdGVyIHZlcnN0ZXJraW5nLiBEZSB2b3JtIHZhbiBoZXQgc2NoaWxkIHdhcyByb25kIGVuIHJlbGF0aWVmIGdyb290IHRlciB2ZXJnZWxpamtpbmcgbWV0IHdhdCBlciBub2cgem91IHZvbGdlbi4gT29rIGhpZXJiaWogaGViYmVuIGRlIFJvbWVpbmVuIHppY2ggd2VlciBsYXRlbiBpbnNwaXJlcmVuIGRvb3IgZGUgR3JpZWtlbi5cbiAgICAgICAgQmlqIGRlIHZvbGdlbmRlIGdlbmVyYXRpZSB3aWxkZW4gZGUgUm9tZWluZW4gaHVuIGVpZ2VuIHN0aWpsIGNyZcOrcmVuIHdhYXJpbiBHcmlla3NlLCBLZWx0aXNjaGUgZW4gSXRhbGlzY2hlIGludmxvZWRlbiB2ZXJ3ZXJrdCB3ZXJkZW4uIFpvIGNyZcOrZXJkZW4gemUgZGUgc2N1dHVtIGFscyB2ZXJ2YW5naW5nIHZhbiBkZSBhc3Bpcy4gSGV0IGhhZCBlZW4gb3ZhbGUgdm9ybSBlbiBiZXNjaGlrdGUgb3ZlciB0YWwgdmFuIHZvb3JkZWxlbi4gWm8gaXMgaGV0IHNjaGlsZCBkdXVyemFtZXIgZW4gbGljaHRlciBkYW4gZGUgdm9yaWdlIGVuIGhldCBiZXNjaGlrdGUgb3ZlciBlZW4gc2NoaWxka25vcCAoPSBtZXRhbGVuIGJvbCBkaWUgemljaCBjZW50cmFhbCBvcCBoZXQgc2NoaWxkIGJldm9uZCkuIERlIGZ1bmN0aWUgdmFuIGRpZSBrbm9wIHdhcyBtZWVyIHNjaGFkZSB0b2UgYnJlbmdlbiBhYW4gZGUgdmlqYW5kLiBEZSBhc3BpcyB3ZXJkIGFsdGlqZCBpbiBkZSBsaW5rZXJoYW5kIGdlZHJhZ2VuIHdhYXJkb29yIHplIGhldCB6d2FhcmQgaW4gZGUgcmVjaHRlcmhhbmQga29uZGVuIGxlZ2dlbi4gRGUgcmVkZSBoaWVydm9vciB3YXMgZGF0IGRlIG1lZXN0ZSBSb21laW5zZSBzb2xkYXRlbiByZWNodHNoYW5kaWcgd2FyZW4gd2FhcmRvb3IgemUgbWVlciBrcmFjaHQgaGFkZGVuIGluIGh1biByZWNodGVyYXJtIHdhdCBub29kemFrZWxpamsgd2FzIG9tIGJydXVza2UgYmV3ZWdpbmdlbiB0ZSBtYWtlbiBtZXQgZGUgZ2xhZGl1cy4gRW5pZ2UgdGlqZCBsYXRlciBnaW5nZW4gemUgZ2VicnVpayBtYWtlbiB2YW4gZWVuIGlldHMgbGFuZ2VyIHp3YWFyZCB3YXQgb3Zlcmdlbm9tZW4gd2FzIHZhbiBkZSB2aWphbmQgdGlqZGVucyBkZSBQdW5pc2NoZSBvb3Jsb2dlbi5cbiAgICAgICAgRGllemVsZmRlIGdlbmVyYXRpZSBnaW5nIHppY2ggb29rIHJpY2h0ZW4gb3AgZGUgb250d2lra2VsaW5nIHZhbiBzdG9vdHNwZXJlbiAoPSBlZXJzdGUgdmVyc2llIHNwZXJlbikuIERlemUgaGFkZGVuIG9uZ2V2ZWVyIGRlemVsZmRlIGZ1bmN0aWUgYWxzIGhldCB6d2FhcmQuXG4gICAgICAgIDxwLz5cblxuICAgICAgICA8cC8+XG4gICAgICAgIEhldCBlbmlnZSB2ZXJzY2hpbCB3YXMgZGF0IHplIG5vZyBsYW5nZXIgd2FyZW4uIFplIHdhcmVuIGluIGhldCBiZWdpbiBuaWV0IGJlZG9lbGQgb20gd2VnIHRlIGdvb2llbiBpbiBkZSByaWNodGluZyB2YW4gZGUgdmlqYW5kLlxuICAgICAgICBTdG9vdHNwZXJlbiB3ZXJkZW4gZ2VicnVpa3QgZG9vciBkZSBoYXN0YXRpICg9IGxlZ2lvbmFyaWkgdmFuIGhldCBlZXJzdGUgbWFuaXBlbCkuXG4gICAgICAgIFVpdGVpbmRlbGlqayB3ZXJkIGRlIHN0b290c3BlZXIgbWluZGVyIGdlYnJ1aWt0IGRvb3IgZGUgbGVnaW9uYWlycyBlbiBldm9sdWVlcmRlIG1lbiBuYWFyIGhldCBvbnR3aWtrZWxlbiB2YW4gZWVuIGxpY2h0ZXJlIHdlcnBzcGVlciBubCBkZSBwaWx1bS4gRGl0IHJlc3VsdGVlcmRlIGluIGVlbiBuaWV1d2UgZ2VuZXJhdGllLiBFbGtlIGxlZ2F0dXMgYmVzY2hpa3RlIG92ZXIgMiBwaWxhIHdhYXJkb29yIHplIGJpaiBkZSBzdGFydCB2YW4gZWVuIGdldmVjaHQgZGUgdmlqYW5kIG9ubWlkZGVsbGlqayBrb25kZW4gdmVyendha2tlbi4gRGUgcGlsdW0gd2FzIHplbGZzIHpvIGdlbWFha3QgZGF0IGRlIHB1bnQgdmFuIGRlIHNwZWVyIGJpaiBib3RzaW5nIGtyb20gZ2luZyBzdGFhbiBvZiBhZmJyYWsgd2FhcmRvb3IgZGUgdmlqYW5kIGRlIHNwZWVyIG5pZXQga29uIGhlcmdlYnJ1aWtlbi4gU3RlbCBkYXQgZGUgcGlsdW0gaW4gZWVuIHNjaGlsZCBiZWxhbmRkZSwgZGFuIHdhcyBoZXQgZ2V2b2xnIGRhdCBkZSB6d2FyZSBhY2h0ZXJrYW50IHZhbiBkZSBzcGVlciBuYWFyIGJlbmVkZW4gemFrdGUgd2FhcmRvb3IgaGV0IG9ubW9nZWxpamsgd2FzIG9tIGVyIHZlcmRlciBtZWUgcm9uZCB0ZSBsb3Blbi4gSGllcmRvb3Igd2FzIGRlIHZpamFuZCB2YWFrIGdlbm9vZHphYWt0IG9tIHpvbmRlciBzY2hpbGQgdmVyZGVyIHRlIHZlY2h0ZW4uXG4gICAgICAgIDxwLz5cbiAgICAgICAgSW4gZGUgM2RlIGVldXcga3dhbSBlciBvcG5pZXV3IGVlbiBvcHZhbGxlbmRlIHZvb3J1aXRnYW5nLCBtYWFyIGRpdG1hYWwgb3AgaGV0IGdlYmllZCB2YW4gdmVyZGVkaWdpbmcuIERlIGJla2VuZGUgc2N1dHVtIHdlcmQgYWFuZ2VwYXN0IGVuIHpvIG9udHN0b25kIGRlIHNwaWN1bHVtLiBIZXQgd2FzIGVlbiB2bGFrIHNjaGlsZCwgbm9nIGxpY2h0ZXIgZW4gbmV0IHpvYWxzIGRlIHNjdXR1bSBtZXQgZWVuIHNsYWdrbm9wIGluIGhldCBtaWRkZW4uXG4gICAgICAgIDxwLz5cbiAgICAgICAgRGUgYmV3YXBlbmluZyB2YW4gZGUgaHVscHRyb2VwZW4gaXMgb29rIG9wIHRlIGRlbGVuIGluIGVua2VsZSBncm9lcGVuLiBUaWpkZW5zIGRlIGVlcnN0ZSBqYXJlbiB2YW4gZGUgZXF1aXRhdHVzIHdlcmQgZGUgZ2xhZGl1cyBnZWJydWlrdCBvbSBkZSB2aWphbmQgYWFuIHRlIHZhbGxlbiB2YW5vcCBoZXQgcGFhcmQuIERvb3JkYXQgaGV0IHp3YWFyZCBrb3J0IHdhcywgbWFha3RlbiB6ZSBrYW5zIG9tIHNuZWwgdmFuIGhldCBwYWFyZCB0ZSB2YWxsZW4uIEluIGRlIGxvb3AgdmFuIGRlIDNkZSBlZXV3IHdhcyBtZW4gZXJpbiBnZXNsYWFnZCBlZW4gbGFuZ2VyZSB2ZXJzaWUgdmFuIGRlIGdsYWRpdXMgdGUgY3Jlw6tyZW4gbmwgZGUgc3BhdGhhLiBEZSBzYWdpdHRhcmlpIG1ha2VuIGdlYnJ1aWsgdmFuIGRlIHNhZ2l0dGEgKD0gcGlqbGVuYm9vZykuIERlIGdlYm9nZW4gdm9ybSB2YW4gZGUgc2FnaXR0YSB3ZXJkIGdldm9ybWQgZG9vciBiZWdpbiBlbiBlaW5kZSBhYW4gdGUgc3Bhbm5lbiBtZXQgZWVuIHN0ZXZpZ2UsIHN0cmFra2UgZHJhYWQuIEhpZXJtZWUga29uZGVuIHplIGh1biBwaWpsZW4gb3ZlciBlZW4gZ3JvdGUgYWZzdGFuZCBzY2hpZXRlbi5cbiAgICAgICAgVG90IHNsb3QgaGFudGVyZW4gZGUgZnVuZGl0b3JlcyBkZSBmdW5kYS4gRGl0IGlzIGVlbiBzbGluZ2VyIHdhYXJpbiB6ZSBsb2RlbiBrb2dlbHMgbGVnZGUgb20gZGllIHZlcnZvbGdlbnMgbmFhciBkZSB2aWphbmQgdGUgZ29vaWVuLlxuICAgICAgICA8cC8+XG4gICAgICAgIFVpdCBhbCBkZXplIGdlZ2V2ZW5zIHdldGVuIHdlIGRhdCBoZXQgYWxnZW1lbmUgYmVlbGQgZ3JvdGVuZGVlbHMganVpc3QgaXMuIE1hYXIgamUga2FuIG9ubW9nZWxpamsgYmVzbHVpdGVuIGRhdCBqZSBtZXQgZGF0IGJlZWxkIGFsbGVzIHdlZXQgb3ZlciBkZSBiZXdhcGVuaW5nIHZhbiBSb21laW5zZSBzb2xkYXRlbi4gTmFhc3QgaGV0IHp3YWFyZCwgZGUgc3BlZXIgZW4gaGV0IHNjaGlsZCB3YXJlbiBlciBub2cgdGFsIHZhbiBhbmRlcmUgYWFudmFscy0gZW4gdmVyZGVkaWdpbmdzd2FwZW5zIGRpZSBnZWJydWlrdCB3ZXJkZW4gdGlqZGVucyBkZSBnZXZlY2h0ZW4gdGVuIHRpamRlIHZhbiBkZSBSb21laW5lbi5cblxuICAgICAgPC9wPlxuXG4gICAgICA8cD5cbiAgICAgICAgPHRhYmxlIGNsYXNzPVwiYmV3YXBlbmluZy1sZWdpb24tdGFibGVcIj5cbiAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD5CZXdhcGVuaW5nIGxlZ2lvbmFpcnM8L3RoPlxuICAgICAgICAgICAgICA8dGg+YWFudmFsc3dhcGVuPC90aD5cbiAgICAgICAgICAgICAgPHRoPnZlcmRlZGluZ2luZ3N3YXBlbjwvdGg+XG4gICAgICAgICAgICAgIDx0aD48L3RoPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD4xc3RlIGdlbmVyYXRpZTwvdGQ+XG4gICAgICAgICAgICA8dGQ+Z2xhZGl1czwvdGQ+XG4gICAgICAgICAgICA8dGQ+YXNwaWE8L3RkPlxuICAgICAgICAgICAgPHRkIHJvd3NwYW49XCI0XCI+XG4gICAgICAgICAgICAgIEdlbmVyYXRpZXMgZ2FhbmRlIHZhbmFmXG4gICAgICAgICAgICAgIMKxIDNkZSBlZXV3IHYuQ2hyLiDigJMgM2RlIGVldXdcbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+MmRlIGdlbmVyYXRpZTwvdGQ+XG4gICAgICAgICAgICA8dGQ+aGFzdGEgKyBnbGFkaXVzPC90ZD5cbiAgICAgICAgICAgIDx0ZD5zY3V0dW08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPjNkZSBnZW5lcmF0aWU8L3RkPlxuICAgICAgICAgICAgPHRkPnBpbHVtICsgZ2xhZGl1czwvdGQ+XG4gICAgICAgICAgICA8dGQ+c2N1dHVtPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD40ZGUgZ2VuZXJhdGllPC90ZD5cbiAgICAgICAgICAgIDx0ZD5zcGF0aGE8L3RkPlxuICAgICAgICAgICAgPHRkPnNwaWN1bHVtPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9wPlxuXG4gICAgICA8cD5cbiAgICAgICAgPHRhYmxlIGNsYXNzPVwiYmV3YXBlbmluZy1sZWdpb24tdGFibGVcIj5cbiAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgIDx0aD5CZXdhcGVuaW5nIGh1bHB0cm9lcGVuPC90aD5cbiAgICAgICAgICAgICAgPHRoPmFhbnZhbHN3YXBlbnM8L3RoPlxuICAgICAgICAgICAgICA8dGg+dmVyZGVkaWdpbmdzd2FwZW5zPC90aD5cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+ZXF1aXRhdHVzPC90ZD5cbiAgICAgICAgICAgIDx0ZD5zcGF0aGE8L3RkPlxuICAgICAgICAgICAgPHRkIHJvd3NwYW49XCIzXCI+XG4gICAgICAgICAgICAgIFZlcmRlZGlnaW5nIGtvbXQgZ3JvdGVuZGVlbHMgb3ZlcmVlbiBtZXQgZGllIHZhbiBkZSBsZWdpb25haXJzXG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPnNhZ2l0dGFyaWk8L3RkPlxuICAgICAgICAgICAgPHRkPnNhZ2l0dGE8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPmZ1bmRpdG9yZXM8L3RkPlxuICAgICAgICAgICAgPHRkPmZ1bmRhPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9wPlxuICAgICAgPHA+XG4gICAgICAgIEFhbmdlemllbiBlciB3ZWluaWcgYmV0cm91d2JhcmUgYnJvbm5lbiB6aWpuIG92ZXIgZGUgZXhhY3RlIGRhdGEg4oCZcyBpLnYubS4gaGV0IG9udHN0YWFuIHZhbiByZWVkcyB2ZXJtZWxkZSBiZXdhcGVuaW5nLCB3ZXJkIGRlIGNocm9ub2xvZ2lzY2hlIHZvbGdvcmRlIHZhbiBoZXQgb250c3RhYW4gd2VlcmdlZ2V2ZW4gYS5kLmgudi4gZ2VuZXJhdGllcy5cbiAgICAgIDwvcD5cblxuICAgICAgPGgzPk9vcmxvZ3N0dWlnZW48L2gzPlxuICAgICAgPHA+XG4gICAgICAgIFRlbnNsb3R0ZSBiZXNwcmVrZW4gd2UgaW4gZGl0IGhvb2Zkc3R1ayBkZSBSb21laW5zZSBvb3Jsb2dzdHVpZ2VuIGFhbmdlemllbiBoZXQgZWVuIGJlbGFuZ3JpamsgYXNwZWN0IHdhcyB2YW4gZGUgZ2V2ZWNodGVuLiBIaWVyYmlqIGdhYW4gd2UgZWVuIG9wZGVsaW5nIG1ha2VuIHR1c3NlbiBkZSB0b3JtZW50YSAoPSBhYW52YWxzd2FwZW5zKSBlbiBlbmtlbGUgYW5kZXJlIG9vcmxvZ3N2b2VydHVpZ2VuIHRlciB2ZXJkZWRpZ2luZy5cbiAgICAgIDwvcD5cbiAgICAgIDxoND5cbiAgICAgICAgQWFudmFsc3dhcGVuc1xuICAgICAgPC9oND5cbiAgICAgIDxwPlxuICAgICAgICBEZSBhYW52YWxzd2FwZW5zIHdhcmVuIHZlZWwga3JhY2h0aWdlciBkYW4gZGVnZW5lIGRpZSB6ZSBvcCB6YWsgZHJvZWdlbi4gRGUgYmVrZW5kc3RlIGFhbnZhbHNtYWNoaW5lcyB3YXJlbiBkZSBjYXRhcHVsdGFlICg9IGthdGFwdWx0ZW4pLCBvbmRlciB0ZSB2ZXJkZWxlbiBpbiBlbmtlbGUgY2F0ZWdvcmllw6tuLiBaZSB3ZXJkZW4gZ2VicnVpa3Qgb20gcHJvamVjdGllbGVuIHdlZyB0ZSBzY2hpZXRlbiBtLmIudi4gbWVjaGFuaXNjaGUgZW5lcmdpZS5cbiAgICAgICAgRGUgZWVyc3RlIGthdGFwdWx0ZW4gc2Nob3RlbiBodW4gcGlqbGVuIGluIGJpam5hIGhvcml6b250YWxlIHJpY2h0aW5nIHdhYXJkb29yIGRlIGFmc3RhbmQgZGllIHplIGtvbmRlbiBhZmxlZ2dlbiBuaWV0IGFsIHRlIHN1Y2Nlc3ZvbCB3YXMuXG4gICAgICAgIERlIFJvbWVpbnNlIGluZ2VuaWV1cnMgdmFuIGRpZSB0aWpkIGdpbmdlbiBkYW4gem9la2VuIG5hYXIgbWV0aG9kZXMgb20gaGV0IHJlZWRzIHZlcm1lbGRlIHByb2JsZWVtIG9wIHRlIGxvc3Nlbi4gSGllcnVpdCBvbnRzdG9uZCBkZSBiYWxsaXN0YS4gRGV6ZSBrYXRhcHVsdCBoYWQgdHVzc2VuIGRlIDIgaG9yaXpvbnRhYWwgc2NodWluIGdlcGxhYXRzdGUgYmFsa2VuIGVlbiBnZXNwYW5uZW4gdG91dy4gT25kZXIgaGV0IHRvdXcgYmV2b25kIHppY2ggZWVuIGhhbHZlIGNpbGluZGVyIHdhYXJpbiBoZXQgcHJvamVjdGllbCB3ZXJkIGdlbGVnZC4gRGV6ZSBoYWx2ZSBjaWxpbmRlciB3ZXJkIGFsdGlqZCBuYWFyIGJvdmVuIGdlcmljaHQgZW4gZGUgaG9layB3YWFyaW4gaGV0IHppY2ggYmV2b25kIGtvbmRlbiB6ZSBiaWpzdHVyZW4gaW5kaWVuIG5vZGlnLiBIZXQgd2FzIGR1cyBuaWV0IHpvIGRhdCBiYWxsaXN0YSdzIGVlbiB2YXN0ZSBob2VrIG1lZWtyZWdlbiB6b2FscyBiaWogZGUgZWVyc3RlIHZlcnNpZXMgdmFuIGRlIGthdGFwdWx0ZW4uIERvb3IgZGllIHJlZ2VsYmFyZSBob2VrIGtvbmRlbiB6ZSBodW4gcGlqbGVuIG92ZXIgZWVuIGFmc3RhbmQgdmFuIDQwMCBtZXRlciBzY2hpZXRlbi4gTmV0IHpvYWxzIGJpaiBkZSBvdWRzdGUga2F0YXB1bHRlbiB3YXJlbiBlciB2ZWVsIHNvbGRhdGVuICjCsTQpIG5vZGlnIG9tIGhldCBpbiBnZWJydWlrIHRlIGt1bm5lbiBuZW1lbi4gRGFhcm9tIHpvY2h0ZW4gZGUgaW5nZW5pZXVycyBub2cgc3RlZWRzIG5hYXIgZWVuIHZlcmJldGVyZGUgdmVyc2llLlxuICAgICAgICBEZSBpbmdlbmlldXJzIHBsYWF0c3RlbiBkaXQgbmFkZWVsIGNlbnRyYWFsIGluIGh1biB2b2xnZW5kZSBvbnR3ZXJwZW4gd2FhcmRvb3IgZGUgc2NvcnBpb25lcyAoa3J1aXNib29nIG9wIHZvZXQpIHdhcmVuIG9udHN0YWFuLiBIZXQgd2FyZW4ga2xlaW5lIGthdGFwdWx0ZW4gZGllIGRvb3IgMSBtYW4gZ2VkcmFnZW4ga29uZGVuIHdvcmRlbi4gWmUgYmVzdG9uZGVuIHVpdCBlZW4gaWp6ZXJlbiBib29nIHdhYXJ0dXNzZW4gZWVuIHNuYWFyIHdlcmQgZ2VzcGFubmVuLiBEZSBwcm9qZWN0aWVsZW4gZGllIHplIGtvbmRlbiBhZnZ1cmVuIHdhcmVuIGhvdXRlbiBzcGllc2VuIHZhbiA2N2NtLlxuICAgICAgICBOYSBkZSBzY29ycGlvbmVzIG9udHdpa2tlbGRlIG1lbiBkZSBjaGVpb2JhbGxpc3RyYSBkaWUgYmVzY2hpa3RlIG92ZXIgbWV0YWxlbiBmcmFtZXMgd2F0IHZlZWwgc3RlcmtlciB3YXMgZGFuIHZvb3JkaWVuLlxuICAgICAgICBEZSBvbmFnZXIgd2FzIGRlIGxhYXRzdGUgaGVydm9ybWluZyB2YW4gZGUga2F0YXB1bHQgZW4gd2VyZCBhbGdlbWVlbiBpbiBnZWJydWlrIGdlbm9tZW4gcm9uZCBkZSA0ZGUgZWV1dy5cblxuICAgICAgPC9wPlxuXG4gICAgICA8cD5cbiAgICAgICAgRGV6ZSBoYWQgZWVuIHRvdGFhbCBhbmRlcmUgd2Vya3dpanplIGRhbiBkZSB2b3JpZ2UuIEhldCB3YXMgZWVuIGhlZWwgZ3Jvb3QgZW4gendhYXIgbWFjaGluZSBiZWRvZWxkIG9tIGdyb3RlIHByb2plY3RpZWxlbiBuYWFyIGRlIHZpamFuZCB0ZSB3ZXJwZW4uIERlcmdlbGlqa2UgcHJvamVjdGllbGVuIHdhcmVuIG1lZXN0YWwgc3RlbmVuLlxuICAgICAgICBIZXQgb3B2YWxsZW5kc3RlIGtlbm1lcmsgdmFuIGRlIG9uYWdlciB3YXMgZGF0IGVyIG9wbmlldXcgdmVsZSBzb2xkYXRlbiBub2RpZyB3YXJlbiBvbSBkZSBrYXRhcHVsdCBpbiBnZWJydWlrIHRlIG5lbWVuIGVuIGRpdCB3YXMganVpc3Qgd2F0IG1lbiBiaWogZGUgb250d2lra2VsaW5nIHZhbiBkZSBrYXRhcHVsdCB3aWxkZSB0ZWdlbmdhYW4uXG4gICAgICA8L3A+XG5cbiAgICAgIDxoMz5WZXJkZWRpZ2luZ3N3YXBlbnM8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIERlIHZlcmRlZGlnaW5nc21hY2hpbmVzIHdhcmVuIG5ldCB6b2FscyBkZSBhYW52YWxzbWFjaGluZXMga3JhY2h0aWdlciBpbiB2ZXJnZWxpamtpbmcgbWV0IHdhdCBkZSBzb2xkYXRlbiBiaWogemljaCBkcm9lZ2VuLiBVIHphbCB0ZWxrZW5zIGVlbiBrb3J0ZSBiZXNjaHJpanZpbmcga3JpamdlbiBvdmVyIGVua2VsZSBvb3Jsb2dzdHVpZ2VuIGRpZSB0ZXIgdmVyZGVkaWdpbmcgd2VyZGVuIGdlYnJ1aWt0LlxuICAgICAgICA8cC8+XG4gICAgICAgIEJlZ2lubmVuIGRvZW4gd2UgbWV0IGRlIHBsdXRlaSwgZWVuIGhhbGZjaXJrZWx2b3JtaWcgc2NoaWxkIG9wIHdpZWxlbiBkaWUgdmVlbCB3ZWVyc3RhbmQgYm9vZC5cbiAgICAgICAgVmVydm9sZ2VucyB3YXMgZXIgZGUgdGVzdHVkby4gRGV6ZSB3YXMgbmV0IHpvYWxzIGRlIHBsdXRlaSBlZW4gYmVzY2hlcm1pbmcgb3Agd2llbGVuIChrYW4gb29rIHpvbmRlciB3aWVsZW4pLiBNYWFyIGhldCB2ZXJzY2hpbCB3YXMgZGF0IGJpaiBkZSB0ZXN0dWRvIHNjaGlsZGVuIGFhbiBlbGthYXIgd2VyZGVuIGdlaGVjaHQgZGllIHplIGRhbiBhbHMgYWZkYWsgZ2VicnVpa3Rlbi5cbiAgICAgICAgPHAvPlxuICAgICAgICBUb3Qgc2xvdCBiZXN0b25kIGVyIGVlbiBtYWNoaW5lIGRpZSB6b3dlbCBiaWogZGUgYWFudmFscy0gYWxzIGJpaiBkZSB2ZXJkZWRpZ2luZ3N3YXBlbnMgem91IGt1bm5lbiBob3JlbiwgbmwgZGUgdHVyZXMgYW1idWxhdG9yaWFlLiBIZXQgd2FzIGVlbiBob3V0ZW4gdG9yZW4gb3Agd2llbGVuIHdhYXJpbiB6ZSBrb25kZW4gc2NodWlsZW4gZW4gb3AgZGllIG1hbmllciBrb25kZW4gemUgb25nZXNjaG9uZGVuIGRlIHZpamFuZCBuYWRlcmVuLiBab+KAmW4gdG9yZW4gdGVsZGUgZW5rZWxlIHZlcmRpZXBpbmdlbiBlbiBoYWQgdGVsa2VucyBlZW4gdmFsbHVpayBwZXIgdmVyZGllcC4gRGl0IGdhZiBoZW4gZGUga2FucyBvbSBvdmVyIGRlIG11cmVuIHRlIGdlcmFrZW4gdmFuIGRlIHZpamFuZC4gSGVsZW1hYWwgb25kZXJhYW4gd2VyZCBlZW4gc3Rvcm1yYW0gaW5nZWJvdXdkIGVuIGRlemUgaGFkIGFscyBmdW5jdGllIGRlIHBvb3J0ZW4gdmFuIGhldCB2aWphbmRlbGlqa2UgZ2ViaWVkIHRlIGRvb3JicmVrZW4uXG4gICAgICAgIDxwLz5cbiAgICAgIDwvcD5cblxuICAgICAgPHRhYmxlIGNsYXNzPVwiYmV3YXBlbmluZy1sZWdpb24tdGFibGVcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD5Pb3Jsb2dzdHVpZ2VuPC90aD5cbiAgICAgICAgICAgIDx0aD53YXBlbnM8L3RoPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+YWFudmFsc3dhcGVucyAoPSB0b3JtZW50YSk8L3RkPlxuICAgICAgICAgIDx0ZD5jYXRhcHVsdGFlPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD48L3RkPlxuICAgICAgICAgIDx0ZD5CYWxsaXN0YWU8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgPHRkPlNjb3JwaW9uZXM8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgPHRkPmNoZWlvYmFsbGlzdHJhPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD48L3RkPlxuICAgICAgICAgIDx0ZD5vbmFnZXI8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPnZlcmRlZGluZ2luc3dhcGVuczwvdGQ+XG4gICAgICAgICAgPHRkPlBsdXRlaTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+PC90ZD5cbiAgICAgICAgICA8dGQ+dGVzdHVkbzwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+Y29tYmluYXRpZXdhcGVuPC90ZD5cbiAgICAgICAgICA8dGQ+VHVyZXMgYW1idWxhdG9yaWFlPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgIDwvdGFibGU+XG5cbiAgICAgIDxoMz5WZXJnZWxpamtpbmc8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIEFscyB3ZSBlZW4gdmVyZ2VsaWpraW5nIG1ha2VuIHZhbiBkZSBSb21laW5zZSBiZXdhcGVuaW5nIHQuby52LiBkZSBodWlkaWdlLCBkYW4ga3VubmVuIHdlIGVlbiB6ZWVyIHN0ZXJrZSBldm9sdXRpZSB2YXN0c3RlbGxlbiB2b29ydGdla29tZW4gdWl0IGRlIHdldGVuc2NoYXBwZWxpamtlIHZvb3J1aXRnYW5nIGRpZSBtZW4gZG9vcmhlZW4gZGUgamFyZW4gYm9la3RlLiBaZSBoZWJiZW4gemljaCBhbHRpamQgd2lsbGVuIHZlcmJldGVyZW4gaW4gaGV0IG1ha2VuIHZhbiBtYWNoaW5lcyBkaWUgcHJvamVjdGllbGVuIGtvbmRlbiBhZnNjaGlldGVuLiBabyB3ZXJkIGRlIGthdGFwdWx0IG9tZ2V2b3JtZCB0b3QgZWVuIGxhbmdlIGFmc3RhbmRzcmFrZXQuIE1lbiBvbnR3aWtrZWxkZSB6ZWxmcyBlZW4gc3lzdGVlbSBvbSB6d2FhcmRlbiB0ZSB2ZXJ2YW5nZW4gZG9vciBtYWNoaW5lcyBkaWUga29nZWxzIGtvbmRlbiBhZnZ1cmVuLlxuICAgICAgPC9wPlxuXG4gIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmV3YXBlbmluZy5qc3giLCJleHBvcnQgY29uc3QgQnJvbm5lbiA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICAgPGFydGljbGU+XG4gICAgPGgyPkJyb25uZW48L2gyPlxuXG4gICAgPGgzIGNsYXNzPVwiYnJvblwiPkJvZWtlbjwvaDM+XG4gICAgPHA+XG5cbiAgICAgIDx1bD5cbiAgICAgICAgPGxpPkNvbW1lbnRhcmlpIGRlIGJlbGxvIEdhbGxpY28sIFZJSSwgTFhJWDwvbGk+XG4gICAgICAgIDxsaT5WYW4gR2VsZGVyLCBKLiAoMTk1MikgTGF0aWpuc2UgZ2VzY2hpZWRzY2hyaWp2ZXJzLiBCbG9lbWxlemluZyB1aXQgZGUgd2Vya2VuIHZhbiBTYWxsdXN0aXVzLCBDYWVzYXIsIExpdml1cyBlbiBUYWNpdHVzLiBIYWFybGVtOiBTcGFhcm5lc3RhZDwvbGk+XG4gICAgICAgIDxsaT5IYXJwdXIsIEouICgyMDA3KSBHdWVycmllcnM6IExlcyBncmFuZHMgaMOpcm9zIGRlIGzigJloaXN0b2lyZS4gTUlMQU46IFRvdWxvdXNlPC9saT5cbiAgICAgICAgPGxpPlZhbiBEYWVsZSwgQi4gKDIwMDMpIEhldCBSb21laW5zZSBMZWdlci4gRGF2aWRzZm9uZHM6IExldXZlbjwvbGk+XG4gICAgICAgIDxsaT5Hb2xkc3dvcnRoeSwgQS4gKDIwMTcpIFJvbWVpbnNlIGxlZ2lvZW5lbi4gT21uaWJvZWs6IFV0cmVjaHQ8L2xpPlxuICAgICAgICA8bGk+Um9kZ2VycywgTi4gKDIwMTIpIEhldCBSb21laW5zZSBSaWprLiBWZWx0bWFuOiBVdHJlY2h0PC9saT5cbiAgICAgICAgPGxpPkFub25pZW0uICgyMDE1KS4gRGUgVmVsZHNsYWdlbiwgSGV0IFBvcC1VcGJvZWsuIFRpZWx0OiBMYW5ub28uPC9saT5cbiAgICAgICAgPGxpPldhcnJ5LCBXLiAoMTk4MSkuIE9vcmxvZ3ZvZXJpbmcgaW4gZGUga2xhc3NpZWtlIHdlcmVsZC4gSGVtb25kOiBIZWxtb25kLjwvbGk+XG4gICAgICAgIDxsaT5EYW5kby1Db2xsaW5zLCBTLiAoMjAxMCkuIExlZ2lvbnMgb2YgUm9tZTogVGhlIERlZmluaXRpdmUgSGlzdG9yeSBvZiBFdmVyeSBJbXBlcmlhbCBSb21hbiBMZWdpb24uIExvbmRlbjogUXVlcmN1cyBQdWJsaXNoaW5nLjwvbGk+XG4gICAgICAgIDxsaT5GZXVnZXJlLCBNLiAoMjAwMikuIFRoZSBXZWFwb25zIG9mIHRoZSBSb21hbnMuIFVuaXRlZCBLaW5nZG9tOiBUaGUgSGlzdG9yeSBQcmVzcy48L2xpPlxuICAgICAgPC91bD5cblxuICAgICAgPGgzIGNsYXNzPVwiYnJvblwiPk1vbmRlbGluZzwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgTW9uZGVsaW5nZSBicm9uIGdlbGV2ZXJkIGRvb3IgS29sb25lbCBTQkggTWFyYyBBbGV4YW5kZXIgKEhvb2dsZXJhYXIgYWFuIGRlIEtNUylcbiAgICAgIDwvcD5cbiAgICAgIDxoMyBjbGFzcz1cImJyb25cIj5XZWJzaXRlczwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgPHVsPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9tYXJjYXVyLndvcmRwcmVzcy5jb20vMjAxNS8wMy8yMC9kZS12aWpmLWdyb290c3RlLW92ZXJ3aW5uaW5nZW4tdmFuLWRlLXJvbWVpbmVuLWxvbmdyZWFkL1wiPkdvZWRlIGtlaXplcnMsIHNsZWNodGUga2VpemVyczwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5taWxpdGFpci5uZXQvT29ybG9nZW4vUm9tZWluc2UlMjBvb3Jsb2dlbi9TbGFnJTIwYmlqJTIwVGV1dG9idXJnZXJ3b3VkL1wiPm1pbGl0YWlyLm5ldDwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5pc2dlc2NoaWVkZW5pcy5ubC9uaWV1d3MvNC1vcG1lcmtlbGlqa2UtdmVsZHNsYWdlbi1yb21laW5zZS1nZXNjaGllZGVuaXMvXCI+NCBvcG1lcmtlbGlqa2UgdmVsZHNsYWdlbiB1aXQgZGUgUm9tZWluc2UgZ2VzY2hpZWRlbmlzPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL25sLndpa2lwZWRpYS5vcmcvd2lraS9CZWxlZyUyMHZhbiUyMEFsZXNpYVwiPkJlbGVnIHZhbiBBbGVzaWE8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vd3d3Lmt1bnN0Z2VvZ3JhZmllLm5sL2hlbnYvaGVsZGVuLmFsZXNpYS5zbGFnLmh0bVwiPldhYXIgbGFnIEFsw6lzaWE/PC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LmNlbmVucy5iZS9hbGVzaWEvb21nZXZpbmcuaHRtbFwiPmRlIGdlc2NoaWVkZW5pcyB2YW4gQWxlc2lhPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3BsYXppbGxhLmNvbS9wYWdlLzQyOTUwMjg5MTMvZHJpZS1ncm90ZS12ZWxkc2xhZ2VuLXVpdC1kZS1yb21laW5zZS10aWpkXCI+RHJpZSBncm90ZSB2ZWxkc2xhZ2VuIHVpdCBkZSBSb21laW5zZSB0aWpkPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL25sLndpa2lwZWRpYS5vcmcvd2lraS9TbGFnX2Jpal9oZXRfVGV1dG9idXJnZXJ3b3VkXCI+U2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZDwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5pc2dlc2NoaWVkZW5pcy5ubC9taWxpdGFpcmUtY29uZnJvbnRhdGllcy9zbGFnLWJpai1oZXQtdGV1dG9idXJnZXJ3b3VkLXZhcnVzLWxvb3B0LWluLWVlbi1nZXJtYWFuc2UtaGluZGVybGFhZy9cIj5TbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkOiBWYXJ1cyBsb29wdCBpbiBlZW4gR2VybWFhbnNlIGhpbmRlcmxhYWc8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vd3d3Lmhpc3RvcmlzY2hlY2FydG9ncmFmaWUubmwvbmlldXdzLzIwMDkvMTEvdmFydXNzbGFnLTIwMDAtamFhci1nZWxlZGVuL1wiPlZhcnVzc2xhZzogMjAwMCBqYWFyIGdlbGVkZW48L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cubm92aW9tYWd1cy5pbmZvL3ZhcnVzc2xhZy5odG1cIj5EZSBWYXJ1c3NsYWcgaW4gOSBuLkNoci48L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vbmwud2lraXBlZGlhLm9yZy93aWtpL1B1YmxpdXNfUXVpbmN0aWxpdXNfVmFydXNcIj5QdWJsaXVzIFF1aW5jdGlsaXVzIFZhcnVzPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LmxlZ2lveGkuYmUvZWR1Y2F0aWVmL3RhY3RpZWtlbiAob3BlbiB2ZWxkc2xhZylcIj5UYWN0aWVrZW48L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cua2xhc3NpZWtldmVydGFsaW5nZW4ubmwvY3VsdHV1ci9sZWdlci5odG1cIj5IZXQgUm9tZWluc2UgbGVnZXI8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly91c2Vycy50ZWxlbmV0LmJlL3Bob2VuaWNhL2h1bHB0cm9lcGVuLmh0bVwiPkh1bHB0cm9lcGVuPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vcm9tZWluZW4uaW5mby9kZS1iZXdhcGVuaW5nLXZhbi1kZS1yb21laW5zZS1sZWdpb25haXJcIj5EZSBiZXdhcGVuaW5nIHZhbiBkZSBSb21laW5zZSBsZWdpb25haXI8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly91c2Vycy5za3luZXQuYmUvdmVuaV92aWRpX3ZpY2kvYmVzdG9ybWluZy5odG1sXCI+VmVyZGVkaWdpbmdzd2Vya2VuIGVuIGJlbGVnZXJpbmdzb29ybG9nPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LnByaW1hcnlob21ld29ya2hlbHAuY28udWsvcm9tYW5zL3dlYXBvbnMuaHRtbFwiPldlYXBvbnM8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vcm9tYW5taWxpdGFyeS5uZXQvdG9vbHMvXCI+VG9vbHMgb2YgV2FyPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vZmFjdHNhbmRkZXRhaWxzLmNvbS93b3JsZC9jYXQ1Ni9zdWIzNjgvaXRlbTIwNTUuaHRtbFwiPkFuY2llbnQgcm9tYW4gbWlsaXRhcnksIHdlYXBvbnMgYW5kIHNwaWVzPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3d3dy50aGUtcm9tYW5zLmNvLnVrL3dlYXBvbnMuaHRtXCI+V2VhcG9ucyAmIFRhY3RpY3M8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cudW5ydi5jb20vbWlsaXRhcnkvbGVnaW9uLnBocFwiPk9yZ2FuaXphdGlvbiBvZiB0aGUgUm9tYW4gSW1wZXJpYWwgTGVnaW9uPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LnJvbWFuLWVtcGlyZS5uZXQvYXJteS9hcm15Lmh0bWxcIj5UaGUgUm9tYW4gQXJteTwvYT48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9wPlxuICAgIDwvcD5cbiAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9icm9ubmVuLmpzeCIsImV4cG9ydCBjb25zdCBJbmxlaWRpbmcgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGFydGljbGU+XG4gICAgPGgyPklubGVpZGluZzwvaDI+XG4gICAgPHA+XG4gICAgICBXaWogaGViYmVuIGJlc2xpc3Qgb20gb25zIHdlcmsgb3ZlciBoZXQgUm9tZWluc2UgbGVnZXIgdGUgYmVnaW5uZW4gbWV0IGRlIG9uZGVydmVyZGVsaW5nIHZhbiBoZXQgbGVnZXIuIEhpZXJkb29yIGtyaWpnIGplIGFsIGVlbiBpbnppY2h0IGluIGhvZSBkZSBoacOrcmFyY2hpZSB3YXMgdGVuIHRpamRlIHZhbiBkZSBSb21laW5lbi4gSGllcm5hIHppam4gd2lqIGRpZXBlciBpbmdlZ2FhbiBvcCBkZSBiZXdhcGVuaW5nIHZhbiBkZSBSb21laW5lbiB6b2RhdCBqZSBnb2VkIHdlZXQgaG9lIHplIHRvZW4gdm9jaHRlbiBlbiB3YXQgemUgdGVyIGJlc2NoaWtraW5nIGhhZGRlbiBvbSBodW4gdmlqYW5kIHRlIG92ZXJtZWVzdGVyZW4uIEFscyBsYWF0c3RlIGhlYmJlbiB3aWogZ2VrZWtlbiBuYWFyIGhldCB2ZXJsb29wIHZhbiB0d2VlIHZlbGRzbGFnZW4gZW4gaGViYmVuIHdlIGRlemUgdm9sbGVkaWcgZ2VhbmFseXNlZXJkIG9tIHVpdGVpbmRlbGlqayB0ZSBrdW5uZW4gemVnZ2VuIGhvZSBkZXplIGJldGVyIGhhZGRlbiBrdW5uZW4gdmVybG9wZW4uIFdpaiBoZWJiZW4gdmVyc2NoZWlkZW5lIGJyb25uZW4gZ2VicnVpa3Qgb20gb25zIHdlcmsgdGUgb25kZXJib3V3ZW4sIGdhYW5kZSB2YW4gYm9la2VuIHVpdCBoZXQgYXJjaGllZiB2YW4gZGUgS29uaW5rbGlqa2UgTWlsaXRhaXJlIFNjaG9vbCB0b3Qgd2Vic2l0ZXMgdmFuIHByb2Zlc3NvcmVuIGxhdGlqbiBkaWUgdGhlc2lzc2VuIG92ZXIgaGV0IFJvbWVpbnNlIGxlZ2VyIGhlYmJlbiBnZXNjaHJldmVuLiBPbSBub2cgZXh0cmEgZG9jdW1lbnRhdGllIGVuIGFmYmVlbGRpbmdlbiB0ZSB2ZXJzY2hhZmZlbiBiaWogZGV6ZSBvbmRlcnpvZWtzY29tcGV0ZW50aWUsIGhlYmJlbiB3aWogYmVzbG90ZW4gb20gZGV6ZSBzaXRlIHRlIG1ha2VuLlxuICAgIDwvcD5cbiAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbmxlaWRpbmcuanN4IiwiZXhwb3J0IGNvbnN0IE9uZGVydmVyZGVsaW5nID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxhcnRpY2xlPlxuXG4gICAgPGgyPk9uZGVydmVyZGVsaW5nIHZhbiBoZXQgbGVnZXI8L2gyPlxuICAgIDxwPlxuICAgICAgRGUgUm9tZWluZW4gaGFkZGVuIHZlcnNjaGlsbGVuZGUgcmFuZ2VuIGJpbm5lbiBoZXQgbGVnZXIgd2FhcnRvZSBqZSBrb24gYmVob3Jlbi4gSGV0IGxlZ2VyIHdlcmQgb3BnZWRlZWxkIGluIG1lZXJkZXJlIGxlZ2lvZW5lbiBlbiBodWxwdHJvZXBlbiB3YWFybWVlIHplIHZhbnVpdCB2ZXJzY2hpbGxlbmRlIGhvZWtlbiBkZSB2aWphbmQgZ2VzdHJ1Y3R1cmVlcmQga29uZGVuIGFhbnZhbGxlbi4gRG9vcmhlZW4gZGUgamFyZW4gbmFtIGhldCBhYW50YWwgc29sZGF0ZW4gc3RlcmsgdG9lLiBEZSByZWRlbiBkYWFydG9lIHdhcyB2cmlqIGVlbnZvdWRpZy4gRWVubWFhbCBlZW4gYmVwYWFsZGUgYmV2b2xraW5nc2dyb2VwIHppam4gc3RyaWpkbWFuc2NoYXBwZW4gdmVyZ3Jvb3R0ZSwgd2FzIGRlIGFuZGVyZSB2ZXJwbGljaHQgb20gaGV0emVsZmRlIHRlIGRvZW4sIGFhbmdlemllbiB6ZSBhbmRlcnMgZ2VlbiBlbmtlbGUga2FucyB6b3VkZW4gaGViYmVuIG9wIGRlIG92ZXJ3aW5uaW5nLlxuICAgIDwvcD5cblxuICAgIDxoMz5IZXQgbGVnaW9lbjwvaDM+XG4gICAgPHA+XG4gICAgICBFZW4gbGVnaW9lbiB3ZXJkIG9wZ2VkZWVsZCBpbiAxMCBjb2hvcnRlbiB3YWFyYmlqIDEgY29ob3J0ZSBlZW4gYWFudGFsIHZhbiA2MDAgc29sZGF0ZW4gdGVsZGUgb3Agdm9vcndhYXJkZSBkYXQgaGV0IGxlZ2lvZW4gYmVzdG9uZCB1aXQgb25nZXZlZXIgNjAwMCBsZWdpb25hcmlpICg9IHNvbGRhdGVuKS4gRGUgbGVpZGVyIHZhbiBlZW4gbGVnaW9lbiB3ZXJkIGVlbiBsZWdhdHVzIGdlbm9lbWQuIEhldCB3YXMgYWx0aWpkIGVlbiBtYW4gb21kYXQgZW5rZWwgZGUgbWFubmVuIHRvZWdlbGF0ZW4gd2VyZGVuIGJpaiBoZXQgbGVnZXIgKFZyb3V3ZW4gbW9lc3RlbiBoZXQgaHVpc2hvdWRlbiBkb2VuKS4gRGUgbGVnYXR1cyBoYWQgb29rIDUgw6AgNiBhc3Npc3RlbnRlbiB0ZXIgYmVzY2hpa2tpbmcgZGllIGRlIG5hYW0gdHJpYnVuaSBrcmVnZW4uIERhdCB3YXJlbiBzdGVlZHMgam9uZ2UgbWFubmVuIGRpZSBlZW4gcG9saXRpZWtlIGNhcnJpw6hyZSB3aWxkZSBzdGFydGVuIG1hYXIgZWVyc3Qgd2F0IG1pbGl0YWlyZSBlcnZhcmluZyBub2RpZyBoYWRkZW4uXG5cbiAgICAgIFZlcnZvbGdlbnMgd2VyZGVuIGFsbGUgY29ob3J0ZW4gbm9nIGVlbnMgb25kZXJ2ZXJkZWVsZCBpbiAzIG1hbmlwZWxzIG1ldCB0ZWxrZW5zIGVlbiBhYW50YWwgdmFuIDIwMCBtYW4uIEhldCAxc3RlIG1hbmlwZWwgdmFuIGllZGVyZSBjb2hvcnRlIGtyZWVnIGRlIG5hYW0gcGlsdXMuIEhldCAxc3RlIG1hbmlwZWwgdmFuIGRlIDFzdGUgY29ob3J0ZSB3ZXJkIGRlIHByaW11cyBwaWx1cyBnZW5vZW1kIG1ldCBkZSBwcmltaSBwaWxpIGNlbnR1cmlvIGFhbiBoZXQgaG9vZmQuXG4gICAgICBEZXplIDIwMCBtYW5uZW4gd2VyZGVuIG5vZ21hYWxzIGdlc3BsaXRzdCBpbiAyIGdyb2VwZW4gdmFuIDEwMCBzb2xkYXRlbi4gRGVyZ2VsaWprZSBncm9lcGVuIGJlaG9vcmRlbiB0b3QgZGUgcmFuZyB2YW4gZGUgY2VudHVyaWEuIEhpZXJiaWogd2FzIGVlbiBjZW50dXJpbyAoPSBvbmRlcm9mZmljaWVyKSBkZSBhYW52b2VyZGVyIHZhbiAxIHZhbiBkZSA2IGNlbnR1cmnDq24uIEhpaiBiZXNjaGlrdGUgb3ZlciBlZW4gYWFudGFsIHNvbGRhdGVuLCAxIHZlbGR0ZWtlbmRyYWdlciBlbiBlZW4gb3B0aW8uIFppam4gYmVsYW5ncmlqa2hlaWQgd2FzIGFmaGFua2VsaWprIHZhbiBkZSByYW5nIGRpZSB6aWpuIGNlbnR1cmlhIGhhZC4gWm8gaXMgZGUgY2VudHVyaW8gdmFuIGhldCAxc3RlIGNlbnR1cmllLCAxc3RlIG1hbmlwZWwgZW4gMXN0ZSBjb2hvcnRlIGRlIGJlbGFuZ3JpamtzdGUgZW4gbmFhcm1hdGUgamUgdmVyZGVyIGdhYXQgaW4gZGUgaGnDq3JhcmNoaWUgbmVtZW4gemUgYWFuIGJlbGFuZ3JpamtoZWlkIGFmLiBFZW4gY2VudHVyaW8gYmVzY2hpa3RlIG5ldCB6b2FscyBlZW4gbGVnYXR1cyBvdmVyIGVlbiBhc3Npc3RlbnQgZGllIGRlIG5hYW0gb3B0aW8gYWFuZ2Vib2RlbiBrcmVlZy4gRGV6ZSBvcHRpbyBiZXNjaGlrdGUgb3ZlciBlZW4ga2xlaW4gbWFuc2NoYXAgb20gd2F0IGVydmFyaW5nIHRlIGtyaWpnZW4gb3ZlciBob2UgamUgbGVpZGluZyBtb2VzdCBnZXZlbi4gSGV0IHVpdGVpbmRlbGlqa2UgZG9lbCB2YW4gZGUgb3B0aW8gd2FzIHRlIHByb21vdmVyZW4gb20gem8gZGUgZnVuY3RpZSB2YW4gZWVuIGNlbnR1cmlvIHRlIGtyaWpnZW4uIFplZXIgZXJ2YXJlbiBjZW50dXJpb+KAmXMga3JlZ2VuIG9vayBub2cga2FucyBvbSBwcmFlZmVjdHVzIGNhc3Ryb3J1bSAoPSBrYW1wY29tbWFuZGFudCkgdGUgd29yZGVuLlxuICAgICAgVG90IHNsb3Qgd2VyZGVuIGRpZSAxMDAgbWFuIG5vZyBlZW4ga2VlciBvcGdlZGVlbGQgaW4gMTAgZ3JvZXBqZXMgdmFuIHRlbGtlbnMgMTAgc29sZGF0ZW4gZGllIHNhbWVuIGVlbiBrbGVpbmUgdGVudCBtb2VzdGVuIGRlbGVuIHdhYXJpbiB6ZSBrb25kZW4gb3Zlcm5hY2h0ZW4uIERlcmdlbGlqayB0ZW50ZW4gd2FyZW4gb25nZXZlZXIgNCBiaWogMyBtZXRlci4gRGUgcmVkZW4gaGllcnZvb3Igd2FzIGRhdCB6ZSBvbXdpbGxlIHZhbiBodW4gZ3Jvb3R0ZSBtYWtrZWxpamsgdGUgdmVydm9lcmVuIHdhcmVuLiBEZXplIGdyb2VwamVzIHdlcmRlbiBjb250dXJiZXJuaXVtIGdlbm9lbWQuIEVsayBjb250dXJiZXJuaXVtIGJlc2NoaWt0ZSBvdmVyIGVlbiBtdWlsZXplbCBkaWUgZGUgc29sZGF0ZW4gaGllbHAgYmlqIGhldCB2ZXJ2b2VyZW4gdmFuIGh1biBnb2VkZXJlbi5cbiAgICAgIEhldCBsZWdpb2VuIGJldmF0dGUgbmFhc3QgcmVlZHMgdmVybWVsZGUgcmFuZ2VuIG5vZyBhbmRlcmUgcGVyc29uZW4gZGllIGVlbiBzcGVjaWZpZWtlIHRhYWsgdWl0dm9lcmRlbi5cbiAgICA8L3A+XG5cbiAgICA8cD5cbiAgICAgIEVlbiBhcXVpbGlmZXIgKD0gc3RhbmRhYXJkZHJhZ2VyKSBrcmVlZyBkZSB0YWFrIG9tIG1ldCBoZXQgUm9tZWluc2UgZW1ibGVlbSB2YW4gZWVuIGFxdWlsYSAoPSBhcmVuZCkgaGV0IGxlZ2lvZW4gdm9vcmFmIHRlIGdhYW4gZW4gc3RvbmQgYWFuIGhldCBob29mZCB2YW4gYWxsZSBhbmRlcmUgdmVsZHRla2VuZHJhZ2Vycy5cbiAgICAgIEluIGVlbiBsZWdpb2VuIHdhcmVuIGVyIG9vayBiYWtrZXJzLCBzbWVkZW4sIGRva3Rlciwg4oCmXG4gICAgICA8cC8+XG4gICAgICBFZW4gbGVnaW9lbiBrb24gZHVzIHpvbmRlciBlbmlnIHByb2JsZWVtIGVua2VsZSBtYWFuZGVuIHJvbmR0cmVra2VuIGRvb3IgZGUgZ3JvdGUgdm9vcnJhYWQgdmFuIGRpbmdlbiBkaWUgemUgbWVlc2xldXJkZSB0aWpkZW5zIGh1biB0b2NodCBlbiBoZXQgZ3Jvb3QgYWFuYm9kIHZhbiBhc3Npc3RlbnRlbi5cbiAgICA8L3A+XG5cbiAgICA8aDM+RGUgaHVscHRyb2VwZW48L2gzPlxuICAgIDxwPlxuICAgICAgTmFhc3QgbGVnaW9lbmVuIG1hYWt0ZSBkZSBSb21laW5lbiBvb2sgdmVlbHZ1bGRpZyBnZWJydWlrIHZhbiBkZSBhdXhpbGlhICg9IGh1bHB0cm9lcGVuKS4gRGFhcnRvZSBiZWhvb3JkZW4gZGUgc29sZGF0ZW4gZGllIG5pZXQgZGUgc3RhdHVzIGhhZGRlbiB2YW4gUm9tZWluc2Ugc3RhYXRzYnVyZ2VyIGRvb3JkYXQgemUgYWZrb21zdGlnIHdhcmVuIHVpdCBhbmRlcmUgdm9sa2VyZW4uIE9td2lsbGUgdmFuIGh1biBhbmRlcmUgYWZrb21zdCBrcmVnZW4gemUgbWFhciAxLzMgdmFuIGhldCBsb29uIHZhbiBlZW4gbGVnaW9uYXJpdXMuXG4gICAgICA8cC8+XG4gICAgICBIdW4gdm9vcm5hYW1zdGUgZnVuY3RpZSB3YXMgb20gZGUgbGVnaW9lbmVuIHRlIGhlbHBlbiBlbiBvbSBkZSBncmVuemVuIHRlIGJld2FrZW4gZW4gdGUgdmVyZGVkaWdlbi4gRGV6ZSB0YWtlbiBtb2VzdGVuIHplIHVpdHZvZXJlbiBvbmRlciBiZXZlbCB2YW4gcHJhZWZlY3RpICg9IFJvbWVpbnNlIG9mZmljaWVyZW4pLiBBbHMgZWVuIGF1eGlsaWFyaXVzICg9IGVlbiBzb2xkYWF0IHZhbiBkZSBodWxwdHJvZXBlbikgZWVuIGRpZW5zdHRlcm1pam4gdmFuIDI1IGphYXIgaGFkIGFmZ2VzbG90ZW4sIGtyZWVnIGhpaiBlbiB6aWpuIGdlemluIHZhbmFmIGRhdCBtb21lbnQgZGUgc3RhdHVzIHZhbiBlZW4gUm9tZWlucyBzdGFhdHNidXJnZXIuIERlIHpvbmVuIHZhbiBlZW4gZXgtYXV4aWxpYXJpdXMgZ2luZ2VuIGFscyBsZWdpb25hcml1cyB3ZXJrZW4gd2F0IGhlbiBkZSBrYW5zIGdhZiBvbSBtZWVyIHRlIHZlcmRpZW5lbiBkYW4gaHVuIHZhZGVyLiBEZSBleC1hdXhpbGlhcml1cyB6ZWxmIG5hbSBkZSBuYWFtIHZhbiBkZSByZWdlcmVuZGUga2VpemVyIGFhbi5cbiAgICAgIDxwLz5cbiAgICAgIE5ldCB6b2FscyBkZSBsZWdpb2VuZW4gemlqbiBlciB2ZXJzY2hpbGxlbmRlIG9uZGVyZGVsZW4gYmlubmVuIGRlIGh1bHB0cm9lcGVuIHpvYWxzOiBkZSBlcXVpdGF0dXMgKD0gcnVpdGVycyksIGRlIHNhZ2l0dGFyaWkgKD0gYm9vZ3NjaHV0dGVycykgZW4gZGUgZnVuZGl0b3JlcyAoPSBzbGluZ2VyYWFycykuIEVsa2Ugc29sZGFhdCBiaW5uZW4gZGUgaHVscHRyb2VwZW4ga3JlZWcgZWVuIGJpanBhc3NlbmQgd2FwZW4gYWZoYW5rZWxpamsgdG90IHdlbGtlIGdyb2VwIGhpaiBiZWhvb3JkZS5cbiAgICA8L3A+XG5cbiAgICA8cD5cbiAgICAgIDx0YWJsZSBjbGFzcz1cIm9uZGVydmVyZGVsaW5nLXRhYmxlXCI+XG4gICAgICAgIDx0aGVhZD5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+Z3JvZXBlbjwvdGg+XG4gICAgICAgICAgICA8dGg+bGVnaW9lbmVuPC90aD5cbiAgICAgICAgICAgIDx0aD5odWxwdHJvZXBlbjwvdGg+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5iZWxhbmdyaWprc3RlIG9uZGVyZGVsZW48L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgY29ob3J0ZW48YnIvPlxuICAgICAgICAgICAgICBtYW5pcGVsczxici8+XG4gICAgICAgICAgICAgIGNlbnR1cmlhPGJyLz5cbiAgICAgICAgICAgICAgY29udHVyYmVybml1bVxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgc2FnaXR0YXJpaTxici8+XG4gICAgICAgICAgICBlcXVpdGF0dXM8YnIvPlxuICAgICAgICAgICAgZnVuZGl0b3Jlc1xuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+YWFudGFsPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAxIGNvaG9ydCA9IMKxIDYwMDxici8+XG4gICAgICAgICAgICAxIG1hbmlwZWwgPSDCsSAyMDA8YnIvPlxuICAgICAgICAgICAgMSBjZW50dXJpYSA9IMKxIDEwMDxici8+XG4gICAgICAgICAgICAxIGNvbnR1cmJlcm5pdW0gPSDCsSAxMFxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgYWFudGFsIGlzIG9uZHVpZGVsaWprXG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD5sZWlkZXJzPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICBsZWdpb2VuIC0tJmd0OyBsZWdhdHVzXG4gICAgICAgICAgICBjZW50dXJpYSAtLSZndDsgY2VudHVyaW9cbiAgICAgICAgICAgIHplZXIgZXJ2YXJlbiBjZW50dXJpbyAtLSZndDsgIHByYWVmZWN0dXMgY2FzdHJvcnVtXG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQ+SHVscHRyb2VwZW4gLS0mZ3Q7IHByYWVmZWN0aTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+c3RhdHVzPC90ZD5cbiAgICAgICAgICA8dGQ+Um9tZWlucyBzdGFhdHNidXJnZXI8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIGdlZW4gUm9tZWlucyBzdGFhdHNidXJnZXIuIEFma29tc3RpZyB2YW4gYW5kZXJlIHZvbGtlcmVuXG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgIDwvdGFibGU+XG4gICAgPC9wPlxuXG5cbiAgICA8aDM+VmVyZ2VsaWpraW5nPC9oMz5cbiAgICA8cD5cbiAgICAgIEFscyB3ZSBkZSBvbmRlcnZlcmRlbGluZyBiaWogZGUgUm9tZWluZW4gdmVyZ2VsaWprZW4gbWV0IGRlIG9uemUgZGFuIG1lcmtlbiB3ZSBvcCBkYXQgZGUgc3RydWN0dXVyIHZvb3IgZWVuIGdyb290IGRlZWwgYmV3YWFyZCBpcyBnZWJsZXZlbi4gVG9jaCBrdW5uZW4gd2Ugc3RlbGxlbiBkYXQgaGV0IGh1aWRpZ2Ugc3lzdGVlbSBtZWVyIG9uZGVydmVyZGVsaW5nZW4gaGVlZnQgZW4gZGF0IGRlIG5hbWVuIG9vayBzdGVlZHMgZ2V3aWp6aWdkIHppam4uIFpvIGlzIGluIDIwMTcgZGUgZ2VuZXJhYWwgZGUgbGVpZGVyIHZhbiBoZXQgbGVnZXIgZW4gdnJvZWdlciBzcHJhayBtZW4gb3ZlciBsZWdhdHVzIGRpZSBkZSBsZWlkaW5nIGhhZCBvdmVyIGhldCBsZWdpb2VuLlxuICAgIDwvcD5cblxuICA8L2FydGljbGU+XG4gICk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL29uZGVydmVyZGVsaW5nLmpzeCIsImV4cG9ydCBjb25zdCBWZWxkc2xhZ2VuID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICA8YXJ0aWNsZT5cbiAgICA8aDI+VmVsZHNsYWdlbiBlbiBvb3Jsb2dlbjwvaDI+XG4gICAgPHA+XG4gICAgICBEZSBSb21laW5lbiBoZWJiZW4gZG9vcmhlZW4gaHVuIGxhbmdlIGJlc3RhYW4gaW4gdmVsZSBkZWxlbiB2YW4gZGUgd2VyZWxkIGdldm9jaHRlbiB0ZWdlbiB2ZXJzY2hpbGxlbmRlIHJpamtlbiwgc3RhZHN0YXRlbiwgaGFuZGVsc25hdGllcyBlbiBiYXJiYWFyc2Ugc3RhbW1lbiBhYW5nZXppZW4gemUgc3RlZWRzIG1lZXIgZ3JvbmRnZWJpZWQgd2lsZGVuIHZlcm92ZXJlbi4gSG9ld2VsIHZlbGVuIGhpZXJ2YW4gd2VyZGVuIGdld29ubmVuIGRhbmt6aWogaHVuIGRvb3JkYWNodGUgdGFjdGlla2VuIGVuIGlqemVyc3RlcmtlIGRpc2NpcGxpbmUsIHdhcmVuIGVyIG9vayB6d2FyZSBuZWRlcmxhZ2VuIGJpaiB6b2FsczogZGUgc2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZCwgZGUgc2xhZyBiaWogQ2FubmFlIGVuIGRlIHNsYWcgYmlqIEFkcmlhbm9wb2xpcy4gRG9vciBkZXplIG5lZGVybGFnZW4gc2NoYWFmZGVuIHplIGh1biB0YWN0aWVrZW4gYmlqIG9tIGRlemVsZmRlIGZvdXRlbiBuaWV0IG5vZyBlZW5zIHRlIG1ha2VuLlxuICAgIDwvcD5cbiAgICA8aDM+RGUgc2xhZyBiaWogQWxlc2lhPC9oMz5cbiAgICA8cD5cbiAgICAgIERlIHNsYWcgYmlqIEFsZXNpYSB3ZXJkIGdldm9jaHRlbiB0dXNzZW4gZGUgUm9tZWluc2UgdHJvZXBlbiB2YW4gSnVsaXVzIENhZXNhciBlbiBkZSBBdmVybmlzY2hlIHRyb2VwZW4gdmFuIFZlcmNpbmdldG9yaXguIERlemUgc2xhZyB3YXMgZGUgYmVzbGlzc2VuZGUgc2xhZyBpbiBkZSBzdHJpamQgdHVzc2VuIGRlIEdhbGxpw6tycyBlbiBkZSBSb21laW5lbiBlbiBoZXQgd2FzIHRldmVucyBlZW4gdmFuIGRlIGdyb290c3RlIG92ZXJ3aW5uaW5nZW4gdmFuIENhZXNhci4gRGUgc2xhZyB2b25kIHBsYWF0cyBpbiA1MiB2LkMuIGJpaiBoZXQgR2FsbGlzY2hlIEFsZXNpYSByb25kIGVlbiB2ZXJzdGVya3QgZm9ydCB2YW4gaGV0IHZvbGsgTWFuZHViaWkuXG4gICAgICBIZXQgZm9ydCB2YW4gQWxlc2lhIHdhcyBnZWxlZ2VuIGJvdmVub3AgZWVuIGhldXZlbCB3YWFyIHJpdmllcmVuIGxhbmdzIHN0cm9vbWRlbi4gQ2Flc2FyIGdhZiB2YW4gZGUgb21nZXZpbmcgZWVuIHplZXIgZ29lZGUgYmVzY2hyaWp2aW5nIGluIHppam4gQ29tbWVudGFyaWkgZGUgYmVsbG8gR2FsbGljbzogXCJJcHN1bSBlcmF0IG9wcGlkdW0gQWxlc2lhIGluIGNvbGxlIHN1bW1vIGFkbW9kdW0gZWRpdG8gbG9jbywgdXQgbmlzaSBvYnNpZGlvbmUgZXhwdWduYXJpIG5vbiBwb3NzZSB2aWRlcmV0dXIuIEN1aXVzIGNvbGxpcyByYWRpY2VzIGR1byBkdWFidXMgZXggcGFydGlidXMgZmx1bWluYSBzdWJsdWViYW50LiBBbnRlIGlkIG9wcGlkdW0gcGxhbml0aWVzIGNpcmNpdGVyIG1pbGxpYSBwYXNzdXVtIElJSSBpbiBsb25naXR1ZGluZSBwYXRlYmF0OyByZWxpcXVpcyBleCBvbW5pYnVzIHBhcnRpYnVzIGNvbGxlcyBtZWRpb2NyaSBpbnRlcmllY3RvIHNwYXRpbyBwYXJpIGFsdGl0dWRpbmlzIGZhc3RpZ2lvIG9wcGlkdW0gY2luZ2ViYW50LlwiIERpdCBrYW4gbWVuIHZlcnRhbGVuIGFsczog4oCYRGUgdmVzdGluZyBBbGVzaWEgemVsZiBsYWcgb3AgZWVuIGhldXZlbHRvcCBkaWUgYWFuemllbmxpamsgYm92ZW4gZGUgdmxha3RlIHVpdHN0YWssIHpvZGF0IHppaiBvbmlubmVlbWJhYXIgc2NoZWVuIHRlbnppaiBkb29yIGJsb2trYWRlLiBEZSB2b2V0IHZhbiBkaWUgaGV1dmVsIHdvcmR0IGFhbiB0d2VlIHppamRlbiBiZXNwb2VsZCBkb29yIHdhdGVybG9wZW4uXG4gICAgICBWw7PDs3IgZGUgdmVzdGluZyBzdHJla3RlIHppY2ggZWVuIG9uZ2V2ZWVyIGRyaWUgbWlqbCBicmVkZSB2bGFrdGUgdWl0OyBhYW4gYWwgZGUgYW5kZXJlIHppamRlbiBvbXJpbmdkZSBoZXV2ZWxzLCBvcCBrb3J0ZSBhZnN0YW5kIHZhbiBlbGthYXIgZ2VsZWdlbiBlbiBtZXQgZ2VsaWprZSB0b3Bob29ndGUsIGRlIHZlc3Rpbmcu4oCZXG4gICAgICBEb29yIGRlemUgdWl0c3Rla2VuZGUgbG9jYXRpZSB3YXMgaGV0IHplZXIgbW9laWxpamsgb20gaGV0IGZvcnQgaW4gdGUgbmVtZW4gZHVzIGJlc2xvb3QgQ2Flc2FyIG9tIGhldCBmb3J0IHRlIGJlbGVnZXJlbiBkb29yIGdlYnJ1aWsgdGUgbWFrZW4gdmFuIGVlbiBjaXJjdW12YWxsYXRpZWxpbmllIG9tIHpvIGRlIHRyb2VwZW4gZW4gZGUgYmV2b2xraW5nIHZhbiBBbGVzaWEgdWl0IHRlIGhvbmdlcmVuLlxuICAgIDwvcD5cblxuICAgICAgPHA+XG4gICAgICAgIERlIGxpbmllIGJlc3RvbmQgdWl0IG1lZXJkZXJlIHZlcnN0ZXZpZ2luZ2VuIGVuIHdhbGxlbiBtZXQgZWVuIHRvdGFsZSBsZW5ndGUgdmFuIG9uZ2V2ZWVyIDE4a20uIERlIHRhY3RpZWsgdmFuIENhZXNhciBibGVlayB6ZWVyIGdvZWQgdGUgd2Vya2VuIGFhbmdlemllbiBWZXJjaW5nZXRvcml4IHJhZGVsb29zIHdhcy5cbiAgICAgICAgRGUgZW5pZ2UgbW9nZWxpamtoZWlkIGRpZSBWZXJjaW5nZXRvcml4IG5vZyBoYWQgd2FzIG9tIGVlbiBkZWVsIHZhbiBkZSBHYWxsaXNjaGUgY2F2YWxlcmllIHRlIGRvZW4gb250c25hcHBlbiBkb29yIGVlbiBub2cgb252b2x0b29pZCBnZWRlZWx0ZSB2YW4gZGUgbGluaWUgb20gdmVyc3RlcmtpbmcgdGUgaGFsZW4uIFppaiBzbGFhZ2RlbiBpbiBkZXplIG9wemV0IGVuIGJyYWNodGVuIHN1Y2Nlc3ZvbCBlZW4gb250emV0dGluZ3NsZWdlciBvcCBkZSBiZWVuLiBDYWVzYXIgaGFkIGVjaHRlciBhYW4gYWxsZSBtb2dlbGlqa2Ugc2NlbmFyaW/igJlzIGdlZGFjaHQgZW4gaGlqIGhhZCBiZXNsb3RlbiBvbSBlZW4gY29udHJhdmFsbGF0aWVsaW5pZSB2YW4gMjEga2lsb21ldGVyIHRlIGJvdXdlbiByb25kIGRlIGNpcmN1bXZhbGxhdGllbGluaWUsIHdhYXJkb29yIGRlIFJvbWVpbmVuIGxhbmdzIHR3ZWUgemlqZGVuIHRlZ2VuIGRlIEdhbGxpc2NoZSBhYW52YWxsZW4gYmVzY2hlcm1kIHdhcmVuLlxuICAgICAgICA8YnIvPlxuXG4gICAgICAgIEVlbm1hYWwgaGV0IG9udHpldHRpbmdzbGVnZXIgYmlqIEFsZXNpYSB3YXMgYWFuZ2Vrb21lbiwgd2FyZW4gaGV0IGVpZ2VubGlqayBkZSBSb21laW5lbiBkaWUgYmVsZWdlcmQgd2FyZW4gYWFuZ2V6aWVuIHplIGluZ2VzbG90ZW4gemF0ZW4gdHVzc2VuIHR3ZWUgR2FsbGlzY2hlIGxlZ2Vycy4gT25kZXIgbGVpZGluZyB2YW4gQ29tbWl1cyB2aWVsIGhldCBvbnR6ZXR0aW5nc2xlZ2VyIGRlIGNvbnRyYXZhbGxhdGllbGluaWUgYWFuLlxuICAgICAgICA8aW1nIHNyYz1cIi4vaW1hZ2VzL3NpZWdlT2ZBbGV4aWEuanBnXCIgY2xhc3M9XCJzaWVnZS1vZi1hbGV4aWEtaW1nXCIgLz5cbiAgICAgICAgIFRlZ2VsaWprZXJ0aWpkIGxpZXQgVmVyY2luZ2V0b3JpeCB6aWpuIHRyb2VwZW4gZGUgY2lyY3VtdmFsbGF0aWVsaW5pZSBhYW52YWxsZW4uIERlIGVlcnN0ZSBkYWcgaGllbGRlbiBkZSBSb21laW5lbiBnb2VkIHN0YW5kIHRlZ2VuIGRlIGFhbnZhbGxlbiB2YW4gZGUgR2FsbGnDq3JzLCBtYWFyIGRlIGRhYXIgb3B2b2xnZW5kZSBkYWdlbiBnaW5nZW4gYmVyZ2FmLiBaZSB3ZXJkZW4gZ2Vkd29uZ2VuIG9tIGZvcnRlbiBlbiBrYW1wZW4gaW4gZGUgY29udHJhdmFsbGF0aWVsaW5pZSBvcCB0ZSBnZXZlbiwgbWFhciBHYWl1cyByZWJvbml1cyBrb24gbWV0IGRlIGNhdmFsZXJpZSB2b29ya29tZW4gZGF0IGRlIEdhbGxpw6tycyBoaWVyIGdlYnJ1aWsgdmFuIGtvbmRlbiBtYWtlbi5cbiAgICAgICAgTmEgbWFhbmRlbmxhbmcgdmVjaHRlbiBiZXNsb290IGRlIG5lZWYgdmFuIFZlcmNpbmdldG9yaXgsIFZlcmNhc3NpdmVsbGF1bm9zLCBvbSBtZXQgNjAuMDAwIG1hbnNjaGFwcGVuIGRlIFJvbWVpbnNlIHN0ZWxsaW5nZW4gYWFuIHRlIHZhbGxlbi4gSGlqIGtvb3MgZGUgcGxlayB3YWFyIGRlIHN0ZWxsaW5nZW4gaGV0IHp3YWtzdCB3YXJlbiwgbmFtZWxpamsgd2FhciBkZSBsaW5pZXMgb3AgZGV6ZWxmZGUgcGxlayBlZW4gcml2aWVyIGtydWlzdGVuLiBWZXJjaW5nZXRvcml4IGxpZXQgdmFuIGJpbm5lbnVpdCBvcCBkZXplbGZkZSBwbGFhdHMgZWVuIGFhbnZhbCB1aXR2b2VyZW4sIG1hYXIgQ2Flc2FyIGhhZCB6b3ZlZWwgdmVydHJvdXdlbiBpbiB6aWpuIHRyb2VwZW4gZGF0IGhpaiBoZXQgYmV2ZWwgZ2FmIG9tIGRlIHN0ZWxsaW5nZW4gdGUgYmVob3VkZW4uIENhZXNhciBuYW0gZWVuIGdyb3RlIGdvayBkb29yIG1ldCA2LjAwMCBtYW5zY2hhcHBlbiBlZW4gbGVnZXIgdmFuIDYwLjAwMCBtYW5zY2hhcHBlbiBhYW4gdGUgdmFsbGVuLCBtYWFyIGhpaiBvdmVyZG9uZGVyZGUgZGUgR2FsbGnDq3JzIHpvIGhhcmQgZGF0IHplIHppY2ggZ2Vub29kemFha3Qgdm9lbGRlbiBvbSB6aWNoIHRlcnVnIHRlIHRyZWtrZW4uXG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICBIaWVybWVlIHdhcyBoZXQgYmVsYW5ncmlqa3N0ZSBlbiBtZWVzdCBiZXNsaXNzZW5kZSBnZXZlY2h0IGdlc3RyZWRlbiB3YWFybmEgZGUgdHJvZXBlbiBpbiBBbGVzaWEgemljaCBvdmVyZ2F2ZW4gZG9vciBob25nZXJzbm9vZCBlbiBnZWJyZWsgYWFuIG1hbnNjaGFwcGVuLlxuICAgICAgICBSb21lIHdhcyBkZSBncm90ZSBvdmVyd2lubmFhciBiaWogZGV6ZSBzbGFnIGRpZSBkZSBiYXNpcyB2b3JtZGUgdm9vciBoZXQgdmVyZGVyIHZlcm92ZXJlbiB2YW4gR2FsbGnDqyBlbiBCcml0dGFubmnDqy4gRGUgR2FsbGlzY2hlIHNvbGRhdGVuIHdlcmRlbiBhbHMgc2xhdmVuIG1lZWdlbm9tZW4gZW4gdmVya29jaHQuIFZlcmNpbmdldG9yaXggd2VyZCB0ZXZlbnMgZ2V2YW5nZW5nZW5vbWVuLCBtYWFyIG5pZXQgdmVya29jaHQgYWFuZ2V6aWVuIGRlIFJvbWVpbmVuIGhlbSB3aWxkZW4gaG91ZGVuIGFscyB0cm9mZWUuIE5hIGVlbiBwYWFyIGphYXIgd2VyZCBoaWogcml0dWVlbCBnZXd1cmdkIHRpamRlbnMgZWVuIHRyaW9tZnRvY2h0LlxuICAgICAgICBEZSBlbGVtZW50ZW4gZGllIGRlIFJvbWVpbmVuIGRlIG92ZXJ3aW5uaW5nIGhlYmJlbiBiZXpvcmdkIHppam4gdm9vcmFsIGJlcnVzdCBvcCBkZSBnZWVzdC4gQ2Flc2FyIGhlZWZ0IHN0ZWVkcyBkZSBtb3JlZWwgYmlqIHppam4gdHJvZXBlbiBob29nIHdldGVuIHRlIGhvdWRlbiBob2V3ZWwgemUgc29tcyBuZWRlcmxhZ2VuIGxlZGVuLiBEaXQgem9yZ2RlIGVydm9vciBkYXQgZGUgc3RyaWpkbHVzdCBiaWogZGUgc29sZGF0ZW4gYWFud2V6aWcgYmxlZWYgZW4gemUgc3RlZWRzIHZvZWxkZW4gZGF0IHplIGRlIGJvdmVuaGFuZCBoYWRkZW4gaW4gaGV0IGdldmVjaHQuIENhZXNhciBuYW0gaGV0IG1vcmVlbCB2YW4gemlqbiB0cm9lcGVuIHplZXIgc2VyaWV1cyBlbiBnaW5nIHplbGZzIHpvIHZlciBkYXQgaGlqIG1ldCBoZW4gbWVlc3RyZWVkLiBIZXQgbW9yZWVsIHZhbiB6aWpuIHRyb2VwZW4gbGFnIGFhbiBkZSBiYXNpcyB2YW4gZGUgbGFhdHN0ZSBiZWxhbmdyaWprZSBzbGFnIGFhbmdlemllbiB6ZSBoZXQgZ2V2ZWNodCBvbmRlcmJlbWFuZCBtb2VzdGVuIGFhbmdhYW4sIG1hYXIgdWl0ZWluZGVsaWprIGhlYmJlbiB6ZSBkZSBvdmVyd2lubmluZyBiZWhhYWxkLiBFZW4gdHdlZWRlIHB1bnQgd2FhcmRvb3IgemUgZGV6ZSBzbGFnIGhlYmJlbiBnZXdvbm5lbiwgaXMgaGV0IGdvZWQgZG9vcmRhY2h0ZSBhYW52YWxzcGxhbiB2YW4gQ2Flc2FyLiBabyBoYWQgaGlqIGRlIGNvbnRyYXZhbGxhdGllbGluaWUgdm9vcnppZW4gdm9vciBlZW4gZXZlbnR1ZWxlIGFhbnZhbC4gV2FzIGRlemUgbGluaWUgZXIgbmlldCBnZXdlZXN0LCBoYWRkZW4gZGUgR2FsbGnDq3JzIGRlemUgdmVsZHNsYWcgZ2VnYXJhbmRlZXJkIGdld29ubmVuIGRvb3IgaHVuIGdyb3RlIGFhbnRhbGxlbi4gQ2Flc2FyIHdhcyBvb2sgZGVnZW5lIGRpZSBlZW4gdmVycmFzc2luZ3NhYW52YWwgaGVlZnQga3VubmVuIGFmd2VuZGVuIGRvb3IgZGUgdnJvdXdlbiBlbiBraW5kZXJlbiBuaWV0IHVpdCBBbGVzaWEgdGUgbGF0ZW4gdmVydHJla2tlbi4gRGUgR2FsbGnDq3JzIHdpbGRlbiBoZW4gbmFtZWxpamsgYWxzIGFmbGVpZGluZyBnZWJydWlrZW4gb20gb25kZXJ0dXNzZW4gZWVuIHZlcnN0ZXZpZ2luZyBhYW4gdGUgdmFsbGVuLCBtYWFyIGRvb3IgQ2Flc2FyIHppam4gYmVzbHVpdCBvbSBkZSB2cm91d2VuIGVuIGtpbmRlcmVuIG5pZXQgYnVpdGVuIHRlIGxhdGVuIGlzIGRlIGFhbnZhbCBuaWV0IGt1bm5lbiBkb29yZ2Fhbi4gSGV0IGVuaWdlIG5lZ2F0aWV2ZSBwdW50IGRhdCBnZW9wdGltYWxpc2VlcmQgaGFkIGt1bm5lbiB3b3JkZW4gaXMgZGUgYm91dyB2YW4gZGUgbGluaWVzIGJpaiBkZSByaXZpZXJlbiBhYW5nZXppZW4gZGl0IGhldCB6d2Fra2UgcHVudCB3YXMgdmFuIGhldCBrYW1wLiBEZXplIHNsYWcgaXMgZWVuIGdvZWQgdm9vcmJlZWxkIHZhbiBkZSBSb21laW5zZSBkaXNjaXBsaW5lIGVuIHN0cmlqZGx1c3QgYWFuZ2V6aWVuIHplIGdlZW4gZW5rZWxlIGdyb3RlIGZvdXQgaGViYmVuIGJlZ2FhbiBkaWUgdG90IGVlbiBldmVudHVlZWwgdmVybGllcyBoYWQga3VubmVuIGxpamRlbi5cbiAgICAgIDwvcD5cblxuICAgICAgPGgzPkRlIHNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQ8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIERlIHNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQgd2VyZCBnZXZvY2h0ZW4gdHVzc2VuIGRlIFJvbWVpbnNlIHRyb2VwZW4gdmFuIFZhcnVzIGVuIGRlIEdlcm1hYW5zZSB0cm9lcGVuIHZhbiBBcm1pbml1cy4gRGV6ZSBzbGFnIGxlaWRkZSBlZW4gemV2ZW5qYXJpZ2Ugb29ybG9nIGluLCBkaWUgdWl0ZWluZGVsaWprIHRvdCBnZXZvbGcgaGFkIGRhdCBkZSBSaWpuIHZvb3IgZWVuIHBlcmlvZGUgdmFuIDQwMCBqYWFyIHdlcmQgdmFzdGdlbGVnZCBhbHMgZ3JlbnMgdmFuIGhldCBSb21laW5zZSBSaWprLiBEZSBzbGFnIHZvbmQgcGxhYXRzIGluIDkgbi5DLiBuYWJpaiBLYWxrcmllc2UgZGF0IGluIER1aXRzbGFuZCBpcyBnZWxlZ2VuLlxuICAgICAgICBEZSBzbGFnIHdhcyBlZW4gdmFuIGRlIGdyb290c3RlIG5lZGVybGFnZW4gdWl0IGRlIGdlc2NoaWVkZW5pcyB2YW4gaGV0IFJvbWVpbnNlIGxlZ2VyLlxuICAgICAgPC9wPlxuXG4gICAgICAgIDxwPlxuICAgICAgICAgIERlIFJvbWVpbmVuIHdhcmVuIG5hbWVsaWprIGluIGVlbiBsaXN0IGdldHJhcHQgdmFuIEFybWluaXVzLCBkZSBsZWlkZXIgdmFuIGRlIEdlcm1hYW5zZSBzdGFtbWVuLiBIaWogbGlldCBkb29yZ2V2ZW4gZGF0IGVyIGVlbiBvcHN0YW5kIGFhbiBkZSBnYW5nIHdhcyB2YW4gdmVyb3ZlcmRlIEdlcm1hYW5zZSBzdGFtbWVuLiBIaWogd2lsZGUgZGUgUm9tZWluZW4gbmFtZWxpamsgbmFhciBlZW4gdm9vciBoZW4gb25iZWtlbmQgZ2ViaWVkIGxva2tlbiB6b2RhdCBkZSBHZXJtYW5lbiBlZW4gc3RyYXRlZ2lzY2ggdm9vcmRlZWwgaGFkZGVuLiBEZSBSb21laW5zZSBhYW52b2VyZGVyIFZhcnVzIHdhcyBvcCBkYXQgbW9tZW50IG1ldCB6aWpuIGxlZ2VyIG9wIHdlZyBuYWFyIGh1biB3aW50ZXJrYW1wZW4gdm9vciBkZSBvcGtvbWVuZGUgd2ludGVyLiBIaWogZ2Vsb29mZGUgZWNodGVyIGhldCBuZXBiZXJpY2h0IHZhbiBBcm1pbml1cyBlbiBoaWogd2VlayB2YW4gemlqbiByb3V0ZSBhZiBlbiBnaW5nIGRvb3IgaGV0IFRldXRvYnVyZ2Vyd291ZCBuYWFyIGRlIHpvZ2V6ZWdkZSBvcHN0YW5kLlxuICAgICAgICAgIDxici8+XG4gICAgICAgICAgV2F0IGhpaiBlY2h0ZXIgbmlldCB3aXN0LCB3YXMgZGF0IGhpaiBvcGdld2FjaHQgd2VyZCBkb29yIGVlbiBncm9vdCBHZXJtYWFucyBsZWdlciBkYXQgemljaCBpbiBoZXQgYm9zIGhhZCB2ZXJzdG9wdCBvbSBlZW4gdmVycmFzc2luZ3NhYW52YWwgdWl0IHRlIHZvZXJlbi4gSGV0IFRldXRvYnVyZ2Vyd291ZCB3YXMgb25kb29yZHJpbmdiYWFyLCBtaXN0aWcgZW4gdm9jaHRpZywgaWV0cyB3YXQgZGUgUm9tZWluZW4gbmlldCBnZXdlbmQgd2FyZW4gYWFuZ2V6aWVuIHppaiBhbHRpamQgb3Agdmxha2tlIGVuIG9wZW4gc2xhZ3ZlbGRlbiBzdHJlZGVuLiBEb29yIGhldCBnZWJyZWsgYWFuIG92ZXJ6aWNodCBlbiBkZSB3aWxsZWtldXIgdmFuIGRlIEdlcm1hbmVuIGhhZGRlbiBkZSBSb21laW5lbiB2YW5hZiBoZXQgYmVnaW4gZWVuIG5hZGVlbC4gWmUga29uZGVuIG5hbWVsaWprIGh1biBnZWJydWlrZWxpamtlIHRhY3RpZWtlbiBuaWV0IHVpdHZvZXJlbiBkb29yIGhldCBnZWJyZWsgYWFuIG9yZ2FuaXNhdGllIGVuIHJ1aW10ZS4gVG9lbiBuYSBlZW4gcGFhciBkYWdlbiBkZSBSb21laW5zZSBvbmRlcmdhbmcgb25hZndlbmRiYWFyIGxlZWssIHBsZWVnZGUgVmFydXMgemVsZm1vb3JkLiBIaWVybWVlIHdhcyBoZXQgbG90IHZhbiB6aWpuIHRyb2VwZW4gb29rIGJlemVnZWxkIGFhbmdlemllbiB6ZSBnZWVuIGxlaWRlciBtZWVyIGhhZGRlbi4gVmFuIGRlIDE4wqAwMDAgbWFuc2NoYXBwZW4gc2xhYWdkZW4gc2xlY2h0cyBlbmtlbGVuIGVyaW4gYWFuIGRlIHZpamFuZCB0ZSBvbnRzbmFwcGVuIGVuIGRlIFJvbWVpbnNlIHdpbnRlcmthbXBlbiBhYW4gZGUgUmlqbiB0ZSBiZXJlaWtlbi5cbiAgICAgICAgPC9wPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXV0b2J1cmdlcndvdWQtaW1nXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRldXRvYnVyZ2Vyd291ZC1pbWctdHh0XCI+VWl0emljaHQgdmFuIGhldCBUZXV0b2J1cmdlcndvdWQgZ2ViYXNlZXJkIG9wIHRla3N0ZW4gdmFuIGRlIGVlcnN0ZSBlZXV3IG4uQy48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cD5cbiAgICAgICAgICBEZXplIHNsYWcgaGFkIHRvdCBnZXZvbGcgZGF0IGVyIGVlbiBlaW5kZSBrd2FtIGFhbiBkZSBSb21laW5zZSBleHBhbnNpZSBpbiBOb29yZC1FdXJvcGEuIE9vayBoYWQga2VpemVyIEF1Z3VzdHVzIGJlc2xvdGVuIGRhdCB2YW5hZiB0b2VuIGRlIFJpam4gZGUgdmFzdGUgZ3JlbnMgem91IHdvcmRlbiB2YW4gaGV0IEltcGVyaXVtIFJvbWFudW0uXG4gICAgICAgIDwvcD5cblxuICAgICAgPHA+XG4gICAgICAgIEluIGRlemUgc2xhZyBpcyBoZWVsIHdhdCBtaXNnZWxvcGVuLCB2b29yYWwgb3AgaGV0IHZsYWsgdmFuIGxlaWRlcnNjaGFwLiBHb2VkIGxlaWRlcnNjaGFwIHZvcm10IGRlIGJhc2lzIHZvb3IgZWxrZSBzbGFnIGFscyBqZSBrYW5zIHdpbHQgbWFrZW4gb3AgZGUgb3Zlcndpbm5pbmcuIFZhcnVzIHdhcyBpbiBnZWVuIGVua2VsIG9wemljaHQgZWVuIGdvZWRlIGxlaWRlciBpbiBkZXplIHNsYWcuIEhpaiBuYW0gaXJyYXRpb25lbGUgYmVzbGlzc2luZ2VuIGVuIGRhY2h0IG5pZXQgbmEgb3ZlciBkZSBnZXZvbGdlbiBoaWVydmFuLlxuICAgICAgICBIZXQgYmVnb24gcmVlZHMgYmlqIGhldCBuaWV0IG5hZ2FhbiB2YW4gZGUgaW5mb3JtYXRpZSBkaWUgaGlqIGhhZCB2ZXJrcmVnZW4uIEhpaiB2ZXJ0cm91d2RlIGJsaW5kIG9wIGRlIHZlcmtyZWdlbiBpbmZvcm1hdGllIGVuIHN0aXBwZWxkZSBtZXRlZW4gZWVuIHJvdXRlIHVpdC4gSGlqIGhhZCBlaWdlbmxpamsgZWVyc3QgZGUgc2l0dWF0aWUgbW9ldGVuIGJla2lqa2VuIGVuIGV2ZW50dWVlbCBydWl0ZXJzIHZvb3JvcCBtb2V0ZW4gc3R1cmVuIG9tIG5hIHRlIGdhYW4gb2YgZXIgd2VsIGRlZ2VsaWprIGVlbiBvcHN0YW5kIHdhcy4gSGllcm1lZSBoYWQgaGlqIGhldCBjb25mbGljdCBrdW5uZW4gdmVybWlqZGVuIGFhbmdlemllbiBkZSBydWl0ZXJzIGRhbiBoYWRkZW4gZ2V6aWVuIGRhdCBlciBnZWVuIG9wc3RhbmQgd2FzLlxuICAgICAgICBaaWpuIHR3ZWVkZSBncm90ZSBmb3V0IHdhcyBvbSBoZXQgbGVnZXIgd2lqZCBnZXNwcmVpZCB0ZSBsYXRlbiBsb3BlbiBpbiBlZW4gZ2ViaWVkIGRhdCBoaWogbmlldCBrZW5kZS4gSGV0IGxlZ2VyIHdhcyBuYW1lbGlqayBhYW4gaGV0IG1hcmNoZXJlbiBtZXQgZWVuIGFmc3RhbmQgdmFuIDE1IGtpbG9tZXRlciB0dXNzZW4gZGUgZWVyc3RlIGVuIGRlIGxhYXRzdGUgc29sZGF0ZW4uIEhpZXJkb29yIGtvbmRlbiBkZSBHZXJtYW5lbiBtZXQgaHVuIGdyb3RlcmUgYWFudGFsbGVuIGRlIGtsZWluZSBncm9lcGplcyBSb21laW5lbiB6b25kZXIgZW5pZyBwcm9ibGVlbSBhYW52YWxsZW4uIEhhZCBoaWogemlqbiBsZWdlciBjb21wYWN0IGxhdGVuIG1hcmNoZXJlbiwgaGFkZGVuIGRlIFJvbWVpbmVuIG5vZyBlZW4gaGFhbGJhcmUga2FucyBnZWhhZCBvcCBkZSBvdmVyd2lubmluZyBpbiBoZXQgZ2V2ZWNodCBhYW5nZXppZW4gZGUgbGFhdHN0ZSB0cm9lcGVuIGRhbiBzbmVsIGtvbmRlbiBiaWpzcHJpbmdlbiBvbSBkZSBlZXJzdGUgdGUgaGVscGVuLlxuICAgICAgICBUaWpkZW5zIGhldCBnZXZlY2h0IHplbGYgbmFtIGhpaiBhbGxlZW4gbWFhciBzbGVjaHRlIGJlc2xpc3Npbmdlbi4gSGlqIGhhZCB3ZWwgdmVlbCB0ZWdlbnNsYWcgbWV0IGhldCB3ZWVyIHdhYXJkb29yIGRlIHNjaHV0dGVycyBodW4gYm9nZW4gbmlldCBrb25kZW4gZ2VicnVpa2VuIGVuIGRlIGhvdXRlbiBzY2hpbGRlbiB0ZSB6d2FhciB3ZXJkZW4gb20gdGUgZHJhZ2VuIGRvb3IgaGV0IGdld2ljaHQgdmFuIGhldCB3YXRlciBkYXQgaW4gaGV0IGhvdXQgd2FzIG9wZ2VzbG9ycHQuIEhpaiBnYWYgaGV0IG9yZGVyIG9tIGRvb3IgdGUgbWFyY2hlcmVuIG5hYXIgZWVuIG9wZW4gcGxlaywgbWFhciBhYW5nZXppZW4gaGlqIGhldCBib3MgbmlldCBrZW5kZSB3aXN0IGhpaiBuaWV0IGRhdCBlciBnZWVuIG9wZW4gcGxla2tlbiBpbiBodW4gbmFiaWpoZWlkIHdhcmVuLiBEaXQgd2FzIGVlbiBmb3V0IG9yZGVyIGFhbmdlemllbiBoaWogZGUgb21nZXZpbmcgbmlldCBrZW5kZSBlbiBkdXMgb29rIG5pZXQgd2lzdCB3YWFyIGVyIHppY2ggbm9nIEdlcm1hbmVuIGJldm9uZGVuLiBIaWogaGFkIHppam4gcG9zaXRpZSBtb2V0ZW4gdmVyZGVkaWdlbiBvbSB6byBlZW4gYmFzaXMgcHJvYmVyZW4gb3AgdGUgcmljaHRlbiBhYW5nZXppZW4gaGV0IGxlZ2VyIGhldCBrd2V0c2JhYXJzdCBpcyB3YW5uZWVyIHplIHppY2ggYWFuIGhldCB2ZXJwbGFhdHNlbiB6aWpuLlxuICAgICAgICBWYXJ1cyBnYWYgb29rIGdlZW4gc3RldW4gYWFuIHppam4gbWFuc2NoYXBwZW4gd2FhcmRvb3IgZGUgc3RyaWpkbHVzdCB3ZWcgZ2luZyBlbiB2ZWxlbiBoZXQgbnV0IHZhbiBkZSBzdHJpamQgbmlldCBtZWVyIHphZ2VuLiBEZSBMZWdhdHVzLCBOdW1vbml1cyBWYWxhLCB2YW4gZWVuIHZhbiB6aWpuIGRyaWUgbGVnaW9lbmVuIHdhcyBlZW4gdmFuIGRpZSBwZXJzb25lbiBkaWUgaGV0IGxlaWRlcnNjaGFwIHZhbiBWYXJ1cyBpbiB0d2lqZmVsIHRyb2sgZW4gZGUgdmVyendha3RlIG1vcmVlbCBhYW52b2VsZGUuIEhpaiB3YXMgZGFuIG9vayBkZWdlbmUgZGllIHNhbWVuIG1ldCBkZSBydWl0ZXJzIHZsdWNodHRlIGVuIHpvIGRlIHRyb2VwZW4gaW4gZGUgc3RlZWsgbGlldC4gTWFhciB2ZXIga3dhbSBoaWogbmlldCBhYW5nZXppZW4gaGlqIGluIGhldCBib3MgemVsZiBub2cgd2VyZCBhZmdlbWFha3QgZG9vciBkZSBydWl0ZXJzIHZhbiBkZSBHZXJtYW5lbi4gWm9uZGVyIGRlIHN0ZXVuIHZhbiBkZSBydWl0ZXJzIHdhcyBoZXQgbGVnZXIgdmVyendha3QgZW4gZHVzIGdyZXBlbiBkZSBHZXJtYW5lbiBodW4ga2Fucy4gWmUgYmVnb25uZW4gYmlqbmEgaWVkZXJlZW4gZ2VuYWRlbG9vcyBhZiB0ZSBzbGFjaHRlbi4gVmFydXMgemFnIG9wIGRhdCBvZ2VuYmxpayBpbiBkYXQgaGlqIHp3YWFyIGhhZCBnZWZhYWxkIGVuIHBsZWVnZGUgZGFhcm9tIHplbGZtb29yZC5cbiAgICAgIDwvcD5cblxuICAgICAgPGgzPlZlcmdlbGlqa2luZzwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgSGV0IGlzIHplZXIgbW9laWxpamsgb20gaGV0IGh1aWRpZ2UgbGVnZXIgdGUgdmVyZ2VsaWprZW4gbWV0IGhldCBSb21laW5zZSBsZWdlciBhYW5nZXppZW4gZXIgemljaCBlZW4gemVlciBncm90ZSBvbnR3aWtrZWxpbmcgaGVlZnQgcGxhYXRzZ2V2b25kZW4gb3AgaGV0IGdlYmllZCB2YW4gd2V0ZW5zY2hhcHBlbiBlbiB0ZWNobm9sb2dpZS4gVnJvZWdlciBzdHJlZWQgbWVuIG1ldCBlZW4gendhYXJkIGVuIGVlbiBzY2hpbGQgZW4gaGFkIGplIGFscyBzdGV1biBlbmtlbCBydWl0ZXJzLiBOdSB3b3JkdCBlciBnZXN0cmVkZW4gdmFub3AgZWVuIHplZXIgZ3JvdGUgYWZzdGFuZCBhYW5nZXppZW4gbWVuIG1hY2hpbmVnZXdlcmVuLCBwaXN0b2xlbiwgbGFuZ2VhZnN0YW5kc3Jha2tldHRlbizigKYgZ2VicnVpa3QuIEVyIHppam4gbnUgb29rIHZlZWwgbmlldXdlIG9uZGVyc3RldW5pbmdzbW9nZWxpamtoZWRlbiB6b2FscyB0YW5rcywgc2NoZXBlbiBlbiB2bGllZ3R1aWdlbiB3YWFyZG9vciBlciBlZW4gaGVsZWJvZWwgbmlldXdlIHRhY3RpZWtlbiBtb2dlbGlqayB6aWpuLlxuICAgICAgICBEb29yIGFsIGRlemUgdmVyYW5kZXJpbmdlbiBoZWVmdCBtZW4gZGUgdGFjdGlla2VuIGRpZSBtZW4gZ2VicnVpa3Qgb29rIG1vZXRlbiB2ZXJhbmRlcmVuLiBWcm9lZ2VyIGtvbiBtZW4gaW4gZWVuIG1hbiBvcCBtYW4gZ2V2ZWNodCB0YWN0aWVrZW4gZ2VicnVpa2VuIGRpZSB6ZWVyIGVmZmVjdGllZiB3YXJlbiBvcCBrb3J0ZSBhZnN0YW5kIGVuIGVlbiBrbGVpbiBzbGFndmVsZC4gQWxzIG1lbiBkZXplIHRlZ2Vud29vcmRpZyB6b3UgdWl0dm9lcmVuLCB6b3VkZW4gZGUgc29sZGF0ZW4gdGVyIHBsYWF0c2Ugd29yZGVuIGFmZ2VtYWFrdC4gRGUgaG9ldmVlbGhlaWQgc29sZGF0ZW4gZGllIGRhYWR3ZXJrZWxpamsgdmVjaHRlbiBpcyBvb2sgc3RlcmsgYWZnZW5vbWVuIGluIHZlcmdlbGlqa2luZyBtZXQgaGV0IFJvbWVpbnNlIGxlZ2VyLiBWcm9lZ2VyIHN0cmVlZCBtZW4gbWV0IGxlZ2VycyB2YW4gemVlciBncm90ZSBhYW50YWxsZW4uIERlemUgYWFudGFsbGVuIGt1bm5lbiB3ZSBvbnMgdGVnZW53b29yZGlnIG5pZXQgbWVlciB2b29yc3RlbGxlbi5cbiAgICAgICAgRXIgZ2ViZXVydCBudSB2ZWVsIG1lZXIgYWNodGVyIGRlIHNjaGVybWVuIG9tIGRlIHNvbGRhdGVuIGRpZSBtb2V0ZW4gdmVjaHRlbiB0ZSBoZWxwZW4uIFpvIHdvcmR0IGVyIHZpYSBzYXRlbGxpZXRlbiBvZiBkcm9uZXMgaW5mb3JtYXRpZSB2ZXJ6YW1lbGQgb3ZlciBkZSBvbWdldmluZyB3YWFyaW4gZGUgc29sZGF0ZW4gemljaCBiZXZpbmRlbiBlbiBldmVudHVlZWwgd2FhciBodW4gdmlqYW5kZW4gc2NodWlsZW4uIEVlbiBzb2xkYWF0IGhlZWZ0IG51IG9vayBkZSBtb2dlbGlqa2hlaWQgb20sIG1pdHMgZGUgZ29lZGtldXJpbmcgdmFuIHppam4gYWFudm9lcmRlciwgZWVuIGx1Y2h0YWFudmFsIGluIHRlIHJvZXBlbi5cbiAgICAgICAgRGUgaHVpZGlnZSB0YWN0aWVrZW4gZHJhYWllbiBvb2sgbmlldCBtZWVyIGFsbGVlbiBtYWFyIHJvbmQgaGV0IG1pbGl0YWlyZSBhc3BlY3QsIG1hYXIgb29rIHJvbmQgb25kZXIgYW5kZXJlIGhldCBlY29ub21pc2NoZS4gQWxzIG1lbiB6aWpuIHZpamFuZCBlY29ub21pc2NoIGthbiB2ZXJ6d2Fra2VuIHphbCBkZXplIG9vayBtaW5kZXIgd2VlcmJhYXIgemlqbi5cbiAgICAgIDwvcD5cblxuICAgIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdmVsZHNsYWdlbi5qc3giLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfTG9jYXRpb25VdGlscyA9IHJlcXVpcmUoJy4vTG9jYXRpb25VdGlscycpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuL2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyJyk7XG5cbnZhciBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIpO1xuXG52YXIgX0RPTVV0aWxzID0gcmVxdWlyZSgnLi9ET01VdGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG52YXIgZ2V0SGlzdG9yeVN0YXRlID0gZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDExIHNvbWV0aW1lcyB0aHJvd3Mgd2hlbiBhY2Nlc3Npbmcgd2luZG93Lmhpc3Rvcnkuc3RhdGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpbmNsdWRpbmdcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxuICovXG52YXIgY3JlYXRlQnJvd3Nlckhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeSgpIHtcbiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoX0RPTVV0aWxzLmNhblVzZURPTSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpO1xuXG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Vc2VIaXN0b3J5ID0gKDAsIF9ET01VdGlscy5zdXBwb3J0c0hpc3RvcnkpKCk7XG4gIHZhciBuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lciA9ICEoMCwgX0RPTVV0aWxzLnN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UpKCk7XG5cbiAgdmFyIF9wcm9wcyRmb3JjZVJlZnJlc2ggPSBwcm9wcy5mb3JjZVJlZnJlc2gsXG4gICAgICBmb3JjZVJlZnJlc2ggPSBfcHJvcHMkZm9yY2VSZWZyZXNoID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9wcm9wcyRmb3JjZVJlZnJlc2gsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBwcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdW5kZWZpbmVkID8gX0RPTVV0aWxzLmdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBwcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB1bmRlZmluZWQgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcblxuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/ICgwLCBfUGF0aFV0aWxzLnN0cmlwVHJhaWxpbmdTbGFzaCkoKDAsIF9QYXRoVXRpbHMuYWRkTGVhZGluZ1NsYXNoKShwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG5cbiAgdmFyIGdldERPTUxvY2F0aW9uID0gZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgdmFyIF9yZWYgPSBoaXN0b3J5U3RhdGUgfHwge30sXG4gICAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cbiAgICB2YXIgX3dpbmRvdyRsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgICAgcGF0aG5hbWUgPSBfd2luZG93JGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2ggPSBfd2luZG93JGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzaCA9IF93aW5kb3ckbG9jYXRpb24uaGFzaDtcblxuXG4gICAgdmFyIHBhdGggPSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG5cbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSAoMCwgX1BhdGhVdGlscy5zdHJpcFByZWZpeCkocGF0aCwgYmFzZW5hbWUpO1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCAoMCwgX1BhdGhVdGlscy5wYXJzZVBhdGgpKHBhdGgpLCB7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBrZXk6IGtleVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVLZXkgPSBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9O1xuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9ICgwLCBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyLmRlZmF1bHQpKCk7XG5cbiAgdmFyIHNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9O1xuXG4gIHZhciBoYW5kbGVQb3BTdGF0ZSA9IGZ1bmN0aW9uIGhhbmRsZVBvcFN0YXRlKGV2ZW50KSB7XG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cbiAgICBpZiAoKDAsIF9ET01VdGlscy5pc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KShldmVudCkpIHJldHVybjtcblxuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihldmVudC5zdGF0ZSkpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVIYXNoQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpKTtcbiAgfTtcblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG5cbiAgdmFyIGhhbmRsZVBvcCA9IGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuXG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXZlcnRQb3AgPSBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuXG4gICAgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBrZXlzIHdlJ3ZlIHNlZW4gaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgLy8gSW5zdGVhZCwgd2UganVzdCBkZWZhdWx0IHRvIDAgZm9yIGtleXMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsS2V5cy5pbmRleE9mKHRvTG9jYXRpb24ua2V5KTtcblxuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG5cbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGZyb21Mb2NhdGlvbi5rZXkpO1xuXG4gICAgaWYgKGZyb21JbmRleCA9PT0gLTEpIGZyb21JbmRleCA9IDA7XG5cbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpO1xuICB2YXIgYWxsS2V5cyA9IFtpbml0aWFsTG9jYXRpb24ua2V5XTtcblxuICAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2VuYW1lICsgKDAsIF9QYXRoVXRpbHMuY3JlYXRlUGF0aCkobG9jYXRpb24pO1xuICB9O1xuXG4gIHZhciBwdXNoID0gZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gKDAsIF9Mb2NhdGlvblV0aWxzLmNyZWF0ZUxvY2F0aW9uKShwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICB2YXIgbmV4dEtleXMgPSBhbGxLZXlzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XG5cbiAgICAgICAgICBuZXh0S2V5cy5wdXNoKGxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgYWxsS2V5cyA9IG5leHRLZXlzO1xuXG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gKDAsIF9Mb2NhdGlvblV0aWxzLmNyZWF0ZUxvY2F0aW9uKShwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuXG4gICAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbEtleXNbcHJldkluZGV4XSA9IGxvY2F0aW9uLmtleTtcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnbyA9IGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9O1xuXG4gIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgcmV0dXJuIGdvKC0xKTtcbiAgfTtcblxuICB2YXIgZ29Gb3J3YXJkID0gZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIHJldHVybiBnbygxKTtcbiAgfTtcblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgdmFyIGNoZWNrRE9NTGlzdGVuZXJzID0gZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEpIHtcbiAgICAgICgwLCBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcikod2luZG93LCBQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgKDAsIF9ET01VdGlscy5hZGRFdmVudExpc3RlbmVyKSh3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICAoMCwgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIpKHdpbmRvdywgUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpICgwLCBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcikod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgdmFyIGJsb2NrID0gZnVuY3Rpb24gYmxvY2soKSB7XG4gICAgdmFyIHByb21wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuXG4gIHJldHVybiBoaXN0b3J5O1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlQnJvd3Nlckhpc3Rvcnk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvY3JlYXRlQnJvd3Nlckhpc3RvcnkuanNcbi8vIG1vZHVsZSBpZCA9IDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0JykuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgSW5mZXJubyBmcm9tICdpbmZlcm5vJztcbmltcG9ydCB7IFJvdXRlciwgUm91dGUsIEluZGV4Um91dGUsIExpbmssIEluZGV4TGluayB9IGZyb20gJ2luZmVybm8tcm91dGVyJztcbmltcG9ydCBjcmVhdGVCcm93c2VySGlzdG9yeSBmcm9tICdoaXN0b3J5L2NyZWF0ZUJyb3dzZXJIaXN0b3J5JztcbmltcG9ydCAnLi9tYWluLmxlc3MnO1xuaW1wb3J0IHtJbmxlaWRpbmd9IGZyb20gJy4vaW5sZWlkaW5nJztcbmltcG9ydCB7T25kZXJ2ZXJkZWxpbmd9IGZyb20gJy4vb25kZXJ2ZXJkZWxpbmcnO1xuaW1wb3J0IHtCZXdhcGVuaW5nfSBmcm9tICcuL2Jld2FwZW5pbmcnO1xuaW1wb3J0IHtWZWxkc2xhZ2VufSBmcm9tICcuL3ZlbGRzbGFnZW4nO1xuaW1wb3J0IHtCZXNsdWl0fSBmcm9tICcuL2Jlc2x1aXQnO1xuaW1wb3J0IHtCcm9ubmVufSBmcm9tICcuL2Jyb25uZW4nO1xuXG5jb25zdCBicm93c2VySGlzdG9yeSA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCk7XG5cblxuZnVuY3Rpb24gQXBwKHsgY2hpbGRyZW4gfSkge1xuICByZXR1cm4gKFxuICA8ZGl2IGNsYXNzPVwicGFnZVwiPlxuICAgIDxoZWFkZXI+XG4gICAgICA8aDE+SGV0IFJvbWVpbnNlIExlZ2VyPC9oMT5cbiAgICAgIDxuYXY+XG4gICAgICAgIDx1bD5cbiAgICAgICAgICA8bGk+PExpbmsgdG89eycvb2NsYXQnfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+SW5sZWlkaW5nPC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL29jbGF0L29uZGVydmVyZGVsaW5nJ30gYWN0aXZlQ2xhc3NOYW1lPVwibGlua0FjdGl2ZUNsYXNzXCIgPm9uZGVydmVyZGVsaW5nPC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL29jbGF0L2Jld2FwZW5pbmcnfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+YmV3YXBlbmluZzwvTGluaz48L2xpPlxuICAgICAgICAgIDxsaT48TGluayB0bz17Jy9vY2xhdC92ZWxkc2xhZ2VuJ30gYWN0aXZlQ2xhc3NOYW1lPVwibGlua0FjdGl2ZUNsYXNzXCIgPnZlbGRzbGFnZW48L0xpbms+PC9saT5cbiAgICAgICAgICA8bGk+PExpbmsgdG89eycvb2NsYXQvYmVzbHVpdCd9IGFjdGl2ZUNsYXNzTmFtZT1cImxpbmtBY3RpdmVDbGFzc1wiID5iZXNsdWl0PC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL29jbGF0L2Jyb25uZW4nfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+YnJvbm5lbjwvTGluaz48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9uYXY+XG4gICAgPC9oZWFkZXI+XG5cbiAgICA8c2VjdGlvbiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L3NlY3Rpb24+XG5cbiAgICA8Zm9vdGVyPlxuICAgICAgPHNwYW4+bWVpIDIwMTc8L3NwYW4+XG4gICAgICA8c3Bhbj5Lb3NoIDZMV2liPC9zcGFuPlxuICAgICAgPHNwYW4+QXF1aWxhIFppZWRpbnMgKDYpLCBUb2JpYXMgQWxleGFuZGVyICgxKTwvc3Bhbj5cbiAgICA8L2Zvb3Rlcj5cbiAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIE5vTWF0Y2goeyBjaGlsZHJlbiB9KSB7XG4gIHJldHVybiA8ZGl2PkhpZXIgYmVudCB1IHVpdCBoZXQgUm9tZWluc2UgcmlqazwvZGl2PlxufVxuXG5jb25zdCByb3V0ZXMgPSAoXG4gIDxSb3V0ZXIgaGlzdG9yeT17IGJyb3dzZXJIaXN0b3J5IH0+XG4gICAgPFJvdXRlIHBhdGg9XCIvb2NsYXRcIiBjb21wb25lbnQ9eyBBcHAgfT5cbiAgICAgIDxJbmRleFJvdXRlIGNvbXBvbmVudD17IElubGVpZGluZyB9Lz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiL29jbGF0XCIgY29tcG9uZW50PXsgSW5sZWlkaW5nIH0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiL29jbGF0L29uZGVydmVyZGVsaW5nXCIgY29tcG9uZW50PXsgT25kZXJ2ZXJkZWxpbmcgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvYmV3YXBlbmluZ1wiIGNvbXBvbmVudD17IEJld2FwZW5pbmcgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvdmVsZHNsYWdlblwiIGNvbXBvbmVudD17IFZlbGRzbGFnZW4gfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvYmVzbHVpdFwiIGNvbXBvbmVudD17IEJlc2x1aXQgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIvb2NsYXQvYnJvbm5lblwiIGNvbXBvbmVudD17IEJyb25uZW4gfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIqXCIgY29tcG9uZW50PXsgTm9NYXRjaCB9Lz5cbiAgICA8L1JvdXRlPlxuICA8L1JvdXRlcj5cbik7XG5cbkluZmVybm8ucmVuZGVyKHJvdXRlcywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKTtcblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWFpbi5qc3giLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgY2FuVXNlRE9NID0gZXhwb3J0cy5jYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG52YXIgYWRkRXZlbnRMaXN0ZW5lciA9IGV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIgPyBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxudmFyIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSBleHBvcnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICByZXR1cm4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyID8gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpIDogbm9kZS5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbn07XG5cbnZhciBnZXRDb25maXJtYXRpb24gPSBleHBvcnRzLmdldENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICByZXR1cm4gY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpO1xufTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuICogY2hhbmdlZCB0byBhdm9pZCBmYWxzZSBuZWdhdGl2ZXMgZm9yIFdpbmRvd3MgUGhvbmVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yb3V0ZXIvaXNzdWVzLzU4NlxuICovXG52YXIgc3VwcG9ydHNIaXN0b3J5ID0gZXhwb3J0cy5zdXBwb3J0c0hpc3RvcnkgPSBmdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJyb3dzZXIgZmlyZXMgcG9wc3RhdGUgb24gaGFzaCBjaGFuZ2UuXG4gKiBJRTEwIGFuZCBJRTExIGRvIG5vdC5cbiAqL1xudmFyIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBleHBvcnRzLnN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG52YXIgc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBleHBvcnRzLnN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoID0gZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cbiAqIEFjY291bnRzIGZvciB0aGUgZmFjdCB0aGF0IENocm9tZSBvbiBpT1MgZmlyZXMgcmVhbCBwb3BzdGF0ZSBldmVudHNcbiAqIGNvbnRhaW5pbmcgdW5kZWZpbmVkIHN0YXRlIHdoZW4gcHJlc3NpbmcgdGhlIGJhY2sgYnV0dG9uLlxuICovXG52YXIgaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCA9IGV4cG9ydHMuaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCA9IGZ1bmN0aW9uIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnN0YXRlID09PSB1bmRlZmluZWQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDcmlPUycpID09PSAtMTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvRE9NVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubG9jYXRpb25zQXJlRXF1YWwgPSBleHBvcnRzLmNyZWF0ZUxvY2F0aW9uID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3Jlc29sdmVQYXRobmFtZSA9IHJlcXVpcmUoJ3Jlc29sdmUtcGF0aG5hbWUnKTtcblxudmFyIF9yZXNvbHZlUGF0aG5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzb2x2ZVBhdGhuYW1lKTtcblxudmFyIF92YWx1ZUVxdWFsID0gcmVxdWlyZSgndmFsdWUtZXF1YWwnKTtcblxudmFyIF92YWx1ZUVxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbHVlRXF1YWwpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjcmVhdGVMb2NhdGlvbiA9IGV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gKDAsIF9QYXRoVXRpbHMucGFyc2VQYXRoKShwYXRoKTtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9IGVsc2Uge1xuICAgIC8vIE9uZS1hcmcgZm9ybTogcHVzaChsb2NhdGlvbilcbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBwYXRoKTtcblxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5wYXRobmFtZSA9ICcnO1xuXG4gICAgaWYgKGxvY2F0aW9uLnNlYXJjaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5jaGFyQXQoMCkgIT09ICc/JykgbG9jYXRpb24uc2VhcmNoID0gJz8nICsgbG9jYXRpb24uc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5zZWFyY2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLmhhc2guY2hhckF0KDApICE9PSAnIycpIGxvY2F0aW9uLmhhc2ggPSAnIycgKyBsb2NhdGlvbi5oYXNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlICE9PSB1bmRlZmluZWQgJiYgbG9jYXRpb24uc3RhdGUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIGxvY2F0aW9uLmtleSA9IGtleTtcblxuICBpZiAoY3VycmVudExvY2F0aW9uKSB7XG4gICAgLy8gUmVzb2x2ZSBpbmNvbXBsZXRlL3JlbGF0aXZlIHBhdGhuYW1lIHJlbGF0aXZlIHRvIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWU7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAoMCwgX3Jlc29sdmVQYXRobmFtZTIuZGVmYXVsdCkobG9jYXRpb24ucGF0aG5hbWUsIGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxudmFyIGxvY2F0aW9uc0FyZUVxdWFsID0gZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiAoMCwgX3ZhbHVlRXF1YWwyLmRlZmF1bHQpKGEuc3RhdGUsIGIuc3RhdGUpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9Mb2NhdGlvblV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSBmdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpIHtcbiAgdmFyIHByb21wdCA9IG51bGw7XG5cbiAgdmFyIHNldFByb21wdCA9IGZ1bmN0aW9uIHNldFByb21wdChuZXh0UHJvbXB0KSB7XG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShwcm9tcHQgPT0gbnVsbCwgJ0EgaGlzdG9yeSBzdXBwb3J0cyBvbmx5IG9uZSBwcm9tcHQgYXQgYSB0aW1lJyk7XG5cbiAgICBwcm9tcHQgPSBuZXh0UHJvbXB0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9tcHQgPT09IG5leHRQcm9tcHQpIHByb21wdCA9IG51bGw7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY29uZmlybVRyYW5zaXRpb25UbyA9IGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiBJZiBhbm90aGVyIHRyYW5zaXRpb24gc3RhcnRzIHdoaWxlIHdlJ3JlIHN0aWxsIGNvbmZpcm1pbmdcbiAgICAvLyB0aGUgcHJldmlvdXMgb25lLCB3ZSBtYXkgZW5kIHVwIGluIGEgd2VpcmQgc3RhdGUuIEZpZ3VyZSBvdXQgdGhlXG4gICAgLy8gYmVzdCB3YXkgdG8gaGFuZGxlIHRoaXMuXG4gICAgaWYgKHByb21wdCAhPSBudWxsKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHlwZW9mIHByb21wdCA9PT0gJ2Z1bmN0aW9uJyA/IHByb21wdChsb2NhdGlvbiwgYWN0aW9uKSA6IHByb21wdDtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2V0VXNlckNvbmZpcm1hdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGdldFVzZXJDb25maXJtYXRpb24ocmVzdWx0LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0EgaGlzdG9yeSBuZWVkcyBhIGdldFVzZXJDb25maXJtYXRpb24gZnVuY3Rpb24gaW4gb3JkZXIgdG8gdXNlIGEgcHJvbXB0IG1lc3NhZ2UnKTtcblxuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgZnJvbSBhIHRyYW5zaXRpb24gaG9vayB0byBjYW5jZWwgdGhlIHRyYW5zaXRpb24uXG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCAhPT0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIHZhciBhcHBlbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFwcGVuZExpc3RlbmVyKGZuKSB7XG4gICAgdmFyIGlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgaWYgKGlzQWN0aXZlKSBmbi5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBub3RpZnlMaXN0ZW5lcnMgPSBmdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gbGlzdGVuZXIuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHNldFByb21wdDogc2V0UHJvbXB0LFxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG86IGNvbmZpcm1UcmFuc2l0aW9uVG8sXG4gICAgYXBwZW5kTGlzdGVuZXI6IGFwcGVuZExpc3RlbmVyLFxuICAgIG5vdGlmeUxpc3RlbmVyczogbm90aWZ5TGlzdGVuZXJzXG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlci5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gTWFrZSBzdXJlIHUgdXNlIEVNUFRZX09CSiBmcm9tICdpbmZlcm5vJywgb3RoZXJ3aXNlIGl0J2xsIGJlIGEgZGlmZmVyZW50IHJlZmVyZW5jZVxyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgbm9PcCA9IGluZmVybm9fc2hhcmVkXzEuRVJST1JfTVNHO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgbm9PcCA9ICdJbmZlcm5vIEVycm9yOiBDYW4gb25seSB1cGRhdGUgYSBtb3VudGVkIG9yIG1vdW50aW5nIGNvbXBvbmVudC4gVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgc2V0U3RhdGUoKSBvciBmb3JjZVVwZGF0ZSgpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuIFRoaXMgaXMgYSBuby1vcC4nO1xyXG59XHJcbnZhciBjb21wb25lbnRDYWxsYmFja1F1ZXVlID0gbmV3IE1hcCgpO1xyXG4vLyB3aGVuIGEgY29tcG9uZW50cyByb290IFZOb2RlIGlzIGFsc28gYSBjb21wb25lbnQsIHdlIGNhbiBydW4gaW50byBpc3N1ZXNcclxuLy8gdGhpcyB3aWxsIHJlY3Vyc2l2ZWx5IGxvb2sgZm9yIHZOb2RlLnBhcmVudE5vZGUgaWYgdGhlIFZOb2RlIGlzIGEgY29tcG9uZW50XHJcbmZ1bmN0aW9uIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2Rlcyh2Tm9kZSwgZG9tKSB7XHJcbiAgICBpZiAodk5vZGUuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB2YXIgcGFyZW50Vk5vZGUgPSB2Tm9kZS5wYXJlbnRWTm9kZTtcclxuICAgICAgICBpZiAocGFyZW50Vk5vZGUpIHtcclxuICAgICAgICAgICAgcGFyZW50Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgICAgICB1cGRhdGVQYXJlbnRDb21wb25lbnRWTm9kZXMocGFyZW50Vk5vZGUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuZnVuY3Rpb24gYWRkVG9RdWV1ZShjb21wb25lbnQsIGZvcmNlLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIHF1ZXVlID0gY29tcG9uZW50Q2FsbGJhY2tRdWV1ZS5nZXQoY29tcG9uZW50KTtcclxuICAgIGlmIChxdWV1ZSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgcXVldWUgPSBbXTtcclxuICAgICAgICBjb21wb25lbnRDYWxsYmFja1F1ZXVlLnNldChjb21wb25lbnQsIHF1ZXVlKTtcclxuICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudENhbGxiYWNrUXVldWUuZGVsZXRlKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBseVN0YXRlKGNvbXBvbmVudCwgZm9yY2UsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBxdWV1ZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldLmNhbGwoY29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIHF1ZXVlLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlU3RhdGVDaGFuZ2VzKGNvbXBvbmVudCwgbmV3U3RhdGUsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKG5ld1N0YXRlKSkge1xyXG4gICAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUoY29tcG9uZW50LnN0YXRlLCBjb21wb25lbnQucHJvcHMsIGNvbXBvbmVudC5jb250ZXh0KTtcclxuICAgIH1cclxuICAgIHZhciBwZW5kaW5nID0gY29tcG9uZW50Ll9wZW5kaW5nU3RhdGU7XHJcbiAgICBpZiAocGVuZGluZyA9PT0gbnVsbCkge1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gcGVuZGluZyA9IG5ld1N0YXRlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3RhdGVLZXkgaW4gbmV3U3RhdGUpIHtcclxuICAgICAgICAgICAgcGVuZGluZ1tzdGF0ZUtleV0gPSBuZXdTdGF0ZVtzdGF0ZUtleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyICYmICFjb21wb25lbnQuX3BlbmRpbmdTZXRTdGF0ZSAmJiAhY29tcG9uZW50Ll9ibG9ja1JlbmRlcikge1xyXG4gICAgICAgIGlmICghY29tcG9uZW50Ll91cGRhdGluZykge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBseVN0YXRlKGNvbXBvbmVudCwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYWRkVG9RdWV1ZShjb21wb25lbnQsIGZhbHNlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHN0YXRlID0gY29tcG9uZW50LnN0YXRlO1xyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuc3RhdGUgPSBwZW5kaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHBlbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBwZW5kaW5nW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSAmJiBjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGNhbGxiYWNrLmJpbmQoY29tcG9uZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmb3JjZSwgY2FsbGJhY2spIHtcclxuICAgIGlmIChjb21wb25lbnQuX3VubW91bnRlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChmb3JjZSB8fCAhY29tcG9uZW50Ll9ibG9ja1JlbmRlcikge1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHBlbmRpbmdTdGF0ZSA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgICAgIHZhciBwcmV2U3RhdGUgPSBjb21wb25lbnQuc3RhdGU7XHJcbiAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJldlN0YXRlLCBwZW5kaW5nU3RhdGUpO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcclxuICAgICAgICB2YXIgY29udGV4dF8xID0gY29tcG9uZW50LmNvbnRleHQ7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHZhciBuZXh0SW5wdXQgPSBjb21wb25lbnQuX3VwZGF0ZUNvbXBvbmVudChwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcHJvcHMsIHByb3BzLCBjb250ZXh0XzEsIGZvcmNlLCB0cnVlKTtcclxuICAgICAgICB2YXIgZGlkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBuZXh0SW5wdXQgPSBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoNDA5NiAvKiBWb2lkICovLCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dElucHV0ID09PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgIG5leHRJbnB1dCA9IGNvbXBvbmVudC5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgbmV4dElucHV0ID0gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDEgLyogVGV4dCAqLywgbnVsbCwgbnVsbCwgbmV4dElucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsYXN0SW5wdXQgPSBjb21wb25lbnQuX2xhc3RJbnB1dDtcclxuICAgICAgICB2YXIgdk5vZGUgPSBjb21wb25lbnQuX3ZOb2RlO1xyXG4gICAgICAgIHZhciBwYXJlbnREb20gPSAobGFzdElucHV0LmRvbSAmJiBsYXN0SW5wdXQuZG9tLnBhcmVudE5vZGUpIHx8IChsYXN0SW5wdXQuZG9tID0gdk5vZGUuZG9tKTtcclxuICAgICAgICBjb21wb25lbnQuX2xhc3RJbnB1dCA9IG5leHRJbnB1dDtcclxuICAgICAgICBpZiAoZGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZENvbnRleHQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50LmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50Ll9jaGlsZENvbnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKGNvbnRleHRfMSwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGlmZUN5Y2xlID0gY29tcG9uZW50Ll9saWZlY3ljbGU7XHJcbiAgICAgICAgICAgIGluZmVybm9fMS5pbnRlcm5hbF9wYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlQ3ljbGUsIGNoaWxkQ29udGV4dCwgY29tcG9uZW50Ll9pc1NWRywgZmFsc2UpO1xyXG4gICAgICAgICAgICBsaWZlQ3ljbGUudHJpZ2dlcigpO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJvcHMsIHByZXZTdGF0ZSwgY29udGV4dF8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGluZmVybm9fMS5vcHRpb25zLmFmdGVyVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUodk5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkb20gPSB2Tm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgaW5mZXJub18xLmludGVybmFsX0RPTU5vZGVNYXAuc2V0KGNvbXBvbmVudCwgbmV4dElucHV0LmRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2Rlcyh2Tm9kZSwgZG9tKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwoY29tcG9uZW50KTtcclxuICAgIH1cclxufVxyXG52YXIgYWxyZWFkeVdhcm5lZCA9IGZhbHNlO1xyXG52YXIgQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fYmxvY2tTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9sYXN0SW5wdXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3ZOb2RlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl91bm1vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9saWZlY3ljbGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2NoaWxkQ29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5faXNTVkcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzIHx8IGluZmVybm9fMS5FTVBUWV9PQko7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCBpbmZlcm5vXzEuRU1QVFlfT0JKOyAvLyBjb250ZXh0IHNob3VsZCBub3QgYmUgbXV0YWJsZVxyXG4gICAgfVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl91bm1vdW50ZWQgfHwgIWluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwbHlTdGF0ZSh0aGlzLCB0cnVlLCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChuZXdTdGF0ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ibG9ja1NldFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlU3RhdGVDaGFuZ2VzKHRoaXMsIG5ld1N0YXRlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdjYW5ub3QgdXBkYXRlIHN0YXRlIHZpYSBzZXRTdGF0ZSgpIGluIGNvbXBvbmVudFdpbGxVcGRhdGUoKSBvciBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZVN5bmMgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAoIWFscmVhZHlXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgIGFscmVhZHlXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbmZlcm5vIFdBUk5JTkc6IHNldFN0YXRlU3luYyBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCByZWxlYXNlLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLl91cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAocHJldlN0YXRlLCBuZXh0U3RhdGUsIHByZXZQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmb3JjZSwgZnJvbVNldFN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3VubW91bnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKG5vT3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikgfHwgcHJldlN0YXRlICE9PSBuZXh0U3RhdGUgfHwgZm9yY2UpIHtcclxuICAgICAgICAgICAgaWYgKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgJiYgIWZyb21TZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1JlbmRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20obmV4dFN0YXRlLCB0aGlzLl9wZW5kaW5nU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogVXBkYXRlIGlmIHNjdSBpcyBub3QgZGVmaW5lZCwgb3IgaXQgcmV0dXJucyB0cnV0aHkgdmFsdWUgb3IgZm9yY2UgKi9cclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQodGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUpIHx8IHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBjb250ZXh0KSB8fCBmb3JjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyID0gdGhpcy5yZW5kZXIobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fMS5vcHRpb25zLmFmdGVyUmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZlcm5vX3NoYXJlZF8xLk5PX09QO1xyXG4gICAgfTtcclxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KSB7IH07XHJcbiAgICByZXR1cm4gQ29tcG9uZW50O1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBDb21wb25lbnQ7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLWNvbXBvbmVudC9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgY29tcG9uZW50SG9va3MgPSBuZXcgU2V0KCk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsTW91bnQnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudERpZE1vdW50Jyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsVW5tb3VudCcpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50U2hvdWxkVXBkYXRlJyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsVXBkYXRlJyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnREaWRVcGRhdGUnKTtcclxuLyoqXHJcbiAqIENyZWF0ZXMgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufENvbXBvbmVudDxhbnksIGFueT59IHR5cGUgVHlwZSBvZiBub2RlXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gcHJvcHMgT3B0aW9uYWwgcHJvcHMgZm9yIHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0gey4uLntvYmplY3R9PX0gX2NoaWxkcmVuIE9wdGlvbmFsIGNoaWxkcmVuIGZvciB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge1ZOb2RlfSBuZXcgdmlydHVhbCBuZG9lXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzKSB7XHJcbiAgICB2YXIgX2NoaWxkcmVuID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIF9jaGlsZHJlbltfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh0eXBlKSB8fCBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KHR5cGUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZlcm5vIEVycm9yOiBjcmVhdGVFbGVtZW50KCkgbmFtZSBwYXJhbWV0ZXIgY2Fubm90IGJlIHVuZGVmaW5lZCwgbnVsbCwgZmFsc2Ugb3IgdHJ1ZSwgSXQgbXVzdCBiZSBhIHN0cmluZywgY2xhc3Mgb3IgZnVuY3Rpb24uJyk7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBfY2hpbGRyZW47XHJcbiAgICB2YXIgcmVmID0gbnVsbDtcclxuICAgIHZhciBrZXkgPSBudWxsO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IG51bGw7XHJcbiAgICB2YXIgZmxhZ3MgPSAwO1xyXG4gICAgdmFyIG5ld1Byb3BzO1xyXG4gICAgaWYgKF9jaGlsZHJlbikge1xyXG4gICAgICAgIGlmIChfY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gdm9pZCAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nKHR5cGUpKSB7XHJcbiAgICAgICAgZmxhZ3MgPSBpbmZlcm5vXzEuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUodHlwZSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIG5ld1Byb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnY2xhc3NOYW1lJyB8fCBwcm9wID09PSAnY2xhc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAna2V5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHByb3BzLmtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdjaGlsZHJlbicgJiYgaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuOyAvLyBhbHdheXMgZmF2b3VyIGNoaWxkcmVuIGFyZ3MsIGRlZmF1bHQgdG8gcHJvcHNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdyZWYnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmID0gcHJvcHMucmVmO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZsYWdzID0gMTYgLyogQ29tcG9uZW50VW5rbm93biAqLztcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcykpIHtcclxuICAgICAgICAgICAgbmV3UHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudEhvb2tzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZWZbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdrZXknKSB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoZmxhZ3MsIHR5cGUsIGNsYXNzTmFtZSwgY2hpbGRyZW4sIG5ld1Byb3BzLCBrZXksIHJlZik7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRWxlbWVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tY3JlYXRlLWVsZW1lbnQvZGlzdC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IHJlcXVpcmUoXCJpbmZlcm5vXCIpO1xyXG52YXIgTGlua18xID0gcmVxdWlyZShcIi4vTGlua1wiKTtcclxuZnVuY3Rpb24gSW5kZXhMaW5rKHByb3BzKSB7XHJcbiAgICBwcm9wcy50byA9ICcvJztcclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoOCAvKiBDb21wb25lbnRGdW5jdGlvbiAqLywgTGlua18xLmRlZmF1bHQsIG51bGwsIG51bGwsIHByb3BzKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBJbmRleExpbms7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L0luZGV4TGluay5qc1xuLy8gbW9kdWxlIGlkID0gMzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbnZhciBJbmRleFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJbmRleFJvdXRlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSW5kZXhSb3V0ZShwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIHByb3BzLnBhdGggPSAnLyc7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEluZGV4Um91dGU7XHJcbn0oUm91dGVfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEluZGV4Um91dGU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L0luZGV4Um91dGUuanNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUm91dGVfMSA9IHJlcXVpcmUoXCIuL1JvdXRlXCIpO1xyXG52YXIgUmVkaXJlY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlZGlyZWN0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVkaXJlY3QocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBpZiAoIXByb3BzLnRvKSB7XHJcbiAgICAgICAgICAgIHByb3BzLnRvID0gJy8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVkaXJlY3Q7XHJcbn0oUm91dGVfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJlZGlyZWN0O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9SZWRpcmVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSByZXF1aXJlKFwiaW5mZXJub1wiKTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jb21wb25lbnRcIik7XHJcbnZhciBtYXRjaF8xID0gcmVxdWlyZShcIi4vbWF0Y2hcIik7XHJcbnZhciBSb3V0ZXJDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9Sb3V0ZXJDb250ZXh0XCIpO1xyXG5mdW5jdGlvbiBjcmVhdGVyUm91dGVyKGhpc3RvcnkpIHtcclxuICAgIGlmICghaGlzdG9yeSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZmVybm86IEVycm9yIFwiaW5mZXJuby1yb3V0ZXJcIiByZXF1aXJlcyBhIGhpc3RvcnkgcHJvcCBwYXNzZWQnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3JlYXRlSHJlZjogaGlzdG9yeS5jcmVhdGVIcmVmLFxyXG4gICAgICAgIGxpc3RlbjogaGlzdG9yeS5saXN0ZW4sXHJcbiAgICAgICAgcHVzaDogaGlzdG9yeS5wdXNoLFxyXG4gICAgICAgIHJlcGxhY2U6IGhpc3RvcnkucmVwbGFjZSxcclxuICAgICAgICBpc0FjdGl2ZTogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hfMS5tYXRjaFBhdGgodHJ1ZSwgdXJsLCB0aGlzLnVybCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgbG9jYXRpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAnYmxhbmsnID8gaGlzdG9yeS5sb2NhdGlvbiA6IHtcclxuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiAnLycsXHJcbiAgICAgICAgICAgICAgICBzZWFyY2g6ICcnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgdXJsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbi5wYXRobmFtZSArIHRoaXMubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxudmFyIFJvdXRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUm91dGVyKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucm91dGVyID0gY3JlYXRlclJvdXRlcihwcm9wcy5oaXN0b3J5KTtcclxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgdXJsOiBwcm9wcy51cmwgfHwgX3RoaXMucm91dGVyLnVybFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5yb3V0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy51bmxpc3RlbiA9IHRoaXMucm91dGVyLmxpc3RlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZVRvKF90aGlzLnJvdXRlci51cmwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogbmV4dFByb3BzLnVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51bmxpc3Rlbikge1xyXG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlci5wcm90b3R5cGUucm91dGVUbyA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB1cmw6IHVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBoaXQgPSBtYXRjaF8xLmRlZmF1bHQocHJvcHMuY2hpbGRyZW4sIHRoaXMuc3RhdGUudXJsKTtcclxuICAgICAgICBpZiAoaGl0LnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucm91dGVyLnJlcGxhY2UoaGl0LnJlZGlyZWN0KTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIFJvdXRlckNvbnRleHRfMS5kZWZhdWx0LCBudWxsLCBudWxsLCB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLnN0YXRlLnVybCxcclxuICAgICAgICAgICAgbWF0Y2hlZDogaGl0Lm1hdGNoZWQsXHJcbiAgICAgICAgICAgIHJvdXRlcjogdGhpcy5yb3V0ZXJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUm91dGVyO1xyXG59KGluZmVybm9fY29tcG9uZW50XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L1JvdXRlci5qc1xuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIHBhcnNpbmcgcGxhaW4gcm91dGUgY29uZmlndXJhdGlvbnNcclxuICogYmFzZWQgb24gcmVhY3Qtcm91dGVyIGNyZWF0ZVJvdXRlcyBoYW5kbGVyLlxyXG4gKlxyXG4gKiBjdXJyZW50bHkgc3VwcG9ydGVkIGtleXM6XHJcbiAqIC0gcGF0aFxyXG4gKiAtIGNvbXBvbmVudFxyXG4gKiAtIGNoaWxkUm91dGVzXHJcbiAqIC0gaW5kZXhSb3V0ZVxyXG4gKlxyXG4gKiBVc2FnZSBleGFtcGxlOlxyXG4gKiBjb25zdCByb3V0ZXMgPSBjcmVhdGVSb3V0ZXMoW1xyXG4gKiAge1xyXG4gKiAgICBwYXRoICAgICAgICA6ICcvJyxcclxuICogICAgY29tcG9uZW50ICAgOiBBcHAsXHJcbiAqICAgIGluZGV4Um91dGUgIDoge1xyXG4gKiAgICAgIGNvbXBvbmVudCAgICAgOiBIb21lLFxyXG4gKiAgICB9LFxyXG4gKiAgICBjaGlsZFJvdXRlcyA6IFtcclxuICogICAgICB7XHJcbiAqICAgICAgICBwYXRoIDogJ2ZpbG1zLycsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBGaWxtcyxcclxuICogICAgICAgIGNoaWxkUm91dGVzIDoge1xyXG4gKiAgICAgICAgICBwYXRoIDogJ2RldGFpbC86aWQnLFxyXG4gKiAgICAgICAgICBjb21wb25lbnQgOiBGaWxtRGV0YWlsLFxyXG4gKiAgICAgICAgfVxyXG4gKiAgICAgIH0sXHJcbiAqICAgICAge1xyXG4gKiAgICAgICAgcGF0aCA6ICcvKicsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBOb01hdGNoXHJcbiAqICAgICAgfVxyXG4gKiAgICBdXHJcbiAqICB9XHJcbiAqIF0pO1xyXG4gKlxyXG4gKiBVc2FnZSBvbiBSb3V0ZXIgSlNYXHJcbiAqIDxSb3V0ZXIgaGlzdG9yeT17YnJvd3Nlckhpc3Rvcnl9IGNoaWxkcmVuPXtyb3V0ZXN9IC8+XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jcmVhdGUtZWxlbWVudFwiKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbnZhciBoYW5kbGVJbmRleFJvdXRlID0gZnVuY3Rpb24gKGluZGV4Um91dGVOb2RlKSB7IHJldHVybiBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEuZGVmYXVsdChSb3V0ZV8xLmRlZmF1bHQsIGluZGV4Um91dGVOb2RlKTsgfTtcclxudmFyIGhhbmRsZUNoaWxkUm91dGUgPSBmdW5jdGlvbiAoY2hpbGRSb3V0ZU5vZGUpIHsgcmV0dXJuIGhhbmRsZVJvdXRlTm9kZShjaGlsZFJvdXRlTm9kZSk7IH07XHJcbnZhciBoYW5kbGVDaGlsZFJvdXRlcyA9IGZ1bmN0aW9uIChjaGlsZFJvdXRlTm9kZXMpIHsgcmV0dXJuIGNoaWxkUm91dGVOb2Rlcy5tYXAoaGFuZGxlQ2hpbGRSb3V0ZSk7IH07XHJcbmZ1bmN0aW9uIGhhbmRsZVJvdXRlTm9kZShyb3V0ZUNvbmZpZ05vZGUpIHtcclxuICAgIGlmIChyb3V0ZUNvbmZpZ05vZGUuaW5kZXhSb3V0ZSAmJiAhcm91dGVDb25maWdOb2RlLmNoaWxkUm91dGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgcm91dGVDb25maWdOb2RlKTtcclxuICAgIH1cclxuICAgIC8vIGNyZWF0ZSBkZWVwIGNvcHkgb2YgY29uZmlnXHJcbiAgICB2YXIgbm9kZSA9IHt9O1xyXG4gICAgZm9yICh2YXIga2V5IGluIHJvdXRlQ29uZmlnTm9kZSkge1xyXG4gICAgICAgIG5vZGVba2V5XSA9IHJvdXRlQ29uZmlnTm9kZVtrZXldO1xyXG4gICAgfVxyXG4gICAgbm9kZS5jaGlsZHJlbiA9IFtdO1xyXG4gICAgLy8gaGFuZGxlIGluZGV4IHJvdXRlIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuaW5kZXhSb3V0ZSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChoYW5kbGVJbmRleFJvdXRlKG5vZGUuaW5kZXhSb3V0ZSkpO1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmluZGV4Um91dGU7XHJcbiAgICB9XHJcbiAgICAvLyBoYW5kbGUgY2hpbGQgcm91dGVzIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuY2hpbGRSb3V0ZXMpIHtcclxuICAgICAgICB2YXIgbm9kZXMgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZFJvdXRlcykgPyBub2RlLmNoaWxkUm91dGVzIDogW25vZGUuY2hpbGRSb3V0ZXNdO1xyXG4gICAgICAgIChfYSA9IG5vZGUuY2hpbGRyZW4pLnB1c2guYXBwbHkoX2EsIGhhbmRsZUNoaWxkUm91dGVzKG5vZGVzKSk7XHJcbiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRSb3V0ZXM7XHJcbiAgICB9XHJcbiAgICAvLyBjbGVhbnVwIHRvIG1hdGNoIG5hdGl2ZSByZW5kZXJlZCByZXN1bHRcclxuICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuWzBdO1xyXG4gICAgfVxyXG4gICAgaWYgKChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHx8XHJcbiAgICAgICAgKCFpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgT2JqZWN0LmtleXMobm9kZS5jaGlsZHJlbikubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgbm9kZSk7XHJcbiAgICB2YXIgX2E7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHJvdXRlQ29uZmlnKSB7IHJldHVybiByb3V0ZUNvbmZpZy5tYXAoaGFuZGxlUm91dGVOb2RlKTsgfTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvY3JlYXRlUm91dGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY3JlYXRlUm91dGVzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVSb3V0ZXNcIik7XHJcbmV4cG9ydHMuY3JlYXRlUm91dGVzID0gY3JlYXRlUm91dGVzXzEuZGVmYXVsdDtcclxudmFyIEluZGV4TGlua18xID0gcmVxdWlyZShcIi4vSW5kZXhMaW5rXCIpO1xyXG5leHBvcnRzLkluZGV4TGluayA9IEluZGV4TGlua18xLmRlZmF1bHQ7XHJcbnZhciBJbmRleFJvdXRlXzEgPSByZXF1aXJlKFwiLi9JbmRleFJvdXRlXCIpO1xyXG5leHBvcnRzLkluZGV4Um91dGUgPSBJbmRleFJvdXRlXzEuZGVmYXVsdDtcclxudmFyIExpbmtfMSA9IHJlcXVpcmUoXCIuL0xpbmtcIik7XHJcbmV4cG9ydHMuTGluayA9IExpbmtfMS5kZWZhdWx0O1xyXG52YXIgbWF0Y2hfMSA9IHJlcXVpcmUoXCIuL21hdGNoXCIpO1xyXG5leHBvcnRzLm1hdGNoID0gbWF0Y2hfMS5kZWZhdWx0O1xyXG52YXIgUmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL1JlZGlyZWN0XCIpO1xyXG5leHBvcnRzLlJlZGlyZWN0ID0gUmVkaXJlY3RfMS5kZWZhdWx0O1xyXG5leHBvcnRzLkluZGV4UmVkaXJlY3QgPSBSZWRpcmVjdF8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbmV4cG9ydHMuUm91dGUgPSBSb3V0ZV8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZXJfMSA9IHJlcXVpcmUoXCIuL1JvdXRlclwiKTtcclxuZXhwb3J0cy5Sb3V0ZXIgPSBSb3V0ZXJfMS5kZWZhdWx0O1xyXG52YXIgUm91dGVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUm91dGVyQ29udGV4dFwiKTtcclxuZXhwb3J0cy5Sb3V0ZXJDb250ZXh0ID0gUm91dGVyQ29udGV4dF8xLmRlZmF1bHQ7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IHtcclxuICAgIFJvdXRlOiBSb3V0ZV8xLmRlZmF1bHQsXHJcbiAgICBJbmRleFJvdXRlOiBJbmRleFJvdXRlXzEuZGVmYXVsdCxcclxuICAgIFJlZGlyZWN0OiBSZWRpcmVjdF8xLmRlZmF1bHQsXHJcbiAgICBJbmRleFJlZGlyZWN0OiBSZWRpcmVjdF8xLmRlZmF1bHQsXHJcbiAgICBSb3V0ZXI6IFJvdXRlcl8xLmRlZmF1bHQsXHJcbiAgICBSb3V0ZXJDb250ZXh0OiBSb3V0ZXJDb250ZXh0XzEuZGVmYXVsdCxcclxuICAgIExpbms6IExpbmtfMS5kZWZhdWx0LFxyXG4gICAgSW5kZXhMaW5rOiBJbmRleExpbmtfMS5kZWZhdWx0LFxyXG4gICAgbWF0Y2g6IG1hdGNoXzEuZGVmYXVsdCxcclxuICAgIGNyZWF0ZVJvdXRlczogY3JlYXRlUm91dGVzXzEuZGVmYXVsdFxyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5OT19PUCA9ICckTk9fT1AnO1xyXG5leHBvcnRzLkVSUk9SX01TRyA9ICdhIHJ1bnRpbWUgZXJyb3Igb2NjdXJlZCEgVXNlIEluZmVybm8gaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQgdG8gZmluZCB0aGUgZXJyb3IuJztcclxuLy8gVGhpcyBzaG91bGQgYmUgYm9vbGVhbiBhbmQgbm90IHJlZmVyZW5jZSB0byB3aW5kb3cuZG9jdW1lbnRcclxuZXhwb3J0cy5pc0Jyb3dzZXIgPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpO1xyXG5mdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gZXhwb3J0cy5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogKGNoaWxkcmVuID8gW2NoaWxkcmVuXSA6IGNoaWxkcmVuKTtcclxufVxyXG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xyXG4vLyB0aGlzIGlzIE1VQ0ggZmFzdGVyIHRoYW4gLmNvbnN0cnVjdG9yID09PSBBcnJheSBhbmQgaW5zdGFuY2VvZiBBcnJheVxyXG4vLyBpbiBOb2RlIDcgYW5kIHRoZSBsYXRlciB2ZXJzaW9ucyBvZiBWOCwgc2xvd2VyIGluIG9sZGVyIHZlcnNpb25zIHRob3VnaFxyXG5leHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KG8pIHtcclxuICAgIHJldHVybiAhaXNVbmRlZmluZWQoby5wcm90b3R5cGUpICYmICFpc1VuZGVmaW5lZChvLnByb3RvdHlwZS5yZW5kZXIpO1xyXG59XHJcbmV4cG9ydHMuaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGlzU3RhdGVmdWxDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIGlzU3RyaW5nT3JOdW1iZXIobykge1xyXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgbztcclxuICAgIHJldHVybiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzU3RyaW5nT3JOdW1iZXIgPSBpc1N0cmluZ09yTnVtYmVyO1xyXG5mdW5jdGlvbiBpc051bGxPclVuZGVmKG8pIHtcclxuICAgIHJldHVybiBpc1VuZGVmaW5lZChvKSB8fCBpc051bGwobyk7XHJcbn1cclxuZXhwb3J0cy5pc051bGxPclVuZGVmID0gaXNOdWxsT3JVbmRlZjtcclxuZnVuY3Rpb24gaXNJbnZhbGlkKG8pIHtcclxuICAgIHJldHVybiBpc051bGwobykgfHwgbyA9PT0gZmFsc2UgfHwgaXNUcnVlKG8pIHx8IGlzVW5kZWZpbmVkKG8pO1xyXG59XHJcbmV4cG9ydHMuaXNJbnZhbGlkID0gaXNJbnZhbGlkO1xyXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG8pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJztcclxufVxyXG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xyXG5mdW5jdGlvbiBpc1N0cmluZyhvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdzdHJpbmcnO1xyXG59XHJcbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcclxuZnVuY3Rpb24gaXNOdW1iZXIobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XHJcbmZ1bmN0aW9uIGlzTnVsbChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gbnVsbDtcclxufVxyXG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcclxuZnVuY3Rpb24gaXNUcnVlKG8pIHtcclxuICAgIHJldHVybiBvID09PSB0cnVlO1xyXG59XHJcbmV4cG9ydHMuaXNUcnVlID0gaXNUcnVlO1xyXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gdm9pZCAwO1xyXG59XHJcbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcclxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JztcclxufVxyXG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XHJcbmZ1bmN0aW9uIHRocm93RXJyb3IobWVzc2FnZSkge1xyXG4gICAgaWYgKCFtZXNzYWdlKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IGV4cG9ydHMuRVJST1JfTVNHO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW5mZXJubyBFcnJvcjogXCIgKyBtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLnRocm93RXJyb3IgPSB0aHJvd0Vycm9yO1xyXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcclxuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLndhcm5pbmcgPSB3YXJuaW5nO1xyXG5mdW5jdGlvbiBjb21iaW5lRnJvbShmaXJzdCwgc2Vjb25kKSB7XHJcbiAgICB2YXIgb3V0ID0ge307XHJcbiAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZmlyc3QpIHtcclxuICAgICAgICAgICAgb3V0W2tleV0gPSBmaXJzdFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChzZWNvbmQpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2Vjb25kKSB7XHJcbiAgICAgICAgICAgIG91dFtrZXldID0gc2Vjb25kW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufVxyXG5leHBvcnRzLmNvbWJpbmVGcm9tID0gY29tYmluZUZyb207XHJcbmZ1bmN0aW9uIExpZmVjeWNsZSgpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbn1cclxuZXhwb3J0cy5MaWZlY3ljbGUgPSBMaWZlY3ljbGU7XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbn07XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIoKSB7XHJcbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnM7XHJcbiAgICB2YXIgbGlzdGVuZXI7XHJcbiAgICAvLyBXZSBuZWVkIHRvIHJlbW92ZSBjdXJyZW50IGxpc3RlbmVyIGZyb20gYXJyYXkgd2hlbiBjYWxsaW5nIGl0LCBiZWNhdXNlIG1vcmUgbGlzdGVuZXJzIG1pZ2h0IGJlIGFkZGVkXHJcbiAgICB3aGlsZSAobGlzdGVuZXIgPSBsaXN0ZW5lcnMuc2hpZnQoKSkge1xyXG4gICAgICAgIGxpc3RlbmVyKCk7XHJcbiAgICB9XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXNoYXJlZC9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIGlzaU9TID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgJiYgISFuYXZpZ2F0b3IucGxhdGZvcm0gJiYgL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcclxudmFyIGRlbGVnYXRlZEV2ZW50cyA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gaGFuZGxlRXZlbnQobmFtZSwgbGFzdEV2ZW50LCBuZXh0RXZlbnQsIGRvbSkge1xyXG4gICAgdmFyIGRlbGVnYXRlZFJvb3RzID0gZGVsZWdhdGVkRXZlbnRzLmdldChuYW1lKTtcclxuICAgIGlmIChuZXh0RXZlbnQpIHtcclxuICAgICAgICBpZiAoIWRlbGVnYXRlZFJvb3RzKSB7XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZFJvb3RzID0geyBpdGVtczogbmV3IE1hcCgpLCBkb2NFdmVudDogbnVsbCB9O1xyXG4gICAgICAgICAgICBkZWxlZ2F0ZWRSb290cy5kb2NFdmVudCA9IGF0dGFjaEV2ZW50VG9Eb2N1bWVudChuYW1lLCBkZWxlZ2F0ZWRSb290cyk7XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZEV2ZW50cy5zZXQobmFtZSwgZGVsZWdhdGVkUm9vdHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWxhc3RFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoaXNpT1MgJiYgbmFtZSA9PT0gJ29uQ2xpY2snKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGVnYXRlZFJvb3RzLml0ZW1zLnNldChkb20sIG5leHRFdmVudCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkZWxlZ2F0ZWRSb290cykge1xyXG4gICAgICAgIHZhciBpdGVtcyA9IGRlbGVnYXRlZFJvb3RzLml0ZW1zO1xyXG4gICAgICAgIGlmIChpdGVtcy5kZWxldGUoZG9tKSkge1xyXG4gICAgICAgICAgICAvLyBJZiBhbnkgaXRlbXMgd2VyZSBkZWxldGVkLCBjaGVjayBpZiBsaXN0ZW5lciBuZWVkIHRvIGJlIHJlbW92ZWRcclxuICAgICAgICAgICAgaWYgKGl0ZW1zLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobm9ybWFsaXplRXZlbnROYW1lKG5hbWUpLCBkZWxlZ2F0ZWRSb290cy5kb2NFdmVudCk7XHJcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZWRFdmVudHMuZGVsZXRlKG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuaGFuZGxlRXZlbnQgPSBoYW5kbGVFdmVudDtcclxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChldmVudCwgdGFyZ2V0LCBpdGVtcywgY291bnQsIGlzQ2xpY2ssIGV2ZW50RGF0YSkge1xyXG4gICAgdmFyIGV2ZW50c1RvVHJpZ2dlciA9IGl0ZW1zLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKGV2ZW50c1RvVHJpZ2dlcikge1xyXG4gICAgICAgIGNvdW50LS07XHJcbiAgICAgICAgLy8gbGlua0V2ZW50IG9iamVjdFxyXG4gICAgICAgIGV2ZW50RGF0YS5kb20gPSB0YXJnZXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50c1RvVHJpZ2dlci5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudHNUb1RyaWdnZXIuZXZlbnQoZXZlbnRzVG9UcmlnZ2VyLmRhdGEsIGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1RvVHJpZ2dlcihldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgICB2YXIgcGFyZW50RG9tID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgLy8gSHRtbCBOb2RlcyBjYW4gYmUgbmVzdGVkIGZlOiBzcGFuIGluc2lkZSBidXR0b24gaW4gdGhhdCBzY2VuYXJpbyBicm93c2VyIGRvZXMgbm90IGhhbmRsZSBkaXNhYmxlZCBhdHRyaWJ1dGUgb24gcGFyZW50LFxyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIGV2ZW50IGxpc3RlbmVyIGlzIG9uIGRvY3VtZW50LmJvZHlcclxuICAgICAgICAvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50c1xyXG4gICAgICAgIGlmIChwYXJlbnREb20gPT09IG51bGwgfHwgKGlzQ2xpY2sgJiYgcGFyZW50RG9tLm5vZGVUeXBlID09PSAxICYmIHBhcmVudERvbS5kaXNhYmxlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaXNwYXRjaEV2ZW50KGV2ZW50LCBwYXJlbnREb20sIGl0ZW1zLCBjb3VudCwgaXNDbGljaywgZXZlbnREYXRhKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVFdmVudE5hbWUobmFtZSkge1xyXG4gICAgcmV0dXJuIG5hbWUuc3Vic3RyKDIpLnRvTG93ZXJDYXNlKCk7XHJcbn1cclxuZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xyXG4gICAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxufVxyXG5mdW5jdGlvbiBhdHRhY2hFdmVudFRvRG9jdW1lbnQobmFtZSwgZGVsZWdhdGVkUm9vdHMpIHtcclxuICAgIHZhciBkb2NFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBjb3VudCA9IGRlbGVnYXRlZFJvb3RzLml0ZW1zLnNpemU7XHJcbiAgICAgICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBzdG9wUHJvcGFnYXRpb247XHJcbiAgICAgICAgICAgIC8vIEV2ZW50IGRhdGEgbmVlZHMgdG8gYmUgb2JqZWN0IHRvIHNhdmUgcmVmZXJlbmNlIHRvIGN1cnJlbnRUYXJnZXQgZ2V0dGVyXHJcbiAgICAgICAgICAgIHZhciBldmVudERhdGFfMSA9IHtcclxuICAgICAgICAgICAgICAgIGRvbTogZG9jdW1lbnRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ2N1cnJlbnRUYXJnZXQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnREYXRhXzEuZG9tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChldmVudCwgZXZlbnQudGFyZ2V0LCBkZWxlZ2F0ZWRSb290cy5pdGVtcywgY291bnQsIGV2ZW50LnR5cGUgPT09ICdjbGljaycsIGV2ZW50RGF0YV8xKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihub3JtYWxpemVFdmVudE5hbWUobmFtZSksIGRvY0V2ZW50KTtcclxuICAgIHJldHVybiBkb2NFdmVudDtcclxufVxyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHlcclxuZnVuY3Rpb24gZW1wdHlGbigpIHsgfVxyXG5mdW5jdGlvbiB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb20pIHtcclxuICAgIC8vIE1vYmlsZSBTYWZhcmkgZG9lcyBub3QgZmlyZSBwcm9wZXJseSBidWJibGUgY2xpY2sgZXZlbnRzIG9uXHJcbiAgICAvLyBub24taW50ZXJhY3RpdmUgZWxlbWVudHMsIHdoaWNoIG1lYW5zIGRlbGVnYXRlZCBjbGljayBsaXN0ZW5lcnMgZG8gbm90XHJcbiAgICAvLyBmaXJlLiBUaGUgd29ya2Fyb3VuZCBmb3IgdGhpcyBidWcgaW52b2x2ZXMgYXR0YWNoaW5nIGFuIGVtcHR5IGNsaWNrXHJcbiAgICAvLyBsaXN0ZW5lciBvbiB0aGUgdGFyZ2V0IG5vZGUuXHJcbiAgICAvLyBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAxMC8wOS9jbGlja19ldmVudF9kZWwuaHRtbFxyXG4gICAgLy8gSnVzdCBzZXQgaXQgdXNpbmcgdGhlIG9uY2xpY2sgcHJvcGVydHkgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIG1hbmFnZSBhbnlcclxuICAgIC8vIGJvb2trZWVwaW5nIGZvciBpdC4gTm90IHN1cmUgaWYgd2UgbmVlZCB0byBjbGVhciBpdCB3aGVuIHRoZSBsaXN0ZW5lciBpc1xyXG4gICAgLy8gcmVtb3ZlZC5cclxuICAgIC8vIFRPRE86IE9ubHkgZG8gdGhpcyBmb3IgdGhlIHJlbGV2YW50IFNhZmFyaXMgbWF5YmU/XHJcbiAgICBkb20ub25jbGljayA9IGVtcHR5Rm47XHJcbn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2RlbGVnYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBMaW5rcyBnaXZlbiBkYXRhIHRvIGV2ZW50IGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0geyp9IGRhdGEgZGF0YSB0byBiZSBsaW5rZWQsIGl0IHdpbGwgYmUgYXZhaWxhYmxlIGluIGZ1bmN0aW9uIGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBldmVudCBGdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBldmVudCBvY2N1cnNcclxuICogQHJldHVybnMge3tkYXRhOiAqLCBldmVudDogRnVuY3Rpb259fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlua0V2ZW50KGRhdGEsIGV2ZW50KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBkYXRhLCBldmVudDogZXZlbnQgfTtcclxufVxyXG5leHBvcnRzLmxpbmtFdmVudCA9IGxpbmtFdmVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2xpbmtFdmVudC5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vY29yZS9vcHRpb25zXCIpO1xyXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XHJcbnZhciBtb3VudGluZ18xID0gcmVxdWlyZShcIi4vbW91bnRpbmdcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciByZW5kZXJpbmdfMSA9IHJlcXVpcmUoXCIuL3JlbmRlcmluZ1wiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcclxudmFyIHByb2Nlc3NFbGVtZW50XzEgPSByZXF1aXJlKFwiLi93cmFwcGVycy9wcm9jZXNzRWxlbWVudFwiKTtcclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGROb2RlcyhwYXJlbnREb20pIHtcclxuICAgIHZhciBkb20gPSBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgIHdoaWxlIChkb20pIHtcclxuICAgICAgICBpZiAoZG9tLm5vZGVUeXBlID09PSA4KSB7XHJcbiAgICAgICAgICAgIGlmIChkb20uZGF0YSA9PT0gJyEnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKHBsYWNlaG9sZGVyLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3REb20gPSBkb20ucHJldmlvdXNTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbiAgICAgICAgICAgICAgICBkb20gPSBsYXN0RG9tIHx8IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubm9ybWFsaXplQ2hpbGROb2RlcyA9IG5vcm1hbGl6ZUNoaWxkTm9kZXM7XHJcbmZ1bmN0aW9uIGh5ZHJhdGVDb21wb25lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNDbGFzcykge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICB2YXIgX2lzU1ZHID0gZG9tLm5hbWVzcGFjZVVSSSA9PT0gY29uc3RhbnRzXzEuc3ZnTlM7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdXRpbHNfMS5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCwgX2lzU1ZHLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIHZhciBpbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaW5zdGFuY2UuX3ZOb2RlID0gdk5vZGU7XHJcbiAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIGluc3RhbmNlLl9jaGlsZENvbnRleHQsIF9pc1NWRyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzKHZOb2RlLCByZWYsIGluc3RhbmNlLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlOyAvLyBNb3VudCBmaW5pc2hlZCBhbGxvdyBnb2luZyBzeW5jXHJcbiAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHV0aWxzXzEuY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IGlucHV0O1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGlucHV0LmRvbTtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZUVsZW1lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZS5jbGFzc05hbWU7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICBpc1NWRyA9IGlzU1ZHIHx8IChmbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICBpZiAoZG9tLm5vZGVUeXBlICE9PSAxIHx8IGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IHZOb2RlLnR5cGUpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gaHlkcmF0aW9uOiBTZXJ2ZXItc2lkZSBtYXJrdXAgZG9lc25cXCd0IG1hdGNoIGNsaWVudC1zaWRlIG1hcmt1cCBvciBJbml0aWFsIHJlbmRlciB0YXJnZXQgaXMgbm90IGVtcHR5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuZXdEb20gPSBtb3VudGluZ18xLm1vdW50RWxlbWVudCh2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gbmV3RG9tO1xyXG4gICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKGRvbS5wYXJlbnROb2RlLCBuZXdEb20sIGRvbSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld0RvbTtcclxuICAgIH1cclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIGh5ZHJhdGVDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIHZhciBoYXNDb250cm9sbGVkVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGb3JtRWxlbWVudCA9IChmbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoUHJvcChwcm9wLCBudWxsLCBwcm9wc1twcm9wXSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnRfMS5wcm9jZXNzRWxlbWVudChmbGFncywgdk5vZGUsIGRvbSwgcHJvcHMsIHRydWUsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgcmVmLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlQ2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgbm9ybWFsaXplQ2hpbGROb2RlcyhwYXJlbnREb20pO1xyXG4gICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoY2hpbGQpICYmIGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20gPSBoeWRyYXRlKGNoaWxkLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudChjaGlsZCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoZG9tICYmIGRvbS5ub2RlVHlwZSA9PT0gMykge1xyXG4gICAgICAgICAgICBpZiAoZG9tLm5vZGVWYWx1ZSAhPT0gY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGRvbS5ub2RlVmFsdWUgPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBwYXJlbnREb20udGV4dENvbnRlbnQgPSBjaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICBoeWRyYXRlKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgIH1cclxuICAgIC8vIGNsZWFyIGFueSBvdGhlciBET00gbm9kZXMsIHRoZXJlIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGVudHJ5IGZvciB0aGUgcm9vdFxyXG4gICAgd2hpbGUgKGRvbSkge1xyXG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IGRvbS5uZXh0U2libGluZztcclxuICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICBkb20gPSBuZXh0U2libGluZztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlVGV4dCh2Tm9kZSwgZG9tKSB7XHJcbiAgICBpZiAoZG9tLm5vZGVUeXBlICE9PSAzKSB7XHJcbiAgICAgICAgdmFyIG5ld0RvbSA9IG1vdW50aW5nXzEubW91bnRUZXh0KHZOb2RlLCBudWxsKTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBuZXdEb207XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlQ2hpbGQoZG9tLnBhcmVudE5vZGUsIG5ld0RvbSwgZG9tKTtcclxuICAgICAgICByZXR1cm4gbmV3RG9tO1xyXG4gICAgfVxyXG4gICAgdmFyIHRleHQgPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmIChkb20ubm9kZVZhbHVlICE9PSB0ZXh0KSB7XHJcbiAgICAgICAgZG9tLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbiAgICB9XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVWb2lkKHZOb2RlLCBkb20pIHtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZSh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlQ29tcG9uZW50KHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlRWxlbWVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVUZXh0KHZOb2RlLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICByZXR1cm4gaHlkcmF0ZVZvaWQodk5vZGUsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJoeWRyYXRlKCkgZXhwZWN0cyBhIHZhbGlkIFZOb2RlLCBpbnN0ZWFkIGl0IHJlY2VpdmVkIGFuIG9iamVjdCB3aXRoIHRoZSB0eXBlIFxcXCJcIiArIHR5cGVvZiB2Tm9kZSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tKSkge1xyXG4gICAgICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgdXRpbHNfMS5FTVBUWV9PQkosIGZhbHNlKTtcclxuICAgICAgICAgICAgZG9tID0gcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIGFueSBvdGhlciBET00gbm9kZXMsIHRoZXJlIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGVudHJ5IGZvciB0aGUgcm9vdFxyXG4gICAgICAgICAgICB3aGlsZSAoZG9tID0gZG9tLm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZXhwb3J0cy5oeWRyYXRlUm9vdCA9IGh5ZHJhdGVSb290O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS9oeWRyYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcclxuZnVuY3Rpb24gaXNDaGVja2VkVHlwZSh0eXBlKSB7XHJcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nO1xyXG59XHJcbmV4cG9ydHMuaXNDaGVja2VkVHlwZSA9IGlzQ2hlY2tlZFR5cGU7XHJcbmZ1bmN0aW9uIG9uVGV4dElucHV0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uSW5wdXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmlucHV0KSB7XHJcbiAgICAgICAgcHJvcHMub25pbnB1dChlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1Byb3BzLCBkb20pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHdyYXBwZWRPbkNoYW5nZShlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGV2ZW50ID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICBpZiAoZXZlbnQuZXZlbnQpIHtcclxuICAgICAgICBldmVudC5ldmVudChldmVudC5kYXRhLCBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV2ZW50KGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uQ2hlY2tib3hDaGFuZ2UoZSkge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gVGhpcyBjbGljayBzaG91bGQgbm90IHByb3BhZ2F0ZSBpdHMgZm9yIGludGVybmFsIHVzZVxyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25DbGljaykge1xyXG4gICAgICAgIHZhciBldmVudF8yID0gcHJvcHMub25DbGljaztcclxuICAgICAgICBpZiAoZXZlbnRfMi5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8yLmV2ZW50KGV2ZW50XzIuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2xpY2spIHtcclxuICAgICAgICBwcm9wcy5vbmNsaWNrKGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3UHJvcHMsIGRvbSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc0lucHV0KHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBpZiAoaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmNsaWNrID0gb25DaGVja2JveENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICAgICAgZG9tLm9uY2xpY2sud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dCA9IG9uVGV4dElucHV0Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dC53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5leHRQcm9wc09yRW1wdHkub25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlID0gd3JhcHBlZE9uQ2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2Uud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0lucHV0ID0gcHJvY2Vzc0lucHV0O1xyXG5mdW5jdGlvbiBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSkge1xyXG4gICAgdmFyIHR5cGUgPSBuZXh0UHJvcHNPckVtcHR5LnR5cGU7XHJcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LnZhbHVlO1xyXG4gICAgdmFyIGNoZWNrZWQgPSBuZXh0UHJvcHNPckVtcHR5LmNoZWNrZWQ7XHJcbiAgICB2YXIgbXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IG5leHRQcm9wc09yRW1wdHkuZGVmYXVsdFZhbHVlO1xyXG4gICAgdmFyIGhhc1ZhbHVlID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSk7XHJcbiAgICBpZiAodHlwZSAmJiB0eXBlICE9PSBkb20udHlwZSkge1xyXG4gICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGlmIChtdWx0aXBsZSAmJiBtdWx0aXBsZSAhPT0gZG9tLm11bHRpcGxlKSB7XHJcbiAgICAgICAgZG9tLm11bHRpcGxlID0gbXVsdGlwbGU7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0VmFsdWUpICYmICFoYXNWYWx1ZSkge1xyXG4gICAgICAgIGRvbS5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWUgKyAnJztcclxuICAgIH1cclxuICAgIGlmIChpc0NoZWNrZWRUeXBlKHR5cGUpKSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvbS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGVja2VkKSkge1xyXG4gICAgICAgICAgICBkb20uY2hlY2tlZCA9IGNoZWNrZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlICYmIGRvbS52YWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hlY2tlZCkpIHtcclxuICAgICAgICAgICAgZG9tLmNoZWNrZWQgPSBjaGVja2VkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9JbnB1dFdyYXBwZXIuanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vY29yZS9WTm9kZXNcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xyXG5mdW5jdGlvbiB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgaWYgKHR5cGUgPT09ICdvcHRncm91cCcpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb24oY2hpbGRyZW4sIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbih2Tm9kZSwgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUNoaWxkT3B0aW9uKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgLy8gd2UgZG8gdGhpcyBhcyBtdWx0aXBsZSBtYXkgaGF2ZSBjaGFuZ2VkXHJcbiAgICBkb20udmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmICgoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5pbmRleE9mKHByb3BzLnZhbHVlKSAhPT0gLTEpIHx8IHByb3BzLnZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKSB8fCAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLnNlbGVjdGVkKSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uU2VsZWN0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzEgPSBwcm9wcy5vbkNoYW5nZTtcclxuICAgICAgICBpZiAoZXZlbnRfMS5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8xLmV2ZW50KGV2ZW50XzEuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8xKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2hhbmdlKSB7XHJcbiAgICAgICAgcHJvcHMub25jaGFuZ2UoZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdWTm9kZSwgZG9tLCBuZXdQcm9wcywgZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NTZWxlY3Qodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZyk7XHJcbiAgICBpZiAobW91bnRpbmcgJiYgaXNDb250cm9sbGVkKSB7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlID0gb25TZWxlY3RDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlLndyYXBwZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc1NlbGVjdCA9IHByb2Nlc3NTZWxlY3Q7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcpIHtcclxuICAgIGlmIChuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlICE9PSBkb20ubXVsdGlwbGUpIHtcclxuICAgICAgICBkb20ubXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkudmFsdWU7XHJcbiAgICAgICAgaWYgKG1vdW50aW5nICYmIGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb25Hcm91cChjaGlsZHJlbiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9TZWxlY3RXcmFwcGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XHJcbmZ1bmN0aW9uIHdyYXBwZWRPbkNoYW5nZShlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGV2ZW50ID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICBpZiAoZXZlbnQuZXZlbnQpIHtcclxuICAgICAgICBldmVudC5ldmVudChldmVudC5kYXRhLCBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV2ZW50KGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uVGV4dGFyZWFJbnB1dENoYW5nZShlKSB7XHJcbiAgICB2YXIgdk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uSW5wdXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmlucHV0KSB7XHJcbiAgICAgICAgcHJvcHMub25pbnB1dChlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1ZOb2RlLCB2Tm9kZS5kb20sIGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzVGV4dGFyZWEodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZShuZXh0UHJvcHNPckVtcHR5LCBkb20sIG1vdW50aW5nKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBkb20ub25pbnB1dCA9IG9uVGV4dGFyZWFJbnB1dENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICBkb20ub25pbnB1dC53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAobmV4dFByb3BzT3JFbXB0eS5vbkNoYW5nZSkge1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2UgPSB3cmFwcGVkT25DaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIGRvbS5vbmNoYW5nZS53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wcm9jZXNzVGV4dGFyZWEgPSBwcm9jZXNzVGV4dGFyZWE7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tLCBtb3VudGluZykge1xyXG4gICAgdmFyIHZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS52YWx1ZTtcclxuICAgIHZhciBkb21WYWx1ZSA9IGRvbS52YWx1ZTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodmFsdWUpKSB7XHJcbiAgICAgICAgaWYgKG1vdW50aW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoZGVmYXVsdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gZG9tVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20udmFsdWUgPSBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZG9tVmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qIFRoZXJlIGlzIHZhbHVlIHNvIGtlZXAgaXQgY29udHJvbGxlZCAqL1xyXG4gICAgICAgIGlmIChkb21WYWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYXBwbHlWYWx1ZSA9IGFwcGx5VmFsdWU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3dyYXBwZXJzL1RleHRhcmVhV3JhcHBlci5qc1xuLy8gbW9kdWxlIGlkID0gNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbmV4cG9ydHMuTk9fT1AgPSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QO1xyXG52YXIgbm9ybWFsaXphdGlvbl8xID0gcmVxdWlyZShcIi4vY29yZS9ub3JtYWxpemF0aW9uXCIpO1xyXG5leHBvcnRzLmdldEZsYWdzRm9yRWxlbWVudFZub2RlID0gbm9ybWFsaXphdGlvbl8xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlO1xyXG5leHBvcnRzLmludGVybmFsX25vcm1hbGl6ZSA9IG5vcm1hbGl6YXRpb25fMS5ub3JtYWxpemU7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi9jb3JlL29wdGlvbnNcIik7XHJcbmV4cG9ydHMub3B0aW9ucyA9IG9wdGlvbnNfMS5vcHRpb25zO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi9jb3JlL1ZOb2Rlc1wiKTtcclxuZXhwb3J0cy5jbG9uZVZOb2RlID0gVk5vZGVzXzEuY2xvbmVWTm9kZTtcclxuZXhwb3J0cy5jcmVhdGVWTm9kZSA9IFZOb2Rlc18xLmNyZWF0ZVZOb2RlO1xyXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9ET00vY29uc3RhbnRzXCIpO1xyXG5leHBvcnRzLmludGVybmFsX2lzVW5pdGxlc3NOdW1iZXIgPSBjb25zdGFudHNfMS5pc1VuaXRsZXNzTnVtYmVyO1xyXG52YXIgbGlua0V2ZW50XzEgPSByZXF1aXJlKFwiLi9ET00vZXZlbnRzL2xpbmtFdmVudFwiKTtcclxuZXhwb3J0cy5saW5rRXZlbnQgPSBsaW5rRXZlbnRfMS5saW5rRXZlbnQ7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vRE9NL3BhdGNoaW5nXCIpO1xyXG5leHBvcnRzLmludGVybmFsX3BhdGNoID0gcGF0Y2hpbmdfMS5wYXRjaDtcclxudmFyIHJlbmRlcmluZ18xID0gcmVxdWlyZShcIi4vRE9NL3JlbmRlcmluZ1wiKTtcclxuZXhwb3J0cy5pbnRlcm5hbF9ET01Ob2RlTWFwID0gcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwO1xyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gcmVuZGVyaW5nXzEuY3JlYXRlUmVuZGVyZXI7XHJcbmV4cG9ydHMuZmluZERPTU5vZGUgPSByZW5kZXJpbmdfMS5maW5kRE9NTm9kZTtcclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXJpbmdfMS5yZW5kZXI7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vRE9NL3V0aWxzXCIpO1xyXG5leHBvcnRzLkVNUFRZX09CSiA9IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5ICovXHJcbiAgICB2YXIgdGVzdEZ1bmMgPSBmdW5jdGlvbiB0ZXN0Rm4oKSB7IH07XHJcbiAgICBpZiAoKHRlc3RGdW5jLm5hbWUgfHwgdGVzdEZ1bmMudG9TdHJpbmcoKSkuaW5kZXhPZigndGVzdEZuJykgPT09IC0xKSB7XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCgnSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhIG1pbmlmaWVkIGNvcHkgb2YgdGhlIGRldmVsb3BtZW50IGJ1aWxkICcgK1xyXG4gICAgICAgICAgICAnb2YgSW5mZXJuby4gV2hlbiBkZXBsb3lpbmcgSW5mZXJubyBhcHBzIHRvIHByb2R1Y3Rpb24sIG1ha2Ugc3VyZSB0byB1c2UgJyArXHJcbiAgICAgICAgICAgICd0aGUgcHJvZHVjdGlvbiBidWlsZCB3aGljaCBza2lwcyBkZXZlbG9wbWVudCB3YXJuaW5ncyBhbmQgaXMgZmFzdGVyLiAnICtcclxuICAgICAgICAgICAgJ1NlZSBodHRwOi8vaW5mZXJub2pzLm9yZyBmb3IgbW9yZSBkZXRhaWxzLicpKTtcclxuICAgIH1cclxufVxyXG52YXIgdmVyc2lvbiA9ICczLjEuMCc7XHJcbmV4cG9ydHMudmVyc2lvbiA9IHZlcnNpb247XHJcbi8vIHdlIGR1cGxpY2F0ZSBpdCBzbyBpdCBwbGF5cyBuaWNlbHkgd2l0aCBkaWZmZXJlbnQgbW9kdWxlIGxvYWRpbmcgc3lzdGVtc1xyXG5leHBvcnRzLmRlZmF1bHQgPSB7XHJcbiAgICBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTogbm9ybWFsaXphdGlvbl8xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlLFxyXG4gICAgbGlua0V2ZW50OiBsaW5rRXZlbnRfMS5saW5rRXZlbnQsXHJcbiAgICAvLyBjb3JlIHNoYXBlc1xyXG4gICAgY3JlYXRlVk5vZGU6IFZOb2Rlc18xLmNyZWF0ZVZOb2RlLFxyXG4gICAgLy8gY2xvbmluZ1xyXG4gICAgY2xvbmVWTm9kZTogVk5vZGVzXzEuY2xvbmVWTm9kZSxcclxuICAgIC8vIHVzZWQgdG8gc2hhcmVkIGNvbW1vbiBpdGVtcyBiZXR3ZWVuIEluZmVybm8gbGlic1xyXG4gICAgTk9fT1A6IGluZmVybm9fc2hhcmVkXzEuTk9fT1AsXHJcbiAgICBFTVBUWV9PQko6IHV0aWxzXzEuRU1QVFlfT0JKLFxyXG4gICAgLy8gRE9NXHJcbiAgICByZW5kZXI6IHJlbmRlcmluZ18xLnJlbmRlcixcclxuICAgIGZpbmRET01Ob2RlOiByZW5kZXJpbmdfMS5maW5kRE9NTm9kZSxcclxuICAgIGNyZWF0ZVJlbmRlcmVyOiByZW5kZXJpbmdfMS5jcmVhdGVSZW5kZXJlcixcclxuICAgIG9wdGlvbnM6IG9wdGlvbnNfMS5vcHRpb25zLFxyXG4gICAgdmVyc2lvbjogdmVyc2lvbixcclxuICAgIGludGVybmFsX3BhdGNoOiBwYXRjaGluZ18xLnBhdGNoLFxyXG4gICAgaW50ZXJuYWxfRE9NTm9kZU1hcDogcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLFxyXG4gICAgaW50ZXJuYWxfaXNVbml0bGVzc051bWJlcjogY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlcixcclxuICAgIGludGVybmFsX25vcm1hbGl6ZTogbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZVxyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ludmFyaWFudC9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaXNhcnJheS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHBhdGhUb1JlZ0V4cCA9IHJlcXVpcmUoJ3BhdGgtdG8tcmVnZXhwJylcclxuXHJcbi8qKlxyXG4gKiBFeHBvc2UgYHBhdGhUb1JlZ2V4cGAgYXMgRVM2IG1vZHVsZVxyXG4gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdFeHA7XHJcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGF0aFRvUmVnRXhwLnBhcnNlXHJcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBwYXRoVG9SZWdFeHAuY29tcGlsZVxyXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gcGF0aFRvUmVnRXhwLnRva2Vuc1RvRnVuY3Rpb25cclxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSBwYXRoVG9SZWdFeHAudG9rZW5zVG9SZWdFeHBcclxubW9kdWxlLmV4cG9ydHNbJ2RlZmF1bHQnXSA9IG1vZHVsZS5leHBvcnRzO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcGF0aC10by1yZWdleHAtZXM2L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgaXNhcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG4vKipcbiAqIEV4cG9zZSBgcGF0aFRvUmVnZXhwYC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdleHBcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGFyc2Vcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gdG9rZW5zVG9GdW5jdGlvblxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSB0b2tlbnNUb1JlZ0V4cFxuXG4vKipcbiAqIFRoZSBtYWluIHBhdGggbWF0Y2hpbmcgcmVnZXhwIHV0aWxpdHkuXG4gKlxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIFBBVEhfUkVHRVhQID0gbmV3IFJlZ0V4cChbXG4gIC8vIE1hdGNoIGVzY2FwZWQgY2hhcmFjdGVycyB0aGF0IHdvdWxkIG90aGVyd2lzZSBhcHBlYXIgaW4gZnV0dXJlIG1hdGNoZXMuXG4gIC8vIFRoaXMgYWxsb3dzIHRoZSB1c2VyIHRvIGVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgdGhhdCB3b24ndCB0cmFuc2Zvcm0uXG4gICcoXFxcXFxcXFwuKScsXG4gIC8vIE1hdGNoIEV4cHJlc3Mtc3R5bGUgcGFyYW1ldGVycyBhbmQgdW4tbmFtZWQgcGFyYW1ldGVycyB3aXRoIGEgcHJlZml4XG4gIC8vIGFuZCBvcHRpb25hbCBzdWZmaXhlcy4gTWF0Y2hlcyBhcHBlYXIgYXM6XG4gIC8vXG4gIC8vIFwiLzp0ZXN0KFxcXFxkKyk/XCIgPT4gW1wiL1wiLCBcInRlc3RcIiwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgXCI/XCIsIHVuZGVmaW5lZF1cbiAgLy8gXCIvcm91dGUoXFxcXGQrKVwiICA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAvLyBcIi8qXCIgICAgICAgICAgICA9PiBbXCIvXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCIqXCJdXG4gICcoW1xcXFwvLl0pPyg/Oig/OlxcXFw6KFxcXFx3KykoPzpcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKT98XFxcXCgoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKV0pKylcXFxcKSkoWysqP10pP3woXFxcXCopKSdcbl0uam9pbignfCcpLCAnZycpXG5cbi8qKlxuICogUGFyc2UgYSBzdHJpbmcgZm9yIHRoZSByYXcgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHN0clxuICogQHBhcmFtICB7T2JqZWN0PX0gb3B0aW9uc1xuICogQHJldHVybiB7IUFycmF5fVxuICovXG5mdW5jdGlvbiBwYXJzZSAoc3RyLCBvcHRpb25zKSB7XG4gIHZhciB0b2tlbnMgPSBbXVxuICB2YXIga2V5ID0gMFxuICB2YXIgaW5kZXggPSAwXG4gIHZhciBwYXRoID0gJydcbiAgdmFyIGRlZmF1bHREZWxpbWl0ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJ1xuICB2YXIgcmVzXG5cbiAgd2hpbGUgKChyZXMgPSBQQVRIX1JFR0VYUC5leGVjKHN0cikpICE9IG51bGwpIHtcbiAgICB2YXIgbSA9IHJlc1swXVxuICAgIHZhciBlc2NhcGVkID0gcmVzWzFdXG4gICAgdmFyIG9mZnNldCA9IHJlcy5pbmRleFxuICAgIHBhdGggKz0gc3RyLnNsaWNlKGluZGV4LCBvZmZzZXQpXG4gICAgaW5kZXggPSBvZmZzZXQgKyBtLmxlbmd0aFxuXG4gICAgLy8gSWdub3JlIGFscmVhZHkgZXNjYXBlZCBzZXF1ZW5jZXMuXG4gICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgIHBhdGggKz0gZXNjYXBlZFsxXVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICB2YXIgbmV4dCA9IHN0cltpbmRleF1cbiAgICB2YXIgcHJlZml4ID0gcmVzWzJdXG4gICAgdmFyIG5hbWUgPSByZXNbM11cbiAgICB2YXIgY2FwdHVyZSA9IHJlc1s0XVxuICAgIHZhciBncm91cCA9IHJlc1s1XVxuICAgIHZhciBtb2RpZmllciA9IHJlc1s2XVxuICAgIHZhciBhc3RlcmlzayA9IHJlc1s3XVxuXG4gICAgLy8gUHVzaCB0aGUgY3VycmVudCBwYXRoIG9udG8gdGhlIHRva2Vucy5cbiAgICBpZiAocGF0aCkge1xuICAgICAgdG9rZW5zLnB1c2gocGF0aClcbiAgICAgIHBhdGggPSAnJ1xuICAgIH1cblxuICAgIHZhciBwYXJ0aWFsID0gcHJlZml4ICE9IG51bGwgJiYgbmV4dCAhPSBudWxsICYmIG5leHQgIT09IHByZWZpeFxuICAgIHZhciByZXBlYXQgPSBtb2RpZmllciA9PT0gJysnIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgb3B0aW9uYWwgPSBtb2RpZmllciA9PT0gJz8nIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgZGVsaW1pdGVyID0gcmVzWzJdIHx8IGRlZmF1bHREZWxpbWl0ZXJcbiAgICB2YXIgcGF0dGVybiA9IGNhcHR1cmUgfHwgZ3JvdXBcblxuICAgIHRva2Vucy5wdXNoKHtcbiAgICAgIG5hbWU6IG5hbWUgfHwga2V5KyssXG4gICAgICBwcmVmaXg6IHByZWZpeCB8fCAnJyxcbiAgICAgIGRlbGltaXRlcjogZGVsaW1pdGVyLFxuICAgICAgb3B0aW9uYWw6IG9wdGlvbmFsLFxuICAgICAgcmVwZWF0OiByZXBlYXQsXG4gICAgICBwYXJ0aWFsOiBwYXJ0aWFsLFxuICAgICAgYXN0ZXJpc2s6ICEhYXN0ZXJpc2ssXG4gICAgICBwYXR0ZXJuOiBwYXR0ZXJuID8gZXNjYXBlR3JvdXAocGF0dGVybikgOiAoYXN0ZXJpc2sgPyAnLionIDogJ1teJyArIGVzY2FwZVN0cmluZyhkZWxpbWl0ZXIpICsgJ10rPycpXG4gICAgfSlcbiAgfVxuXG4gIC8vIE1hdGNoIGFueSBjaGFyYWN0ZXJzIHN0aWxsIHJlbWFpbmluZy5cbiAgaWYgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIHBhdGggKz0gc3RyLnN1YnN0cihpbmRleClcbiAgfVxuXG4gIC8vIElmIHRoZSBwYXRoIGV4aXN0cywgcHVzaCBpdCBvbnRvIHRoZSBlbmQuXG4gIGlmIChwYXRoKSB7XG4gICAgdG9rZW5zLnB1c2gocGF0aClcbiAgfVxuXG4gIHJldHVybiB0b2tlbnNcbn1cblxuLyoqXG4gKiBDb21waWxlIGEgc3RyaW5nIHRvIGEgdGVtcGxhdGUgZnVuY3Rpb24gZm9yIHRoZSBwYXRoLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgc3RyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFmdW5jdGlvbihPYmplY3Q9LCBPYmplY3Q9KX1cbiAqL1xuZnVuY3Rpb24gY29tcGlsZSAoc3RyLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb0Z1bmN0aW9uKHBhcnNlKHN0ciwgb3B0aW9ucykpXG59XG5cbi8qKlxuICogUHJldHRpZXIgZW5jb2Rpbmcgb2YgVVJJIHBhdGggc2VnbWVudHMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvW1xcLz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFbmNvZGUgdGhlIGFzdGVyaXNrIHBhcmFtZXRlci4gU2ltaWxhciB0byBgcHJldHR5YCwgYnV0IGFsbG93cyBzbGFzaGVzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlQXN0ZXJpc2sgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBtZXRob2QgZm9yIHRyYW5zZm9ybWluZyB0b2tlbnMgaW50byB0aGUgcGF0aCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9GdW5jdGlvbiAodG9rZW5zKSB7XG4gIC8vIENvbXBpbGUgYWxsIHRoZSB0b2tlbnMgaW50byByZWdleHBzLlxuICB2YXIgbWF0Y2hlcyA9IG5ldyBBcnJheSh0b2tlbnMubGVuZ3RoKVxuXG4gIC8vIENvbXBpbGUgYWxsIHRoZSBwYXR0ZXJucyBiZWZvcmUgY29tcGlsYXRpb24uXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbnNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICBtYXRjaGVzW2ldID0gbmV3IFJlZ0V4cCgnXig/OicgKyB0b2tlbnNbaV0ucGF0dGVybiArICcpJCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIG9wdHMpIHtcbiAgICB2YXIgcGF0aCA9ICcnXG4gICAgdmFyIGRhdGEgPSBvYmogfHwge31cbiAgICB2YXIgb3B0aW9ucyA9IG9wdHMgfHwge31cbiAgICB2YXIgZW5jb2RlID0gb3B0aW9ucy5wcmV0dHkgPyBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgOiBlbmNvZGVVUklDb21wb25lbnRcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV1cblxuICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGF0aCArPSB0b2tlblxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSA9IGRhdGFbdG9rZW4ubmFtZV1cbiAgICAgIHZhciBzZWdtZW50XG5cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICAgIC8vIFByZXBlbmQgcGFydGlhbCBzZWdtZW50IHByZWZpeGVzLlxuICAgICAgICAgIGlmICh0b2tlbi5wYXJ0aWFsKSB7XG4gICAgICAgICAgICBwYXRoICs9IHRva2VuLnByZWZpeFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBiZSBkZWZpbmVkJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNhcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKCF0b2tlbi5yZXBlYXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCByZXBlYXQsIGJ1dCByZWNlaXZlZCBgJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICdgJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbm90IGJlIGVtcHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgc2VnbWVudCA9IGVuY29kZSh2YWx1ZVtqXSlcblxuICAgICAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhbGwgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeShzZWdtZW50KSArICdgJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXRoICs9IChqID09PSAwID8gdG9rZW4ucHJlZml4IDogdG9rZW4uZGVsaW1pdGVyKSArIHNlZ21lbnRcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHNlZ21lbnQgPSB0b2tlbi5hc3RlcmlzayA/IGVuY29kZUFzdGVyaXNrKHZhbHVlKSA6IGVuY29kZSh2YWx1ZSlcblxuICAgICAgaWYgKCFtYXRjaGVzW2ldLnRlc3Qoc2VnbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgXCInICsgc2VnbWVudCArICdcIicpXG4gICAgICB9XG5cbiAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4ICsgc2VnbWVudFxuICAgIH1cblxuICAgIHJldHVybiBwYXRoXG4gIH1cbn1cblxuLyoqXG4gKiBFc2NhcGUgYSByZWd1bGFyIGV4cHJlc3Npb24gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyAoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKyo/PV4hOiR7fSgpW1xcXXxcXC9cXFxcXSkvZywgJ1xcXFwkMScpXG59XG5cbi8qKlxuICogRXNjYXBlIHRoZSBjYXB0dXJpbmcgZ3JvdXAgYnkgZXNjYXBpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzIGFuZCBtZWFuaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gZ3JvdXBcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZXNjYXBlR3JvdXAgKGdyb3VwKSB7XG4gIHJldHVybiBncm91cC5yZXBsYWNlKC8oWz0hOiRcXC8oKV0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEF0dGFjaCB0aGUga2V5cyBhcyBhIHByb3BlcnR5IG9mIHRoZSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IVJlZ0V4cH0gcmVcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEtleXMgKHJlLCBrZXlzKSB7XG4gIHJlLmtleXMgPSBrZXlzXG4gIHJldHVybiByZVxufVxuXG4vKipcbiAqIEdldCB0aGUgZmxhZ3MgZm9yIGEgcmVnZXhwIGZyb20gdGhlIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGZsYWdzIChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLnNlbnNpdGl2ZSA/ICcnIDogJ2knXG59XG5cbi8qKlxuICogUHVsbCBvdXQga2V5cyBmcm9tIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHJlZ2V4cFRvUmVnZXhwIChwYXRoLCBrZXlzKSB7XG4gIC8vIFVzZSBhIG5lZ2F0aXZlIGxvb2thaGVhZCB0byBtYXRjaCBvbmx5IGNhcHR1cmluZyBncm91cHMuXG4gIHZhciBncm91cHMgPSBwYXRoLnNvdXJjZS5tYXRjaCgvXFwoKD8hXFw/KS9nKVxuXG4gIGlmIChncm91cHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgbmFtZTogaSxcbiAgICAgICAgcHJlZml4OiBudWxsLFxuICAgICAgICBkZWxpbWl0ZXI6IG51bGwsXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcbiAgICAgICAgcGFydGlhbDogZmFsc2UsXG4gICAgICAgIGFzdGVyaXNrOiBmYWxzZSxcbiAgICAgICAgcGF0dGVybjogbnVsbFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhwYXRoLCBrZXlzKVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhbiBhcnJheSBpbnRvIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gIHBhdGhcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnRzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBwYXJ0cy5wdXNoKHBhdGhUb1JlZ2V4cChwYXRoW2ldLCBrZXlzLCBvcHRpb25zKS5zb3VyY2UpXG4gIH1cblxuICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnKD86JyArIHBhcnRzLmpvaW4oJ3wnKSArICcpJywgZmxhZ3Mob3B0aW9ucykpXG5cbiAgcmV0dXJuIGF0dGFjaEtleXMocmVnZXhwLCBrZXlzKVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIHBhdGggcmVnZXhwIGZyb20gc3RyaW5nIGlucHV0LlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ1RvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb1JlZ0V4cChwYXJzZShwYXRoLCBvcHRpb25zKSwga2V5cywgb3B0aW9ucylcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBmdW5jdGlvbiBmb3IgdGFraW5nIHRva2VucyBhbmQgcmV0dXJuaW5nIGEgUmVnRXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gICAgICAgICAgdG9rZW5zXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19IGtleXNcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9SZWdFeHAgKHRva2Vucywga2V5cywgb3B0aW9ucykge1xuICBpZiAoIWlzYXJyYXkoa2V5cykpIHtcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxuICAgIGtleXMgPSBbXVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICB2YXIgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3RcbiAgdmFyIGVuZCA9IG9wdGlvbnMuZW5kICE9PSBmYWxzZVxuICB2YXIgcm91dGUgPSAnJ1xuXG4gIC8vIEl0ZXJhdGUgb3ZlciB0aGUgdG9rZW5zIGFuZCBjcmVhdGUgb3VyIHJlZ2V4cCBzdHJpbmcuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgcm91dGUgKz0gZXNjYXBlU3RyaW5nKHRva2VuKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJlZml4ID0gZXNjYXBlU3RyaW5nKHRva2VuLnByZWZpeClcbiAgICAgIHZhciBjYXB0dXJlID0gJyg/OicgKyB0b2tlbi5wYXR0ZXJuICsgJyknXG5cbiAgICAgIGtleXMucHVzaCh0b2tlbilcblxuICAgICAgaWYgKHRva2VuLnJlcGVhdCkge1xuICAgICAgICBjYXB0dXJlICs9ICcoPzonICsgcHJlZml4ICsgY2FwdHVyZSArICcpKidcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgIGlmICghdG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgIGNhcHR1cmUgPSAnKD86JyArIHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKSk/J1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyk/J1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpJ1xuICAgICAgfVxuXG4gICAgICByb3V0ZSArPSBjYXB0dXJlXG4gICAgfVxuICB9XG5cbiAgdmFyIGRlbGltaXRlciA9IGVzY2FwZVN0cmluZyhvcHRpb25zLmRlbGltaXRlciB8fCAnLycpXG4gIHZhciBlbmRzV2l0aERlbGltaXRlciA9IHJvdXRlLnNsaWNlKC1kZWxpbWl0ZXIubGVuZ3RoKSA9PT0gZGVsaW1pdGVyXG5cbiAgLy8gSW4gbm9uLXN0cmljdCBtb2RlIHdlIGFsbG93IGEgc2xhc2ggYXQgdGhlIGVuZCBvZiBtYXRjaC4gSWYgdGhlIHBhdGggdG9cbiAgLy8gbWF0Y2ggYWxyZWFkeSBlbmRzIHdpdGggYSBzbGFzaCwgd2UgcmVtb3ZlIGl0IGZvciBjb25zaXN0ZW5jeS4gVGhlIHNsYXNoXG4gIC8vIGlzIHZhbGlkIGF0IHRoZSBlbmQgb2YgYSBwYXRoIG1hdGNoLCBub3QgaW4gdGhlIG1pZGRsZS4gVGhpcyBpcyBpbXBvcnRhbnRcbiAgLy8gaW4gbm9uLWVuZGluZyBtb2RlLCB3aGVyZSBcIi90ZXN0L1wiIHNob3VsZG4ndCBtYXRjaCBcIi90ZXN0Ly9yb3V0ZVwiLlxuICBpZiAoIXN0cmljdCkge1xuICAgIHJvdXRlID0gKGVuZHNXaXRoRGVsaW1pdGVyID8gcm91dGUuc2xpY2UoMCwgLWRlbGltaXRlci5sZW5ndGgpIDogcm91dGUpICsgJyg/OicgKyBkZWxpbWl0ZXIgKyAnKD89JCkpPydcbiAgfVxuXG4gIGlmIChlbmQpIHtcbiAgICByb3V0ZSArPSAnJCdcbiAgfSBlbHNlIHtcbiAgICAvLyBJbiBub24tZW5kaW5nIG1vZGUsIHdlIG5lZWQgdGhlIGNhcHR1cmluZyBncm91cHMgdG8gbWF0Y2ggYXMgbXVjaCBhc1xuICAgIC8vIHBvc3NpYmxlIGJ5IHVzaW5nIGEgcG9zaXRpdmUgbG9va2FoZWFkIHRvIHRoZSBlbmQgb3IgbmV4dCBwYXRoIHNlZ21lbnQuXG4gICAgcm91dGUgKz0gc3RyaWN0ICYmIGVuZHNXaXRoRGVsaW1pdGVyID8gJycgOiAnKD89JyArIGRlbGltaXRlciArICd8JCknXG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhuZXcgUmVnRXhwKCdeJyArIHJvdXRlLCBmbGFncyhvcHRpb25zKSksIGtleXMpXG59XG5cbi8qKlxuICogTm9ybWFsaXplIHRoZSBnaXZlbiBwYXRoIHN0cmluZywgcmV0dXJuaW5nIGEgcmVndWxhciBleHByZXNzaW9uLlxuICpcbiAqIEFuIGVtcHR5IGFycmF5IGNhbiBiZSBwYXNzZWQgaW4gZm9yIHRoZSBrZXlzLCB3aGljaCB3aWxsIGhvbGQgdGhlXG4gKiBwbGFjZWhvbGRlciBrZXkgZGVzY3JpcHRpb25zLiBGb3IgZXhhbXBsZSwgdXNpbmcgYC91c2VyLzppZGAsIGBrZXlzYCB3aWxsXG4gKiBjb250YWluIGBbeyBuYW1lOiAnaWQnLCBkZWxpbWl0ZXI6ICcvJywgb3B0aW9uYWw6IGZhbHNlLCByZXBlYXQ6IGZhbHNlIH1dYC5cbiAqXG4gKiBAcGFyYW0gIHsoc3RyaW5nfFJlZ0V4cHxBcnJheSl9IHBhdGhcbiAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpPX0gICAgICAga2V5c1xuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBwYXRoVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XG4gICAgb3B0aW9ucyA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGtleXMgfHwgb3B0aW9ucylcbiAgICBrZXlzID0gW11cbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgaWYgKHBhdGggaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gcmVnZXhwVG9SZWdleHAocGF0aCwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSlcbiAgfVxuXG4gIGlmIChpc2FycmF5KHBhdGgpKSB7XG4gICAgcmV0dXJuIGFycmF5VG9SZWdleHAoLyoqIEB0eXBlIHshQXJyYXl9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdUb1JlZ2V4cCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3BhdGgtdG8tcmVnZXhwL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc0Fic29sdXRlID0gZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xuICByZXR1cm4gcGF0aG5hbWUuY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKClcbnZhciBzcGxpY2VPbmUgPSBmdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4LCBrID0gaSArIDEsIG4gPSBsaXN0Lmxlbmd0aDsgayA8IG47IGkgKz0gMSwgayArPSAxKSB7XG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIH1saXN0LnBvcCgpO1xufTtcblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBoZWF2aWx5IG9uIG5vZGUncyB1cmwucGFyc2VcbnZhciByZXNvbHZlUGF0aG5hbWUgPSBmdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUodG8pIHtcbiAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IGZyb20gJiYgZnJvbS5zcGxpdCgnLycpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSB2b2lkIDA7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkge1xuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpO1xuICB9aWYgKG11c3RFbmRBYnMgJiYgZnJvbVBhcnRzWzBdICE9PSAnJyAmJiAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKSkgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzb2x2ZVBhdGhuYW1lO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZXNvbHZlLXBhdGhuYW1lL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIHZhbHVlRXF1YWwgPSBmdW5jdGlvbiB2YWx1ZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHJldHVybiBBcnJheS5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHJldHVybiB2YWx1ZUVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgfSk7XG5cbiAgdmFyIGFUeXBlID0gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGEpO1xuICB2YXIgYlR5cGUgPSB0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYik7XG5cbiAgaWYgKGFUeXBlICE9PSBiVHlwZSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChhVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgYVZhbHVlID0gYS52YWx1ZU9mKCk7XG4gICAgdmFyIGJWYWx1ZSA9IGIudmFsdWVPZigpO1xuXG4gICAgaWYgKGFWYWx1ZSAhPT0gYSB8fCBiVmFsdWUgIT09IGIpIHJldHVybiB2YWx1ZUVxdWFsKGFWYWx1ZSwgYlZhbHVlKTtcblxuICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuXG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gYUtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHZhbHVlRXF1YWwoYVtrZXldLCBiW2tleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gdmFsdWVFcXVhbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdmFsdWUtZXF1YWwvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=