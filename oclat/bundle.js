!function(e){function n(e){delete installedChunks[e]}function t(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.charset="utf-8",t.src=h.p+""+e+"."+w+".hot-update.js",n.appendChild(t)}function r(){return new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var t=new XMLHttpRequest,r=h.p+""+w+".hot-update.json";t.open("GET",r,!0),t.timeout=1e4,t.send(null)}catch(e){return n(e)}t.onreadystatechange=function(){if(4===t.readyState)if(0===t.status)n(new Error("Manifest request to "+r+" timed out."));else if(404===t.status)e();else if(200!==t.status&&304!==t.status)n(new Error("Manifest request to "+r+" failed."));else{try{var o=JSON.parse(t.responseText)}catch(e){return void n(e)}e(o)}}})}function o(e){var n=U[e];if(!n)return h;var t=function(t){return n.hot.active?(U[t]?U[t].parents.indexOf(e)<0&&U[t].parents.push(e):(y=[e],v=t),n.children.indexOf(t)<0&&n.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),y=[]),h(t)};for(var r in h)Object.prototype.hasOwnProperty.call(h,r)&&"e"!==r&&Object.defineProperty(t,r,function(e){return{configurable:!0,enumerable:!0,get:function(){return h[e]},set:function(n){h[e]=n}}}(r));return t.e=function(e){function n(){z--,"prepare"===O&&(C[e]||u(e),0===z&&0===_&&c())}return"ready"===O&&i("prepare"),z++,h.e(e).then(n,function(e){throw n(),e})},t}function a(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:v!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:d,apply:p,status:function(e){if(!e)return O;V.push(e)},addStatusHandler:function(e){V.push(e)},removeStatusHandler:function(e){var n=V.indexOf(e);n>=0&&V.splice(n,1)},data:N[e]};return v=void 0,n}function i(e){O=e;for(var n=0;n<V.length;n++)V[n].call(null,e)}function l(e){return+e+""===e?+e:e}function d(e){if("idle"!==O)throw new Error("check() is only allowed in idle status");return k=e,i("check"),r().then(function(e){if(!e)return i("idle"),null;x={},C={},E=e.c,b=e.h,i("prepare");var n=new Promise(function(e,n){g={resolve:e,reject:n}});m={};return u(0),"prepare"===O&&0===z&&0===_&&c(),n})}function s(e,n){if(E[e]&&x[e]){x[e]=!1;for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(m[t]=n[t]);0==--_&&0===z&&c()}}function u(e){E[e]?(x[e]=!0,_++,t(e)):C[e]=!0}function c(){i("ready");var e=g;if(g=null,e)if(k)p(k).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&n.push(l(t));e.resolve(n)}}function p(t){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];e.indexOf(r)<0&&e.push(r)}}if("ready"!==O)throw new Error("apply() is only allowed in ready status");t=t||{};var o,a,d,s,u,c={},p=[],f={},v=function(){console.warn("[HMR] unexpected require("+k.moduleId+") to disposed module")};for(var g in m)if(Object.prototype.hasOwnProperty.call(m,g)){u=l(g);var k;k=m[g]?function(e){for(var n=[e],t={},o=n.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var a=o.pop(),i=a.id,l=a.chain;if((s=U[i])&&!s.hot._selfAccepted){if(s.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:l,moduleId:i};for(var d=0;d<s.parents.length;d++){var u=s.parents[d],c=U[u];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:l.concat([u]),moduleId:i,parentId:u};n.indexOf(u)>=0||(c.hot._acceptedDependencies[i]?(t[u]||(t[u]=[]),r(t[u],[i])):(delete t[u],n.push(u),o.push({chain:l.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}(u):{type:"disposed",moduleId:g};var j=!1,V=!1,_=!1,z="";switch(k.chain&&(z="\nUpdate propagation: "+k.chain.join(" -> ")),k.type){case"self-declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(j=new Error("Aborted because of self decline: "+k.moduleId+z));break;case"declined":t.onDeclined&&t.onDeclined(k),t.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+k.moduleId+" in "+k.parentId+z));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(k),t.ignoreUnaccepted||(j=new Error("Aborted because "+u+" is not accepted"+z));break;case"accepted":t.onAccepted&&t.onAccepted(k),V=!0;break;case"disposed":t.onDisposed&&t.onDisposed(k),_=!0;break;default:throw new Error("Unexception type "+k.type)}if(j)return i("abort"),Promise.reject(j);if(V){f[u]=m[u],r(p,k.outdatedModules);for(u in k.outdatedDependencies)Object.prototype.hasOwnProperty.call(k.outdatedDependencies,u)&&(c[u]||(c[u]=[]),r(c[u],k.outdatedDependencies[u]))}_&&(r(p,[k.moduleId]),f[u]=v)}var C=[];for(a=0;a<p.length;a++)u=p[a],U[u]&&U[u].hot._selfAccepted&&C.push({module:u,errorHandler:U[u].hot._selfAccepted});i("dispose"),Object.keys(E).forEach(function(e){!1===E[e]&&n(e)});for(var x,P=p.slice();P.length>0;)if(u=P.pop(),s=U[u]){var R={},M=s.hot._disposeHandlers;for(d=0;d<M.length;d++)(o=M[d])(R);for(N[u]=R,s.hot.active=!1,delete U[u],d=0;d<s.children.length;d++){var S=U[s.children[d]];S&&((x=S.parents.indexOf(u))>=0&&S.parents.splice(x,1))}}var D,A;for(u in c)if(Object.prototype.hasOwnProperty.call(c,u)&&(s=U[u]))for(A=c[u],d=0;d<A.length;d++)D=A[d],(x=s.children.indexOf(D))>=0&&s.children.splice(x,1);i("apply"),w=b;for(u in f)Object.prototype.hasOwnProperty.call(f,u)&&(e[u]=f[u]);var T=null;for(u in c)if(Object.prototype.hasOwnProperty.call(c,u)){s=U[u],A=c[u];var I=[];for(a=0;a<A.length;a++)D=A[a],o=s.hot._acceptedDependencies[D],I.indexOf(o)>=0||I.push(o);for(a=0;a<I.length;a++){o=I[a];try{o(A)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:A[a],error:e}),t.ignoreErrored||T||(T=e)}}}for(a=0;a<C.length;a++){var H=C[a];u=H.module,y=[u];try{h(u)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,orginalError:e}),t.ignoreErrored||T||(T=n),T||(T=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||T||(T=e)}}return T?(i("fail"),Promise.reject(T)):(i("idle"),Promise.resolve(p))}function h(n){if(U[n])return U[n].exports;var t=U[n]={i:n,l:!1,exports:{},hot:a(n),parents:(j=y,y=[],j),children:[]};return e[n].call(t.exports,t,t.exports,o(n)),t.l=!0,t.exports}var f=this.webpackHotUpdate;this.webpackHotUpdate=function(e,n){s(e,n),f&&f(e,n)};var v,g,m,b,k=!0,w="f46f4078d1c540e9c0c4",N={},y=[],j=[],V=[],O="idle",_=0,z=0,C={},x={},E={},U={};h.m=e,h.c=U,h.i=function(e){return e},h.d=function(e,n,t){h.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},h.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return h.d(n,"a",n),n},h.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},h.p="/oclat/",h.h=function(){return w},o(31)(h.s=31)}([function(e,n,t){e.exports=t(43),e.exports.default=e.exports},function(e,n,t){e.exports=t(50).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,t,r,o,a,i){b.isUndefined(o)&&(o=n.EMPTY_OBJ);var l=new t(r,o);e.children=l,l._blockSetState=!1,l.context=o,l.props===n.EMPTY_OBJ&&(l.props=r),l._lifecycle=i,l._unmounted=!1,l._pendingSetState=!0,l._isSVG=a,b.isUndefined(l.componentWillMount)||(l._blockRender=!0,l.componentWillMount(),l._blockRender=!1);var d;b.isUndefined(l.getChildContext)||(d=l.getChildContext()),b.isNullOrUndef(d)?l._childContext=o:l._childContext=b.combineFrom(o,d),b.isNull(k.options.beforeRender)||k.options.beforeRender(l);var s=l.render(r,l.state,o);return b.isNull(k.options.afterRender)||k.options.afterRender(l),b.isArray(s)?b.throwError():b.isInvalid(s)?s=w.createVoidVNode():b.isStringOrNumber(s)?s=w.createTextVNode(s,null):(s.dom&&(s=w.directClone(s)),28&s.flags&&(s.parentVNode=e)),l._pendingSetState=!1,l._lastInput=s,l}function o(e,n,t,r,o,i,l){a(t,y.mount(n,null,r,o,i),e,r,l)}function a(e,n,t,r,o){j.unmount(t,null,r,!1,o),h(e,n,t.dom)}function i(e,n,t,r){var o=n(t,r);return b.isArray(o)?b.throwError():b.isInvalid(o)?o=w.createVoidVNode():b.isStringOrNumber(o)?o=w.createTextVNode(o,null):(o.dom&&(o=w.directClone(o)),28&o.flags&&(o.parentVNode=e)),o}function l(e,n){""!==n?e.textContent=n:e.appendChild(document.createTextNode(""))}function d(e,n){e.firstChild.nodeValue=n}function s(e,n){e.appendChild(n)}function u(e,n,t){b.isNullOrUndef(t)?s(e,n):e.insertBefore(n,t)}function c(e,n){return!0===n?document.createElementNS(N.svgNS,e):document.createElement(e)}function p(e,n,t,r,o,a,i){j.unmount(e,null,r,!1,i);var l=y.mount(n,null,r,o,a);n.dom=l,h(t,l,e.dom)}function h(e,n,t){e||(e=t.parentNode),e.replaceChild(n,t)}function f(e,n){e.removeChild(n)}function v(e,n,t,r){e.textContent="",(!k.options.recyclingEnabled||k.options.recyclingEnabled&&!r)&&g(null,n,t,r)}function g(e,n,t,r){for(var o=0,a=n.length;o<a;o++){var i=n[o];b.isInvalid(i)||j.unmount(i,e,t,!0,r)}}function m(e,n){return n.length>0&&!b.isNullOrUndef(n[0])&&!b.isNullOrUndef(n[0].key)&&e.length>0&&!b.isNullOrUndef(e[0])&&!b.isNullOrUndef(e[0].key)}Object.defineProperty(n,"__esModule",{value:!0});var b=t(0),k=t(3),w=t(4),N=t(8),y=t(9),j=t(11);n.EMPTY_OBJ={},n.createClassComponentInstance=r,n.replaceLastChildAndUnmount=o,n.replaceVNode=a,n.createFunctionalComponentInput=i,n.setTextContent=l,n.updateTextContent=d,n.appendChild=s,n.insertOrAppend=u,n.documentCreateElement=c,n.replaceWithNewNode=p,n.replaceChild=h,n.removeChild=f,n.removeAllChildren=v,n.removeChildren=g,n.isKeyed=m},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.options={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,findDOMNodeEnabled:!1,recyclingEnabled:!1,roots:[]}},function(e,n,t){"use strict";function r(e,n,t,r,o,a,i){this.children=e,this.className=n,this.dom=null,this.flags=t,this.key=r,this.props=o,this.ref=a,this.type=i}function o(e,n,t,o,a,i,l,d){16&e&&(e=u.isStatefulComponent(n)?4:8);var s=new r(void 0===o?null:o,void 0===t?null:t,e,void 0===i?null:i,void 0===a?null:a,void 0===l?null:l,n);return!0!==d&&p.normalize(s),null!==h.options.createVNode&&h.options.createVNode(s),s}function a(e){var n,t=e.flags;if(28&t){var r=void 0,i=e.props;if(u.isNull(i))r=c.EMPTY_OBJ;else{r={};for(var l in i)r[l]=i[l]}n=o(t,e.type,null,null,r,e.key,e.ref,!0);var p=n.props,h=p.children;if(h)if(u.isArray(h)){var f=h.length;if(f>0){for(var v=[],g=0;g<f;g++){var m=h[g];u.isStringOrNumber(m)?v.push(m):!u.isInvalid(m)&&s(m)&&v.push(a(m))}p.children=v}}else s(h)&&(p.children=a(h));n.children=null}else if(3970&t){var b=e.children,r=void 0,i=e.props;if(null===i)r=c.EMPTY_OBJ;else{r={};for(var l in i)r[l]=i[l]}n=o(t,e.type,e.className,b,r,e.key,e.ref,!b)}else 1&t&&(n=d(e.children,e.key));return n}function i(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=t,l=t.length;l>0&&!u.isUndefined(t[0])&&(n||(n={}),1===l&&(i=t[0]),u.isUndefined(i)||(n.children=i));var p;if(u.isArray(e)){for(var h=[],f=0,v=e.length;f<v;f++)h.push(a(e[f]));p=h}else{var g=e.flags,m=e.className||n&&n.className,b=u.isNullOrUndef(e.key)?n?n.key:null:e.key,k=e.ref||(n?n.ref:null);if(28&g){p=o(g,e.type,m,null,e.props||n?u.combineFrom(e.props,n):c.EMPTY_OBJ,b,k,!0);var w=p.props;if(w){var N=w.children;if(N)if(u.isArray(N)){var v=N.length;if(v>0){for(var h=[],f=0;f<v;f++){var y=N[f];u.isStringOrNumber(y)?h.push(y):!u.isInvalid(y)&&s(y)&&h.push(a(y))}w.children=h}}else s(N)&&(w.children=a(N))}p.children=null}else 3970&g?(i=n&&!u.isUndefined(n.children)?n.children:e.children,p=o(g,e.type,m,i,e.props||n?u.combineFrom(e.props,n):c.EMPTY_OBJ,b,k,!i)):1&g&&(p=d(e.children,b))}return p}function l(){return o(4096,null)}function d(e,n){return o(1,null,null,e,null,n)}function s(e){return!!e.flags}Object.defineProperty(n,"__esModule",{value:!0});var u=t(0),c=t(2),p=t(20),h=t(3);n.createVNode=o,n.directClone=a,n.cloneVNode=i,n.createVoidVNode=l,n.createTextVNode=d,n.isVNode=s},function(e,n,t){"use strict";function r(e,n,t,r,o,i,u){if(e!==n){var c=e.flags,p=n.flags;28&p?28&c?l(e,n,t,r,o,i,4&p,u):_.replaceVNode(t,j.mountComponent(n,null,r,o,i,(4&p)>0),e,r,u):3970&p?3970&c?a(e,n,t,r,o,i,u):_.replaceVNode(t,j.mountElement(n,null,r,o,i),e,r,u):1&p?1&c?d(e,n):_.replaceVNode(t,j.mountText(n,null),e,r,u):4096&p?4096&c?s(e,n):_.replaceVNode(t,j.mountVoid(n,null),e,r,u):_.replaceLastChildAndUnmount(e,n,t,r,o,i,u)}}function o(e,n,t,r){w.isVNode(e)?O.unmount(e,n,t,!0,r):b.isArray(e)?_.removeAllChildren(n,e,t,r):n.textContent=""}function a(e,n,t,r,o,a,l){var d=n.type;if(e.type!==d)_.replaceWithNewNode(e,n,t,r,o,a,l);else{var s=e.dom,u=e.props,c=n.props,p=e.children,h=n.children,v=e.flags,g=n.flags,k=n.ref,w=e.className,N=n.className;if(n.dom=s,a=a||(128&g)>0,p!==h&&i(v,g,p,h,s,r,o,a,l),u!==c){var y=u||_.EMPTY_OBJ,V=c||_.EMPTY_OBJ,O=!1;if(V!==_.EMPTY_OBJ){var C=(3584&g)>0;C&&(O=z.isControlledFormElement(V));for(var x in V){var E=V[x];f(x,y[x],E,s,a,O)}C&&z.processElement(g,n,s,V,!1,O)}if(y!==_.EMPTY_OBJ)for(var x in y)b.isNullOrUndef(V[x])&&m(x,y[x],s)}w!==N&&(b.isNullOrUndef(N)?s.removeAttribute("class"):a?s.setAttribute("class",N):s.className=N),k&&(e.ref!==k||l)&&j.mountRef(s,k,r)}}function i(e,n,t,a,i,l,d,s,p){var h=!1,f=!1;64&n?h=!0:(32&e)>0&&(32&n)>0?(f=!0,h=!0):b.isInvalid(a)?o(t,i,l,p):b.isInvalid(t)?b.isStringOrNumber(a)?_.setTextContent(i,a):b.isArray(a)?j.mountArrayChildren(a,i,l,d,s):j.mount(a,i,l,d,s):b.isStringOrNumber(a)?b.isStringOrNumber(t)?_.updateTextContent(i,a):(o(t,i,l,p),_.setTextContent(i,a)):b.isArray(a)?b.isArray(t)?(h=!0,_.isKeyed(t,a)&&(f=!0)):(o(t,i,l,p),j.mountArrayChildren(a,i,l,d,s)):b.isArray(t)?(_.removeAllChildren(i,t,l,p),j.mount(a,i,l,d,s)):w.isVNode(a)&&(w.isVNode(t)?r(t,a,i,l,d,s,p):(o(t,i,l,p),j.mount(a,i,l,d,s))),h&&(f?c(t,a,i,l,d,s,p):u(t,a,i,l,d,s,p))}function l(e,n,t,o,a,i,l,d){var s=e.type,u=n.type,c=e.key,p=n.key;if(s!==u||c!==p)return _.replaceWithNewNode(e,n,t,o,a,i,d),!1;var h=n.props||_.EMPTY_OBJ;if(l){var f=e.children;if(f._updating=!0,f._unmounted){if(b.isNull(t))return!0;_.replaceChild(t,j.mountComponent(n,null,o,a,i,(4&n.flags)>0),e.dom)}else{var v=!b.isUndefined(f.componentDidUpdate),g=f.state,m=v?b.combineFrom(g,null):g,N=f.props,y=void 0;b.isUndefined(f.getChildContext)||(y=f.getChildContext()),n.children=f,f._isSVG=i,y=b.isNullOrUndef(y)?a:b.combineFrom(a,y);var O=f._lastInput,z=f._updateComponent(m,g,N,h,a,!1,!1),C=!0;f._childContext=y,b.isInvalid(z)?z=w.createVoidVNode():z===b.NO_OP?(z=O,C=!1):b.isStringOrNumber(z)?z=w.createTextVNode(z,null):b.isArray(z)?b.throwError():b.isObject(z)&&(b.isNull(z.dom)||(z=w.directClone(z))),28&z.flags?z.parentVNode=n:28&O.flags&&(O.parentVNode=n),f._lastInput=z,f._vNode=n,C&&(r(O,z,t,o,y,i,d),v&&f.componentDidUpdate(N,m),b.isNull(k.options.afterUpdate)||k.options.afterUpdate(n),k.options.findDOMNodeEnabled&&V.componentToDOMNodeMap.set(f,z.dom)),n.dom=z.dom}f._updating=!1}else{var x=!0,N=e.props,E=n.ref,U=!b.isNullOrUndef(E),O=e.children,z=O;n.dom=e.dom,n.children=O,c!==p?x=!0:U&&!b.isNullOrUndef(E.onComponentShouldUpdate)&&(x=E.onComponentShouldUpdate(N,h)),!1!==x&&(U&&!b.isNullOrUndef(E.onComponentWillUpdate)&&E.onComponentWillUpdate(N,h),z=u(h,a),b.isInvalid(z)?z=w.createVoidVNode():b.isStringOrNumber(z)&&z!==b.NO_OP?z=w.createTextVNode(z,null):b.isArray(z)?b.throwError():b.isObject(z)&&(b.isNull(z.dom)||(z=w.directClone(z))),z!==b.NO_OP&&(r(O,z,t,o,a,i,d),n.children=z,U&&!b.isNullOrUndef(E.onComponentDidUpdate)&&E.onComponentDidUpdate(N,h),n.dom=z.dom)),28&z.flags?z.parentVNode=n:28&O.flags&&(O.parentVNode=n)}return!1}function d(e,n){var t=n.children,r=e.dom;n.dom=r,e.children!==t&&(r.nodeValue=t)}function s(e,n){n.dom=e.dom}function u(e,n,t,o,a,i,l){for(var d=e.length,s=n.length,u=d>s?s:d,c=0;c<u;c++){var p=n[c];p.dom&&(p=n[c]=w.directClone(p)),r(e[c],p,t,o,a,i,l)}if(d<s)for(c=u;c<s;c++){var p=n[c];p.dom&&(p=n[c]=w.directClone(p)),_.appendChild(t,j.mount(p,null,o,a,i))}else if(0===s)_.removeAllChildren(t,e,o,l);else if(d>s)for(c=u;c<d;c++)O.unmount(e[c],t,o,!1,l)}function c(e,n,t,o,a,i,l){var d,s,u,c,h,f,v,g=e.length,m=n.length,k=g-1,N=m-1,y=0,V=0;if(0===g)return void(m>0&&j.mountArrayChildren(n,t,o,a,i));if(0===m)return void _.removeAllChildren(t,e,o,l);var z=e[y],C=n[V],x=e[k],E=n[N];C.dom&&(n[V]=C=w.directClone(C)),E.dom&&(n[N]=E=w.directClone(E));e:for(;;){for(;z.key===C.key;){if(r(z,C,t,o,a,i,l),y++,V++,y>k||V>N)break e;z=e[y],C=n[V],C.dom&&(n[V]=C=w.directClone(C))}for(;x.key===E.key;){if(r(x,E,t,o,a,i,l),k--,N--,y>k||V>N)break e;x=e[k],E=n[N],E.dom&&(n[N]=E=w.directClone(E))}if(x.key!==C.key){if(z.key!==E.key)break;r(z,E,t,o,a,i,l),f=N+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,E.dom,h),y++,N--,z=e[y],E=n[N],E.dom&&(n[N]=E=w.directClone(E))}else r(x,C,t,o,a,i,l),_.insertOrAppend(t,C.dom,z.dom),k--,V++,x=e[k],C=n[V],C.dom&&(n[V]=C=w.directClone(C))}if(y>k){if(V<=N)for(f=N+1,h=f<n.length?n[f].dom:null;V<=N;)v=n[V],v.dom&&(n[V]=v=w.directClone(v)),V++,_.insertOrAppend(t,j.mount(v,null,o,a,i),h)}else if(V>N)for(;y<=k;)O.unmount(e[y++],t,o,!1,l);else{g=k-y+1,m=N-V+1;var U=new Array(m);for(d=0;d<m;d++)U[d]=-1;var P=!1,R=0,M=0;if(m<=4||g*m<=16){for(d=y;d<=k;d++)if(u=e[d],M<m)for(s=V;s<=N;s++)if(c=n[s],u.key===c.key){U[s-V]=d,R>s?P=!0:R=s,c.dom&&(n[s]=c=w.directClone(c)),r(u,c,t,o,a,i,l),M++,e[d]=null;break}}else{var S=new Map;for(d=V;d<=N;d++)S.set(n[d].key,d);for(d=y;d<=k;d++)u=e[d],M<m&&(s=S.get(u.key),b.isUndefined(s)||(c=n[s],U[s-V]=d,R>s?P=!0:R=s,c.dom&&(n[s]=c=w.directClone(c)),r(u,c,t,o,a,i,l),M++,e[d]=null))}if(g===e.length&&0===M)for(_.removeAllChildren(t,e,o,l);V<m;)v=n[V],v.dom&&(n[V]=v=w.directClone(v)),V++,_.insertOrAppend(t,j.mount(v,null,o,a,i),null);else{for(d=g-M;d>0;)u=e[y++],b.isNull(u)||(O.unmount(u,t,o,!0,l),d--);if(P){var D=p(U);for(s=D.length-1,d=m-1;d>=0;d--)-1===U[d]?(R=d+V,v=n[R],v.dom&&(n[R]=v=w.directClone(v)),f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,j.mount(v,t,o,a,i),h)):s<0||d!==D[s]?(R=d+V,v=n[R],f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,v.dom,h)):s--}else if(M!==m)for(d=m-1;d>=0;d--)-1===U[d]&&(R=d+V,v=n[R],v.dom&&(n[R]=v=w.directClone(v)),f=R+1,h=f<n.length?n[f].dom:null,_.insertOrAppend(t,j.mount(v,null,o,a,i),h))}}}function p(e){var n,t,r,o,a,i=e.slice(0),l=[0],d=e.length;for(n=0;n<d;n++){var s=e[n];if(-1!==s)if(t=l[l.length-1],e[t]<s)i[n]=t,l.push(n);else{for(r=0,o=l.length-1;r<o;)a=(r+o)/2|0,e[l[a]]<s?r=a+1:o=a;s<e[l[r]]&&(r>0&&(i[n]=l[r-1]),l[r]=n)}}for(r=l.length,o=l[r-1];r-- >0;)l[r]=o,o=i[o];return l}function h(e){return"o"===e[0]&&"n"===e[1]}function f(e,n,t,r,o,a){if(n!==t){if(N.skipProps.has(e)||a&&"value"===e)return;if(N.booleanProps.has(e))e="autoFocus"===e?e.toLowerCase():e,r[e]=!!t;else if(N.strictProps.has(e)){var i=b.isNullOrUndef(t)?"":t;r[e]!==i&&(r[e]=i)}else if(h(e))v(e,n,t,r);else if(b.isNullOrUndef(t))r.removeAttribute(e);else if("style"===e)g(n,t,r);else if("dangerouslySetInnerHTML"===e){var l=n&&n.__html,d=t&&t.__html;l!==d&&(b.isNullOrUndef(d)||(r.innerHTML=d))}else o&&N.namespaces.has(e)?r.setAttributeNS(N.namespaces.get(e),e,t):r.setAttribute(e,t)}}function v(e,n,t,r){if(n!==t)if(N.delegatedEvents.has(e))y.handleEvent(e,n,t,r);else{var o=e.toLowerCase(),a=r[o];if(a&&a.wrapped)return;if(b.isFunction(t)||b.isNullOrUndef(t))r[o]=t;else{var i=t.event;i&&b.isFunction(i)?r[o]=function(e){i(t.data,e)}:b.throwError()}}}function g(e,n,t){var r=t.style;if(b.isString(n))return void(r.cssText=n);for(var o in n){var a=n[o];!b.isNumber(a)||N.isUnitlessNumber.has(o)?r[o]=a:r[o]=a+"px"}if(!b.isNullOrUndef(e))for(var o in e)b.isNullOrUndef(n[o])&&(r[o]="")}function m(e,n,t){"value"===e?t.value="":"style"===e?t.removeAttribute("style"):h(e)?y.handleEvent(e,n,null,t):t.removeAttribute(e)}Object.defineProperty(n,"__esModule",{value:!0});var b=t(0),k=t(3),w=t(4),N=t(8),y=t(44),j=t(9),V=t(6),O=t(11),_=t(2),z=t(12);n.patch=r,n.patchElement=a,n.patchComponent=l,n.patchText=d,n.patchVoid=s,n.patchNonKeyedChildren=u,n.patchKeyedChildren=c,n.isAttrAnEvent=h,n.patchProp=f,n.patchEvent=v,n.patchStyle=g},function(e,n,t){"use strict";function r(e){u.options.findDOMNodeEnabled||s.throwError();var t=e&&e.nodeType?e:null;return n.componentToDOMNodeMap.get(e)||t}function o(e){for(var n=0,t=m.length;n<t;n++){var r=m[n];if(r.dom===e)return r}return null}function a(e,n,t){var r={dom:e,input:n,lifecycle:t};return m.push(r),r}function i(e){for(var n=0,t=m.length;n<t;n++)if(m[n]===e)return void m.splice(n,1)}function l(e,n){if(b===n&&s.throwError(),e!==s.NO_OP){var t=o(n);if(s.isNull(t)){var r=new s.Lifecycle;s.isInvalid(e)||(e.dom&&(e=c.directClone(e)),p.hydrateRoot(e,n,r)||h.mount(e,n,r,g.EMPTY_OBJ,!1),t=a(n,e,r),r.trigger())}else{var r=t.lifecycle;r.listeners=[],s.isNullOrUndef(e)?(v.unmount(t.input,n,r,!1,!1),i(t)):(e.dom&&(e=c.directClone(e)),f.patch(t.input,e,n,r,g.EMPTY_OBJ,!1,!1)),t.input=e,r.trigger()}if(t){var l=t.input;if(l&&28&l.flags)return l.children}}}function d(e){return function(n,t){e||(e=n),l(t,e)}}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(3),c=t(4),p=t(46),h=t(9),f=t(5),v=t(11),g=t(2);n.componentToDOMNodeMap=new Map;var m=u.options.roots;n.findDOMNode=r;var b=s.isBrowser?document.body:null;n.render=l,n.createRenderer=d},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(10),a=t(14),i=t(0),l=t(18),d=Promise.resolve(),s=function(e){function n(n,t){var r=e.call(this,n,t)||this;return r._onComponentResolved=function(e,n){r.setState({asyncComponent:n})},r.state={asyncComponent:null},r}return r(n,e),n.prototype.componentWillMount=function(){var e=this,n=this.props.onEnter,t=this.context.router;n&&d.then(function(){n({props:e.props,router:t})});var r=this.props.getComponent;r&&d.then(function(){r({props:e.props,router:t},e._onComponentResolved)})},n.prototype.onLeave=function(e){void 0===e&&(e=!1);var n=this.props.onLeave,t=this.context.router;n&&e&&n({props:this.props,router:t})},n.prototype.onEnter=function(e){var n=e.onEnter,t=this.context.router;this.props.path!==e.path&&n&&n({props:e,router:t})},n.prototype.getComponent=function(e){var n=e.getComponent,t=this.context.router;this.props.path!==e.path&&n&&n({props:e,router:t},this._onComponentResolved)},n.prototype.componentWillUnmount=function(){this.onLeave(!0)},n.prototype.componentWillReceiveProps=function(e){this.getComponent(e),this.onEnter(e),this.onLeave(this.props.path!==e.path)},n.prototype.render=function(e){var n=e.component,t=e.children,r=l.rest(e,["component","children","path","getComponent"]),o=this.state.asyncComponent,d=n||o;return d?a.default(d,r,t):i.isArray(t)?null:t},n}(o.default);n.default=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.xlinkNS="http://www.w3.org/1999/xlink",n.xmlNS="http://www.w3.org/XML/1998/namespace",n.svgNS="http://www.w3.org/2000/svg",n.strictProps=new Set,n.strictProps.add("volume"),n.strictProps.add("defaultChecked"),n.booleanProps=new Set,n.booleanProps.add("muted"),n.booleanProps.add("scoped"),n.booleanProps.add("loop"),n.booleanProps.add("open"),n.booleanProps.add("checked"),n.booleanProps.add("default"),n.booleanProps.add("capture"),n.booleanProps.add("disabled"),n.booleanProps.add("readOnly"),n.booleanProps.add("required"),n.booleanProps.add("autoplay"),n.booleanProps.add("controls"),n.booleanProps.add("seamless"),n.booleanProps.add("reversed"),n.booleanProps.add("allowfullscreen"),n.booleanProps.add("novalidate"),n.booleanProps.add("hidden"),n.booleanProps.add("autoFocus"),n.booleanProps.add("selected"),n.namespaces=new Map,n.namespaces.set("xlink:href",n.xlinkNS),n.namespaces.set("xlink:arcrole",n.xlinkNS),n.namespaces.set("xlink:actuate",n.xlinkNS),n.namespaces.set("xlink:show",n.xlinkNS),n.namespaces.set("xlink:role",n.xlinkNS),n.namespaces.set("xlink:title",n.xlinkNS),n.namespaces.set("xlink:type",n.xlinkNS),n.namespaces.set("xml:base",n.xmlNS),n.namespaces.set("xml:lang",n.xmlNS),n.namespaces.set("xml:space",n.xmlNS),n.isUnitlessNumber=new Set,n.isUnitlessNumber.add("animationIterationCount"),n.isUnitlessNumber.add("borderImageOutset"),n.isUnitlessNumber.add("borderImageSlice"),n.isUnitlessNumber.add("borderImageWidth"),n.isUnitlessNumber.add("boxFlex"),n.isUnitlessNumber.add("boxFlexGroup"),n.isUnitlessNumber.add("boxOrdinalGroup"),n.isUnitlessNumber.add("columnCount"),n.isUnitlessNumber.add("flex"),n.isUnitlessNumber.add("flexGrow"),n.isUnitlessNumber.add("flexPositive"),n.isUnitlessNumber.add("flexShrink"),n.isUnitlessNumber.add("flexNegative"),n.isUnitlessNumber.add("flexOrder"),n.isUnitlessNumber.add("gridRow"),n.isUnitlessNumber.add("gridColumn"),n.isUnitlessNumber.add("fontWeight"),n.isUnitlessNumber.add("lineClamp"),n.isUnitlessNumber.add("lineHeight"),n.isUnitlessNumber.add("opacity"),n.isUnitlessNumber.add("order"),n.isUnitlessNumber.add("orphans"),n.isUnitlessNumber.add("tabSize"),n.isUnitlessNumber.add("widows"),n.isUnitlessNumber.add("zIndex"),n.isUnitlessNumber.add("zoom"),n.isUnitlessNumber.add("fillOpacity"),n.isUnitlessNumber.add("floodOpacity"),n.isUnitlessNumber.add("stopOpacity"),n.isUnitlessNumber.add("strokeDasharray"),n.isUnitlessNumber.add("strokeDashoffset"),n.isUnitlessNumber.add("strokeMiterlimit"),n.isUnitlessNumber.add("strokeOpacity"),n.isUnitlessNumber.add("strokeWidth"),n.skipProps=new Set,n.skipProps.add("children"),n.skipProps.add("childrenType"),n.skipProps.add("defaultValue"),n.skipProps.add("ref"),n.skipProps.add("key"),n.skipProps.add("checked"),n.skipProps.add("multiple"),n.delegatedEvents=new Set,n.delegatedEvents.add("onClick"),n.delegatedEvents.add("onMouseDown"),n.delegatedEvents.add("onMouseUp"),n.delegatedEvents.add("onMouseMove"),n.delegatedEvents.add("onSubmit"),n.delegatedEvents.add("onDblClick"),n.delegatedEvents.add("onKeyDown"),n.delegatedEvents.add("onKeyUp"),n.delegatedEvents.add("onKeyPress")},function(e,n,t){"use strict";function r(e,n,t,r,l){var s=e.flags;return 3970&s?i(e,n,t,r,l):28&s?d(e,n,t,r,l,(4&s)>0):4096&s?a(e,n):1&s?o(e,n):void p.throwError()}function o(e,n){var t=document.createTextNode(e.children);return e.dom=t,p.isNull(n)||b.appendChild(n,t),t}function a(e,n){var t=document.createTextNode("");return e.dom=t,p.isNull(n)||b.appendChild(n,t),t}function i(e,n,t,o,a){if(h.options.recyclingEnabled){var i=g.recycleElement(e,t,o,a);if(!p.isNull(i))return p.isNull(n)||b.appendChild(n,i),i}var d=e.flags;a=a||(128&d)>0;var s=b.documentCreateElement(e.type,a),u=e.children,m=e.props,w=e.className,N=e.ref;if(e.dom=s,p.isInvalid(u)||(p.isStringOrNumber(u)?b.setTextContent(s,u):p.isArray(u)?l(u,s,t,o,a):f.isVNode(u)&&r(u,s,t,o,a)),!p.isNull(m)){var y=!1,j=(3584&d)>0;j&&(y=k.isControlledFormElement(m));for(var V in m)v.patchProp(V,null,m[V],s,a,y);j&&k.processElement(d,e,s,m,!0,y)}return null!==w&&(a?s.setAttribute("class",w):s.className=w),p.isNull(N)||c(s,N,t),p.isNull(n)||b.appendChild(n,s),s}function l(e,n,t,o,a){for(var i=0,l=e.length;i<l;i++){var d=e[i];p.isInvalid(d)||(d.dom&&(e[i]=d=f.directClone(d)),r(e[i],n,t,o,a))}}function d(e,n,t,o,a,i){if(h.options.recyclingEnabled){var l=g.recycleComponent(e,t,o,a);if(!p.isNull(l))return p.isNull(n)||b.appendChild(n,l),l}var d,c=e.type,f=e.props||b.EMPTY_OBJ,v=e.ref;if(i){var k=b.createClassComponentInstance(e,c,f,o,a,t),w=k._lastInput;k._vNode=e,e.dom=d=r(w,null,t,k._childContext,a),p.isNull(n)||b.appendChild(n,d),s(e,v,k,t),k._updating=!1,h.options.findDOMNodeEnabled&&m.componentToDOMNodeMap.set(k,d)}else{var w=b.createFunctionalComponentInput(e,c,f,o);e.dom=d=r(w,null,t,o,a),e.children=w,u(v,d,t),p.isNull(n)||b.appendChild(n,d)}return d}function s(e,n,t,r){n&&(p.isFunction(n)?n(t):p.throwError());var o=!p.isUndefined(t.componentDidMount),a=h.options.afterMount;!o&&p.isNull(a)||r.addListener(function(){t._updating=!0,a&&a(e),o&&t.componentDidMount(),t._updating=!1})}function u(e,n,t){e&&(p.isNullOrUndef(e.onComponentWillMount)||e.onComponentWillMount(),p.isNullOrUndef(e.onComponentDidMount)||t.addListener(function(){return e.onComponentDidMount(n)}))}function c(e,n,t){if(p.isFunction(n))t.addListener(function(){return n(e)});else{if(p.isInvalid(n))return;p.throwError()}}Object.defineProperty(n,"__esModule",{value:!0});var p=t(0),h=t(3),f=t(4),v=t(5),g=t(19),m=t(6),b=t(2),k=t(12);n.mount=r,n.mountText=o,n.mountVoid=a,n.mountElement=i,n.mountArrayChildren=l,n.mountComponent=d,n.mountClassComponentCallbacks=s,n.mountFunctionalComponentCallbacks=u,n.mountRef=c},function(e,n,t){e.exports=t(35).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,n,t,r,l){var d=e.flags;28&d?a(e,n,t,r,l):3970&d?i(e,n,t,r,l):4097&d&&o(e,n)}function o(e,n){s.isNull(n)||f.removeChild(n,e.dom)}function a(e,n,t,o,a){var i=e.children,l=e.flags,d=4&l,c=e.ref,v=e.dom;if(a||(d?i._unmounted||(i._blockSetState=!0,s.isNull(u.options.beforeUnmount)||u.options.beforeUnmount(e),s.isUndefined(i.componentWillUnmount)||i.componentWillUnmount(),c&&!a&&c(null),i._unmounted=!0,u.options.findDOMNodeEnabled&&h.componentToDOMNodeMap.delete(i),r(i._lastInput,null,i._lifecycle,!1,a)):(s.isNullOrUndef(c)||s.isNullOrUndef(c.onComponentWillUnmount)||c.onComponentWillUnmount(v),r(i,null,t,!1,a))),n){var g=i._lastInput;s.isNullOrUndef(g)&&(g=i),f.removeChild(n,v)}u.options.recyclingEnabled&&!d&&(n||o)&&p.poolComponent(e)}function i(e,n,t,r,o){var a=e.dom,i=e.ref,h=e.props;i&&!o&&d(i);var v=e.children;if(s.isNullOrUndef(v)||l(v,t,o),!s.isNull(h))for(var g in h)null!==h[g]&&c.isAttrAnEvent(g)&&(c.patchEvent(g,h[g],null,a),h[g]=null);s.isNull(n)||f.removeChild(n,a),u.options.recyclingEnabled&&(n||r)&&p.poolElement(e)}function l(e,n,t){if(s.isArray(e))for(var o=0,a=e.length;o<a;o++){var i=e[o];!s.isInvalid(i)&&s.isObject(i)&&r(i,null,n,!1,t)}else s.isObject(e)&&r(e,null,n,!1,t)}function d(e){if(s.isFunction(e))e(null);else{if(s.isInvalid(e))return;s.throwError()}}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(3),c=t(5),p=t(19),h=t(6),f=t(2);n.unmount=r,n.unmountComponent=a,n.unmountElement=i},function(e,n,t){"use strict";function r(e,n,t,r,o,a){512&e&&i.processInput(n,t,r,o,a),2048&e&&l.processSelect(n,t,r,o,a),1024&e&&d.processTextarea(n,t,r,o,a)}function o(e){return e.type&&i.isCheckedType(e.type)?!a.isNullOrUndef(e.checked):!a.isNullOrUndef(e.value)}Object.defineProperty(n,"__esModule",{value:!0});var a=t(0),i=t(47),l=t(48),d=t(49);n.processElement=r,n.isControlledFormElement=o},function(e,n,t){"use strict";n.__esModule=!0;n.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},n.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e},n.stripPrefix=function(e,n){return 0===e.indexOf(n)?e.substr(n.length):e},n.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},n.parsePath=function(e){var n=e||"/",t="",r="",o=n.indexOf("#");-1!==o&&(r=n.substr(o),n=n.substr(0,o));var a=n.indexOf("?");return-1!==a&&(t=n.substr(a),n=n.substr(0,a)),n=decodeURI(n),{pathname:n,search:"?"===t?"":t,hash:"#"===r?"":r}},n.createPath=function(e){var n=e.pathname,t=e.search,r=e.hash,o=encodeURI(n||"/");return t&&"?"!==t&&(o+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,n,t){e.exports=t(36).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e,n,t){return i.createVNode(2,"a",e,n,t)}function o(e,n){var t,o=n.router,i=e.activeClassName,d=e.activeStyle,s=e.className,u=e.onClick,c=e.children,p=e.to,h=a(e,["activeClassName","activeStyle","className","onClick","children","to"]);return s&&(t=s),o?(h.href=l.isBrowser?o.createHref({pathname:p}):o.location.baseUrl?o.location.baseUrl+p:p,o.location.pathname===p&&(i&&(t=(s?s+" ":"")+i),d&&(h.style=l.combineFrom(e.style,d))),h.onclick=function(e){0!==e.button||e.ctrlKey||e.altKey||e.metaKey||e.shiftKey||(e.preventDefault(),"function"==typeof u&&u(e),o.push(p,e.target.textContent))},r(t,c,h)):(h.href=p,h.onClick=u,r(t,c,h))}var a=this&&this.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&(t[r[o]]=e[r[o]]);return t};Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),l=t(0);n.default=o},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(10),a=function(e){function n(n,t){return e.call(this,n,t)||this}return r(n,e),n.prototype.getChildContext=function(){return{router:this.props.router||{location:{baseUrl:this.props.baseUrl,pathname:this.props.location}}}},n.prototype.render=function(e){return e.matched},n}(o.default);n.default=a},function(e,n,t){"use strict";function r(e,n){var t=s.getURLString(n);return o(l.toArray(e),encodeURI(t),"/")}function o(e,n,t,r){void 0===n&&(n="/"),void 0===t&&(t="/"),void 0===r&&(r=!1);var d=l.isArray(e)?s.flatten(e):l.toArray(e),u=n.split("?"),c=u[0],p=void 0===c?"/":c,h=u[1],f=void 0===h?"":h,v=s.mapSearchParams(f);d.sort(s.pathRankSort);for(var g=0,m=d.length;g<m;g++){var b=d[g],k=b.props||s.emptyObject,w=k.from||k.path||"/",N=t+s.toPartialURL(w,t).replace(/\/\//g,"/"),y=s.isEmpty(k.children),j=a(y,N,p);if(j){var V=k.children;if(k.from&&(r=k.to),V){var O=o(V,n,N,r);if(O){if(O.redirect)return{location:N,redirect:O.redirect};V=O.matched;var _=V.props.params;for(var z in _)v[z]=_[z]}else V=null}return{location:N,redirect:r,matched:i.default.cloneVNode(b,{params:l.combineFrom(v,j.params),children:V})}}}}function a(e,n,t){var r=n+"|"+e,o=u.get(r);if(void 0===o){var a=[];o={pattern:d.default(n,a,{end:e}),keys:a},u.set(r,o)}var i=o.pattern.exec(t);if(!i)return null;for(var l=i[0],c=Object.create(null),p=1,h=i.length;p<h;p+=1)c[o.keys[p-1].name]=s.decode(i[p]);return{path:""===l?"/":l,params:c}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),l=t(0),d=t(53),s=t(18),u=new Map;n.default=r,n.matchPath=a},function(e,n,t){"use strict";function r(e){return"string"!=typeof e?e:decodeURIComponent(e)}function o(e){return!e||!(v.isArray(e)?e:Object.keys(e)).length}function a(e){var n=[];return f(e,n),n}function i(e){return v.isString(e)?e:e.pathname+e.search}function l(e){if(""===e)return{};for(var n=Object.create(null),t=e.split("&"),r=0,o=t.length;r<o;r++){var a=t[r],i=a.split("=").map(c).map(decodeURIComponent),l=i[0],d=i[1];n[l]?(n[l]=v.isArray(n[l])?n[l]:[n[l]],n[l].push(d)):n[l]=d}return n}function d(e,n){return 0===e.indexOf(n)?e.substr(n.length):e}function s(e,n){var t={};for(var r in e)n.indexOf(r)<0&&(t[r]=e[r]);return t}function u(e,t){var r=e.props||n.emptyObject,o=t.props||n.emptyObject;return h(o.path)-h(r.path)||(o.path&&r.path?o.path.length-r.path.length:0)}function c(e,n){return decodeURIComponent(0|n?e:e.replace("[]",""))}function p(e){return e.replace(/(^\/+|\/+$)/g,"")}function h(e){return void 0===e&&(e=""),(p(e).match(/\/+/g)||"").length}function f(e,n){for(var t=0,r=e.length;t<r;t++){var o=e[t];v.isArray(o)?f(o,n):n.push(o)}}Object.defineProperty(n,"__esModule",{value:!0});var v=t(0);n.emptyObject={},n.decode=r,n.isEmpty=o,n.flatten=a,n.getURLString=i,n.mapSearchParams=l,n.toPartialURL=d,n.rest=s,n.pathRankSort=u},function(e,n,t){"use strict";function r(e,n,t,r){var o=e.type,a=u.get(o);if(!l.isUndefined(a)){var i=e.key,s=null===i?a.nonKeyed:a.keyed.get(i);if(!l.isUndefined(s)){var c=s.pop();if(!l.isUndefined(c))return d.patchElement(c,e,null,n,t,r,!0),e.dom}}return null}function o(e){var n=e.type,t=e.key,r=u.get(n);if(l.isUndefined(r)&&(r={keyed:new Map,nonKeyed:[]},u.set(n,r)),l.isNull(t))r.nonKeyed.push(e);else{var o=r.keyed.get(t);l.isUndefined(o)&&(o=[],r.keyed.set(t,o)),o.push(e)}}function a(e,n,t,r){var o=e.type,a=s.get(o);if(!l.isUndefined(a)){var i=e.key,u=null===i?a.nonKeyed:a.keyed.get(i);if(!l.isUndefined(u)){var c=u.pop();if(!l.isUndefined(c)){var p=e.flags;if(!d.patchComponent(c,e,null,n,t,r,4&p,!0))return e.dom}}}return null}function i(e){var n=e.ref;if(!n||!(n.onComponentWillMount||n.onComponentWillUnmount||n.onComponentDidMount||n.onComponentWillUpdate||n.onComponentDidUpdate)){var t=e.type,r=e.key,o=s.get(t);if(l.isUndefined(o)&&(o={keyed:new Map,nonKeyed:[]},s.set(t,o)),l.isNull(r))o.nonKeyed.push(e);else{var a=o.keyed.get(r);l.isUndefined(a)&&(a=[],o.keyed.set(r,a)),a.push(e)}}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),d=t(5),s=new Map,u=new Map;n.recycleElement=r,n.poolElement=o,n.recycleComponent=a,n.poolComponent=i},function(e,n,t){"use strict";function r(e,n){return n.key=e,n}function o(e,n){return p.isNumber(e)&&(e="."+e),p.isNull(n.key)||"."===n.key[0]?r(e,n):n}function a(e,n){return n.key=e+n.key,n}function i(e,n,t,o){for(var l=e.length;t<l;t++){var d=e[t],s=o+"."+t;p.isInvalid(d)||(p.isArray(d)?i(d,n,0,s):(p.isStringOrNumber(d)?d=h.createTextVNode(d,null):(h.isVNode(d)&&d.dom||d.key&&"."===d.key[0])&&(d=h.directClone(d)),d=p.isNull(d.key)||"."===d.key[0]?r(s,d):a(o,d),n.push(d)))}}function l(e){var n;!0===e.$?e=e.slice():e.$=!0;for(var t=0,r=e.length;t<r;t++){var a=e[t];if(p.isInvalid(a)||p.isArray(a)){var l=(n||e).slice(0,t);return i(e,l,t,""),l}p.isStringOrNumber(a)?(n||(n=e.slice(0,t)),n.push(o(t,h.createTextVNode(a,null)))):h.isVNode(a)&&null!==a.dom||p.isNull(a.key)&&0==(64&a.flags)?(n||(n=e.slice(0,t)),n.push(o(t,h.directClone(a)))):n&&n.push(o(t,h.directClone(a)))}return n||e}function d(e){return p.isArray(e)?l(e):h.isVNode(e)&&null!==e.dom?h.directClone(e):e}function s(e,n,t){3970&e.flags&&(p.isNullOrUndef(t)&&!p.isNullOrUndef(n.children)&&(e.children=n.children),p.isNullOrUndef(n.className)||(e.className=n.className,delete n.className)),n.ref&&(e.ref=n.ref,delete n.ref),p.isNullOrUndef(n.key)||(e.key=n.key,delete n.key)}function u(e){return"svg"===e?128:"input"===e?512:"select"===e?2048:"textarea"===e?1024:"media"===e?256:2}function c(e){var n=e.props,t=e.children;if(28&e.flags){var r=e.type,o=r.defaultProps;if(!p.isNullOrUndef(o))if(n)for(var a in o)p.isUndefined(n[a])&&(n[a]=o[a]);else n=e.props=o;p.isString(r)&&(e.flags=u(r),n&&n.children&&(e.children=n.children,t=n.children))}n&&(s(e,n,t),p.isInvalid(n.children)||(n.children=d(n.children))),p.isInvalid(t)||(e.children=d(t))}Object.defineProperty(n,"__esModule",{value:!0});var p=t(0),h=t(4);n.normalizeVNodes=l,n.getFlagsForElementVnode=u,n.normalize=c},function(e,n,t){"use strict";var r=function(){};e.exports=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Besluit=void 0;var r=t(1);n.Besluit=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Besluit"),(0,r.createVNode)(2,"p",null,"Uit het werk kunnen we besluiten dat de hiërarchie van de Romeinen goed in elkaar zat aangezien iedereen zijn plaats kende en er respect en aanzien was. Door deze organisatie was het Romeinse leger een van de succesvolste legers uit die tijd. Wanneer we het huidige leger vergelijken met het Romeinse stellen we vast dat onze hiërarchie een zeer uitgebreide versie is van die van het Romeinse leger. Er zijn meer onderverdelingen en meer componenten dan bij de Romeinen, maar dit is te wijten aan technologische en wetenschappelijke vooruitgang. Zo zijn er nu vliegtuigen, tanks, jeeps en vliegdekschepen wat ervoor zorgt dat iedere persoon binnen het leger zijn specifieke functie heeft en er dus meer verdeeldheid is. Op het vlak van bewapening waren de Romeinen ook goed voorzien. Ze waren veel bezig met het ontwikkelen van nieuwe wapens om hun vijanden te kunnen verrassen. Hun wapens waren efficiënt en doeltreffend waardoor ze vele veldslagen hebben gewonnen. Wanneer we het Romeinse leger met het huidige vergelijken stellen we vast dat alles is veranderd. Dit is weer te wijten aan technologische en wetenschappelijke vooruitgang. In huidige tijden wordt er niet meer gestreden met zwaarden, schilden en speren, maar met machinegeweren, langeafstandsraketten en computers. De Romeinen waren ongetwijfeld de grondleggers van verscheidene legers die later zijn ontstaan, maar sporen van hun wapens zijn in het huidige leger niet meer te vinden. Het Romeinse leger was een van de succesvolste legers uit de geschiedenis. Dit is te wijten aan hun ijzersterke discipline en goed bedachte tactieken en aanvalsplannen. De Romeinen begrepen ook zeer goed dat een veldslag niet enkel fysiek werd gestreden, maar ook mentaal. Ze wisten goed hoe ze het moreel bij hun troepen hoog moesten houden terwijl ze dat van de vijand verzwakten. Het verlies van een veldslag vond zijn oorzaak meestal bij slecht leiderschap. De tactieken van het huidige leger zijn zeer sterk veranderd aangezien alles vanop een langere afstand gebeurt en er meer en meer via robots wordt gewerkt. Vroeger waren bijna alle gevechten man tot man gevechten waardoor men tactieken kon toepassen zoals bijvoorbeeld: ruiters langs de flanken laten inkomen. Tegenwoordig heeft dit geen nut meer aangezien het aantal soldaten waarmee men oorlog voert sterk verminderd is.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bewapening=void 0;var r=t(1);n.Bewapening=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Hoe was de bewapening bij de Romeinen"),(0,r.createVNode)(2,"p",null,"Gedurende enkele eeuwen tot op de dag van vandaag ontstond er een voortdurende ontwikkeling van bewapening. Dit heeft zich kunnen verwezenlijken door de technologische vooruitgang met als gevolg dat de kracht van wapens aanzienlijk is vergroot. Maar om de evolutie van de bewapening waar te nemen, moeten we terugblikken ten tijde van het Romeinse imperium waar de basis werd gelegd."),(0,r.createVNode)(2,"h3",null,"Draagbare bewapening"),(0,r.createVNode)(2,"p",null,["Vele kinderen of jongeren lezen weleens strips zoals Asterix en Obelix of moeten op school enkele werkjes maken omtrent de Romeinse beschaving. Hierdoor krijgen ze een bepaald beeld over het Romeinse leven en met welke wapens de soldaten te werk gingen. Het algemene beeld die wij hiervan hebben, is dat elke soldaat een aanvalswapen en een verdedigingswapen ter beschikking had en dat iedere soldaat voorzien werd van stoere vechterskledij. Hierbij zijn vaak het zwaard en de speer de belangrijkste aanvalswapens en ter verdediging gebruikten ze het schild. Om zich te beschermen droegen ze vaak een harnas. Of deze algemene voorstelling altijd waar is, wordt in dit hoofdstuk onderzocht.",(0,r.createVNode)(2,"p"),"Bewapening bij Romeinse legionairs hielden telkens verband met de rang waartoe ze behoorden. Bewapening is net zoals de rangen in verschillende groepen te verdelen. Beginnen doen we met de verschillende tijdperken gaande van 105 v.Chr. tot einde 2de eeuw. Hierbij wordt een nieuw tijdperk telkens ingeleid bij ontstaan van nieuwe en belangrijke bewapening.",(0,r.createVNode)(2,"p"),"Bij de eerste generatie was de gladius (= zwaard) het belangrijkste aanvalswapen. Deze werd altijd gebruikt in combinatie met de aspis (= schild) waarmee ze zich konden verdedigen. In het begin had de gladius een korte lengte, geïnspireerd op het model van de Griekse xiphos. Het schild of de zogenaamde aspis werd vervaardigd uit hout met telkens een bronzen rand ter versterking. De vorm van het schild was rond en relatief groot ter vergelijking met wat er nog zou volgen. Ook hierbij hebben de Romeinen zich weer laten inspireren door de Grieken. Bij de volgende generatie wilden de Romeinen hun eigen stijl creëren waarin Griekse, Keltische en Italische invloeden verwerkt werden. Zo creëerden ze de scutum als vervanging van de aspis. Het had een ovale vorm en beschikte over tal van voordelen. Zo is het schild duurzamer en lichter dan de vorige en het beschikte over een schildknop (= metalen bol die zich centraal op het schild bevond). De functie van die knop was meer schade toe brengen aan de vijand. De aspis werd altijd in de linkerhand gedragen waardoor ze het zwaard in de rechterhand konden leggen. De rede hiervoor was dat de meeste Romeinse soldaten rechtshandig waren waardoor ze meer kracht hadden in hun rechterarm wat noodzakelijk was om bruuske bewegingen te maken met de gladius. Enige tijd later gingen ze gebruik maken van een iets langer zwaard wat overgenomen was van de vijand tijdens de Punische oorlogen. Diezelfde generatie ging zich ook richten op de ontwikkeling van stootsperen (= eerste versie speren). Deze hadden ongeveer dezelfde functie als het zwaard.",(0,r.createVNode)(2,"p"),(0,r.createVNode)(2,"p"),"Het enige verschil was dat ze nog langer waren. Ze waren in het begin niet bedoeld om weg te gooien in de richting van de vijand. Stootsperen werden gebruikt door de hastati (= legionarii van het eerste manipel). Uiteindelijk werd de stootspeer minder gebruikt door de legionairs en evolueerde men naar het ontwikkelen van een lichtere werpspeer nl de pilum. Dit resulteerde in een nieuwe generatie. Elke legatus beschikte over 2 pila waardoor ze bij de start van een gevecht de vijand onmiddellijk konden verzwakken. De pilum was zelfs zo gemaakt dat de punt van de speer bij botsing krom ging staan of afbrak waardoor de vijand de speer niet kon hergebruiken. Stel dat de pilum in een schild belandde, dan was het gevolg dat de zware achterkant van de speer naar beneden zakte waardoor het onmogelijk was om er verder mee rond te lopen. Hierdoor was de vijand vaak genoodzaakt om zonder schild verder te vechten.",(0,r.createVNode)(2,"p"),"In de 3de eeuw kwam er opnieuw een opvallende vooruitgang, maar ditmaal op het gebied van verdediging. De bekende scutum werd aangepast en zo ontstond de spiculum. Het was een vlak schild, nog lichter en net zoals de scutum met een slagknop in het midden.",(0,r.createVNode)(2,"p"),"De bewapening van de hulptroepen is ook op te delen in enkele groepen. Tijdens de eerste jaren van de equitatus werd de gladius gebruikt om de vijand aan te vallen vanop het paard. Doordat het zwaard kort was, maakten ze kans om snel van het paard te vallen. In de loop van de 3de eeuw was men erin geslaagd een langere versie van de gladius te creëren nl de spatha. De sagittarii maken gebruik van de sagitta (= pijlenboog). De gebogen vorm van de sagitta werd gevormd door begin en einde aan te spannen met een stevige, strakke draad. Hiermee konden ze hun pijlen over een grote afstand schieten. Tot slot hanteren de funditores de funda. Dit is een slinger waarin ze loden kogels legde om die vervolgens naar de vijand te gooien.",(0,r.createVNode)(2,"p"),"Uit al deze gegevens weten we dat het algemene beeld grotendeels juist is. Maar je kan onmogelijk besluiten dat je met dat beeld alles weet over de bewapening van Romeinse soldaten. Naast het zwaard, de speer en het schild waren er nog tal van andere aanvals- en verdedigingswapens die gebruikt werden tijdens de gevechten ten tijde van de Romeinen."]),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Bewapening legionairs"),(0,r.createVNode)(2,"th",null,"aanvalswapen"),(0,r.createVNode)(2,"th",null,"verdedingingswapen"),(0,r.createVNode)(2,"th")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"1ste generatie"),(0,r.createVNode)(2,"td",null,"gladius"),(0,r.createVNode)(2,"td",null,"aspia"),(0,r.createVNode)(2,"td",null,"Generaties gaande vanaf ± 3de eeuw v.Chr. – 3de eeuw",{rowspan:"4"})]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"2de generatie"),(0,r.createVNode)(2,"td",null,"hasta + gladius"),(0,r.createVNode)(2,"td",null,"scutum")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"3de generatie"),(0,r.createVNode)(2,"td",null,"pilum + gladius"),(0,r.createVNode)(2,"td",null,"scutum")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"4de generatie"),(0,r.createVNode)(2,"td",null,"spatha"),(0,r.createVNode)(2,"td",null,"spiculum")])])),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Bewapening hulptroepen"),(0,r.createVNode)(2,"th",null,"aanvalswapens"),(0,r.createVNode)(2,"th",null,"verdedigingswapens")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"equitatus"),(0,r.createVNode)(2,"td",null,"spatha"),(0,r.createVNode)(2,"td",null,"Verdediging komt grotendeels overeen met die van de legionairs",{rowspan:"3"})]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"sagittarii"),(0,r.createVNode)(2,"td",null,"sagitta")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"funditores"),(0,r.createVNode)(2,"td",null,"funda")])])),(0,r.createVNode)(2,"p",null,"Aangezien er weinig betrouwbare bronnen zijn over de exacte data ’s i.v.m. het ontstaan van reeds vermelde bewapening, werd de chronologische volgorde van het ontstaan weergegeven a.d.h.v. generaties."),(0,r.createVNode)(2,"h3",null,"Oorlogstuigen"),(0,r.createVNode)(2,"p",null,"Tenslotte bespreken we in dit hoofdstuk de Romeinse oorlogstuigen aangezien het een belangrijk aspect was van de gevechten. Hierbij gaan we een opdeling maken tussen de tormenta (= aanvalswapens) en enkele andere oorlogsvoertuigen ter verdediging."),(0,r.createVNode)(2,"h4",null,"Aanvalswapens"),(0,r.createVNode)(2,"p",null,"De aanvalswapens waren veel krachtiger dan degene die ze op zak droegen. De bekendste aanvalsmachines waren de catapultae (= katapulten), onder te verdelen in enkele categorieën. Ze werden gebruikt om projectielen weg te schieten m.b.v. mechanische energie. De eerste katapulten schoten hun pijlen in bijna horizontale richting waardoor de afstand die ze konden afleggen niet al te succesvol was. De Romeinse ingenieurs van die tijd gingen dan zoeken naar methodes om het reeds vermelde probleem op te lossen. Hieruit ontstond de ballista. Deze katapult had tussen de 2 horizontaal schuin geplaatste balken een gespannen touw. Onder het touw bevond zich een halve cilinder waarin het projectiel werd gelegd. Deze halve cilinder werd altijd naar boven gericht en de hoek waarin het zich bevond konden ze bijsturen indien nodig. Het was dus niet zo dat ballista’s een vaste hoek meekregen zoals bij de eerste versies van de katapulten. Door die regelbare hoek konden ze hun pijlen over een afstand van 400 meter schieten. Net zoals bij de oudste katapulten waren er veel soldaten (±4) nodig om het in gebruik te kunnen nemen. Daarom zochten de ingenieurs nog steeds naar een verbeterde versie. De ingenieurs plaatsten dit nadeel centraal in hun volgende ontwerpen waardoor de scorpiones (kruisboog op voet) waren ontstaan. Het waren kleine katapulten die door 1 man gedragen konden worden. Ze bestonden uit een ijzeren boog waartussen een snaar werd gespannen. De projectielen die ze konden afvuren waren houten spiesen van 67cm. Na de scorpiones ontwikkelde men de cheioballistra die beschikte over metalen frames wat veel sterker was dan voordien. De onager was de laatste hervorming van de katapult en werd algemeen in gebruik genomen rond de 4de eeuw."),(0,r.createVNode)(2,"p",null,"Deze had een totaal andere werkwijze dan de vorige. Het was een heel groot en zwaar machine bedoeld om grote projectielen naar de vijand te werpen. Dergelijke projectielen waren meestal stenen. Het opvallendste kenmerk van de onager was dat er opnieuw vele soldaten nodig waren om de katapult in gebruik te nemen en dit was juist wat men bij de ontwikkeling van de katapult wilde tegengaan."),(0,r.createVNode)(2,"h3",null,"Verdedigingswapens"),(0,r.createVNode)(2,"p",null,["De verdedigingsmachines waren net zoals de aanvalsmachines krachtiger in vergelijking met wat de soldaten bij zich droegen. U zal telkens een korte beschrijving krijgen over enkele oorlogstuigen die ter verdediging werden gebruikt.",(0,r.createVNode)(2,"p"),"Beginnen doen we met de plutei, een halfcirkelvormig schild op wielen die veel weerstand bood. Vervolgens was er de testudo. Deze was net zoals de plutei een bescherming op wielen (kan ook zonder wielen). Maar het verschil was dat bij de testudo schilden aan elkaar werden gehecht die ze dan als afdak gebruikten.",(0,r.createVNode)(2,"p"),"Tot slot bestond er een machine die zowel bij de aanvals- als bij de verdedigingswapens zou kunnen horen, nl de tures ambulatoriae. Het was een houten toren op wielen waarin ze konden schuilen en op die manier konden ze ongeschonden de vijand naderen. Zo’n toren telde enkele verdiepingen en had telkens een valluik per verdiep. Dit gaf hen de kans om over de muren te geraken van de vijand. Helemaal onderaan werd een stormram ingebouwd en deze had als functie de poorten van het vijandelijke gebied te doorbreken.",(0,r.createVNode)(2,"p")]),(0,r.createVNode)(2,"table","bewapening-legion-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"Oorlogstuigen"),(0,r.createVNode)(2,"th",null,"wapens")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"aanvalswapens (= tormenta)"),(0,r.createVNode)(2,"td",null,"catapultae")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"Ballistae")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"Scorpiones")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"cheioballistra")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"onager")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"verdedinginswapens"),(0,r.createVNode)(2,"td",null,"Plutei")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td"),(0,r.createVNode)(2,"td",null,"testudo")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"combinatiewapen"),(0,r.createVNode)(2,"td",null,"Tures ambulatoriae")])]),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Als we een vergelijking maken van de Romeinse bewapening t.o.v. de huidige, dan kunnen we een zeer sterke evolutie vaststellen voortgekomen uit de wetenschappelijke vooruitgang die men doorheen de jaren boekte. Ze hebben zich altijd willen verbeteren in het maken van machines die projectielen konden afschieten. Zo werd de katapult omgevormd tot een lange afstandsraket. Men ontwikkelde zelfs een systeem om zwaarden te vervangen door machines die kogels konden afvuren.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Bronnen=void 0;var r=t(1);n.Bronnen=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Bronnen"),(0,r.createVNode)(2,"h3","bron","Boeken"),(0,r.createVNode)(2,"p",null,[(0,r.createVNode)(2,"ul",null,[(0,r.createVNode)(2,"li",null,"Commentarii de bello Gallico, VII, LXIX"),(0,r.createVNode)(2,"li",null,"Van Gelder, J. (1952) Latijnse geschiedschrijvers. Bloemlezing uit de werken van Sallustius, Caesar, Livius en Tacitus. Haarlem: Spaarnestad"),(0,r.createVNode)(2,"li",null,"Harpur, J. (2007) Guerriers: Les grands héros de l’histoire. MILAN: Toulouse"),(0,r.createVNode)(2,"li",null,"Van Daele, B. (2003) Het Romeinse Leger. Davidsfonds: Leuven"),(0,r.createVNode)(2,"li",null,"Goldsworthy, A. (2017) Romeinse legioenen. Omniboek: Utrecht"),(0,r.createVNode)(2,"li",null,"Rodgers, N. (2012) Het Romeinse Rijk. Veltman: Utrecht"),(0,r.createVNode)(2,"li",null,"Anoniem. (2015). De Veldslagen, Het Pop-Upboek. Tielt: Lannoo."),(0,r.createVNode)(2,"li",null,"Warry, W. (1981). Oorlogvoering in de klassieke wereld. Hemond: Helmond."),(0,r.createVNode)(2,"li",null,"Dando-Collins, S. (2010). Legions of Rome: The Definitive History of Every Imperial Roman Legion. Londen: Quercus Publishing."),(0,r.createVNode)(2,"li",null,"Feugere, M. (2002). The Weapons of the Romans. United Kingdom: The History Press.")]),(0,r.createVNode)(2,"h3","bron","Mondeling"),(0,r.createVNode)(2,"p",null,"Mondelinge bron geleverd door Kolonel SBH Marc Alexander (Hoogleraar aan de KMS)"),(0,r.createVNode)(2,"h3","bron","Websites"),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"ul",null,[(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Goede keizers, slechte keizers",{href:"https://marcaur.wordpress.com/2015/03/20/de-vijf-grootste-overwinningen-van-de-romeinen-longread/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"militair.net",{href:"http://www.militair.net/Oorlogen/Romeinse%20oorlogen/Slag%20bij%20Teutoburgerwoud/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"4 opmerkelijke veldslagen uit de Romeinse geschiedenis",{href:"http://www.isgeschiedenis.nl/nieuws/4-opmerkelijke-veldslagen-romeinse-geschiedenis/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Beleg van Alesia",{href:"https://nl.wikipedia.org/wiki/Beleg%20van%20Alesia"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Waar lag Alésia?",{href:"https://www.kunstgeografie.nl/henv/helden.alesia.slag.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"de geschiedenis van Alesia",{href:"http://www.cenens.be/alesia/omgeving.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Drie grote veldslagen uit de Romeinse tijd",{href:"https://plazilla.com/page/4295028913/drie-grote-veldslagen-uit-de-romeinse-tijd"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Slag bij het Teutoburgerwoud",{href:"https://nl.wikipedia.org/wiki/Slag_bij_het_Teutoburgerwoud"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Slag bij het Teutoburgerwoud: Varus loopt in een Germaanse hinderlaag",{href:"http://www.isgeschiedenis.nl/militaire-confrontaties/slag-bij-het-teutoburgerwoud-varus-loopt-in-een-germaanse-hinderlaag/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Varusslag: 2000 jaar geleden",{href:"https://www.historischecartografie.nl/nieuws/2009/11/varusslag-2000-jaar-geleden/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"De Varusslag in 9 n.Chr.",{href:"http://www.noviomagus.info/varusslag.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Publius Quinctilius Varus",{href:"https://nl.wikipedia.org/wiki/Publius_Quinctilius_Varus"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Tactieken",{href:"http://www.legioxi.be/educatief/tactieken (open veldslag)"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Het Romeinse leger",{href:"http://www.klassiekevertalingen.nl/cultuur/leger.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Hulptroepen",{href:"http://users.telenet.be/phoenica/hulptroepen.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"De bewapening van de Romeinse legionair",{href:"http://romeinen.info/de-bewapening-van-de-romeinse-legionair"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Verdedigingswerken en belegeringsoorlog",{href:"http://users.skynet.be/veni_vidi_vici/bestorming.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Weapons",{href:"http://www.primaryhomeworkhelp.co.uk/romans/weapons.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Tools of War",{href:"https://romanmilitary.net/tools/"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Ancient roman military, weapons and spies",{href:"http://factsanddetails.com/world/cat56/sub368/item2055.html"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Weapons & Tactics",{href:"https://www.the-romans.co.uk/weapons.htm"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"Organization of the Roman Imperial Legion",{href:"http://www.unrv.com/military/legion.php"})),(0,r.createVNode)(2,"li",null,(0,r.createVNode)(2,"a",null,"The Roman Army",{href:"http://www.roman-empire.net/army/army.html"}))]))])])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Inleiding=void 0;var r=t(1);n.Inleiding=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Inleiding"),(0,r.createVNode)(2,"p",null,"Wij hebben beslist om ons werk over het Romeinse leger te beginnen met de onderverdeling van het leger. Hierdoor krijg je al een inzicht in hoe de hiërarchie was ten tijde van de Romeinen. Hierna zijn wij dieper ingegaan op de bewapening van de Romeinen zodat je goed weet hoe ze toen vochten en wat ze ter beschikking hadden om hun vijand te overmeesteren. Als laatste hebben wij gekeken naar het verloop van twee veldslagen en hebben we deze volledig geanalyseerd om uiteindelijk te kunnen zeggen hoe deze beter hadden kunnen verlopen. Wij hebben verscheidene bronnen gebruikt om ons werk te onderbouwen, gaande van boeken uit het archief van de Koninklijke Militaire School tot websites van professoren latijn die thesissen over het Romeinse leger hebben geschreven. Om nog extra documentatie en afbeeldingen te verschaffen bij deze onderzoekscompetentie, hebben wij besloten om deze site te maken.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Onderverdeling=void 0;var r=t(1);n.Onderverdeling=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Onderverdeling van het leger"),(0,r.createVNode)(2,"p",null,"De Romeinen hadden verschillende rangen binnen het leger waartoe je kon behoren. Het leger werd opgedeeld in meerdere legioenen en hulptroepen waarmee ze vanuit verschillende hoeken de vijand gestructureerd konden aanvallen. Doorheen de jaren nam het aantal soldaten sterk toe. De reden daartoe was vrij eenvoudig. Eenmaal een bepaalde bevolkingsgroep zijn strijdmanschappen vergrootte, was de andere verplicht om hetzelfde te doen, aangezien ze anders geen enkele kans zouden hebben op de overwinning."),(0,r.createVNode)(2,"h3",null,"Het legioen"),(0,r.createVNode)(2,"p",null,"Een legioen werd opgedeeld in 10 cohorten waarbij 1 cohorte een aantal van 600 soldaten telde op voorwaarde dat het legioen bestond uit ongeveer 6000 legionarii (= soldaten). De leider van een legioen werd een legatus genoemd. Het was altijd een man omdat enkel de mannen toegelaten werden bij het leger (Vrouwen moesten het huishouden doen). De legatus had ook 5 à 6 assistenten ter beschikking die de naam tribuni kregen. Dat waren steeds jonge mannen die een politieke carrière wilde starten maar eerst wat militaire ervaring nodig hadden. Vervolgens werden alle cohorten nog eens onderverdeeld in 3 manipels met telkens een aantal van 200 man. Het 1ste manipel van iedere cohorte kreeg de naam pilus. Het 1ste manipel van de 1ste cohorte werd de primus pilus genoemd met de primi pili centurio aan het hoofd. Deze 200 mannen werden nogmaals gesplitst in 2 groepen van 100 soldaten. Dergelijke groepen behoorden tot de rang van de centuria. Hierbij was een centurio (= onderofficier) de aanvoerder van 1 van de 6 centuriën. Hij beschikte over een aantal soldaten, 1 veldtekendrager en een optio. Zijn belangrijkheid was afhankelijk van de rang die zijn centuria had. Zo is de centurio van het 1ste centurie, 1ste manipel en 1ste cohorte de belangrijkste en naarmate je verder gaat in de hiërarchie nemen ze aan belangrijkheid af. Een centurio beschikte net zoals een legatus over een assistent die de naam optio aangeboden kreeg. Deze optio beschikte over een klein manschap om wat ervaring te krijgen over hoe je leiding moest geven. Het uiteindelijke doel van de optio was te promoveren om zo de functie van een centurio te krijgen. Zeer ervaren centurio’s kregen ook nog kans om praefectus castrorum (= kampcommandant) te worden. Tot slot werden die 100 man nog een keer opgedeeld in 10 groepjes van telkens 10 soldaten die samen een kleine tent moesten delen waarin ze konden overnachten. Dergelijk tenten waren ongeveer 4 bij 3 meter. De reden hiervoor was dat ze omwille van hun grootte makkelijk te vervoeren waren. Deze groepjes werden conturbernium genoemd. Elk conturbernium beschikte over een muilezel die de soldaten hielp bij het vervoeren van hun goederen. Het legioen bevatte naast reeds vermelde rangen nog andere personen die een specifieke taak uitvoerden."),(0,r.createVNode)(2,"p",null,["Een aquilifer (= standaarddrager) kreeg de taak om met het Romeinse embleem van een aquila (= arend) het legioen vooraf te gaan en stond aan het hoofd van alle andere veldtekendragers. In een legioen waren er ook bakkers, smeden, dokter, …",(0,r.createVNode)(2,"p"),"Een legioen kon dus zonder enig probleem enkele maanden rondtrekken door de grote voorraad van dingen die ze meesleurde tijdens hun tocht en het groot aanbod van assistenten."]),(0,r.createVNode)(2,"h3",null,"De hulptroepen"),(0,r.createVNode)(2,"p",null,["Naast legioenen maakte de Romeinen ook veelvuldig gebruik van de auxilia (= hulptroepen). Daartoe behoorden de soldaten die niet de status hadden van Romeinse staatsburger doordat ze afkomstig waren uit andere volkeren. Omwille van hun andere afkomst kregen ze maar 1/3 van het loon van een legionarius.",(0,r.createVNode)(2,"p"),"Hun voornaamste functie was om de legioenen te helpen en om de grenzen te bewaken en te verdedigen. Deze taken moesten ze uitvoeren onder bevel van praefecti (= Romeinse officieren). Als een auxiliarius (= een soldaat van de hulptroepen) een diensttermijn van 25 jaar had afgesloten, kreeg hij en zijn gezin vanaf dat moment de status van een Romeins staatsburger. De zonen van een ex-auxiliarius gingen als legionarius werken wat hen de kans gaf om meer te verdienen dan hun vader. De ex-auxiliarius zelf nam de naam van de regerende keizer aan.",(0,r.createVNode)(2,"p"),"Net zoals de legioenen zijn er verschillende onderdelen binnen de hulptroepen zoals: de equitatus (= ruiters), de sagittarii (= boogschutters) en de funditores (= slingeraars). Elke soldaat binnen de hulptroepen kreeg een bijpassend wapen afhankelijk tot welke groep hij behoorde."]),(0,r.createVNode)(2,"p",null,(0,r.createVNode)(2,"table","onderverdeling-table",[(0,r.createVNode)(2,"thead",null,(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"th",null,"groepen"),(0,r.createVNode)(2,"th",null,"legioenen"),(0,r.createVNode)(2,"th",null,"hulptroepen")])),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"belangrijkste onderdelen"),(0,r.createVNode)(2,"td",null,["cohorten",(0,r.createVNode)(2,"br"),"manipels",(0,r.createVNode)(2,"br"),"centuria",(0,r.createVNode)(2,"br"),"conturbernium"]),(0,r.createVNode)(2,"td",null,["sagittarii",(0,r.createVNode)(2,"br"),"equitatus",(0,r.createVNode)(2,"br"),"funditores"])]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"aantal"),(0,r.createVNode)(2,"td",null,["1 cohort = ± 600",(0,r.createVNode)(2,"br"),"1 manipel = ± 200",(0,r.createVNode)(2,"br"),"1 centuria = ± 100",(0,r.createVNode)(2,"br"),"1 conturbernium = ± 10"]),(0,r.createVNode)(2,"td",null,"aantal is onduidelijk")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"leiders"),(0,r.createVNode)(2,"td",null,"legioen --\x3e legatus centuria --\x3e centurio zeer ervaren centurio --\x3e  praefectus castrorum"),(0,r.createVNode)(2,"td",null,"Hulptroepen --\x3e praefecti")]),(0,r.createVNode)(2,"tr",null,[(0,r.createVNode)(2,"td",null,"status"),(0,r.createVNode)(2,"td",null,"Romeins staatsburger"),(0,r.createVNode)(2,"td",null,"geen Romeins staatsburger. Afkomstig van andere volkeren")])])),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Als we de onderverdeling bij de Romeinen vergelijken met de onze dan merken we op dat de structuur voor een groot deel bewaard is gebleven. Toch kunnen we stellen dat het huidige systeem meer onderverdelingen heeft en dat de namen ook steeds gewijzigd zijn. Zo is in 2017 de generaal de leider van het leger en vroeger sprak men over legatus die de leiding had over het legioen.")])}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Veldslagen=void 0;var r=t(1);n.Veldslagen=function(){return(0,r.createVNode)(2,"article",null,[(0,r.createVNode)(2,"h2",null,"Veldslagen en oorlogen"),(0,r.createVNode)(2,"p",null,"De Romeinen hebben doorheen hun lange bestaan in vele delen van de wereld gevochten tegen verschillende rijken, stadstaten, handelsnaties en barbaarse stammen aangezien ze steeds meer grondgebied wilden veroveren. Hoewel velen hiervan werden gewonnen dankzij hun doordachte tactieken en ijzersterke discipline, waren er ook zware nederlagen bij zoals: de slag bij het Teutoburgerwoud, de slag bij Cannae en de slag bij Adrianopolis. Door deze nederlagen schaafden ze hun tactieken bij om dezelfde fouten niet nog eens te maken."),(0,r.createVNode)(2,"h3",null,"De slag bij Alesia"),(0,r.createVNode)(2,"p",null,'De slag bij Alesia werd gevochten tussen de Romeinse troepen van Julius Caesar en de Avernische troepen van Vercingetorix. Deze slag was de beslissende slag in de strijd tussen de Galliërs en de Romeinen en het was tevens een van de grootste overwinningen van Caesar. De slag vond plaats in 52 v.C. bij het Gallische Alesia rond een versterkt fort van het volk Mandubii. Het fort van Alesia was gelegen bovenop een heuvel waar rivieren langs stroomden. Caesar gaf van de omgeving een zeer goede beschrijving in zijn Commentarii de bello Gallico: "Ipsum erat oppidum Alesia in colle summo admodum edito loco, ut nisi obsidione expugnari non posse videretur. Cuius collis radices duo duabus ex partibus flumina subluebant. Ante id oppidum planities circiter millia passuum III in longitudine patebat; reliquis ex omnibus partibus colles mediocri interiecto spatio pari altitudinis fastigio oppidum cingebant." Dit kan men vertalen als: ‘De vesting Alesia zelf lag op een heuveltop die aanzienlijk boven de vlakte uitstak, zodat zij oninneembaar scheen tenzij door blokkade. De voet van die heuvel wordt aan twee zijden bespoeld door waterlopen. Vóór de vesting strekte zich een ongeveer drie mijl brede vlakte uit; aan al de andere zijden omringde heuvels, op korte afstand van elkaar gelegen en met gelijke tophoogte, de vesting.’ Door deze uitstekende locatie was het zeer moeilijk om het fort in te nemen dus besloot Caesar om het fort te belegeren door gebruik te maken van een circumvallatielinie om zo de troepen en de bevolking van Alesia uit te hongeren.'),(0,r.createVNode)(2,"p",null,["De linie bestond uit meerdere verstevigingen en wallen met een totale lengte van ongeveer 18km. De tactiek van Caesar bleek zeer goed te werken aangezien Vercingetorix radeloos was. De enige mogelijkheid die Vercingetorix nog had was om een deel van de Gallische cavalerie te doen ontsnappen door een nog onvoltooid gedeelte van de linie om versterking te halen. Zij slaagden in deze opzet en brachten succesvol een ontzettingsleger op de been. Caesar had echter aan alle mogelijke scenario’s gedacht en hij had besloten om een contravallatielinie van 21 kilometer te bouwen rond de circumvallatielinie, waardoor de Romeinen langs twee zijden tegen de Gallische aanvallen beschermd waren.",(0,r.createVNode)(2,"br"),"Eenmaal het ontzettingsleger bij Alesia was aangekomen, waren het eigenlijk de Romeinen die belegerd waren aangezien ze ingesloten zaten tussen twee Gallische legers. Onder leiding van Commius viel het ontzettingsleger de contravallatielinie aan.",(0,r.createVNode)(2,"img","siege-of-alexia-img",null,{src:"./images/siegeOfAlexia.jpg"}),"Tegelijkertijd liet Vercingetorix zijn troepen de circumvallatielinie aanvallen. De eerste dag hielden de Romeinen goed stand tegen de aanvallen van de Galliërs, maar de daar opvolgende dagen gingen bergaf. Ze werden gedwongen om forten en kampen in de contravallatielinie op te geven, maar Gaius rebonius kon met de cavalerie voorkomen dat de Galliërs hier gebruik van konden maken. Na maandenlang vechten besloot de neef van Vercingetorix, Vercassivellaunos, om met 60.000 manschappen de Romeinse stellingen aan te vallen. Hij koos de plek waar de stellingen het zwakst waren, namelijk waar de linies op dezelfde plek een rivier kruisten. Vercingetorix liet van binnenuit op dezelfde plaats een aanval uitvoeren, maar Caesar had zoveel vertrouwen in zijn troepen dat hij het bevel gaf om de stellingen te behouden. Caesar nam een grote gok door met 6.000 manschappen een leger van 60.000 manschappen aan te vallen, maar hij overdonderde de Galliërs zo hard dat ze zich genoodzaakt voelden om zich terug te trekken."]),(0,r.createVNode)(2,"p",null,"Hiermee was het belangrijkste en meest beslissende gevecht gestreden waarna de troepen in Alesia zich overgaven door hongersnood en gebrek aan manschappen. Rome was de grote overwinnaar bij deze slag die de basis vormde voor het verder veroveren van Gallië en Brittannië. De Gallische soldaten werden als slaven meegenomen en verkocht. Vercingetorix werd tevens gevangengenomen, maar niet verkocht aangezien de Romeinen hem wilden houden als trofee. Na een paar jaar werd hij ritueel gewurgd tijdens een triomftocht. De elementen die de Romeinen de overwinning hebben bezorgd zijn vooral berust op de geest. Caesar heeft steeds de moreel bij zijn troepen hoog weten te houden hoewel ze soms nederlagen leden. Dit zorgde ervoor dat de strijdlust bij de soldaten aanwezig bleef en ze steeds voelden dat ze de bovenhand hadden in het gevecht. Caesar nam het moreel van zijn troepen zeer serieus en ging zelfs zo ver dat hij met hen meestreed. Het moreel van zijn troepen lag aan de basis van de laatste belangrijke slag aangezien ze het gevecht onderbemand moesten aangaan, maar uiteindelijk hebben ze de overwinning behaald. Een tweede punt waardoor ze deze slag hebben gewonnen, is het goed doordachte aanvalsplan van Caesar. Zo had hij de contravallatielinie voorzien voor een eventuele aanval. Was deze linie er niet geweest, hadden de Galliërs deze veldslag gegarandeerd gewonnen door hun grote aantallen. Caesar was ook degene die een verrassingsaanval heeft kunnen afwenden door de vrouwen en kinderen niet uit Alesia te laten vertrekken. De Galliërs wilden hen namelijk als afleiding gebruiken om ondertussen een versteviging aan te vallen, maar door Caesar zijn besluit om de vrouwen en kinderen niet buiten te laten is de aanval niet kunnen doorgaan. Het enige negatieve punt dat geoptimaliseerd had kunnen worden is de bouw van de linies bij de rivieren aangezien dit het zwakke punt was van het kamp. Deze slag is een goed voorbeeld van de Romeinse discipline en strijdlust aangezien ze geen enkele grote fout hebben begaan die tot een eventueel verlies had kunnen lijden."),(0,r.createVNode)(2,"h3",null,"De slag bij het Teutoburgerwoud"),(0,r.createVNode)(2,"p",null,"De slag bij het Teutoburgerwoud werd gevochten tussen de Romeinse troepen van Varus en de Germaanse troepen van Arminius. Deze slag leidde een zevenjarige oorlog in, die uiteindelijk tot gevolg had dat de Rijn voor een periode van 400 jaar werd vastgelegd als grens van het Romeinse Rijk. De slag vond plaats in 9 n.C. nabij Kalkriese dat in Duitsland is gelegen. De slag was een van de grootste nederlagen uit de geschiedenis van het Romeinse leger."),(0,r.createVNode)(2,"p",null,["De Romeinen waren namelijk in een list getrapt van Arminius, de leider van de Germaanse stammen. Hij liet doorgeven dat er een opstand aan de gang was van veroverde Germaanse stammen. Hij wilde de Romeinen namelijk naar een voor hen onbekend gebied lokken zodat de Germanen een strategisch voordeel hadden. De Romeinse aanvoerder Varus was op dat moment met zijn leger op weg naar hun winterkampen voor de opkomende winter. Hij geloofde echter het nepbericht van Arminius en hij week van zijn route af en ging door het Teutoburgerwoud naar de zogezegde opstand.",(0,r.createVNode)(2,"br"),"Wat hij echter niet wist, was dat hij opgewacht werd door een groot Germaans leger dat zich in het bos had verstopt om een verrassingsaanval uit te voeren. Het Teutoburgerwoud was ondoordringbaar, mistig en vochtig, iets wat de Romeinen niet gewend waren aangezien zij altijd op vlakke en open slagvelden streden. Door het gebrek aan overzicht en de willekeur van de Germanen hadden de Romeinen vanaf het begin een nadeel. Ze konden namelijk hun gebruikelijke tactieken niet uitvoeren door het gebrek aan organisatie en ruimte. Toen na een paar dagen de Romeinse ondergang onafwendbaar leek, pleegde Varus zelfmoord. Hiermee was het lot van zijn troepen ook bezegeld aangezien ze geen leider meer hadden. Van de 18 000 manschappen slaagden slechts enkelen erin aan de vijand te ontsnappen en de Romeinse winterkampen aan de Rijn te bereiken."]),(0,r.createVNode)(2,"div","teutoburgerwoud-img",(0,r.createVNode)(2,"span","teutoburgerwoud-img-txt","Uitzicht van het Teutoburgerwoud gebaseerd op teksten van de eerste eeuw n.C.")),(0,r.createVNode)(2,"p",null,"Deze slag had tot gevolg dat er een einde kwam aan de Romeinse expansie in Noord-Europa. Ook had keizer Augustus besloten dat vanaf toen de Rijn de vaste grens zou worden van het Imperium Romanum."),(0,r.createVNode)(2,"p",null,"In deze slag is heel wat misgelopen, vooral op het vlak van leiderschap. Goed leiderschap vormt de basis voor elke slag als je kans wilt maken op de overwinning. Varus was in geen enkel opzicht een goede leider in deze slag. Hij nam irrationele beslissingen en dacht niet na over de gevolgen hiervan. Het begon reeds bij het niet nagaan van de informatie die hij had verkregen. Hij vertrouwde blind op de verkregen informatie en stippelde meteen een route uit. Hij had eigenlijk eerst de situatie moeten bekijken en eventueel ruiters voorop moeten sturen om na te gaan of er wel degelijk een opstand was. Hiermee had hij het conflict kunnen vermijden aangezien de ruiters dan hadden gezien dat er geen opstand was. Zijn tweede grote fout was om het leger wijd gespreid te laten lopen in een gebied dat hij niet kende. Het leger was namelijk aan het marcheren met een afstand van 15 kilometer tussen de eerste en de laatste soldaten. Hierdoor konden de Germanen met hun grotere aantallen de kleine groepjes Romeinen zonder enig probleem aanvallen. Had hij zijn leger compact laten marcheren, hadden de Romeinen nog een haalbare kans gehad op de overwinning in het gevecht aangezien de laatste troepen dan snel konden bijspringen om de eerste te helpen. Tijdens het gevecht zelf nam hij alleen maar slechte beslissingen. Hij had wel veel tegenslag met het weer waardoor de schutters hun bogen niet konden gebruiken en de houten schilden te zwaar werden om te dragen door het gewicht van het water dat in het hout was opgeslorpt. Hij gaf het order om door te marcheren naar een open plek, maar aangezien hij het bos niet kende wist hij niet dat er geen open plekken in hun nabijheid waren. Dit was een fout order aangezien hij de omgeving niet kende en dus ook niet wist waar er zich nog Germanen bevonden. Hij had zijn positie moeten verdedigen om zo een basis proberen op te richten aangezien het leger het kwetsbaarst is wanneer ze zich aan het verplaatsen zijn. Varus gaf ook geen steun aan zijn manschappen waardoor de strijdlust weg ging en velen het nut van de strijd niet meer zagen. De Legatus, Numonius Vala, van een van zijn drie legioenen was een van die personen die het leiderschap van Varus in twijfel trok en de verzwakte moreel aanvoelde. Hij was dan ook degene die samen met de ruiters vluchtte en zo de troepen in de steek liet. Maar ver kwam hij niet aangezien hij in het bos zelf nog werd afgemaakt door de ruiters van de Germanen. Zonder de steun van de ruiters was het leger verzwakt en dus grepen de Germanen hun kans. Ze begonnen bijna iedereen genadeloos af te slachten. Varus zag op dat ogenblik in dat hij zwaar had gefaald en pleegde daarom zelfmoord."),(0,r.createVNode)(2,"h3",null,"Vergelijking"),(0,r.createVNode)(2,"p",null,"Het is zeer moeilijk om het huidige leger te vergelijken met het Romeinse leger aangezien er zich een zeer grote ontwikkeling heeft plaatsgevonden op het gebied van wetenschappen en technologie. Vroeger streed men met een zwaard en een schild en had je als steun enkel ruiters. Nu wordt er gestreden vanop een zeer grote afstand aangezien men machinegeweren, pistolen, langeafstandsrakketten,… gebruikt. Er zijn nu ook veel nieuwe ondersteuningsmogelijkheden zoals tanks, schepen en vliegtuigen waardoor er een heleboel nieuwe tactieken mogelijk zijn. Door al deze veranderingen heeft men de tactieken die men gebruikt ook moeten veranderen. Vroeger kon men in een man op man gevecht tactieken gebruiken die zeer effectief waren op korte afstand en een klein slagveld. Als men deze tegenwoordig zou uitvoeren, zouden de soldaten ter plaatse worden afgemaakt. De hoeveelheid soldaten die daadwerkelijk vechten is ook sterk afgenomen in vergelijking met het Romeinse leger. Vroeger streed men met legers van zeer grote aantallen. Deze aantallen kunnen we ons tegenwoordig niet meer voorstellen. Er gebeurt nu veel meer achter de schermen om de soldaten die moeten vechten te helpen. Zo wordt er via satellieten of drones informatie verzameld over de omgeving waarin de soldaten zich bevinden en eventueel waar hun vijanden schuilen. Een soldaat heeft nu ook de mogelijkheid om, mits de goedkeuring van zijn aanvoerder, een luchtaanval in te roepen. De huidige tactieken draaien ook niet meer alleen maar rond het militaire aspect, maar ook rond onder andere het economische. Als men zijn vijand economisch kan verzwakken zal deze ook minder weerbaar zijn.")])}},function(e,n){},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=t(21),l=r(i),d=t(51),s=r(d),u=t(33),c=t(13),p=t(34),h=r(p),f=t(32),v=function(){try{return window.history.state||{}}catch(e){return{}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(f.canUseDOM,"Browser history needs a DOM");var n=window.history,t=(0,f.supportsHistory)(),r=!(0,f.supportsPopStateOnHashChange)(),i=e.forceRefresh,d=void 0!==i&&i,p=e.getUserConfirmation,g=void 0===p?f.getConfirmation:p,m=e.keyLength,b=void 0===m?6:m,k=e.basename?(0,c.stripTrailingSlash)((0,c.addLeadingSlash)(e.basename)):"",w=function(e){var n=e||{},t=n.key,r=n.state,o=window.location,i=o.pathname,l=o.search,d=o.hash,s=i+l+d;return k&&(s=(0,c.stripPrefix)(s,k)),a({},(0,c.parsePath)(s),{state:r,key:t})},N=function(){return Math.random().toString(36).substr(2,b)},y=(0,h.default)(),j=function(e){a(B,e),B.length=n.length,y.notifyListeners(B.location,B.action)},V=function(e){(0,f.isExtraneousPopstateEvent)(e)||z(w(e.state))},O=function(){z(w(v()))},_=!1,z=function(e){if(_)_=!1,j();else{y.confirmTransitionTo(e,"POP",g,function(n){n?j({action:"POP",location:e}):C(e)})}},C=function(e){var n=B.location,t=E.indexOf(n.key);-1===t&&(t=0);var r=E.indexOf(e.key);-1===r&&(r=0);var o=t-r;o&&(_=!0,M(o))},x=w(v()),E=[x.key],U=function(e){return k+(0,c.createPath)(e)},P=function(e,r){(0,l.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,N(),B.location);y.confirmTransitionTo(a,"PUSH",g,function(e){if(e){var r=U(a),o=a.key,i=a.state;if(t)if(n.pushState({key:o,state:i},null,r),d)window.location.href=r;else{var s=E.indexOf(B.location.key),u=E.slice(0,-1===s?0:s+1);u.push(a.key),E=u,j({action:"PUSH",location:a})}else(0,l.default)(void 0===i,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},R=function(e,r){(0,l.default)(!("object"===(void 0===e?"undefined":o(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(e,r,N(),B.location);y.confirmTransitionTo(a,"REPLACE",g,function(e){if(e){var r=U(a),o=a.key,i=a.state;if(t)if(n.replaceState({key:o,state:i},null,r),d)window.location.replace(r);else{var s=E.indexOf(B.location.key);-1!==s&&(E[s]=a.key),j({action:"REPLACE",location:a})}else(0,l.default)(void 0===i,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},M=function(e){n.go(e)},S=function(){return M(-1)},D=function(){return M(1)},A=0,T=function(e){A+=e,1===A?((0,f.addEventListener)(window,"popstate",V),r&&(0,f.addEventListener)(window,"hashchange",O)):0===A&&((0,f.removeEventListener)(window,"popstate",V),r&&(0,f.removeEventListener)(window,"hashchange",O))},I=!1,H=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=y.setPrompt(e);return I||(T(1),I=!0),function(){return I&&(I=!1,T(-1)),n()}},L=function(e){var n=y.appendListener(e);return T(1),function(){T(-1),n()}},B={length:n.length,action:"POP",location:x,createHref:U,push:P,replace:R,go:M,goBack:S,goForward:D,block:H,listen:L};return B};n.default=g},function(e,n,t){e.exports=t(42).default,e.exports.default=e.exports},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var n=e.children;return(0,i.createVNode)(2,"div","page",[(0,i.createVNode)(2,"header",null,[(0,i.createVNode)(2,"h1",null,"Het Romeinse Leger"),(0,i.createVNode)(2,"nav",null,(0,i.createVNode)(2,"ul",null,[(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.IndexLink,null,null,{activeClassName:"linkActiveClass",children:"Inleiding"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/onderverdeling",activeClassName:"linkActiveClass",children:"onderverdeling"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/bewapening",activeClassName:"linkActiveClass",children:"bewapening"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/veldslagen",activeClassName:"linkActiveClass",children:"veldslagen"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/besluit",activeClassName:"linkActiveClass",children:"besluit"})),(0,i.createVNode)(2,"li",null,(0,i.createVNode)(16,d.Link,null,null,{to:"/bronnen",activeClassName:"linkActiveClass",children:"bronnen"}))]))]),(0,i.createVNode)(2,"section","content",n),(0,i.createVNode)(2,"footer",null,[(0,i.createVNode)(2,"span",null,"mei 2017"),(0,i.createVNode)(2,"span",null,"Kosh 6LWib"),(0,i.createVNode)(2,"span",null,"Aquila Ziedins (6), Tobias Alexander (1)")])])}function a(e){e.children;return(0,i.createVNode)(2,"div",null,"Hier bent u uit het Romeinse rijk")}var i=t(1),l=r(i),d=t(30),s=t(29),u=r(s);t(28);var c=t(25),p=t(26),h=t(23),f=t(27),v=t(22),g=t(24),m=(0,u.default)(),b=(0,i.createVNode)(16,d.Router,null,null,{history:m,children:(0,i.createVNode)(16,d.Route,null,null,{component:o,children:[(0,i.createVNode)(16,d.IndexRoute,null,null,{component:c.Inleiding}),(0,i.createVNode)(16,d.Route,null,null,{path:"onderverdeling",component:p.Onderverdeling}),(0,i.createVNode)(16,d.Route,null,null,{path:"bewapening",component:h.Bewapening}),(0,i.createVNode)(16,d.Route,null,null,{path:"veldslagen",component:f.Veldslagen}),(0,i.createVNode)(16,d.Route,null,null,{path:"besluit",component:v.Besluit}),(0,i.createVNode)(16,d.Route,null,null,{path:"bronnen",component:g.Bronnen}),(0,i.createVNode)(16,d.Route,null,null,{path:"*",component:a})]})});l.default.render(b,document.getElementById("app"))},function(e,n,t){"use strict";n.__esModule=!0;n.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),n.addEventListener=function(e,n,t){return e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,t)},n.removeEventListener=function(e,n,t){return e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent("on"+n,t)},n.getConfirmation=function(e,n){return n(window.confirm(e))},n.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},n.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},n.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},n.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.locationsAreEqual=n.createLocation=void 0;var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a=t(55),i=r(a),l=t(56),d=r(l),s=t(13);n.createLocation=function(e,n,t,r){var a=void 0;return"string"==typeof e?(a=(0,s.parsePath)(e),a.state=n):(a=o({},e),void 0===a.pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==n&&void 0===a.state&&(a.state=n)),a.key=t,r&&(a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.default)(a.pathname,r.pathname)):a.pathname=r.pathname),a},n.locationsAreEqual=function(e,n){return e.pathname===n.pathname&&e.search===n.search&&e.hash===n.hash&&e.key===n.key&&(0,d.default)(e.state,n.state)}},function(e,n,t){"use strict";n.__esModule=!0;var r=t(21),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){var e=null,n=function(n){return(0,o.default)(null==e,"A history supports only one prompt at a time"),e=n,function(){e===n&&(e=null)}},t=function(n,t,r,a){if(null!=e){var i="function"==typeof e?e(n,t):e;"string"==typeof i?"function"==typeof r?r(i,a):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==i)}else a(!0)},r=[];return{setPrompt:n,confirmTransitionTo:t,appendListener:function(e){var n=!0,t=function(){n&&e.apply(void 0,arguments)};return r.push(t),function(){n=!1,r=r.filter(function(e){return e!==t})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];r.forEach(function(e){return e.apply(void 0,n)})}}};n.default=a},function(e,n,t){"use strict";function r(e,n){if(28&e.flags){var t=e.parentVNode;t&&(t.dom=n,r(t,n))}}function o(e,n,t){var r=s.get(e);void 0===r&&(r=[],s.set(e,r),u.then(function(){s.delete(e),e._updating=!0,i(e,n,function(){for(var n=0,t=r.length;n<t;n++)r[n].call(e)}),e._updating=!1})),d.isNullOrUndef(t)||r.push(t)}function a(e,n,t){d.isFunction(n)&&(n=n(e.state,e.props,e.context));var r=e._pendingState;if(null===r)e._pendingState=r=n;else for(var a in n)r[a]=n[a];if(!d.isBrowser||e._pendingSetState||e._blockRender){var l=e.state;if(null===l)e.state=r;else for(var s in r)l[s]=r[s];e._pendingState=null,!d.isNullOrUndef(t)&&e._blockRender&&e._lifecycle.addListener(t.bind(e))}else e._updating?o(e,!1,t):(e._pendingSetState=!0,e._updating=!0,i(e,!1,t),e._updating=!1)}function i(e,n,t){if(!e._unmounted){if(n||!e._blockRender){e._pendingSetState=!1;var o=e._pendingState,a=e.state,i=d.combineFrom(a,o),s=e.props,u=e.context;e._pendingState=null;var c=e._updateComponent(a,i,s,s,u,n,!0),p=!0;d.isInvalid(c)?c=l.createVNode(4096,null):c===d.NO_OP?(c=e._lastInput,p=!1):d.isStringOrNumber(c)?c=l.createVNode(1,null,null,c):d.isArray(c)&&d.throwError();var h=e._lastInput,f=e._vNode,v=h.dom&&h.dom.parentNode||(h.dom=f.dom);if(e._lastInput=c,p){var g=void 0;d.isUndefined(e.getChildContext)||(g=e.getChildContext()),g=d.isNullOrUndef(g)?e._childContext:d.combineFrom(u,g);var m=e._lifecycle;l.internal_patch(h,c,v,m,g,e._isSVG,!1),m.trigger(),d.isUndefined(e.componentDidUpdate)||e.componentDidUpdate(s,a,u),d.isNull(l.options.afterUpdate)||l.options.afterUpdate(f)}var b=f.dom=c.dom;l.options.findDOMNodeEnabled&&l.internal_DOMNodeMap.set(e,c.dom),r(f,b)}else e.state=e._pendingState,e._pendingState=null;d.isNullOrUndef(t)||t.call(e)}}Object.defineProperty(n,"__esModule",{value:!0});var l=t(1),d=t(0),s=(d.ERROR_MSG,new Map),u=Promise.resolve(),c=function(){function e(e,n){this.state=null,this._blockRender=!1,this._blockSetState=!0,this._pendingSetState=!1,this._pendingState=null,this._lastInput=null,this._vNode=null,this._unmounted=!1,this._lifecycle=null,this._childContext=null,this._isSVG=!1,this._updating=!0,this.props=e||l.EMPTY_OBJ,this.context=n||l.EMPTY_OBJ}return e.prototype.forceUpdate=function(e){!this._unmounted&&d.isBrowser&&i(this,!0,e)},e.prototype.setState=function(e,n){this._unmounted||(this._blockSetState?d.throwError():a(this,e,n))},e.prototype.setStateSync=function(e){this.setState(e)},e.prototype._updateComponent=function(e,n,t,r,o,a,i){if(!0===this._unmounted&&d.throwError(),t!==r||r===l.EMPTY_OBJ||e!==n||a){if(t===r&&r!==l.EMPTY_OBJ||(d.isUndefined(this.componentWillReceiveProps)||i||(this._blockRender=!0,this.componentWillReceiveProps(r,o),this._blockRender=!1),this._pendingSetState&&(n=d.combineFrom(n,this._pendingState),this._pendingSetState=!1,this._pendingState=null)),d.isUndefined(this.shouldComponentUpdate)||this.shouldComponentUpdate(r,n,o)||a){d.isUndefined(this.componentWillUpdate)||(this._blockSetState=!0,this.componentWillUpdate(r,n,o),this._blockSetState=!1),this.props=r,this.state=n,this.context=o,l.options.beforeRender&&l.options.beforeRender(this);var s=this.render(r,n,o);return l.options.afterRender&&l.options.afterRender(this),s}this.props=r,this.state=n,this.context=o}return d.NO_OP},e.prototype.render=function(e,n,t){},e}();n.default=c},function(e,n,t){"use strict";function r(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(a.isInvalid(e)||a.isObject(e))throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");var l,d=t,s=null,u=null,c=null,p=0;if(t&&(1===t.length?d=t[0]:0===t.length&&(d=void 0)),a.isString(e)){if(p=o.getFlagsForElementVnode(e),!a.isNullOrUndef(n)){l={};for(var h in n)"className"===h||"class"===h?c=n[h]:"key"===h?u=n.key:"children"===h&&a.isUndefined(d)?d=n.children:"ref"===h?s=n.ref:l[h]=n[h]}}else if(p=16,a.isUndefined(d)||(n||(n={}),n.children=d,d=null),!a.isNullOrUndef(n)){l={};for(var h in n)i.has(h)?(s||(s={}),s[h]=n[h]):"key"===h?u=n.key:l[h]=n[h]}return o.createVNode(p,e,c,d,l,u,s)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),a=t(0),i=new Set;i.add("onComponentWillMount"),i.add("onComponentDidMount"),i.add("onComponentWillUnmount"),i.add("onComponentShouldUpdate"),i.add("onComponentWillUpdate"),i.add("onComponentDidUpdate"),n.default=r},function(e,n,t){"use strict";function r(e){return e.to="/",o.createVNode(8,a.default,null,null,e)}Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),a=t(15);n.default=r},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(7),a=function(e){function n(n,t){var r=e.call(this,n,t)||this;return n.path="/",r}return r(n,e),n}(o.default);n.default=a},function(e,n,t){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t(7),a=function(e){function n(n,t){var r=e.call(this,n,t)||this;return n.to||(n.to="/"),r}return r(n,e),n}(o.default);n.default=a},function(e,n,t){"use strict";function r(e){if(!e)throw new TypeError('Inferno: Error "inferno-router" requires a history prop passed');return{createHref:e.createHref,listen:e.listen,push:e.push,replace:e.replace,isActive:function(e){return l.matchPath(!0,e,this.url)},get location(){return"blank"!==e.location.pathname?e.location:{pathname:"/",search:""}},get url(){return this.location.pathname+this.location.search}}}var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t(1),i=t(10),l=t(17),d=t(16),s=function(e){function n(n,t){var o=e.call(this,n,t)||this;return o.router=r(n.history),o.state={url:n.url||o.router.url},o}return o(n,e),n.prototype.componentWillMount=function(){var e=this;this.router&&(this.unlisten=this.router.listen(function(){e.routeTo(e.router.url)}))},n.prototype.componentWillReceiveProps=function(e){var n=this;this.setState({url:e.url},this.props.onUpdate?function(){return n.props.onUpdate()}:void 0)},n.prototype.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.prototype.routeTo=function(e){var n=this;this.setState({url:e},this.props.onUpdate?function(){return n.props.onUpdate()}:void 0)},n.prototype.render=function(e){var n=this,t=l.default(e.children,this.state.url);return t.redirect?(setTimeout(function(){n.router.replace(t.redirect)},0),null):a.createVNode(4,d.default,null,null,{location:this.state.url,matched:t.matched,router:this.router})},n}(i.default);n.default=s},function(e,n,t){"use strict";function r(e){if(e.indexRoute&&!e.childRoutes)return o.default(i.default,e);var n={};for(var t in e)n[t]=e[t];if(n.children=[],n.indexRoute&&(n.children.push(l(n.indexRoute)),delete n.indexRoute),n.childRoutes){var r=a.isArray(n.childRoutes)?n.childRoutes:[n.childRoutes];(d=n.children).push.apply(d,s(r)),delete n.childRoutes}return 1===n.children.length&&(n.children=n.children[0]),(a.isArray(n.children)&&0===n.children.length||!a.isArray(n.children)&&0===Object.keys(n.children).length)&&delete n.children,o.default(i.default,n);var d}Object.defineProperty(n,"__esModule",{value:!0});var o=t(14),a=t(0),i=t(7),l=function(e){return o.default(i.default,e)},d=function(e){return r(e)},s=function(e){return e.map(d)};n.default=function(e){return e.map(r)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(41);n.createRoutes=r.default;var o=t(37);n.IndexLink=o.default;var a=t(38);n.IndexRoute=a.default;var i=t(15);n.Link=i.default;var l=t(17);n.match=l.default;var d=t(39);n.Redirect=d.default,n.IndexRedirect=d.default;var s=t(7);n.Route=s.default;var u=t(40);n.Router=u.default;var c=t(16);n.RouterContext=c.default,n.default={Route:s.default,IndexRoute:a.default,Redirect:d.default,IndexRedirect:d.default,Router:u.default,RouterContext:c.default,Link:i.default,IndexLink:o.default,match:l.default,createRoutes:r.default}},function(e,n,t){"use strict";function r(e){return n.isArray(e)?e:e?[e]:e}function o(e){return!h(e.prototype)&&!h(e.prototype.render)}function a(e){var n=typeof e;return"string"===n||"number"===n}function i(e){return h(e)||c(e)}function l(e){return c(e)||!1===e||p(e)||h(e)}function d(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return null===e}function p(e){return!0===e}function h(e){return void 0===e}function f(e){return"object"==typeof e}function v(e){throw e||(e=n.ERROR_MSG),new Error("Inferno Error: "+e)}function g(e){console.warn(e)}function m(e,n){var t={};if(e)for(var r in e)t[r]=e[r];if(n)for(var r in n)t[r]=n[r];return t}function b(){this.listeners=[]}Object.defineProperty(n,"__esModule",{value:!0}),n.NO_OP="$NO_OP",n.ERROR_MSG="a runtime error occured! Use Inferno in development environment to find the error.",n.isBrowser=!("undefined"==typeof window||!window.document),n.toArray=r,n.isArray=Array.isArray,n.isStatefulComponent=o,n.isStringOrNumber=a,n.isNullOrUndef=i,n.isInvalid=l,n.isFunction=d,n.isString=s,n.isNumber=u,n.isNull=c,n.isTrue=p,n.isUndefined=h,n.isObject=f,n.throwError=v,n.warning=g,n.combineFrom=m,n.Lifecycle=b,b.prototype.addListener=function(e){this.listeners.push(e)},b.prototype.trigger=function(){for(var e,n=this.listeners;e=n.shift();)e()}},function(e,n,t){"use strict";function r(e,n,t,r){var o=p.get(e);if(t)o||(o={items:new Map,docEvent:null},o.docEvent=l(e,o),p.set(e,o)),n||c&&"onClick"===e&&s(r),o.items.set(r,t);else if(o){var i=o.items;i.delete(r)&&0===i.size&&(document.removeEventListener(a(e),o.docEvent),p.delete(e))}}function o(e,n,t,r,a,i){var l=t.get(n);if((!l||(r--,i.dom=n,l.event?l.event(l.data,e):l(e),!e.cancelBubble))&&r>0){var d=n.parentNode;if(null===d||a&&1===d.nodeType&&d.disabled)return;o(e,d,t,r,a,i)}}function a(e){return e.substr(2).toLowerCase()}function i(){this.cancelBubble=!0,this.stopImmediatePropagation()}function l(e,n){var t=function(e){var t=n.items.size;if(t>0){e.stopPropagation=i;var r={dom:document};try{Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return r.dom}})}catch(e){}o(e,e.target,n.items,t,"click"===e.type,r)}};return document.addEventListener(a(e),t),t}function d(){}function s(e){e.onclick=d}Object.defineProperty(n,"__esModule",{value:!0});var u=t(0),c=u.isBrowser&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),p=new Map;n.handleEvent=r},function(e,n,t){"use strict";function r(e,n){return{data:e,event:n}}Object.defineProperty(n,"__esModule",{value:!0}),n.linkEvent=r},function(e,n,t){"use strict";function r(e){for(var n=e.firstChild;n;)if(8===n.nodeType)if("!"===n.data){var t=document.createTextNode("");e.replaceChild(t,n),n=n.nextSibling}else{var r=n.previousSibling;e.removeChild(n),n=r||e.firstChild}else n=n.nextSibling}function o(e,n,t,r,o,a){var i=e.type,l=e.ref;e.dom=n;var d=e.props||m.EMPTY_OBJ;if(a){var u=n.namespaceURI===h.svgNS,c=m.createClassComponentInstance(e,i,d,r,u,t),v=c._lastInput;c._vNode=e,s(v,n,t,c._childContext,u),f.mountClassComponentCallbacks(e,l,c,t),c._updating=!1,p.options.findDOMNodeEnabled&&g.componentToDOMNodeMap.set(c,n)}else{var v=m.createFunctionalComponentInput(e,i,d,r);s(v,n,t,r,o),e.children=v,e.dom=v.dom,f.mountFunctionalComponentCallbacks(l,n,t)}return n}function a(e,n,t,r,o){var a=e.children,l=e.props,d=e.className,s=e.flags,u=e.ref;if(o=o||(128&s)>0,1!==n.nodeType||n.tagName.toLowerCase()!==e.type){var p=f.mountElement(e,null,t,r,o);return e.dom=p,m.replaceChild(n.parentNode,p,n),p}if(e.dom=n,a&&i(a,n,t,r,o),l){var h=!1,g=(3584&s)>0;g&&(h=b.isControlledFormElement(l));for(var k in l)v.patchProp(k,null,l[k],n,o,h);g&&b.processElement(s,e,n,l,!0,h)}return c.isNullOrUndef(d)?n.removeAttribute("class"):o?n.setAttribute("class",d):n.className=d,u&&f.mountRef(n,u,t),n}function i(e,n,t,o,a){r(n);var i=n.firstChild;if(c.isArray(e))for(var l=0,d=e.length;l<d;l++){var u=e[l];!c.isNull(u)&&c.isObject(u)&&(c.isNull(i)?f.mount(u,n,t,o,a):i=s(u,i,t,o,a).nextSibling)}else c.isStringOrNumber(e)?(i&&3===i.nodeType?i.nodeValue!==e&&(i.nodeValue=e):e&&(n.textContent=e),i=i.nextSibling):c.isObject(e)&&(s(e,i,t,o,a),i=i.nextSibling);for(;i;){var p=i.nextSibling;n.removeChild(i),i=p}}function l(e,n){if(3!==n.nodeType){var t=f.mountText(e,null);return e.dom=t,m.replaceChild(n.parentNode,t,n),t}var r=e.children;return n.nodeValue!==r&&(n.nodeValue=r),e.dom=n,n}function d(e,n){return e.dom=n,n}function s(e,n,t,r,i){var s=e.flags;return 28&s?o(e,n,t,r,i,(4&s)>0):3970&s?a(e,n,t,r,i):1&s?l(e,n):4096&s?d(e,n):void c.throwError()}function u(e,n,t){if(!c.isNull(n)){var r=n.firstChild;if(!c.isNull(r)){for(s(e,r,t,m.EMPTY_OBJ,!1),r=n.firstChild;r=r.nextSibling;)n.removeChild(r);return!0}}return!1}Object.defineProperty(n,"__esModule",{value:!0});var c=t(0),p=t(3),h=t(8),f=t(9),v=t(5),g=t(6),m=t(2),b=t(12);n.normalizeChildNodes=r,n.hydrateRoot=u},function(e,n,t){"use strict";function r(e){return"checkbox"===e||"radio"===e}function o(e){var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onInput){var a=t.onInput;a.event?a.event(a.data,e):a(e)}else t.oninput&&t.oninput(e);var i=this,l=i.props||u.EMPTY_OBJ;o!==l.value&&d(l,r)}function a(e){var n=this.props||u.EMPTY_OBJ,t=n.onChange;t.event?t.event(t.data,e):t(e)}function i(e){e.stopPropagation();var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onClick){var a=t.onClick;a.event?a.event(a.data,e):a(e)}else t.onclick&&t.onclick(e);var i=this,l=i.props||u.EMPTY_OBJ;o!==l.value&&d(l,r)}function l(e,n,t,l,s){d(t,n),l&&s&&(r(t.type)?(n.onclick=i.bind(e),n.onclick.wrapped=!0):(n.oninput=o.bind(e),n.oninput.wrapped=!0),t.onChange&&(n.onchange=a.bind(e),n.onchange.wrapped=!0))}function d(e,n){var t=e.type,o=e.value,a=e.checked,i=e.multiple,l=e.defaultValue,d=!s.isNullOrUndef(o);t&&t!==n.type&&n.setAttribute("type",t),i&&i!==n.multiple&&(n.multiple=i),s.isNullOrUndef(l)||d||(n.defaultValue=l+""),r(t)?(d&&(n.value=o),s.isNullOrUndef(a)||(n.checked=a)):d&&n.value!==o?n.value=o:s.isNullOrUndef(a)||(n.checked=a)}Object.defineProperty(n,"__esModule",{value:!0});var s=t(0),u=t(2);n.isCheckedType=r,n.processInput=l,n.applyValue=d},function(e,n,t){"use strict";function r(e,n){if("optgroup"===e.type){var t=e.children;if(d.isArray(t))for(var r=0,a=t.length;r<a;r++)o(t[r],n);else s.isVNode(t)&&o(t,n)}else o(e,n)}function o(e,n){var t=e.props||u.EMPTY_OBJ,r=e.dom;r.value=t.value,d.isArray(n)&&-1!==n.indexOf(t.value)||t.value===n?r.selected=!0:d.isNullOrUndef(n)&&d.isNullOrUndef(t.selected)||(r.selected=t.selected||!1)}function a(e){var n=this,t=n.props||u.EMPTY_OBJ,r=n.dom,o=t.value;if(t.onChange){var a=t.onChange;a.event?a.event(a.data,e):a(e)}else t.onchange&&t.onchange(e);var i=this,d=i.props||u.EMPTY_OBJ;o!==d.value&&l(i,r,d,!1)}function i(e,n,t,r,o){l(e,n,t,r),r&&o&&(n.onchange=a.bind(e),n.onchange.wrapped=!0)}function l(e,n,t,o){t.multiple!==n.multiple&&(n.multiple=t.multiple);var a=e.children;if(!d.isInvalid(a)){var i=t.value;if(o&&d.isNullOrUndef(i)&&(i=t.defaultValue),d.isArray(a))for(var l=0,u=a.length;l<u;l++)r(a[l],i);else s.isVNode(a)&&r(a,i)}}Object.defineProperty(n,"__esModule",{value:!0});var d=t(0),s=t(4),u=t(2);n.processSelect=i,n.applyValue=l},function(e,n,t){"use strict";function r(e){var n=this.props||d.EMPTY_OBJ,t=n.onChange;t.event?t.event(t.data,e):t(e)}function o(e){var n=this,t=n.props||d.EMPTY_OBJ,r=t.value;if(t.onInput){var o=t.onInput;o.event?o.event(o.data,e):o(e)}else t.oninput&&t.oninput(e);var a=this;r!==(a.props||d.EMPTY_OBJ).value&&i(a,n.dom,!1)}function a(e,n,t,a,l){i(t,n,a),a&&l&&(n.oninput=o.bind(e),n.oninput.wrapped=!0,t.onChange&&(n.onchange=r.bind(e),n.onchange.wrapped=!0))}function i(e,n,t){var r=e.value,o=n.value;if(l.isNullOrUndef(r)){if(t){var a=e.defaultValue;l.isNullOrUndef(a)?""!==o&&(n.value=""):a!==o&&(n.value=a)}}else o!==r&&(n.value=r)}Object.defineProperty(n,"__esModule",{value:!0});var l=t(0),d=t(2);n.processTextarea=a,n.applyValue=i},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0);n.NO_OP=r.NO_OP;var o=t(20);n.getFlagsForElementVnode=o.getFlagsForElementVnode,n.internal_normalize=o.normalize;var a=t(3);n.options=a.options;var i=t(4);n.cloneVNode=i.cloneVNode,n.createVNode=i.createVNode;var l=t(8);n.internal_isUnitlessNumber=l.isUnitlessNumber;var d=t(45);n.linkEvent=d.linkEvent;var s=t(5);n.internal_patch=s.patch;var u=t(6);n.internal_DOMNodeMap=u.componentToDOMNodeMap,n.createRenderer=u.createRenderer,n.findDOMNode=u.findDOMNode,n.render=u.render;var c=t(2);n.EMPTY_OBJ=c.EMPTY_OBJ;n.version="3.1.0",n.default={getFlagsForElementVnode:o.getFlagsForElementVnode,linkEvent:d.linkEvent,createVNode:i.createVNode,cloneVNode:i.cloneVNode,NO_OP:r.NO_OP,EMPTY_OBJ:c.EMPTY_OBJ,render:u.render,findDOMNode:u.findDOMNode,createRenderer:u.createRenderer,options:a.options,version:"3.1.0",internal_patch:s.patch,internal_DOMNodeMap:u.componentToDOMNodeMap,internal_isUnitlessNumber:l.isUnitlessNumber,internal_normalize:o.normalize}},function(e,n,t){"use strict";var r=function(e,n,t,r,o,a,i,l){if(!e){var d;if(void 0===n)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[t,r,o,a,i,l],u=0;d=new Error(n.replace(/%s/g,function(){return s[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};e.exports=r},function(e,n){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,n,t){var r=t(54);e.exports=r,e.exports.parse=r.parse,e.exports.compile=r.compile,e.exports.tokensToFunction=r.tokensToFunction,e.exports.tokensToRegExp=r.tokensToRegExp,e.exports.default=e.exports},function(e,n,t){function r(e,n){for(var t,r=[],o=0,a=0,i="",l=n&&n.delimiter||"/";null!=(t=b.exec(e));){var u=t[0],c=t[1],p=t.index;if(i+=e.slice(a,p),a=p+u.length,c)i+=c[1];else{var h=e[a],f=t[2],v=t[3],g=t[4],m=t[5],k=t[6],w=t[7];i&&(r.push(i),i="");var N=null!=f&&null!=h&&h!==f,y="+"===k||"*"===k,j="?"===k||"*"===k,V=t[2]||l,O=g||m;r.push({name:v||o++,prefix:f||"",delimiter:V,optional:j,repeat:y,partial:N,asterisk:!!w,pattern:O?s(O):w?".*":"[^"+d(V)+"]+?"})}}return a<e.length&&(i+=e.substr(a)),i&&r.push(i),r}function o(e,n){return l(r(e,n))}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){for(var n=new Array(e.length),t=0;t<e.length;t++)"object"==typeof e[t]&&(n[t]=new RegExp("^(?:"+e[t].pattern+")$"));return function(t,r){for(var o="",l=t||{},d=r||{},s=d.pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var p,h=l[c.name];if(null==h){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(m(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=s(h[f]),!n[u].test(p))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===f?c.prefix:c.delimiter)+p}}else{if(p=c.asterisk?i(h):s(h),!n[u].test(p))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+p+'"');o+=c.prefix+p}}else o+=c}return o}}function d(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,n){return e.keys=n,e}function c(e){return e.sensitive?"":"i"}function p(e,n){var t=e.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)n.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,n)}function h(e,n,t){for(var r=[],o=0;o<e.length;o++)r.push(g(e[o],n,t).source);return u(new RegExp("(?:"+r.join("|")+")",c(t)),n)}function f(e,n,t){return v(r(e,t),n,t)}function v(e,n,t){m(n)||(t=n||t,n=[]),t=t||{};for(var r=t.strict,o=!1!==t.end,a="",i=0;i<e.length;i++){var l=e[i];if("string"==typeof l)a+=d(l);else{var s=d(l.prefix),p="(?:"+l.pattern+")";n.push(l),l.repeat&&(p+="(?:"+s+p+")*"),p=l.optional?l.partial?s+"("+p+")?":"(?:"+s+"("+p+"))?":s+"("+p+")",a+=p}}var h=d(t.delimiter||"/"),f=a.slice(-h.length)===h;return r||(a=(f?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":r&&f?"":"(?="+h+"|$)",u(new RegExp("^"+a,c(t)),n)}function g(e,n,t){return m(n)||(t=n||t,n=[]),t=t||{},e instanceof RegExp?p(e,n):m(e)?h(e,n,t):f(e,n,t)}var m=t(52);e.exports=g,e.exports.parse=r,e.exports.compile=o,e.exports.tokensToFunction=l,e.exports.tokensToRegExp=v;var b=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,n,t){"use strict";var r=function(e){return"/"===e.charAt(0)},o=function(e,n){for(var t=n,r=t+1,o=e.length;r<o;t+=1,r+=1)e[t]=e[r];e.pop()},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=e&&e.split("/")||[],a=n&&n.split("/")||[],i=e&&r(e),l=n&&r(n),d=i||l;if(e&&r(e)?a=t:t.length&&(a.pop(),a=a.concat(t)),!a.length)return"/";var s=void 0;if(a.length){var u=a[a.length-1];s="."===u||".."===u||""===u}else s=!1;for(var c=0,p=a.length;p>=0;p--){var h=a[p];"."===h?o(a,p):".."===h?(o(a,p),c++):c&&(o(a,p),c--)}if(!d)for(;c--;c)a.unshift("..");!d||""===a[0]||a[0]&&r(a[0])||a.unshift("");var f=a.join("/");return s&&"/"!==f.substr(-1)&&(f+="/"),f};e.exports=a},function(e,n,t){"use strict";n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function e(n,t){if(n===t)return!0;if(null==n||null==t)return!1;if(Array.isArray(n))return Array.isArray(t)&&n.length===t.length&&n.every(function(n,r){return e(n,t[r])});var o=void 0===n?"undefined":r(n);if(o!==(void 0===t?"undefined":r(t)))return!1;if("object"===o){var a=n.valueOf(),i=t.valueOf();if(a!==n||i!==t)return e(a,i);var l=Object.keys(n),d=Object.keys(t);return l.length===d.length&&l.every(function(r){return e(n[r],t[r])})}return!1};n.default=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBmNDZmNDA3OGQxYzU0MGU5YzBjNCIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tc2hhcmVkL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvY29yZS9vcHRpb25zLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L2NvcmUvVk5vZGVzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9wYXRjaGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vcmVuZGVyaW5nLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9Sb3V0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9tb3VudGluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS91bm1vdW50aW5nLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9wcm9jZXNzRWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvUGF0aFV0aWxzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1jcmVhdGUtZWxlbWVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvTGluay5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvbWF0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS9yZWN5Y2xpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvY29yZS9ub3JtYWxpemF0aW9uLmpzIiwid2VicGFjazovLy8uL34vd2FybmluZy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9iZXNsdWl0LmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYmV3YXBlbmluZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jyb25uZW4uanN4Iiwid2VicGFjazovLy8uL3NyYy9pbmxlaWRpbmcuanN4Iiwid2VicGFjazovLy8uL3NyYy9vbmRlcnZlcmRlbGluZy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZlbGRzbGFnZW4uanN4Iiwid2VicGFjazovLy8uL34vaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzeCIsIndlYnBhY2s6Ly8vLi9+L2hpc3RvcnkvRE9NVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L0xvY2F0aW9uVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9oaXN0b3J5L2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1jb21wb25lbnQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tY3JlYXRlLWVsZW1lbnQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvSW5kZXhMaW5rLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9JbmRleFJvdXRlLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9SZWRpcmVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvUm91dGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9jcmVhdGVSb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby1zaGFyZWQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2RlbGVnYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvRE9NL2V2ZW50cy9saW5rRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvRE9NL2h5ZHJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2luZmVybm8vZGlzdC9ET00vd3JhcHBlcnMvSW5wdXRXcmFwcGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9TZWxlY3RXcmFwcGVyLmpzIiwid2VicGFjazovLy8uL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9UZXh0YXJlYVdyYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbmZlcm5vL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9pbnZhcmlhbnQvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wYXRoLXRvLXJlZ2V4cC1lczYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wYXRoLXRvLXJlZ2V4cC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3Jlc29sdmUtcGF0aG5hbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi92YWx1ZS1lcXVhbC9pbmRleC5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiaG90RGlzcG9zZUNodW5rIiwiY2h1bmtJZCIsImluc3RhbGxlZENodW5rcyIsImhvdERvd25sb2FkVXBkYXRlQ2h1bmsiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2hhcnNldCIsInNyYyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJwIiwiaG90Q3VycmVudEhhc2giLCJhcHBlbmRDaGlsZCIsImhvdERvd25sb2FkTWFuaWZlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlhNTEh0dHBSZXF1ZXN0IiwiRXJyb3IiLCJyZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsImhvdENyZWF0ZVJlcXVpcmUiLCJtb2R1bGVJZCIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsImZuIiwiaG90IiwiYWN0aXZlIiwicGFyZW50cyIsImluZGV4T2YiLCJwdXNoIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwibmFtZSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiaG90Q2h1bmtzTG9hZGluZyIsImhvdFN0YXR1cyIsImhvdFdhaXRpbmdGaWxlc01hcCIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJob3RDcmVhdGVNb2R1bGUiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsIl9kaXNwb3NlSGFuZGxlcnMiLCJfbWFpbiIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwiaSIsImxlbmd0aCIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImlkeCIsInNwbGljZSIsImNoZWNrIiwiaG90Q2hlY2siLCJhcHBseSIsImhvdEFwcGx5IiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJkYXRhIiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJ1bmRlZmluZWQiLCJuZXdTdGF0dXMiLCJ0b01vZHVsZUlkIiwiaWQiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImMiLCJob3RVcGRhdGVOZXdIYXNoIiwiaCIsInByb21pc2UiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZSIsImhvdEFkZFVwZGF0ZUNodW5rIiwibW9yZU1vZHVsZXMiLCJkZWZlcnJlZCIsInJlc3VsdCIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImNiIiwiaiIsIm1vZHVsZSIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsInVwZGF0ZU1vZHVsZUlkIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwicGFyZW50SWQiLCJwYXJlbnQiLCJjb25jYXQiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsImpvaW4iLCJvbkRlY2xpbmVkIiwiaWdub3JlRGVjbGluZWQiLCJvblVuYWNjZXB0ZWQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib25BY2NlcHRlZCIsIm9uRGlzcG9zZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImRpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwiZGVwZW5kZW5jeSIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yZ2luYWxFcnJvciIsImV4cG9ydHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsInRoaXMiLCJtIiwiZCIsImdldHRlciIsIm8iLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsImRlZmF1bHQiLCJjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlIiwidk5vZGUiLCJDb21wb25lbnQiLCJwcm9wcyIsImNvbnRleHQiLCJpc1NWRyIsImxpZmVjeWNsZSIsImluZmVybm9fc2hhcmVkXzEiLCJpc1VuZGVmaW5lZCIsIkVNUFRZX09CSiIsImluc3RhbmNlIiwiX2Jsb2NrU2V0U3RhdGUiLCJfbGlmZWN5Y2xlIiwiX3VubW91bnRlZCIsIl9wZW5kaW5nU2V0U3RhdGUiLCJfaXNTVkciLCJjb21wb25lbnRXaWxsTW91bnQiLCJfYmxvY2tSZW5kZXIiLCJjaGlsZENvbnRleHQiLCJnZXRDaGlsZENvbnRleHQiLCJpc051bGxPclVuZGVmIiwiX2NoaWxkQ29udGV4dCIsImNvbWJpbmVGcm9tIiwiaXNOdWxsIiwib3B0aW9uc18xIiwiYmVmb3JlUmVuZGVyIiwiaW5wdXQiLCJyZW5kZXIiLCJzdGF0ZSIsImFmdGVyUmVuZGVyIiwiaXNBcnJheSIsInRocm93RXJyb3IiLCJpc0ludmFsaWQiLCJWTm9kZXNfMSIsImNyZWF0ZVZvaWRWTm9kZSIsImlzU3RyaW5nT3JOdW1iZXIiLCJjcmVhdGVUZXh0Vk5vZGUiLCJkb20iLCJkaXJlY3RDbG9uZSIsImZsYWdzIiwicGFyZW50Vk5vZGUiLCJfbGFzdElucHV0IiwicmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQiLCJsYXN0SW5wdXQiLCJuZXh0SW5wdXQiLCJwYXJlbnREb20iLCJpc1JlY3ljbGluZyIsInJlcGxhY2VWTm9kZSIsIm1vdW50aW5nXzEiLCJtb3VudCIsInVubW91bnRpbmdfMSIsInVubW91bnQiLCJyZXBsYWNlQ2hpbGQiLCJjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50SW5wdXQiLCJjb21wb25lbnQiLCJzZXRUZXh0Q29udGVudCIsInRleHQiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRleHROb2RlIiwidXBkYXRlVGV4dENvbnRlbnQiLCJmaXJzdENoaWxkIiwibm9kZVZhbHVlIiwiaW5zZXJ0T3JBcHBlbmQiLCJuZXdOb2RlIiwibmV4dE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJkb2N1bWVudENyZWF0ZUVsZW1lbnQiLCJ0YWciLCJjcmVhdGVFbGVtZW50TlMiLCJjb25zdGFudHNfMSIsInN2Z05TIiwicmVwbGFjZVdpdGhOZXdOb2RlIiwibGFzdE5vZGUiLCJuZXh0RG9tIiwibGFzdERvbSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUFsbENoaWxkcmVuIiwicmVjeWNsaW5nRW5hYmxlZCIsInJlbW92ZUNoaWxkcmVuIiwibGVuIiwiaXNLZXllZCIsImxhc3RDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsImtleSIsImFmdGVyTW91bnQiLCJhZnRlclVwZGF0ZSIsImJlZm9yZVVubW91bnQiLCJjcmVhdGVWTm9kZSIsImZpbmRET01Ob2RlRW5hYmxlZCIsInJvb3RzIiwiVk5vZGUiLCJjbGFzc05hbWUiLCJyZWYiLCJub05vcm1hbGlzZSIsImlzU3RhdGVmdWxDb21wb25lbnQiLCJub3JtYWxpemF0aW9uXzEiLCJub3JtYWxpemUiLCJ2Tm9kZVRvQ2xvbmUiLCJuZXdWTm9kZSIsInByb3BzVG9DbG9uZSIsInV0aWxzXzEiLCJuZXdQcm9wcyIsIm5ld0NoaWxkcmVuIiwidG1wQXJyYXkiLCJpc1ZOb2RlIiwiY2xvbmVWTm9kZSIsIl9jaGlsZHJlbiIsIl9pIiwiYXJndW1lbnRzIiwiY2hpbGRyZW5MZW4iLCJwYXRjaCIsImxhc3RWTm9kZSIsIm5leHRWTm9kZSIsImxhc3RGbGFncyIsIm5leHRGbGFncyIsInBhdGNoQ29tcG9uZW50IiwibW91bnRDb21wb25lbnQiLCJwYXRjaEVsZW1lbnQiLCJtb3VudEVsZW1lbnQiLCJwYXRjaFRleHQiLCJtb3VudFRleHQiLCJwYXRjaFZvaWQiLCJtb3VudFZvaWQiLCJ1bm1vdW50Q2hpbGRyZW4iLCJuZXh0VGFnIiwibGFzdFByb3BzIiwibmV4dFByb3BzIiwibmV4dFJlZiIsImxhc3RDbGFzc05hbWUiLCJuZXh0Q2xhc3NOYW1lIiwicGF0Y2hDaGlsZHJlbiIsImxhc3RQcm9wc09yRW1wdHkiLCJuZXh0UHJvcHNPckVtcHR5IiwiaGFzQ29udHJvbGxlZFZhbHVlIiwiaXNGb3JtRWxlbWVudCIsInByb2Nlc3NFbGVtZW50XzEiLCJpc0NvbnRyb2xsZWRGb3JtRWxlbWVudCIsInByb3AiLCJuZXh0VmFsdWUiLCJwYXRjaFByb3AiLCJwcm9jZXNzRWxlbWVudCIsInJlbW92ZVByb3AiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJtb3VudFJlZiIsInBhdGNoQXJyYXkiLCJwYXRjaEtleWVkIiwibW91bnRBcnJheUNoaWxkcmVuIiwicGF0Y2hLZXllZENoaWxkcmVuIiwicGF0Y2hOb25LZXllZENoaWxkcmVuIiwiaXNDbGFzcyIsImxhc3RUeXBlIiwibmV4dFR5cGUiLCJsYXN0S2V5IiwibmV4dEtleSIsIl91cGRhdGluZyIsImhhc0NvbXBvbmVudERpZFVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsIm5leHRTdGF0ZSIsImxhc3RTdGF0ZSIsIl91cGRhdGVDb21wb25lbnQiLCJkaWRVcGRhdGUiLCJOT19PUCIsImlzT2JqZWN0IiwiX3ZOb2RlIiwicmVuZGVyaW5nXzEiLCJjb21wb25lbnRUb0RPTU5vZGVNYXAiLCJzaG91bGRVcGRhdGUiLCJuZXh0SG9va3MiLCJuZXh0SG9va3NEZWZpbmVkIiwib25Db21wb25lbnRTaG91bGRVcGRhdGUiLCJvbkNvbXBvbmVudFdpbGxVcGRhdGUiLCJvbkNvbXBvbmVudERpZFVwZGF0ZSIsIm5leHRUZXh0IiwibGFzdENoaWxkcmVuTGVuZ3RoIiwibmV4dENoaWxkcmVuTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwiYU5vZGUiLCJiTm9kZSIsIm5leHRQb3MiLCJub2RlIiwiYUxlbmd0aCIsImJMZW5ndGgiLCJhRW5kIiwiYkVuZCIsImFTdGFydCIsImJTdGFydCIsImFTdGFydE5vZGUiLCJiU3RhcnROb2RlIiwiYUVuZE5vZGUiLCJiRW5kTm9kZSIsIm91dGVyIiwic291cmNlcyIsIkFycmF5IiwibW92ZWQiLCJwb3MiLCJwYXRjaGVkIiwia2V5SW5kZXgiLCJNYXAiLCJzZXEiLCJsaXNfYWxnb3JpdGhtIiwiYXJyIiwidSIsInYiLCJhcnJJIiwiaXNBdHRyQW5FdmVudCIsImF0dHIiLCJsYXN0VmFsdWUiLCJza2lwUHJvcHMiLCJoYXMiLCJib29sZWFuUHJvcHMiLCJ0b0xvd2VyQ2FzZSIsInN0cmljdFByb3BzIiwicGF0Y2hFdmVudCIsInBhdGNoU3R5bGUiLCJsYXN0SHRtbCIsIl9faHRtbCIsIm5leHRIdG1sIiwiaW5uZXJIVE1MIiwibmFtZXNwYWNlcyIsInNldEF0dHJpYnV0ZU5TIiwiZGVsZWdhdGVkRXZlbnRzIiwiZGVsZWdhdGlvbl8xIiwiaGFuZGxlRXZlbnQiLCJuYW1lTG93ZXJDYXNlIiwiZG9tRXZlbnQiLCJ3cmFwcGVkIiwiaXNGdW5jdGlvbiIsImxpbmtFdmVudF8xIiwiZXZlbnQiLCJsYXN0QXR0clZhbHVlIiwibmV4dEF0dHJWYWx1ZSIsImRvbVN0eWxlIiwic3R5bGUiLCJpc1N0cmluZyIsImNzc1RleHQiLCJpc051bWJlciIsImlzVW5pdGxlc3NOdW1iZXIiLCJmaW5kRE9NTm9kZSIsIm5vZGVUeXBlIiwiZ2V0Um9vdCIsInJvb3QiLCJzZXRSb290IiwicmVtb3ZlUm9vdCIsImRvY3VtZW50Qm9keSIsIkxpZmVjeWNsZSIsImh5ZHJhdGlvbl8xIiwiaHlkcmF0ZVJvb3QiLCJ0cmlnZ2VyIiwibGlzdGVuZXJzIiwicGF0Y2hpbmdfMSIsInJvb3RJbnB1dCIsImNyZWF0ZVJlbmRlcmVyIiwiaXNCcm93c2VyIiwiYm9keSIsIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJpbmZlcm5vX2NvbXBvbmVudF8xIiwiaW5mZXJub19jcmVhdGVfZWxlbWVudF8xIiwicmVzb2x2ZWRQcm9taXNlIiwiUm91dGUiLCJfc3VwZXIiLCJfdGhpcyIsIl9vbkNvbXBvbmVudFJlc29sdmVkIiwic2V0U3RhdGUiLCJhc3luY0NvbXBvbmVudCIsIm9uRW50ZXIiLCJyb3V0ZXIiLCJnZXRDb21wb25lbnQiLCJvbkxlYXZlIiwicGF0aCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIl9hcmdzIiwicmVzdCIsInJlc29sdmVkQ29tcG9uZW50IiwieGxpbmtOUyIsInhtbE5TIiwiU2V0IiwiYWRkIiwiZG9tXzEiLCJyZWN5Y2xpbmdfMSIsInJlY3ljbGVFbGVtZW50IiwiZG9tXzIiLCJyZWN5Y2xlQ29tcG9uZW50IiwibW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyIsIm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyIsImhhc0RpZE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJhZGRMaXN0ZW5lciIsIm9uQ29tcG9uZW50V2lsbE1vdW50Iiwib25Db21wb25lbnREaWRNb3VudCIsImNhblJlY3ljbGUiLCJ1bm1vdW50Q29tcG9uZW50IiwidW5tb3VudEVsZW1lbnQiLCJ1bm1vdW50Vm9pZE9yVGV4dCIsImRlbGV0ZSIsIm9uQ29tcG9uZW50V2lsbFVubW91bnQiLCJwb29sQ29tcG9uZW50IiwidW5tb3VudFJlZiIsIm5hbWVfMSIsInBvb2xFbGVtZW50IiwibW91bnRpbmciLCJpc0NvbnRyb2xsZWQiLCJJbnB1dFdyYXBwZXJfMSIsInByb2Nlc3NJbnB1dCIsIlNlbGVjdFdyYXBwZXJfMSIsInByb2Nlc3NTZWxlY3QiLCJUZXh0YXJlYVdyYXBwZXJfMSIsInByb2Nlc3NUZXh0YXJlYSIsImlzQ2hlY2tlZFR5cGUiLCJjaGVja2VkIiwiYWRkTGVhZGluZ1NsYXNoIiwiY2hhckF0Iiwic3RyaXBMZWFkaW5nU2xhc2giLCJzdWJzdHIiLCJzdHJpcFByZWZpeCIsInByZWZpeCIsInN0cmlwVHJhaWxpbmdTbGFzaCIsInBhcnNlUGF0aCIsInBhdGhuYW1lIiwic2VhcmNoIiwiaGFzaCIsImhhc2hJbmRleCIsInNlYXJjaEluZGV4IiwiZGVjb2RlVVJJIiwiY3JlYXRlUGF0aCIsImxvY2F0aW9uIiwiZW5jb2RlVVJJIiwicmVuZGVyTGluayIsImNsYXNzTm0iLCJvdGhlclByb3BzIiwiaW5mZXJub18xIiwiTGluayIsIl9hIiwiYWN0aXZlQ2xhc3NOYW1lIiwiYWN0aXZlU3R5bGUiLCJvbkNsaWNrIiwidG8iLCJfX3Jlc3QiLCJocmVmIiwiY3JlYXRlSHJlZiIsImJhc2VVcmwiLCJvbmNsaWNrIiwiYnV0dG9uIiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0IiwidCIsImdldE93blByb3BlcnR5U3ltYm9scyIsIlJvdXRlckNvbnRleHQiLCJtYXRjaGVkIiwibWF0Y2giLCJyb3V0ZXMiLCJjdXJyZW50VVJMIiwiZ2V0VVJMU3RyaW5nIiwibWF0Y2hSb3V0ZXMiLCJ0b0FycmF5IiwiX3JvdXRlcyIsInBhcmVudFBhdGgiLCJyZWRpcmVjdCIsImZsYXR0ZW4iLCJzcGxpdCIsIl9iIiwicGF0aFRvTWF0Y2giLCJfYyIsInBhcmFtcyIsIm1hcFNlYXJjaFBhcmFtcyIsInNvcnQiLCJwYXRoUmFua1NvcnQiLCJyb3V0ZSIsImVtcHR5T2JqZWN0Iiwicm91dGVQYXRoIiwiZnJvbSIsImxvY2F0aW9uXzEiLCJ0b1BhcnRpYWxVUkwiLCJyZXBsYWNlIiwiaXNMYXN0IiwiaXNFbXB0eSIsIm1hdGNoQmFzZSIsIm1hdGNoUGF0aCIsIm1hdGNoQ2hpbGQiLCJjaGlsZFByb3BzIiwiZW5kIiwicmVnZXhwIiwiY2FjaGUiLCJwYXR0ZXJuIiwicGF0aF90b19yZWdleHBfZXM2XzEiLCJleGVjIiwiZGVjb2RlIiwidmFsIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwib2xkQXJyYXkiLCJuZXdBcnJheSIsImZsYXR0ZW5BcnJheSIsImZyYWdtZW50cyIsImZyYWdtZW50IiwibWFwRnJhZ21lbnQiLCJrIiwiZnVsbFVSTCIsInBhcnRVUkwiLCJleGNsdWRlZCIsImFBdHRyIiwiYkF0dHIiLCJyYW5rIiwiaXNWYWwiLCJzdHJpcCIsInVybCIsInBvb2xzIiwiZWxlbWVudFBvb2xzIiwicG9vbCIsIm5vbktleWVkIiwia2V5ZWQiLCJyZWN5Y2xlZFZOb2RlIiwiY29tcG9uZW50UG9vbHMiLCJob29rcyIsImFwcGx5S2V5IiwiYXBwbHlLZXlJZk1pc3NpbmciLCJhcHBseUtleVByZWZpeCIsIl9ub3JtYWxpemVWTm9kZXMiLCJub2RlcyIsImluZGV4IiwiY3VycmVudEtleSIsIm5vcm1hbGl6ZVZOb2RlcyIsIm5ld05vZGVzIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJub3JtYWxpemVQcm9wcyIsImdldEZsYWdzRm9yRWxlbWVudFZub2RlIiwiZGVmYXVsdFByb3BzIiwid2FybmluZyIsIkJlc2x1aXQiLCJfaW5mZXJubyIsIkJld2FwZW5pbmciLCJyb3dzcGFuIiwiQnJvbm5lbiIsIklubGVpZGluZyIsIk9uZGVydmVyZGVsaW5nIiwiVmVsZHNsYWdlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsIl93YXJuaW5nIiwiX3dhcm5pbmcyIiwiX2ludmFyaWFudCIsIl9pbnZhcmlhbnQyIiwiX0xvY2F0aW9uVXRpbHMiLCJfUGF0aFV0aWxzIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyIiwiX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiIsIl9ET01VdGlscyIsImdldEhpc3RvcnlTdGF0ZSIsIndpbmRvdyIsImhpc3RvcnkiLCJjcmVhdGVCcm93c2VySGlzdG9yeSIsImNhblVzZURPTSIsImdsb2JhbEhpc3RvcnkiLCJjYW5Vc2VIaXN0b3J5Iiwic3VwcG9ydHNIaXN0b3J5IiwibmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIiLCJzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlIiwiX3Byb3BzJGZvcmNlUmVmcmVzaCIsImZvcmNlUmVmcmVzaCIsIl9wcm9wcyRnZXRVc2VyQ29uZmlybSIsImdldFVzZXJDb25maXJtYXRpb24iLCJnZXRDb25maXJtYXRpb24iLCJfcHJvcHMka2V5TGVuZ3RoIiwia2V5TGVuZ3RoIiwiYmFzZW5hbWUiLCJnZXRET01Mb2NhdGlvbiIsImhpc3RvcnlTdGF0ZSIsIl9yZWYiLCJfd2luZG93JGxvY2F0aW9uIiwiY3JlYXRlS2V5IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwidHJhbnNpdGlvbk1hbmFnZXIiLCJub3RpZnlMaXN0ZW5lcnMiLCJhY3Rpb24iLCJoYW5kbGVQb3BTdGF0ZSIsImlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQiLCJoYW5kbGVQb3AiLCJoYW5kbGVIYXNoQ2hhbmdlIiwiZm9yY2VOZXh0UG9wIiwiY29uZmlybVRyYW5zaXRpb25UbyIsIm9rIiwicmV2ZXJ0UG9wIiwiZnJvbUxvY2F0aW9uIiwidG9Mb2NhdGlvbiIsInRvSW5kZXgiLCJhbGxLZXlzIiwiZnJvbUluZGV4IiwiZGVsdGEiLCJnbyIsImluaXRpYWxMb2NhdGlvbiIsImNyZWF0ZUxvY2F0aW9uIiwicHVzaFN0YXRlIiwicHJldkluZGV4IiwibmV4dEtleXMiLCJyZXBsYWNlU3RhdGUiLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJsaXN0ZW5lckNvdW50IiwiY2hlY2tET01MaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzQmxvY2tlZCIsImJsb2NrIiwicHJvbXB0IiwidW5ibG9jayIsInNldFByb21wdCIsImxpc3RlbiIsImxpc3RlbmVyIiwidW5saXN0ZW4iLCJhcHBlbmRMaXN0ZW5lciIsIkFwcCIsIl9pbmZlcm5vUm91dGVyIiwiSW5kZXhMaW5rIiwiTm9NYXRjaCIsIl9yZWYyIiwiX2luZmVybm8yIiwiX2NyZWF0ZUJyb3dzZXJIaXN0b3J5IiwiX2NyZWF0ZUJyb3dzZXJIaXN0b3J5MiIsIl9pbmxlaWRpbmciLCJfb25kZXJ2ZXJkZWxpbmciLCJfYmV3YXBlbmluZyIsIl92ZWxkc2xhZ2VuIiwiX2Jlc2x1aXQiLCJfYnJvbm5lbiIsImJyb3dzZXJIaXN0b3J5IiwiSW5kZXhSb3V0ZSIsImdldEVsZW1lbnRCeUlkIiwiYXR0YWNoRXZlbnQiLCJkZXRhY2hFdmVudCIsIm1lc3NhZ2UiLCJjb25maXJtIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCIsImxvY2F0aW9uc0FyZUVxdWFsIiwiX3Jlc29sdmVQYXRobmFtZSIsIl9yZXNvbHZlUGF0aG5hbWUyIiwiX3ZhbHVlRXF1YWwiLCJfdmFsdWVFcXVhbDIiLCJjdXJyZW50TG9jYXRpb24iLCJjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciIsIm5leHRQcm9tcHQiLCJpc0FjdGl2ZSIsImZpbHRlciIsIl9sZW4iLCJhcmdzIiwiX2tleSIsInVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2RlcyIsImFkZFRvUXVldWUiLCJmb3JjZSIsImNvbXBvbmVudENhbGxiYWNrUXVldWUiLCJhcHBseVN0YXRlIiwicXVldWVTdGF0ZUNoYW5nZXMiLCJuZXdTdGF0ZSIsInBlbmRpbmciLCJfcGVuZGluZ1N0YXRlIiwic3RhdGVLZXkiLCJiaW5kIiwicGVuZGluZ1N0YXRlIiwicHJldlN0YXRlIiwiY29udGV4dF8xIiwibGlmZUN5Y2xlIiwiaW50ZXJuYWxfcGF0Y2giLCJpbnRlcm5hbF9ET01Ob2RlTWFwIiwiRVJST1JfTVNHIiwiZm9yY2VVcGRhdGUiLCJzZXRTdGF0ZVN5bmMiLCJwcmV2UHJvcHMiLCJmcm9tU2V0U3RhdGUiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwibmV4dENvbnRleHQiLCJjb21wb25lbnRIb29rcyIsIkxpbmtfMSIsIlJvdXRlXzEiLCJSZWRpcmVjdCIsImNyZWF0ZXJSb3V0ZXIiLCJUeXBlRXJyb3IiLCJtYXRjaF8xIiwiUm91dGVyQ29udGV4dF8xIiwiUm91dGVyIiwicm91dGVUbyIsIm9uVXBkYXRlIiwiaGl0Iiwic2V0VGltZW91dCIsImhhbmRsZVJvdXRlTm9kZSIsInJvdXRlQ29uZmlnTm9kZSIsImluZGV4Um91dGUiLCJjaGlsZFJvdXRlcyIsImhhbmRsZUluZGV4Um91dGUiLCJoYW5kbGVDaGlsZFJvdXRlcyIsImluZGV4Um91dGVOb2RlIiwiaGFuZGxlQ2hpbGRSb3V0ZSIsImNoaWxkUm91dGVOb2RlIiwiY2hpbGRSb3V0ZU5vZGVzIiwicm91dGVDb25maWciLCJjcmVhdGVSb3V0ZXNfMSIsImNyZWF0ZVJvdXRlcyIsIkluZGV4TGlua18xIiwiSW5kZXhSb3V0ZV8xIiwiUmVkaXJlY3RfMSIsIkluZGV4UmVkaXJlY3QiLCJSb3V0ZXJfMSIsImlzVHJ1ZSIsImZpcnN0Iiwic2Vjb25kIiwib3V0Iiwic2hpZnQiLCJsYXN0RXZlbnQiLCJuZXh0RXZlbnQiLCJkZWxlZ2F0ZWRSb290cyIsIml0ZW1zIiwiZG9jRXZlbnQiLCJhdHRhY2hFdmVudFRvRG9jdW1lbnQiLCJpc2lPUyIsInRyYXBDbGlja09uTm9uSW50ZXJhY3RpdmVFbGVtZW50Iiwic2l6ZSIsIm5vcm1hbGl6ZUV2ZW50TmFtZSIsImRpc3BhdGNoRXZlbnQiLCJjb3VudCIsImlzQ2xpY2siLCJldmVudERhdGEiLCJldmVudHNUb1RyaWdnZXIiLCJjYW5jZWxCdWJibGUiLCJkaXNhYmxlZCIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImV2ZW50RGF0YV8xIiwiZW1wdHlGbiIsInBsYXRmb3JtIiwidGVzdCIsImxpbmtFdmVudCIsIm5vcm1hbGl6ZUNoaWxkTm9kZXMiLCJwbGFjZWhvbGRlciIsIm5leHRTaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiaHlkcmF0ZUNvbXBvbmVudCIsIm5hbWVzcGFjZVVSSSIsImh5ZHJhdGUiLCJoeWRyYXRlRWxlbWVudCIsInRhZ05hbWUiLCJuZXdEb20iLCJoeWRyYXRlQ2hpbGRyZW4iLCJoeWRyYXRlVGV4dCIsImh5ZHJhdGVWb2lkIiwib25UZXh0SW5wdXRDaGFuZ2UiLCJwcmV2aW91c1ZhbHVlIiwib25JbnB1dCIsImV2ZW50XzEiLCJvbmlucHV0IiwiYXBwbHlWYWx1ZSIsIndyYXBwZWRPbkNoYW5nZSIsIm9uQ2hhbmdlIiwib25DaGVja2JveENoYW5nZSIsImV2ZW50XzIiLCJvbmNoYW5nZSIsIm11bHRpcGxlIiwiZGVmYXVsdFZhbHVlIiwiaGFzVmFsdWUiLCJ1cGRhdGVDaGlsZE9wdGlvbkdyb3VwIiwidXBkYXRlQ2hpbGRPcHRpb24iLCJzZWxlY3RlZCIsIm9uU2VsZWN0Q2hhbmdlIiwib25UZXh0YXJlYUlucHV0Q2hhbmdlIiwiZG9tVmFsdWUiLCJpbnRlcm5hbF9ub3JtYWxpemUiLCJpbnRlcm5hbF9pc1VuaXRsZXNzTnVtYmVyIiwidmVyc2lvbiIsImludmFyaWFudCIsImNvbmRpdGlvbiIsImZvcm1hdCIsImYiLCJhcmdJbmRleCIsImZyYW1lc1RvUG9wIiwicGF0aFRvUmVnRXhwIiwiY29tcGlsZSIsInRva2Vuc1RvRnVuY3Rpb24iLCJ0b2tlbnNUb1JlZ0V4cCIsInN0ciIsInJlcyIsInRva2VucyIsImRlZmF1bHREZWxpbWl0ZXIiLCJkZWxpbWl0ZXIiLCJQQVRIX1JFR0VYUCIsImVzY2FwZWQiLCJvZmZzZXQiLCJuZXh0IiwiY2FwdHVyZSIsImdyb3VwIiwibW9kaWZpZXIiLCJhc3RlcmlzayIsInBhcnRpYWwiLCJyZXBlYXQiLCJvcHRpb25hbCIsImVzY2FwZUdyb3VwIiwiZXNjYXBlU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50UHJldHR5IiwiY2hhckNvZGVBdCIsInRvVXBwZXJDYXNlIiwiZW5jb2RlQXN0ZXJpc2siLCJtYXRjaGVzIiwiUmVnRXhwIiwib3B0cyIsImVuY29kZSIsInByZXR0eSIsImVuY29kZVVSSUNvbXBvbmVudCIsInRva2VuIiwic2VnbWVudCIsImlzYXJyYXkiLCJzdHJpbmdpZnkiLCJhdHRhY2hLZXlzIiwicmUiLCJzZW5zaXRpdmUiLCJyZWdleHBUb1JlZ2V4cCIsImdyb3VwcyIsImFycmF5VG9SZWdleHAiLCJwYXJ0cyIsInBhdGhUb1JlZ2V4cCIsInN0cmluZ1RvUmVnZXhwIiwic3RyaWN0IiwiZW5kc1dpdGhEZWxpbWl0ZXIiLCJpc0Fic29sdXRlIiwic3BsaWNlT25lIiwibGlzdCIsInJlc29sdmVQYXRobmFtZSIsInRvUGFydHMiLCJmcm9tUGFydHMiLCJpc1RvQWJzIiwiaXNGcm9tQWJzIiwibXVzdEVuZEFicyIsImhhc1RyYWlsaW5nU2xhc2giLCJsYXN0IiwidXAiLCJwYXJ0IiwidW5zaGlmdCIsInZhbHVlRXF1YWwiLCJldmVyeSIsImFUeXBlIiwiYVZhbHVlIiwidmFsdWVPZiIsImJWYWx1ZSIsImFLZXlzIiwiYktleXMiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDQW5CLFFBQUFDLEdBQUFDLFNBQ0FDLGlCQUFBRCxHQVNBLFFBQUFFLEdBQUFGLEdBQ0EsR0FBQUcsR0FBQUMsU0FBQUMscUJBQUEsV0FDQUMsRUFBQUYsU0FBQUcsY0FBQSxTQUNBRCxHQUFBRSxLQUFBLGtCQUNBRixFQUFBRyxRQUFBLFFBQ0FILEVBQUFJLElBQUFDLEVBQUFDLEVBQUEsR0FBQVosRUFBQSxJQUFBYSxFQUFBLGlCQUNBVixFQUFBVyxZQUFBUixHQUdBLFFBQUFTLEtBQ0EsVUFBQUMsU0FBQSxTQUFBQyxFQUFBQyxHQUNBLHNCQUFBQyxnQkFDQSxNQUFBRCxHQUFBLEdBQUFF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QUNBLEdBQUFDLEdBQUFsekIsRUFBQW16QixVQUNBQyxFQUFBbnpCLEVBQUFrekIsU0FFQSxJQUFBRCxJQUFBbHpCLEdBQUFvekIsSUFBQW56QixFQUFBLE1BQUE4eUIsR0FBQUcsRUFBQUUsRUFFQSxJQUFBQyxHQUFBeDNCLE9BQUFtRyxLQUFBaEMsR0FDQXN6QixFQUFBejNCLE9BQUFtRyxLQUFBL0IsRUFFQSxPQUFBb3pCLEdBQUExMUIsU0FBQTIxQixFQUFBMzFCLFFBRUEwMUIsRUFBQUwsTUFBQSxTQUFBanFCLEdBQ0EsTUFBQWdxQixHQUFBL3lCLEVBQUErSSxHQUFBOUksRUFBQThJLE1BSUEsU0FHQWxHLEdBQUFhLFFBQUFxdkIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuLyoqKioqKi8gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4vKioqKioqLyBcdH1cbi8qKioqKiovIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gdGhpc1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4vKioqKioqLyBcdHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gXHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuLyoqKioqKi8gXHRcdGlmKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0fSA7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG4vKioqKioqLyBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XHJcbi8qKioqKiovIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcclxuLyoqKioqKi8gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XHJcbi8qKioqKiovIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcclxuLyoqKioqKi8gXHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xyXG4vKioqKioqLyBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gMTAwMDA7XHJcbi8qKioqKiovIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xyXG4vKioqKioqLyBcdFx0XHR9IGNhdGNoKGVycikge1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHQvLyB0aW1lb3V0XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIGlmKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHJldHVybjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcImY0NmY0MDc4ZDFjNTQwZTljMGM0XCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbi8qKioqKiovIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHR2YXIgaG90Q3VycmVudFBhcmVudHNUZW1wID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuLyoqKioqKi8gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0aWYoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcclxuLyoqKioqKi8gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYobWUuaG90LmFjdGl2ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA8IDApXHJcbi8qKioqKiovIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xyXG4vKioqKioqLyBcdFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlcXVlc3QgKyBcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgKyBtb2R1bGVJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcclxuLyoqKioqKi8gXHRcdH07XHJcbi8qKioqKiovIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4ge1xyXG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcclxuLyoqKioqKi8gXHRcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmIG5hbWUgIT09IFwiZVwiKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xyXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcclxuLyoqKioqKi8gXHRcdFx0XHR0aHJvdyBlcnI7XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGZuO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0dmFyIGhvdCA9IHtcclxuLyoqKioqKi8gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxyXG4vKioqKioqLyBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4vKioqKioqLyBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXHJcbi8qKioqKiovIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxyXG4vKioqKioqLyBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4vKioqKioqLyBcdFx0XHRhY3RpdmU6IHRydWUsXHJcbi8qKioqKiovIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xyXG4vKioqKioqLyBcdFx0XHRcdGVsc2VcclxuLyoqKioqKi8gXHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRlbHNlXHJcbi8qKioqKiovIFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0fSxcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuLyoqKioqKi8gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxyXG4vKioqKioqLyBcdFx0XHRhcHBseTogaG90QXBwbHksXHJcbi8qKioqKiovIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFsKSByZXR1cm4gaG90U3RhdHVzO1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbi8qKioqKiovIFx0XHRcdH0sXHJcbi8qKioqKiovIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHR9LFxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuLyoqKioqKi8gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGhvdDtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XHJcbi8qKioqKiovIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcclxuLyoqKioqKi8gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuLyoqKioqKi8gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xyXG4vKioqKioqLyBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xyXG4vKioqKioqLyBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuLyoqKioqKi8gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0dmFyIGhvdERlZmVycmVkO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4vKioqKioqLyBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4vKioqKioqLyBcdFx0dmFyIGlzTnVtYmVyID0gKCtpZCkgKyBcIlwiID09PSBpZDtcclxuLyoqKioqKi8gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xyXG4vKioqKioqLyBcdFx0aWYoaG90U3RhdHVzICE9PSBcImlkbGVcIikgdGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XHJcbi8qKioqKiovIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcclxuLyoqKioqKi8gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KCkudGhlbihmdW5jdGlvbih1cGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoIXVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbi8qKioqKiovIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxyXG4vKioqKioqLyBcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0XHRob3RVcGRhdGUgPSB7fTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xyXG4vKioqKioqLyBcdFx0XHR7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9uZS1ibG9ja3NcclxuLyoqKioqKi8gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xyXG4vKioqKioqLyBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdGlmKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIHByb21pc2U7XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcclxuLyoqKioqKi8gXHRcdFx0cmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHRpZigtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xyXG4vKioqKioqLyBcdFx0aWYoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHR9IGVsc2Uge1xyXG4vKioqKioqLyBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xyXG4vKioqKioqLyBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XHJcbi8qKioqKiovIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcclxuLyoqKioqKi8gXHRcdGhvdERlZmVycmVkID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGlmKCFkZWZlcnJlZCkgcmV0dXJuO1xyXG4vKioqKioqLyBcdFx0aWYoaG90QXBwbHlPblVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRob3RBcHBseShob3RBcHBseU9uVXBkYXRlKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4vKioqKioqLyBcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0fSwgZnVuY3Rpb24oZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcclxuLyoqKioqKi8gXHRcdGlmKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKSB0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XHJcbi8qKioqKiovIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdHZhciBjYjtcclxuLyoqKioqKi8gXHRcdHZhciBpO1xyXG4vKioqKioqLyBcdFx0dmFyIGo7XHJcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlO1xyXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZUlkO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xyXG4vKioqKioqLyBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpLm1hcChmdW5jdGlvbihpZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlkOiBpZFxyXG4vKioqKioqLyBcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIHF1ZXVlSXRlbSA9IHF1ZXVlLnBvcCgpO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxyXG4vKioqKioqLyBcdFx0XHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fbWFpbikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXHJcbi8qKioqKiovIFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aWYoIXBhcmVudCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH07XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgPj0gMCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRpZihwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0Y29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0cXVldWUucHVzaCh7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxyXG4vKioqKioqLyBcdFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiB7XHJcbi8qKioqKiovIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcclxuLyoqKioqKi8gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcclxuLyoqKioqKi8gXHRcdFx0fTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcclxuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoYS5pbmRleE9mKGl0ZW0pIDwgMClcclxuLyoqKioqKi8gXHRcdFx0XHRcdGEucHVzaChpdGVtKTtcclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcclxuLyoqKioqKi8gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4vKioqKioqLyBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4vKioqKioqLyBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XHJcbi8qKioqKiovIFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIik7XHJcbi8qKioqKiovIFx0XHR9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgcmVzdWx0O1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKGhvdFVwZGF0ZVtpZF0pIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xyXG4vKioqKioqLyBcdFx0XHRcdH0gZWxzZSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXN1bHQgPSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXHJcbi8qKioqKiovIFx0XHRcdFx0XHR9O1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKHJlc3VsdC5jaGFpbikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRzd2l0Y2gocmVzdWx0LnR5cGUpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EZWNsaW5lZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgY2hhaW5JbmZvKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRlY2xpbmVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIgaW4gXCIgKyByZXN1bHQucGFyZW50SWQgKyBjaGFpbkluZm8pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25VbmFjY2VwdGVkKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25VbmFjY2VwdGVkKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm8pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uQWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRicmVhaztcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRGlzcG9zZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVmYXVsdDpcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0aWYoYWJvcnRFcnJvcikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKGRvQXBwbHkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdGlmKGRvRGlzcG9zZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCBbcmVzdWx0Lm1vZHVsZUlkXSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cclxuLyoqKioqKi8gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcclxuLyoqKioqKi8gXHRcdGZvcihpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiYgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQpXHJcbi8qKioqKiovIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcclxuLyoqKioqKi8gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcclxuLyoqKioqKi8gXHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcclxuLyoqKioqKi8gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcclxuLyoqKioqKi8gXHRcdFx0aWYoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9KTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdHZhciBpZHg7XHJcbi8qKioqKiovIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuLyoqKioqKi8gXHRcdHdoaWxlKHF1ZXVlLmxlbmd0aCA+IDApIHtcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdGlmKCFtb2R1bGUpIGNvbnRpbnVlO1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcclxuLyoqKioqKi8gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuLyoqKioqKi8gXHRcdFx0Zm9yKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XHJcbi8qKioqKiovIFx0XHRcdFx0Y2IoZGF0YSk7XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcclxuLyoqKioqKi8gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXHJcbi8qKioqKiovIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cclxuLyoqKioqKi8gXHRcdFx0Zm9yKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKCFjaGlsZCkgY29udGludWU7XHJcbi8qKioqKiovIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0XHRpZihpZHggPj0gMCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXHJcbi8qKioqKiovIFx0XHR2YXIgZGVwZW5kZW5jeTtcclxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcclxuLyoqKioqKi8gXHRcdGZvcihtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdGlmKG1vZHVsZSkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRmb3IoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxyXG4vKioqKioqLyBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcclxuLyoqKioqKi8gXHRcdGZvcihtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XHJcbi8qKioqKiovIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHR9XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xyXG4vKioqKioqLyBcdFx0dmFyIGVycm9yID0gbnVsbDtcclxuLyoqKioqKi8gXHRcdGZvcihtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4vKioqKioqLyBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKSkge1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4vKioqKioqLyBcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcclxuLyoqKioqKi8gXHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdHRyeSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZXJyKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdH1cclxuLyoqKioqKi8gXHRcclxuLyoqKioqKi8gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXHJcbi8qKioqKiovIFx0XHRmb3IoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcclxuLyoqKioqKi8gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbi8qKioqKiovIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XHJcbi8qKioqKiovIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuLyoqKioqKi8gXHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcclxuLyoqKioqKi8gXHRcdFx0fSBjYXRjaChlcnIpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRpZih0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0dHJ5IHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH0gY2F0Y2goZXJyMikge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdG9yZ2luYWxFcnJvcjogZXJyXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0fSk7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyMjtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbi8qKioqKiovIFx0XHRcdFx0XHR9XHJcbi8qKioqKiovIFx0XHRcdFx0fSBlbHNlIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKG9wdGlvbnMub25FcnJvcmVkKSB7XHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHR9KTtcclxuLyoqKioqKi8gXHRcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuLyoqKioqKi8gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4vKioqKioqLyBcdFx0XHRcdFx0XHRcdGVycm9yID0gZXJyO1xyXG4vKioqKioqLyBcdFx0XHRcdFx0fVxyXG4vKioqKioqLyBcdFx0XHRcdH1cclxuLyoqKioqKi8gXHRcdFx0fVxyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFxyXG4vKioqKioqLyBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcclxuLyoqKioqKi8gXHRcdGlmKGVycm9yKSB7XHJcbi8qKioqKiovIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbi8qKioqKiovIFx0XHR9XHJcbi8qKioqKiovIFx0XHJcbi8qKioqKiovIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuLyoqKioqKi8gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuLyoqKioqKi8gXHRcdFx0Y2hpbGRyZW46IFtdXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvb2NsYXQvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoMzEpKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMxKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNTApLmRlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgVk5vZGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgY29uc3RhbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG52YXIgbW91bnRpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcbnZhciB1bm1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxuLy8gV2UgbmVlZCBFTVBUWV9PQkogZGVmaW5lZCBpbiBvbmUgcGxhY2UuXHJcbi8vIEl0cyB1c2VkIGZvciBjb21wYXJpc29uIHNvIHdlIGNhbnQgaW5saW5lIGl0IGludG8gc2hhcmVkXHJcbmV4cG9ydHMuRU1QVFlfT0JKID0ge307XHJcbmlmIChmYWxzZSkge1xyXG4gICAgT2JqZWN0LmZyZWV6ZShleHBvcnRzLkVNUFRZX09CSik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZSh2Tm9kZSwgQ29tcG9uZW50LCBwcm9wcywgY29udGV4dCwgaXNTVkcsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29udGV4dCkpIHtcclxuICAgICAgICBjb250ZXh0ID0gZXhwb3J0cy5FTVBUWV9PQko7IC8vIENvbnRleHQgc2hvdWxkIG5vdCBiZSBtdXRhYmxlXHJcbiAgICB9XHJcbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcclxuICAgIHZOb2RlLmNoaWxkcmVuID0gaW5zdGFuY2U7XHJcbiAgICBpbnN0YW5jZS5fYmxvY2tTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgaW5zdGFuY2UuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICBpZiAoaW5zdGFuY2UucHJvcHMgPT09IGV4cG9ydHMuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcclxuICAgIH1cclxuICAgIC8vIHNldFN0YXRlIGNhbGxiYWNrcyBtdXN0IGZpcmUgYWZ0ZXIgcmVuZGVyIGlzIGRvbmUgd2hlbiBjYWxsZWQgZnJvbSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIG9yIGNvbXBvbmVudFdpbGxNb3VudFxyXG4gICAgaW5zdGFuY2UuX2xpZmVjeWNsZSA9IGxpZmVjeWNsZTtcclxuICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSBmYWxzZTtcclxuICAgIGluc3RhbmNlLl9wZW5kaW5nU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgaW5zdGFuY2UuX2lzU1ZHID0gaXNTVkc7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KSkge1xyXG4gICAgICAgIGluc3RhbmNlLl9ibG9ja1JlbmRlciA9IHRydWU7XHJcbiAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCk7XHJcbiAgICAgICAgaW5zdGFuY2UuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRDb250ZXh0O1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmdldENoaWxkQ29udGV4dCkpIHtcclxuICAgICAgICBjaGlsZENvbnRleHQgPSBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQoKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgIGluc3RhbmNlLl9jaGlsZENvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYmVmb3JlUmVuZGVyKSkge1xyXG4gICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVJlbmRlcihpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICB2YXIgaW5wdXQgPSBpbnN0YW5jZS5yZW5kZXIocHJvcHMsIGluc3RhbmNlLnN0YXRlLCBjb250ZXh0KTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIpKSB7XHJcbiAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKGlucHV0LCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGlucHV0IHRoYXQgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgcnVuIGludG8gYSB0cmlja3kgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgIC8vIHdoZXJlIHRoZSByb290IHZOb2RlIG5lZWRzIHRvIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IERPTSBlbnRyeVxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBicmVhayBtb25vbW9ycGhpc20gb24gb3VyIGlucHV0IGFuZCBzdXBwbHkgaXQgb3VyIHZOb2RlIGFzIHBhcmVudFZOb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGlzIGdldHMgdXMgb3V0IG9mIGEgbG90IG9mIGlzc3Vlc1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRWTm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluc3RhbmNlLl9wZW5kaW5nU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgIGluc3RhbmNlLl9sYXN0SW5wdXQgPSBpbnB1dDtcclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2UgPSBjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlO1xyXG5mdW5jdGlvbiByZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgcmVwbGFjZVZOb2RlKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudChuZXh0SW5wdXQsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBsYXN0SW5wdXQsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQgPSByZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudDtcclxuZnVuY3Rpb24gcmVwbGFjZVZOb2RlKHBhcmVudERvbSwgZG9tLCB2Tm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdW5tb3VudGluZ18xLnVubW91bnQodk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIGRvbSwgdk5vZGUuZG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VWTm9kZSA9IHJlcGxhY2VWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCBjb21wb25lbnQsIHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICB2YXIgaW5wdXQgPSBjb21wb25lbnQocHJvcHMsIGNvbnRleHQpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKGlucHV0LCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGlucHV0IHRoYXQgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgcnVuIGludG8gYSB0cmlja3kgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgIC8vIHdoZXJlIHRoZSByb290IHZOb2RlIG5lZWRzIHRvIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IERPTSBlbnRyeVxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBicmVhayBtb25vbW9ycGhpc20gb24gb3VyIGlucHV0IGFuZCBzdXBwbHkgaXQgb3VyIHZOb2RlIGFzIHBhcmVudFZOb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGlzIGdldHMgdXMgb3V0IG9mIGEgbG90IG9mIGlzc3Vlc1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRWTm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbnB1dDtcclxufVxyXG5leHBvcnRzLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCA9IGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dDtcclxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQoZG9tLCB0ZXh0KSB7XHJcbiAgICBpZiAodGV4dCAhPT0gJycpIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZXRUZXh0Q29udGVudCA9IHNldFRleHRDb250ZW50O1xyXG5mdW5jdGlvbiB1cGRhdGVUZXh0Q29udGVudChkb20sIHRleHQpIHtcclxuICAgIGRvbS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbn1cclxuZXhwb3J0cy51cGRhdGVUZXh0Q29udGVudCA9IHVwZGF0ZVRleHRDb250ZW50O1xyXG5mdW5jdGlvbiBhcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLmFwcGVuZENoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5hcHBlbmRDaGlsZCA9IGFwcGVuZENoaWxkO1xyXG5mdW5jdGlvbiBpbnNlcnRPckFwcGVuZChwYXJlbnREb20sIG5ld05vZGUsIG5leHROb2RlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHROb2RlKSkge1xyXG4gICAgICAgIGFwcGVuZENoaWxkKHBhcmVudERvbSwgbmV3Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwYXJlbnREb20uaW5zZXJ0QmVmb3JlKG5ld05vZGUsIG5leHROb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmluc2VydE9yQXBwZW5kID0gaW5zZXJ0T3JBcHBlbmQ7XHJcbmZ1bmN0aW9uIGRvY3VtZW50Q3JlYXRlRWxlbWVudCh0YWcsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcgPT09IHRydWUpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGNvbnN0YW50c18xLnN2Z05TLCB0YWcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudDtcclxuZnVuY3Rpb24gcmVwbGFjZVdpdGhOZXdOb2RlKGxhc3ROb2RlLCBuZXh0Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdW5tb3VudGluZ18xLnVubW91bnQobGFzdE5vZGUsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgIHZhciBkb20gPSBtb3VudGluZ18xLm1vdW50KG5leHROb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIG5leHROb2RlLmRvbSA9IGRvbTtcclxuICAgIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIGRvbSwgbGFzdE5vZGUuZG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VXaXRoTmV3Tm9kZSA9IHJlcGxhY2VXaXRoTmV3Tm9kZTtcclxuZnVuY3Rpb24gcmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbmV4dERvbSwgbGFzdERvbSkge1xyXG4gICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICBwYXJlbnREb20gPSBsYXN0RG9tLnBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKG5leHREb20sIGxhc3REb20pO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZUNoaWxkID0gcmVwbGFjZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZW1vdmVDaGlsZCA9IHJlbW92ZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVBbGxDaGlsZHJlbihkb20sIGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCB8fCAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAhaXNSZWN5Y2xpbmcpKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2hpbGRyZW4obnVsbCwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQWxsQ2hpbGRyZW4gPSByZW1vdmVBbGxDaGlsZHJlbjtcclxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoY2hpbGQsIGRvbSwgbGlmZWN5Y2xlLCB0cnVlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQ2hpbGRyZW4gPSByZW1vdmVDaGlsZHJlbjtcclxuZnVuY3Rpb24gaXNLZXllZChsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbikge1xyXG4gICAgcmV0dXJuIG5leHRDaGlsZHJlbi5sZW5ndGggPiAwICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dENoaWxkcmVuWzBdKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDaGlsZHJlblswXS5rZXkpXHJcbiAgICAgICAgJiYgbGFzdENoaWxkcmVuLmxlbmd0aCA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0Q2hpbGRyZW5bMF0pICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdENoaWxkcmVuWzBdLmtleSk7XHJcbn1cclxuZXhwb3J0cy5pc0tleWVkID0gaXNLZXllZDtcclxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMub3B0aW9ucyA9IHtcclxuICAgIGFmdGVyTW91bnQ6IG51bGwsXHJcbiAgICBhZnRlclJlbmRlcjogbnVsbCxcclxuICAgIGFmdGVyVXBkYXRlOiBudWxsLFxyXG4gICAgYmVmb3JlUmVuZGVyOiBudWxsLFxyXG4gICAgYmVmb3JlVW5tb3VudDogbnVsbCxcclxuICAgIGNyZWF0ZVZOb2RlOiBudWxsLFxyXG4gICAgZmluZERPTU5vZGVFbmFibGVkOiBmYWxzZSxcclxuICAgIHJlY3ljbGluZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgcm9vdHM6IFtdXHJcbn07XHJcblxuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcclxudmFyIG5vcm1hbGl6YXRpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxuZnVuY3Rpb24gVk5vZGUoY2hpbGRyZW4sIGNsYXNzTmFtZSwgZmxhZ3MsIGtleSwgcHJvcHMsIHJlZiwgdHlwZSkge1xyXG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICB0aGlzLmRvbSA9IG51bGw7XHJcbiAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XHJcbiAgICB0aGlzLmtleSA9IGtleTtcclxuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcclxuICAgIHRoaXMucmVmID0gcmVmO1xyXG4gICAgdGhpcy50eXBlID0gdHlwZTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyB2aXJ0dWFsIG5vZGVcclxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufG51bGx9IHR5cGVcclxuICogQHBhcmFtIHtzdHJpbmd8bnVsbD19IGNsYXNzTmFtZVxyXG4gKiBAcGFyYW0ge29iamVjdD19IGNoaWxkcmVuXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gcHJvcHNcclxuICogQHBhcmFtIHsqPX0ga2V5XHJcbiAqIEBwYXJhbSB7b2JqZWN0fEZ1bmN0aW9uPX0gcmVmXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vTm9ybWFsaXNlXHJcbiAqIEByZXR1cm5zIHtWTm9kZX0gcmV0dXJucyBuZXcgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVWTm9kZShmbGFncywgdHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgcHJvcHMsIGtleSwgcmVmLCBub05vcm1hbGlzZSkge1xyXG4gICAgaWYgKGZsYWdzICYgMTYgLyogQ29tcG9uZW50VW5rbm93biAqLykge1xyXG4gICAgICAgIGZsYWdzID0gaW5mZXJub19zaGFyZWRfMS5pc1N0YXRlZnVsQ29tcG9uZW50KHR5cGUpID8gNCAvKiBDb21wb25lbnRDbGFzcyAqLyA6IDggLyogQ29tcG9uZW50RnVuY3Rpb24gKi87XHJcbiAgICB9XHJcbiAgICB2YXIgdk5vZGUgPSBuZXcgVk5vZGUoY2hpbGRyZW4gPT09IHZvaWQgMCA/IG51bGwgOiBjaGlsZHJlbiwgY2xhc3NOYW1lID09PSB2b2lkIDAgPyBudWxsIDogY2xhc3NOYW1lLCBmbGFncywga2V5ID09PSB2b2lkIDAgPyBudWxsIDoga2V5LCBwcm9wcyA9PT0gdm9pZCAwID8gbnVsbCA6IHByb3BzLCByZWYgPT09IHZvaWQgMCA/IG51bGwgOiByZWYsIHR5cGUpO1xyXG4gICAgaWYgKG5vTm9ybWFsaXNlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZSh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMuY3JlYXRlVk5vZGUgIT09IG51bGwpIHtcclxuICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5jcmVhdGVWTm9kZSh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVWTm9kZSA9IGNyZWF0ZVZOb2RlO1xyXG5mdW5jdGlvbiBkaXJlY3RDbG9uZSh2Tm9kZVRvQ2xvbmUpIHtcclxuICAgIHZhciBuZXdWTm9kZTtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlVG9DbG9uZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHZvaWQgMDtcclxuICAgICAgICB2YXIgcHJvcHNUb0Nsb25lID0gdk5vZGVUb0Nsb25lLnByb3BzO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wc1RvQ2xvbmUpKSB7XHJcbiAgICAgICAgICAgIHByb3BzID0gdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHNUb0Nsb25lKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldID0gcHJvcHNUb0Nsb25lW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVWTm9kZShmbGFncywgdk5vZGVUb0Nsb25lLnR5cGUsIG51bGwsIG51bGwsIHByb3BzLCB2Tm9kZVRvQ2xvbmUua2V5LCB2Tm9kZVRvQ2xvbmUucmVmLCB0cnVlKTtcclxuICAgICAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcztcclxuICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBuZXdQcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGFsc28gY2xvbmUgY29tcG9uZW50IGNoaWxkcmVuIHRoYXQgYXJlIGluIHByb3BzXHJcbiAgICAgICAgLy8gYXMgdGhlIGNoaWxkcmVuIG1heSBhbHNvIGhhdmUgYmVlbiBob2lzdGVkXHJcbiAgICAgICAgaWYgKG5ld0NoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV3Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gbmV3Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5ld0NoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpc1ZOb2RlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChkaXJlY3RDbG9uZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gdG1wQXJyYXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNWTm9kZShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gZGlyZWN0Q2xvbmUobmV3Q2hpbGRyZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlLmNoaWxkcmVuID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdk5vZGVUb0Nsb25lLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHZvaWQgMDtcclxuICAgICAgICB2YXIgcHJvcHNUb0Nsb25lID0gdk5vZGVUb0Nsb25lLnByb3BzO1xyXG4gICAgICAgIGlmIChwcm9wc1RvQ2xvbmUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wc1RvQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSBwcm9wc1RvQ2xvbmVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgdk5vZGVUb0Nsb25lLmNsYXNzTmFtZSwgY2hpbGRyZW4sIHByb3BzLCB2Tm9kZVRvQ2xvbmUua2V5LCB2Tm9kZVRvQ2xvbmUucmVmLCAhY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVRleHRWTm9kZSh2Tm9kZVRvQ2xvbmUuY2hpbGRyZW4sIHZOb2RlVG9DbG9uZS5rZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld1ZOb2RlO1xyXG59XHJcbmV4cG9ydHMuZGlyZWN0Q2xvbmUgPSBkaXJlY3RDbG9uZTtcclxuLypcclxuIGRpcmVjdENsb25lIGlzIHByZWZlcnJlZCBvdmVyIGNsb25lVk5vZGUgYW5kIHVzZWQgaW50ZXJuYWxseSBhbHNvLlxyXG4gVGhpcyBmdW5jdGlvbiBtYWtlcyBJbmZlcm5vIGJhY2t3YXJkcyBjb21wYXRpYmxlLlxyXG4gQW5kIGNhbiBiZSB0cmVlLXNoYWtlZCBieSBtb2Rlcm4gYnVuZGxlcnNcclxuXHJcbiBXb3VsZCBiZSBuaWNlIHRvIGNvbWJpbmUgdGhpcyB3aXRoIGRpcmVjdENsb25lIGJ1dCBjb3VsZCBub3QgZG8gaXQgd2l0aG91dCBicmVha2luZyBjaGFuZ2VcclxuICovXHJcbi8qKlxyXG4gKiBDbG9uZXMgZ2l2ZW4gdmlydHVhbCBub2RlIGJ5IGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBpdFxyXG4gKiBAcGFyYW0ge1ZOb2RlfSB2Tm9kZVRvQ2xvbmUgdmlydHVhbCBub2RlIHRvIGJlIGNsb25lZFxyXG4gKiBAcGFyYW0ge1Byb3BzPX0gcHJvcHMgYWRkaXRpb25hbCBwcm9wcyBmb3IgbmV3IHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0gey4uLip9IF9jaGlsZHJlbiBuZXcgY2hpbGRyZW4gZm9yIG5ldyB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge1ZOb2RlfSBuZXcgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZOb2RlVG9DbG9uZSwgcHJvcHMpIHtcclxuICAgIHZhciBfY2hpbGRyZW4gPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgX2NoaWxkcmVuW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gX2NoaWxkcmVuO1xyXG4gICAgdmFyIGNoaWxkcmVuTGVuID0gX2NoaWxkcmVuLmxlbmd0aDtcclxuICAgIGlmIChjaGlsZHJlbkxlbiA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoX2NoaWxkcmVuWzBdKSkge1xyXG4gICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuTGVuID09PSAxKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIG5ld1ZOb2RlO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheSh2Tm9kZVRvQ2xvbmUpKSB7XHJcbiAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZOb2RlVG9DbG9uZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKHZOb2RlVG9DbG9uZVtpXSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IHRtcEFycmF5O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGZsYWdzID0gdk5vZGVUb0Nsb25lLmZsYWdzO1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZVRvQ2xvbmUuY2xhc3NOYW1lIHx8IChwcm9wcyAmJiBwcm9wcy5jbGFzc05hbWUpO1xyXG4gICAgICAgIHZhciBrZXkgPSAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZOb2RlVG9DbG9uZS5rZXkpID8gdk5vZGVUb0Nsb25lLmtleSA6IChwcm9wcyA/IHByb3BzLmtleSA6IG51bGwpO1xyXG4gICAgICAgIHZhciByZWYgPSB2Tm9kZVRvQ2xvbmUucmVmIHx8IChwcm9wcyA/IHByb3BzLnJlZiA6IG51bGwpO1xyXG4gICAgICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgY2xhc3NOYW1lLCBudWxsLCAoIXZOb2RlVG9DbG9uZS5wcm9wcyAmJiAhcHJvcHMpID8gdXRpbHNfMS5FTVBUWV9PQkogOiBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHZOb2RlVG9DbG9uZS5wcm9wcywgcHJvcHMpLCBrZXksIHJlZiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xyXG4gICAgICAgICAgICBpZiAobmV3UHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IG5ld1Byb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBhbHNvIGNsb25lIGNvbXBvbmVudCBjaGlsZHJlbiB0aGF0IGFyZSBpbiBwcm9wc1xyXG4gICAgICAgICAgICAgICAgLy8gYXMgdGhlIGNoaWxkcmVuIG1heSBhbHNvIGhhdmUgYmVlbiBob2lzdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuID0gbmV3Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVuID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkgJiYgaXNWTm9kZShjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wQXJyYXkucHVzaChkaXJlY3RDbG9uZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLmNoaWxkcmVuID0gdG1wQXJyYXk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNWTm9kZShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSBkaXJlY3RDbG9uZShuZXdDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlLmNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSAocHJvcHMgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocHJvcHMuY2hpbGRyZW4pKSA/IHByb3BzLmNoaWxkcmVuIDogdk5vZGVUb0Nsb25lLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgKCF2Tm9kZVRvQ2xvbmUucHJvcHMgJiYgIXByb3BzKSA/IHV0aWxzXzEuRU1QVFlfT0JKIDogaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbSh2Tm9kZVRvQ2xvbmUucHJvcHMsIHByb3BzKSwga2V5LCByZWYsICFjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVGV4dFZOb2RlKHZOb2RlVG9DbG9uZS5jaGlsZHJlbiwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Vk5vZGU7XHJcbn1cclxuZXhwb3J0cy5jbG9uZVZOb2RlID0gY2xvbmVWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlVm9pZFZOb2RlKCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKDQwOTYgLyogVm9pZCAqLywgbnVsbCk7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVWb2lkVk5vZGUgPSBjcmVhdGVWb2lkVk5vZGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0LCBrZXkpIHtcclxuICAgIHJldHVybiBjcmVhdGVWTm9kZSgxIC8qIFRleHQgKi8sIG51bGwsIG51bGwsIHRleHQsIG51bGwsIGtleSk7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVUZXh0Vk5vZGUgPSBjcmVhdGVUZXh0Vk5vZGU7XHJcbmZ1bmN0aW9uIGlzVk5vZGUobykge1xyXG4gICAgcmV0dXJuICEhby5mbGFncztcclxufVxyXG5leHBvcnRzLmlzVk5vZGUgPSBpc1ZOb2RlO1xyXG5cblxuLyoqKi8gfSksXG4vKiA1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIGNvbnN0YW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcclxudmFyIGRlbGVnYXRpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xyXG52YXIgbW91bnRpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XHJcbnZhciByZW5kZXJpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcbnZhciB1bm1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5mdW5jdGlvbiBwYXRjaChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgaWYgKGxhc3RWTm9kZSAhPT0gbmV4dFZOb2RlKSB7XHJcbiAgICAgICAgdmFyIGxhc3RGbGFncyA9IGxhc3RWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dEZsYWdzID0gbmV4dFZOb2RlLmZsYWdzO1xyXG4gICAgICAgIGlmIChuZXh0RmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgaWYgKGxhc3RGbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hDb21wb25lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgbmV4dEZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50Q29tcG9uZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgKG5leHRGbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRWxlbWVudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRFbGVtZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRUZXh0KG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRWb2lkKG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGNhc2U6IG1vdW50IG5ldyBvbmUgcmVwbGFjaW5nIG9sZCBvbmVcclxuICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2ggPSBwYXRjaDtcclxuZnVuY3Rpb24gdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaEVsZW1lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBuZXh0VGFnID0gbmV4dFZOb2RlLnR5cGU7XHJcbiAgICB2YXIgbGFzdFRhZyA9IGxhc3RWTm9kZS50eXBlO1xyXG4gICAgaWYgKGxhc3RUYWcgIT09IG5leHRUYWcpIHtcclxuICAgICAgICB1dGlsc18xLnJlcGxhY2VXaXRoTmV3Tm9kZShsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICB2YXIgbGFzdFByb3BzID0gbGFzdFZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgdmFyIGxhc3RDaGlsZHJlbiA9IGxhc3RWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBsYXN0RmxhZ3MgPSBsYXN0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRGbGFncyA9IG5leHRWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dFJlZiA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgdmFyIGxhc3RDbGFzc05hbWUgPSBsYXN0Vk5vZGUuY2xhc3NOYW1lO1xyXG4gICAgICAgIHZhciBuZXh0Q2xhc3NOYW1lID0gbmV4dFZOb2RlLmNsYXNzTmFtZTtcclxuICAgICAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgKG5leHRGbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGxhc3RDaGlsZHJlbiAhPT0gbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4obGFzdEZsYWdzLCBuZXh0RmxhZ3MsIGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5saW5lZCBwYXRjaFByb3BzICAtLSBzdGFydHMgLS1cclxuICAgICAgICBpZiAobGFzdFByb3BzICE9PSBuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wc09yRW1wdHkgPSBsYXN0UHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgICAgIHZhciBuZXh0UHJvcHNPckVtcHR5ID0gbmV4dFByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHNPckVtcHR5ICE9PSB1dGlsc18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAobmV4dEZsYWdzICYgMzU4NCAvKiBGb3JtRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KG5leHRQcm9wc09yRW1wdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBuZXh0UHJvcHNPckVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gbGFzdFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQobmV4dEZsYWdzLCBuZXh0Vk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgZmFsc2UsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxhc3RQcm9wc09yRW1wdHkgIT09IHV0aWxzXzEuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxhc3RQcm9wc09yRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eVtwcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvcChwcm9wLCBsYXN0UHJvcHNPckVtcHR5W3Byb3BdLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbmxpbmVkIHBhdGNoUHJvcHMgIC0tIGVuZHMgLS1cclxuICAgICAgICBpZiAobGFzdENsYXNzTmFtZSAhPT0gbmV4dENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBuZXh0Q2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBuZXh0Q2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXh0UmVmKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0Vk5vZGUucmVmICE9PSBuZXh0UmVmIHx8IGlzUmVjeWNsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgbmV4dFJlZiwgbGlmZWN5Y2xlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoRWxlbWVudCA9IHBhdGNoRWxlbWVudDtcclxuZnVuY3Rpb24gcGF0Y2hDaGlsZHJlbihsYXN0RmxhZ3MsIG5leHRGbGFncywgbGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBwYXRjaEFycmF5ID0gZmFsc2U7XHJcbiAgICB2YXIgcGF0Y2hLZXllZCA9IGZhbHNlO1xyXG4gICAgaWYgKG5leHRGbGFncyAmIDY0IC8qIEhhc05vbktleWVkQ2hpbGRyZW4gKi8pIHtcclxuICAgICAgICBwYXRjaEFycmF5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChsYXN0RmxhZ3MgJiAzMiAvKiBIYXNLZXllZENoaWxkcmVuICovKSA+IDAgJiYgKG5leHRGbGFncyAmIDMyIC8qIEhhc0tleWVkQ2hpbGRyZW4gKi8pID4gMCkge1xyXG4gICAgICAgIHBhdGNoS2V5ZWQgPSB0cnVlO1xyXG4gICAgICAgIHBhdGNoQXJyYXkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEudXBkYXRlVGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgdXRpbHNfMS5zZXRUZXh0Q29udGVudChkb20sIG5leHRDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGxhc3RDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcGF0Y2hBcnJheSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh1dGlsc18xLmlzS2V5ZWQobGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudEFycmF5Q2hpbGRyZW4obmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoVk5vZGVzXzEuaXNWTm9kZShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXRjaEFycmF5KSB7XHJcbiAgICAgICAgaWYgKHBhdGNoS2V5ZWQpIHtcclxuICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhdGNoQ29tcG9uZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbGFzdFR5cGUgPSBsYXN0Vk5vZGUudHlwZTtcclxuICAgIHZhciBuZXh0VHlwZSA9IG5leHRWTm9kZS50eXBlO1xyXG4gICAgdmFyIGxhc3RLZXkgPSBsYXN0Vk5vZGUua2V5O1xyXG4gICAgdmFyIG5leHRLZXkgPSBuZXh0Vk5vZGUua2V5O1xyXG4gICAgaWYgKGxhc3RUeXBlICE9PSBuZXh0VHlwZSB8fCBsYXN0S2V5ICE9PSBuZXh0S2V5KSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlV2l0aE5ld05vZGUobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudENvbXBvbmVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChuZXh0Vk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApLCBsYXN0Vk5vZGUuZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNDb21wb25lbnREaWRVcGRhdGUgPSAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgLy8gV2hlbiBjb21wb25lbnQgaGFzIGNvbXBvbmVudERpZFVwZGF0ZSBob29rLCB3ZSBuZWVkIHRvIGNsb25lIGxhc3RTdGF0ZSBvciB3aWxsIGJlIG1vZGlmaWVkIGJ5IHJlZmVyZW5jZSBkdXJpbmcgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdFN0YXRlID0gaGFzQ29tcG9uZW50RGlkVXBkYXRlID8gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShuZXh0U3RhdGUsIG51bGwpIDogbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGluc3RhbmNlLnByb3BzO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9pc1NWRyA9IGlzU1ZHO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBsYXN0SW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRJbnB1dCA9IGluc3RhbmNlLl91cGRhdGVDb21wb25lbnQobGFzdFN0YXRlLCBuZXh0U3RhdGUsIGxhc3RQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gY2hpbGRDb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHRJbnB1dCA9PT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IGxhc3RJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2EgdmFsaWQgSW5mZXJubyBWTm9kZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZCBmcm9tIGEgY29tcG9uZW50IHJlbmRlci4gWW91IG1heSBoYXZlIHJldHVybmVkIGFuIGFycmF5IG9yIGFuIGludmFsaWQgb2JqZWN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwobmV4dElucHV0LmRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGFzdElucHV0LmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2xhc3RJbnB1dCA9IG5leHRJbnB1dDtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl92Tm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgICAgIGlmIChkaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNoaWxkQ29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ29tcG9uZW50RGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZShsYXN0UHJvcHMsIGxhc3RTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwob3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmFmdGVyVXBkYXRlKG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLnNldChpbnN0YW5jZSwgbmV4dElucHV0LmRvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dFZOb2RlLmRvbSA9IG5leHRJbnB1dC5kb207XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGxhc3RWTm9kZS5wcm9wcztcclxuICAgICAgICAgICAgdmFyIG5leHRIb29rcyA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgICAgIHZhciBuZXh0SG9va3NEZWZpbmVkID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3MpO1xyXG4gICAgICAgICAgICB2YXIgbGFzdElucHV0ID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB2YXIgbmV4dElucHV0ID0gbGFzdElucHV0O1xyXG4gICAgICAgICAgICBuZXh0Vk5vZGUuZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICAgICAgbmV4dFZOb2RlLmNoaWxkcmVuID0gbGFzdElucHV0O1xyXG4gICAgICAgICAgICBpZiAobGFzdEtleSAhPT0gbmV4dEtleSkge1xyXG4gICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SG9va3NEZWZpbmVkICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzLm9uQ29tcG9uZW50U2hvdWxkVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IG5leHRIb29rcy5vbkNvbXBvbmVudFNob3VsZFVwZGF0ZShsYXN0UHJvcHMsIG5leHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SG9va3NEZWZpbmVkICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dEhvb2tzLm9uQ29tcG9uZW50V2lsbFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IG5leHRUeXBlKG5leHRQcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG5leHRJbnB1dCkgJiYgbmV4dElucHV0ICE9PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ2EgdmFsaWQgSW5mZXJubyBWTm9kZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZCBmcm9tIGEgY29tcG9uZW50IHJlbmRlci4gWW91IG1heSBoYXZlIHJldHVybmVkIGFuIGFycmF5IG9yIGFuIGludmFsaWQgb2JqZWN0LicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwobmV4dElucHV0LmRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dElucHV0ICE9PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0Y2gobGFzdElucHV0LCBuZXh0SW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRWTm9kZS5jaGlsZHJlbiA9IG5leHRJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEhvb2tzRGVmaW5lZCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIb29rcy5vbkNvbXBvbmVudERpZFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEhvb2tzLm9uQ29tcG9uZW50RGlkVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFZOb2RlLmRvbSA9IG5leHRJbnB1dC5kb207XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG5leHRJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgbmV4dElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgbGFzdElucHV0LnBhcmVudFZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmV4cG9ydHMucGF0Y2hDb21wb25lbnQgPSBwYXRjaENvbXBvbmVudDtcclxuZnVuY3Rpb24gcGF0Y2hUZXh0KGxhc3RWTm9kZSwgbmV4dFZOb2RlKSB7XHJcbiAgICB2YXIgbmV4dFRleHQgPSBuZXh0Vk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgIG5leHRWTm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAobGFzdFZOb2RlLmNoaWxkcmVuICE9PSBuZXh0VGV4dCkge1xyXG4gICAgICAgIGRvbS5ub2RlVmFsdWUgPSBuZXh0VGV4dDtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoVGV4dCA9IHBhdGNoVGV4dDtcclxuZnVuY3Rpb24gcGF0Y2hWb2lkKGxhc3RWTm9kZSwgbmV4dFZOb2RlKSB7XHJcbiAgICBuZXh0Vk5vZGUuZG9tID0gbGFzdFZOb2RlLmRvbTtcclxufVxyXG5leHBvcnRzLnBhdGNoVm9pZCA9IHBhdGNoVm9pZDtcclxuZnVuY3Rpb24gcGF0Y2hOb25LZXllZENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbGFzdENoaWxkcmVuTGVuZ3RoID0gbGFzdENoaWxkcmVuLmxlbmd0aDtcclxuICAgIHZhciBuZXh0Q2hpbGRyZW5MZW5ndGggPSBuZXh0Q2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgdmFyIGNvbW1vbkxlbmd0aCA9IGxhc3RDaGlsZHJlbkxlbmd0aCA+IG5leHRDaGlsZHJlbkxlbmd0aCA/IG5leHRDaGlsZHJlbkxlbmd0aCA6IGxhc3RDaGlsZHJlbkxlbmd0aDtcclxuICAgIHZhciBpID0gMDtcclxuICAgIGZvciAoOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldO1xyXG4gICAgICAgIGlmIChuZXh0Q2hpbGQuZG9tKSB7XHJcbiAgICAgICAgICAgIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRDaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhdGNoKGxhc3RDaGlsZHJlbltpXSwgbmV4dENoaWxkLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGlmIChsYXN0Q2hpbGRyZW5MZW5ndGggPCBuZXh0Q2hpbGRyZW5MZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGkgPSBjb21tb25MZW5ndGg7IGkgPCBuZXh0Q2hpbGRyZW5MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAobmV4dENoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgbmV4dENoaWxkID0gbmV4dENoaWxkcmVuW2ldID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobmV4dENoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKGRvbSwgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGQsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChuZXh0Q2hpbGRyZW5MZW5ndGggPT09IDApIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgbGFzdENoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGxhc3RDaGlsZHJlbkxlbmd0aCA+IG5leHRDaGlsZHJlbkxlbmd0aCkge1xyXG4gICAgICAgIGZvciAoaSA9IGNvbW1vbkxlbmd0aDsgaSA8IGxhc3RDaGlsZHJlbkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGxhc3RDaGlsZHJlbltpXSwgZG9tLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hOb25LZXllZENoaWxkcmVuID0gcGF0Y2hOb25LZXllZENoaWxkcmVuO1xyXG5mdW5jdGlvbiBwYXRjaEtleWVkQ2hpbGRyZW4oYSwgYiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGFMZW5ndGggPSBhLmxlbmd0aDtcclxuICAgIHZhciBiTGVuZ3RoID0gYi5sZW5ndGg7XHJcbiAgICB2YXIgYUVuZCA9IGFMZW5ndGggLSAxO1xyXG4gICAgdmFyIGJFbmQgPSBiTGVuZ3RoIC0gMTtcclxuICAgIHZhciBhU3RhcnQgPSAwO1xyXG4gICAgdmFyIGJTdGFydCA9IDA7XHJcbiAgICB2YXIgaTtcclxuICAgIHZhciBqO1xyXG4gICAgdmFyIGFOb2RlO1xyXG4gICAgdmFyIGJOb2RlO1xyXG4gICAgdmFyIG5leHROb2RlO1xyXG4gICAgdmFyIG5leHRQb3M7XHJcbiAgICB2YXIgbm9kZTtcclxuICAgIGlmIChhTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgaWYgKGJMZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnRBcnJheUNoaWxkcmVuKGIsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGJMZW5ndGggPT09IDApIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgYSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICB2YXIgYlN0YXJ0Tm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgIHZhciBhRW5kTm9kZSA9IGFbYUVuZF07XHJcbiAgICB2YXIgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgaWYgKGJTdGFydE5vZGUuZG9tKSB7XHJcbiAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKGJFbmROb2RlLmRvbSkge1xyXG4gICAgICAgIGJbYkVuZF0gPSBiRW5kTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJFbmROb2RlKTtcclxuICAgIH1cclxuICAgIC8vIFN0ZXAgMVxyXG4gICAgLyogZXNsaW50IG5vLWNvbnN0YW50LWNvbmRpdGlvbjogMCAqL1xyXG4gICAgb3V0ZXI6IHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgLy8gU3luYyBub2RlcyB3aXRoIHRoZSBzYW1lIGtleSBhdCB0aGUgYmVnaW5uaW5nLlxyXG4gICAgICAgIHdoaWxlIChhU3RhcnROb2RlLmtleSA9PT0gYlN0YXJ0Tm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYVN0YXJ0Tm9kZSwgYlN0YXJ0Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIGFTdGFydCsrO1xyXG4gICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgaWYgKGFTdGFydCA+IGFFbmQgfHwgYlN0YXJ0ID4gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYVN0YXJ0Tm9kZSA9IGFbYVN0YXJ0XTtcclxuICAgICAgICAgICAgYlN0YXJ0Tm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgICAgICAgICAgaWYgKGJTdGFydE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JTdGFydF0gPSBiU3RhcnROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYlN0YXJ0Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3luYyBub2RlcyB3aXRoIHRoZSBzYW1lIGtleSBhdCB0aGUgZW5kLlxyXG4gICAgICAgIHdoaWxlIChhRW5kTm9kZS5rZXkgPT09IGJFbmROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhRW5kTm9kZSwgYkVuZE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBhRW5kLS07XHJcbiAgICAgICAgICAgIGJFbmQtLTtcclxuICAgICAgICAgICAgaWYgKGFTdGFydCA+IGFFbmQgfHwgYlN0YXJ0ID4gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgICAgICAgICBiRW5kTm9kZSA9IGJbYkVuZF07XHJcbiAgICAgICAgICAgIGlmIChiRW5kTm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgIGJbYkVuZF0gPSBiRW5kTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJFbmROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNb3ZlIGFuZCBzeW5jIG5vZGVzIGZyb20gcmlnaHQgdG8gbGVmdC5cclxuICAgICAgICBpZiAoYUVuZE5vZGUua2V5ID09PSBiU3RhcnROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhRW5kTm9kZSwgYlN0YXJ0Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBiU3RhcnROb2RlLmRvbSwgYVN0YXJ0Tm9kZS5kb20pO1xyXG4gICAgICAgICAgICBhRW5kLS07XHJcbiAgICAgICAgICAgIGJTdGFydCsrO1xyXG4gICAgICAgICAgICBhRW5kTm9kZSA9IGFbYUVuZF07XHJcbiAgICAgICAgICAgIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNb3ZlIGFuZCBzeW5jIG5vZGVzIGZyb20gbGVmdCB0byByaWdodC5cclxuICAgICAgICBpZiAoYVN0YXJ0Tm9kZS5rZXkgPT09IGJFbmROb2RlLmtleSkge1xyXG4gICAgICAgICAgICBwYXRjaChhU3RhcnROb2RlLCBiRW5kTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG5leHRQb3MgPSBiRW5kICsgMTtcclxuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBiRW5kTm9kZS5kb20sIG5leHROb2RlKTtcclxuICAgICAgICAgICAgYVN0YXJ0Kys7XHJcbiAgICAgICAgICAgIGJFbmQtLTtcclxuICAgICAgICAgICAgYVN0YXJ0Tm9kZSA9IGFbYVN0YXJ0XTtcclxuICAgICAgICAgICAgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgICAgICAgICBpZiAoYkVuZE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgaWYgKGFTdGFydCA+IGFFbmQpIHtcclxuICAgICAgICBpZiAoYlN0YXJ0IDw9IGJFbmQpIHtcclxuICAgICAgICAgICAgbmV4dFBvcyA9IGJFbmQgKyAxO1xyXG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgd2hpbGUgKGJTdGFydCA8PSBiRW5kKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYltiU3RhcnRdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYlN0YXJ0ID4gYkVuZCkge1xyXG4gICAgICAgIHdoaWxlIChhU3RhcnQgPD0gYUVuZCkge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChhW2FTdGFydCsrXSwgZG9tLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYUxlbmd0aCA9IGFFbmQgLSBhU3RhcnQgKyAxO1xyXG4gICAgICAgIGJMZW5ndGggPSBiRW5kIC0gYlN0YXJ0ICsgMTtcclxuICAgICAgICB2YXIgc291cmNlcyA9IG5ldyBBcnJheShiTGVuZ3RoKTtcclxuICAgICAgICAvLyBNYXJrIGFsbCBub2RlcyBhcyBpbnNlcnRlZC5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNvdXJjZXNbaV0gPSAtMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHBvcyA9IDA7XHJcbiAgICAgICAgdmFyIHBhdGNoZWQgPSAwO1xyXG4gICAgICAgIC8vIFdoZW4gc2l6ZXMgYXJlIHNtYWxsLCBqdXN0IGxvb3AgdGhlbSB0aHJvdWdoXHJcbiAgICAgICAgaWYgKChiTGVuZ3RoIDw9IDQpIHx8IChhTGVuZ3RoICogYkxlbmd0aCA8PSAxNikpIHtcclxuICAgICAgICAgICAgZm9yIChpID0gYVN0YXJ0OyBpIDw9IGFFbmQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYU5vZGUgPSBhW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZWQgPCBiTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gYlN0YXJ0OyBqIDw9IGJFbmQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiTm9kZSA9IGJbal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhTm9kZS5rZXkgPT09IGJOb2RlLmtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlc1tqIC0gYlN0YXJ0XSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zID4gaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYk5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYltqXSA9IGJOb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2goYU5vZGUsIGJOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBrZXlJbmRleCA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgLy8gTWFwIGtleXMgYnkgdGhlaXIgaW5kZXggaW4gYXJyYXlcclxuICAgICAgICAgICAgZm9yIChpID0gYlN0YXJ0OyBpIDw9IGJFbmQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAga2V5SW5kZXguc2V0KGJbaV0ua2V5LCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUcnkgdG8gcGF0Y2ggc2FtZSBrZXlzXHJcbiAgICAgICAgICAgIGZvciAoaSA9IGFTdGFydDsgaSA8PSBhRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkIDwgYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGogPSBrZXlJbmRleC5nZXQoYU5vZGUua2V5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYk5vZGUgPSBiW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW2ogLSBiU3RhcnRdID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJOb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltqXSA9IGJOb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoKGFOb2RlLCBiTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoZWQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYVtpXSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZhc3QtcGF0aDogaWYgbm90aGluZyBwYXRjaGVkIHJlbW92ZSBhbGwgb2xkIGFuZCBhZGQgYWxsIG5ld1xyXG4gICAgICAgIGlmIChhTGVuZ3RoID09PSBhLmxlbmd0aCAmJiBwYXRjaGVkID09PSAwKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBhLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgd2hpbGUgKGJTdGFydCA8IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIG5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICBiW2JTdGFydF0gPSBub2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaSA9IGFMZW5ndGggLSBwYXRjaGVkO1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVthU3RhcnQrK107XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGFOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGFOb2RlLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW92ZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXEgPSBsaXNfYWxnb3JpdGhtKHNvdXJjZXMpO1xyXG4gICAgICAgICAgICAgICAgaiA9IHNlcS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gYkxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbaV0gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltwb3NdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQb3MgPSBwb3MgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IHNlcVtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gaSArIGJTdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UG9zID0gcG9zICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG5vZGUuZG9tLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqLS07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGF0Y2hlZCAhPT0gYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2hlbiBwYXRjaGVkIGNvdW50IGRvZXNuJ3QgbWF0Y2ggYiBsZW5ndGggd2UgbmVlZCB0byBpbnNlcnQgdGhvc2UgbmV3IG9uZXNcclxuICAgICAgICAgICAgICAgIC8vIGxvb3AgYmFja3dhcmRzIHNvIHdlIGNhbiB1c2UgaW5zZXJ0QmVmb3JlXHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBiTGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlc1tpXSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gaSArIGJTdGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbcG9zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiW3Bvc10gPSBub2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBvcyA9IHBvcyArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoS2V5ZWRDaGlsZHJlbiA9IHBhdGNoS2V5ZWRDaGlsZHJlbjtcclxuLy8gLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9uZ2VzdF9pbmNyZWFzaW5nX3N1YnNlcXVlbmNlXHJcbmZ1bmN0aW9uIGxpc19hbGdvcml0aG0oYXJyKSB7XHJcbiAgICB2YXIgcCA9IGFyci5zbGljZSgwKTtcclxuICAgIHZhciByZXN1bHQgPSBbMF07XHJcbiAgICB2YXIgaTtcclxuICAgIHZhciBqO1xyXG4gICAgdmFyIHU7XHJcbiAgICB2YXIgdjtcclxuICAgIHZhciBjO1xyXG4gICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgYXJySSA9IGFycltpXTtcclxuICAgICAgICBpZiAoYXJySSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGlmIChhcnJbal0gPCBhcnJJKSB7XHJcbiAgICAgICAgICAgIHBbaV0gPSBqO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChpKTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHUgPSAwO1xyXG4gICAgICAgIHYgPSByZXN1bHQubGVuZ3RoIC0gMTtcclxuICAgICAgICB3aGlsZSAodSA8IHYpIHtcclxuICAgICAgICAgICAgYyA9ICgodSArIHYpIC8gMikgfCAwO1xyXG4gICAgICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XHJcbiAgICAgICAgICAgICAgICB1ID0gYyArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ID0gYztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XHJcbiAgICAgICAgICAgIGlmICh1ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcFtpXSA9IHJlc3VsdFt1IC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0W3VdID0gaTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1ID0gcmVzdWx0Lmxlbmd0aDtcclxuICAgIHYgPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgd2hpbGUgKHUtLSA+IDApIHtcclxuICAgICAgICByZXN1bHRbdV0gPSB2O1xyXG4gICAgICAgIHYgPSBwW3ZdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBpc0F0dHJBbkV2ZW50KGF0dHIpIHtcclxuICAgIHJldHVybiBhdHRyWzBdID09PSAnbycgJiYgYXR0clsxXSA9PT0gJ24nO1xyXG59XHJcbmV4cG9ydHMuaXNBdHRyQW5FdmVudCA9IGlzQXR0ckFuRXZlbnQ7XHJcbmZ1bmN0aW9uIHBhdGNoUHJvcChwcm9wLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKSB7XHJcbiAgICBpZiAobGFzdFZhbHVlICE9PSBuZXh0VmFsdWUpIHtcclxuICAgICAgICBpZiAoY29uc3RhbnRzXzEuc2tpcFByb3BzLmhhcyhwcm9wKSB8fCAoaGFzQ29udHJvbGxlZFZhbHVlICYmIHByb3AgPT09ICd2YWx1ZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29uc3RhbnRzXzEuYm9vbGVhblByb3BzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICBwcm9wID0gcHJvcCA9PT0gJ2F1dG9Gb2N1cycgPyBwcm9wLnRvTG93ZXJDYXNlKCkgOiBwcm9wO1xyXG4gICAgICAgICAgICBkb21bcHJvcF0gPSAhIW5leHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29uc3RhbnRzXzEuc3RyaWN0UHJvcHMuaGFzKHByb3ApKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0VmFsdWUpID8gJycgOiBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChkb21bcHJvcF0gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBkb21bcHJvcF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc0F0dHJBbkV2ZW50KHByb3ApKSB7XHJcbiAgICAgICAgICAgIHBhdGNoRXZlbnQocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGRvbS5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgcGF0Y2hTdHlsZShsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJvcCA9PT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xyXG4gICAgICAgICAgICB2YXIgbGFzdEh0bWwgPSBsYXN0VmFsdWUgJiYgbGFzdFZhbHVlLl9faHRtbDtcclxuICAgICAgICAgICAgdmFyIG5leHRIdG1sID0gbmV4dFZhbHVlICYmIG5leHRWYWx1ZS5fX2h0bWw7XHJcbiAgICAgICAgICAgIGlmIChsYXN0SHRtbCAhPT0gbmV4dEh0bWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIdG1sKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5pbm5lckhUTUwgPSBuZXh0SHRtbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gV2Ugb3B0aW1pemUgZm9yIE5TIGJlaW5nIGJvb2xlYW4uIEl0cyA5OS45JSB0aW1lIGZhbHNlXHJcbiAgICAgICAgICAgIGlmIChpc1NWRyAmJiBjb25zdGFudHNfMS5uYW1lc3BhY2VzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZW5kIHVwIGluIHRoaXMgcGF0aCB3ZSBjYW4gcmVhZCBwcm9wZXJ0eSBhZ2FpblxyXG4gICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZU5TKGNvbnN0YW50c18xLm5hbWVzcGFjZXMuZ2V0KHByb3ApLCBwcm9wLCBuZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShwcm9wLCBuZXh0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2hQcm9wID0gcGF0Y2hQcm9wO1xyXG5mdW5jdGlvbiBwYXRjaEV2ZW50KG5hbWUsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20pIHtcclxuICAgIGlmIChsYXN0VmFsdWUgIT09IG5leHRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChjb25zdGFudHNfMS5kZWxlZ2F0ZWRFdmVudHMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIGRlbGVnYXRpb25fMS5oYW5kbGVFdmVudChuYW1lLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lTG93ZXJDYXNlID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB2YXIgZG9tRXZlbnQgPSBkb21bbmFtZUxvd2VyQ2FzZV07XHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSBmdW5jdGlvbiBpcyB3cmFwcGVkLCB0aGF0IG1lYW5zIGl0J3MgYmVlbiBjb250cm9sbGVkIGJ5IGEgd3JhcHBlclxyXG4gICAgICAgICAgICBpZiAoZG9tRXZlbnQgJiYgZG9tRXZlbnQud3JhcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKG5leHRWYWx1ZSkgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlua0V2ZW50XzEgPSBuZXh0VmFsdWUuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlua0V2ZW50XzEgJiYgaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKGxpbmtFdmVudF8xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbVtuYW1lTG93ZXJDYXNlXSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtFdmVudF8xKG5leHRWYWx1ZS5kYXRhLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImFuIGV2ZW50IG9uIGEgVk5vZGUgXFxcIlwiICsgbmFtZSArIFwiXFxcIi4gd2FzIG5vdCBhIGZ1bmN0aW9uIG9yIGEgdmFsaWQgbGlua0V2ZW50LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEV2ZW50ID0gcGF0Y2hFdmVudDtcclxuLy8gV2UgYXJlIGFzc3VtaW5nIGhlcmUgdGhhdCB3ZSBjb21lIGZyb20gcGF0Y2hQcm9wIHJvdXRpbmVcclxuLy8gLW5leHRBdHRyVmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXHJcbmZ1bmN0aW9uIHBhdGNoU3R5bGUobGFzdEF0dHJWYWx1ZSwgbmV4dEF0dHJWYWx1ZSwgZG9tKSB7XHJcbiAgICB2YXIgZG9tU3R5bGUgPSBkb20uc3R5bGU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyhuZXh0QXR0clZhbHVlKSkge1xyXG4gICAgICAgIGRvbVN0eWxlLmNzc1RleHQgPSBuZXh0QXR0clZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAodmFyIHN0eWxlIGluIG5leHRBdHRyVmFsdWUpIHtcclxuICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRBdHRyVmFsdWVbc3R5bGVdO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bWJlcih2YWx1ZSkgfHwgY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlci5oYXMoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gdmFsdWUgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGxhc3RBdHRyVmFsdWUpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3R5bGUgaW4gbGFzdEF0dHJWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRBdHRyVmFsdWVbc3R5bGVdKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFN0eWxlID0gcGF0Y2hTdHlsZTtcclxuZnVuY3Rpb24gcmVtb3ZlUHJvcChwcm9wLCBsYXN0VmFsdWUsIGRvbSkge1xyXG4gICAgaWYgKHByb3AgPT09ICd2YWx1ZScpIHtcclxuICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgIGRlbGVnYXRpb25fMS5oYW5kbGVFdmVudChwcm9wLCBsYXN0VmFsdWUsIG51bGwsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgfVxyXG59XHJcblxuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgVk5vZGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgaHlkcmF0aW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcclxudmFyIG1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbnZhciB1bm1vdW50aW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG4vLyByYXRoZXIgdGhhbiB1c2UgYSBNYXAsIGxpa2Ugd2UgZGlkIGJlZm9yZSwgd2UgY2FuIHVzZSBhbiBhcnJheSBoZXJlXHJcbi8vIGdpdmVuIHRoZXJlIHNob3VsZG4ndCBiZSBUSEFUIG1hbnkgcm9vdHMgb24gdGhlIHBhZ2UsIHRoZSBkaWZmZXJlbmNlXHJcbi8vIGluIHBlcmZvcm1hbmNlIGlzIGh1Z2U6IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTgwMmE2OTEzMzBhYjA5OTAwYTFhMmRhXHJcbmV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwID0gbmV3IE1hcCgpO1xyXG52YXIgcm9vdHMgPSBvcHRpb25zXzEub3B0aW9ucy5yb290cztcclxuLyoqXHJcbiAqIFdoZW4gaW5mZXJuby5vcHRpb25zLmZpbmRET01OT2RlRW5hYmxlZCBpcyB0cnVlLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIERPTSBOb2RlIGJ5IGNvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0gcmVmIENvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcmV0dXJucyB7KnxudWxsfSByZXR1cm5zIGRvbSBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kRE9NTm9kZShyZWYpIHtcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZmluZERPTU5vZGUoKSBoYXMgYmVlbiBkaXNhYmxlZCwgdXNlIEluZmVybm8ub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQgPSB0cnVlOyBlbmFibGVkIGZpbmRET01Ob2RlKCkuIFdhcm5pbmcgdGhpcyBjYW4gc2lnbmlmaWNhbnRseSBpbXBhY3QgcGVyZm9ybWFuY2UhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgdmFyIGRvbSA9IHJlZiAmJiByZWYubm9kZVR5cGUgPyByZWYgOiBudWxsO1xyXG4gICAgcmV0dXJuIGV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwLmdldChyZWYpIHx8IGRvbTtcclxufVxyXG5leHBvcnRzLmZpbmRET01Ob2RlID0gZmluZERPTU5vZGU7XHJcbmZ1bmN0aW9uIGdldFJvb3QoZG9tKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm9vdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgcm9vdCA9IHJvb3RzW2ldO1xyXG4gICAgICAgIGlmIChyb290LmRvbSA9PT0gZG9tKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb290O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIHNldFJvb3QoZG9tLCBpbnB1dCwgbGlmZWN5Y2xlKSB7XHJcbiAgICB2YXIgcm9vdCA9IHtcclxuICAgICAgICBkb206IGRvbSxcclxuICAgICAgICBpbnB1dDogaW5wdXQsXHJcbiAgICAgICAgbGlmZWN5Y2xlOiBsaWZlY3ljbGVcclxuICAgIH07XHJcbiAgICByb290cy5wdXNoKHJvb3QpO1xyXG4gICAgcmV0dXJuIHJvb3Q7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlUm9vdChyb290KSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm9vdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAocm9vdHNbaV0gPT09IHJvb3QpIHtcclxuICAgICAgICAgICAgcm9vdHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmlmIChmYWxzZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyICYmIGRvY3VtZW50LmJvZHkgPT09IG51bGwpIHtcclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gd2FybmluZzogeW91IGNhbm5vdCBpbml0aWFsaXplIGluZmVybm8gd2l0aG91dCBcImRvY3VtZW50LmJvZHlcIi4gV2FpdCBvbiBcIkRPTUNvbnRlbnRMb2FkZWRcIiBldmVudCwgYWRkIHNjcmlwdCB0byBib3R0b20gb2YgYm9keSwgb3IgdXNlIGFzeW5jL2RlZmVyIGF0dHJpYnV0ZXMgb24gc2NyaXB0IHRhZy4nKTtcclxuICAgIH1cclxufVxyXG52YXIgZG9jdW1lbnRCb2R5ID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgPyBkb2N1bWVudC5ib2R5IDogbnVsbDtcclxuLyoqXHJcbiAqIFJlbmRlcnMgdmlydHVhbCBub2RlIHRyZWUgaW50byBwYXJlbnQgbm9kZS5cclxuICogQHBhcmFtIHtWTm9kZSB8IG51bGwgfCBzdHJpbmcgfCBudW1iZXJ9IGlucHV0IHZOb2RlIHRvIGJlIHJlbmRlcmVkXHJcbiAqIEBwYXJhbSBwYXJlbnREb20gRE9NIG5vZGUgd2hpY2ggY29udGVudCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHZpcnR1YWwgbm9kZVxyXG4gKiBAcmV0dXJucyB7SW5mZXJub0NoaWxkcmVufSByZW5kZXJlZCB2aXJ0dWFsIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIHJlbmRlcihpbnB1dCwgcGFyZW50RG9tKSB7XHJcbiAgICBpZiAoZG9jdW1lbnRCb2R5ID09PSBwYXJlbnREb20pIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCd5b3UgY2Fubm90IHJlbmRlcigpIHRvIHRoZSBcImRvY3VtZW50LmJvZHlcIi4gVXNlIGFuIGVtcHR5IGVsZW1lbnQgYXMgYSBjb250YWluZXIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcm9vdCA9IGdldFJvb3QocGFyZW50RG9tKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChyb290KSkge1xyXG4gICAgICAgIHZhciBsaWZlY3ljbGUgPSBuZXcgaW5mZXJub19zaGFyZWRfMS5MaWZlY3ljbGUoKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGlucHV0KSkge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWh5ZHJhdGlvbl8xLmh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQoaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvb3QgPSBzZXRSb290KHBhcmVudERvbSwgaW5wdXQsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGxpZmVjeWNsZSA9IHJvb3QubGlmZWN5Y2xlO1xyXG4gICAgICAgIGxpZmVjeWNsZS5saXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGlucHV0KSkge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChyb290LmlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlUm9vdChyb290KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2gocm9vdC5pbnB1dCwgaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm9vdC5pbnB1dCA9IGlucHV0O1xyXG4gICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICB9XHJcbiAgICBpZiAocm9vdCkge1xyXG4gICAgICAgIHZhciByb290SW5wdXQgPSByb290LmlucHV0O1xyXG4gICAgICAgIGlmIChyb290SW5wdXQgJiYgKHJvb3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3RJbnB1dC5jaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKHBhcmVudERvbSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlbmRlcmVyKGxhc3RJbnB1dCwgbmV4dElucHV0KSB7XHJcbiAgICAgICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICAgICAgcGFyZW50RG9tID0gbGFzdElucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZW5kZXIobmV4dElucHV0LCBwYXJlbnREb20pO1xyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXI7XHJcblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxudmFyIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxudmFyIFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuX29uQ29tcG9uZW50UmVzb2x2ZWQgPSBmdW5jdGlvbiAoZXJyb3IsIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBhc3luY0NvbXBvbmVudDogY29tcG9uZW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGFzeW5jQ29tcG9uZW50OiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSB0aGlzLnByb3BzLm9uRW50ZXI7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKG9uRW50ZXIpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25FbnRlcih7IHByb3BzOiBfdGhpcy5wcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gdGhpcy5wcm9wcy5nZXRDb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKGdldENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnQoeyBwcm9wczogX3RoaXMucHJvcHMsIHJvdXRlcjogcm91dGVyIH0sIF90aGlzLl9vbkNvbXBvbmVudFJlc29sdmVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5vbkxlYXZlID0gZnVuY3Rpb24gKHRyaWdnZXIpIHtcclxuICAgICAgICBpZiAodHJpZ2dlciA9PT0gdm9pZCAwKSB7IHRyaWdnZXIgPSBmYWxzZTsgfVxyXG4gICAgICAgIHZhciBvbkxlYXZlID0gdGhpcy5wcm9wcy5vbkxlYXZlO1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xyXG4gICAgICAgIGlmIChvbkxlYXZlICYmIHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgb25MZWF2ZSh7IHByb3BzOiB0aGlzLnByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLm9uRW50ZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSBuZXh0UHJvcHMub25FbnRlcjtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBvbkVudGVyKSB7XHJcbiAgICAgICAgICAgIG9uRW50ZXIoeyBwcm9wczogbmV4dFByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gbmV4dFByb3BzLmdldENvbXBvbmVudDtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBnZXRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50KHsgcHJvcHM6IG5leHRQcm9wcywgcm91dGVyOiByb3V0ZXIgfSwgdGhpcy5fb25Db21wb25lbnRSZXNvbHZlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uRW50ZXIobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChfYXJncykge1xyXG4gICAgICAgIHZhciBjb21wb25lbnQgPSBfYXJncy5jb21wb25lbnQsIGNoaWxkcmVuID0gX2FyZ3MuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHByb3BzID0gdXRpbHNfMS5yZXN0KF9hcmdzLCBbJ2NvbXBvbmVudCcsICdjaGlsZHJlbicsICdwYXRoJywgJ2dldENvbXBvbmVudCddKTtcclxuICAgICAgICB2YXIgYXN5bmNDb21wb25lbnQgPSB0aGlzLnN0YXRlLmFzeW5jQ29tcG9uZW50O1xyXG4gICAgICAgIHZhciByZXNvbHZlZENvbXBvbmVudCA9IGNvbXBvbmVudCB8fCBhc3luY0NvbXBvbmVudDtcclxuICAgICAgICBpZiAoIXJlc29sdmVkQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KHJlc29sdmVkQ29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZTtcclxufShpbmZlcm5vX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLnhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmV4cG9ydHMueG1sTlMgPSAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJztcclxuZXhwb3J0cy5zdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbmV4cG9ydHMuc3RyaWN0UHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuc3RyaWN0UHJvcHMuYWRkKCd2b2x1bWUnKTtcclxuZXhwb3J0cy5zdHJpY3RQcm9wcy5hZGQoJ2RlZmF1bHRDaGVja2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ211dGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnc2NvcGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbG9vcCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ29wZW4nKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdjaGVja2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnZGVmYXVsdCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NhcHR1cmUnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdkaXNhYmxlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3JlYWRPbmx5Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgncmVxdWlyZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdhdXRvcGxheScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NvbnRyb2xzJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnc2VhbWxlc3MnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdyZXZlcnNlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2FsbG93ZnVsbHNjcmVlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ25vdmFsaWRhdGUnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdoaWRkZW4nKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdhdXRvRm9jdXMnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzZWxlY3RlZCcpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMgPSBuZXcgTWFwKCk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOmhyZWYnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazphcmNyb2xlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6YWN0dWF0ZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnNob3cnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazpyb2xlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6dGl0bGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazp0eXBlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOmJhc2UnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOmxhbmcnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneG1sOnNwYWNlJywgZXhwb3J0cy54bWxOUyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlciA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm9yZGVySW1hZ2VPdXRzZXQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm9yZGVySW1hZ2VTbGljZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZVdpZHRoJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JveEZsZXgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94RmxleEdyb3VwJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JveE9yZGluYWxHcm91cCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdjb2x1bW5Db3VudCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhHcm93Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhQb3NpdGl2ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4U2hyaW5rJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhOZWdhdGl2ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdmbGV4T3JkZXInKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZ3JpZFJvdycpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdncmlkQ29sdW1uJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZvbnRXZWlnaHQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnbGluZUNsYW1wJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2xpbmVIZWlnaHQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnb3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcmRlcicpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcnBoYW5zJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3RhYlNpemUnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnd2lkb3dzJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3pJbmRleCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCd6b29tJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZpbGxPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2Zsb29kT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdG9wT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VEYXNoYXJyYXknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlRGFzaG9mZnNldCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VNaXRlcmxpbWl0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZU9wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlV2lkdGgnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnY2hpbGRyZW4nKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGlsZHJlblR5cGUnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdkZWZhdWx0VmFsdWUnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdyZWYnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdrZXknKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGVja2VkJyk7XHJcbmV4cG9ydHMuc2tpcFByb3BzLmFkZCgnbXVsdGlwbGUnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25DbGljaycpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uTW91c2VEb3duJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZVVwJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZU1vdmUnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvblN1Ym1pdCcpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uRGJsQ2xpY2snKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleURvd24nKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleVVwJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25LZXlQcmVzcycpO1xyXG5cblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgb3B0aW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIHBhdGNoaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG52YXIgcmVjeWNsaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTtcclxudmFyIHJlbmRlcmluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG5mdW5jdGlvbiBtb3VudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCAoZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRWb2lkKHZOb2RlLCBwYXJlbnREb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICByZXR1cm4gbW91bnRUZXh0KHZOb2RlLCBwYXJlbnREb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygdk5vZGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJtb3VudCgpIHJlY2VpdmVkIGFuIG9iamVjdCB0aGF0J3Mgbm90IGEgdmFsaWQgVk5vZGUsIHlvdSBzaG91bGQgc3RyaW5naWZ5IGl0IGZpcnN0LiBPYmplY3Q6IFxcXCJcIiArIEpTT04uc3RyaW5naWZ5KHZOb2RlKSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJtb3VudCgpIGV4cGVjdHMgYSB2YWxpZCBWTm9kZSwgaW5zdGVhZCBpdCByZWNlaXZlZCBhbiBvYmplY3Qgd2l0aCB0aGUgdHlwZSBcXFwiXCIgKyB0eXBlb2Ygdk5vZGUgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnQgPSBtb3VudDtcclxuZnVuY3Rpb24gbW91bnRUZXh0KHZOb2RlLCBwYXJlbnREb20pIHtcclxuICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2Tm9kZS5jaGlsZHJlbik7XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZXhwb3J0cy5tb3VudFRleHQgPSBtb3VudFRleHQ7XHJcbmZ1bmN0aW9uIG1vdW50Vm9pZCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRWb2lkID0gbW91bnRWb2lkO1xyXG5mdW5jdGlvbiBtb3VudEVsZW1lbnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLnJlY3ljbGluZ0VuYWJsZWQpIHtcclxuICAgICAgICB2YXIgZG9tXzEgPSByZWN5Y2xpbmdfMS5yZWN5Y2xlRWxlbWVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChkb21fMSkpIHtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tXzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkb21fMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlzU1ZHID0gaXNTVkcgfHwgKGZsYWdzICYgMTI4IC8qIFN2Z0VsZW1lbnQgKi8pID4gMDtcclxuICAgIHZhciBkb20gPSB1dGlsc18xLmRvY3VtZW50Q3JlYXRlRWxlbWVudCh2Tm9kZS50eXBlLCBpc1NWRyk7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IHZOb2RlLmNsYXNzTmFtZTtcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBjaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgbW91bnRBcnJheUNoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBtb3VudChjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzKSkge1xyXG4gICAgICAgIHZhciBoYXNDb250cm9sbGVkVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGb3JtRWxlbWVudCA9IChmbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoUHJvcChwcm9wLCBudWxsLCBwcm9wc1twcm9wXSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnRfMS5wcm9jZXNzRWxlbWVudChmbGFncywgdk5vZGUsIGRvbSwgcHJvcHMsIHRydWUsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocmVmKSkge1xyXG4gICAgICAgIG1vdW50UmVmKGRvbSwgcmVmLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRFbGVtZW50ID0gbW91bnRFbGVtZW50O1xyXG5mdW5jdGlvbiBtb3VudEFycmF5Q2hpbGRyZW4oY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgLy8gVmVyaWZ5IGNhbiBzdHJpbmcvbnVtYmVyIGJlIGhlcmUuIG1pZ2h0IGNhdXNlIGRlLW9wdC4gLSBOb3JtYWxpemF0aW9uIHRha2VzIGNhcmUgb2YgaXQuXHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkpIHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5baV0gPSBjaGlsZCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtb3VudChjaGlsZHJlbltpXSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudEFycmF5Q2hpbGRyZW4gPSBtb3VudEFycmF5Q2hpbGRyZW47XHJcbmZ1bmN0aW9uIG1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MpIHtcclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIGRvbV8yID0gcmVjeWNsaW5nXzEucmVjeWNsZUNvbXBvbmVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChkb21fMikpIHtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tXzIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkb21fMjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgZG9tO1xyXG4gICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB1dGlsc18xLmNyZWF0ZUNsYXNzQ29tcG9uZW50SW5zdGFuY2Uodk5vZGUsIHR5cGUsIHByb3BzLCBjb250ZXh0LCBpc1NWRywgbGlmZWN5Y2xlKTtcclxuICAgICAgICB2YXIgaW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgIGluc3RhbmNlLl92Tm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGRvbSA9IG1vdW50KGlucHV0LCBudWxsLCBsaWZlY3ljbGUsIGluc3RhbmNlLl9jaGlsZENvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHV0aWxzXzEuY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gZG9tID0gbW91bnQoaW5wdXQsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIHZOb2RlLmNoaWxkcmVuID0gaW5wdXQ7XHJcbiAgICAgICAgbW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLmFwcGVuZENoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRDb21wb25lbnQgPSBtb3VudENvbXBvbmVudDtcclxuZnVuY3Rpb24gbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyh2Tm9kZSwgcmVmLCBpbnN0YW5jZSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAocmVmKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihyZWYpKSB7XHJcbiAgICAgICAgICAgIHJlZihpbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QocmVmKSAmJiAodk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZnVuY3Rpb25hbCBjb21wb25lbnQgbGlmZWN5Y2xlIGV2ZW50cyBhcmUgbm90IHN1cHBvcnRlZCBvbiBFUzIwMTUgY2xhc3MgY29tcG9uZW50cy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImEgYmFkIHZhbHVlIGZvciBcXFwicmVmXFxcIiB3YXMgdXNlZCBvbiBjb21wb25lbnQ6IFxcXCJcIiArIEpTT04uc3RyaW5naWZ5KHJlZikgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGhhc0RpZE1vdW50ID0gIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQpO1xyXG4gICAgdmFyIGFmdGVyTW91bnQgPSBvcHRpb25zXzEub3B0aW9ucy5hZnRlck1vdW50O1xyXG4gICAgaWYgKGhhc0RpZE1vdW50IHx8ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhZnRlck1vdW50KSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChhZnRlck1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBhZnRlck1vdW50KHZOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGFzRGlkTW91bnQpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzID0gbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsTW91bnQpKSB7XHJcbiAgICAgICAgICAgIHJlZi5vbkNvbXBvbmVudFdpbGxNb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnREaWRNb3VudCkpIHtcclxuICAgICAgICAgICAgbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZi5vbkNvbXBvbmVudERpZE1vdW50KGRvbSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyA9IG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRSZWYoZG9tLCB2YWx1ZSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZShkb20pOyB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdzdHJpbmcgXCJyZWZzXCIgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gSW5mZXJubyAxLjAuIFVzZSBjYWxsYmFjayBcInJlZnNcIiBpbnN0ZWFkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50UmVmID0gbW91bnRSZWY7XHJcblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNSkuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG52YXIgcGF0Y2hpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcbnZhciByZWN5Y2xpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbmZ1bmN0aW9uIHVubW91bnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgKDEgLyogVGV4dCAqLyB8IDQwOTYgLyogVm9pZCAqLykpIHtcclxuICAgICAgICB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnQgPSB1bm1vdW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgdk5vZGUuZG9tKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBpbnN0YW5jZSA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICB2YXIgaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgaWYgKCFpc1JlY3ljbGluZykge1xyXG4gICAgICAgIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2Jsb2NrU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVVubW91bnQodk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVmICYmICFpc1JlY3ljbGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZihudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5kZWxldGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdW5tb3VudChpbnN0YW5jZS5fbGFzdElucHV0LCBudWxsLCBpbnN0YW5jZS5fbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYub25Db21wb25lbnRXaWxsVW5tb3VudChkb20pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVubW91bnQoaW5zdGFuY2UsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGFyZW50RG9tKSB7XHJcbiAgICAgICAgdmFyIGxhc3RJbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGxhc3RJbnB1dCA9IGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmICFpc1N0YXRlZnVsQ29tcG9uZW50ICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sQ29tcG9uZW50KHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnRDb21wb25lbnQgPSB1bm1vdW50Q29tcG9uZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgaWYgKHJlZiAmJiAhaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICB1bm1vdW50UmVmKHJlZik7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzKSkge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBpZiAocHJvcHNbbmFtZV8xXSAhPT0gbnVsbCAmJiBwYXRjaGluZ18xLmlzQXR0ckFuRXZlbnQobmFtZV8xKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEV2ZW50KG5hbWVfMSwgcHJvcHNbbmFtZV8xXSwgbnVsbCwgZG9tKTtcclxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgbnVsbCwgYmVjYXVzZSBzYW1lIHByb3BzIG90aGVyd2lzZSBjb21lIGJhY2sgaWYgU0NVIHJldHVybnMgZmFsc2UgYW5kIHdlIGFyZSByZWN5bGluZ1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV8xXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sRWxlbWVudCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50RWxlbWVudCA9IHVubW91bnRFbGVtZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjaGlsZCwgbnVsbCwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50KGNoaWxkcmVuLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5tb3VudFJlZihyZWYpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIHJlZihudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChyZWYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBJbnB1dFdyYXBwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xyXG52YXIgU2VsZWN0V3JhcHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XHJcbnZhciBUZXh0YXJlYVdyYXBwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xyXG4vKipcclxuICogVGhlcmUgaXMgY3VycmVudGx5IG5vIHN1cHBvcnQgZm9yIHN3aXRjaGluZyBzYW1lIGlucHV0IGJldHdlZW4gY29udHJvbGxlZCBhbmQgbm9uQ29udHJvbGxlZFxyXG4gKiBJZiB0aGF0IGV2ZXIgYmVjb21lcyBhIHJlYWwgaXNzdWUsIHRoZW4gcmUgZGVzaWduIGNvbnRyb2xsZWQgZWxlbWVudHNcclxuICogQ3VycmVudGx5IHVzZXIgbXVzdCBjaG9vc2UgZWl0aGVyIGNvbnRyb2xsZWQgb3Igbm9uLWNvbnRyb2xsZWQgYW5kIHN0aWNrIHdpdGggdGhhdFxyXG4gKi9cclxuZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGlmIChmbGFncyAmIDUxMiAvKiBJbnB1dEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBJbnB1dFdyYXBwZXJfMS5wcm9jZXNzSW5wdXQodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZmxhZ3MgJiAyMDQ4IC8qIFNlbGVjdEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBTZWxlY3RXcmFwcGVyXzEucHJvY2Vzc1NlbGVjdCh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKTtcclxuICAgIH1cclxuICAgIGlmIChmbGFncyAmIDEwMjQgLyogVGV4dGFyZWFFbGVtZW50ICovKSB7XHJcbiAgICAgICAgVGV4dGFyZWFXcmFwcGVyXzEucHJvY2Vzc1RleHRhcmVhKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0VsZW1lbnQgPSBwcm9jZXNzRWxlbWVudDtcclxuZnVuY3Rpb24gaXNDb250cm9sbGVkRm9ybUVsZW1lbnQobmV4dFByb3BzT3JFbXB0eSkge1xyXG4gICAgcmV0dXJuIChuZXh0UHJvcHNPckVtcHR5LnR5cGUgJiYgSW5wdXRXcmFwcGVyXzEuaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSA/ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS5jaGVja2VkKSA6ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS52YWx1ZSk7XHJcbn1cclxuZXhwb3J0cy5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudCA9IGlzQ29udHJvbGxlZEZvcm1FbGVtZW50O1xyXG5cblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIGFkZExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuYWRkTGVhZGluZ1NsYXNoID0gZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbn07XG5cbnZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuc3RyaXBMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xufTtcblxudmFyIHN0cmlwUHJlZml4ID0gZXhwb3J0cy5zdHJpcFByZWZpeCA9IGZ1bmN0aW9uIHN0cmlwUHJlZml4KHBhdGgsIHByZWZpeCkge1xuICByZXR1cm4gcGF0aC5pbmRleE9mKHByZWZpeCkgPT09IDAgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59O1xuXG52YXIgc3RyaXBUcmFpbGluZ1NsYXNoID0gZXhwb3J0cy5zdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxudmFyIHBhcnNlUGF0aCA9IGV4cG9ydHMucGFyc2VQYXRoID0gZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICB2YXIgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICBwYXRobmFtZSA9IGRlY29kZVVSSShwYXRobmFtZSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2ggPT09ICc/JyA/ICcnIDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2ggPT09ICcjJyA/ICcnIDogaGFzaFxuICB9O1xufTtcblxudmFyIGNyZWF0ZVBhdGggPSBleHBvcnRzLmNyZWF0ZVBhdGggPSBmdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLFxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG5cblxuICB2YXIgcGF0aCA9IGVuY29kZVVSSShwYXRobmFtZSB8fCAnLycpO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNikuZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbmZ1bmN0aW9uIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpIHtcclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoMiAvKiBIdG1sRWxlbWVudCAqLywgJ2EnLCBjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcyk7XHJcbn1cclxuZnVuY3Rpb24gTGluayhwcm9wcywgX2EpIHtcclxuICAgIHZhciByb3V0ZXIgPSBfYS5yb3V0ZXI7XHJcbiAgICB2YXIgYWN0aXZlQ2xhc3NOYW1lID0gcHJvcHMuYWN0aXZlQ2xhc3NOYW1lLCBhY3RpdmVTdHlsZSA9IHByb3BzLmFjdGl2ZVN0eWxlLCBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsIG9uQ2xpY2sgPSBwcm9wcy5vbkNsaWNrLCBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLCB0byA9IHByb3BzLnRvLCBvdGhlclByb3BzID0gX19yZXN0KHByb3BzLCBbXCJhY3RpdmVDbGFzc05hbWVcIiwgXCJhY3RpdmVTdHlsZVwiLCBcImNsYXNzTmFtZVwiLCBcIm9uQ2xpY2tcIiwgXCJjaGlsZHJlblwiLCBcInRvXCJdKTtcclxuICAgIHZhciBjbGFzc05tO1xyXG4gICAgaWYgKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGNsYXNzTm0gPSBjbGFzc05hbWU7XHJcbiAgICB9XHJcbiAgICBpZiAoIXJvdXRlcikge1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJzxMaW5rLz4gY29tcG9uZW50IHVzZWQgb3V0c2lkZSBvZiA8Um91dGVyLz4uIEZhbGxiYWNrIHRvIDxhPiB0YWcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG90aGVyUHJvcHMuaHJlZiA9IHRvO1xyXG4gICAgICAgIG90aGVyUHJvcHMub25DbGljayA9IG9uQ2xpY2s7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG4gICAgfVxyXG4gICAgb3RoZXJQcm9wcy5ocmVmID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgPyByb3V0ZXIuY3JlYXRlSHJlZih7IHBhdGhuYW1lOiB0byB9KSA6IHJvdXRlci5sb2NhdGlvbi5iYXNlVXJsID8gcm91dGVyLmxvY2F0aW9uLmJhc2VVcmwgKyB0byA6IHRvO1xyXG4gICAgaWYgKHJvdXRlci5sb2NhdGlvbi5wYXRobmFtZSA9PT0gdG8pIHtcclxuICAgICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTm0gPSAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgYWN0aXZlQ2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aXZlU3R5bGUpIHtcclxuICAgICAgICAgICAgb3RoZXJQcm9wcy5zdHlsZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJvcHMuc3R5bGUsIGFjdGl2ZVN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdGhlclByb3BzLm9uY2xpY2sgPSBmdW5jdGlvbiBuYXZpZ2F0ZShlKSB7XHJcbiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwIHx8IGUuY3RybEtleSB8fCBlLmFsdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgb25DbGljayhlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm91dGVyLnB1c2godG8sIGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gcmVuZGVyTGluayhjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcyk7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gTGluaztcclxuXG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcclxudmFyIFJvdXRlckNvbnRleHQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJvdXRlckNvbnRleHQsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZXJDb250ZXh0KHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMubG9jYXRpb24gfHwgIXByb3BzLm1hdGNoZWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiaW5mZXJuby1yb3V0ZXJcIiByZXF1aXJlcyBhIFwibG9jYXRpb25cIiBhbmQgXCJtYXRjaGVkXCIgcHJvcHMgcGFzc2VkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGVyQ29udGV4dC5wcm90b3R5cGUuZ2V0Q2hpbGRDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJvdXRlcjogdGhpcy5wcm9wcy5yb3V0ZXIgfHwge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlVXJsOiB0aGlzLnByb3BzLmJhc2VVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6IHRoaXMucHJvcHMubG9jYXRpb25cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgUm91dGVyQ29udGV4dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHByb3BzKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3BzLm1hdGNoZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJvdXRlckNvbnRleHQ7XHJcbn0oaW5mZXJub19jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlckNvbnRleHQ7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIHBhdGhfdG9fcmVnZXhwX2VzNl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XHJcbnZhciB1dGlsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XHJcbnZhciBjYWNoZSA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBub2RlIGNvbnRhaW5pbmcgb25seSB0aGUgbWF0Y2hlZCBjb21wb25lbnRzXHJcbiAqIEBwYXJhbSByb3V0ZXNcclxuICogQHBhcmFtIGN1cnJlbnRVUkxcclxuICogQHJldHVybnMgeyp9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXRjaChyb3V0ZXMsIGN1cnJlbnRVUkwpIHtcclxuICAgIHZhciBsb2NhdGlvbiA9IHV0aWxzXzEuZ2V0VVJMU3RyaW5nKGN1cnJlbnRVUkwpO1xyXG4gICAgcmV0dXJuIG1hdGNoUm91dGVzKGluZmVybm9fc2hhcmVkXzEudG9BcnJheShyb3V0ZXMpLCBlbmNvZGVVUkkobG9jYXRpb24pLCAnLycpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG1hdGNoO1xyXG4vKipcclxuICogR28gdGhyb3VnaCBldmVyeSByb3V0ZSBhbmQgY3JlYXRlIGEgbmV3IG5vZGVcclxuICogd2l0aCB0aGUgbWF0Y2hlZCBjb21wb25lbnRzXHJcbiAqIEBwYXJhbSBfcm91dGVzXHJcbiAqIEBwYXJhbSBjdXJyZW50VVJMXHJcbiAqIEBwYXJhbSBwYXJlbnRQYXRoXHJcbiAqIEBwYXJhbSByZWRpcmVjdFxyXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbWF0Y2hSb3V0ZXMoX3JvdXRlcywgY3VycmVudFVSTCwgcGFyZW50UGF0aCwgcmVkaXJlY3QpIHtcclxuICAgIGlmIChjdXJyZW50VVJMID09PSB2b2lkIDApIHsgY3VycmVudFVSTCA9ICcvJzsgfVxyXG4gICAgaWYgKHBhcmVudFBhdGggPT09IHZvaWQgMCkgeyBwYXJlbnRQYXRoID0gJy8nOyB9XHJcbiAgICBpZiAocmVkaXJlY3QgPT09IHZvaWQgMCkgeyByZWRpcmVjdCA9IGZhbHNlOyB9XHJcbiAgICB2YXIgcm91dGVzID0gaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KF9yb3V0ZXMpID8gdXRpbHNfMS5mbGF0dGVuKF9yb3V0ZXMpIDogaW5mZXJub19zaGFyZWRfMS50b0FycmF5KF9yb3V0ZXMpO1xyXG4gICAgdmFyIF9hID0gY3VycmVudFVSTC5zcGxpdCgnPycpLCBfYiA9IF9hWzBdLCBwYXRoVG9NYXRjaCA9IF9iID09PSB2b2lkIDAgPyAnLycgOiBfYiwgX2MgPSBfYVsxXSwgc2VhcmNoID0gX2MgPT09IHZvaWQgMCA/ICcnIDogX2M7XHJcbiAgICB2YXIgcGFyYW1zID0gdXRpbHNfMS5tYXBTZWFyY2hQYXJhbXMoc2VhcmNoKTtcclxuICAgIHJvdXRlcy5zb3J0KHV0aWxzXzEucGF0aFJhbmtTb3J0KTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb3V0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgcm91dGUgPSByb3V0ZXNbaV07XHJcbiAgICAgICAgdmFyIHByb3BzID0gcm91dGUucHJvcHMgfHwgdXRpbHNfMS5lbXB0eU9iamVjdDtcclxuICAgICAgICB2YXIgcm91dGVQYXRoID0gcHJvcHMuZnJvbSB8fCBwcm9wcy5wYXRoIHx8ICcvJztcclxuICAgICAgICB2YXIgbG9jYXRpb25fMSA9IHBhcmVudFBhdGggKyB1dGlsc18xLnRvUGFydGlhbFVSTChyb3V0ZVBhdGgsIHBhcmVudFBhdGgpLnJlcGxhY2UoL1xcL1xcLy9nLCAnLycpO1xyXG4gICAgICAgIHZhciBpc0xhc3QgPSB1dGlsc18xLmlzRW1wdHkocHJvcHMuY2hpbGRyZW4pO1xyXG4gICAgICAgIHZhciBtYXRjaEJhc2UgPSBtYXRjaFBhdGgoaXNMYXN0LCBsb2NhdGlvbl8xLCBwYXRoVG9NYXRjaCk7XHJcbiAgICAgICAgaWYgKG1hdGNoQmFzZSkge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgaWYgKHByb3BzLmZyb20pIHtcclxuICAgICAgICAgICAgICAgIHJlZGlyZWN0ID0gcHJvcHMudG87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hDaGlsZCA9IG1hdGNoUm91dGVzKGNoaWxkcmVuLCBjdXJyZW50VVJMLCBsb2NhdGlvbl8xLCByZWRpcmVjdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaENoaWxkLnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25fMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBtYXRjaENoaWxkLnJlZGlyZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gbWF0Y2hDaGlsZC5tYXRjaGVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZFByb3BzID0gY2hpbGRyZW4ucHJvcHMucGFyYW1zO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjaGlsZFByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1trZXldID0gY2hpbGRQcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IGluZmVybm9fMS5kZWZhdWx0LmNsb25lVk5vZGUocm91dGUsIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtczogaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShwYXJhbXMsIG1hdGNoQmFzZS5wYXJhbXMpLFxyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzEsXHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdDogcmVkaXJlY3QsXHJcbiAgICAgICAgICAgICAgICBtYXRjaGVkOiBtYXRjaGVkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBwYXRoIHRvIGEgcmVnZXgsIGlmIGEgbWF0Y2ggaXMgZm91bmQgdGhlbiB3ZSBleHRyYWN0IHBhcmFtcyBmcm9tIGl0XHJcbiAqIEBwYXJhbSBlbmRcclxuICogQHBhcmFtIHJvdXRlUGF0aFxyXG4gKiBAcGFyYW0gcGF0aFRvTWF0Y2hcclxuICogQHJldHVybnMge2FueX1cclxuICovXHJcbmZ1bmN0aW9uIG1hdGNoUGF0aChlbmQsIHJvdXRlUGF0aCwgcGF0aFRvTWF0Y2gpIHtcclxuICAgIHZhciBrZXkgPSByb3V0ZVBhdGggKyBcInxcIiArIGVuZDtcclxuICAgIHZhciByZWdleHAgPSBjYWNoZS5nZXQoa2V5KTtcclxuICAgIGlmIChyZWdleHAgPT09IHZvaWQgMCkge1xyXG4gICAgICAgIHZhciBrZXlzID0gW107XHJcbiAgICAgICAgcmVnZXhwID0geyBwYXR0ZXJuOiBwYXRoX3RvX3JlZ2V4cF9lczZfMS5kZWZhdWx0KHJvdXRlUGF0aCwga2V5cywgeyBlbmQ6IGVuZCB9KSwga2V5czoga2V5cyB9O1xyXG4gICAgICAgIGNhY2hlLnNldChrZXksIHJlZ2V4cCk7XHJcbiAgICB9XHJcbiAgICB2YXIgbSA9IHJlZ2V4cC5wYXR0ZXJuLmV4ZWMocGF0aFRvTWF0Y2gpO1xyXG4gICAgaWYgKCFtKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICB2YXIgcGF0aCA9IG1bMF07XHJcbiAgICB2YXIgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBtLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XHJcbiAgICAgICAgcGFyYW1zW3JlZ2V4cC5rZXlzW2kgLSAxXS5uYW1lXSA9IHV0aWxzXzEuZGVjb2RlKG1baV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwYXRoOiBwYXRoID09PSAnJyA/ICcvJyA6IHBhdGgsXHJcbiAgICAgICAgcGFyYW1zOiBwYXJhbXNcclxuICAgIH07XHJcbn1cclxuZXhwb3J0cy5tYXRjaFBhdGggPSBtYXRjaFBhdGg7XHJcblxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG5leHBvcnRzLmVtcHR5T2JqZWN0ID0ge307XHJcbmZ1bmN0aW9uIGRlY29kZSh2YWwpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsICE9PSAnc3RyaW5nJyA/IHZhbCA6IGRlY29kZVVSSUNvbXBvbmVudCh2YWwpO1xyXG59XHJcbmV4cG9ydHMuZGVjb2RlID0gZGVjb2RlO1xyXG5mdW5jdGlvbiBpc0VtcHR5KGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gIWNoaWxkcmVuIHx8ICEoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogT2JqZWN0LmtleXMoY2hpbGRyZW4pKS5sZW5ndGg7XHJcbn1cclxuZXhwb3J0cy5pc0VtcHR5ID0gaXNFbXB0eTtcclxuZnVuY3Rpb24gZmxhdHRlbihvbGRBcnJheSkge1xyXG4gICAgdmFyIG5ld0FycmF5ID0gW107XHJcbiAgICBmbGF0dGVuQXJyYXkob2xkQXJyYXksIG5ld0FycmF5KTtcclxuICAgIHJldHVybiBuZXdBcnJheTtcclxufVxyXG5leHBvcnRzLmZsYXR0ZW4gPSBmbGF0dGVuO1xyXG5mdW5jdGlvbiBnZXRVUkxTdHJpbmcobG9jYXRpb24pIHtcclxuICAgIHJldHVybiBpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nKGxvY2F0aW9uKSA/IGxvY2F0aW9uIDogKGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoKTtcclxufVxyXG5leHBvcnRzLmdldFVSTFN0cmluZyA9IGdldFVSTFN0cmluZztcclxuLyoqXHJcbiAqIE1hcHMgYSBxdWVyeXN0cmluZyB0byBhbiBvYmplY3RcclxuICogU3VwcG9ydHMgYXJyYXlzIGFuZCB1dGYtOCBjaGFyYWN0ZXJzXHJcbiAqIEBwYXJhbSBzZWFyY2hcclxuICogQHJldHVybnMge2FueX1cclxuICovXHJcbmZ1bmN0aW9uIG1hcFNlYXJjaFBhcmFtcyhzZWFyY2gpIHtcclxuICAgIGlmIChzZWFyY2ggPT09ICcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgLy8gQ3JlYXRlIGFuIG9iamVjdCB3aXRoIG5vIHByb3RvdHlwZVxyXG4gICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICB2YXIgZnJhZ21lbnRzID0gc2VhcmNoLnNwbGl0KCcmJyk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZnJhZ21lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gZnJhZ21lbnRzW2ldO1xyXG4gICAgICAgIHZhciBfYSA9IGZyYWdtZW50LnNwbGl0KCc9JykubWFwKG1hcEZyYWdtZW50KS5tYXAoZGVjb2RlVVJJQ29tcG9uZW50KSwgayA9IF9hWzBdLCB2ID0gX2FbMV07XHJcbiAgICAgICAgaWYgKG1hcFtrXSkge1xyXG4gICAgICAgICAgICBtYXBba10gPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobWFwW2tdKSA/IG1hcFtrXSA6IFttYXBba11dO1xyXG4gICAgICAgICAgICBtYXBba10ucHVzaCh2KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcFtrXSA9IHY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hcDtcclxufVxyXG5leHBvcnRzLm1hcFNlYXJjaFBhcmFtcyA9IG1hcFNlYXJjaFBhcmFtcztcclxuLyoqXHJcbiAqIEdldHMgdGhlIHJlbGV2YW50IHBhcnQgb2YgdGhlIFVSTCBmb3IgbWF0Y2hpbmdcclxuICogQHBhcmFtIGZ1bGxVUkxcclxuICogQHBhcmFtIHBhcnRVUkxcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIHRvUGFydGlhbFVSTChmdWxsVVJMLCBwYXJ0VVJMKSB7XHJcbiAgICBpZiAoZnVsbFVSTC5pbmRleE9mKHBhcnRVUkwpID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bGxVUkwuc3Vic3RyKHBhcnRVUkwubGVuZ3RoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdWxsVVJMO1xyXG59XHJcbmV4cG9ydHMudG9QYXJ0aWFsVVJMID0gdG9QYXJ0aWFsVVJMO1xyXG4vKipcclxuICogU2ltdWxhdGVzIC4uLiBvcGVyYXRvciBieSByZXR1cm5pbmcgZmlyc3QgYXJndW1lbnRcclxuICogd2l0aCB0aGUga2V5cyBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50IGV4Y2x1ZGVkXHJcbiAqIEBwYXJhbSBfYXJnc1xyXG4gKiBAcGFyYW0gZXhjbHVkZWRcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gcmVzdChfYXJncywgZXhjbHVkZWQpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIF9hcmdzKSB7XHJcbiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2YocCkgPCAwKSB7XHJcbiAgICAgICAgICAgIHRbcF0gPSBfYXJnc1twXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5leHBvcnRzLnJlc3QgPSByZXN0O1xyXG4vKipcclxuICogU29ydHMgYW4gYXJyYXkgYWNjb3JkaW5nIHRvIGl0cyBgcGF0aGAgcHJvcCBsZW5ndGhcclxuICogQHBhcmFtIGFcclxuICogQHBhcmFtIGJcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIHBhdGhSYW5rU29ydChhLCBiKSB7XHJcbiAgICB2YXIgYUF0dHIgPSBhLnByb3BzIHx8IGV4cG9ydHMuZW1wdHlPYmplY3Q7XHJcbiAgICB2YXIgYkF0dHIgPSBiLnByb3BzIHx8IGV4cG9ydHMuZW1wdHlPYmplY3Q7XHJcbiAgICB2YXIgZGlmZiA9IHJhbmsoYkF0dHIucGF0aCkgLSByYW5rKGFBdHRyLnBhdGgpO1xyXG4gICAgcmV0dXJuIGRpZmYgfHwgKChiQXR0ci5wYXRoICYmIGFBdHRyLnBhdGgpID8gKGJBdHRyLnBhdGgubGVuZ3RoIC0gYUF0dHIucGF0aC5sZW5ndGgpIDogMCk7XHJcbn1cclxuZXhwb3J0cy5wYXRoUmFua1NvcnQgPSBwYXRoUmFua1NvcnQ7XHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIHBhcnNpbmcgcXVlcnlzdHJpbmcgYXJyYXlzXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXBGcmFnbWVudChwLCBpc1ZhbCkge1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpc1ZhbCB8IDAgPyBwIDogcC5yZXBsYWNlKCdbXScsICcnKSk7XHJcbn1cclxuZnVuY3Rpb24gc3RyaXAodXJsKSB7XHJcbiAgICByZXR1cm4gdXJsLnJlcGxhY2UoLyheXFwvK3xcXC8rJCkvZywgJycpO1xyXG59XHJcbmZ1bmN0aW9uIHJhbmsodXJsKSB7XHJcbiAgICBpZiAodXJsID09PSB2b2lkIDApIHsgdXJsID0gJyc7IH1cclxuICAgIHJldHVybiAoc3RyaXAodXJsKS5tYXRjaCgvXFwvKy9nKSB8fCAnJykubGVuZ3RoO1xyXG59XHJcbmZ1bmN0aW9uIGZsYXR0ZW5BcnJheShvbGRBcnJheSwgbmV3QXJyYXkpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBvbGRBcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBpdGVtID0gb2xkQXJyYXlbaV07XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShpdGVtKSkge1xyXG4gICAgICAgICAgICBmbGF0dGVuQXJyYXkoaXRlbSwgbmV3QXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBwYXRjaGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxudmFyIGNvbXBvbmVudFBvb2xzID0gbmV3IE1hcCgpO1xyXG52YXIgZWxlbWVudFBvb2xzID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiByZWN5Y2xlRWxlbWVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIHRhZyA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcG9vbHMgPSBlbGVtZW50UG9vbHMuZ2V0KHRhZyk7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgICAgICB2YXIgcG9vbCA9IGtleSA9PT0gbnVsbCA/IHBvb2xzLm5vbktleWVkIDogcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHZhciByZWN5Y2xlZFZOb2RlID0gcG9vbC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHJlY3ljbGVkVk5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoRWxlbWVudChyZWN5Y2xlZFZOb2RlLCB2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdk5vZGUuZG9tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZXhwb3J0cy5yZWN5Y2xlRWxlbWVudCA9IHJlY3ljbGVFbGVtZW50O1xyXG5mdW5jdGlvbiBwb29sRWxlbWVudCh2Tm9kZSkge1xyXG4gICAgdmFyIHRhZyA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIga2V5ID0gdk5vZGUua2V5O1xyXG4gICAgdmFyIHBvb2xzID0gZWxlbWVudFBvb2xzLmdldCh0YWcpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgcG9vbHMgPSB7XHJcbiAgICAgICAgICAgIGtleWVkOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgIG5vbktleWVkOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZWxlbWVudFBvb2xzLnNldCh0YWcsIHBvb2xzKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChrZXkpKSB7XHJcbiAgICAgICAgcG9vbHMubm9uS2V5ZWQucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcG9vbCA9IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHBvb2wgPSBbXTtcclxuICAgICAgICAgICAgcG9vbHMua2V5ZWQuc2V0KGtleSwgcG9vbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvb2wucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wb29sRWxlbWVudCA9IHBvb2xFbGVtZW50O1xyXG5mdW5jdGlvbiByZWN5Y2xlQ29tcG9uZW50KHZOb2RlLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIgcG9vbHMgPSBjb21wb25lbnRQb29scy5nZXQodHlwZSk7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgICAgICB2YXIgcG9vbCA9IGtleSA9PT0gbnVsbCA/IHBvb2xzLm5vbktleWVkIDogcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHZhciByZWN5Y2xlZFZOb2RlID0gcG9vbC5wb3AoKTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHJlY3ljbGVkVk5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgICAgICAgICAgICAgIHZhciBmYWlsZWQgPSBwYXRjaGluZ18xLnBhdGNoQ29tcG9uZW50KHJlY3ljbGVkVk5vZGUsIHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmYWlsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdk5vZGUuZG9tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZXhwb3J0cy5yZWN5Y2xlQ29tcG9uZW50ID0gcmVjeWNsZUNvbXBvbmVudDtcclxuZnVuY3Rpb24gcG9vbENvbXBvbmVudCh2Tm9kZSkge1xyXG4gICAgdmFyIGhvb2tzID0gdk5vZGUucmVmO1xyXG4gICAgdmFyIG5vblJlY3ljbGVIb29rcyA9IGhvb2tzICYmIChob29rcy5vbkNvbXBvbmVudFdpbGxNb3VudCB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50V2lsbFVubW91bnQgfHxcclxuICAgICAgICBob29rcy5vbkNvbXBvbmVudERpZE1vdW50IHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlIHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnREaWRVcGRhdGUpO1xyXG4gICAgaWYgKG5vblJlY3ljbGVIb29rcykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciB0eXBlID0gdk5vZGUudHlwZTtcclxuICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICB2YXIgcG9vbHMgPSBjb21wb25lbnRQb29scy5nZXQodHlwZSk7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29scykpIHtcclxuICAgICAgICBwb29scyA9IHtcclxuICAgICAgICAgICAga2V5ZWQ6IG5ldyBNYXAoKSxcclxuICAgICAgICAgICAgbm9uS2V5ZWQ6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb21wb25lbnRQb29scy5zZXQodHlwZSwgcG9vbHMpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGtleSkpIHtcclxuICAgICAgICBwb29scy5ub25LZXllZC5wdXNoKHZOb2RlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBwb29sID0gcG9vbHMua2V5ZWQuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbCkpIHtcclxuICAgICAgICAgICAgcG9vbCA9IFtdO1xyXG4gICAgICAgICAgICBwb29scy5rZXllZC5zZXQoa2V5LCBwb29sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcG9vbC5wdXNoKHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBvb2xDb21wb25lbnQgPSBwb29sQ29tcG9uZW50O1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuZnVuY3Rpb24gYXBwbHlLZXkoa2V5LCB2Tm9kZSkge1xyXG4gICAgdk5vZGUua2V5ID0ga2V5O1xyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5S2V5SWZNaXNzaW5nKGtleSwgdk5vZGUpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVtYmVyKGtleSkpIHtcclxuICAgICAgICBrZXkgPSBcIi5cIiArIGtleTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbCh2Tm9kZS5rZXkpIHx8IHZOb2RlLmtleVswXSA9PT0gJy4nKSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcGx5S2V5KGtleSwgdk5vZGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5S2V5UHJlZml4KGtleSwgdk5vZGUpIHtcclxuICAgIHZOb2RlLmtleSA9IGtleSArIHZOb2RlLmtleTtcclxuICAgIHJldHVybiB2Tm9kZTtcclxufVxyXG5mdW5jdGlvbiBfbm9ybWFsaXplVk5vZGVzKG5vZGVzLCByZXN1bHQsIGluZGV4LCBjdXJyZW50S2V5KSB7XHJcbiAgICBmb3IgKHZhciBsZW4gPSBub2Rlcy5sZW5ndGg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XHJcbiAgICAgICAgdmFyIG4gPSBub2Rlc1tpbmRleF07XHJcbiAgICAgICAgdmFyIGtleSA9IGN1cnJlbnRLZXkgKyBcIi5cIiArIGluZGV4O1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobikpIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuKSkge1xyXG4gICAgICAgICAgICAgICAgX25vcm1hbGl6ZVZOb2RlcyhuLCByZXN1bHQsIDAsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuLCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFZOb2Rlc18xLmlzVk5vZGUobikgJiYgbi5kb20gfHwgKG4ua2V5ICYmIG4ua2V5WzBdID09PSAnLicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG4ua2V5KSB8fCBuLmtleVswXSA9PT0gJy4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbiA9IGFwcGx5S2V5KGtleSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gYXBwbHlLZXlQcmVmaXgoY3VycmVudEtleSwgbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVWTm9kZXMobm9kZXMpIHtcclxuICAgIHZhciBuZXdOb2RlcztcclxuICAgIC8vIHdlIGFzc2lnbiAkIHdoaWNoIGJhc2ljYWxseSBtZWFucyB3ZSd2ZSBmbGFnZ2VkIHRoaXMgYXJyYXkgZm9yIGZ1dHVyZSBub3RlXHJcbiAgICAvLyBpZiBpdCBjb21lcyBiYWNrIGFnYWluLCB3ZSBuZWVkIHRvIGNsb25lIGl0LCBhcyBwZW9wbGUgYXJlIHVzaW5nIGl0XHJcbiAgICAvLyBpbiBhbiBpbW11dGFibGUgd2F5XHJcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZVxyXG4gICAgaWYgKG5vZGVzWyckJ10gPT09IHRydWUpIHtcclxuICAgICAgICBub2RlcyA9IG5vZGVzLnNsaWNlKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBub2Rlc1snJCddID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIHRzbGludDplbmFibGVcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBuID0gbm9kZXNbaV07XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG4pIHx8IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gKG5ld05vZGVzIHx8IG5vZGVzKS5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgX25vcm1hbGl6ZVZOb2Rlcyhub2RlcywgcmVzdWx0LCBpLCBcIlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG4pKSB7XHJcbiAgICAgICAgICAgIGlmICghbmV3Tm9kZXMpIHtcclxuICAgICAgICAgICAgICAgIG5ld05vZGVzID0gbm9kZXMuc2xpY2UoMCwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Tm9kZXMucHVzaChhcHBseUtleUlmTWlzc2luZyhpLCBWTm9kZXNfMS5jcmVhdGVUZXh0Vk5vZGUobiwgbnVsbCkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoKFZOb2Rlc18xLmlzVk5vZGUobikgJiYgbi5kb20gIT09IG51bGwpIHx8IChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChuLmtleSkgJiYgKG4uZmxhZ3MgJiA2NCAvKiBIYXNOb25LZXllZENoaWxkcmVuICovKSA9PT0gMCkpIHtcclxuICAgICAgICAgICAgaWYgKCFuZXdOb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZXMgPSBub2Rlcy5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdOb2Rlcy5wdXNoKGFwcGx5S2V5SWZNaXNzaW5nKGksIFZOb2Rlc18xLmRpcmVjdENsb25lKG4pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5ld05vZGVzKSB7XHJcbiAgICAgICAgICAgIG5ld05vZGVzLnB1c2goYXBwbHlLZXlJZk1pc3NpbmcoaSwgVk5vZGVzXzEuZGlyZWN0Q2xvbmUobikpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Tm9kZXMgfHwgbm9kZXM7XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemVWTm9kZXMgPSBub3JtYWxpemVWTm9kZXM7XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHJldHVybiBub3JtYWxpemVWTm9kZXMoY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikgJiYgY2hpbGRyZW4uZG9tICE9PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIFZOb2Rlc18xLmRpcmVjdENsb25lKGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjaGlsZHJlbjtcclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyh2Tm9kZSwgcHJvcHMsIGNoaWxkcmVuKSB7XHJcbiAgICBpZiAodk5vZGUuZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5jbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIHZOb2RlLmNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgICAgICAgZGVsZXRlIHByb3BzLmNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocHJvcHMucmVmKSB7XHJcbiAgICAgICAgdk5vZGUucmVmID0gcHJvcHMucmVmO1xyXG4gICAgICAgIGRlbGV0ZSBwcm9wcy5yZWY7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcy5rZXkpKSB7XHJcbiAgICAgICAgdk5vZGUua2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgIGRlbGV0ZSBwcm9wcy5rZXk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUodHlwZSkge1xyXG4gICAgaWYgKHR5cGUgPT09ICdzdmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIDEyOCAvKiBTdmdFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2lucHV0Jykge1xyXG4gICAgICAgIHJldHVybiA1MTIgLyogSW5wdXRFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3NlbGVjdCcpIHtcclxuICAgICAgICByZXR1cm4gMjA0OCAvKiBTZWxlY3RFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3RleHRhcmVhJykge1xyXG4gICAgICAgIHJldHVybiAxMDI0IC8qIFRleHRhcmVhRWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdtZWRpYScpIHtcclxuICAgICAgICByZXR1cm4gMjU2IC8qIE1lZGlhRWxlbWVudCAqLztcclxuICAgIH1cclxuICAgIHJldHVybiAyIC8qIEh0bWxFbGVtZW50ICovO1xyXG59XHJcbmV4cG9ydHMuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUgPSBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTtcclxuZnVuY3Rpb24gbm9ybWFsaXplKHZOb2RlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgLy8gY29udmVydCBhIHdyb25nbHkgY3JlYXRlZCB0eXBlIGJhY2sgdG8gZWxlbWVudFxyXG4gICAgLy8gUHJpbWl0aXZlIG5vZGUgZG9lc24ndCBoYXZlIGRlZmF1bHRQcm9wcywgb25seSBDb21wb25lbnRcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IHByb3BzXHJcbiAgICAgICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0UHJvcHMpKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzID0gdk5vZGUucHJvcHMgPSBkZWZhdWx0UHJvcHM7IC8vIENyZWF0ZSBuZXcgb2JqZWN0IGlmIG9ubHkgZGVmYXVsdFByb3BzIGdpdmVuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHByb3BzW3Byb3BdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wc1twcm9wXSA9IGRlZmF1bHRQcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcodHlwZSkpIHtcclxuICAgICAgICAgICAgdk5vZGUuZmxhZ3MgPSBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSh0eXBlKTtcclxuICAgICAgICAgICAgaWYgKHByb3BzICYmIHByb3BzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIG5vcm1hbGl6ZVByb3BzKHZOb2RlLCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQocHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4ocHJvcHMuY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdk5vZGUuY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAvLyBUaGlzIGNvZGUgd2lsbCBiZSBzdHJpcHBlZCBvdXQgZnJvbSBwcm9kdWN0aW9uIENPREVcclxuICAgICAgICAvLyBJdCBoZWxwcyB1c2VycyB0byB0cmFjayBlcnJvcnMgaW4gdGhlaXIgYXBwbGljYXRpb25zLlxyXG4gICAgICAgIHZhciB2ZXJpZnlLZXlzID0gZnVuY3Rpb24gKHZOb2Rlcykge1xyXG4gICAgICAgICAgICB2YXIga2V5VmFsdWVzID0gdk5vZGVzLm1hcChmdW5jdGlvbiAodm5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBrZXlWYWx1ZXMuc29tZShmdW5jdGlvbiAoaXRlbSwgaWR4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzRHVwbGljYXRlID0ga2V5VmFsdWVzLmluZGV4T2YoaXRlbSkgIT09IGlkeDtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNEdXBsaWNhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gbm9ybWFsaXNhdGlvbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCBzYW1lIGtleSwgYWxsIGtleXMgbXVzdCBiZSB1bmlxdWUgd2l0aGluIGl0cyBzaWJsaW5ncy4gRHVwbGljYXRlZCBrZXkgaXM6JyArIGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc0R1cGxpY2F0ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodk5vZGUuY2hpbGRyZW4gJiYgQXJyYXkuaXNBcnJheSh2Tm9kZS5jaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdmVyaWZ5S2V5cyh2Tm9kZS5jaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubm9ybWFsaXplID0gbm9ybWFsaXplO1xyXG5cblxuLyoqKi8gfSksXG4vKiAyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblxuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChmYWxzZSkge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQmVzbHVpdCA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIEJlc2x1aXQgPSBleHBvcnRzLkJlc2x1aXQgPSBmdW5jdGlvbiBCZXNsdWl0KCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIkJlc2x1aXRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiVWl0IGhldCB3ZXJrIGt1bm5lbiB3ZSBiZXNsdWl0ZW4gZGF0IGRlIGhpXFx4RUJyYXJjaGllIHZhbiBkZSBSb21laW5lbiBnb2VkIGluIGVsa2FhciB6YXQgYWFuZ2V6aWVuIGllZGVyZWVuIHppam4gcGxhYXRzIGtlbmRlIGVuIGVyIHJlc3BlY3QgZW4gYWFuemllbiB3YXMuIERvb3IgZGV6ZSBvcmdhbmlzYXRpZSB3YXMgaGV0IFJvbWVpbnNlIGxlZ2VyIGVlbiB2YW4gZGUgc3VjY2Vzdm9sc3RlIGxlZ2VycyB1aXQgZGllIHRpamQuIFdhbm5lZXIgd2UgaGV0IGh1aWRpZ2UgbGVnZXIgdmVyZ2VsaWprZW4gbWV0IGhldCBSb21laW5zZSBzdGVsbGVuIHdlIHZhc3QgZGF0IG9uemUgaGlcXHhFQnJhcmNoaWUgZWVuIHplZXIgdWl0Z2VicmVpZGUgdmVyc2llIGlzIHZhbiBkaWUgdmFuIGhldCBSb21laW5zZSBsZWdlci4gRXIgemlqbiBtZWVyIG9uZGVydmVyZGVsaW5nZW4gZW4gbWVlciBjb21wb25lbnRlbiBkYW4gYmlqIGRlIFJvbWVpbmVuLCBtYWFyIGRpdCBpcyB0ZSB3aWp0ZW4gYWFuIHRlY2hub2xvZ2lzY2hlIGVuIHdldGVuc2NoYXBwZWxpamtlIHZvb3J1aXRnYW5nLiBabyB6aWpuIGVyIG51IHZsaWVndHVpZ2VuLCB0YW5rcywgamVlcHMgZW4gdmxpZWdkZWtzY2hlcGVuIHdhdCBlcnZvb3Igem9yZ3QgZGF0IGllZGVyZSBwZXJzb29uIGJpbm5lbiBoZXQgbGVnZXIgemlqbiBzcGVjaWZpZWtlIGZ1bmN0aWUgaGVlZnQgZW4gZXIgZHVzIG1lZXIgdmVyZGVlbGRoZWlkIGlzLiBPcCBoZXQgdmxhayB2YW4gYmV3YXBlbmluZyB3YXJlbiBkZSBSb21laW5lbiBvb2sgZ29lZCB2b29yemllbi4gWmUgd2FyZW4gdmVlbCBiZXppZyBtZXQgaGV0IG9udHdpa2tlbGVuIHZhbiBuaWV1d2Ugd2FwZW5zIG9tIGh1biB2aWphbmRlbiB0ZSBrdW5uZW4gdmVycmFzc2VuLiBIdW4gd2FwZW5zIHdhcmVuIGVmZmljaVxceEVCbnQgZW4gZG9lbHRyZWZmZW5kIHdhYXJkb29yIHplIHZlbGUgdmVsZHNsYWdlbiBoZWJiZW4gZ2V3b25uZW4uIFdhbm5lZXIgd2UgaGV0IFJvbWVpbnNlIGxlZ2VyIG1ldCBoZXQgaHVpZGlnZSB2ZXJnZWxpamtlbiBzdGVsbGVuIHdlIHZhc3QgZGF0IGFsbGVzIGlzIHZlcmFuZGVyZC4gRGl0IGlzIHdlZXIgdGUgd2lqdGVuIGFhbiB0ZWNobm9sb2dpc2NoZSBlbiB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZy4gSW4gaHVpZGlnZSB0aWpkZW4gd29yZHQgZXIgbmlldCBtZWVyIGdlc3RyZWRlbiBtZXQgendhYXJkZW4sIHNjaGlsZGVuIGVuIHNwZXJlbiwgbWFhciBtZXQgbWFjaGluZWdld2VyZW4sIGxhbmdlYWZzdGFuZHNyYWtldHRlbiBlbiBjb21wdXRlcnMuIERlIFJvbWVpbmVuIHdhcmVuIG9uZ2V0d2lqZmVsZCBkZSBncm9uZGxlZ2dlcnMgdmFuIHZlcnNjaGVpZGVuZSBsZWdlcnMgZGllIGxhdGVyIHppam4gb250c3RhYW4sIG1hYXIgc3BvcmVuIHZhbiBodW4gd2FwZW5zIHppam4gaW4gaGV0IGh1aWRpZ2UgbGVnZXIgbmlldCBtZWVyIHRlIHZpbmRlbi4gSGV0IFJvbWVpbnNlIGxlZ2VyIHdhcyBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRlIGdlc2NoaWVkZW5pcy4gRGl0IGlzIHRlIHdpanRlbiBhYW4gaHVuIGlqemVyc3RlcmtlIGRpc2NpcGxpbmUgZW4gZ29lZCBiZWRhY2h0ZSB0YWN0aWVrZW4gZW4gYWFudmFsc3BsYW5uZW4uIERlIFJvbWVpbmVuIGJlZ3JlcGVuIG9vayB6ZWVyIGdvZWQgZGF0IGVlbiB2ZWxkc2xhZyBuaWV0IGVua2VsIGZ5c2llayB3ZXJkIGdlc3RyZWRlbiwgbWFhciBvb2sgbWVudGFhbC4gWmUgd2lzdGVuIGdvZWQgaG9lIHplIGhldCBtb3JlZWwgYmlqIGh1biB0cm9lcGVuIGhvb2cgbW9lc3RlbiBob3VkZW4gdGVyd2lqbCB6ZSBkYXQgdmFuIGRlIHZpamFuZCB2ZXJ6d2FrdGVuLiBIZXQgdmVybGllcyB2YW4gZWVuIHZlbGRzbGFnIHZvbmQgemlqbiBvb3J6YWFrIG1lZXN0YWwgYmlqIHNsZWNodCBsZWlkZXJzY2hhcC4gRGUgdGFjdGlla2VuIHZhbiBoZXQgaHVpZGlnZSBsZWdlciB6aWpuIHplZXIgc3RlcmsgdmVyYW5kZXJkIGFhbmdlemllbiBhbGxlcyB2YW5vcCBlZW4gbGFuZ2VyZSBhZnN0YW5kIGdlYmV1cnQgZW4gZXIgbWVlciBlbiBtZWVyIHZpYSByb2JvdHMgd29yZHQgZ2V3ZXJrdC4gVnJvZWdlciB3YXJlbiBiaWpuYSBhbGxlIGdldmVjaHRlbiBtYW4gdG90IG1hbiBnZXZlY2h0ZW4gd2FhcmRvb3IgbWVuIHRhY3RpZWtlbiBrb24gdG9lcGFzc2VuIHpvYWxzIGJpanZvb3JiZWVsZDogcnVpdGVycyBsYW5ncyBkZSBmbGFua2VuIGxhdGVuIGlua29tZW4uIFRlZ2Vud29vcmRpZyBoZWVmdCBkaXQgZ2VlbiBudXQgbWVlciBhYW5nZXppZW4gaGV0IGFhbnRhbCBzb2xkYXRlbiB3YWFybWVlIG1lbiBvb3Jsb2cgdm9lcnQgc3RlcmsgdmVybWluZGVyZCBpcy5cIildKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQmV3YXBlbmluZyA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIEJld2FwZW5pbmcgPSBleHBvcnRzLkJld2FwZW5pbmcgPSBmdW5jdGlvbiBCZXdhcGVuaW5nKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIkhvZSB3YXMgZGUgYmV3YXBlbmluZyBiaWogZGUgUm9tZWluZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiR2VkdXJlbmRlIGVua2VsZSBlZXV3ZW4gdG90IG9wIGRlIGRhZyB2YW4gdmFuZGFhZyBvbnRzdG9uZCBlciBlZW4gdm9vcnRkdXJlbmRlIG9udHdpa2tlbGluZyB2YW4gYmV3YXBlbmluZy4gRGl0IGhlZWZ0IHppY2gga3VubmVuIHZlcndlemVubGlqa2VuIGRvb3IgZGUgdGVjaG5vbG9naXNjaGUgdm9vcnVpdGdhbmcgbWV0IGFscyBnZXZvbGcgZGF0IGRlIGtyYWNodCB2YW4gd2FwZW5zIGFhbnppZW5saWprIGlzIHZlcmdyb290LiBNYWFyIG9tIGRlIGV2b2x1dGllIHZhbiBkZSBiZXdhcGVuaW5nIHdhYXIgdGUgbmVtZW4sIG1vZXRlbiB3ZSB0ZXJ1Z2JsaWtrZW4gdGVuIHRpamRlIHZhbiBoZXQgUm9tZWluc2UgaW1wZXJpdW0gd2FhciBkZSBiYXNpcyB3ZXJkIGdlbGVnZC5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIkRyYWFnYmFyZSBiZXdhcGVuaW5nXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBbXCJWZWxlIGtpbmRlcmVuIG9mIGpvbmdlcmVuIGxlemVuIHdlbGVlbnMgc3RyaXBzIHpvYWxzIEFzdGVyaXggZW4gT2JlbGl4IG9mIG1vZXRlbiBvcCBzY2hvb2wgZW5rZWxlIHdlcmtqZXMgbWFrZW4gb210cmVudCBkZSBSb21laW5zZSBiZXNjaGF2aW5nLiBIaWVyZG9vciBrcmlqZ2VuIHplIGVlbiBiZXBhYWxkIGJlZWxkIG92ZXIgaGV0IFJvbWVpbnNlIGxldmVuIGVuIG1ldCB3ZWxrZSB3YXBlbnMgZGUgc29sZGF0ZW4gdGUgd2VyayBnaW5nZW4uIEhldCBhbGdlbWVuZSBiZWVsZCBkaWUgd2lqIGhpZXJ2YW4gaGViYmVuLCBpcyBkYXQgZWxrZSBzb2xkYWF0IGVlbiBhYW52YWxzd2FwZW4gZW4gZWVuIHZlcmRlZGlnaW5nc3dhcGVuIHRlciBiZXNjaGlra2luZyBoYWQgZW4gZGF0IGllZGVyZSBzb2xkYWF0IHZvb3J6aWVuIHdlcmQgdmFuIHN0b2VyZSB2ZWNodGVyc2tsZWRpai4gSGllcmJpaiB6aWpuIHZhYWsgaGV0IHp3YWFyZCBlbiBkZSBzcGVlciBkZSBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbnMgZW4gdGVyIHZlcmRlZGlnaW5nIGdlYnJ1aWt0ZW4gemUgaGV0IHNjaGlsZC4gT20gemljaCB0ZSBiZXNjaGVybWVuIGRyb2VnZW4gemUgdmFhayBlZW4gaGFybmFzLiBPZiBkZXplIGFsZ2VtZW5lIHZvb3JzdGVsbGluZyBhbHRpamQgd2FhciBpcywgd29yZHQgaW4gZGl0IGhvb2Zkc3R1ayBvbmRlcnpvY2h0LlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJCZXdhcGVuaW5nIGJpaiBSb21laW5zZSBsZWdpb25haXJzIGhpZWxkZW4gdGVsa2VucyB2ZXJiYW5kIG1ldCBkZSByYW5nIHdhYXJ0b2UgemUgYmVob29yZGVuLiBCZXdhcGVuaW5nIGlzIG5ldCB6b2FscyBkZSByYW5nZW4gaW4gdmVyc2NoaWxsZW5kZSBncm9lcGVuIHRlIHZlcmRlbGVuLiBCZWdpbm5lbiBkb2VuIHdlIG1ldCBkZSB2ZXJzY2hpbGxlbmRlIHRpamRwZXJrZW4gZ2FhbmRlIHZhbiAxMDUgdi5DaHIuIHRvdCBlaW5kZSAyZGUgZWV1dy4gSGllcmJpaiB3b3JkdCBlZW4gbmlldXcgdGlqZHBlcmsgdGVsa2VucyBpbmdlbGVpZCBiaWogb250c3RhYW4gdmFuIG5pZXV3ZSBlbiBiZWxhbmdyaWprZSBiZXdhcGVuaW5nLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJCaWogZGUgZWVyc3RlIGdlbmVyYXRpZSB3YXMgZGUgZ2xhZGl1cyAoPSB6d2FhcmQpIGhldCBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbi4gRGV6ZSB3ZXJkIGFsdGlqZCBnZWJydWlrdCBpbiBjb21iaW5hdGllIG1ldCBkZSBhc3BpcyAoPSBzY2hpbGQpIHdhYXJtZWUgemUgemljaCBrb25kZW4gdmVyZGVkaWdlbi4gSW4gaGV0IGJlZ2luIGhhZCBkZSBnbGFkaXVzIGVlbiBrb3J0ZSBsZW5ndGUsIGdlXFx4RUZuc3BpcmVlcmQgb3AgaGV0IG1vZGVsIHZhbiBkZSBHcmlla3NlIHhpcGhvcy4gSGV0IHNjaGlsZCBvZiBkZSB6b2dlbmFhbWRlIGFzcGlzIHdlcmQgdmVydmFhcmRpZ2QgdWl0IGhvdXQgbWV0IHRlbGtlbnMgZWVuIGJyb256ZW4gcmFuZCB0ZXIgdmVyc3RlcmtpbmcuIERlIHZvcm0gdmFuIGhldCBzY2hpbGQgd2FzIHJvbmQgZW4gcmVsYXRpZWYgZ3Jvb3QgdGVyIHZlcmdlbGlqa2luZyBtZXQgd2F0IGVyIG5vZyB6b3Ugdm9sZ2VuLiBPb2sgaGllcmJpaiBoZWJiZW4gZGUgUm9tZWluZW4gemljaCB3ZWVyIGxhdGVuIGluc3BpcmVyZW4gZG9vciBkZSBHcmlla2VuLiBCaWogZGUgdm9sZ2VuZGUgZ2VuZXJhdGllIHdpbGRlbiBkZSBSb21laW5lbiBodW4gZWlnZW4gc3RpamwgY3JlXFx4RUJyZW4gd2FhcmluIEdyaWVrc2UsIEtlbHRpc2NoZSBlbiBJdGFsaXNjaGUgaW52bG9lZGVuIHZlcndlcmt0IHdlcmRlbi4gWm8gY3JlXFx4RUJlcmRlbiB6ZSBkZSBzY3V0dW0gYWxzIHZlcnZhbmdpbmcgdmFuIGRlIGFzcGlzLiBIZXQgaGFkIGVlbiBvdmFsZSB2b3JtIGVuIGJlc2NoaWt0ZSBvdmVyIHRhbCB2YW4gdm9vcmRlbGVuLiBabyBpcyBoZXQgc2NoaWxkIGR1dXJ6YW1lciBlbiBsaWNodGVyIGRhbiBkZSB2b3JpZ2UgZW4gaGV0IGJlc2NoaWt0ZSBvdmVyIGVlbiBzY2hpbGRrbm9wICg9IG1ldGFsZW4gYm9sIGRpZSB6aWNoIGNlbnRyYWFsIG9wIGhldCBzY2hpbGQgYmV2b25kKS4gRGUgZnVuY3RpZSB2YW4gZGllIGtub3Agd2FzIG1lZXIgc2NoYWRlIHRvZSBicmVuZ2VuIGFhbiBkZSB2aWphbmQuIERlIGFzcGlzIHdlcmQgYWx0aWpkIGluIGRlIGxpbmtlcmhhbmQgZ2VkcmFnZW4gd2FhcmRvb3IgemUgaGV0IHp3YWFyZCBpbiBkZSByZWNodGVyaGFuZCBrb25kZW4gbGVnZ2VuLiBEZSByZWRlIGhpZXJ2b29yIHdhcyBkYXQgZGUgbWVlc3RlIFJvbWVpbnNlIHNvbGRhdGVuIHJlY2h0c2hhbmRpZyB3YXJlbiB3YWFyZG9vciB6ZSBtZWVyIGtyYWNodCBoYWRkZW4gaW4gaHVuIHJlY2h0ZXJhcm0gd2F0IG5vb2R6YWtlbGlqayB3YXMgb20gYnJ1dXNrZSBiZXdlZ2luZ2VuIHRlIG1ha2VuIG1ldCBkZSBnbGFkaXVzLiBFbmlnZSB0aWpkIGxhdGVyIGdpbmdlbiB6ZSBnZWJydWlrIG1ha2VuIHZhbiBlZW4gaWV0cyBsYW5nZXIgendhYXJkIHdhdCBvdmVyZ2Vub21lbiB3YXMgdmFuIGRlIHZpamFuZCB0aWpkZW5zIGRlIFB1bmlzY2hlIG9vcmxvZ2VuLiBEaWV6ZWxmZGUgZ2VuZXJhdGllIGdpbmcgemljaCBvb2sgcmljaHRlbiBvcCBkZSBvbnR3aWtrZWxpbmcgdmFuIHN0b290c3BlcmVuICg9IGVlcnN0ZSB2ZXJzaWUgc3BlcmVuKS4gRGV6ZSBoYWRkZW4gb25nZXZlZXIgZGV6ZWxmZGUgZnVuY3RpZSBhbHMgaGV0IHp3YWFyZC5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkhldCBlbmlnZSB2ZXJzY2hpbCB3YXMgZGF0IHplIG5vZyBsYW5nZXIgd2FyZW4uIFplIHdhcmVuIGluIGhldCBiZWdpbiBuaWV0IGJlZG9lbGQgb20gd2VnIHRlIGdvb2llbiBpbiBkZSByaWNodGluZyB2YW4gZGUgdmlqYW5kLiBTdG9vdHNwZXJlbiB3ZXJkZW4gZ2VicnVpa3QgZG9vciBkZSBoYXN0YXRpICg9IGxlZ2lvbmFyaWkgdmFuIGhldCBlZXJzdGUgbWFuaXBlbCkuIFVpdGVpbmRlbGlqayB3ZXJkIGRlIHN0b290c3BlZXIgbWluZGVyIGdlYnJ1aWt0IGRvb3IgZGUgbGVnaW9uYWlycyBlbiBldm9sdWVlcmRlIG1lbiBuYWFyIGhldCBvbnR3aWtrZWxlbiB2YW4gZWVuIGxpY2h0ZXJlIHdlcnBzcGVlciBubCBkZSBwaWx1bS4gRGl0IHJlc3VsdGVlcmRlIGluIGVlbiBuaWV1d2UgZ2VuZXJhdGllLiBFbGtlIGxlZ2F0dXMgYmVzY2hpa3RlIG92ZXIgMiBwaWxhIHdhYXJkb29yIHplIGJpaiBkZSBzdGFydCB2YW4gZWVuIGdldmVjaHQgZGUgdmlqYW5kIG9ubWlkZGVsbGlqayBrb25kZW4gdmVyendha2tlbi4gRGUgcGlsdW0gd2FzIHplbGZzIHpvIGdlbWFha3QgZGF0IGRlIHB1bnQgdmFuIGRlIHNwZWVyIGJpaiBib3RzaW5nIGtyb20gZ2luZyBzdGFhbiBvZiBhZmJyYWsgd2FhcmRvb3IgZGUgdmlqYW5kIGRlIHNwZWVyIG5pZXQga29uIGhlcmdlYnJ1aWtlbi4gU3RlbCBkYXQgZGUgcGlsdW0gaW4gZWVuIHNjaGlsZCBiZWxhbmRkZSwgZGFuIHdhcyBoZXQgZ2V2b2xnIGRhdCBkZSB6d2FyZSBhY2h0ZXJrYW50IHZhbiBkZSBzcGVlciBuYWFyIGJlbmVkZW4gemFrdGUgd2FhcmRvb3IgaGV0IG9ubW9nZWxpamsgd2FzIG9tIGVyIHZlcmRlciBtZWUgcm9uZCB0ZSBsb3Blbi4gSGllcmRvb3Igd2FzIGRlIHZpamFuZCB2YWFrIGdlbm9vZHphYWt0IG9tIHpvbmRlciBzY2hpbGQgdmVyZGVyIHRlIHZlY2h0ZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkluIGRlIDNkZSBlZXV3IGt3YW0gZXIgb3BuaWV1dyBlZW4gb3B2YWxsZW5kZSB2b29ydWl0Z2FuZywgbWFhciBkaXRtYWFsIG9wIGhldCBnZWJpZWQgdmFuIHZlcmRlZGlnaW5nLiBEZSBiZWtlbmRlIHNjdXR1bSB3ZXJkIGFhbmdlcGFzdCBlbiB6byBvbnRzdG9uZCBkZSBzcGljdWx1bS4gSGV0IHdhcyBlZW4gdmxhayBzY2hpbGQsIG5vZyBsaWNodGVyIGVuIG5ldCB6b2FscyBkZSBzY3V0dW0gbWV0IGVlbiBzbGFna25vcCBpbiBoZXQgbWlkZGVuLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJEZSBiZXdhcGVuaW5nIHZhbiBkZSBodWxwdHJvZXBlbiBpcyBvb2sgb3AgdGUgZGVsZW4gaW4gZW5rZWxlIGdyb2VwZW4uIFRpamRlbnMgZGUgZWVyc3RlIGphcmVuIHZhbiBkZSBlcXVpdGF0dXMgd2VyZCBkZSBnbGFkaXVzIGdlYnJ1aWt0IG9tIGRlIHZpamFuZCBhYW4gdGUgdmFsbGVuIHZhbm9wIGhldCBwYWFyZC4gRG9vcmRhdCBoZXQgendhYXJkIGtvcnQgd2FzLCBtYWFrdGVuIHplIGthbnMgb20gc25lbCB2YW4gaGV0IHBhYXJkIHRlIHZhbGxlbi4gSW4gZGUgbG9vcCB2YW4gZGUgM2RlIGVldXcgd2FzIG1lbiBlcmluIGdlc2xhYWdkIGVlbiBsYW5nZXJlIHZlcnNpZSB2YW4gZGUgZ2xhZGl1cyB0ZSBjcmVcXHhFQnJlbiBubCBkZSBzcGF0aGEuIERlIHNhZ2l0dGFyaWkgbWFrZW4gZ2VicnVpayB2YW4gZGUgc2FnaXR0YSAoPSBwaWpsZW5ib29nKS4gRGUgZ2Vib2dlbiB2b3JtIHZhbiBkZSBzYWdpdHRhIHdlcmQgZ2V2b3JtZCBkb29yIGJlZ2luIGVuIGVpbmRlIGFhbiB0ZSBzcGFubmVuIG1ldCBlZW4gc3RldmlnZSwgc3RyYWtrZSBkcmFhZC4gSGllcm1lZSBrb25kZW4gemUgaHVuIHBpamxlbiBvdmVyIGVlbiBncm90ZSBhZnN0YW5kIHNjaGlldGVuLiBUb3Qgc2xvdCBoYW50ZXJlbiBkZSBmdW5kaXRvcmVzIGRlIGZ1bmRhLiBEaXQgaXMgZWVuIHNsaW5nZXIgd2FhcmluIHplIGxvZGVuIGtvZ2VscyBsZWdkZSBvbSBkaWUgdmVydm9sZ2VucyBuYWFyIGRlIHZpamFuZCB0ZSBnb29pZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIlVpdCBhbCBkZXplIGdlZ2V2ZW5zIHdldGVuIHdlIGRhdCBoZXQgYWxnZW1lbmUgYmVlbGQgZ3JvdGVuZGVlbHMganVpc3QgaXMuIE1hYXIgamUga2FuIG9ubW9nZWxpamsgYmVzbHVpdGVuIGRhdCBqZSBtZXQgZGF0IGJlZWxkIGFsbGVzIHdlZXQgb3ZlciBkZSBiZXdhcGVuaW5nIHZhbiBSb21laW5zZSBzb2xkYXRlbi4gTmFhc3QgaGV0IHp3YWFyZCwgZGUgc3BlZXIgZW4gaGV0IHNjaGlsZCB3YXJlbiBlciBub2cgdGFsIHZhbiBhbmRlcmUgYWFudmFscy0gZW4gdmVyZGVkaWdpbmdzd2FwZW5zIGRpZSBnZWJydWlrdCB3ZXJkZW4gdGlqZGVucyBkZSBnZXZlY2h0ZW4gdGVuIHRpamRlIHZhbiBkZSBSb21laW5lbi5cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGFibGVcIiwgXCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoZWFkXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIsIG51bGwsIFwiQmV3YXBlbmluZyBsZWdpb25haXJzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJhYW52YWxzd2FwZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcInZlcmRlZGluZ2luZ3N3YXBlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRoXCIpXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIjFzdGUgZ2VuZXJhdGllXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJnbGFkaXVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJhc3BpYVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiR2VuZXJhdGllcyBnYWFuZGUgdmFuYWYgXFx4QjEgM2RlIGVldXcgdi5DaHIuIFxcdTIwMTMgM2RlIGVldXdcIiwge1xuICAgIFwicm93c3BhblwiOiBcIjRcIlxuICB9KV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIjJkZSBnZW5lcmF0aWVcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImhhc3RhICsgZ2xhZGl1c1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwic2N1dHVtXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiM2RlIGdlbmVyYXRpZVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwicGlsdW0gKyBnbGFkaXVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzY3V0dW1cIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCI0ZGUgZ2VuZXJhdGllXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzcGF0aGFcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcInNwaWN1bHVtXCIpXSldKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0YWJsZVwiLCBcImJld2FwZW5pbmctbGVnaW9uLXRhYmxlXCIsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhlYWRcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJCZXdhcGVuaW5nIGh1bHB0cm9lcGVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJhYW52YWxzd2FwZW5zXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJ2ZXJkZWRpZ2luZ3N3YXBlbnNcIildKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZXF1aXRhdHVzXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzcGF0aGFcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIlZlcmRlZGlnaW5nIGtvbXQgZ3JvdGVuZGVlbHMgb3ZlcmVlbiBtZXQgZGllIHZhbiBkZSBsZWdpb25haXJzXCIsIHtcbiAgICBcInJvd3NwYW5cIjogXCIzXCJcbiAgfSldKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzYWdpdHRhcmlpXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzYWdpdHRhXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZnVuZGl0b3Jlc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiZnVuZGFcIildKV0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJBYW5nZXppZW4gZXIgd2VpbmlnIGJldHJvdXdiYXJlIGJyb25uZW4gemlqbiBvdmVyIGRlIGV4YWN0ZSBkYXRhIFxcdTIwMTlzIGkudi5tLiBoZXQgb250c3RhYW4gdmFuIHJlZWRzIHZlcm1lbGRlIGJld2FwZW5pbmcsIHdlcmQgZGUgY2hyb25vbG9naXNjaGUgdm9sZ29yZGUgdmFuIGhldCBvbnRzdGFhbiB3ZWVyZ2VnZXZlbiBhLmQuaC52LiBnZW5lcmF0aWVzLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiT29ybG9nc3R1aWdlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJUZW5zbG90dGUgYmVzcHJla2VuIHdlIGluIGRpdCBob29mZHN0dWsgZGUgUm9tZWluc2Ugb29ybG9nc3R1aWdlbiBhYW5nZXppZW4gaGV0IGVlbiBiZWxhbmdyaWprIGFzcGVjdCB3YXMgdmFuIGRlIGdldmVjaHRlbi4gSGllcmJpaiBnYWFuIHdlIGVlbiBvcGRlbGluZyBtYWtlbiB0dXNzZW4gZGUgdG9ybWVudGEgKD0gYWFudmFsc3dhcGVucykgZW4gZW5rZWxlIGFuZGVyZSBvb3Jsb2dzdm9lcnR1aWdlbiB0ZXIgdmVyZGVkaWdpbmcuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDRcIiwgbnVsbCwgXCJBYW52YWxzd2FwZW5zXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlIGFhbnZhbHN3YXBlbnMgd2FyZW4gdmVlbCBrcmFjaHRpZ2VyIGRhbiBkZWdlbmUgZGllIHplIG9wIHphayBkcm9lZ2VuLiBEZSBiZWtlbmRzdGUgYWFudmFsc21hY2hpbmVzIHdhcmVuIGRlIGNhdGFwdWx0YWUgKD0ga2F0YXB1bHRlbiksIG9uZGVyIHRlIHZlcmRlbGVuIGluIGVua2VsZSBjYXRlZ29yaWVcXHhFQm4uIFplIHdlcmRlbiBnZWJydWlrdCBvbSBwcm9qZWN0aWVsZW4gd2VnIHRlIHNjaGlldGVuIG0uYi52LiBtZWNoYW5pc2NoZSBlbmVyZ2llLiBEZSBlZXJzdGUga2F0YXB1bHRlbiBzY2hvdGVuIGh1biBwaWpsZW4gaW4gYmlqbmEgaG9yaXpvbnRhbGUgcmljaHRpbmcgd2FhcmRvb3IgZGUgYWZzdGFuZCBkaWUgemUga29uZGVuIGFmbGVnZ2VuIG5pZXQgYWwgdGUgc3VjY2Vzdm9sIHdhcy4gRGUgUm9tZWluc2UgaW5nZW5pZXVycyB2YW4gZGllIHRpamQgZ2luZ2VuIGRhbiB6b2VrZW4gbmFhciBtZXRob2RlcyBvbSBoZXQgcmVlZHMgdmVybWVsZGUgcHJvYmxlZW0gb3AgdGUgbG9zc2VuLiBIaWVydWl0IG9udHN0b25kIGRlIGJhbGxpc3RhLiBEZXplIGthdGFwdWx0IGhhZCB0dXNzZW4gZGUgMiBob3Jpem9udGFhbCBzY2h1aW4gZ2VwbGFhdHN0ZSBiYWxrZW4gZWVuIGdlc3Bhbm5lbiB0b3V3LiBPbmRlciBoZXQgdG91dyBiZXZvbmQgemljaCBlZW4gaGFsdmUgY2lsaW5kZXIgd2FhcmluIGhldCBwcm9qZWN0aWVsIHdlcmQgZ2VsZWdkLiBEZXplIGhhbHZlIGNpbGluZGVyIHdlcmQgYWx0aWpkIG5hYXIgYm92ZW4gZ2VyaWNodCBlbiBkZSBob2VrIHdhYXJpbiBoZXQgemljaCBiZXZvbmQga29uZGVuIHplIGJpanN0dXJlbiBpbmRpZW4gbm9kaWcuIEhldCB3YXMgZHVzIG5pZXQgem8gZGF0IGJhbGxpc3RhXFx1MjAxOXMgZWVuIHZhc3RlIGhvZWsgbWVla3JlZ2VuIHpvYWxzIGJpaiBkZSBlZXJzdGUgdmVyc2llcyB2YW4gZGUga2F0YXB1bHRlbi4gRG9vciBkaWUgcmVnZWxiYXJlIGhvZWsga29uZGVuIHplIGh1biBwaWpsZW4gb3ZlciBlZW4gYWZzdGFuZCB2YW4gNDAwIG1ldGVyIHNjaGlldGVuLiBOZXQgem9hbHMgYmlqIGRlIG91ZHN0ZSBrYXRhcHVsdGVuIHdhcmVuIGVyIHZlZWwgc29sZGF0ZW4gKFxceEIxNCkgbm9kaWcgb20gaGV0IGluIGdlYnJ1aWsgdGUga3VubmVuIG5lbWVuLiBEYWFyb20gem9jaHRlbiBkZSBpbmdlbmlldXJzIG5vZyBzdGVlZHMgbmFhciBlZW4gdmVyYmV0ZXJkZSB2ZXJzaWUuIERlIGluZ2VuaWV1cnMgcGxhYXRzdGVuIGRpdCBuYWRlZWwgY2VudHJhYWwgaW4gaHVuIHZvbGdlbmRlIG9udHdlcnBlbiB3YWFyZG9vciBkZSBzY29ycGlvbmVzIChrcnVpc2Jvb2cgb3Agdm9ldCkgd2FyZW4gb250c3RhYW4uIEhldCB3YXJlbiBrbGVpbmUga2F0YXB1bHRlbiBkaWUgZG9vciAxIG1hbiBnZWRyYWdlbiBrb25kZW4gd29yZGVuLiBaZSBiZXN0b25kZW4gdWl0IGVlbiBpanplcmVuIGJvb2cgd2FhcnR1c3NlbiBlZW4gc25hYXIgd2VyZCBnZXNwYW5uZW4uIERlIHByb2plY3RpZWxlbiBkaWUgemUga29uZGVuIGFmdnVyZW4gd2FyZW4gaG91dGVuIHNwaWVzZW4gdmFuIDY3Y20uIE5hIGRlIHNjb3JwaW9uZXMgb250d2lra2VsZGUgbWVuIGRlIGNoZWlvYmFsbGlzdHJhIGRpZSBiZXNjaGlrdGUgb3ZlciBtZXRhbGVuIGZyYW1lcyB3YXQgdmVlbCBzdGVya2VyIHdhcyBkYW4gdm9vcmRpZW4uIERlIG9uYWdlciB3YXMgZGUgbGFhdHN0ZSBoZXJ2b3JtaW5nIHZhbiBkZSBrYXRhcHVsdCBlbiB3ZXJkIGFsZ2VtZWVuIGluIGdlYnJ1aWsgZ2Vub21lbiByb25kIGRlIDRkZSBlZXV3LlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJEZXplIGhhZCBlZW4gdG90YWFsIGFuZGVyZSB3ZXJrd2lqemUgZGFuIGRlIHZvcmlnZS4gSGV0IHdhcyBlZW4gaGVlbCBncm9vdCBlbiB6d2FhciBtYWNoaW5lIGJlZG9lbGQgb20gZ3JvdGUgcHJvamVjdGllbGVuIG5hYXIgZGUgdmlqYW5kIHRlIHdlcnBlbi4gRGVyZ2VsaWprZSBwcm9qZWN0aWVsZW4gd2FyZW4gbWVlc3RhbCBzdGVuZW4uIEhldCBvcHZhbGxlbmRzdGUga2VubWVyayB2YW4gZGUgb25hZ2VyIHdhcyBkYXQgZXIgb3BuaWV1dyB2ZWxlIHNvbGRhdGVuIG5vZGlnIHdhcmVuIG9tIGRlIGthdGFwdWx0IGluIGdlYnJ1aWsgdGUgbmVtZW4gZW4gZGl0IHdhcyBqdWlzdCB3YXQgbWVuIGJpaiBkZSBvbnR3aWtrZWxpbmcgdmFuIGRlIGthdGFwdWx0IHdpbGRlIHRlZ2VuZ2Fhbi5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIlZlcmRlZGlnaW5nc3dhcGVuc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgW1wiRGUgdmVyZGVkaWdpbmdzbWFjaGluZXMgd2FyZW4gbmV0IHpvYWxzIGRlIGFhbnZhbHNtYWNoaW5lcyBrcmFjaHRpZ2VyIGluIHZlcmdlbGlqa2luZyBtZXQgd2F0IGRlIHNvbGRhdGVuIGJpaiB6aWNoIGRyb2VnZW4uIFUgemFsIHRlbGtlbnMgZWVuIGtvcnRlIGJlc2NocmlqdmluZyBrcmlqZ2VuIG92ZXIgZW5rZWxlIG9vcmxvZ3N0dWlnZW4gZGllIHRlciB2ZXJkZWRpZ2luZyB3ZXJkZW4gZ2VicnVpa3QuXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIpLCBcIkJlZ2lubmVuIGRvZW4gd2UgbWV0IGRlIHBsdXRlaSwgZWVuIGhhbGZjaXJrZWx2b3JtaWcgc2NoaWxkIG9wIHdpZWxlbiBkaWUgdmVlbCB3ZWVyc3RhbmQgYm9vZC4gVmVydm9sZ2VucyB3YXMgZXIgZGUgdGVzdHVkby4gRGV6ZSB3YXMgbmV0IHpvYWxzIGRlIHBsdXRlaSBlZW4gYmVzY2hlcm1pbmcgb3Agd2llbGVuIChrYW4gb29rIHpvbmRlciB3aWVsZW4pLiBNYWFyIGhldCB2ZXJzY2hpbCB3YXMgZGF0IGJpaiBkZSB0ZXN0dWRvIHNjaGlsZGVuIGFhbiBlbGthYXIgd2VyZGVuIGdlaGVjaHQgZGllIHplIGRhbiBhbHMgYWZkYWsgZ2VicnVpa3Rlbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiVG90IHNsb3QgYmVzdG9uZCBlciBlZW4gbWFjaGluZSBkaWUgem93ZWwgYmlqIGRlIGFhbnZhbHMtIGFscyBiaWogZGUgdmVyZGVkaWdpbmdzd2FwZW5zIHpvdSBrdW5uZW4gaG9yZW4sIG5sIGRlIHR1cmVzIGFtYnVsYXRvcmlhZS4gSGV0IHdhcyBlZW4gaG91dGVuIHRvcmVuIG9wIHdpZWxlbiB3YWFyaW4gemUga29uZGVuIHNjaHVpbGVuIGVuIG9wIGRpZSBtYW5pZXIga29uZGVuIHplIG9uZ2VzY2hvbmRlbiBkZSB2aWphbmQgbmFkZXJlbi4gWm9cXHUyMDE5biB0b3JlbiB0ZWxkZSBlbmtlbGUgdmVyZGllcGluZ2VuIGVuIGhhZCB0ZWxrZW5zIGVlbiB2YWxsdWlrIHBlciB2ZXJkaWVwLiBEaXQgZ2FmIGhlbiBkZSBrYW5zIG9tIG92ZXIgZGUgbXVyZW4gdGUgZ2VyYWtlbiB2YW4gZGUgdmlqYW5kLiBIZWxlbWFhbCBvbmRlcmFhbiB3ZXJkIGVlbiBzdG9ybXJhbSBpbmdlYm91d2QgZW4gZGV6ZSBoYWQgYWxzIGZ1bmN0aWUgZGUgcG9vcnRlbiB2YW4gaGV0IHZpamFuZGVsaWprZSBnZWJpZWQgdGUgZG9vcmJyZWtlbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRhYmxlXCIsIFwiYmV3YXBlbmluZy1sZWdpb24tdGFibGVcIiwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aGVhZFwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcIk9vcmxvZ3N0dWlnZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcIndhcGVuc1wiKV0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJhYW52YWxzd2FwZW5zICg9IHRvcm1lbnRhKVwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiY2F0YXB1bHRhZVwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiQmFsbGlzdGFlXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJTY29ycGlvbmVzXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJjaGVpb2JhbGxpc3RyYVwiKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwib25hZ2VyXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwidmVyZGVkaW5naW5zd2FwZW5zXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJQbHV0ZWlcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcInRlc3R1ZG9cIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJjb21iaW5hdGlld2FwZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIlR1cmVzIGFtYnVsYXRvcmlhZVwiKV0pXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBudWxsLCBcIlZlcmdlbGlqa2luZ1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJBbHMgd2UgZWVuIHZlcmdlbGlqa2luZyBtYWtlbiB2YW4gZGUgUm9tZWluc2UgYmV3YXBlbmluZyB0Lm8udi4gZGUgaHVpZGlnZSwgZGFuIGt1bm5lbiB3ZSBlZW4gemVlciBzdGVya2UgZXZvbHV0aWUgdmFzdHN0ZWxsZW4gdm9vcnRnZWtvbWVuIHVpdCBkZSB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZyBkaWUgbWVuIGRvb3JoZWVuIGRlIGphcmVuIGJvZWt0ZS4gWmUgaGViYmVuIHppY2ggYWx0aWpkIHdpbGxlbiB2ZXJiZXRlcmVuIGluIGhldCBtYWtlbiB2YW4gbWFjaGluZXMgZGllIHByb2plY3RpZWxlbiBrb25kZW4gYWZzY2hpZXRlbi4gWm8gd2VyZCBkZSBrYXRhcHVsdCBvbWdldm9ybWQgdG90IGVlbiBsYW5nZSBhZnN0YW5kc3Jha2V0LiBNZW4gb250d2lra2VsZGUgemVsZnMgZWVuIHN5c3RlZW0gb20gendhYXJkZW4gdGUgdmVydmFuZ2VuIGRvb3IgbWFjaGluZXMgZGllIGtvZ2VscyBrb25kZW4gYWZ2dXJlbi5cIildKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQnJvbm5lbiA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIEJyb25uZW4gPSBleHBvcnRzLkJyb25uZW4gPSBmdW5jdGlvbiBCcm9ubmVuKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIkJyb25uZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBcImJyb25cIiwgXCJCb2VrZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidWxcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIkNvbW1lbnRhcmlpIGRlIGJlbGxvIEdhbGxpY28sIFZJSSwgTFhJWFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiVmFuIEdlbGRlciwgSi4gKDE5NTIpIExhdGlqbnNlIGdlc2NoaWVkc2NocmlqdmVycy4gQmxvZW1sZXppbmcgdWl0IGRlIHdlcmtlbiB2YW4gU2FsbHVzdGl1cywgQ2Flc2FyLCBMaXZpdXMgZW4gVGFjaXR1cy4gSGFhcmxlbTogU3BhYXJuZXN0YWRcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIkhhcnB1ciwgSi4gKDIwMDcpIEd1ZXJyaWVyczogTGVzIGdyYW5kcyBoXFx4RTlyb3MgZGUgbFxcdTIwMTloaXN0b2lyZS4gTUlMQU46IFRvdWxvdXNlXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJWYW4gRGFlbGUsIEIuICgyMDAzKSBIZXQgUm9tZWluc2UgTGVnZXIuIERhdmlkc2ZvbmRzOiBMZXV2ZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCBcIkdvbGRzd29ydGh5LCBBLiAoMjAxNykgUm9tZWluc2UgbGVnaW9lbmVuLiBPbW5pYm9lazogVXRyZWNodFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiUm9kZ2VycywgTi4gKDIwMTIpIEhldCBSb21laW5zZSBSaWprLiBWZWx0bWFuOiBVdHJlY2h0XCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJBbm9uaWVtLiAoMjAxNSkuIERlIFZlbGRzbGFnZW4sIEhldCBQb3AtVXBib2VrLiBUaWVsdDogTGFubm9vLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiV2FycnksIFcuICgxOTgxKS4gT29ybG9ndm9lcmluZyBpbiBkZSBrbGFzc2lla2Ugd2VyZWxkLiBIZW1vbmQ6IEhlbG1vbmQuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgXCJEYW5kby1Db2xsaW5zLCBTLiAoMjAxMCkuIExlZ2lvbnMgb2YgUm9tZTogVGhlIERlZmluaXRpdmUgSGlzdG9yeSBvZiBFdmVyeSBJbXBlcmlhbCBSb21hbiBMZWdpb24uIExvbmRlbjogUXVlcmN1cyBQdWJsaXNoaW5nLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsIFwiRmV1Z2VyZSwgTS4gKDIwMDIpLiBUaGUgV2VhcG9ucyBvZiB0aGUgUm9tYW5zLiBVbml0ZWQgS2luZ2RvbTogVGhlIEhpc3RvcnkgUHJlc3MuXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBcImJyb25cIiwgXCJNb25kZWxpbmdcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiTW9uZGVsaW5nZSBicm9uIGdlbGV2ZXJkIGRvb3IgS29sb25lbCBTQkggTWFyYyBBbGV4YW5kZXIgKEhvb2dsZXJhYXIgYWFuIGRlIEtNUylcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoM1wiLCBcImJyb25cIiwgXCJXZWJzaXRlc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInVsXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJHb2VkZSBrZWl6ZXJzLCBzbGVjaHRlIGtlaXplcnNcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vbWFyY2F1ci53b3JkcHJlc3MuY29tLzIwMTUvMDMvMjAvZGUtdmlqZi1ncm9vdHN0ZS1vdmVyd2lubmluZ2VuLXZhbi1kZS1yb21laW5lbi1sb25ncmVhZC9cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIm1pbGl0YWlyLm5ldFwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5taWxpdGFpci5uZXQvT29ybG9nZW4vUm9tZWluc2UlMjBvb3Jsb2dlbi9TbGFnJTIwYmlqJTIwVGV1dG9idXJnZXJ3b3VkL1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiNCBvcG1lcmtlbGlqa2UgdmVsZHNsYWdlbiB1aXQgZGUgUm9tZWluc2UgZ2VzY2hpZWRlbmlzXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LmlzZ2VzY2hpZWRlbmlzLm5sL25pZXV3cy80LW9wbWVya2VsaWprZS12ZWxkc2xhZ2VuLXJvbWVpbnNlLWdlc2NoaWVkZW5pcy9cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkJlbGVnIHZhbiBBbGVzaWFcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vbmwud2lraXBlZGlhLm9yZy93aWtpL0JlbGVnJTIwdmFuJTIwQWxlc2lhXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJXYWFyIGxhZyBBbFxceEU5c2lhP1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly93d3cua3Vuc3RnZW9ncmFmaWUubmwvaGVudi9oZWxkZW4uYWxlc2lhLnNsYWcuaHRtXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJkZSBnZXNjaGllZGVuaXMgdmFuIEFsZXNpYVwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5jZW5lbnMuYmUvYWxlc2lhL29tZ2V2aW5nLmh0bWxcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkRyaWUgZ3JvdGUgdmVsZHNsYWdlbiB1aXQgZGUgUm9tZWluc2UgdGlqZFwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9wbGF6aWxsYS5jb20vcGFnZS80Mjk1MDI4OTEzL2RyaWUtZ3JvdGUtdmVsZHNsYWdlbi11aXQtZGUtcm9tZWluc2UtdGlqZFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiU2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZFwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9ubC53aWtpcGVkaWEub3JnL3dpa2kvU2xhZ19iaWpfaGV0X1RldXRvYnVyZ2Vyd291ZFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiU2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZDogVmFydXMgbG9vcHQgaW4gZWVuIEdlcm1hYW5zZSBoaW5kZXJsYWFnXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LmlzZ2VzY2hpZWRlbmlzLm5sL21pbGl0YWlyZS1jb25mcm9udGF0aWVzL3NsYWctYmlqLWhldC10ZXV0b2J1cmdlcndvdWQtdmFydXMtbG9vcHQtaW4tZWVuLWdlcm1hYW5zZS1oaW5kZXJsYWFnL1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiVmFydXNzbGFnOiAyMDAwIGphYXIgZ2VsZWRlblwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly93d3cuaGlzdG9yaXNjaGVjYXJ0b2dyYWZpZS5ubC9uaWV1d3MvMjAwOS8xMS92YXJ1c3NsYWctMjAwMC1qYWFyLWdlbGVkZW4vXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJEZSBWYXJ1c3NsYWcgaW4gOSBuLkNoci5cIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cubm92aW9tYWd1cy5pbmZvL3ZhcnVzc2xhZy5odG1cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlB1YmxpdXMgUXVpbmN0aWxpdXMgVmFydXNcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vbmwud2lraXBlZGlhLm9yZy93aWtpL1B1YmxpdXNfUXVpbmN0aWxpdXNfVmFydXNcIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIlRhY3RpZWtlblwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy5sZWdpb3hpLmJlL2VkdWNhdGllZi90YWN0aWVrZW4gKG9wZW4gdmVsZHNsYWcpXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJIZXQgUm9tZWluc2UgbGVnZXJcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cua2xhc3NpZWtldmVydGFsaW5nZW4ubmwvY3VsdHV1ci9sZWdlci5odG1cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkh1bHB0cm9lcGVuXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vdXNlcnMudGVsZW5ldC5iZS9waG9lbmljYS9odWxwdHJvZXBlbi5odG1cIlxuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJsaVwiLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYVwiLCBudWxsLCBcIkRlIGJld2FwZW5pbmcgdmFuIGRlIFJvbWVpbnNlIGxlZ2lvbmFpclwiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3JvbWVpbmVuLmluZm8vZGUtYmV3YXBlbmluZy12YW4tZGUtcm9tZWluc2UtbGVnaW9uYWlyXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJWZXJkZWRpZ2luZ3N3ZXJrZW4gZW4gYmVsZWdlcmluZ3Nvb3Jsb2dcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly91c2Vycy5za3luZXQuYmUvdmVuaV92aWRpX3ZpY2kvYmVzdG9ybWluZy5odG1sXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJXZWFwb25zXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LnByaW1hcnlob21ld29ya2hlbHAuY28udWsvcm9tYW5zL3dlYXBvbnMuaHRtbFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiVG9vbHMgb2YgV2FyXCIsIHtcbiAgICBcImhyZWZcIjogXCJodHRwczovL3JvbWFubWlsaXRhcnkubmV0L3Rvb2xzL1wiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiQW5jaWVudCByb21hbiBtaWxpdGFyeSwgd2VhcG9ucyBhbmQgc3BpZXNcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly9mYWN0c2FuZGRldGFpbHMuY29tL3dvcmxkL2NhdDU2L3N1YjM2OC9pdGVtMjA1NS5odG1sXCJcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwibGlcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFcIiwgbnVsbCwgXCJXZWFwb25zICYgVGFjdGljc1wiLCB7XG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly93d3cudGhlLXJvbWFucy5jby51ay93ZWFwb25zLmh0bVwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiT3JnYW5pemF0aW9uIG9mIHRoZSBSb21hbiBJbXBlcmlhbCBMZWdpb25cIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cudW5ydi5jb20vbWlsaXRhcnkvbGVnaW9uLnBocFwiXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImxpXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhXCIsIG51bGwsIFwiVGhlIFJvbWFuIEFybXlcIiwge1xuICAgIFwiaHJlZlwiOiBcImh0dHA6Ly93d3cucm9tYW4tZW1waXJlLm5ldC9hcm15L2FybXkuaHRtbFwiXG4gIH0pKV0pKV0pXSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLklubGVpZGluZyA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIElubGVpZGluZyA9IGV4cG9ydHMuSW5sZWlkaW5nID0gZnVuY3Rpb24gSW5sZWlkaW5nKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIklubGVpZGluZ1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJXaWogaGViYmVuIGJlc2xpc3Qgb20gb25zIHdlcmsgb3ZlciBoZXQgUm9tZWluc2UgbGVnZXIgdGUgYmVnaW5uZW4gbWV0IGRlIG9uZGVydmVyZGVsaW5nIHZhbiBoZXQgbGVnZXIuIEhpZXJkb29yIGtyaWpnIGplIGFsIGVlbiBpbnppY2h0IGluIGhvZSBkZSBoaVxceEVCcmFyY2hpZSB3YXMgdGVuIHRpamRlIHZhbiBkZSBSb21laW5lbi4gSGllcm5hIHppam4gd2lqIGRpZXBlciBpbmdlZ2FhbiBvcCBkZSBiZXdhcGVuaW5nIHZhbiBkZSBSb21laW5lbiB6b2RhdCBqZSBnb2VkIHdlZXQgaG9lIHplIHRvZW4gdm9jaHRlbiBlbiB3YXQgemUgdGVyIGJlc2NoaWtraW5nIGhhZGRlbiBvbSBodW4gdmlqYW5kIHRlIG92ZXJtZWVzdGVyZW4uIEFscyBsYWF0c3RlIGhlYmJlbiB3aWogZ2VrZWtlbiBuYWFyIGhldCB2ZXJsb29wIHZhbiB0d2VlIHZlbGRzbGFnZW4gZW4gaGViYmVuIHdlIGRlemUgdm9sbGVkaWcgZ2VhbmFseXNlZXJkIG9tIHVpdGVpbmRlbGlqayB0ZSBrdW5uZW4gemVnZ2VuIGhvZSBkZXplIGJldGVyIGhhZGRlbiBrdW5uZW4gdmVybG9wZW4uIFdpaiBoZWJiZW4gdmVyc2NoZWlkZW5lIGJyb25uZW4gZ2VicnVpa3Qgb20gb25zIHdlcmsgdGUgb25kZXJib3V3ZW4sIGdhYW5kZSB2YW4gYm9la2VuIHVpdCBoZXQgYXJjaGllZiB2YW4gZGUgS29uaW5rbGlqa2UgTWlsaXRhaXJlIFNjaG9vbCB0b3Qgd2Vic2l0ZXMgdmFuIHByb2Zlc3NvcmVuIGxhdGlqbiBkaWUgdGhlc2lzc2VuIG92ZXIgaGV0IFJvbWVpbnNlIGxlZ2VyIGhlYmJlbiBnZXNjaHJldmVuLiBPbSBub2cgZXh0cmEgZG9jdW1lbnRhdGllIGVuIGFmYmVlbGRpbmdlbiB0ZSB2ZXJzY2hhZmZlbiBiaWogZGV6ZSBvbmRlcnpvZWtzY29tcGV0ZW50aWUsIGhlYmJlbiB3aWogYmVzbG90ZW4gb20gZGV6ZSBzaXRlIHRlIG1ha2VuLlwiKV0pO1xufTtcblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5PbmRlcnZlcmRlbGluZyA9IHVuZGVmaW5lZDtcblxudmFyIF9pbmZlcm5vID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIE9uZGVydmVyZGVsaW5nID0gZXhwb3J0cy5PbmRlcnZlcmRlbGluZyA9IGZ1bmN0aW9uIE9uZGVydmVyZGVsaW5nKCkge1xuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImFydGljbGVcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJoMlwiLCBudWxsLCBcIk9uZGVydmVyZGVsaW5nIHZhbiBoZXQgbGVnZXJcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRGUgUm9tZWluZW4gaGFkZGVuIHZlcnNjaGlsbGVuZGUgcmFuZ2VuIGJpbm5lbiBoZXQgbGVnZXIgd2FhcnRvZSBqZSBrb24gYmVob3Jlbi4gSGV0IGxlZ2VyIHdlcmQgb3BnZWRlZWxkIGluIG1lZXJkZXJlIGxlZ2lvZW5lbiBlbiBodWxwdHJvZXBlbiB3YWFybWVlIHplIHZhbnVpdCB2ZXJzY2hpbGxlbmRlIGhvZWtlbiBkZSB2aWphbmQgZ2VzdHJ1Y3R1cmVlcmQga29uZGVuIGFhbnZhbGxlbi4gRG9vcmhlZW4gZGUgamFyZW4gbmFtIGhldCBhYW50YWwgc29sZGF0ZW4gc3RlcmsgdG9lLiBEZSByZWRlbiBkYWFydG9lIHdhcyB2cmlqIGVlbnZvdWRpZy4gRWVubWFhbCBlZW4gYmVwYWFsZGUgYmV2b2xraW5nc2dyb2VwIHppam4gc3RyaWpkbWFuc2NoYXBwZW4gdmVyZ3Jvb3R0ZSwgd2FzIGRlIGFuZGVyZSB2ZXJwbGljaHQgb20gaGV0emVsZmRlIHRlIGRvZW4sIGFhbmdlemllbiB6ZSBhbmRlcnMgZ2VlbiBlbmtlbGUga2FucyB6b3VkZW4gaGViYmVuIG9wIGRlIG92ZXJ3aW5uaW5nLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiSGV0IGxlZ2lvZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRWVuIGxlZ2lvZW4gd2VyZCBvcGdlZGVlbGQgaW4gMTAgY29ob3J0ZW4gd2FhcmJpaiAxIGNvaG9ydGUgZWVuIGFhbnRhbCB2YW4gNjAwIHNvbGRhdGVuIHRlbGRlIG9wIHZvb3J3YWFyZGUgZGF0IGhldCBsZWdpb2VuIGJlc3RvbmQgdWl0IG9uZ2V2ZWVyIDYwMDAgbGVnaW9uYXJpaSAoPSBzb2xkYXRlbikuIERlIGxlaWRlciB2YW4gZWVuIGxlZ2lvZW4gd2VyZCBlZW4gbGVnYXR1cyBnZW5vZW1kLiBIZXQgd2FzIGFsdGlqZCBlZW4gbWFuIG9tZGF0IGVua2VsIGRlIG1hbm5lbiB0b2VnZWxhdGVuIHdlcmRlbiBiaWogaGV0IGxlZ2VyIChWcm91d2VuIG1vZXN0ZW4gaGV0IGh1aXNob3VkZW4gZG9lbikuIERlIGxlZ2F0dXMgaGFkIG9vayA1IFxceEUwIDYgYXNzaXN0ZW50ZW4gdGVyIGJlc2NoaWtraW5nIGRpZSBkZSBuYWFtIHRyaWJ1bmkga3JlZ2VuLiBEYXQgd2FyZW4gc3RlZWRzIGpvbmdlIG1hbm5lbiBkaWUgZWVuIHBvbGl0aWVrZSBjYXJyaVxceEU4cmUgd2lsZGUgc3RhcnRlbiBtYWFyIGVlcnN0IHdhdCBtaWxpdGFpcmUgZXJ2YXJpbmcgbm9kaWcgaGFkZGVuLiBWZXJ2b2xnZW5zIHdlcmRlbiBhbGxlIGNvaG9ydGVuIG5vZyBlZW5zIG9uZGVydmVyZGVlbGQgaW4gMyBtYW5pcGVscyBtZXQgdGVsa2VucyBlZW4gYWFudGFsIHZhbiAyMDAgbWFuLiBIZXQgMXN0ZSBtYW5pcGVsIHZhbiBpZWRlcmUgY29ob3J0ZSBrcmVlZyBkZSBuYWFtIHBpbHVzLiBIZXQgMXN0ZSBtYW5pcGVsIHZhbiBkZSAxc3RlIGNvaG9ydGUgd2VyZCBkZSBwcmltdXMgcGlsdXMgZ2Vub2VtZCBtZXQgZGUgcHJpbWkgcGlsaSBjZW50dXJpbyBhYW4gaGV0IGhvb2ZkLiBEZXplIDIwMCBtYW5uZW4gd2VyZGVuIG5vZ21hYWxzIGdlc3BsaXRzdCBpbiAyIGdyb2VwZW4gdmFuIDEwMCBzb2xkYXRlbi4gRGVyZ2VsaWprZSBncm9lcGVuIGJlaG9vcmRlbiB0b3QgZGUgcmFuZyB2YW4gZGUgY2VudHVyaWEuIEhpZXJiaWogd2FzIGVlbiBjZW50dXJpbyAoPSBvbmRlcm9mZmljaWVyKSBkZSBhYW52b2VyZGVyIHZhbiAxIHZhbiBkZSA2IGNlbnR1cmlcXHhFQm4uIEhpaiBiZXNjaGlrdGUgb3ZlciBlZW4gYWFudGFsIHNvbGRhdGVuLCAxIHZlbGR0ZWtlbmRyYWdlciBlbiBlZW4gb3B0aW8uIFppam4gYmVsYW5ncmlqa2hlaWQgd2FzIGFmaGFua2VsaWprIHZhbiBkZSByYW5nIGRpZSB6aWpuIGNlbnR1cmlhIGhhZC4gWm8gaXMgZGUgY2VudHVyaW8gdmFuIGhldCAxc3RlIGNlbnR1cmllLCAxc3RlIG1hbmlwZWwgZW4gMXN0ZSBjb2hvcnRlIGRlIGJlbGFuZ3JpamtzdGUgZW4gbmFhcm1hdGUgamUgdmVyZGVyIGdhYXQgaW4gZGUgaGlcXHhFQnJhcmNoaWUgbmVtZW4gemUgYWFuIGJlbGFuZ3JpamtoZWlkIGFmLiBFZW4gY2VudHVyaW8gYmVzY2hpa3RlIG5ldCB6b2FscyBlZW4gbGVnYXR1cyBvdmVyIGVlbiBhc3Npc3RlbnQgZGllIGRlIG5hYW0gb3B0aW8gYWFuZ2Vib2RlbiBrcmVlZy4gRGV6ZSBvcHRpbyBiZXNjaGlrdGUgb3ZlciBlZW4ga2xlaW4gbWFuc2NoYXAgb20gd2F0IGVydmFyaW5nIHRlIGtyaWpnZW4gb3ZlciBob2UgamUgbGVpZGluZyBtb2VzdCBnZXZlbi4gSGV0IHVpdGVpbmRlbGlqa2UgZG9lbCB2YW4gZGUgb3B0aW8gd2FzIHRlIHByb21vdmVyZW4gb20gem8gZGUgZnVuY3RpZSB2YW4gZWVuIGNlbnR1cmlvIHRlIGtyaWpnZW4uIFplZXIgZXJ2YXJlbiBjZW50dXJpb1xcdTIwMTlzIGtyZWdlbiBvb2sgbm9nIGthbnMgb20gcHJhZWZlY3R1cyBjYXN0cm9ydW0gKD0ga2FtcGNvbW1hbmRhbnQpIHRlIHdvcmRlbi4gVG90IHNsb3Qgd2VyZGVuIGRpZSAxMDAgbWFuIG5vZyBlZW4ga2VlciBvcGdlZGVlbGQgaW4gMTAgZ3JvZXBqZXMgdmFuIHRlbGtlbnMgMTAgc29sZGF0ZW4gZGllIHNhbWVuIGVlbiBrbGVpbmUgdGVudCBtb2VzdGVuIGRlbGVuIHdhYXJpbiB6ZSBrb25kZW4gb3Zlcm5hY2h0ZW4uIERlcmdlbGlqayB0ZW50ZW4gd2FyZW4gb25nZXZlZXIgNCBiaWogMyBtZXRlci4gRGUgcmVkZW4gaGllcnZvb3Igd2FzIGRhdCB6ZSBvbXdpbGxlIHZhbiBodW4gZ3Jvb3R0ZSBtYWtrZWxpamsgdGUgdmVydm9lcmVuIHdhcmVuLiBEZXplIGdyb2VwamVzIHdlcmRlbiBjb250dXJiZXJuaXVtIGdlbm9lbWQuIEVsayBjb250dXJiZXJuaXVtIGJlc2NoaWt0ZSBvdmVyIGVlbiBtdWlsZXplbCBkaWUgZGUgc29sZGF0ZW4gaGllbHAgYmlqIGhldCB2ZXJ2b2VyZW4gdmFuIGh1biBnb2VkZXJlbi4gSGV0IGxlZ2lvZW4gYmV2YXR0ZSBuYWFzdCByZWVkcyB2ZXJtZWxkZSByYW5nZW4gbm9nIGFuZGVyZSBwZXJzb25lbiBkaWUgZWVuIHNwZWNpZmlla2UgdGFhayB1aXR2b2VyZGVuLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgW1wiRWVuIGFxdWlsaWZlciAoPSBzdGFuZGFhcmRkcmFnZXIpIGtyZWVnIGRlIHRhYWsgb20gbWV0IGhldCBSb21laW5zZSBlbWJsZWVtIHZhbiBlZW4gYXF1aWxhICg9IGFyZW5kKSBoZXQgbGVnaW9lbiB2b29yYWYgdGUgZ2FhbiBlbiBzdG9uZCBhYW4gaGV0IGhvb2ZkIHZhbiBhbGxlIGFuZGVyZSB2ZWxkdGVrZW5kcmFnZXJzLiBJbiBlZW4gbGVnaW9lbiB3YXJlbiBlciBvb2sgYmFra2Vycywgc21lZGVuLCBkb2t0ZXIsIFxcdTIwMjZcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiRWVuIGxlZ2lvZW4ga29uIGR1cyB6b25kZXIgZW5pZyBwcm9ibGVlbSBlbmtlbGUgbWFhbmRlbiByb25kdHJla2tlbiBkb29yIGRlIGdyb3RlIHZvb3JyYWFkIHZhbiBkaW5nZW4gZGllIHplIG1lZXNsZXVyZGUgdGlqZGVucyBodW4gdG9jaHQgZW4gaGV0IGdyb290IGFhbmJvZCB2YW4gYXNzaXN0ZW50ZW4uXCJdKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImgzXCIsIG51bGwsIFwiRGUgaHVscHRyb2VwZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFtcIk5hYXN0IGxlZ2lvZW5lbiBtYWFrdGUgZGUgUm9tZWluZW4gb29rIHZlZWx2dWxkaWcgZ2VicnVpayB2YW4gZGUgYXV4aWxpYSAoPSBodWxwdHJvZXBlbikuIERhYXJ0b2UgYmVob29yZGVuIGRlIHNvbGRhdGVuIGRpZSBuaWV0IGRlIHN0YXR1cyBoYWRkZW4gdmFuIFJvbWVpbnNlIHN0YWF0c2J1cmdlciBkb29yZGF0IHplIGFma29tc3RpZyB3YXJlbiB1aXQgYW5kZXJlIHZvbGtlcmVuLiBPbXdpbGxlIHZhbiBodW4gYW5kZXJlIGFma29tc3Qga3JlZ2VuIHplIG1hYXIgMS8zIHZhbiBoZXQgbG9vbiB2YW4gZWVuIGxlZ2lvbmFyaXVzLlwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiKSwgXCJIdW4gdm9vcm5hYW1zdGUgZnVuY3RpZSB3YXMgb20gZGUgbGVnaW9lbmVuIHRlIGhlbHBlbiBlbiBvbSBkZSBncmVuemVuIHRlIGJld2FrZW4gZW4gdGUgdmVyZGVkaWdlbi4gRGV6ZSB0YWtlbiBtb2VzdGVuIHplIHVpdHZvZXJlbiBvbmRlciBiZXZlbCB2YW4gcHJhZWZlY3RpICg9IFJvbWVpbnNlIG9mZmljaWVyZW4pLiBBbHMgZWVuIGF1eGlsaWFyaXVzICg9IGVlbiBzb2xkYWF0IHZhbiBkZSBodWxwdHJvZXBlbikgZWVuIGRpZW5zdHRlcm1pam4gdmFuIDI1IGphYXIgaGFkIGFmZ2VzbG90ZW4sIGtyZWVnIGhpaiBlbiB6aWpuIGdlemluIHZhbmFmIGRhdCBtb21lbnQgZGUgc3RhdHVzIHZhbiBlZW4gUm9tZWlucyBzdGFhdHNidXJnZXIuIERlIHpvbmVuIHZhbiBlZW4gZXgtYXV4aWxpYXJpdXMgZ2luZ2VuIGFscyBsZWdpb25hcml1cyB3ZXJrZW4gd2F0IGhlbiBkZSBrYW5zIGdhZiBvbSBtZWVyIHRlIHZlcmRpZW5lbiBkYW4gaHVuIHZhZGVyLiBEZSBleC1hdXhpbGlhcml1cyB6ZWxmIG5hbSBkZSBuYWFtIHZhbiBkZSByZWdlcmVuZGUga2VpemVyIGFhbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiksIFwiTmV0IHpvYWxzIGRlIGxlZ2lvZW5lbiB6aWpuIGVyIHZlcnNjaGlsbGVuZGUgb25kZXJkZWxlbiBiaW5uZW4gZGUgaHVscHRyb2VwZW4gem9hbHM6IGRlIGVxdWl0YXR1cyAoPSBydWl0ZXJzKSwgZGUgc2FnaXR0YXJpaSAoPSBib29nc2NodXR0ZXJzKSBlbiBkZSBmdW5kaXRvcmVzICg9IHNsaW5nZXJhYXJzKS4gRWxrZSBzb2xkYWF0IGJpbm5lbiBkZSBodWxwdHJvZXBlbiBrcmVlZyBlZW4gYmlqcGFzc2VuZCB3YXBlbiBhZmhhbmtlbGlqayB0b3Qgd2Vsa2UgZ3JvZXAgaGlqIGJlaG9vcmRlLlwiXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0YWJsZVwiLCBcIm9uZGVydmVyZGVsaW5nLXRhYmxlXCIsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhlYWRcIiwgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJncm9lcGVuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGhcIiwgbnVsbCwgXCJsZWdpb2VuZW5cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0aFwiLCBudWxsLCBcImh1bHB0cm9lcGVuXCIpXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImJlbGFuZ3JpamtzdGUgb25kZXJkZWxlblwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFtcImNvaG9ydGVuXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJtYW5pcGVsc1wiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiY2VudHVyaWFcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcImNvbnR1cmJlcm5pdW1cIl0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgW1wic2FnaXR0YXJpaVwiLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiYnJcIiksIFwiZXF1aXRhdHVzXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJmdW5kaXRvcmVzXCJdKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidHJcIiwgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcImFhbnRhbFwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFtcIjEgY29ob3J0ID0gXFx4QjEgNjAwXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCIxIG1hbmlwZWwgPSBcXHhCMSAyMDBcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcIjEgY2VudHVyaWEgPSBcXHhCMSAxMDBcIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImJyXCIpLCBcIjEgY29udHVyYmVybml1bSA9IFxceEIxIDEwXCJdKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwiYWFudGFsIGlzIG9uZHVpZGVsaWprXCIpXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0clwiLCBudWxsLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwibGVpZGVyc1wiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRkXCIsIG51bGwsIFwibGVnaW9lbiAtLT4gbGVnYXR1cyBjZW50dXJpYSAtLT4gY2VudHVyaW8gemVlciBlcnZhcmVuIGNlbnR1cmlvIC0tPiAgcHJhZWZlY3R1cyBjYXN0cm9ydW1cIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIkh1bHB0cm9lcGVuIC0tPiBwcmFlZmVjdGlcIildKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInRyXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJzdGF0dXNcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJ0ZFwiLCBudWxsLCBcIlJvbWVpbnMgc3RhYXRzYnVyZ2VyXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwidGRcIiwgbnVsbCwgXCJnZWVuIFJvbWVpbnMgc3RhYXRzYnVyZ2VyLiBBZmtvbXN0aWcgdmFuIGFuZGVyZSB2b2xrZXJlblwiKV0pXSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJWZXJnZWxpamtpbmdcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiQWxzIHdlIGRlIG9uZGVydmVyZGVsaW5nIGJpaiBkZSBSb21laW5lbiB2ZXJnZWxpamtlbiBtZXQgZGUgb256ZSBkYW4gbWVya2VuIHdlIG9wIGRhdCBkZSBzdHJ1Y3R1dXIgdm9vciBlZW4gZ3Jvb3QgZGVlbCBiZXdhYXJkIGlzIGdlYmxldmVuLiBUb2NoIGt1bm5lbiB3ZSBzdGVsbGVuIGRhdCBoZXQgaHVpZGlnZSBzeXN0ZWVtIG1lZXIgb25kZXJ2ZXJkZWxpbmdlbiBoZWVmdCBlbiBkYXQgZGUgbmFtZW4gb29rIHN0ZWVkcyBnZXdpanppZ2Qgemlqbi4gWm8gaXMgaW4gMjAxNyBkZSBnZW5lcmFhbCBkZSBsZWlkZXIgdmFuIGhldCBsZWdlciBlbiB2cm9lZ2VyIHNwcmFrIG1lbiBvdmVyIGxlZ2F0dXMgZGllIGRlIGxlaWRpbmcgaGFkIG92ZXIgaGV0IGxlZ2lvZW4uXCIpXSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlZlbGRzbGFnZW4gPSB1bmRlZmluZWQ7XG5cbnZhciBfaW5mZXJubyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBWZWxkc2xhZ2VuID0gZXhwb3J0cy5WZWxkc2xhZ2VuID0gZnVuY3Rpb24gVmVsZHNsYWdlbigpIHtcbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJhcnRpY2xlXCIsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDJcIiwgbnVsbCwgXCJWZWxkc2xhZ2VuIGVuIG9vcmxvZ2VuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlIFJvbWVpbmVuIGhlYmJlbiBkb29yaGVlbiBodW4gbGFuZ2UgYmVzdGFhbiBpbiB2ZWxlIGRlbGVuIHZhbiBkZSB3ZXJlbGQgZ2V2b2NodGVuIHRlZ2VuIHZlcnNjaGlsbGVuZGUgcmlqa2VuLCBzdGFkc3RhdGVuLCBoYW5kZWxzbmF0aWVzIGVuIGJhcmJhYXJzZSBzdGFtbWVuIGFhbmdlemllbiB6ZSBzdGVlZHMgbWVlciBncm9uZGdlYmllZCB3aWxkZW4gdmVyb3ZlcmVuLiBIb2V3ZWwgdmVsZW4gaGllcnZhbiB3ZXJkZW4gZ2V3b25uZW4gZGFua3ppaiBodW4gZG9vcmRhY2h0ZSB0YWN0aWVrZW4gZW4gaWp6ZXJzdGVya2UgZGlzY2lwbGluZSwgd2FyZW4gZXIgb29rIHp3YXJlIG5lZGVybGFnZW4gYmlqIHpvYWxzOiBkZSBzbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkLCBkZSBzbGFnIGJpaiBDYW5uYWUgZW4gZGUgc2xhZyBiaWogQWRyaWFub3BvbGlzLiBEb29yIGRlemUgbmVkZXJsYWdlbiBzY2hhYWZkZW4gemUgaHVuIHRhY3RpZWtlbiBiaWogb20gZGV6ZWxmZGUgZm91dGVuIG5pZXQgbm9nIGVlbnMgdGUgbWFrZW4uXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJEZSBzbGFnIGJpaiBBbGVzaWFcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRGUgc2xhZyBiaWogQWxlc2lhIHdlcmQgZ2V2b2NodGVuIHR1c3NlbiBkZSBSb21laW5zZSB0cm9lcGVuIHZhbiBKdWxpdXMgQ2Flc2FyIGVuIGRlIEF2ZXJuaXNjaGUgdHJvZXBlbiB2YW4gVmVyY2luZ2V0b3JpeC4gRGV6ZSBzbGFnIHdhcyBkZSBiZXNsaXNzZW5kZSBzbGFnIGluIGRlIHN0cmlqZCB0dXNzZW4gZGUgR2FsbGlcXHhFQnJzIGVuIGRlIFJvbWVpbmVuIGVuIGhldCB3YXMgdGV2ZW5zIGVlbiB2YW4gZGUgZ3Jvb3RzdGUgb3Zlcndpbm5pbmdlbiB2YW4gQ2Flc2FyLiBEZSBzbGFnIHZvbmQgcGxhYXRzIGluIDUyIHYuQy4gYmlqIGhldCBHYWxsaXNjaGUgQWxlc2lhIHJvbmQgZWVuIHZlcnN0ZXJrdCBmb3J0IHZhbiBoZXQgdm9sayBNYW5kdWJpaS4gSGV0IGZvcnQgdmFuIEFsZXNpYSB3YXMgZ2VsZWdlbiBib3Zlbm9wIGVlbiBoZXV2ZWwgd2FhciByaXZpZXJlbiBsYW5ncyBzdHJvb21kZW4uIENhZXNhciBnYWYgdmFuIGRlIG9tZ2V2aW5nIGVlbiB6ZWVyIGdvZWRlIGJlc2NocmlqdmluZyBpbiB6aWpuIENvbW1lbnRhcmlpIGRlIGJlbGxvIEdhbGxpY286IFxcXCJJcHN1bSBlcmF0IG9wcGlkdW0gQWxlc2lhIGluIGNvbGxlIHN1bW1vIGFkbW9kdW0gZWRpdG8gbG9jbywgdXQgbmlzaSBvYnNpZGlvbmUgZXhwdWduYXJpIG5vbiBwb3NzZSB2aWRlcmV0dXIuIEN1aXVzIGNvbGxpcyByYWRpY2VzIGR1byBkdWFidXMgZXggcGFydGlidXMgZmx1bWluYSBzdWJsdWViYW50LiBBbnRlIGlkIG9wcGlkdW0gcGxhbml0aWVzIGNpcmNpdGVyIG1pbGxpYSBwYXNzdXVtIElJSSBpbiBsb25naXR1ZGluZSBwYXRlYmF0OyByZWxpcXVpcyBleCBvbW5pYnVzIHBhcnRpYnVzIGNvbGxlcyBtZWRpb2NyaSBpbnRlcmllY3RvIHNwYXRpbyBwYXJpIGFsdGl0dWRpbmlzIGZhc3RpZ2lvIG9wcGlkdW0gY2luZ2ViYW50LlxcXCIgRGl0IGthbiBtZW4gdmVydGFsZW4gYWxzOiBcXHUyMDE4RGUgdmVzdGluZyBBbGVzaWEgemVsZiBsYWcgb3AgZWVuIGhldXZlbHRvcCBkaWUgYWFuemllbmxpamsgYm92ZW4gZGUgdmxha3RlIHVpdHN0YWssIHpvZGF0IHppaiBvbmlubmVlbWJhYXIgc2NoZWVuIHRlbnppaiBkb29yIGJsb2trYWRlLiBEZSB2b2V0IHZhbiBkaWUgaGV1dmVsIHdvcmR0IGFhbiB0d2VlIHppamRlbiBiZXNwb2VsZCBkb29yIHdhdGVybG9wZW4uIFZcXHhGM1xceEYzciBkZSB2ZXN0aW5nIHN0cmVrdGUgemljaCBlZW4gb25nZXZlZXIgZHJpZSBtaWpsIGJyZWRlIHZsYWt0ZSB1aXQ7IGFhbiBhbCBkZSBhbmRlcmUgemlqZGVuIG9tcmluZ2RlIGhldXZlbHMsIG9wIGtvcnRlIGFmc3RhbmQgdmFuIGVsa2FhciBnZWxlZ2VuIGVuIG1ldCBnZWxpamtlIHRvcGhvb2d0ZSwgZGUgdmVzdGluZy5cXHUyMDE5IERvb3IgZGV6ZSB1aXRzdGVrZW5kZSBsb2NhdGllIHdhcyBoZXQgemVlciBtb2VpbGlqayBvbSBoZXQgZm9ydCBpbiB0ZSBuZW1lbiBkdXMgYmVzbG9vdCBDYWVzYXIgb20gaGV0IGZvcnQgdGUgYmVsZWdlcmVuIGRvb3IgZ2VicnVpayB0ZSBtYWtlbiB2YW4gZWVuIGNpcmN1bXZhbGxhdGllbGluaWUgb20gem8gZGUgdHJvZXBlbiBlbiBkZSBiZXZvbGtpbmcgdmFuIEFsZXNpYSB1aXQgdGUgaG9uZ2VyZW4uXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBbXCJEZSBsaW5pZSBiZXN0b25kIHVpdCBtZWVyZGVyZSB2ZXJzdGV2aWdpbmdlbiBlbiB3YWxsZW4gbWV0IGVlbiB0b3RhbGUgbGVuZ3RlIHZhbiBvbmdldmVlciAxOGttLiBEZSB0YWN0aWVrIHZhbiBDYWVzYXIgYmxlZWsgemVlciBnb2VkIHRlIHdlcmtlbiBhYW5nZXppZW4gVmVyY2luZ2V0b3JpeCByYWRlbG9vcyB3YXMuIERlIGVuaWdlIG1vZ2VsaWpraGVpZCBkaWUgVmVyY2luZ2V0b3JpeCBub2cgaGFkIHdhcyBvbSBlZW4gZGVlbCB2YW4gZGUgR2FsbGlzY2hlIGNhdmFsZXJpZSB0ZSBkb2VuIG9udHNuYXBwZW4gZG9vciBlZW4gbm9nIG9udm9sdG9vaWQgZ2VkZWVsdGUgdmFuIGRlIGxpbmllIG9tIHZlcnN0ZXJraW5nIHRlIGhhbGVuLiBaaWogc2xhYWdkZW4gaW4gZGV6ZSBvcHpldCBlbiBicmFjaHRlbiBzdWNjZXN2b2wgZWVuIG9udHpldHRpbmdzbGVnZXIgb3AgZGUgYmVlbi4gQ2Flc2FyIGhhZCBlY2h0ZXIgYWFuIGFsbGUgbW9nZWxpamtlIHNjZW5hcmlvXFx1MjAxOXMgZ2VkYWNodCBlbiBoaWogaGFkIGJlc2xvdGVuIG9tIGVlbiBjb250cmF2YWxsYXRpZWxpbmllIHZhbiAyMSBraWxvbWV0ZXIgdGUgYm91d2VuIHJvbmQgZGUgY2lyY3VtdmFsbGF0aWVsaW5pZSwgd2FhcmRvb3IgZGUgUm9tZWluZW4gbGFuZ3MgdHdlZSB6aWpkZW4gdGVnZW4gZGUgR2FsbGlzY2hlIGFhbnZhbGxlbiBiZXNjaGVybWQgd2FyZW4uXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJFZW5tYWFsIGhldCBvbnR6ZXR0aW5nc2xlZ2VyIGJpaiBBbGVzaWEgd2FzIGFhbmdla29tZW4sIHdhcmVuIGhldCBlaWdlbmxpamsgZGUgUm9tZWluZW4gZGllIGJlbGVnZXJkIHdhcmVuIGFhbmdlemllbiB6ZSBpbmdlc2xvdGVuIHphdGVuIHR1c3NlbiB0d2VlIEdhbGxpc2NoZSBsZWdlcnMuIE9uZGVyIGxlaWRpbmcgdmFuIENvbW1pdXMgdmllbCBoZXQgb250emV0dGluZ3NsZWdlciBkZSBjb250cmF2YWxsYXRpZWxpbmllIGFhbi5cIiwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcImltZ1wiLCBcInNpZWdlLW9mLWFsZXhpYS1pbWdcIiwgbnVsbCwge1xuICAgIFwic3JjXCI6IFwiLi9pbWFnZXMvc2llZ2VPZkFsZXhpYS5qcGdcIlxuICB9KSwgXCJUZWdlbGlqa2VydGlqZCBsaWV0IFZlcmNpbmdldG9yaXggemlqbiB0cm9lcGVuIGRlIGNpcmN1bXZhbGxhdGllbGluaWUgYWFudmFsbGVuLiBEZSBlZXJzdGUgZGFnIGhpZWxkZW4gZGUgUm9tZWluZW4gZ29lZCBzdGFuZCB0ZWdlbiBkZSBhYW52YWxsZW4gdmFuIGRlIEdhbGxpXFx4RUJycywgbWFhciBkZSBkYWFyIG9wdm9sZ2VuZGUgZGFnZW4gZ2luZ2VuIGJlcmdhZi4gWmUgd2VyZGVuIGdlZHdvbmdlbiBvbSBmb3J0ZW4gZW4ga2FtcGVuIGluIGRlIGNvbnRyYXZhbGxhdGllbGluaWUgb3AgdGUgZ2V2ZW4sIG1hYXIgR2FpdXMgcmVib25pdXMga29uIG1ldCBkZSBjYXZhbGVyaWUgdm9vcmtvbWVuIGRhdCBkZSBHYWxsaVxceEVCcnMgaGllciBnZWJydWlrIHZhbiBrb25kZW4gbWFrZW4uIE5hIG1hYW5kZW5sYW5nIHZlY2h0ZW4gYmVzbG9vdCBkZSBuZWVmIHZhbiBWZXJjaW5nZXRvcml4LCBWZXJjYXNzaXZlbGxhdW5vcywgb20gbWV0IDYwLjAwMCBtYW5zY2hhcHBlbiBkZSBSb21laW5zZSBzdGVsbGluZ2VuIGFhbiB0ZSB2YWxsZW4uIEhpaiBrb29zIGRlIHBsZWsgd2FhciBkZSBzdGVsbGluZ2VuIGhldCB6d2Frc3Qgd2FyZW4sIG5hbWVsaWprIHdhYXIgZGUgbGluaWVzIG9wIGRlemVsZmRlIHBsZWsgZWVuIHJpdmllciBrcnVpc3Rlbi4gVmVyY2luZ2V0b3JpeCBsaWV0IHZhbiBiaW5uZW51aXQgb3AgZGV6ZWxmZGUgcGxhYXRzIGVlbiBhYW52YWwgdWl0dm9lcmVuLCBtYWFyIENhZXNhciBoYWQgem92ZWVsIHZlcnRyb3V3ZW4gaW4gemlqbiB0cm9lcGVuIGRhdCBoaWogaGV0IGJldmVsIGdhZiBvbSBkZSBzdGVsbGluZ2VuIHRlIGJlaG91ZGVuLiBDYWVzYXIgbmFtIGVlbiBncm90ZSBnb2sgZG9vciBtZXQgNi4wMDAgbWFuc2NoYXBwZW4gZWVuIGxlZ2VyIHZhbiA2MC4wMDAgbWFuc2NoYXBwZW4gYWFuIHRlIHZhbGxlbiwgbWFhciBoaWogb3ZlcmRvbmRlcmRlIGRlIEdhbGxpXFx4RUJycyB6byBoYXJkIGRhdCB6ZSB6aWNoIGdlbm9vZHphYWt0IHZvZWxkZW4gb20gemljaCB0ZXJ1ZyB0ZSB0cmVra2VuLlwiXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiSGllcm1lZSB3YXMgaGV0IGJlbGFuZ3JpamtzdGUgZW4gbWVlc3QgYmVzbGlzc2VuZGUgZ2V2ZWNodCBnZXN0cmVkZW4gd2Fhcm5hIGRlIHRyb2VwZW4gaW4gQWxlc2lhIHppY2ggb3ZlcmdhdmVuIGRvb3IgaG9uZ2Vyc25vb2QgZW4gZ2VicmVrIGFhbiBtYW5zY2hhcHBlbi4gUm9tZSB3YXMgZGUgZ3JvdGUgb3Zlcndpbm5hYXIgYmlqIGRlemUgc2xhZyBkaWUgZGUgYmFzaXMgdm9ybWRlIHZvb3IgaGV0IHZlcmRlciB2ZXJvdmVyZW4gdmFuIEdhbGxpXFx4RUIgZW4gQnJpdHRhbm5pXFx4RUIuIERlIEdhbGxpc2NoZSBzb2xkYXRlbiB3ZXJkZW4gYWxzIHNsYXZlbiBtZWVnZW5vbWVuIGVuIHZlcmtvY2h0LiBWZXJjaW5nZXRvcml4IHdlcmQgdGV2ZW5zIGdldmFuZ2VuZ2Vub21lbiwgbWFhciBuaWV0IHZlcmtvY2h0IGFhbmdlemllbiBkZSBSb21laW5lbiBoZW0gd2lsZGVuIGhvdWRlbiBhbHMgdHJvZmVlLiBOYSBlZW4gcGFhciBqYWFyIHdlcmQgaGlqIHJpdHVlZWwgZ2V3dXJnZCB0aWpkZW5zIGVlbiB0cmlvbWZ0b2NodC4gRGUgZWxlbWVudGVuIGRpZSBkZSBSb21laW5lbiBkZSBvdmVyd2lubmluZyBoZWJiZW4gYmV6b3JnZCB6aWpuIHZvb3JhbCBiZXJ1c3Qgb3AgZGUgZ2Vlc3QuIENhZXNhciBoZWVmdCBzdGVlZHMgZGUgbW9yZWVsIGJpaiB6aWpuIHRyb2VwZW4gaG9vZyB3ZXRlbiB0ZSBob3VkZW4gaG9ld2VsIHplIHNvbXMgbmVkZXJsYWdlbiBsZWRlbi4gRGl0IHpvcmdkZSBlcnZvb3IgZGF0IGRlIHN0cmlqZGx1c3QgYmlqIGRlIHNvbGRhdGVuIGFhbndlemlnIGJsZWVmIGVuIHplIHN0ZWVkcyB2b2VsZGVuIGRhdCB6ZSBkZSBib3ZlbmhhbmQgaGFkZGVuIGluIGhldCBnZXZlY2h0LiBDYWVzYXIgbmFtIGhldCBtb3JlZWwgdmFuIHppam4gdHJvZXBlbiB6ZWVyIHNlcmlldXMgZW4gZ2luZyB6ZWxmcyB6byB2ZXIgZGF0IGhpaiBtZXQgaGVuIG1lZXN0cmVlZC4gSGV0IG1vcmVlbCB2YW4gemlqbiB0cm9lcGVuIGxhZyBhYW4gZGUgYmFzaXMgdmFuIGRlIGxhYXRzdGUgYmVsYW5ncmlqa2Ugc2xhZyBhYW5nZXppZW4gemUgaGV0IGdldmVjaHQgb25kZXJiZW1hbmQgbW9lc3RlbiBhYW5nYWFuLCBtYWFyIHVpdGVpbmRlbGlqayBoZWJiZW4gemUgZGUgb3Zlcndpbm5pbmcgYmVoYWFsZC4gRWVuIHR3ZWVkZSBwdW50IHdhYXJkb29yIHplIGRlemUgc2xhZyBoZWJiZW4gZ2V3b25uZW4sIGlzIGhldCBnb2VkIGRvb3JkYWNodGUgYWFudmFsc3BsYW4gdmFuIENhZXNhci4gWm8gaGFkIGhpaiBkZSBjb250cmF2YWxsYXRpZWxpbmllIHZvb3J6aWVuIHZvb3IgZWVuIGV2ZW50dWVsZSBhYW52YWwuIFdhcyBkZXplIGxpbmllIGVyIG5pZXQgZ2V3ZWVzdCwgaGFkZGVuIGRlIEdhbGxpXFx4RUJycyBkZXplIHZlbGRzbGFnIGdlZ2FyYW5kZWVyZCBnZXdvbm5lbiBkb29yIGh1biBncm90ZSBhYW50YWxsZW4uIENhZXNhciB3YXMgb29rIGRlZ2VuZSBkaWUgZWVuIHZlcnJhc3NpbmdzYWFudmFsIGhlZWZ0IGt1bm5lbiBhZndlbmRlbiBkb29yIGRlIHZyb3V3ZW4gZW4ga2luZGVyZW4gbmlldCB1aXQgQWxlc2lhIHRlIGxhdGVuIHZlcnRyZWtrZW4uIERlIEdhbGxpXFx4RUJycyB3aWxkZW4gaGVuIG5hbWVsaWprIGFscyBhZmxlaWRpbmcgZ2VicnVpa2VuIG9tIG9uZGVydHVzc2VuIGVlbiB2ZXJzdGV2aWdpbmcgYWFuIHRlIHZhbGxlbiwgbWFhciBkb29yIENhZXNhciB6aWpuIGJlc2x1aXQgb20gZGUgdnJvdXdlbiBlbiBraW5kZXJlbiBuaWV0IGJ1aXRlbiB0ZSBsYXRlbiBpcyBkZSBhYW52YWwgbmlldCBrdW5uZW4gZG9vcmdhYW4uIEhldCBlbmlnZSBuZWdhdGlldmUgcHVudCBkYXQgZ2VvcHRpbWFsaXNlZXJkIGhhZCBrdW5uZW4gd29yZGVuIGlzIGRlIGJvdXcgdmFuIGRlIGxpbmllcyBiaWogZGUgcml2aWVyZW4gYWFuZ2V6aWVuIGRpdCBoZXQgendha2tlIHB1bnQgd2FzIHZhbiBoZXQga2FtcC4gRGV6ZSBzbGFnIGlzIGVlbiBnb2VkIHZvb3JiZWVsZCB2YW4gZGUgUm9tZWluc2UgZGlzY2lwbGluZSBlbiBzdHJpamRsdXN0IGFhbmdlemllbiB6ZSBnZWVuIGVua2VsZSBncm90ZSBmb3V0IGhlYmJlbiBiZWdhYW4gZGllIHRvdCBlZW4gZXZlbnR1ZWVsIHZlcmxpZXMgaGFkIGt1bm5lbiBsaWpkZW4uXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJEZSBzbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwicFwiLCBudWxsLCBcIkRlIHNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQgd2VyZCBnZXZvY2h0ZW4gdHVzc2VuIGRlIFJvbWVpbnNlIHRyb2VwZW4gdmFuIFZhcnVzIGVuIGRlIEdlcm1hYW5zZSB0cm9lcGVuIHZhbiBBcm1pbml1cy4gRGV6ZSBzbGFnIGxlaWRkZSBlZW4gemV2ZW5qYXJpZ2Ugb29ybG9nIGluLCBkaWUgdWl0ZWluZGVsaWprIHRvdCBnZXZvbGcgaGFkIGRhdCBkZSBSaWpuIHZvb3IgZWVuIHBlcmlvZGUgdmFuIDQwMCBqYWFyIHdlcmQgdmFzdGdlbGVnZCBhbHMgZ3JlbnMgdmFuIGhldCBSb21laW5zZSBSaWprLiBEZSBzbGFnIHZvbmQgcGxhYXRzIGluIDkgbi5DLiBuYWJpaiBLYWxrcmllc2UgZGF0IGluIER1aXRzbGFuZCBpcyBnZWxlZ2VuLiBEZSBzbGFnIHdhcyBlZW4gdmFuIGRlIGdyb290c3RlIG5lZGVybGFnZW4gdWl0IGRlIGdlc2NoaWVkZW5pcyB2YW4gaGV0IFJvbWVpbnNlIGxlZ2VyLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgW1wiRGUgUm9tZWluZW4gd2FyZW4gbmFtZWxpamsgaW4gZWVuIGxpc3QgZ2V0cmFwdCB2YW4gQXJtaW5pdXMsIGRlIGxlaWRlciB2YW4gZGUgR2VybWFhbnNlIHN0YW1tZW4uIEhpaiBsaWV0IGRvb3JnZXZlbiBkYXQgZXIgZWVuIG9wc3RhbmQgYWFuIGRlIGdhbmcgd2FzIHZhbiB2ZXJvdmVyZGUgR2VybWFhbnNlIHN0YW1tZW4uIEhpaiB3aWxkZSBkZSBSb21laW5lbiBuYW1lbGlqayBuYWFyIGVlbiB2b29yIGhlbiBvbmJla2VuZCBnZWJpZWQgbG9ra2VuIHpvZGF0IGRlIEdlcm1hbmVuIGVlbiBzdHJhdGVnaXNjaCB2b29yZGVlbCBoYWRkZW4uIERlIFJvbWVpbnNlIGFhbnZvZXJkZXIgVmFydXMgd2FzIG9wIGRhdCBtb21lbnQgbWV0IHppam4gbGVnZXIgb3Agd2VnIG5hYXIgaHVuIHdpbnRlcmthbXBlbiB2b29yIGRlIG9wa29tZW5kZSB3aW50ZXIuIEhpaiBnZWxvb2ZkZSBlY2h0ZXIgaGV0IG5lcGJlcmljaHQgdmFuIEFybWluaXVzIGVuIGhpaiB3ZWVrIHZhbiB6aWpuIHJvdXRlIGFmIGVuIGdpbmcgZG9vciBoZXQgVGV1dG9idXJnZXJ3b3VkIG5hYXIgZGUgem9nZXplZ2RlIG9wc3RhbmQuXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJiclwiKSwgXCJXYXQgaGlqIGVjaHRlciBuaWV0IHdpc3QsIHdhcyBkYXQgaGlqIG9wZ2V3YWNodCB3ZXJkIGRvb3IgZWVuIGdyb290IEdlcm1hYW5zIGxlZ2VyIGRhdCB6aWNoIGluIGhldCBib3MgaGFkIHZlcnN0b3B0IG9tIGVlbiB2ZXJyYXNzaW5nc2FhbnZhbCB1aXQgdGUgdm9lcmVuLiBIZXQgVGV1dG9idXJnZXJ3b3VkIHdhcyBvbmRvb3JkcmluZ2JhYXIsIG1pc3RpZyBlbiB2b2NodGlnLCBpZXRzIHdhdCBkZSBSb21laW5lbiBuaWV0IGdld2VuZCB3YXJlbiBhYW5nZXppZW4gemlqIGFsdGlqZCBvcCB2bGFra2UgZW4gb3BlbiBzbGFndmVsZGVuIHN0cmVkZW4uIERvb3IgaGV0IGdlYnJlayBhYW4gb3ZlcnppY2h0IGVuIGRlIHdpbGxla2V1ciB2YW4gZGUgR2VybWFuZW4gaGFkZGVuIGRlIFJvbWVpbmVuIHZhbmFmIGhldCBiZWdpbiBlZW4gbmFkZWVsLiBaZSBrb25kZW4gbmFtZWxpamsgaHVuIGdlYnJ1aWtlbGlqa2UgdGFjdGlla2VuIG5pZXQgdWl0dm9lcmVuIGRvb3IgaGV0IGdlYnJlayBhYW4gb3JnYW5pc2F0aWUgZW4gcnVpbXRlLiBUb2VuIG5hIGVlbiBwYWFyIGRhZ2VuIGRlIFJvbWVpbnNlIG9uZGVyZ2FuZyBvbmFmd2VuZGJhYXIgbGVlaywgcGxlZWdkZSBWYXJ1cyB6ZWxmbW9vcmQuIEhpZXJtZWUgd2FzIGhldCBsb3QgdmFuIHppam4gdHJvZXBlbiBvb2sgYmV6ZWdlbGQgYWFuZ2V6aWVuIHplIGdlZW4gbGVpZGVyIG1lZXIgaGFkZGVuLiBWYW4gZGUgMThcXHhBMDAwMCBtYW5zY2hhcHBlbiBzbGFhZ2RlbiBzbGVjaHRzIGVua2VsZW4gZXJpbiBhYW4gZGUgdmlqYW5kIHRlIG9udHNuYXBwZW4gZW4gZGUgUm9tZWluc2Ugd2ludGVya2FtcGVuIGFhbiBkZSBSaWpuIHRlIGJlcmVpa2VuLlwiXSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJkaXZcIiwgXCJ0ZXV0b2J1cmdlcndvdWQtaW1nXCIsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJzcGFuXCIsIFwidGV1dG9idXJnZXJ3b3VkLWltZy10eHRcIiwgXCJVaXR6aWNodCB2YW4gaGV0IFRldXRvYnVyZ2Vyd291ZCBnZWJhc2VlcmQgb3AgdGVrc3RlbiB2YW4gZGUgZWVyc3RlIGVldXcgbi5DLlwiKSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiRGV6ZSBzbGFnIGhhZCB0b3QgZ2V2b2xnIGRhdCBlciBlZW4gZWluZGUga3dhbSBhYW4gZGUgUm9tZWluc2UgZXhwYW5zaWUgaW4gTm9vcmQtRXVyb3BhLiBPb2sgaGFkIGtlaXplciBBdWd1c3R1cyBiZXNsb3RlbiBkYXQgdmFuYWYgdG9lbiBkZSBSaWpuIGRlIHZhc3RlIGdyZW5zIHpvdSB3b3JkZW4gdmFuIGhldCBJbXBlcml1bSBSb21hbnVtLlwiKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCBcInBcIiwgbnVsbCwgXCJJbiBkZXplIHNsYWcgaXMgaGVlbCB3YXQgbWlzZ2Vsb3Blbiwgdm9vcmFsIG9wIGhldCB2bGFrIHZhbiBsZWlkZXJzY2hhcC4gR29lZCBsZWlkZXJzY2hhcCB2b3JtdCBkZSBiYXNpcyB2b29yIGVsa2Ugc2xhZyBhbHMgamUga2FucyB3aWx0IG1ha2VuIG9wIGRlIG92ZXJ3aW5uaW5nLiBWYXJ1cyB3YXMgaW4gZ2VlbiBlbmtlbCBvcHppY2h0IGVlbiBnb2VkZSBsZWlkZXIgaW4gZGV6ZSBzbGFnLiBIaWogbmFtIGlycmF0aW9uZWxlIGJlc2xpc3NpbmdlbiBlbiBkYWNodCBuaWV0IG5hIG92ZXIgZGUgZ2V2b2xnZW4gaGllcnZhbi4gSGV0IGJlZ29uIHJlZWRzIGJpaiBoZXQgbmlldCBuYWdhYW4gdmFuIGRlIGluZm9ybWF0aWUgZGllIGhpaiBoYWQgdmVya3JlZ2VuLiBIaWogdmVydHJvdXdkZSBibGluZCBvcCBkZSB2ZXJrcmVnZW4gaW5mb3JtYXRpZSBlbiBzdGlwcGVsZGUgbWV0ZWVuIGVlbiByb3V0ZSB1aXQuIEhpaiBoYWQgZWlnZW5saWprIGVlcnN0IGRlIHNpdHVhdGllIG1vZXRlbiBiZWtpamtlbiBlbiBldmVudHVlZWwgcnVpdGVycyB2b29yb3AgbW9ldGVuIHN0dXJlbiBvbSBuYSB0ZSBnYWFuIG9mIGVyIHdlbCBkZWdlbGlqayBlZW4gb3BzdGFuZCB3YXMuIEhpZXJtZWUgaGFkIGhpaiBoZXQgY29uZmxpY3Qga3VubmVuIHZlcm1pamRlbiBhYW5nZXppZW4gZGUgcnVpdGVycyBkYW4gaGFkZGVuIGdlemllbiBkYXQgZXIgZ2VlbiBvcHN0YW5kIHdhcy4gWmlqbiB0d2VlZGUgZ3JvdGUgZm91dCB3YXMgb20gaGV0IGxlZ2VyIHdpamQgZ2VzcHJlaWQgdGUgbGF0ZW4gbG9wZW4gaW4gZWVuIGdlYmllZCBkYXQgaGlqIG5pZXQga2VuZGUuIEhldCBsZWdlciB3YXMgbmFtZWxpamsgYWFuIGhldCBtYXJjaGVyZW4gbWV0IGVlbiBhZnN0YW5kIHZhbiAxNSBraWxvbWV0ZXIgdHVzc2VuIGRlIGVlcnN0ZSBlbiBkZSBsYWF0c3RlIHNvbGRhdGVuLiBIaWVyZG9vciBrb25kZW4gZGUgR2VybWFuZW4gbWV0IGh1biBncm90ZXJlIGFhbnRhbGxlbiBkZSBrbGVpbmUgZ3JvZXBqZXMgUm9tZWluZW4gem9uZGVyIGVuaWcgcHJvYmxlZW0gYWFudmFsbGVuLiBIYWQgaGlqIHppam4gbGVnZXIgY29tcGFjdCBsYXRlbiBtYXJjaGVyZW4sIGhhZGRlbiBkZSBSb21laW5lbiBub2cgZWVuIGhhYWxiYXJlIGthbnMgZ2VoYWQgb3AgZGUgb3Zlcndpbm5pbmcgaW4gaGV0IGdldmVjaHQgYWFuZ2V6aWVuIGRlIGxhYXRzdGUgdHJvZXBlbiBkYW4gc25lbCBrb25kZW4gYmlqc3ByaW5nZW4gb20gZGUgZWVyc3RlIHRlIGhlbHBlbi4gVGlqZGVucyBoZXQgZ2V2ZWNodCB6ZWxmIG5hbSBoaWogYWxsZWVuIG1hYXIgc2xlY2h0ZSBiZXNsaXNzaW5nZW4uIEhpaiBoYWQgd2VsIHZlZWwgdGVnZW5zbGFnIG1ldCBoZXQgd2VlciB3YWFyZG9vciBkZSBzY2h1dHRlcnMgaHVuIGJvZ2VuIG5pZXQga29uZGVuIGdlYnJ1aWtlbiBlbiBkZSBob3V0ZW4gc2NoaWxkZW4gdGUgendhYXIgd2VyZGVuIG9tIHRlIGRyYWdlbiBkb29yIGhldCBnZXdpY2h0IHZhbiBoZXQgd2F0ZXIgZGF0IGluIGhldCBob3V0IHdhcyBvcGdlc2xvcnB0LiBIaWogZ2FmIGhldCBvcmRlciBvbSBkb29yIHRlIG1hcmNoZXJlbiBuYWFyIGVlbiBvcGVuIHBsZWssIG1hYXIgYWFuZ2V6aWVuIGhpaiBoZXQgYm9zIG5pZXQga2VuZGUgd2lzdCBoaWogbmlldCBkYXQgZXIgZ2VlbiBvcGVuIHBsZWtrZW4gaW4gaHVuIG5hYmlqaGVpZCB3YXJlbi4gRGl0IHdhcyBlZW4gZm91dCBvcmRlciBhYW5nZXppZW4gaGlqIGRlIG9tZ2V2aW5nIG5pZXQga2VuZGUgZW4gZHVzIG9vayBuaWV0IHdpc3Qgd2FhciBlciB6aWNoIG5vZyBHZXJtYW5lbiBiZXZvbmRlbi4gSGlqIGhhZCB6aWpuIHBvc2l0aWUgbW9ldGVuIHZlcmRlZGlnZW4gb20gem8gZWVuIGJhc2lzIHByb2JlcmVuIG9wIHRlIHJpY2h0ZW4gYWFuZ2V6aWVuIGhldCBsZWdlciBoZXQga3dldHNiYWFyc3QgaXMgd2FubmVlciB6ZSB6aWNoIGFhbiBoZXQgdmVycGxhYXRzZW4gemlqbi4gVmFydXMgZ2FmIG9vayBnZWVuIHN0ZXVuIGFhbiB6aWpuIG1hbnNjaGFwcGVuIHdhYXJkb29yIGRlIHN0cmlqZGx1c3Qgd2VnIGdpbmcgZW4gdmVsZW4gaGV0IG51dCB2YW4gZGUgc3RyaWpkIG5pZXQgbWVlciB6YWdlbi4gRGUgTGVnYXR1cywgTnVtb25pdXMgVmFsYSwgdmFuIGVlbiB2YW4gemlqbiBkcmllIGxlZ2lvZW5lbiB3YXMgZWVuIHZhbiBkaWUgcGVyc29uZW4gZGllIGhldCBsZWlkZXJzY2hhcCB2YW4gVmFydXMgaW4gdHdpamZlbCB0cm9rIGVuIGRlIHZlcnp3YWt0ZSBtb3JlZWwgYWFudm9lbGRlLiBIaWogd2FzIGRhbiBvb2sgZGVnZW5lIGRpZSBzYW1lbiBtZXQgZGUgcnVpdGVycyB2bHVjaHR0ZSBlbiB6byBkZSB0cm9lcGVuIGluIGRlIHN0ZWVrIGxpZXQuIE1hYXIgdmVyIGt3YW0gaGlqIG5pZXQgYWFuZ2V6aWVuIGhpaiBpbiBoZXQgYm9zIHplbGYgbm9nIHdlcmQgYWZnZW1hYWt0IGRvb3IgZGUgcnVpdGVycyB2YW4gZGUgR2VybWFuZW4uIFpvbmRlciBkZSBzdGV1biB2YW4gZGUgcnVpdGVycyB3YXMgaGV0IGxlZ2VyIHZlcnp3YWt0IGVuIGR1cyBncmVwZW4gZGUgR2VybWFuZW4gaHVuIGthbnMuIFplIGJlZ29ubmVuIGJpam5hIGllZGVyZWVuIGdlbmFkZWxvb3MgYWYgdGUgc2xhY2h0ZW4uIFZhcnVzIHphZyBvcCBkYXQgb2dlbmJsaWsgaW4gZGF0IGhpaiB6d2FhciBoYWQgZ2VmYWFsZCBlbiBwbGVlZ2RlIGRhYXJvbSB6ZWxmbW9vcmQuXCIpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsIFwiaDNcIiwgbnVsbCwgXCJWZXJnZWxpamtpbmdcIiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgXCJwXCIsIG51bGwsIFwiSGV0IGlzIHplZXIgbW9laWxpamsgb20gaGV0IGh1aWRpZ2UgbGVnZXIgdGUgdmVyZ2VsaWprZW4gbWV0IGhldCBSb21laW5zZSBsZWdlciBhYW5nZXppZW4gZXIgemljaCBlZW4gemVlciBncm90ZSBvbnR3aWtrZWxpbmcgaGVlZnQgcGxhYXRzZ2V2b25kZW4gb3AgaGV0IGdlYmllZCB2YW4gd2V0ZW5zY2hhcHBlbiBlbiB0ZWNobm9sb2dpZS4gVnJvZWdlciBzdHJlZWQgbWVuIG1ldCBlZW4gendhYXJkIGVuIGVlbiBzY2hpbGQgZW4gaGFkIGplIGFscyBzdGV1biBlbmtlbCBydWl0ZXJzLiBOdSB3b3JkdCBlciBnZXN0cmVkZW4gdmFub3AgZWVuIHplZXIgZ3JvdGUgYWZzdGFuZCBhYW5nZXppZW4gbWVuIG1hY2hpbmVnZXdlcmVuLCBwaXN0b2xlbiwgbGFuZ2VhZnN0YW5kc3Jha2tldHRlbixcXHUyMDI2IGdlYnJ1aWt0LiBFciB6aWpuIG51IG9vayB2ZWVsIG5pZXV3ZSBvbmRlcnN0ZXVuaW5nc21vZ2VsaWpraGVkZW4gem9hbHMgdGFua3MsIHNjaGVwZW4gZW4gdmxpZWd0dWlnZW4gd2FhcmRvb3IgZXIgZWVuIGhlbGVib2VsIG5pZXV3ZSB0YWN0aWVrZW4gbW9nZWxpamsgemlqbi4gRG9vciBhbCBkZXplIHZlcmFuZGVyaW5nZW4gaGVlZnQgbWVuIGRlIHRhY3RpZWtlbiBkaWUgbWVuIGdlYnJ1aWt0IG9vayBtb2V0ZW4gdmVyYW5kZXJlbi4gVnJvZWdlciBrb24gbWVuIGluIGVlbiBtYW4gb3AgbWFuIGdldmVjaHQgdGFjdGlla2VuIGdlYnJ1aWtlbiBkaWUgemVlciBlZmZlY3RpZWYgd2FyZW4gb3Aga29ydGUgYWZzdGFuZCBlbiBlZW4ga2xlaW4gc2xhZ3ZlbGQuIEFscyBtZW4gZGV6ZSB0ZWdlbndvb3JkaWcgem91IHVpdHZvZXJlbiwgem91ZGVuIGRlIHNvbGRhdGVuIHRlciBwbGFhdHNlIHdvcmRlbiBhZmdlbWFha3QuIERlIGhvZXZlZWxoZWlkIHNvbGRhdGVuIGRpZSBkYWFkd2Vya2VsaWprIHZlY2h0ZW4gaXMgb29rIHN0ZXJrIGFmZ2Vub21lbiBpbiB2ZXJnZWxpamtpbmcgbWV0IGhldCBSb21laW5zZSBsZWdlci4gVnJvZWdlciBzdHJlZWQgbWVuIG1ldCBsZWdlcnMgdmFuIHplZXIgZ3JvdGUgYWFudGFsbGVuLiBEZXplIGFhbnRhbGxlbiBrdW5uZW4gd2Ugb25zIHRlZ2Vud29vcmRpZyBuaWV0IG1lZXIgdm9vcnN0ZWxsZW4uIEVyIGdlYmV1cnQgbnUgdmVlbCBtZWVyIGFjaHRlciBkZSBzY2hlcm1lbiBvbSBkZSBzb2xkYXRlbiBkaWUgbW9ldGVuIHZlY2h0ZW4gdGUgaGVscGVuLiBabyB3b3JkdCBlciB2aWEgc2F0ZWxsaWV0ZW4gb2YgZHJvbmVzIGluZm9ybWF0aWUgdmVyemFtZWxkIG92ZXIgZGUgb21nZXZpbmcgd2FhcmluIGRlIHNvbGRhdGVuIHppY2ggYmV2aW5kZW4gZW4gZXZlbnR1ZWVsIHdhYXIgaHVuIHZpamFuZGVuIHNjaHVpbGVuLiBFZW4gc29sZGFhdCBoZWVmdCBudSBvb2sgZGUgbW9nZWxpamtoZWlkIG9tLCBtaXRzIGRlIGdvZWRrZXVyaW5nIHZhbiB6aWpuIGFhbnZvZXJkZXIsIGVlbiBsdWNodGFhbnZhbCBpbiB0ZSByb2VwZW4uIERlIGh1aWRpZ2UgdGFjdGlla2VuIGRyYWFpZW4gb29rIG5pZXQgbWVlciBhbGxlZW4gbWFhciByb25kIGhldCBtaWxpdGFpcmUgYXNwZWN0LCBtYWFyIG9vayByb25kIG9uZGVyIGFuZGVyZSBoZXQgZWNvbm9taXNjaGUuIEFscyBtZW4gemlqbiB2aWphbmQgZWNvbm9taXNjaCBrYW4gdmVyendha2tlbiB6YWwgZGV6ZSBvb2sgbWluZGVyIHdlZXJiYWFyIHppam4uXCIpXSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX2ludmFyaWFudCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX0xvY2F0aW9uVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMzKTtcblxudmFyIF9QYXRoVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxudmFyIF9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xuXG52YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKTtcblxudmFyIF9ET01VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgUG9wU3RhdGVFdmVudCA9ICdwb3BzdGF0ZSc7XG52YXIgSGFzaENoYW5nZUV2ZW50ID0gJ2hhc2hjaGFuZ2UnO1xuXG52YXIgZ2V0SGlzdG9yeVN0YXRlID0gZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCB7fTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElFIDExIHNvbWV0aW1lcyB0aHJvd3Mgd2hlbiBhY2Nlc3Npbmcgd2luZG93Lmhpc3Rvcnkuc3RhdGVcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0VHJhaW5pbmcvaGlzdG9yeS9wdWxsLzI4OVxuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpbmNsdWRpbmdcbiAqIHB1c2hTdGF0ZSwgcmVwbGFjZVN0YXRlLCBhbmQgdGhlIHBvcHN0YXRlIGV2ZW50LlxuICovXG52YXIgY3JlYXRlQnJvd3Nlckhpc3RvcnkgPSBmdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeSgpIHtcbiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAoMCwgX2ludmFyaWFudDIuZGVmYXVsdCkoX0RPTVV0aWxzLmNhblVzZURPTSwgJ0Jyb3dzZXIgaGlzdG9yeSBuZWVkcyBhIERPTScpO1xuXG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Vc2VIaXN0b3J5ID0gKDAsIF9ET01VdGlscy5zdXBwb3J0c0hpc3RvcnkpKCk7XG4gIHZhciBuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lciA9ICEoMCwgX0RPTVV0aWxzLnN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UpKCk7XG5cbiAgdmFyIF9wcm9wcyRmb3JjZVJlZnJlc2ggPSBwcm9wcy5mb3JjZVJlZnJlc2gsXG4gICAgICBmb3JjZVJlZnJlc2ggPSBfcHJvcHMkZm9yY2VSZWZyZXNoID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9wcm9wcyRmb3JjZVJlZnJlc2gsXG4gICAgICBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPSBwcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdW5kZWZpbmVkID8gX0RPTVV0aWxzLmdldENvbmZpcm1hdGlvbiA6IF9wcm9wcyRnZXRVc2VyQ29uZmlybSxcbiAgICAgIF9wcm9wcyRrZXlMZW5ndGggPSBwcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB1bmRlZmluZWQgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcblxuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/ICgwLCBfUGF0aFV0aWxzLnN0cmlwVHJhaWxpbmdTbGFzaCkoKDAsIF9QYXRoVXRpbHMuYWRkTGVhZGluZ1NsYXNoKShwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG5cbiAgdmFyIGdldERPTUxvY2F0aW9uID0gZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgdmFyIF9yZWYgPSBoaXN0b3J5U3RhdGUgfHwge30sXG4gICAgICAgIGtleSA9IF9yZWYua2V5LFxuICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7XG5cbiAgICB2YXIgX3dpbmRvdyRsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgICAgcGF0aG5hbWUgPSBfd2luZG93JGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2ggPSBfd2luZG93JGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzaCA9IF93aW5kb3ckbG9jYXRpb24uaGFzaDtcblxuXG4gICAgdmFyIHBhdGggPSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG5cbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSAoMCwgX1BhdGhVdGlscy5zdHJpcFByZWZpeCkocGF0aCwgYmFzZW5hbWUpO1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCAoMCwgX1BhdGhVdGlscy5wYXJzZVBhdGgpKHBhdGgpLCB7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBrZXk6IGtleVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjcmVhdGVLZXkgPSBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9O1xuXG4gIHZhciB0cmFuc2l0aW9uTWFuYWdlciA9ICgwLCBfY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIyLmRlZmF1bHQpKCk7XG5cbiAgdmFyIHNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUobmV4dFN0YXRlKSB7XG4gICAgX2V4dGVuZHMoaGlzdG9yeSwgbmV4dFN0YXRlKTtcblxuICAgIGhpc3RvcnkubGVuZ3RoID0gZ2xvYmFsSGlzdG9yeS5sZW5ndGg7XG5cbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9O1xuXG4gIHZhciBoYW5kbGVQb3BTdGF0ZSA9IGZ1bmN0aW9uIGhhbmRsZVBvcFN0YXRlKGV2ZW50KSB7XG4gICAgLy8gSWdub3JlIGV4dHJhbmVvdXMgcG9wc3RhdGUgZXZlbnRzIGluIFdlYktpdC5cbiAgICBpZiAoKDAsIF9ET01VdGlscy5pc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KShldmVudCkpIHJldHVybjtcblxuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihldmVudC5zdGF0ZSkpO1xuICB9O1xuXG4gIHZhciBoYW5kbGVIYXNoQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpKTtcbiAgfTtcblxuICB2YXIgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG5cbiAgdmFyIGhhbmRsZVBvcCA9IGZ1bmN0aW9uIGhhbmRsZVBvcChsb2NhdGlvbikge1xuICAgIGlmIChmb3JjZU5leHRQb3ApIHtcbiAgICAgIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICAgICAgc2V0U3RhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuXG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZXZlcnRQb3AgPSBmdW5jdGlvbiByZXZlcnRQb3AoZnJvbUxvY2F0aW9uKSB7XG4gICAgdmFyIHRvTG9jYXRpb24gPSBoaXN0b3J5LmxvY2F0aW9uO1xuXG4gICAgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBrZXlzIHdlJ3ZlIHNlZW4gaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgLy8gSW5zdGVhZCwgd2UganVzdCBkZWZhdWx0IHRvIDAgZm9yIGtleXMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsS2V5cy5pbmRleE9mKHRvTG9jYXRpb24ua2V5KTtcblxuICAgIGlmICh0b0luZGV4ID09PSAtMSkgdG9JbmRleCA9IDA7XG5cbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGZyb21Mb2NhdGlvbi5rZXkpO1xuXG4gICAgaWYgKGZyb21JbmRleCA9PT0gLTEpIGZyb21JbmRleCA9IDA7XG5cbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpO1xuICB2YXIgYWxsS2V5cyA9IFtpbml0aWFsTG9jYXRpb24ua2V5XTtcblxuICAvLyBQdWJsaWMgaW50ZXJmYWNlXG5cbiAgdmFyIGNyZWF0ZUhyZWYgPSBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2VuYW1lICsgKDAsIF9QYXRoVXRpbHMuY3JlYXRlUGF0aCkobG9jYXRpb24pO1xuICB9O1xuXG4gIHZhciBwdXNoID0gZnVuY3Rpb24gcHVzaChwYXRoLCBzdGF0ZSkge1xuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcHVzaCB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gKDAsIF9Mb2NhdGlvblV0aWxzLmNyZWF0ZUxvY2F0aW9uKShwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcbiAgICAgICAgICB2YXIgbmV4dEtleXMgPSBhbGxLZXlzLnNsaWNlKDAsIHByZXZJbmRleCA9PT0gLTEgPyAwIDogcHJldkluZGV4ICsgMSk7XG5cbiAgICAgICAgICBuZXh0S2V5cy5wdXNoKGxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgYWxsS2V5cyA9IG5leHRLZXlzO1xuXG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKHN0YXRlID09PSB1bmRlZmluZWQsICdCcm93c2VyIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGUgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBIVE1MNSBoaXN0b3J5Jyk7XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoISgodHlwZW9mIHBhdGggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHBhdGgpKSA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKTtcblxuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gKDAsIF9Mb2NhdGlvblV0aWxzLmNyZWF0ZUxvY2F0aW9uKShwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcblxuICAgICAgdmFyIGhyZWYgPSBjcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXksXG4gICAgICAgICAgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcblxuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IGtleToga2V5LCBzdGF0ZTogc3RhdGUgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuXG4gICAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbEtleXNbcHJldkluZGV4XSA9IGxvY2F0aW9uLmtleTtcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBnbyA9IGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9O1xuXG4gIHZhciBnb0JhY2sgPSBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgcmV0dXJuIGdvKC0xKTtcbiAgfTtcblxuICB2YXIgZ29Gb3J3YXJkID0gZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIHJldHVybiBnbygxKTtcbiAgfTtcblxuICB2YXIgbGlzdGVuZXJDb3VudCA9IDA7XG5cbiAgdmFyIGNoZWNrRE9NTGlzdGVuZXJzID0gZnVuY3Rpb24gY2hlY2tET01MaXN0ZW5lcnMoZGVsdGEpIHtcbiAgICBsaXN0ZW5lckNvdW50ICs9IGRlbHRhO1xuXG4gICAgaWYgKGxpc3RlbmVyQ291bnQgPT09IDEpIHtcbiAgICAgICgwLCBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcikod2luZG93LCBQb3BTdGF0ZUV2ZW50LCBoYW5kbGVQb3BTdGF0ZSk7XG5cbiAgICAgIGlmIChuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lcikgKDAsIF9ET01VdGlscy5hZGRFdmVudExpc3RlbmVyKSh3aW5kb3csIEhhc2hDaGFuZ2VFdmVudCwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICAoMCwgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIpKHdpbmRvdywgUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpICgwLCBfRE9NVXRpbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcikod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaXNCbG9ja2VkID0gZmFsc2U7XG5cbiAgdmFyIGJsb2NrID0gZnVuY3Rpb24gYmxvY2soKSB7XG4gICAgdmFyIHByb21wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7XG5cbiAgICB2YXIgdW5ibG9jayA9IHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuXG4gICAgaWYgKCFpc0Jsb2NrZWQpIHtcbiAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgICAgaXNCbG9ja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzQmxvY2tlZCkge1xuICAgICAgICBpc0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5ibG9jaygpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuXG4gIHJldHVybiBoaXN0b3J5O1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlQnJvd3Nlckhpc3Rvcnk7XG5cbi8qKiovIH0pLFxuLyogMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuLyoqKi8gfSksXG4vKiAzMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2luZmVybm8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX2luZmVybm8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5mZXJubyk7XG5cbnZhciBfaW5mZXJub1JvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXG52YXIgX2NyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSk7XG5cbnZhciBfY3JlYXRlQnJvd3Nlckhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQnJvd3Nlckhpc3RvcnkpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblxudmFyIF9pbmxlaWRpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxudmFyIF9vbmRlcnZlcmRlbGluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG52YXIgX2Jld2FwZW5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblxudmFyIF92ZWxkc2xhZ2VuID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cbnZhciBfYmVzbHVpdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXG52YXIgX2Jyb25uZW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGJyb3dzZXJIaXN0b3J5ID0gKDAsIF9jcmVhdGVCcm93c2VySGlzdG9yeTIuZGVmYXVsdCkoKTtcblxuZnVuY3Rpb24gQXBwKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcblxuICByZXR1cm4gKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnZGl2JywgJ3BhZ2UnLCBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnaGVhZGVyJywgbnVsbCwgWygwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2gxJywgbnVsbCwgJ0hldCBSb21laW5zZSBMZWdlcicpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICduYXYnLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICd1bCcsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdsaScsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLkluZGV4TGluaywgbnVsbCwgbnVsbCwge1xuICAgICdhY3RpdmVDbGFzc05hbWUnOiAnbGlua0FjdGl2ZUNsYXNzJyxcbiAgICBjaGlsZHJlbjogJ0lubGVpZGluZydcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdsaScsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLkxpbmssIG51bGwsIG51bGwsIHtcbiAgICAndG8nOiAnL29uZGVydmVyZGVsaW5nJyxcbiAgICAnYWN0aXZlQ2xhc3NOYW1lJzogJ2xpbmtBY3RpdmVDbGFzcycsXG4gICAgY2hpbGRyZW46ICdvbmRlcnZlcmRlbGluZydcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdsaScsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLkxpbmssIG51bGwsIG51bGwsIHtcbiAgICAndG8nOiAnL2Jld2FwZW5pbmcnLFxuICAgICdhY3RpdmVDbGFzc05hbWUnOiAnbGlua0FjdGl2ZUNsYXNzJyxcbiAgICBjaGlsZHJlbjogJ2Jld2FwZW5pbmcnXG4gIH0pKSwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgyLCAnbGknLCBudWxsLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDE2LCBfaW5mZXJub1JvdXRlci5MaW5rLCBudWxsLCBudWxsLCB7XG4gICAgJ3RvJzogJy92ZWxkc2xhZ2VuJyxcbiAgICAnYWN0aXZlQ2xhc3NOYW1lJzogJ2xpbmtBY3RpdmVDbGFzcycsXG4gICAgY2hpbGRyZW46ICd2ZWxkc2xhZ2VuJ1xuICB9KSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2xpJywgbnVsbCwgKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuTGluaywgbnVsbCwgbnVsbCwge1xuICAgICd0byc6ICcvYmVzbHVpdCcsXG4gICAgJ2FjdGl2ZUNsYXNzTmFtZSc6ICdsaW5rQWN0aXZlQ2xhc3MnLFxuICAgIGNoaWxkcmVuOiAnYmVzbHVpdCdcbiAgfSkpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdsaScsIG51bGwsICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLkxpbmssIG51bGwsIG51bGwsIHtcbiAgICAndG8nOiAnL2Jyb25uZW4nLFxuICAgICdhY3RpdmVDbGFzc05hbWUnOiAnbGlua0FjdGl2ZUNsYXNzJyxcbiAgICBjaGlsZHJlbjogJ2Jyb25uZW4nXG4gIH0pKV0pKV0pLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdzZWN0aW9uJywgJ2NvbnRlbnQnLCBjaGlsZHJlbiksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2Zvb3RlcicsIG51bGwsIFsoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdzcGFuJywgbnVsbCwgJ21laSAyMDE3JyksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ3NwYW4nLCBudWxsLCAnS29zaCA2TFdpYicpLCAoMCwgX2luZmVybm8uY3JlYXRlVk5vZGUpKDIsICdzcGFuJywgbnVsbCwgJ0FxdWlsYSBaaWVkaW5zICg2KSwgVG9iaWFzIEFsZXhhbmRlciAoMSknKV0pXSk7XG59XG5cbmZ1bmN0aW9uIE5vTWF0Y2goX3JlZjIpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZjIuY2hpbGRyZW47XG5cbiAgcmV0dXJuICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMiwgJ2RpdicsIG51bGwsICdIaWVyIGJlbnQgdSB1aXQgaGV0IFJvbWVpbnNlIHJpamsnKTtcbn1cblxudmFyIHJvdXRlcyA9ICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlciwgbnVsbCwgbnVsbCwge1xuICAnaGlzdG9yeSc6IGJyb3dzZXJIaXN0b3J5LFxuICBjaGlsZHJlbjogKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuUm91dGUsIG51bGwsIG51bGwsIHtcbiAgICAnY29tcG9uZW50JzogQXBwLFxuICAgIGNoaWxkcmVuOiBbKDAsIF9pbmZlcm5vLmNyZWF0ZVZOb2RlKSgxNiwgX2luZmVybm9Sb3V0ZXIuSW5kZXhSb3V0ZSwgbnVsbCwgbnVsbCwge1xuICAgICAgJ2NvbXBvbmVudCc6IF9pbmxlaWRpbmcuSW5sZWlkaW5nXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICdvbmRlcnZlcmRlbGluZycsXG4gICAgICAnY29tcG9uZW50JzogX29uZGVydmVyZGVsaW5nLk9uZGVydmVyZGVsaW5nXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICdiZXdhcGVuaW5nJyxcbiAgICAgICdjb21wb25lbnQnOiBfYmV3YXBlbmluZy5CZXdhcGVuaW5nXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICd2ZWxkc2xhZ2VuJyxcbiAgICAgICdjb21wb25lbnQnOiBfdmVsZHNsYWdlbi5WZWxkc2xhZ2VuXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICdiZXNsdWl0JyxcbiAgICAgICdjb21wb25lbnQnOiBfYmVzbHVpdC5CZXNsdWl0XG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICdicm9ubmVuJyxcbiAgICAgICdjb21wb25lbnQnOiBfYnJvbm5lbi5Ccm9ubmVuXG4gICAgfSksICgwLCBfaW5mZXJuby5jcmVhdGVWTm9kZSkoMTYsIF9pbmZlcm5vUm91dGVyLlJvdXRlLCBudWxsLCBudWxsLCB7XG4gICAgICAncGF0aCc6ICcqJyxcbiAgICAgICdjb21wb25lbnQnOiBOb01hdGNoXG4gICAgfSldXG4gIH0pXG59KTtcblxuX2luZmVybm8yLmRlZmF1bHQucmVuZGVyKHJvdXRlcywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKTtcblxuLyoqKi8gfSksXG4vKiAzMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIGNhblVzZURPTSA9IGV4cG9ydHMuY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxudmFyIGFkZEV2ZW50TGlzdGVuZXIgPSBleHBvcnRzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICByZXR1cm4gbm9kZS5hZGRFdmVudExpc3RlbmVyID8gbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpIDogbm9kZS5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbn07XG5cbnZhciByZW1vdmVFdmVudExpc3RlbmVyID0gZXhwb3J0cy5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA/IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKSA6IG5vZGUuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG59O1xuXG52YXIgZ2V0Q29uZmlybWF0aW9uID0gZXhwb3J0cy5nZXRDb25maXJtYXRpb24gPSBmdW5jdGlvbiBnZXRDb25maXJtYXRpb24obWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTtcbn07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYWxlcnRcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGlzIHN1cHBvcnRlZC4gVGFrZW4gZnJvbSBNb2Rlcm5penIuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2hpc3RvcnkuanNcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmVhY3Qtcm91dGVyL2lzc3Vlcy81ODZcbiAqL1xudmFyIHN1cHBvcnRzSGlzdG9yeSA9IGV4cG9ydHMuc3VwcG9ydHNIaXN0b3J5ID0gZnVuY3Rpb24gc3VwcG9ydHNIaXN0b3J5KCkge1xuICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICBpZiAoKHVhLmluZGV4T2YoJ0FuZHJvaWQgMi4nKSAhPT0gLTEgfHwgdWEuaW5kZXhPZignQW5kcm9pZCA0LjAnKSAhPT0gLTEpICYmIHVhLmluZGV4T2YoJ01vYmlsZSBTYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignQ2hyb21lJykgPT09IC0xICYmIHVhLmluZGV4T2YoJ1dpbmRvd3MgUGhvbmUnKSA9PT0gLTEpIHJldHVybiBmYWxzZTtcblxuICByZXR1cm4gd2luZG93Lmhpc3RvcnkgJiYgJ3B1c2hTdGF0ZScgaW4gd2luZG93Lmhpc3Rvcnk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBicm93c2VyIGZpcmVzIHBvcHN0YXRlIG9uIGhhc2ggY2hhbmdlLlxuICogSUUxMCBhbmQgSUUxMSBkbyBub3QuXG4gKi9cbnZhciBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlID0gZXhwb3J0cy5zdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlID0gZnVuY3Rpb24gc3VwcG9ydHNQb3BTdGF0ZU9uSGFzaENoYW5nZSgpIHtcbiAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1RyaWRlbnQnKSA9PT0gLTE7XG59O1xuXG4vKipcbiAqIFJldHVybnMgZmFsc2UgaWYgdXNpbmcgZ28obikgd2l0aCBoYXNoIGhpc3RvcnkgY2F1c2VzIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAqL1xudmFyIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoID0gZXhwb3J0cy5zdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IGZ1bmN0aW9uIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZ2l2ZW4gcG9wc3RhdGUgZXZlbnQgaXMgYW4gZXh0cmFuZW91cyBXZWJLaXQgZXZlbnQuXG4gKiBBY2NvdW50cyBmb3IgdGhlIGZhY3QgdGhhdCBDaHJvbWUgb24gaU9TIGZpcmVzIHJlYWwgcG9wc3RhdGUgZXZlbnRzXG4gKiBjb250YWluaW5nIHVuZGVmaW5lZCBzdGF0ZSB3aGVuIHByZXNzaW5nIHRoZSBiYWNrIGJ1dHRvbi5cbiAqL1xudmFyIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQgPSBleHBvcnRzLmlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQgPSBmdW5jdGlvbiBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5zdGF0ZSA9PT0gdW5kZWZpbmVkICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ3JpT1MnKSA9PT0gLTE7XG59O1xuXG4vKioqLyB9KSxcbi8qIDMzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmxvY2F0aW9uc0FyZUVxdWFsID0gZXhwb3J0cy5jcmVhdGVMb2NhdGlvbiA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZXNvbHZlUGF0aG5hbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTtcblxudmFyIF9yZXNvbHZlUGF0aG5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzb2x2ZVBhdGhuYW1lKTtcblxudmFyIF92YWx1ZUVxdWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cbnZhciBfdmFsdWVFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YWx1ZUVxdWFsKTtcblxudmFyIF9QYXRoVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGNyZWF0ZUxvY2F0aW9uID0gZXhwb3J0cy5jcmVhdGVMb2NhdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBrZXksIGN1cnJlbnRMb2NhdGlvbikge1xuICB2YXIgbG9jYXRpb24gPSB2b2lkIDA7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBUd28tYXJnIGZvcm06IHB1c2gocGF0aCwgc3RhdGUpXG4gICAgbG9jYXRpb24gPSAoMCwgX1BhdGhVdGlscy5wYXJzZVBhdGgpKHBhdGgpO1xuICAgIGxvY2F0aW9uLnN0YXRlID0gc3RhdGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gT25lLWFyZyBmb3JtOiBwdXNoKGxvY2F0aW9uKVxuICAgIGxvY2F0aW9uID0gX2V4dGVuZHMoe30sIHBhdGgpO1xuXG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9ICgwLCBfcmVzb2x2ZVBhdGhuYW1lMi5kZWZhdWx0KShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbG9jYXRpb247XG59O1xuXG52YXIgbG9jYXRpb25zQXJlRXF1YWwgPSBleHBvcnRzLmxvY2F0aW9uc0FyZUVxdWFsID0gZnVuY3Rpb24gbG9jYXRpb25zQXJlRXF1YWwoYSwgYikge1xuICByZXR1cm4gYS5wYXRobmFtZSA9PT0gYi5wYXRobmFtZSAmJiBhLnNlYXJjaCA9PT0gYi5zZWFyY2ggJiYgYS5oYXNoID09PSBiLmhhc2ggJiYgYS5rZXkgPT09IGIua2V5ICYmICgwLCBfdmFsdWVFcXVhbDIuZGVmYXVsdCkoYS5zdGF0ZSwgYi5zdGF0ZSk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDM0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlciA9IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCkge1xuICB2YXIgcHJvbXB0ID0gbnVsbDtcblxuICB2YXIgc2V0UHJvbXB0ID0gZnVuY3Rpb24gc2V0UHJvbXB0KG5leHRQcm9tcHQpIHtcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKHByb21wdCA9PSBudWxsLCAnQSBoaXN0b3J5IHN1cHBvcnRzIG9ubHkgb25lIHByb21wdCBhdCBhIHRpbWUnKTtcblxuICAgIHByb21wdCA9IG5leHRQcm9tcHQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHByb21wdCA9PT0gbmV4dFByb21wdCkgcHJvbXB0ID0gbnVsbDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjb25maXJtVHJhbnNpdGlvblRvID0gZnVuY3Rpb24gY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBjYWxsYmFjaykge1xuICAgIC8vIFRPRE86IElmIGFub3RoZXIgdHJhbnNpdGlvbiBzdGFydHMgd2hpbGUgd2UncmUgc3RpbGwgY29uZmlybWluZ1xuICAgIC8vIHRoZSBwcmV2aW91cyBvbmUsIHdlIG1heSBlbmQgdXAgaW4gYSB3ZWlyZCBzdGF0ZS4gRmlndXJlIG91dCB0aGVcbiAgICAvLyBiZXN0IHdheSB0byBoYW5kbGUgdGhpcy5cbiAgICBpZiAocHJvbXB0ICE9IG51bGwpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0eXBlb2YgcHJvbXB0ID09PSAnZnVuY3Rpb24nID8gcHJvbXB0KGxvY2F0aW9uLCBhY3Rpb24pIDogcHJvbXB0O1xuXG4gICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBnZXRVc2VyQ29uZmlybWF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihyZXN1bHQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKGZhbHNlLCAnQSBoaXN0b3J5IG5lZWRzIGEgZ2V0VXNlckNvbmZpcm1hdGlvbiBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgYSBwcm9tcHQgbWVzc2FnZScpO1xuXG4gICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFJldHVybiBmYWxzZSBmcm9tIGEgdHJhbnNpdGlvbiBob29rIHRvIGNhbmNlbCB0aGUgdHJhbnNpdGlvbi5cbiAgICAgICAgY2FsbGJhY2socmVzdWx0ICE9PSBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgdmFyIGFwcGVuZExpc3RlbmVyID0gZnVuY3Rpb24gYXBwZW5kTGlzdGVuZXIoZm4pIHtcbiAgICB2YXIgaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBpZiAoaXNBY3RpdmUpIGZuLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzQWN0aXZlID0gZmFsc2U7XG4gICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBsaXN0ZW5lcjtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIG5vdGlmeUxpc3RlbmVycyA9IGZ1bmN0aW9uIG5vdGlmeUxpc3RlbmVycygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc2V0UHJvbXB0OiBzZXRQcm9tcHQsXG4gICAgY29uZmlybVRyYW5zaXRpb25UbzogY29uZmlybVRyYW5zaXRpb25UbyxcbiAgICBhcHBlbmRMaXN0ZW5lcjogYXBwZW5kTGlzdGVuZXIsXG4gICAgbm90aWZ5TGlzdGVuZXJzOiBub3RpZnlMaXN0ZW5lcnNcbiAgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyO1xuXG4vKioqLyB9KSxcbi8qIDM1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gTWFrZSBzdXJlIHUgdXNlIEVNUFRZX09CSiBmcm9tICdpbmZlcm5vJywgb3RoZXJ3aXNlIGl0J2xsIGJlIGEgZGlmZmVyZW50IHJlZmVyZW5jZVxyXG52YXIgaW5mZXJub18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgbm9PcCA9IGluZmVybm9fc2hhcmVkXzEuRVJST1JfTVNHO1xyXG5pZiAoZmFsc2UpIHtcclxuICAgIG5vT3AgPSAnSW5mZXJubyBFcnJvcjogQ2FuIG9ubHkgdXBkYXRlIGEgbW91bnRlZCBvciBtb3VudGluZyBjb21wb25lbnQuIFRoaXMgdXN1YWxseSBtZWFucyB5b3UgY2FsbGVkIHNldFN0YXRlKCkgb3IgZm9yY2VVcGRhdGUoKSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LiBUaGlzIGlzIGEgbm8tb3AuJztcclxufVxyXG52YXIgY29tcG9uZW50Q2FsbGJhY2tRdWV1ZSA9IG5ldyBNYXAoKTtcclxuLy8gd2hlbiBhIGNvbXBvbmVudHMgcm9vdCBWTm9kZSBpcyBhbHNvIGEgY29tcG9uZW50LCB3ZSBjYW4gcnVuIGludG8gaXNzdWVzXHJcbi8vIHRoaXMgd2lsbCByZWN1cnNpdmVseSBsb29rIGZvciB2Tm9kZS5wYXJlbnROb2RlIGlmIHRoZSBWTm9kZSBpcyBhIGNvbXBvbmVudFxyXG5mdW5jdGlvbiB1cGRhdGVQYXJlbnRDb21wb25lbnRWTm9kZXModk5vZGUsIGRvbSkge1xyXG4gICAgaWYgKHZOb2RlLmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudFZOb2RlID0gdk5vZGUucGFyZW50Vk5vZGU7XHJcbiAgICAgICAgaWYgKHBhcmVudFZOb2RlKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFZOb2RlLmRvbSA9IGRvbTtcclxuICAgICAgICAgICAgdXBkYXRlUGFyZW50Q29tcG9uZW50Vk5vZGVzKHBhcmVudFZOb2RlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG52YXIgcmVzb2x2ZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbmZ1bmN0aW9uIGFkZFRvUXVldWUoY29tcG9uZW50LCBmb3JjZSwgY2FsbGJhY2spIHtcclxuICAgIHZhciBxdWV1ZSA9IGNvbXBvbmVudENhbGxiYWNrUXVldWUuZ2V0KGNvbXBvbmVudCk7XHJcbiAgICBpZiAocXVldWUgPT09IHZvaWQgMCkge1xyXG4gICAgICAgIHF1ZXVlID0gW107XHJcbiAgICAgICAgY29tcG9uZW50Q2FsbGJhY2tRdWV1ZS5zZXQoY29tcG9uZW50LCBxdWV1ZSk7XHJcbiAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21wb25lbnRDYWxsYmFja1F1ZXVlLmRlbGV0ZShjb21wb25lbnQpO1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3VwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwbHlTdGF0ZShjb21wb25lbnQsIGZvcmNlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcXVldWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVtpXS5jYWxsKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjYWxsYmFjaykpIHtcclxuICAgICAgICBxdWV1ZS5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBxdWV1ZVN0YXRlQ2hhbmdlcyhjb21wb25lbnQsIG5ld1N0YXRlLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihuZXdTdGF0ZSkpIHtcclxuICAgICAgICBuZXdTdGF0ZSA9IG5ld1N0YXRlKGNvbXBvbmVudC5zdGF0ZSwgY29tcG9uZW50LnByb3BzLCBjb21wb25lbnQuY29udGV4dCk7XHJcbiAgICB9XHJcbiAgICB2YXIgcGVuZGluZyA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgaWYgKHBlbmRpbmcgPT09IG51bGwpIHtcclxuICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZSA9IHBlbmRpbmcgPSBuZXdTdGF0ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAodmFyIHN0YXRlS2V5IGluIG5ld1N0YXRlKSB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdbc3RhdGVLZXldID0gbmV3U3RhdGVbc3RhdGVLZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3NlciAmJiAhY29tcG9uZW50Ll9wZW5kaW5nU2V0U3RhdGUgJiYgIWNvbXBvbmVudC5fYmxvY2tSZW5kZXIpIHtcclxuICAgICAgICBpZiAoIWNvbXBvbmVudC5fdXBkYXRpbmcpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3VwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwbHlTdGF0ZShjb21wb25lbnQsIGZhbHNlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFkZFRvUXVldWUoY29tcG9uZW50LCBmYWxzZSwgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZTtcclxuICAgICAgICBpZiAoc3RhdGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50LnN0YXRlID0gcGVuZGluZztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwZW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZVtrZXldID0gcGVuZGluZ1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjYWxsYmFjaykgJiYgY29tcG9uZW50Ll9ibG9ja1JlbmRlcikge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX2xpZmVjeWNsZS5hZGRMaXN0ZW5lcihjYWxsYmFjay5iaW5kKGNvbXBvbmVudCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBhcHBseVN0YXRlKGNvbXBvbmVudCwgZm9yY2UsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoY29tcG9uZW50Ll91bm1vdW50ZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoZm9yY2UgfHwgIWNvbXBvbmVudC5fYmxvY2tSZW5kZXIpIHtcclxuICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBwZW5kaW5nU3RhdGUgPSBjb21wb25lbnQuX3BlbmRpbmdTdGF0ZTtcclxuICAgICAgICB2YXIgcHJldlN0YXRlID0gY29tcG9uZW50LnN0YXRlO1xyXG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHByZXZTdGF0ZSwgcGVuZGluZ1N0YXRlKTtcclxuICAgICAgICB2YXIgcHJvcHMgPSBjb21wb25lbnQucHJvcHM7XHJcbiAgICAgICAgdmFyIGNvbnRleHRfMSA9IGNvbXBvbmVudC5jb250ZXh0O1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgICAgICB2YXIgbmV4dElucHV0ID0gY29tcG9uZW50Ll91cGRhdGVDb21wb25lbnQocHJldlN0YXRlLCBuZXh0U3RhdGUsIHByb3BzLCBwcm9wcywgY29udGV4dF8xLCBmb3JjZSwgdHJ1ZSk7XHJcbiAgICAgICAgdmFyIGRpZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgbmV4dElucHV0ID0gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDQwOTYgLyogVm9pZCAqLywgbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5leHRJbnB1dCA9PT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICBuZXh0SW5wdXQgPSBjb21wb25lbnQuX2xhc3RJbnB1dDtcclxuICAgICAgICAgICAgZGlkVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIG5leHRJbnB1dCA9IGluZmVybm9fMS5jcmVhdGVWTm9kZSgxIC8qIFRleHQgKi8sIG51bGwsIG51bGwsIG5leHRJbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxhc3RJbnB1dCA9IGNvbXBvbmVudC5fbGFzdElucHV0O1xyXG4gICAgICAgIHZhciB2Tm9kZSA9IGNvbXBvbmVudC5fdk5vZGU7XHJcbiAgICAgICAgdmFyIHBhcmVudERvbSA9IChsYXN0SW5wdXQuZG9tICYmIGxhc3RJbnB1dC5kb20ucGFyZW50Tm9kZSkgfHwgKGxhc3RJbnB1dC5kb20gPSB2Tm9kZS5kb20pO1xyXG4gICAgICAgIGNvbXBvbmVudC5fbGFzdElucHV0ID0gbmV4dElucHV0O1xyXG4gICAgICAgIGlmIChkaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBjb21wb25lbnQuX2NoaWxkQ29udGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dF8xLCBjaGlsZENvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsaWZlQ3ljbGUgPSBjb21wb25lbnQuX2xpZmVjeWNsZTtcclxuICAgICAgICAgICAgaW5mZXJub18xLmludGVybmFsX3BhdGNoKGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVDeWNsZSwgY2hpbGRDb250ZXh0LCBjb21wb25lbnQuX2lzU1ZHLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGxpZmVDeWNsZS50cmlnZ2VyKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZShwcm9wcywgcHJldlN0YXRlLCBjb250ZXh0XzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vXzEub3B0aW9ucy5hZnRlclVwZGF0ZSh2Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRvbSA9IHZOb2RlLmRvbSA9IG5leHRJbnB1dC5kb207XHJcbiAgICAgICAgaWYgKGluZmVybm9fMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpbmZlcm5vXzEuaW50ZXJuYWxfRE9NTm9kZU1hcC5zZXQoY29tcG9uZW50LCBuZXh0SW5wdXQuZG9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlUGFyZW50Q29tcG9uZW50Vk5vZGVzKHZOb2RlLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29tcG9uZW50LnN0YXRlID0gY29tcG9uZW50Ll9wZW5kaW5nU3RhdGU7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2FsbGJhY2spKSB7XHJcbiAgICAgICAgY2FsbGJhY2suY2FsbChjb21wb25lbnQpO1xyXG4gICAgfVxyXG59XHJcbnZhciBhbHJlYWR5V2FybmVkID0gZmFsc2U7XHJcbnZhciBDb21wb25lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fYmxvY2tSZW5kZXIgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9ibG9ja1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9wZW5kaW5nU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2xhc3RJbnB1dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fdk5vZGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3VubW91bnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2xpZmVjeWNsZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fY2hpbGRDb250ZXh0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9pc1NWRyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAvKiogQHR5cGUge29iamVjdH0gKi9cclxuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHMgfHwgaW5mZXJub18xLkVNUFRZX09CSjtcclxuICAgICAgICAvKiogQHR5cGUge29iamVjdH0gKi9cclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0IHx8IGluZmVybm9fMS5FTVBUWV9PQko7IC8vIGNvbnRleHQgc2hvdWxkIG5vdCBiZSBtdXRhYmxlXHJcbiAgICB9XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3VubW91bnRlZCB8fCAhaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcHBseVN0YXRlKHRoaXMsIHRydWUsIGNhbGxiYWNrKTtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl91bm1vdW50ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuX2Jsb2NrU2V0U3RhdGUpIHtcclxuICAgICAgICAgICAgcXVldWVTdGF0ZUNoYW5nZXModGhpcywgbmV3U3RhdGUsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdjYW5ub3QgdXBkYXRlIHN0YXRlIHZpYSBzZXRTdGF0ZSgpIGluIGNvbXBvbmVudFdpbGxVcGRhdGUoKSBvciBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZVN5bmMgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcclxuICAgICAgICBpZiAoZmFsc2UpIHtcclxuICAgICAgICAgICAgaWYgKCFhbHJlYWR5V2FybmVkKSB7XHJcbiAgICAgICAgICAgICAgICBhbHJlYWR5V2FybmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignSW5mZXJubyBXQVJOSU5HOiBzZXRTdGF0ZVN5bmMgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIG5leHQgcmVsZWFzZS4gVXNlIHNldFN0YXRlIGluc3RlYWQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5fdXBkYXRlQ29tcG9uZW50ID0gZnVuY3Rpb24gKHByZXZTdGF0ZSwgbmV4dFN0YXRlLCBwcmV2UHJvcHMsIG5leHRQcm9wcywgY29udGV4dCwgZm9yY2UsIGZyb21TZXRTdGF0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl91bm1vdW50ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3Iobm9PcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocHJldlByb3BzICE9PSBuZXh0UHJvcHMgfHwgbmV4dFByb3BzID09PSBpbmZlcm5vXzEuRU1QVFlfT0JKKSB8fCBwcmV2U3RhdGUgIT09IG5leHRTdGF0ZSB8fCBmb3JjZSkge1xyXG4gICAgICAgICAgICBpZiAocHJldlByb3BzICE9PSBuZXh0UHJvcHMgfHwgbmV4dFByb3BzID09PSBpbmZlcm5vXzEuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQodGhpcy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSAmJiAhZnJvbVNldFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxvY2tSZW5kZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NldFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlID0gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShuZXh0U3RhdGUsIHRoaXMuX3BlbmRpbmdTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBVcGRhdGUgaWYgc2N1IGlzIG5vdCBkZWZpbmVkLCBvciBpdCByZXR1cm5zIHRydXRoeSB2YWx1ZSBvciBmb3JjZSAqL1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZCh0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSkgfHwgdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpIHx8IGZvcmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQodGhpcy5jb21wb25lbnRXaWxsVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmxvY2tTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fMS5vcHRpb25zLmJlZm9yZVJlbmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fMS5vcHRpb25zLmJlZm9yZVJlbmRlcih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciByZW5kZXIgPSB0aGlzLnJlbmRlcihuZXh0UHJvcHMsIG5leHRTdGF0ZSwgY29udGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vXzEub3B0aW9ucy5hZnRlclJlbmRlcih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzID0gbmV4dFByb3BzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fc2hhcmVkXzEuTk9fT1A7XHJcbiAgICB9O1xyXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQpIHsgfTtcclxuICAgIHJldHVybiBDb21wb25lbnQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IENvbXBvbmVudDtcclxuXG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgY29tcG9uZW50SG9va3MgPSBuZXcgU2V0KCk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsTW91bnQnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudERpZE1vdW50Jyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsVW5tb3VudCcpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50U2hvdWxkVXBkYXRlJyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsVXBkYXRlJyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnREaWRVcGRhdGUnKTtcclxuLyoqXHJcbiAqIENyZWF0ZXMgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufENvbXBvbmVudDxhbnksIGFueT59IHR5cGUgVHlwZSBvZiBub2RlXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gcHJvcHMgT3B0aW9uYWwgcHJvcHMgZm9yIHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0gey4uLntvYmplY3R9PX0gX2NoaWxkcmVuIE9wdGlvbmFsIGNoaWxkcmVuIGZvciB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge1ZOb2RlfSBuZXcgdmlydHVhbCBuZG9lXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzKSB7XHJcbiAgICB2YXIgX2NoaWxkcmVuID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIF9jaGlsZHJlbltfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh0eXBlKSB8fCBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KHR5cGUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZlcm5vIEVycm9yOiBjcmVhdGVFbGVtZW50KCkgbmFtZSBwYXJhbWV0ZXIgY2Fubm90IGJlIHVuZGVmaW5lZCwgbnVsbCwgZmFsc2Ugb3IgdHJ1ZSwgSXQgbXVzdCBiZSBhIHN0cmluZywgY2xhc3Mgb3IgZnVuY3Rpb24uJyk7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBfY2hpbGRyZW47XHJcbiAgICB2YXIgcmVmID0gbnVsbDtcclxuICAgIHZhciBrZXkgPSBudWxsO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IG51bGw7XHJcbiAgICB2YXIgZmxhZ3MgPSAwO1xyXG4gICAgdmFyIG5ld1Byb3BzO1xyXG4gICAgaWYgKF9jaGlsZHJlbikge1xyXG4gICAgICAgIGlmIChfY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gdm9pZCAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nKHR5cGUpKSB7XHJcbiAgICAgICAgZmxhZ3MgPSBpbmZlcm5vXzEuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUodHlwZSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIG5ld1Byb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnY2xhc3NOYW1lJyB8fCBwcm9wID09PSAnY2xhc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAna2V5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHByb3BzLmtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdjaGlsZHJlbicgJiYgaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuOyAvLyBhbHdheXMgZmF2b3VyIGNoaWxkcmVuIGFyZ3MsIGRlZmF1bHQgdG8gcHJvcHNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdyZWYnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmID0gcHJvcHMucmVmO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZsYWdzID0gMTYgLyogQ29tcG9uZW50VW5rbm93biAqLztcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcykpIHtcclxuICAgICAgICAgICAgbmV3UHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudEhvb2tzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZWZbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdrZXknKSB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoZmxhZ3MsIHR5cGUsIGNsYXNzTmFtZSwgY2hpbGRyZW4sIG5ld1Byb3BzLCBrZXksIHJlZik7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRWxlbWVudDtcclxuXG5cbi8qKiovIH0pLFxuLyogMzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcclxudmFyIExpbmtfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xyXG5mdW5jdGlvbiBJbmRleExpbmsocHJvcHMpIHtcclxuICAgIHByb3BzLnRvID0gJy8nO1xyXG4gICAgcmV0dXJuIGluZmVybm9fMS5jcmVhdGVWTm9kZSg4IC8qIENvbXBvbmVudEZ1bmN0aW9uICovLCBMaW5rXzEuZGVmYXVsdCwgbnVsbCwgbnVsbCwgcHJvcHMpO1xyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEluZGV4TGluaztcclxuXG5cbi8qKiovIH0pLFxuLyogMzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJvdXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG52YXIgSW5kZXhSb3V0ZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSW5kZXhSb3V0ZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEluZGV4Um91dGUocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBwcm9wcy5wYXRoID0gJy8nO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBJbmRleFJvdXRlO1xyXG59KFJvdXRlXzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBJbmRleFJvdXRlO1xyXG5cblxuLyoqKi8gfSksXG4vKiAzOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUm91dGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XHJcbnZhciBSZWRpcmVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVkaXJlY3QsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWRpcmVjdChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIGlmICghcHJvcHMudG8pIHtcclxuICAgICAgICAgICAgcHJvcHMudG8gPSAnLyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBSZWRpcmVjdDtcclxufShSb3V0ZV8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUmVkaXJlY3Q7XHJcblxuXG4vKioqLyB9KSxcbi8qIDQwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG52YXIgaW5mZXJub19jb21wb25lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xyXG52YXIgbWF0Y2hfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xyXG52YXIgUm91dGVyQ29udGV4dF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XHJcbmZ1bmN0aW9uIGNyZWF0ZXJSb3V0ZXIoaGlzdG9yeSkge1xyXG4gICAgaWYgKCFoaXN0b3J5KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW5mZXJubzogRXJyb3IgXCJpbmZlcm5vLXJvdXRlclwiIHJlcXVpcmVzIGEgaGlzdG9yeSBwcm9wIHBhc3NlZCcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjcmVhdGVIcmVmOiBoaXN0b3J5LmNyZWF0ZUhyZWYsXHJcbiAgICAgICAgbGlzdGVuOiBoaXN0b3J5Lmxpc3RlbixcclxuICAgICAgICBwdXNoOiBoaXN0b3J5LnB1c2gsXHJcbiAgICAgICAgcmVwbGFjZTogaGlzdG9yeS5yZXBsYWNlLFxyXG4gICAgICAgIGlzQWN0aXZlOiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXRjaF8xLm1hdGNoUGF0aCh0cnVlLCB1cmwsIHRoaXMudXJsKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBsb2NhdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWUgIT09ICdibGFuaycgPyBoaXN0b3J5LmxvY2F0aW9uIDoge1xyXG4gICAgICAgICAgICAgICAgcGF0aG5hbWU6ICcvJyxcclxuICAgICAgICAgICAgICAgIHNlYXJjaDogJydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCB1cmwoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uLnBhdGhuYW1lICsgdGhpcy5sb2NhdGlvbi5zZWFyY2g7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG52YXIgUm91dGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZXIocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5yb3V0ZXIgPSBjcmVhdGVyUm91dGVyKHByb3BzLmhpc3RvcnkpO1xyXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICB1cmw6IHByb3BzLnVybCB8fCBfdGhpcy5yb3V0ZXIudXJsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnJvdXRlcikge1xyXG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuID0gdGhpcy5yb3V0ZXIubGlzdGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJvdXRlVG8oX3RoaXMucm91dGVyLnVybCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXJsOiBuZXh0UHJvcHMudXJsIH0sIHRoaXMucHJvcHMub25VcGRhdGUgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wcm9wcy5vblVwZGF0ZSgpOyB9IDogdm9pZCAwKTtcclxuICAgIH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnVubGlzdGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5yb3V0ZVRvID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogdXJsIH0sIHRoaXMucHJvcHMub25VcGRhdGUgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wcm9wcy5vblVwZGF0ZSgpOyB9IDogdm9pZCAwKTtcclxuICAgIH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGhpdCA9IG1hdGNoXzEuZGVmYXVsdChwcm9wcy5jaGlsZHJlbiwgdGhpcy5zdGF0ZS51cmwpO1xyXG4gICAgICAgIGlmIChoaXQucmVkaXJlY3QpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZXIucmVwbGFjZShoaXQucmVkaXJlY3QpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoNCAvKiBDb21wb25lbnRDbGFzcyAqLywgUm91dGVyQ29udGV4dF8xLmRlZmF1bHQsIG51bGwsIG51bGwsIHtcclxuICAgICAgICAgICAgbG9jYXRpb246IHRoaXMuc3RhdGUudXJsLFxyXG4gICAgICAgICAgICBtYXRjaGVkOiBoaXQubWF0Y2hlZCxcclxuICAgICAgICAgICAgcm91dGVyOiB0aGlzLnJvdXRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZXI7XHJcbn0oaW5mZXJub19jb21wb25lbnRfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJvdXRlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogNDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuLyoqXHJcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgcGFyc2luZyBwbGFpbiByb3V0ZSBjb25maWd1cmF0aW9uc1xyXG4gKiBiYXNlZCBvbiByZWFjdC1yb3V0ZXIgY3JlYXRlUm91dGVzIGhhbmRsZXIuXHJcbiAqXHJcbiAqIGN1cnJlbnRseSBzdXBwb3J0ZWQga2V5czpcclxuICogLSBwYXRoXHJcbiAqIC0gY29tcG9uZW50XHJcbiAqIC0gY2hpbGRSb3V0ZXNcclxuICogLSBpbmRleFJvdXRlXHJcbiAqXHJcbiAqIFVzYWdlIGV4YW1wbGU6XHJcbiAqIGNvbnN0IHJvdXRlcyA9IGNyZWF0ZVJvdXRlcyhbXHJcbiAqICB7XHJcbiAqICAgIHBhdGggICAgICAgIDogJy8nLFxyXG4gKiAgICBjb21wb25lbnQgICA6IEFwcCxcclxuICogICAgaW5kZXhSb3V0ZSAgOiB7XHJcbiAqICAgICAgY29tcG9uZW50ICAgICA6IEhvbWUsXHJcbiAqICAgIH0sXHJcbiAqICAgIGNoaWxkUm91dGVzIDogW1xyXG4gKiAgICAgIHtcclxuICogICAgICAgIHBhdGggOiAnZmlsbXMvJyxcclxuICogICAgICAgIGNvbXBvbmVudCA6IEZpbG1zLFxyXG4gKiAgICAgICAgY2hpbGRSb3V0ZXMgOiB7XHJcbiAqICAgICAgICAgIHBhdGggOiAnZGV0YWlsLzppZCcsXHJcbiAqICAgICAgICAgIGNvbXBvbmVudCA6IEZpbG1EZXRhaWwsXHJcbiAqICAgICAgICB9XHJcbiAqICAgICAgfSxcclxuICogICAgICB7XHJcbiAqICAgICAgICBwYXRoIDogJy8qJyxcclxuICogICAgICAgIGNvbXBvbmVudCA6IE5vTWF0Y2hcclxuICogICAgICB9XHJcbiAqICAgIF1cclxuICogIH1cclxuICogXSk7XHJcbiAqXHJcbiAqIFVzYWdlIG9uIFJvdXRlciBKU1hcclxuICogPFJvdXRlciBoaXN0b3J5PXticm93c2VySGlzdG9yeX0gY2hpbGRyZW49e3JvdXRlc30gLz5cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBSb3V0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcclxudmFyIGhhbmRsZUluZGV4Um91dGUgPSBmdW5jdGlvbiAoaW5kZXhSb3V0ZU5vZGUpIHsgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgaW5kZXhSb3V0ZU5vZGUpOyB9O1xyXG52YXIgaGFuZGxlQ2hpbGRSb3V0ZSA9IGZ1bmN0aW9uIChjaGlsZFJvdXRlTm9kZSkgeyByZXR1cm4gaGFuZGxlUm91dGVOb2RlKGNoaWxkUm91dGVOb2RlKTsgfTtcclxudmFyIGhhbmRsZUNoaWxkUm91dGVzID0gZnVuY3Rpb24gKGNoaWxkUm91dGVOb2RlcykgeyByZXR1cm4gY2hpbGRSb3V0ZU5vZGVzLm1hcChoYW5kbGVDaGlsZFJvdXRlKTsgfTtcclxuZnVuY3Rpb24gaGFuZGxlUm91dGVOb2RlKHJvdXRlQ29uZmlnTm9kZSkge1xyXG4gICAgaWYgKHJvdXRlQ29uZmlnTm9kZS5pbmRleFJvdXRlICYmICFyb3V0ZUNvbmZpZ05vZGUuY2hpbGRSb3V0ZXMpIHtcclxuICAgICAgICByZXR1cm4gaW5mZXJub19jcmVhdGVfZWxlbWVudF8xLmRlZmF1bHQoUm91dGVfMS5kZWZhdWx0LCByb3V0ZUNvbmZpZ05vZGUpO1xyXG4gICAgfVxyXG4gICAgLy8gY3JlYXRlIGRlZXAgY29weSBvZiBjb25maWdcclxuICAgIHZhciBub2RlID0ge307XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gcm91dGVDb25maWdOb2RlKSB7XHJcbiAgICAgICAgbm9kZVtrZXldID0gcm91dGVDb25maWdOb2RlW2tleV07XHJcbiAgICB9XHJcbiAgICBub2RlLmNoaWxkcmVuID0gW107XHJcbiAgICAvLyBoYW5kbGUgaW5kZXggcm91dGUgY29uZmlnXHJcbiAgICBpZiAobm9kZS5pbmRleFJvdXRlKSB7XHJcbiAgICAgICAgbm9kZS5jaGlsZHJlbi5wdXNoKGhhbmRsZUluZGV4Um91dGUobm9kZS5pbmRleFJvdXRlKSk7XHJcbiAgICAgICAgZGVsZXRlIG5vZGUuaW5kZXhSb3V0ZTtcclxuICAgIH1cclxuICAgIC8vIGhhbmRsZSBjaGlsZCByb3V0ZXMgY29uZmlnXHJcbiAgICBpZiAobm9kZS5jaGlsZFJvdXRlcykge1xyXG4gICAgICAgIHZhciBub2RlcyA9IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShub2RlLmNoaWxkUm91dGVzKSA/IG5vZGUuY2hpbGRSb3V0ZXMgOiBbbm9kZS5jaGlsZFJvdXRlc107XHJcbiAgICAgICAgKF9hID0gbm9kZS5jaGlsZHJlbikucHVzaC5hcHBseShfYSwgaGFuZGxlQ2hpbGRSb3V0ZXMobm9kZXMpKTtcclxuICAgICAgICBkZWxldGUgbm9kZS5jaGlsZFJvdXRlcztcclxuICAgIH1cclxuICAgIC8vIGNsZWFudXAgdG8gbWF0Y2ggbmF0aXZlIHJlbmRlcmVkIHJlc3VsdFxyXG4gICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgbm9kZS5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW5bMF07XHJcbiAgICB9XHJcbiAgICBpZiAoKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgfHxcclxuICAgICAgICAoIWluZmVybm9fc2hhcmVkXzEuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJiBPYmplY3Qua2V5cyhub2RlLmNoaWxkcmVuKS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRyZW47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5mZXJub19jcmVhdGVfZWxlbWVudF8xLmRlZmF1bHQoUm91dGVfMS5kZWZhdWx0LCBub2RlKTtcclxuICAgIHZhciBfYTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocm91dGVDb25maWcpIHsgcmV0dXJuIHJvdXRlQ29uZmlnLm1hcChoYW5kbGVSb3V0ZU5vZGUpOyB9O1xyXG5cblxuLyoqKi8gfSksXG4vKiA0MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjcmVhdGVSb3V0ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xyXG5leHBvcnRzLmNyZWF0ZVJvdXRlcyA9IGNyZWF0ZVJvdXRlc18xLmRlZmF1bHQ7XHJcbnZhciBJbmRleExpbmtfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xyXG5leHBvcnRzLkluZGV4TGluayA9IEluZGV4TGlua18xLmRlZmF1bHQ7XHJcbnZhciBJbmRleFJvdXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcclxuZXhwb3J0cy5JbmRleFJvdXRlID0gSW5kZXhSb3V0ZV8xLmRlZmF1bHQ7XHJcbnZhciBMaW5rXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcclxuZXhwb3J0cy5MaW5rID0gTGlua18xLmRlZmF1bHQ7XHJcbnZhciBtYXRjaF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XHJcbmV4cG9ydHMubWF0Y2ggPSBtYXRjaF8xLmRlZmF1bHQ7XHJcbnZhciBSZWRpcmVjdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XHJcbmV4cG9ydHMuUmVkaXJlY3QgPSBSZWRpcmVjdF8xLmRlZmF1bHQ7XHJcbmV4cG9ydHMuSW5kZXhSZWRpcmVjdCA9IFJlZGlyZWN0XzEuZGVmYXVsdDtcclxudmFyIFJvdXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG5leHBvcnRzLlJvdXRlID0gUm91dGVfMS5kZWZhdWx0O1xyXG52YXIgUm91dGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcclxuZXhwb3J0cy5Sb3V0ZXIgPSBSb3V0ZXJfMS5kZWZhdWx0O1xyXG52YXIgUm91dGVyQ29udGV4dF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XHJcbmV4cG9ydHMuUm91dGVyQ29udGV4dCA9IFJvdXRlckNvbnRleHRfMS5kZWZhdWx0O1xyXG5leHBvcnRzLmRlZmF1bHQgPSB7XHJcbiAgICBSb3V0ZTogUm91dGVfMS5kZWZhdWx0LFxyXG4gICAgSW5kZXhSb3V0ZTogSW5kZXhSb3V0ZV8xLmRlZmF1bHQsXHJcbiAgICBSZWRpcmVjdDogUmVkaXJlY3RfMS5kZWZhdWx0LFxyXG4gICAgSW5kZXhSZWRpcmVjdDogUmVkaXJlY3RfMS5kZWZhdWx0LFxyXG4gICAgUm91dGVyOiBSb3V0ZXJfMS5kZWZhdWx0LFxyXG4gICAgUm91dGVyQ29udGV4dDogUm91dGVyQ29udGV4dF8xLmRlZmF1bHQsXHJcbiAgICBMaW5rOiBMaW5rXzEuZGVmYXVsdCxcclxuICAgIEluZGV4TGluazogSW5kZXhMaW5rXzEuZGVmYXVsdCxcclxuICAgIG1hdGNoOiBtYXRjaF8xLmRlZmF1bHQsXHJcbiAgICBjcmVhdGVSb3V0ZXM6IGNyZWF0ZVJvdXRlc18xLmRlZmF1bHRcclxufTtcclxuXG5cbi8qKiovIH0pLFxuLyogNDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLk5PX09QID0gJyROT19PUCc7XHJcbmV4cG9ydHMuRVJST1JfTVNHID0gJ2EgcnVudGltZSBlcnJvciBvY2N1cmVkISBVc2UgSW5mZXJubyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudCB0byBmaW5kIHRoZSBlcnJvci4nO1xyXG4vLyBUaGlzIHNob3VsZCBiZSBib29sZWFuIGFuZCBub3QgcmVmZXJlbmNlIHRvIHdpbmRvdy5kb2N1bWVudFxyXG5leHBvcnRzLmlzQnJvd3NlciA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCk7XHJcbmZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcclxuICAgIHJldHVybiBleHBvcnRzLmlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4gOiAoY2hpbGRyZW4gPyBbY2hpbGRyZW5dIDogY2hpbGRyZW4pO1xyXG59XHJcbmV4cG9ydHMudG9BcnJheSA9IHRvQXJyYXk7XHJcbi8vIHRoaXMgaXMgTVVDSCBmYXN0ZXIgdGhhbiAuY29uc3RydWN0b3IgPT09IEFycmF5IGFuZCBpbnN0YW5jZW9mIEFycmF5XHJcbi8vIGluIE5vZGUgNyBhbmQgdGhlIGxhdGVyIHZlcnNpb25zIG9mIFY4LCBzbG93ZXIgaW4gb2xkZXIgdmVyc2lvbnMgdGhvdWdoXHJcbmV4cG9ydHMuaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XHJcbmZ1bmN0aW9uIGlzU3RhdGVmdWxDb21wb25lbnQobykge1xyXG4gICAgcmV0dXJuICFpc1VuZGVmaW5lZChvLnByb3RvdHlwZSkgJiYgIWlzVW5kZWZpbmVkKG8ucHJvdG90eXBlLnJlbmRlcik7XHJcbn1cclxuZXhwb3J0cy5pc1N0YXRlZnVsQ29tcG9uZW50ID0gaXNTdGF0ZWZ1bENvbXBvbmVudDtcclxuZnVuY3Rpb24gaXNTdHJpbmdPck51bWJlcihvKSB7XHJcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBvO1xyXG4gICAgcmV0dXJuIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdudW1iZXInO1xyXG59XHJcbmV4cG9ydHMuaXNTdHJpbmdPck51bWJlciA9IGlzU3RyaW5nT3JOdW1iZXI7XHJcbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWYobykge1xyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKG8pIHx8IGlzTnVsbChvKTtcclxufVxyXG5leHBvcnRzLmlzTnVsbE9yVW5kZWYgPSBpc051bGxPclVuZGVmO1xyXG5mdW5jdGlvbiBpc0ludmFsaWQobykge1xyXG4gICAgcmV0dXJuIGlzTnVsbChvKSB8fCBvID09PSBmYWxzZSB8fCBpc1RydWUobykgfHwgaXNVbmRlZmluZWQobyk7XHJcbn1cclxuZXhwb3J0cy5pc0ludmFsaWQgPSBpc0ludmFsaWQ7XHJcbmZ1bmN0aW9uIGlzRnVuY3Rpb24obykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnZnVuY3Rpb24nO1xyXG59XHJcbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XHJcbmZ1bmN0aW9uIGlzU3RyaW5nKG8pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ3N0cmluZyc7XHJcbn1cclxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xyXG5mdW5jdGlvbiBpc051bWJlcihvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdudW1iZXInO1xyXG59XHJcbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcclxuZnVuY3Rpb24gaXNOdWxsKG8pIHtcclxuICAgIHJldHVybiBvID09PSBudWxsO1xyXG59XHJcbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xyXG5mdW5jdGlvbiBpc1RydWUobykge1xyXG4gICAgcmV0dXJuIG8gPT09IHRydWU7XHJcbn1cclxuZXhwb3J0cy5pc1RydWUgPSBpc1RydWU7XHJcbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKG8pIHtcclxuICAgIHJldHVybiBvID09PSB2b2lkIDA7XHJcbn1cclxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xyXG5mdW5jdGlvbiBpc09iamVjdChvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnO1xyXG59XHJcbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcclxuZnVuY3Rpb24gdGhyb3dFcnJvcihtZXNzYWdlKSB7XHJcbiAgICBpZiAoIW1lc3NhZ2UpIHtcclxuICAgICAgICBtZXNzYWdlID0gZXhwb3J0cy5FUlJPUl9NU0c7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmZlcm5vIEVycm9yOiBcIiArIG1lc3NhZ2UpO1xyXG59XHJcbmV4cG9ydHMudGhyb3dFcnJvciA9IHRocm93RXJyb3I7XHJcbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xyXG4gICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xyXG59XHJcbmV4cG9ydHMud2FybmluZyA9IHdhcm5pbmc7XHJcbmZ1bmN0aW9uIGNvbWJpbmVGcm9tKGZpcnN0LCBzZWNvbmQpIHtcclxuICAgIHZhciBvdXQgPSB7fTtcclxuICAgIGlmIChmaXJzdCkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBmaXJzdCkge1xyXG4gICAgICAgICAgICBvdXRba2V5XSA9IGZpcnN0W2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNlY29uZCkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzZWNvbmQpIHtcclxuICAgICAgICAgICAgb3V0W2tleV0gPSBzZWNvbmRba2V5XTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG59XHJcbmV4cG9ydHMuY29tYmluZUZyb20gPSBjb21iaW5lRnJvbTtcclxuZnVuY3Rpb24gTGlmZWN5Y2xlKCkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxufVxyXG5leHBvcnRzLkxpZmVjeWNsZSA9IExpZmVjeWNsZTtcclxuTGlmZWN5Y2xlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxufTtcclxuTGlmZWN5Y2xlLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gdHJpZ2dlcigpIHtcclxuICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycztcclxuICAgIHZhciBsaXN0ZW5lcjtcclxuICAgIC8vIFdlIG5lZWQgdG8gcmVtb3ZlIGN1cnJlbnQgbGlzdGVuZXIgZnJvbSBhcnJheSB3aGVuIGNhbGxpbmcgaXQsIGJlY2F1c2UgbW9yZSBsaXN0ZW5lcnMgbWlnaHQgYmUgYWRkZWRcclxuICAgIHdoaWxlIChsaXN0ZW5lciA9IGxpc3RlbmVycy5zaGlmdCgpKSB7XHJcbiAgICAgICAgbGlzdGVuZXIoKTtcclxuICAgIH1cclxufTtcclxuXG5cbi8qKiovIH0pLFxuLyogNDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBpc2lPUyA9IGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyICYmICEhbmF2aWdhdG9yLnBsYXRmb3JtICYmIC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7XHJcbnZhciBkZWxlZ2F0ZWRFdmVudHMgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIGhhbmRsZUV2ZW50KG5hbWUsIGxhc3RFdmVudCwgbmV4dEV2ZW50LCBkb20pIHtcclxuICAgIHZhciBkZWxlZ2F0ZWRSb290cyA9IGRlbGVnYXRlZEV2ZW50cy5nZXQobmFtZSk7XHJcbiAgICBpZiAobmV4dEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCFkZWxlZ2F0ZWRSb290cykge1xyXG4gICAgICAgICAgICBkZWxlZ2F0ZWRSb290cyA9IHsgaXRlbXM6IG5ldyBNYXAoKSwgZG9jRXZlbnQ6IG51bGwgfTtcclxuICAgICAgICAgICAgZGVsZWdhdGVkUm9vdHMuZG9jRXZlbnQgPSBhdHRhY2hFdmVudFRvRG9jdW1lbnQobmFtZSwgZGVsZWdhdGVkUm9vdHMpO1xyXG4gICAgICAgICAgICBkZWxlZ2F0ZWRFdmVudHMuc2V0KG5hbWUsIGRlbGVnYXRlZFJvb3RzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFsYXN0RXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGlzaU9TICYmIG5hbWUgPT09ICdvbkNsaWNrJykge1xyXG4gICAgICAgICAgICAgICAgdHJhcENsaWNrT25Ob25JbnRlcmFjdGl2ZUVsZW1lbnQoZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxlZ2F0ZWRSb290cy5pdGVtcy5zZXQoZG9tLCBuZXh0RXZlbnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGVsZWdhdGVkUm9vdHMpIHtcclxuICAgICAgICB2YXIgaXRlbXMgPSBkZWxlZ2F0ZWRSb290cy5pdGVtcztcclxuICAgICAgICBpZiAoaXRlbXMuZGVsZXRlKGRvbSkpIHtcclxuICAgICAgICAgICAgLy8gSWYgYW55IGl0ZW1zIHdlcmUgZGVsZXRlZCwgY2hlY2sgaWYgbGlzdGVuZXIgbmVlZCB0byBiZSByZW1vdmVkXHJcbiAgICAgICAgICAgIGlmIChpdGVtcy5zaXplID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG5vcm1hbGl6ZUV2ZW50TmFtZShuYW1lKSwgZGVsZWdhdGVkUm9vdHMuZG9jRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgZGVsZWdhdGVkRXZlbnRzLmRlbGV0ZShuYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmhhbmRsZUV2ZW50ID0gaGFuZGxlRXZlbnQ7XHJcbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZXZlbnQsIHRhcmdldCwgaXRlbXMsIGNvdW50LCBpc0NsaWNrLCBldmVudERhdGEpIHtcclxuICAgIHZhciBldmVudHNUb1RyaWdnZXIgPSBpdGVtcy5nZXQodGFyZ2V0KTtcclxuICAgIGlmIChldmVudHNUb1RyaWdnZXIpIHtcclxuICAgICAgICBjb3VudC0tO1xyXG4gICAgICAgIC8vIGxpbmtFdmVudCBvYmplY3RcclxuICAgICAgICBldmVudERhdGEuZG9tID0gdGFyZ2V0O1xyXG4gICAgICAgIGlmIChldmVudHNUb1RyaWdnZXIuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRzVG9UcmlnZ2VyLmV2ZW50KGV2ZW50c1RvVHJpZ2dlci5kYXRhLCBldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudHNUb1RyaWdnZXIoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZlbnQuY2FuY2VsQnViYmxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoY291bnQgPiAwKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudERvbSA9IHRhcmdldC5wYXJlbnROb2RlO1xyXG4gICAgICAgIC8vIEh0bWwgTm9kZXMgY2FuIGJlIG5lc3RlZCBmZTogc3BhbiBpbnNpZGUgYnV0dG9uIGluIHRoYXQgc2NlbmFyaW8gYnJvd3NlciBkb2VzIG5vdCBoYW5kbGUgZGlzYWJsZWQgYXR0cmlidXRlIG9uIHBhcmVudCxcclxuICAgICAgICAvLyBiZWNhdXNlIHRoZSBldmVudCBsaXN0ZW5lciBpcyBvbiBkb2N1bWVudC5ib2R5XHJcbiAgICAgICAgLy8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHNcclxuICAgICAgICBpZiAocGFyZW50RG9tID09PSBudWxsIHx8IChpc0NsaWNrICYmIHBhcmVudERvbS5ub2RlVHlwZSA9PT0gMSAmJiBwYXJlbnREb20uZGlzYWJsZWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGlzcGF0Y2hFdmVudChldmVudCwgcGFyZW50RG9tLCBpdGVtcywgY291bnQsIGlzQ2xpY2ssIGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbm9ybWFsaXplRXZlbnROYW1lKG5hbWUpIHtcclxuICAgIHJldHVybiBuYW1lLnN1YnN0cigyKS50b0xvd2VyQ2FzZSgpO1xyXG59XHJcbmZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcclxuICAgIHRoaXMuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgIHRoaXMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbn1cclxuZnVuY3Rpb24gYXR0YWNoRXZlbnRUb0RvY3VtZW50KG5hbWUsIGRlbGVnYXRlZFJvb3RzKSB7XHJcbiAgICB2YXIgZG9jRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgY291bnQgPSBkZWxlZ2F0ZWRSb290cy5pdGVtcy5zaXplO1xyXG4gICAgICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gc3RvcFByb3BhZ2F0aW9uO1xyXG4gICAgICAgICAgICAvLyBFdmVudCBkYXRhIG5lZWRzIHRvIGJlIG9iamVjdCB0byBzYXZlIHJlZmVyZW5jZSB0byBjdXJyZW50VGFyZ2V0IGdldHRlclxyXG4gICAgICAgICAgICB2YXIgZXZlbnREYXRhXzEgPSB7XHJcbiAgICAgICAgICAgICAgICBkb206IGRvY3VtZW50XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICdjdXJyZW50VGFyZ2V0Jywge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50RGF0YV8xLmRvbTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQsIGV2ZW50LnRhcmdldCwgZGVsZWdhdGVkUm9vdHMuaXRlbXMsIGNvdW50LCBldmVudC50eXBlID09PSAnY2xpY2snLCBldmVudERhdGFfMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobm9ybWFsaXplRXZlbnROYW1lKG5hbWUpLCBkb2NFdmVudCk7XHJcbiAgICByZXR1cm4gZG9jRXZlbnQ7XHJcbn1cclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5XHJcbmZ1bmN0aW9uIGVtcHR5Rm4oKSB7IH1cclxuZnVuY3Rpb24gdHJhcENsaWNrT25Ob25JbnRlcmFjdGl2ZUVsZW1lbnQoZG9tKSB7XHJcbiAgICAvLyBNb2JpbGUgU2FmYXJpIGRvZXMgbm90IGZpcmUgcHJvcGVybHkgYnViYmxlIGNsaWNrIGV2ZW50cyBvblxyXG4gICAgLy8gbm9uLWludGVyYWN0aXZlIGVsZW1lbnRzLCB3aGljaCBtZWFucyBkZWxlZ2F0ZWQgY2xpY2sgbGlzdGVuZXJzIGRvIG5vdFxyXG4gICAgLy8gZmlyZS4gVGhlIHdvcmthcm91bmQgZm9yIHRoaXMgYnVnIGludm9sdmVzIGF0dGFjaGluZyBhbiBlbXB0eSBjbGlja1xyXG4gICAgLy8gbGlzdGVuZXIgb24gdGhlIHRhcmdldCBub2RlLlxyXG4gICAgLy8gaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTAvMDkvY2xpY2tfZXZlbnRfZGVsLmh0bWxcclxuICAgIC8vIEp1c3Qgc2V0IGl0IHVzaW5nIHRoZSBvbmNsaWNrIHByb3BlcnR5IHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBtYW5hZ2UgYW55XHJcbiAgICAvLyBib29ra2VlcGluZyBmb3IgaXQuIE5vdCBzdXJlIGlmIHdlIG5lZWQgdG8gY2xlYXIgaXQgd2hlbiB0aGUgbGlzdGVuZXIgaXNcclxuICAgIC8vIHJlbW92ZWQuXHJcbiAgICAvLyBUT0RPOiBPbmx5IGRvIHRoaXMgZm9yIHRoZSByZWxldmFudCBTYWZhcmlzIG1heWJlP1xyXG4gICAgZG9tLm9uY2xpY2sgPSBlbXB0eUZuO1xyXG59XHJcblxuXG4vKioqLyB9KSxcbi8qIDQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIExpbmtzIGdpdmVuIGRhdGEgdG8gZXZlbnQgYXMgZmlyc3QgcGFyYW1ldGVyXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBkYXRhIHRvIGJlIGxpbmtlZCwgaXQgd2lsbCBiZSBhdmFpbGFibGUgaW4gZnVuY3Rpb24gYXMgZmlyc3QgcGFyYW1ldGVyXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV2ZW50IEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGV2ZW50IG9jY3Vyc1xyXG4gKiBAcmV0dXJucyB7e2RhdGE6ICosIGV2ZW50OiBGdW5jdGlvbn19XHJcbiAqL1xyXG5mdW5jdGlvbiBsaW5rRXZlbnQoZGF0YSwgZXZlbnQpIHtcclxuICAgIHJldHVybiB7IGRhdGE6IGRhdGEsIGV2ZW50OiBldmVudCB9O1xyXG59XHJcbmV4cG9ydHMubGlua0V2ZW50ID0gbGlua0V2ZW50O1xyXG5cblxuLyoqKi8gfSksXG4vKiA0NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIG9wdGlvbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbnZhciBjb25zdGFudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcbnZhciBtb3VudGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcclxudmFyIHBhdGNoaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbnZhciBwcm9jZXNzRWxlbWVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkTm9kZXMocGFyZW50RG9tKSB7XHJcbiAgICB2YXIgZG9tID0gcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICB3aGlsZSAoZG9tKSB7XHJcbiAgICAgICAgaWYgKGRvbS5ub2RlVHlwZSA9PT0gOCkge1xyXG4gICAgICAgICAgICBpZiAoZG9tLmRhdGEgPT09ICchJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RG9tLnJlcGxhY2VDaGlsZChwbGFjZWhvbGRlciwgZG9tKTtcclxuICAgICAgICAgICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBsYXN0RG9tID0gZG9tLnByZXZpb3VzU2libGluZztcclxuICAgICAgICAgICAgICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb20pO1xyXG4gICAgICAgICAgICAgICAgZG9tID0gbGFzdERvbSB8fCBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm5vcm1hbGl6ZUNoaWxkTm9kZXMgPSBub3JtYWxpemVDaGlsZE5vZGVzO1xyXG5mdW5jdGlvbiBoeWRyYXRlQ29tcG9uZW50KHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MpIHtcclxuICAgIHZhciB0eXBlID0gdk5vZGUudHlwZTtcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIGlmIChpc0NsYXNzKSB7XHJcbiAgICAgICAgdmFyIF9pc1NWRyA9IGRvbS5uYW1lc3BhY2VVUkkgPT09IGNvbnN0YW50c18xLnN2Z05TO1xyXG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHV0aWxzXzEuY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZSh2Tm9kZSwgdHlwZSwgcHJvcHMsIGNvbnRleHQsIF9pc1NWRywgbGlmZWN5Y2xlKTtcclxuICAgICAgICB2YXIgaW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgIGluc3RhbmNlLl92Tm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIGh5ZHJhdGUoaW5wdXQsIGRvbSwgbGlmZWN5Y2xlLCBpbnN0YW5jZS5fY2hpbGRDb250ZXh0LCBfaXNTVkcpO1xyXG4gICAgICAgIG1vdW50aW5nXzEubW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcyh2Tm9kZSwgcmVmLCBpbnN0YW5jZSwgbGlmZWN5Y2xlKTtcclxuICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSBmYWxzZTsgLy8gTW91bnQgZmluaXNoZWQgYWxsb3cgZ29pbmcgc3luY1xyXG4gICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLnNldChpbnN0YW5jZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSB1dGlsc18xLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCh2Tm9kZSwgdHlwZSwgcHJvcHMsIGNvbnRleHQpO1xyXG4gICAgICAgIGh5ZHJhdGUoaW5wdXQsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgdk5vZGUuY2hpbGRyZW4gPSBpbnB1dDtcclxuICAgICAgICB2Tm9kZS5kb20gPSBpbnB1dC5kb207XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudEZ1bmN0aW9uYWxDb21wb25lbnRDYWxsYmFja3MocmVmLCBkb20sIGxpZmVjeWNsZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVFbGVtZW50KHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHM7XHJcbiAgICB2YXIgY2xhc3NOYW1lID0gdk5vZGUuY2xhc3NOYW1lO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgaXNTVkcgPSBpc1NWRyB8fCAoZmxhZ3MgJiAxMjggLyogU3ZnRWxlbWVudCAqLykgPiAwO1xyXG4gICAgaWYgKGRvbS5ub2RlVHlwZSAhPT0gMSB8fCBkb20udGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSB2Tm9kZS50eXBlKSB7XHJcbiAgICAgICAgaWYgKGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEud2FybmluZygnSW5mZXJubyBoeWRyYXRpb246IFNlcnZlci1zaWRlIG1hcmt1cCBkb2VzblxcJ3QgbWF0Y2ggY2xpZW50LXNpZGUgbWFya3VwIG9yIEluaXRpYWwgcmVuZGVyIHRhcmdldCBpcyBub3QgZW1wdHknKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG5ld0RvbSA9IG1vdW50aW5nXzEubW91bnRFbGVtZW50KHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBuZXdEb207XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlQ2hpbGQoZG9tLnBhcmVudE5vZGUsIG5ld0RvbSwgZG9tKTtcclxuICAgICAgICByZXR1cm4gbmV3RG9tO1xyXG4gICAgfVxyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgaHlkcmF0ZUNoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgdmFyIGhhc0NvbnRyb2xsZWRWYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpc0Zvcm1FbGVtZW50ID0gKGZsYWdzICYgMzU4NCAvKiBGb3JtRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGhhc0NvbnRyb2xsZWRWYWx1ZSA9IHByb2Nlc3NFbGVtZW50XzEuaXNDb250cm9sbGVkRm9ybUVsZW1lbnQocHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgIC8vIGRvIG5vdCBhZGQgYSBoYXNPd25Qcm9wZXJ0eSBjaGVjayBoZXJlLCBpdCBhZmZlY3RzIHBlcmZvcm1hbmNlXHJcbiAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2hQcm9wKHByb3AsIG51bGwsIHByb3BzW3Byb3BdLCBkb20sIGlzU1ZHLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBwcm9jZXNzRWxlbWVudF8xLnByb2Nlc3NFbGVtZW50KGZsYWdzLCB2Tm9kZSwgZG9tLCBwcm9wcywgdHJ1ZSwgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNsYXNzTmFtZSkpIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlZikge1xyXG4gICAgICAgIG1vdW50aW5nXzEubW91bnRSZWYoZG9tLCByZWYsIGxpZmVjeWNsZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICBub3JtYWxpemVDaGlsZE5vZGVzKHBhcmVudERvbSk7XHJcbiAgICB2YXIgZG9tID0gcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChjaGlsZCkgJiYgaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbSA9IGh5ZHJhdGUoY2hpbGQsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KGNoaWxkLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGlmIChkb20gJiYgZG9tLm5vZGVUeXBlID09PSAzKSB7XHJcbiAgICAgICAgICAgIGlmIChkb20ubm9kZVZhbHVlICE9PSBjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgZG9tLm5vZGVWYWx1ZSA9IGNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHBhcmVudERvbS50ZXh0Q29udGVudCA9IGNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGh5ZHJhdGUoY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgfVxyXG4gICAgLy8gY2xlYXIgYW55IG90aGVyIERPTSBub2RlcywgdGhlcmUgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgZW50cnkgZm9yIHRoZSByb290XHJcbiAgICB3aGlsZSAoZG9tKSB7XHJcbiAgICAgICAgdmFyIG5leHRTaWJsaW5nID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb20pO1xyXG4gICAgICAgIGRvbSA9IG5leHRTaWJsaW5nO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVUZXh0KHZOb2RlLCBkb20pIHtcclxuICAgIGlmIChkb20ubm9kZVR5cGUgIT09IDMpIHtcclxuICAgICAgICB2YXIgbmV3RG9tID0gbW91bnRpbmdfMS5tb3VudFRleHQodk5vZGUsIG51bGwpO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IG5ld0RvbTtcclxuICAgICAgICB1dGlsc18xLnJlcGxhY2VDaGlsZChkb20ucGFyZW50Tm9kZSwgbmV3RG9tLCBkb20pO1xyXG4gICAgICAgIHJldHVybiBuZXdEb207XHJcbiAgICB9XHJcbiAgICB2YXIgdGV4dCA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgaWYgKGRvbS5ub2RlVmFsdWUgIT09IHRleHQpIHtcclxuICAgICAgICBkb20ubm9kZVZhbHVlID0gdGV4dDtcclxuICAgIH1cclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZVZvaWQodk5vZGUsIGRvbSkge1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlKHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVDb21wb25lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgKGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLykgPiAwKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVFbGVtZW50KHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICByZXR1cm4gaHlkcmF0ZVRleHQodk5vZGUsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDQwOTYgLyogVm9pZCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlVm9pZCh2Tm9kZSwgZG9tKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChmYWxzZSkge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJoeWRyYXRlKCkgZXhwZWN0cyBhIHZhbGlkIFZOb2RlLCBpbnN0ZWFkIGl0IHJlY2VpdmVkIGFuIG9iamVjdCB3aXRoIHRoZSB0eXBlIFxcXCJcIiArIHR5cGVvZiB2Tm9kZSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tKSkge1xyXG4gICAgICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgdXRpbHNfMS5FTVBUWV9PQkosIGZhbHNlKTtcclxuICAgICAgICAgICAgZG9tID0gcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIGFueSBvdGhlciBET00gbm9kZXMsIHRoZXJlIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGVudHJ5IGZvciB0aGUgcm9vdFxyXG4gICAgICAgICAgICB3aGlsZSAoZG9tID0gZG9tLm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZXhwb3J0cy5oeWRyYXRlUm9vdCA9IGh5ZHJhdGVSb290O1xyXG5cblxuLyoqKi8gfSksXG4vKiA0NyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG5mdW5jdGlvbiBpc0NoZWNrZWRUeXBlKHR5cGUpIHtcclxuICAgIHJldHVybiB0eXBlID09PSAnY2hlY2tib3gnIHx8IHR5cGUgPT09ICdyYWRpbyc7XHJcbn1cclxuZXhwb3J0cy5pc0NoZWNrZWRUeXBlID0gaXNDaGVja2VkVHlwZTtcclxuZnVuY3Rpb24gb25UZXh0SW5wdXRDaGFuZ2UoZSkge1xyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25JbnB1dCkge1xyXG4gICAgICAgIHZhciBldmVudF8xID0gcHJvcHMub25JbnB1dDtcclxuICAgICAgICBpZiAoZXZlbnRfMS5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8xLmV2ZW50KGV2ZW50XzEuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8xKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uaW5wdXQpIHtcclxuICAgICAgICBwcm9wcy5vbmlucHV0KGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3UHJvcHMsIGRvbSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gd3JhcHBlZE9uQ2hhbmdlKGUpIHtcclxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZXZlbnQgPSBwcm9wcy5vbkNoYW5nZTtcclxuICAgIGlmIChldmVudC5ldmVudCkge1xyXG4gICAgICAgIGV2ZW50LmV2ZW50KGV2ZW50LmRhdGEsIGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZXZlbnQoZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gb25DaGVja2JveENoYW5nZShlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBUaGlzIGNsaWNrIHNob3VsZCBub3QgcHJvcGFnYXRlIGl0cyBmb3IgaW50ZXJuYWwgdXNlXHJcbiAgICB2YXIgdk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHByZXZpb3VzVmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmIChwcm9wcy5vbkNsaWNrKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzIgPSBwcm9wcy5vbkNsaWNrO1xyXG4gICAgICAgIGlmIChldmVudF8yLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzIuZXZlbnQoZXZlbnRfMi5kYXRhLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzIoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvcHMub25jbGljaykge1xyXG4gICAgICAgIHByb3BzLm9uY2xpY2soZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdQcm9wcywgZG9tKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzSW5wdXQodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZShuZXh0UHJvcHNPckVtcHR5LCBkb20pO1xyXG4gICAgaWYgKG1vdW50aW5nICYmIGlzQ29udHJvbGxlZCkge1xyXG4gICAgICAgIGlmIChpc0NoZWNrZWRUeXBlKG5leHRQcm9wc09yRW1wdHkudHlwZSkpIHtcclxuICAgICAgICAgICAgZG9tLm9uY2xpY2sgPSBvbkNoZWNrYm94Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25jbGljay53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmlucHV0ID0gb25UZXh0SW5wdXRDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIGRvbS5vbmlucHV0LndyYXBwZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV4dFByb3BzT3JFbXB0eS5vbkNoYW5nZSkge1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2UgPSB3cmFwcGVkT25DaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIGRvbS5vbmNoYW5nZS53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wcm9jZXNzSW5wdXQgPSBwcm9jZXNzSW5wdXQ7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tKSB7XHJcbiAgICB2YXIgdHlwZSA9IG5leHRQcm9wc09yRW1wdHkudHlwZTtcclxuICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkudmFsdWU7XHJcbiAgICB2YXIgY2hlY2tlZCA9IG5leHRQcm9wc09yRW1wdHkuY2hlY2tlZDtcclxuICAgIHZhciBtdWx0aXBsZSA9IG5leHRQcm9wc09yRW1wdHkubXVsdGlwbGU7XHJcbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS5kZWZhdWx0VmFsdWU7XHJcbiAgICB2YXIgaGFzVmFsdWUgPSAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKTtcclxuICAgIGlmICh0eXBlICYmIHR5cGUgIT09IGRvbS50eXBlKSB7XHJcbiAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgndHlwZScsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKG11bHRpcGxlICYmIG11bHRpcGxlICE9PSBkb20ubXVsdGlwbGUpIHtcclxuICAgICAgICBkb20ubXVsdGlwbGUgPSBtdWx0aXBsZTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGRlZmF1bHRWYWx1ZSkgJiYgIWhhc1ZhbHVlKSB7XHJcbiAgICAgICAgZG9tLmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZSArICcnO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQ2hlY2tlZFR5cGUodHlwZSkpIHtcclxuICAgICAgICBpZiAoaGFzVmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoZWNrZWQpKSB7XHJcbiAgICAgICAgICAgIGRvbS5jaGVja2VkID0gY2hlY2tlZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaGFzVmFsdWUgJiYgZG9tLnZhbHVlICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICBkb20udmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGVja2VkKSkge1xyXG4gICAgICAgICAgICBkb20uY2hlY2tlZCA9IGNoZWNrZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYXBwbHlWYWx1ZSA9IGFwcGx5VmFsdWU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgVk5vZGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbmZ1bmN0aW9uIHVwZGF0ZUNoaWxkT3B0aW9uR3JvdXAodk5vZGUsIHZhbHVlKSB7XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICBpZiAodHlwZSA9PT0gJ29wdGdyb3VwJykge1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb24oY2hpbGRyZW5baV0sIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbihjaGlsZHJlbiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uKHZOb2RlLCB2YWx1ZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlQ2hpbGRPcHRpb24odk5vZGUsIHZhbHVlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICAvLyB3ZSBkbyB0aGlzIGFzIG11bHRpcGxlIG1heSBoYXZlIGNoYW5nZWRcclxuICAgIGRvbS52YWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmluZGV4T2YocHJvcHMudmFsdWUpICE9PSAtMSkgfHwgcHJvcHMudmFsdWUgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgZG9tLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodmFsdWUpIHx8ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMuc2VsZWN0ZWQpKSB7XHJcbiAgICAgICAgZG9tLnNlbGVjdGVkID0gcHJvcHMuc2VsZWN0ZWQgfHwgZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gb25TZWxlY3RDaGFuZ2UoZSkge1xyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25DaGFuZ2UpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uQ2hhbmdlO1xyXG4gICAgICAgIGlmIChldmVudF8xLmV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEuZXZlbnQoZXZlbnRfMS5kYXRhLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50XzEoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvcHMub25jaGFuZ2UpIHtcclxuICAgICAgICBwcm9wcy5vbmNoYW5nZShlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1ZOb2RlLCBkb20sIG5ld1Byb3BzLCBmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc1NlbGVjdCh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKSB7XHJcbiAgICBhcHBseVZhbHVlKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBkb20ub25jaGFuZ2UgPSBvblNlbGVjdENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICBkb20ub25jaGFuZ2Uud3JhcHBlZCA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wcm9jZXNzU2VsZWN0ID0gcHJvY2Vzc1NlbGVjdDtcclxuZnVuY3Rpb24gYXBwbHlWYWx1ZSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZykge1xyXG4gICAgaWYgKG5leHRQcm9wc09yRW1wdHkubXVsdGlwbGUgIT09IGRvbS5tdWx0aXBsZSkge1xyXG4gICAgICAgIGRvbS5tdWx0aXBsZSA9IG5leHRQcm9wc09yRW1wdHkubXVsdGlwbGU7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS52YWx1ZTtcclxuICAgICAgICBpZiAobW91bnRpbmcgJiYgaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKSkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkuZGVmYXVsdFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uR3JvdXAoY2hpbGRyZW5baV0sIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKGNoaWxkcmVuLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYXBwbHlWYWx1ZSA9IGFwcGx5VmFsdWU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbmZ1bmN0aW9uIHdyYXBwZWRPbkNoYW5nZShlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGV2ZW50ID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICBpZiAoZXZlbnQuZXZlbnQpIHtcclxuICAgICAgICBldmVudC5ldmVudChldmVudC5kYXRhLCBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV2ZW50KGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uVGV4dGFyZWFJbnB1dENoYW5nZShlKSB7XHJcbiAgICB2YXIgdk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uSW5wdXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmlucHV0KSB7XHJcbiAgICAgICAgcHJvcHMub25pbnB1dChlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1ZOb2RlLCB2Tm9kZS5kb20sIGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzVGV4dGFyZWEodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZShuZXh0UHJvcHNPckVtcHR5LCBkb20sIG1vdW50aW5nKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBkb20ub25pbnB1dCA9IG9uVGV4dGFyZWFJbnB1dENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICBkb20ub25pbnB1dC53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAobmV4dFByb3BzT3JFbXB0eS5vbkNoYW5nZSkge1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2UgPSB3cmFwcGVkT25DaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIGRvbS5vbmNoYW5nZS53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wcm9jZXNzVGV4dGFyZWEgPSBwcm9jZXNzVGV4dGFyZWE7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tLCBtb3VudGluZykge1xyXG4gICAgdmFyIHZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS52YWx1ZTtcclxuICAgIHZhciBkb21WYWx1ZSA9IGRvbS52YWx1ZTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodmFsdWUpKSB7XHJcbiAgICAgICAgaWYgKG1vdW50aW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoZGVmYXVsdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gZG9tVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20udmFsdWUgPSBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZG9tVmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qIFRoZXJlIGlzIHZhbHVlIHNvIGtlZXAgaXQgY29udHJvbGxlZCAqL1xyXG4gICAgICAgIGlmIChkb21WYWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYXBwbHlWYWx1ZSA9IGFwcGx5VmFsdWU7XHJcblxuXG4vKioqLyB9KSxcbi8qIDUwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xyXG5leHBvcnRzLk5PX09QID0gaW5mZXJub19zaGFyZWRfMS5OT19PUDtcclxudmFyIG5vcm1hbGl6YXRpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xyXG5leHBvcnRzLmdldEZsYWdzRm9yRWxlbWVudFZub2RlID0gbm9ybWFsaXphdGlvbl8xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlO1xyXG5leHBvcnRzLmludGVybmFsX25vcm1hbGl6ZSA9IG5vcm1hbGl6YXRpb25fMS5ub3JtYWxpemU7XHJcbnZhciBvcHRpb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xyXG5leHBvcnRzLm9wdGlvbnMgPSBvcHRpb25zXzEub3B0aW9ucztcclxudmFyIFZOb2Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxuZXhwb3J0cy5jbG9uZVZOb2RlID0gVk5vZGVzXzEuY2xvbmVWTm9kZTtcclxuZXhwb3J0cy5jcmVhdGVWTm9kZSA9IFZOb2Rlc18xLmNyZWF0ZVZOb2RlO1xyXG52YXIgY29uc3RhbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xyXG5leHBvcnRzLmludGVybmFsX2lzVW5pdGxlc3NOdW1iZXIgPSBjb25zdGFudHNfMS5pc1VuaXRsZXNzTnVtYmVyO1xyXG52YXIgbGlua0V2ZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcclxuZXhwb3J0cy5saW5rRXZlbnQgPSBsaW5rRXZlbnRfMS5saW5rRXZlbnQ7XHJcbnZhciBwYXRjaGluZ18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcclxuZXhwb3J0cy5pbnRlcm5hbF9wYXRjaCA9IHBhdGNoaW5nXzEucGF0Y2g7XHJcbnZhciByZW5kZXJpbmdfMSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XHJcbmV4cG9ydHMuaW50ZXJuYWxfRE9NTm9kZU1hcCA9IHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcDtcclxuZXhwb3J0cy5jcmVhdGVSZW5kZXJlciA9IHJlbmRlcmluZ18xLmNyZWF0ZVJlbmRlcmVyO1xyXG5leHBvcnRzLmZpbmRET01Ob2RlID0gcmVuZGVyaW5nXzEuZmluZERPTU5vZGU7XHJcbmV4cG9ydHMucmVuZGVyID0gcmVuZGVyaW5nXzEucmVuZGVyO1xyXG52YXIgdXRpbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbmV4cG9ydHMuRU1QVFlfT0JKID0gdXRpbHNfMS5FTVBUWV9PQko7XHJcbmlmIChmYWxzZSkge1xyXG4gICAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5ICovXHJcbiAgICB2YXIgdGVzdEZ1bmMgPSBmdW5jdGlvbiB0ZXN0Rm4oKSB7IH07XHJcbiAgICBpZiAoKHRlc3RGdW5jLm5hbWUgfHwgdGVzdEZ1bmMudG9TdHJpbmcoKSkuaW5kZXhPZigndGVzdEZuJykgPT09IC0xKSB7XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCgnSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhIG1pbmlmaWVkIGNvcHkgb2YgdGhlIGRldmVsb3BtZW50IGJ1aWxkICcgK1xyXG4gICAgICAgICAgICAnb2YgSW5mZXJuby4gV2hlbiBkZXBsb3lpbmcgSW5mZXJubyBhcHBzIHRvIHByb2R1Y3Rpb24sIG1ha2Ugc3VyZSB0byB1c2UgJyArXHJcbiAgICAgICAgICAgICd0aGUgcHJvZHVjdGlvbiBidWlsZCB3aGljaCBza2lwcyBkZXZlbG9wbWVudCB3YXJuaW5ncyBhbmQgaXMgZmFzdGVyLiAnICtcclxuICAgICAgICAgICAgJ1NlZSBodHRwOi8vaW5mZXJub2pzLm9yZyBmb3IgbW9yZSBkZXRhaWxzLicpKTtcclxuICAgIH1cclxufVxyXG52YXIgdmVyc2lvbiA9ICczLjEuMCc7XHJcbmV4cG9ydHMudmVyc2lvbiA9IHZlcnNpb247XHJcbi8vIHdlIGR1cGxpY2F0ZSBpdCBzbyBpdCBwbGF5cyBuaWNlbHkgd2l0aCBkaWZmZXJlbnQgbW9kdWxlIGxvYWRpbmcgc3lzdGVtc1xyXG5leHBvcnRzLmRlZmF1bHQgPSB7XHJcbiAgICBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTogbm9ybWFsaXphdGlvbl8xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlLFxyXG4gICAgbGlua0V2ZW50OiBsaW5rRXZlbnRfMS5saW5rRXZlbnQsXHJcbiAgICAvLyBjb3JlIHNoYXBlc1xyXG4gICAgY3JlYXRlVk5vZGU6IFZOb2Rlc18xLmNyZWF0ZVZOb2RlLFxyXG4gICAgLy8gY2xvbmluZ1xyXG4gICAgY2xvbmVWTm9kZTogVk5vZGVzXzEuY2xvbmVWTm9kZSxcclxuICAgIC8vIHVzZWQgdG8gc2hhcmVkIGNvbW1vbiBpdGVtcyBiZXR3ZWVuIEluZmVybm8gbGlic1xyXG4gICAgTk9fT1A6IGluZmVybm9fc2hhcmVkXzEuTk9fT1AsXHJcbiAgICBFTVBUWV9PQko6IHV0aWxzXzEuRU1QVFlfT0JKLFxyXG4gICAgLy8gRE9NXHJcbiAgICByZW5kZXI6IHJlbmRlcmluZ18xLnJlbmRlcixcclxuICAgIGZpbmRET01Ob2RlOiByZW5kZXJpbmdfMS5maW5kRE9NTm9kZSxcclxuICAgIGNyZWF0ZVJlbmRlcmVyOiByZW5kZXJpbmdfMS5jcmVhdGVSZW5kZXJlcixcclxuICAgIG9wdGlvbnM6IG9wdGlvbnNfMS5vcHRpb25zLFxyXG4gICAgdmVyc2lvbjogdmVyc2lvbixcclxuICAgIGludGVybmFsX3BhdGNoOiBwYXRjaGluZ18xLnBhdGNoLFxyXG4gICAgaW50ZXJuYWxfRE9NTm9kZU1hcDogcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLFxyXG4gICAgaW50ZXJuYWxfaXNVbml0bGVzc051bWJlcjogY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlcixcclxuICAgIGludGVybmFsX25vcm1hbGl6ZTogbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZVxyXG59O1xyXG5cblxuLyoqKi8gfSksXG4vKiA1MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cblxuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgaW52YXJpYW50ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKGZhbHNlKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG5cblxuLyoqKi8gfSksXG4vKiA1MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuLyoqKi8gfSksXG4vKiA1MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcGF0aFRvUmVnRXhwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NClcclxuXHJcbi8qKlxyXG4gKiBFeHBvc2UgYHBhdGhUb1JlZ2V4cGAgYXMgRVM2IG1vZHVsZVxyXG4gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdFeHA7XHJcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGF0aFRvUmVnRXhwLnBhcnNlXHJcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBwYXRoVG9SZWdFeHAuY29tcGlsZVxyXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gcGF0aFRvUmVnRXhwLnRva2Vuc1RvRnVuY3Rpb25cclxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSBwYXRoVG9SZWdFeHAudG9rZW5zVG9SZWdFeHBcclxubW9kdWxlLmV4cG9ydHNbJ2RlZmF1bHQnXSA9IG1vZHVsZS5leHBvcnRzO1xyXG5cblxuLyoqKi8gfSksXG4vKiA1NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNhcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpXG5cbi8qKlxuICogRXhwb3NlIGBwYXRoVG9SZWdleHBgLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGhUb1JlZ2V4cFxubW9kdWxlLmV4cG9ydHMucGFyc2UgPSBwYXJzZVxubW9kdWxlLmV4cG9ydHMuY29tcGlsZSA9IGNvbXBpbGVcbm1vZHVsZS5leHBvcnRzLnRva2Vuc1RvRnVuY3Rpb24gPSB0b2tlbnNUb0Z1bmN0aW9uXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb1JlZ0V4cCA9IHRva2Vuc1RvUmVnRXhwXG5cbi8qKlxuICogVGhlIG1haW4gcGF0aCBtYXRjaGluZyByZWdleHAgdXRpbGl0eS5cbiAqXG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG52YXIgUEFUSF9SRUdFWFAgPSBuZXcgUmVnRXhwKFtcbiAgLy8gTWF0Y2ggZXNjYXBlZCBjaGFyYWN0ZXJzIHRoYXQgd291bGQgb3RoZXJ3aXNlIGFwcGVhciBpbiBmdXR1cmUgbWF0Y2hlcy5cbiAgLy8gVGhpcyBhbGxvd3MgdGhlIHVzZXIgdG8gZXNjYXBlIHNwZWNpYWwgY2hhcmFjdGVycyB0aGF0IHdvbid0IHRyYW5zZm9ybS5cbiAgJyhcXFxcXFxcXC4pJyxcbiAgLy8gTWF0Y2ggRXhwcmVzcy1zdHlsZSBwYXJhbWV0ZXJzIGFuZCB1bi1uYW1lZCBwYXJhbWV0ZXJzIHdpdGggYSBwcmVmaXhcbiAgLy8gYW5kIG9wdGlvbmFsIHN1ZmZpeGVzLiBNYXRjaGVzIGFwcGVhciBhczpcbiAgLy9cbiAgLy8gXCIvOnRlc3QoXFxcXGQrKT9cIiA9PiBbXCIvXCIsIFwidGVzdFwiLCBcIlxcZCtcIiwgdW5kZWZpbmVkLCBcIj9cIiwgdW5kZWZpbmVkXVxuICAvLyBcIi9yb3V0ZShcXFxcZCspXCIgID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBcIlxcZCtcIiwgdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gIC8vIFwiLypcIiAgICAgICAgICAgID0+IFtcIi9cIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBcIipcIl1cbiAgJyhbXFxcXC8uXSk/KD86KD86XFxcXDooXFxcXHcrKSg/OlxcXFwoKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKCldKSspXFxcXCkpP3xcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKShbKyo/XSk/fChcXFxcKikpJ1xuXS5qb2luKCd8JyksICdnJylcblxuLyoqXG4gKiBQYXJzZSBhIHN0cmluZyBmb3IgdGhlIHJhdyB0b2tlbnMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSAgc3RyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSBvcHRpb25zXG4gKiBAcmV0dXJuIHshQXJyYXl9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlIChzdHIsIG9wdGlvbnMpIHtcbiAgdmFyIHRva2VucyA9IFtdXG4gIHZhciBrZXkgPSAwXG4gIHZhciBpbmRleCA9IDBcbiAgdmFyIHBhdGggPSAnJ1xuICB2YXIgZGVmYXVsdERlbGltaXRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kZWxpbWl0ZXIgfHwgJy8nXG4gIHZhciByZXNcblxuICB3aGlsZSAoKHJlcyA9IFBBVEhfUkVHRVhQLmV4ZWMoc3RyKSkgIT0gbnVsbCkge1xuICAgIHZhciBtID0gcmVzWzBdXG4gICAgdmFyIGVzY2FwZWQgPSByZXNbMV1cbiAgICB2YXIgb2Zmc2V0ID0gcmVzLmluZGV4XG4gICAgcGF0aCArPSBzdHIuc2xpY2UoaW5kZXgsIG9mZnNldClcbiAgICBpbmRleCA9IG9mZnNldCArIG0ubGVuZ3RoXG5cbiAgICAvLyBJZ25vcmUgYWxyZWFkeSBlc2NhcGVkIHNlcXVlbmNlcy5cbiAgICBpZiAoZXNjYXBlZCkge1xuICAgICAgcGF0aCArPSBlc2NhcGVkWzFdXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIHZhciBuZXh0ID0gc3RyW2luZGV4XVxuICAgIHZhciBwcmVmaXggPSByZXNbMl1cbiAgICB2YXIgbmFtZSA9IHJlc1szXVxuICAgIHZhciBjYXB0dXJlID0gcmVzWzRdXG4gICAgdmFyIGdyb3VwID0gcmVzWzVdXG4gICAgdmFyIG1vZGlmaWVyID0gcmVzWzZdXG4gICAgdmFyIGFzdGVyaXNrID0gcmVzWzddXG5cbiAgICAvLyBQdXNoIHRoZSBjdXJyZW50IHBhdGggb250byB0aGUgdG9rZW5zLlxuICAgIGlmIChwYXRoKSB7XG4gICAgICB0b2tlbnMucHVzaChwYXRoKVxuICAgICAgcGF0aCA9ICcnXG4gICAgfVxuXG4gICAgdmFyIHBhcnRpYWwgPSBwcmVmaXggIT0gbnVsbCAmJiBuZXh0ICE9IG51bGwgJiYgbmV4dCAhPT0gcHJlZml4XG4gICAgdmFyIHJlcGVhdCA9IG1vZGlmaWVyID09PSAnKycgfHwgbW9kaWZpZXIgPT09ICcqJ1xuICAgIHZhciBvcHRpb25hbCA9IG1vZGlmaWVyID09PSAnPycgfHwgbW9kaWZpZXIgPT09ICcqJ1xuICAgIHZhciBkZWxpbWl0ZXIgPSByZXNbMl0gfHwgZGVmYXVsdERlbGltaXRlclxuICAgIHZhciBwYXR0ZXJuID0gY2FwdHVyZSB8fCBncm91cFxuXG4gICAgdG9rZW5zLnB1c2goe1xuICAgICAgbmFtZTogbmFtZSB8fCBrZXkrKyxcbiAgICAgIHByZWZpeDogcHJlZml4IHx8ICcnLFxuICAgICAgZGVsaW1pdGVyOiBkZWxpbWl0ZXIsXG4gICAgICBvcHRpb25hbDogb3B0aW9uYWwsXG4gICAgICByZXBlYXQ6IHJlcGVhdCxcbiAgICAgIHBhcnRpYWw6IHBhcnRpYWwsXG4gICAgICBhc3RlcmlzazogISFhc3RlcmlzayxcbiAgICAgIHBhdHRlcm46IHBhdHRlcm4gPyBlc2NhcGVHcm91cChwYXR0ZXJuKSA6IChhc3RlcmlzayA/ICcuKicgOiAnW14nICsgZXNjYXBlU3RyaW5nKGRlbGltaXRlcikgKyAnXSs/JylcbiAgICB9KVxuICB9XG5cbiAgLy8gTWF0Y2ggYW55IGNoYXJhY3RlcnMgc3RpbGwgcmVtYWluaW5nLlxuICBpZiAoaW5kZXggPCBzdHIubGVuZ3RoKSB7XG4gICAgcGF0aCArPSBzdHIuc3Vic3RyKGluZGV4KVxuICB9XG5cbiAgLy8gSWYgdGhlIHBhdGggZXhpc3RzLCBwdXNoIGl0IG9udG8gdGhlIGVuZC5cbiAgaWYgKHBhdGgpIHtcbiAgICB0b2tlbnMucHVzaChwYXRoKVxuICB9XG5cbiAgcmV0dXJuIHRva2Vuc1xufVxuXG4vKipcbiAqIENvbXBpbGUgYSBzdHJpbmcgdG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbiBmb3IgdGhlIHBhdGguXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgICAgICBzdHJcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IWZ1bmN0aW9uKE9iamVjdD0sIE9iamVjdD0pfVxuICovXG5mdW5jdGlvbiBjb21waWxlIChzdHIsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRva2Vuc1RvRnVuY3Rpb24ocGFyc2Uoc3RyLCBvcHRpb25zKSlcbn1cblxuLyoqXG4gKiBQcmV0dGllciBlbmNvZGluZyBvZiBVUkkgcGF0aCBzZWdtZW50cy5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZVVSSUNvbXBvbmVudFByZXR0eSAoc3RyKSB7XG4gIHJldHVybiBlbmNvZGVVUkkoc3RyKS5yZXBsYWNlKC9bXFwvPyNdL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG4vKipcbiAqIEVuY29kZSB0aGUgYXN0ZXJpc2sgcGFyYW1ldGVyLiBTaW1pbGFyIHRvIGBwcmV0dHlgLCBidXQgYWxsb3dzIHNsYXNoZXMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVBc3RlcmlzayAoc3RyKSB7XG4gIHJldHVybiBlbmNvZGVVUkkoc3RyKS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG4vKipcbiAqIEV4cG9zZSBhIG1ldGhvZCBmb3IgdHJhbnNmb3JtaW5nIHRva2VucyBpbnRvIHRoZSBwYXRoIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiB0b2tlbnNUb0Z1bmN0aW9uICh0b2tlbnMpIHtcbiAgLy8gQ29tcGlsZSBhbGwgdGhlIHRva2VucyBpbnRvIHJlZ2V4cHMuXG4gIHZhciBtYXRjaGVzID0gbmV3IEFycmF5KHRva2Vucy5sZW5ndGgpXG5cbiAgLy8gQ29tcGlsZSBhbGwgdGhlIHBhdHRlcm5zIGJlZm9yZSBjb21waWxhdGlvbi5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodHlwZW9mIHRva2Vuc1tpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG1hdGNoZXNbaV0gPSBuZXcgUmVnRXhwKCdeKD86JyArIHRva2Vuc1tpXS5wYXR0ZXJuICsgJykkJylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgb3B0cykge1xuICAgIHZhciBwYXRoID0gJydcbiAgICB2YXIgZGF0YSA9IG9iaiB8fCB7fVxuICAgIHZhciBvcHRpb25zID0gb3B0cyB8fCB7fVxuICAgIHZhciBlbmNvZGUgPSBvcHRpb25zLnByZXR0eSA/IGVuY29kZVVSSUNvbXBvbmVudFByZXR0eSA6IGVuY29kZVVSSUNvbXBvbmVudFxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXVxuXG4gICAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICBwYXRoICs9IHRva2VuXG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgdmFyIHZhbHVlID0gZGF0YVt0b2tlbi5uYW1lXVxuICAgICAgdmFyIHNlZ21lbnRcblxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgICAgLy8gUHJlcGVuZCBwYXJ0aWFsIHNlZ21lbnQgcHJlZml4ZXMuXG4gICAgICAgICAgaWYgKHRva2VuLnBhcnRpYWwpIHtcbiAgICAgICAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIGJlIGRlZmluZWQnKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc2FycmF5KHZhbHVlKSkge1xuICAgICAgICBpZiAoIXRva2VuLnJlcGVhdCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbm90IHJlcGVhdCwgYnV0IHJlY2VpdmVkIGAnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ2AnKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBub3QgYmUgZW1wdHknKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsdWUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBzZWdtZW50ID0gZW5jb2RlKHZhbHVlW2pdKVxuXG4gICAgICAgICAgaWYgKCFtYXRjaGVzW2ldLnRlc3Qoc2VnbWVudCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGFsbCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG1hdGNoIFwiJyArIHRva2VuLnBhdHRlcm4gKyAnXCIsIGJ1dCByZWNlaXZlZCBgJyArIEpTT04uc3RyaW5naWZ5KHNlZ21lbnQpICsgJ2AnKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhdGggKz0gKGogPT09IDAgPyB0b2tlbi5wcmVmaXggOiB0b2tlbi5kZWxpbWl0ZXIpICsgc2VnbWVudFxuICAgICAgICB9XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgc2VnbWVudCA9IHRva2VuLmFzdGVyaXNrID8gZW5jb2RlQXN0ZXJpc2sodmFsdWUpIDogZW5jb2RlKHZhbHVlKVxuXG4gICAgICBpZiAoIW1hdGNoZXNbaV0udGVzdChzZWdtZW50KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG1hdGNoIFwiJyArIHRva2VuLnBhdHRlcm4gKyAnXCIsIGJ1dCByZWNlaXZlZCBcIicgKyBzZWdtZW50ICsgJ1wiJylcbiAgICAgIH1cblxuICAgICAgcGF0aCArPSB0b2tlbi5wcmVmaXggKyBzZWdtZW50XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGhcbiAgfVxufVxuXG4vKipcbiAqIEVzY2FwZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBzdHJpbmcuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZXNjYXBlU3RyaW5nIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4rKj89XiE6JHt9KClbXFxdfFxcL1xcXFxdKS9nLCAnXFxcXCQxJylcbn1cblxuLyoqXG4gKiBFc2NhcGUgdGhlIGNhcHR1cmluZyBncm91cCBieSBlc2NhcGluZyBzcGVjaWFsIGNoYXJhY3RlcnMgYW5kIG1lYW5pbmcuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBncm91cFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlc2NhcGVHcm91cCAoZ3JvdXApIHtcbiAgcmV0dXJuIGdyb3VwLnJlcGxhY2UoLyhbPSE6JFxcLygpXSkvZywgJ1xcXFwkMScpXG59XG5cbi8qKlxuICogQXR0YWNoIHRoZSBrZXlzIGFzIGEgcHJvcGVydHkgb2YgdGhlIHJlZ2V4cC5cbiAqXG4gKiBAcGFyYW0gIHshUmVnRXhwfSByZVxuICogQHBhcmFtICB7QXJyYXl9ICAga2V5c1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gYXR0YWNoS2V5cyAocmUsIGtleXMpIHtcbiAgcmUua2V5cyA9IGtleXNcbiAgcmV0dXJuIHJlXG59XG5cbi8qKlxuICogR2V0IHRoZSBmbGFncyBmb3IgYSByZWdleHAgZnJvbSB0aGUgb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZmxhZ3MgKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG9wdGlvbnMuc2Vuc2l0aXZlID8gJycgOiAnaSdcbn1cblxuLyoqXG4gKiBQdWxsIG91dCBrZXlzIGZyb20gYSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IVJlZ0V4cH0gcGF0aFxuICogQHBhcmFtICB7IUFycmF5fSAga2V5c1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gcmVnZXhwVG9SZWdleHAgKHBhdGgsIGtleXMpIHtcbiAgLy8gVXNlIGEgbmVnYXRpdmUgbG9va2FoZWFkIHRvIG1hdGNoIG9ubHkgY2FwdHVyaW5nIGdyb3Vwcy5cbiAgdmFyIGdyb3VwcyA9IHBhdGguc291cmNlLm1hdGNoKC9cXCgoPyFcXD8pL2cpXG5cbiAgaWYgKGdyb3Vwcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBuYW1lOiBpLFxuICAgICAgICBwcmVmaXg6IG51bGwsXG4gICAgICAgIGRlbGltaXRlcjogbnVsbCxcbiAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICByZXBlYXQ6IGZhbHNlLFxuICAgICAgICBwYXJ0aWFsOiBmYWxzZSxcbiAgICAgICAgYXN0ZXJpc2s6IGZhbHNlLFxuICAgICAgICBwYXR0ZXJuOiBudWxsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhdHRhY2hLZXlzKHBhdGgsIGtleXMpXG59XG5cbi8qKlxuICogVHJhbnNmb3JtIGFuIGFycmF5IGludG8gYSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IUFycmF5fSAgcGF0aFxuICogQHBhcmFtICB7QXJyYXl9ICAga2V5c1xuICogQHBhcmFtICB7IU9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gYXJyYXlUb1JlZ2V4cCAocGF0aCwga2V5cywgb3B0aW9ucykge1xuICB2YXIgcGFydHMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIHBhcnRzLnB1c2gocGF0aFRvUmVnZXhwKHBhdGhbaV0sIGtleXMsIG9wdGlvbnMpLnNvdXJjZSlcbiAgfVxuXG4gIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKCcoPzonICsgcGFydHMuam9pbignfCcpICsgJyknLCBmbGFncyhvcHRpb25zKSlcblxuICByZXR1cm4gYXR0YWNoS2V5cyhyZWdleHAsIGtleXMpXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgcGF0aCByZWdleHAgZnJvbSBzdHJpbmcgaW5wdXQuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSAgcGF0aFxuICogQHBhcmFtICB7IUFycmF5fSAga2V5c1xuICogQHBhcmFtICB7IU9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gc3RyaW5nVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRva2Vuc1RvUmVnRXhwKHBhcnNlKHBhdGgsIG9wdGlvbnMpLCBrZXlzLCBvcHRpb25zKVxufVxuXG4vKipcbiAqIEV4cG9zZSBhIGZ1bmN0aW9uIGZvciB0YWtpbmcgdG9rZW5zIGFuZCByZXR1cm5pbmcgYSBSZWdFeHAuXG4gKlxuICogQHBhcmFtICB7IUFycmF5fSAgICAgICAgICB0b2tlbnNcbiAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpPX0ga2V5c1xuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiB0b2tlbnNUb1JlZ0V4cCAodG9rZW5zLCBrZXlzLCBvcHRpb25zKSB7XG4gIGlmICghaXNhcnJheShrZXlzKSkge1xuICAgIG9wdGlvbnMgPSAvKiogQHR5cGUgeyFPYmplY3R9ICovIChrZXlzIHx8IG9wdGlvbnMpXG4gICAga2V5cyA9IFtdXG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIHZhciBzdHJpY3QgPSBvcHRpb25zLnN0cmljdFxuICB2YXIgZW5kID0gb3B0aW9ucy5lbmQgIT09IGZhbHNlXG4gIHZhciByb3V0ZSA9ICcnXG5cbiAgLy8gSXRlcmF0ZSBvdmVyIHRoZSB0b2tlbnMgYW5kIGNyZWF0ZSBvdXIgcmVnZXhwIHN0cmluZy5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV1cblxuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICByb3V0ZSArPSBlc2NhcGVTdHJpbmcodG9rZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcmVmaXggPSBlc2NhcGVTdHJpbmcodG9rZW4ucHJlZml4KVxuICAgICAgdmFyIGNhcHR1cmUgPSAnKD86JyArIHRva2VuLnBhdHRlcm4gKyAnKSdcblxuICAgICAga2V5cy5wdXNoKHRva2VuKVxuXG4gICAgICBpZiAodG9rZW4ucmVwZWF0KSB7XG4gICAgICAgIGNhcHR1cmUgKz0gJyg/OicgKyBwcmVmaXggKyBjYXB0dXJlICsgJykqJ1xuICAgICAgfVxuXG4gICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgaWYgKCF0b2tlbi5wYXJ0aWFsKSB7XG4gICAgICAgICAgY2FwdHVyZSA9ICcoPzonICsgcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpKT8nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FwdHVyZSA9IHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKT8nXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyknXG4gICAgICB9XG5cbiAgICAgIHJvdXRlICs9IGNhcHR1cmVcbiAgICB9XG4gIH1cblxuICB2YXIgZGVsaW1pdGVyID0gZXNjYXBlU3RyaW5nKG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJylcbiAgdmFyIGVuZHNXaXRoRGVsaW1pdGVyID0gcm91dGUuc2xpY2UoLWRlbGltaXRlci5sZW5ndGgpID09PSBkZWxpbWl0ZXJcblxuICAvLyBJbiBub24tc3RyaWN0IG1vZGUgd2UgYWxsb3cgYSBzbGFzaCBhdCB0aGUgZW5kIG9mIG1hdGNoLiBJZiB0aGUgcGF0aCB0b1xuICAvLyBtYXRjaCBhbHJlYWR5IGVuZHMgd2l0aCBhIHNsYXNoLCB3ZSByZW1vdmUgaXQgZm9yIGNvbnNpc3RlbmN5LiBUaGUgc2xhc2hcbiAgLy8gaXMgdmFsaWQgYXQgdGhlIGVuZCBvZiBhIHBhdGggbWF0Y2gsIG5vdCBpbiB0aGUgbWlkZGxlLiBUaGlzIGlzIGltcG9ydGFudFxuICAvLyBpbiBub24tZW5kaW5nIG1vZGUsIHdoZXJlIFwiL3Rlc3QvXCIgc2hvdWxkbid0IG1hdGNoIFwiL3Rlc3QvL3JvdXRlXCIuXG4gIGlmICghc3RyaWN0KSB7XG4gICAgcm91dGUgPSAoZW5kc1dpdGhEZWxpbWl0ZXIgPyByb3V0ZS5zbGljZSgwLCAtZGVsaW1pdGVyLmxlbmd0aCkgOiByb3V0ZSkgKyAnKD86JyArIGRlbGltaXRlciArICcoPz0kKSk/J1xuICB9XG5cbiAgaWYgKGVuZCkge1xuICAgIHJvdXRlICs9ICckJ1xuICB9IGVsc2Uge1xuICAgIC8vIEluIG5vbi1lbmRpbmcgbW9kZSwgd2UgbmVlZCB0aGUgY2FwdHVyaW5nIGdyb3VwcyB0byBtYXRjaCBhcyBtdWNoIGFzXG4gICAgLy8gcG9zc2libGUgYnkgdXNpbmcgYSBwb3NpdGl2ZSBsb29rYWhlYWQgdG8gdGhlIGVuZCBvciBuZXh0IHBhdGggc2VnbWVudC5cbiAgICByb3V0ZSArPSBzdHJpY3QgJiYgZW5kc1dpdGhEZWxpbWl0ZXIgPyAnJyA6ICcoPz0nICsgZGVsaW1pdGVyICsgJ3wkKSdcbiAgfVxuXG4gIHJldHVybiBhdHRhY2hLZXlzKG5ldyBSZWdFeHAoJ14nICsgcm91dGUsIGZsYWdzKG9wdGlvbnMpKSwga2V5cylcbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgdGhlIGdpdmVuIHBhdGggc3RyaW5nLCByZXR1cm5pbmcgYSByZWd1bGFyIGV4cHJlc3Npb24uXG4gKlxuICogQW4gZW1wdHkgYXJyYXkgY2FuIGJlIHBhc3NlZCBpbiBmb3IgdGhlIGtleXMsIHdoaWNoIHdpbGwgaG9sZCB0aGVcbiAqIHBsYWNlaG9sZGVyIGtleSBkZXNjcmlwdGlvbnMuIEZvciBleGFtcGxlLCB1c2luZyBgL3VzZXIvOmlkYCwgYGtleXNgIHdpbGxcbiAqIGNvbnRhaW4gYFt7IG5hbWU6ICdpZCcsIGRlbGltaXRlcjogJy8nLCBvcHRpb25hbDogZmFsc2UsIHJlcGVhdDogZmFsc2UgfV1gLlxuICpcbiAqIEBwYXJhbSAgeyhzdHJpbmd8UmVnRXhwfEFycmF5KX0gcGF0aFxuICogQHBhcmFtICB7KEFycmF5fE9iamVjdCk9fSAgICAgICBrZXlzXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHBhdGhUb1JlZ2V4cCAocGF0aCwga2V5cywgb3B0aW9ucykge1xuICBpZiAoIWlzYXJyYXkoa2V5cykpIHtcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxuICAgIGtleXMgPSBbXVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICBpZiAocGF0aCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIHJldHVybiByZWdleHBUb1JlZ2V4cChwYXRoLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpKVxuICB9XG5cbiAgaWYgKGlzYXJyYXkocGF0aCkpIHtcbiAgICByZXR1cm4gYXJyYXlUb1JlZ2V4cCgvKiogQHR5cGUgeyFBcnJheX0gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxuICB9XG5cbiAgcmV0dXJuIHN0cmluZ1RvUmVnZXhwKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAocGF0aCksIC8qKiBAdHlwZSB7IUFycmF5fSAqLyAoa2V5cyksIG9wdGlvbnMpXG59XG5cblxuLyoqKi8gfSksXG4vKiA1NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgaXNBYnNvbHV0ZSA9IGZ1bmN0aW9uIGlzQWJzb2x1dGUocGF0aG5hbWUpIHtcbiAgcmV0dXJuIHBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nO1xufTtcblxuLy8gQWJvdXQgMS41eCBmYXN0ZXIgdGhhbiB0aGUgdHdvLWFyZyB2ZXJzaW9uIG9mIEFycmF5I3NwbGljZSgpXG52YXIgc3BsaWNlT25lID0gZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSkge1xuICAgIGxpc3RbaV0gPSBsaXN0W2tdO1xuICB9bGlzdC5wb3AoKTtcbn07XG5cbi8vIFRoaXMgaW1wbGVtZW50YXRpb24gaXMgYmFzZWQgaGVhdmlseSBvbiBub2RlJ3MgdXJsLnBhcnNlXG52YXIgcmVzb2x2ZVBhdGhuYW1lID0gZnVuY3Rpb24gcmVzb2x2ZVBhdGhuYW1lKHRvKSB7XG4gIHZhciBmcm9tID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcblxuICB2YXIgdG9QYXJ0cyA9IHRvICYmIHRvLnNwbGl0KCcvJykgfHwgW107XG4gIHZhciBmcm9tUGFydHMgPSBmcm9tICYmIGZyb20uc3BsaXQoJy8nKSB8fCBbXTtcblxuICB2YXIgaXNUb0FicyA9IHRvICYmIGlzQWJzb2x1dGUodG8pO1xuICB2YXIgaXNGcm9tQWJzID0gZnJvbSAmJiBpc0Fic29sdXRlKGZyb20pO1xuICB2YXIgbXVzdEVuZEFicyA9IGlzVG9BYnMgfHwgaXNGcm9tQWJzO1xuXG4gIGlmICh0byAmJiBpc0Fic29sdXRlKHRvKSkge1xuICAgIC8vIHRvIGlzIGFic29sdXRlXG4gICAgZnJvbVBhcnRzID0gdG9QYXJ0cztcbiAgfSBlbHNlIGlmICh0b1BhcnRzLmxlbmd0aCkge1xuICAgIC8vIHRvIGlzIHJlbGF0aXZlLCBkcm9wIHRoZSBmaWxlbmFtZVxuICAgIGZyb21QYXJ0cy5wb3AoKTtcbiAgICBmcm9tUGFydHMgPSBmcm9tUGFydHMuY29uY2F0KHRvUGFydHMpO1xuICB9XG5cbiAgaWYgKCFmcm9tUGFydHMubGVuZ3RoKSByZXR1cm4gJy8nO1xuXG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gdm9pZCAwO1xuICBpZiAoZnJvbVBhcnRzLmxlbmd0aCkge1xuICAgIHZhciBsYXN0ID0gZnJvbVBhcnRzW2Zyb21QYXJ0cy5sZW5ndGggLSAxXTtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gbGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicgfHwgbGFzdCA9PT0gJyc7XG4gIH0gZWxzZSB7XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGZhbHNlO1xuICB9XG5cbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IGZyb21QYXJ0cy5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIHBhcnQgPSBmcm9tUGFydHNbaV07XG5cbiAgICBpZiAocGFydCA9PT0gJy4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICB9IGVsc2UgaWYgKHBhcnQgPT09ICcuLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgaWYgKCFtdXN0RW5kQWJzKSBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICBmcm9tUGFydHMudW5zaGlmdCgnLi4nKTtcbiAgfWlmIChtdXN0RW5kQWJzICYmIGZyb21QYXJ0c1swXSAhPT0gJycgJiYgKCFmcm9tUGFydHNbMF0gfHwgIWlzQWJzb2x1dGUoZnJvbVBhcnRzWzBdKSkpIGZyb21QYXJ0cy51bnNoaWZ0KCcnKTtcblxuICB2YXIgcmVzdWx0ID0gZnJvbVBhcnRzLmpvaW4oJy8nKTtcblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiByZXN1bHQuc3Vic3RyKC0xKSAhPT0gJy8nKSByZXN1bHQgKz0gJy8nO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc29sdmVQYXRobmFtZTtcblxuLyoqKi8gfSksXG4vKiA1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciB2YWx1ZUVxdWFsID0gZnVuY3Rpb24gdmFsdWVFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSByZXR1cm4gQXJyYXkuaXNBcnJheShiKSAmJiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWVFcXVhbChpdGVtLCBiW2luZGV4XSk7XG4gIH0pO1xuXG4gIHZhciBhVHlwZSA9IHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKTtcbiAgdmFyIGJUeXBlID0gdHlwZW9mIGIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGIpO1xuXG4gIGlmIChhVHlwZSAhPT0gYlR5cGUpIHJldHVybiBmYWxzZTtcblxuICBpZiAoYVR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGFWYWx1ZSA9IGEudmFsdWVPZigpO1xuICAgIHZhciBiVmFsdWUgPSBiLnZhbHVlT2YoKTtcblxuICAgIGlmIChhVmFsdWUgIT09IGEgfHwgYlZhbHVlICE9PSBiKSByZXR1cm4gdmFsdWVFcXVhbChhVmFsdWUsIGJWYWx1ZSk7XG5cbiAgICB2YXIgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcbiAgICB2YXIgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcblxuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIGFLZXlzLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB2YWx1ZUVxdWFsKGFba2V5XSwgYltrZXldKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHZhbHVlRXF1YWw7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYnVuZGxlLmpzIiwiIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdH1cbiBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHRoaXNbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0dGhpc1tcIndlYnBhY2tIb3RVcGRhdGVcIl0gPSBcclxuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcclxuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XHJcbiBcdFx0aWYocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcclxuIFx0fSA7XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG4gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4gXHRcdHNjcmlwdC50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjtcclxuIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcclxuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xyXG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdCgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuIFx0XHRcdGlmKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xyXG4gXHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuIFx0XHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XHJcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XHJcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IDEwMDAwO1xyXG4gXHRcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XHJcbiBcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KGVycik7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHRpZihyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcclxuIFx0XHRcdFx0aWYocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcclxuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XHJcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIikpO1xyXG4gXHRcdFx0XHR9IGVsc2UgaWYocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xyXG4gXHRcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcclxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcbiBcdFx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnN0YXR1cyAhPT0gMjAwICYmIHJlcXVlc3Quc3RhdHVzICE9PSAzMDQpIHtcclxuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXHJcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcclxuIFx0XHRcdFx0XHR0cnkge1xyXG4gXHRcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gXHRcdFx0XHRcdH0gY2F0Y2goZSkge1xyXG4gXHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xyXG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRyZXNvbHZlKHVwZGF0ZSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH07XHJcbiBcdFx0fSk7XHJcbiBcdH1cclxuXG4gXHRcclxuIFx0XHJcbiBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcclxuIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCJmNDZmNDA3OGQxYzU0MGU5YzBjNFwiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xyXG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0aWYoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcclxuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XHJcbiBcdFx0XHRpZihtZS5ob3QuYWN0aXZlKSB7XHJcbiBcdFx0XHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcclxuIFx0XHRcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPCAwKVxyXG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPCAwKVxyXG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XHJcbiBcdFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXF1ZXN0ICsgXCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICsgbW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XHJcbiBcdFx0fTtcclxuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xyXG4gXHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xyXG4gXHRcdFx0XHR9LFxyXG4gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9O1xyXG4gXHRcdH07XHJcbiBcdFx0Zm9yKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJiBuYW1lICE9PSBcImVcIikge1xyXG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xyXG4gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInJlYWR5XCIpXHJcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XHJcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XHJcbiBcdFx0XHRcdHRocm93IGVycjtcclxuIFx0XHRcdH0pO1xyXG4gXHRcclxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcclxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xyXG4gXHRcdFx0XHRpZihob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XHJcbiBcdFx0XHRcdFx0aWYoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xyXG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XHJcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fTtcclxuIFx0XHRyZXR1cm4gZm47XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiBcdFx0dmFyIGhvdCA9IHtcclxuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcclxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXHJcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxyXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXHJcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcclxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxyXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxyXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxyXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGlmKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpXHJcbiBcdFx0XHRcdFx0aG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xyXG4gXHRcdFx0XHRlbHNlIGlmKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcclxuIFx0XHRcdFx0ZWxzZSBpZih0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxyXG4gXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXHJcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xyXG4gXHRcdFx0XHRlbHNlXHJcbiBcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcclxuIFx0XHRcdFx0aWYodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIilcclxuIFx0XHRcdFx0XHRob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XHJcbiBcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcclxuIFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxyXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcclxuIFx0XHRcdFx0ZWxzZVxyXG4gXHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gXHRcdFx0fSxcclxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiBcdFx0XHRcdGlmKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcclxuIFx0XHRcdH0sXHJcbiBcdFxyXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcclxuIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcclxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcclxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHRpZighbCkgcmV0dXJuIGhvdFN0YXR1cztcclxuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcclxuIFx0XHRcdH0sXHJcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XHJcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XHJcbiBcdFx0XHR9LFxyXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xyXG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcclxuIFx0XHRcdFx0aWYoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gXHRcdFx0fSxcclxuIFx0XHJcbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcclxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxyXG4gXHRcdH07XHJcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xyXG4gXHRcdHJldHVybiBob3Q7XHJcbiBcdH1cclxuIFx0XHJcbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xyXG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XHJcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xyXG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcclxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcclxuIFx0fVxyXG4gXHRcclxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcclxuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XHJcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcclxuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xyXG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcclxuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XHJcbiBcdHZhciBob3REZWZlcnJlZDtcclxuIFx0XHJcbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xyXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xyXG4gXHRcclxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xyXG4gXHRcdHZhciBpc051bWJlciA9ICgraWQpICsgXCJcIiA9PT0gaWQ7XHJcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XHJcbiBcdH1cclxuIFx0XHJcbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XHJcbiBcdFx0aWYoaG90U3RhdHVzICE9PSBcImlkbGVcIikgdGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XHJcbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xyXG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xyXG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KCkudGhlbihmdW5jdGlvbih1cGRhdGUpIHtcclxuIFx0XHRcdGlmKCF1cGRhdGUpIHtcclxuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcclxuIFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xyXG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XHJcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xyXG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xyXG4gXHRcclxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XHJcbiBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcclxuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxyXG4gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XHJcbiBcdFx0XHRcdH07XHJcbiBcdFx0XHR9KTtcclxuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xyXG4gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xyXG4gXHRcdFx0eyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXHJcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXHJcbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xyXG4gXHRcdFx0fVxyXG4gXHRcdFx0aWYoaG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xyXG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuIFx0XHR9KTtcclxuIFx0fVxyXG4gXHRcclxuIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gXHRcdGlmKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXHJcbiBcdFx0XHRyZXR1cm47XHJcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcclxuIFx0XHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XHJcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xyXG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0fVxyXG4gXHRcdH1cclxuIFx0XHRpZigtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XHJcbiBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XHJcbiBcdFx0fVxyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XHJcbiBcdFx0aWYoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XHJcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xyXG4gXHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XHJcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcclxuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XHJcbiBcdFx0fVxyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xyXG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xyXG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xyXG4gXHRcdGhvdERlZmVycmVkID0gbnVsbDtcclxuIFx0XHRpZighZGVmZXJyZWQpIHJldHVybjtcclxuIFx0XHRpZihob3RBcHBseU9uVXBkYXRlKSB7XHJcbiBcdFx0XHRob3RBcHBseShob3RBcHBseU9uVXBkYXRlKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XHJcbiBcdFx0XHR9LCBmdW5jdGlvbihlcnIpIHtcclxuIFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XHJcbiBcdFx0XHR9KTtcclxuIFx0XHR9IGVsc2Uge1xyXG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XHJcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdFx0fVxyXG4gXHR9XHJcbiBcdFxyXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XHJcbiBcdFx0aWYoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpIHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcclxuIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuIFx0XHJcbiBcdFx0dmFyIGNiO1xyXG4gXHRcdHZhciBpO1xyXG4gXHRcdHZhciBqO1xyXG4gXHRcdHZhciBtb2R1bGU7XHJcbiBcdFx0dmFyIG1vZHVsZUlkO1xyXG4gXHRcclxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XHJcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcclxuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpLm1hcChmdW5jdGlvbihpZCkge1xyXG4gXHRcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxyXG4gXHRcdFx0XHRcdGlkOiBpZFxyXG4gXHRcdFx0XHR9O1xyXG4gXHRcdFx0fSk7XHJcbiBcdFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcclxuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xyXG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XHJcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRpZighbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0aWYobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxyXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXHJcbiBcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihtb2R1bGUuaG90Ll9tYWluKSB7XHJcbiBcdFx0XHRcdFx0cmV0dXJuIHtcclxuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxyXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxyXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXHJcbiBcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcclxuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XHJcbiBcdFx0XHRcdFx0aWYoIXBhcmVudCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXHJcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXHJcbiBcdFx0XHRcdFx0XHR9O1xyXG4gXHRcdFx0XHRcdH1cclxuIFx0XHRcdFx0XHRpZihvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgPj0gMCkgY29udGludWU7XHJcbiBcdFx0XHRcdFx0aWYocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XHJcbiBcdFx0XHRcdFx0XHRpZighb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxyXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcclxuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcclxuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XHJcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XHJcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxyXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXHJcbiBcdFx0XHRcdFx0fSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHJcbiBcdFx0XHRyZXR1cm4ge1xyXG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXHJcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcclxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXHJcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xyXG4gXHRcdFx0fTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcclxuIFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcclxuIFx0XHRcdFx0aWYoYS5pbmRleE9mKGl0ZW0pIDwgMClcclxuIFx0XHRcdFx0XHRhLnB1c2goaXRlbSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxyXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cclxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcclxuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XHJcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcclxuIFx0XHJcbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcclxuIFx0XHRcdGNvbnNvbGUud2FybihcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIik7XHJcbiBcdFx0fTtcclxuIFx0XHJcbiBcdFx0Zm9yKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xyXG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xyXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xyXG4gXHRcdFx0XHRpZihob3RVcGRhdGVbaWRdKSB7XHJcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xyXG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxyXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXHJcbiBcdFx0XHRcdFx0fTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xyXG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xyXG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XHJcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xyXG4gXHRcdFx0XHRpZihyZXN1bHQuY2hhaW4pIHtcclxuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0c3dpdGNoKHJlc3VsdC50eXBlKSB7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRpZighb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcclxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgY2hhaW5JbmZvKTtcclxuIFx0XHRcdFx0XHRcdGJyZWFrO1xyXG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkRlY2xpbmVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcclxuIFx0XHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxyXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIgaW4gXCIgKyByZXN1bHQucGFyZW50SWQgKyBjaGFpbkluZm8pO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25VbmFjY2VwdGVkKVxyXG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcclxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm8pO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XHJcbiBcdFx0XHRcdFx0XHRpZihvcHRpb25zLm9uQWNjZXB0ZWQpXHJcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xyXG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XHJcbiBcdFx0XHRcdFx0XHRicmVhaztcclxuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcclxuIFx0XHRcdFx0XHRcdGlmKG9wdGlvbnMub25EaXNwb3NlZClcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XHJcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xyXG4gXHRcdFx0XHRcdFx0YnJlYWs7XHJcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcclxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0aWYoYWJvcnRFcnJvcikge1xyXG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xyXG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcclxuIFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRpZihkb0FwcGx5KSB7XHJcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XHJcbiBcdFx0XHRcdFx0Zm9yKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0XHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdFx0XHRcdGlmKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXHJcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XHJcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSwgcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSk7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHRcdGlmKGRvRGlzcG9zZSkge1xyXG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xyXG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXHJcbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xyXG4gXHRcdGZvcihpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZClcclxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xyXG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxyXG4gXHRcdFx0XHR9KTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XHJcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xyXG4gXHRcdFx0aWYoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XHJcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcclxuIFx0XHRcdH1cclxuIFx0XHR9KTtcclxuIFx0XHJcbiBcdFx0dmFyIGlkeDtcclxuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcclxuIFx0XHR3aGlsZShxdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xyXG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRpZighbW9kdWxlKSBjb250aW51ZTtcclxuIFx0XHJcbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xyXG4gXHRcclxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xyXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcclxuIFx0XHRcdGZvcihqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xyXG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcclxuIFx0XHRcdFx0Y2IoZGF0YSk7XHJcbiBcdFx0XHR9XHJcbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xyXG4gXHRcclxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXHJcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xyXG4gXHRcclxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxyXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcclxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXHJcbiBcdFx0XHRmb3IoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xyXG4gXHRcdFx0XHRpZighY2hpbGQpIGNvbnRpbnVlO1xyXG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xyXG4gXHRcdFx0XHRpZihpZHggPj0gMCkge1xyXG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXHJcbiBcdFx0dmFyIGRlcGVuZGVuY3k7XHJcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xyXG4gXHRcdGZvcihtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xyXG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XHJcbiBcdFx0XHRcdGlmKG1vZHVsZSkge1xyXG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRcdGZvcihqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XHJcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XHJcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcclxuIFx0XHRcdFx0XHRcdGlmKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXHJcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XHJcbiBcdFxyXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcclxuIFx0XHJcbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXHJcbiBcdFx0Zm9yKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcclxuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcclxuIFx0XHRcdH1cclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXHJcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcclxuIFx0XHRmb3IobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcclxuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpKSB7XHJcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xyXG4gXHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcclxuIFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xyXG4gXHRcdFx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcclxuIFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xyXG4gXHRcdFx0XHRcdGlmKGNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwKSBjb250aW51ZTtcclxuIFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XHJcbiBcdFx0XHRcdH1cclxuIFx0XHRcdFx0Zm9yKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiBcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XHJcbiBcdFx0XHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcclxuIFx0XHRcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xyXG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcclxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXHJcbiBcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcclxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXHJcbiBcdFx0XHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4gXHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xyXG4gXHRcdGZvcihpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XHJcbiBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xyXG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xyXG4gXHRcdFx0dHJ5IHtcclxuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XHJcbiBcdFx0XHR9IGNhdGNoKGVycikge1xyXG4gXHRcdFx0XHRpZih0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gXHRcdFx0XHRcdHRyeSB7XHJcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xyXG4gXHRcdFx0XHRcdH0gY2F0Y2goZXJyMikge1xyXG4gXHRcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xyXG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxyXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxyXG4gXHRcdFx0XHRcdFx0XHRcdG9yZ2luYWxFcnJvcjogZXJyXHJcbiBcdFx0XHRcdFx0XHRcdH0pO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0aWYoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xyXG4gXHRcdFx0XHRcdFx0XHRpZighZXJyb3IpXHJcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnIyO1xyXG4gXHRcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdFx0aWYoIWVycm9yKVxyXG4gXHRcdFx0XHRcdFx0XHRlcnJvciA9IGVycjtcclxuIFx0XHRcdFx0XHR9XHJcbiBcdFx0XHRcdH0gZWxzZSB7XHJcbiBcdFx0XHRcdFx0aWYob3B0aW9ucy5vbkVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcclxuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXHJcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxyXG4gXHRcdFx0XHRcdFx0fSk7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHRcdGlmKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcclxuIFx0XHRcdFx0XHRcdGlmKCFlcnJvcilcclxuIFx0XHRcdFx0XHRcdFx0ZXJyb3IgPSBlcnI7XHJcbiBcdFx0XHRcdFx0fVxyXG4gXHRcdFx0XHR9XHJcbiBcdFx0XHR9XHJcbiBcdFx0fVxyXG4gXHRcclxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxyXG4gXHRcdGlmKGVycm9yKSB7XHJcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xyXG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcclxuIFx0XHR9XHJcbiBcdFxyXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XHJcbiBcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xyXG4gXHR9XHJcblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL29jbGF0L1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDMxKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgZjQ2ZjQwNzhkMWM1NDBlOWMwYzQiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGlzdCcpO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1zaGFyZWQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL29wdGlvbnNcIik7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL1ZOb2Rlc1wiKTtcclxudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xyXG52YXIgbW91bnRpbmdfMSA9IHJlcXVpcmUoXCIuL21vdW50aW5nXCIpO1xyXG52YXIgdW5tb3VudGluZ18xID0gcmVxdWlyZShcIi4vdW5tb3VudGluZ1wiKTtcclxuLy8gV2UgbmVlZCBFTVBUWV9PQkogZGVmaW5lZCBpbiBvbmUgcGxhY2UuXHJcbi8vIEl0cyB1c2VkIGZvciBjb21wYXJpc29uIHNvIHdlIGNhbnQgaW5saW5lIGl0IGludG8gc2hhcmVkXHJcbmV4cG9ydHMuRU1QVFlfT0JKID0ge307XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICBPYmplY3QuZnJlZXplKGV4cG9ydHMuRU1QVFlfT0JKKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCBDb21wb25lbnQsIHByb3BzLCBjb250ZXh0LCBpc1NWRywgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb250ZXh0KSkge1xyXG4gICAgICAgIGNvbnRleHQgPSBleHBvcnRzLkVNUFRZX09CSjsgLy8gQ29udGV4dCBzaG91bGQgbm90IGJlIG11dGFibGVcclxuICAgIH1cclxuICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb21wb25lbnQocHJvcHMsIGNvbnRleHQpO1xyXG4gICAgdk5vZGUuY2hpbGRyZW4gPSBpbnN0YW5jZTtcclxuICAgIGluc3RhbmNlLl9ibG9ja1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gY29udGV4dDtcclxuICAgIGlmIChpbnN0YW5jZS5wcm9wcyA9PT0gZXhwb3J0cy5FTVBUWV9PQkopIHtcclxuICAgICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xyXG4gICAgfVxyXG4gICAgLy8gc2V0U3RhdGUgY2FsbGJhY2tzIG11c3QgZmlyZSBhZnRlciByZW5kZXIgaXMgZG9uZSB3aGVuIGNhbGxlZCBmcm9tIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgb3IgY29tcG9uZW50V2lsbE1vdW50XHJcbiAgICBpbnN0YW5jZS5fbGlmZWN5Y2xlID0gbGlmZWN5Y2xlO1xyXG4gICAgaW5zdGFuY2UuX3VubW91bnRlZCA9IGZhbHNlO1xyXG4gICAgaW5zdGFuY2UuX3BlbmRpbmdTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICBpbnN0YW5jZS5faXNTVkcgPSBpc1NWRztcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2Jsb2NrUmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKTtcclxuICAgICAgICBpbnN0YW5jZS5fYmxvY2tSZW5kZXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhciBjaGlsZENvbnRleHQ7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgIGNoaWxkQ29udGV4dCA9IGluc3RhbmNlLmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgaW5zdGFuY2UuX2NoaWxkQ29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShjb250ZXh0LCBjaGlsZENvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIpKSB7XHJcbiAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYmVmb3JlUmVuZGVyKGluc3RhbmNlKTtcclxuICAgIH1cclxuICAgIHZhciBpbnB1dCA9IGluc3RhbmNlLnJlbmRlcihwcm9wcywgaW5zdGFuY2Uuc3RhdGUsIGNvbnRleHQpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5hZnRlclJlbmRlcikpIHtcclxuICAgICAgICBvcHRpb25zXzEub3B0aW9ucy5hZnRlclJlbmRlcihpbnN0YW5jZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGlucHV0KSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoaW5wdXQpKSB7XHJcbiAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShpbnB1dCwgbnVsbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbiBpbnB1dCB0aGF0IGlzIGFsc28gYSBjb21wb25lbnQsIHdlIHJ1biBpbnRvIGEgdHJpY2t5IHNpdHVhdGlvblxyXG4gICAgICAgICAgICAvLyB3aGVyZSB0aGUgcm9vdCB2Tm9kZSBuZWVkcyB0byBhbHdheXMgaGF2ZSB0aGUgY29ycmVjdCBET00gZW50cnlcclxuICAgICAgICAgICAgLy8gc28gd2UgYnJlYWsgbW9ub21vcnBoaXNtIG9uIG91ciBpbnB1dCBhbmQgc3VwcGx5IGl0IG91ciB2Tm9kZSBhcyBwYXJlbnRWTm9kZVxyXG4gICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBpbiB0aGUgZnV0dXJlLCBidXQgdGhpcyBnZXRzIHVzIG91dCBvZiBhIGxvdCBvZiBpc3N1ZXNcclxuICAgICAgICAgICAgaW5wdXQucGFyZW50Vk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpbnN0YW5jZS5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICBpbnN0YW5jZS5fbGFzdElucHV0ID0gaW5wdXQ7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuZXhwb3J0cy5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlID0gY3JlYXRlQ2xhc3NDb21wb25lbnRJbnN0YW5jZTtcclxuZnVuY3Rpb24gcmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQobGFzdElucHV0LCBuZXh0SW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnQobmV4dElucHV0LCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbGFzdElucHV0LCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VMYXN0Q2hpbGRBbmRVbm1vdW50ID0gcmVwbGFjZUxhc3RDaGlsZEFuZFVubW91bnQ7XHJcbmZ1bmN0aW9uIHJlcGxhY2VWTm9kZShwYXJlbnREb20sIGRvbSwgdk5vZGUsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHVubW91bnRpbmdfMS51bm1vdW50KHZOb2RlLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICByZXBsYWNlQ2hpbGQocGFyZW50RG9tLCBkb20sIHZOb2RlLmRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZXBsYWNlVk5vZGUgPSByZXBsYWNlVk5vZGU7XHJcbmZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCh2Tm9kZSwgY29tcG9uZW50LCBwcm9wcywgY29udGV4dCkge1xyXG4gICAgdmFyIGlucHV0ID0gY29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChpbnB1dCkpIHtcclxuICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmNyZWF0ZVZvaWRWTm9kZSgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGlucHV0KSkge1xyXG4gICAgICAgIGlucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKGlucHV0LCBudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgaW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFuIGlucHV0IHRoYXQgaXMgYWxzbyBhIGNvbXBvbmVudCwgd2UgcnVuIGludG8gYSB0cmlja3kgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgIC8vIHdoZXJlIHRoZSByb290IHZOb2RlIG5lZWRzIHRvIGFsd2F5cyBoYXZlIHRoZSBjb3JyZWN0IERPTSBlbnRyeVxyXG4gICAgICAgICAgICAvLyBzbyB3ZSBicmVhayBtb25vbW9ycGhpc20gb24gb3VyIGlucHV0IGFuZCBzdXBwbHkgaXQgb3VyIHZOb2RlIGFzIHBhcmVudFZOb2RlXHJcbiAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGlzIGdldHMgdXMgb3V0IG9mIGEgbG90IG9mIGlzc3Vlc1xyXG4gICAgICAgICAgICBpbnB1dC5wYXJlbnRWTm9kZSA9IHZOb2RlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbnB1dDtcclxufVxyXG5leHBvcnRzLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCA9IGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dDtcclxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQoZG9tLCB0ZXh0KSB7XHJcbiAgICBpZiAodGV4dCAhPT0gJycpIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZXRUZXh0Q29udGVudCA9IHNldFRleHRDb250ZW50O1xyXG5mdW5jdGlvbiB1cGRhdGVUZXh0Q29udGVudChkb20sIHRleHQpIHtcclxuICAgIGRvbS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbn1cclxuZXhwb3J0cy51cGRhdGVUZXh0Q29udGVudCA9IHVwZGF0ZVRleHRDb250ZW50O1xyXG5mdW5jdGlvbiBhcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLmFwcGVuZENoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5hcHBlbmRDaGlsZCA9IGFwcGVuZENoaWxkO1xyXG5mdW5jdGlvbiBpbnNlcnRPckFwcGVuZChwYXJlbnREb20sIG5ld05vZGUsIG5leHROb2RlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHROb2RlKSkge1xyXG4gICAgICAgIGFwcGVuZENoaWxkKHBhcmVudERvbSwgbmV3Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwYXJlbnREb20uaW5zZXJ0QmVmb3JlKG5ld05vZGUsIG5leHROb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmluc2VydE9yQXBwZW5kID0gaW5zZXJ0T3JBcHBlbmQ7XHJcbmZ1bmN0aW9uIGRvY3VtZW50Q3JlYXRlRWxlbWVudCh0YWcsIGlzU1ZHKSB7XHJcbiAgICBpZiAoaXNTVkcgPT09IHRydWUpIHtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGNvbnN0YW50c18xLnN2Z05TLCB0YWcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudDtcclxuZnVuY3Rpb24gcmVwbGFjZVdpdGhOZXdOb2RlKGxhc3ROb2RlLCBuZXh0Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdW5tb3VudGluZ18xLnVubW91bnQobGFzdE5vZGUsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgIHZhciBkb20gPSBtb3VudGluZ18xLm1vdW50KG5leHROb2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIG5leHROb2RlLmRvbSA9IGRvbTtcclxuICAgIHJlcGxhY2VDaGlsZChwYXJlbnREb20sIGRvbSwgbGFzdE5vZGUuZG9tKTtcclxufVxyXG5leHBvcnRzLnJlcGxhY2VXaXRoTmV3Tm9kZSA9IHJlcGxhY2VXaXRoTmV3Tm9kZTtcclxuZnVuY3Rpb24gcmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbmV4dERvbSwgbGFzdERvbSkge1xyXG4gICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICBwYXJlbnREb20gPSBsYXN0RG9tLnBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKG5leHREb20sIGxhc3REb20pO1xyXG59XHJcbmV4cG9ydHMucmVwbGFjZUNoaWxkID0gcmVwbGFjZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnREb20sIGRvbSkge1xyXG4gICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbn1cclxuZXhwb3J0cy5yZW1vdmVDaGlsZCA9IHJlbW92ZUNoaWxkO1xyXG5mdW5jdGlvbiByZW1vdmVBbGxDaGlsZHJlbihkb20sIGNoaWxkcmVuLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCB8fCAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCAmJiAhaXNSZWN5Y2xpbmcpKSB7XHJcbiAgICAgICAgcmVtb3ZlQ2hpbGRyZW4obnVsbCwgY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQWxsQ2hpbGRyZW4gPSByZW1vdmVBbGxDaGlsZHJlbjtcclxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZCkpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoY2hpbGQsIGRvbSwgbGlmZWN5Y2xlLCB0cnVlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucmVtb3ZlQ2hpbGRyZW4gPSByZW1vdmVDaGlsZHJlbjtcclxuZnVuY3Rpb24gaXNLZXllZChsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbikge1xyXG4gICAgcmV0dXJuIG5leHRDaGlsZHJlbi5sZW5ndGggPiAwICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dENoaWxkcmVuWzBdKSAmJiAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDaGlsZHJlblswXS5rZXkpXHJcbiAgICAgICAgJiYgbGFzdENoaWxkcmVuLmxlbmd0aCA+IDAgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0Q2hpbGRyZW5bMF0pICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobGFzdENoaWxkcmVuWzBdLmtleSk7XHJcbn1cclxuZXhwb3J0cy5pc0tleWVkID0gaXNLZXllZDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vdXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5vcHRpb25zID0ge1xyXG4gICAgYWZ0ZXJNb3VudDogbnVsbCxcclxuICAgIGFmdGVyUmVuZGVyOiBudWxsLFxyXG4gICAgYWZ0ZXJVcGRhdGU6IG51bGwsXHJcbiAgICBiZWZvcmVSZW5kZXI6IG51bGwsXHJcbiAgICBiZWZvcmVVbm1vdW50OiBudWxsLFxyXG4gICAgY3JlYXRlVk5vZGU6IG51bGwsXHJcbiAgICBmaW5kRE9NTm9kZUVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgcmVjeWNsaW5nRW5hYmxlZDogZmFsc2UsXHJcbiAgICByb290czogW11cclxufTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9jb3JlL29wdGlvbnMuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL0RPTS91dGlsc1wiKTtcclxudmFyIG5vcm1hbGl6YXRpb25fMSA9IHJlcXVpcmUoXCIuL25vcm1hbGl6YXRpb25cIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi9vcHRpb25zXCIpO1xyXG5mdW5jdGlvbiBWTm9kZShjaGlsZHJlbiwgY2xhc3NOYW1lLCBmbGFncywga2V5LCBwcm9wcywgcmVmLCB0eXBlKSB7XHJcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICB0aGlzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgIHRoaXMuZG9tID0gbnVsbDtcclxuICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcclxuICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xyXG4gICAgdGhpcy5yZWYgPSByZWY7XHJcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZ3NcclxuICogQHBhcmFtIHtzdHJpbmd8RnVuY3Rpb258bnVsbH0gdHlwZVxyXG4gKiBAcGFyYW0ge3N0cmluZ3xudWxsPX0gY2xhc3NOYW1lXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gY2hpbGRyZW5cclxuICogQHBhcmFtIHtvYmplY3Q9fSBwcm9wc1xyXG4gKiBAcGFyYW0geyo9fSBrZXlcclxuICogQHBhcmFtIHtvYmplY3R8RnVuY3Rpb249fSByZWZcclxuICogQHBhcmFtIHtib29sZWFuPX0gbm9Ob3JtYWxpc2VcclxuICogQHJldHVybnMge1ZOb2RlfSByZXR1cm5zIG5ldyB2aXJ0dWFsIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVZOb2RlKGZsYWdzLCB0eXBlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCBwcm9wcywga2V5LCByZWYsIG5vTm9ybWFsaXNlKSB7XHJcbiAgICBpZiAoZmxhZ3MgJiAxNiAvKiBDb21wb25lbnRVbmtub3duICovKSB7XHJcbiAgICAgICAgZmxhZ3MgPSBpbmZlcm5vX3NoYXJlZF8xLmlzU3RhdGVmdWxDb21wb25lbnQodHlwZSkgPyA0IC8qIENvbXBvbmVudENsYXNzICovIDogOCAvKiBDb21wb25lbnRGdW5jdGlvbiAqLztcclxuICAgIH1cclxuICAgIHZhciB2Tm9kZSA9IG5ldyBWTm9kZShjaGlsZHJlbiA9PT0gdm9pZCAwID8gbnVsbCA6IGNoaWxkcmVuLCBjbGFzc05hbWUgPT09IHZvaWQgMCA/IG51bGwgOiBjbGFzc05hbWUsIGZsYWdzLCBrZXkgPT09IHZvaWQgMCA/IG51bGwgOiBrZXksIHByb3BzID09PSB2b2lkIDAgPyBudWxsIDogcHJvcHMsIHJlZiA9PT0gdm9pZCAwID8gbnVsbCA6IHJlZiwgdHlwZSk7XHJcbiAgICBpZiAobm9Ob3JtYWxpc2UgIT09IHRydWUpIHtcclxuICAgICAgICBub3JtYWxpemF0aW9uXzEubm9ybWFsaXplKHZOb2RlKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5jcmVhdGVWTm9kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmNyZWF0ZVZOb2RlKHZOb2RlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2Tm9kZTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVZOb2RlID0gY3JlYXRlVk5vZGU7XHJcbmZ1bmN0aW9uIGRpcmVjdENsb25lKHZOb2RlVG9DbG9uZSkge1xyXG4gICAgdmFyIG5ld1ZOb2RlO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGVUb0Nsb25lLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgdmFyIHByb3BzID0gdm9pZCAwO1xyXG4gICAgICAgIHZhciBwcm9wc1RvQ2xvbmUgPSB2Tm9kZVRvQ2xvbmUucHJvcHM7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzVG9DbG9uZSkpIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wc1RvQ2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzW2tleV0gPSBwcm9wc1RvQ2xvbmVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdWTm9kZSA9IGNyZWF0ZVZOb2RlKGZsYWdzLCB2Tm9kZVRvQ2xvbmUudHlwZSwgbnVsbCwgbnVsbCwgcHJvcHMsIHZOb2RlVG9DbG9uZS5rZXksIHZOb2RlVG9DbG9uZS5yZWYsIHRydWUpO1xyXG4gICAgICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IG5ld1Byb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gYWxzbyBjbG9uZSBjb21wb25lbnQgY2hpbGRyZW4gdGhhdCBhcmUgaW4gcHJvcHNcclxuICAgICAgICAvLyBhcyB0aGUgY2hpbGRyZW4gbWF5IGFsc28gaGF2ZSBiZWVuIGhvaXN0ZWRcclxuICAgICAgICBpZiAobmV3Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXdDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBuZXdDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXBBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gbmV3Q2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpICYmIGlzVk5vZGUoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKGNoaWxkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSB0bXBBcnJheTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1ZOb2RlKG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSBkaXJlY3RDbG9uZShuZXdDaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3Vk5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZVRvQ2xvbmUuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHByb3BzID0gdm9pZCAwO1xyXG4gICAgICAgIHZhciBwcm9wc1RvQ2xvbmUgPSB2Tm9kZVRvQ2xvbmUucHJvcHM7XHJcbiAgICAgICAgaWYgKHByb3BzVG9DbG9uZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzVG9DbG9uZSkge1xyXG4gICAgICAgICAgICAgICAgcHJvcHNba2V5XSA9IHByb3BzVG9DbG9uZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCB2Tm9kZVRvQ2xvbmUuY2xhc3NOYW1lLCBjaGlsZHJlbiwgcHJvcHMsIHZOb2RlVG9DbG9uZS5rZXksIHZOb2RlVG9DbG9uZS5yZWYsICFjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVGV4dFZOb2RlKHZOb2RlVG9DbG9uZS5jaGlsZHJlbiwgdk5vZGVUb0Nsb25lLmtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3Vk5vZGU7XHJcbn1cclxuZXhwb3J0cy5kaXJlY3RDbG9uZSA9IGRpcmVjdENsb25lO1xyXG4vKlxyXG4gZGlyZWN0Q2xvbmUgaXMgcHJlZmVycmVkIG92ZXIgY2xvbmVWTm9kZSBhbmQgdXNlZCBpbnRlcm5hbGx5IGFsc28uXHJcbiBUaGlzIGZ1bmN0aW9uIG1ha2VzIEluZmVybm8gYmFja3dhcmRzIGNvbXBhdGlibGUuXHJcbiBBbmQgY2FuIGJlIHRyZWUtc2hha2VkIGJ5IG1vZGVybiBidW5kbGVyc1xyXG5cclxuIFdvdWxkIGJlIG5pY2UgdG8gY29tYmluZSB0aGlzIHdpdGggZGlyZWN0Q2xvbmUgYnV0IGNvdWxkIG5vdCBkbyBpdCB3aXRob3V0IGJyZWFraW5nIGNoYW5nZVxyXG4gKi9cclxuLyoqXHJcbiAqIENsb25lcyBnaXZlbiB2aXJ0dWFsIG5vZGUgYnkgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGl0XHJcbiAqIEBwYXJhbSB7Vk5vZGV9IHZOb2RlVG9DbG9uZSB2aXJ0dWFsIG5vZGUgdG8gYmUgY2xvbmVkXHJcbiAqIEBwYXJhbSB7UHJvcHM9fSBwcm9wcyBhZGRpdGlvbmFsIHByb3BzIGZvciBuZXcgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7Li4uKn0gX2NoaWxkcmVuIG5ldyBjaGlsZHJlbiBmb3IgbmV3IHZpcnR1YWwgbm9kZVxyXG4gKiBAcmV0dXJucyB7Vk5vZGV9IG5ldyB2aXJ0dWFsIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIGNsb25lVk5vZGUodk5vZGVUb0Nsb25lLCBwcm9wcykge1xyXG4gICAgdmFyIF9jaGlsZHJlbiA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBfY2hpbGRyZW5bX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBfY2hpbGRyZW47XHJcbiAgICB2YXIgY2hpbGRyZW5MZW4gPSBfY2hpbGRyZW4ubGVuZ3RoO1xyXG4gICAgaWYgKGNoaWxkcmVuTGVuID4gMCAmJiAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChfY2hpbGRyZW5bMF0pKSB7XHJcbiAgICAgICAgaWYgKCFwcm9wcykge1xyXG4gICAgICAgICAgICBwcm9wcyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hpbGRyZW5MZW4gPT09IDEpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfY2hpbGRyZW5bMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgbmV3Vk5vZGU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KHZOb2RlVG9DbG9uZSkpIHtcclxuICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdk5vZGVUb0Nsb25lLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRtcEFycmF5LnB1c2goZGlyZWN0Q2xvbmUodk5vZGVUb0Nsb25lW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld1ZOb2RlID0gdG1wQXJyYXk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZmxhZ3MgPSB2Tm9kZVRvQ2xvbmUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHZOb2RlVG9DbG9uZS5jbGFzc05hbWUgfHwgKHByb3BzICYmIHByb3BzLmNsYXNzTmFtZSk7XHJcbiAgICAgICAgdmFyIGtleSA9ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodk5vZGVUb0Nsb25lLmtleSkgPyB2Tm9kZVRvQ2xvbmUua2V5IDogKHByb3BzID8gcHJvcHMua2V5IDogbnVsbCk7XHJcbiAgICAgICAgdmFyIHJlZiA9IHZOb2RlVG9DbG9uZS5yZWYgfHwgKHByb3BzID8gcHJvcHMucmVmIDogbnVsbCk7XHJcbiAgICAgICAgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCBjbGFzc05hbWUsIG51bGwsICghdk5vZGVUb0Nsb25lLnByb3BzICYmICFwcm9wcykgPyB1dGlsc18xLkVNUFRZX09CSiA6IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20odk5vZGVUb0Nsb25lLnByb3BzLCBwcm9wcyksIGtleSwgcmVmLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgICAgIGlmIChuZXdQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0NoaWxkcmVuID0gbmV3UHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGFsc28gY2xvbmUgY29tcG9uZW50IGNoaWxkcmVuIHRoYXQgYXJlIGluIHByb3BzXHJcbiAgICAgICAgICAgICAgICAvLyBhcyB0aGUgY2hpbGRyZW4gbWF5IGFsc28gaGF2ZSBiZWVuIGhvaXN0ZWRcclxuICAgICAgICAgICAgICAgIGlmIChuZXdDaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV3Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW4gPSBuZXdDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZW4gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBuZXdDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpc1ZOb2RlKGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBBcnJheS5wdXNoKGRpcmVjdENsb25lKGNoaWxkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMuY2hpbGRyZW4gPSB0bXBBcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1ZOb2RlKG5ld0NoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcy5jaGlsZHJlbiA9IGRpcmVjdENsb25lKG5ld0NoaWxkcmVuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3Vk5vZGUuY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IChwcm9wcyAmJiAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwcm9wcy5jaGlsZHJlbikpID8gcHJvcHMuY2hpbGRyZW4gOiB2Tm9kZVRvQ2xvbmUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIG5ld1ZOb2RlID0gY3JlYXRlVk5vZGUoZmxhZ3MsIHZOb2RlVG9DbG9uZS50eXBlLCBjbGFzc05hbWUsIGNoaWxkcmVuLCAoIXZOb2RlVG9DbG9uZS5wcm9wcyAmJiAhcHJvcHMpID8gdXRpbHNfMS5FTVBUWV9PQkogOiBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKHZOb2RlVG9DbG9uZS5wcm9wcywgcHJvcHMpLCBrZXksIHJlZiwgIWNoaWxkcmVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICAgICAgbmV3Vk5vZGUgPSBjcmVhdGVUZXh0Vk5vZGUodk5vZGVUb0Nsb25lLmNoaWxkcmVuLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXdWTm9kZTtcclxufVxyXG5leHBvcnRzLmNsb25lVk5vZGUgPSBjbG9uZVZOb2RlO1xyXG5mdW5jdGlvbiBjcmVhdGVWb2lkVk5vZGUoKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoNDA5NiAvKiBWb2lkICovLCBudWxsKTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVZvaWRWTm9kZSA9IGNyZWF0ZVZvaWRWTm9kZTtcclxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQsIGtleSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKDEgLyogVGV4dCAqLywgbnVsbCwgbnVsbCwgdGV4dCwgbnVsbCwga2V5KTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVRleHRWTm9kZSA9IGNyZWF0ZVRleHRWTm9kZTtcclxuZnVuY3Rpb24gaXNWTm9kZShvKSB7XHJcbiAgICByZXR1cm4gISFvLmZsYWdzO1xyXG59XHJcbmV4cG9ydHMuaXNWTm9kZSA9IGlzVk5vZGU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvY29yZS9WTm9kZXMuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vY29yZS9vcHRpb25zXCIpO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi4vY29yZS9WTm9kZXNcIik7XHJcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcclxudmFyIGRlbGVnYXRpb25fMSA9IHJlcXVpcmUoXCIuL2V2ZW50cy9kZWxlZ2F0aW9uXCIpO1xyXG52YXIgbW91bnRpbmdfMSA9IHJlcXVpcmUoXCIuL21vdW50aW5nXCIpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJpbmdcIik7XHJcbnZhciB1bm1vdW50aW5nXzEgPSByZXF1aXJlKFwiLi91bm1vdW50aW5nXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG52YXIgcHJvY2Vzc0VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL3dyYXBwZXJzL3Byb2Nlc3NFbGVtZW50XCIpO1xyXG5mdW5jdGlvbiBwYXRjaChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgaWYgKGxhc3RWTm9kZSAhPT0gbmV4dFZOb2RlKSB7XHJcbiAgICAgICAgdmFyIGxhc3RGbGFncyA9IGxhc3RWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dEZsYWdzID0gbmV4dFZOb2RlLmZsYWdzO1xyXG4gICAgICAgIGlmIChuZXh0RmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgaWYgKGxhc3RGbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hDb21wb25lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgbmV4dEZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlVk5vZGUocGFyZW50RG9tLCBtb3VudGluZ18xLm1vdW50Q29tcG9uZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgKG5leHRGbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoRWxlbWVudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRFbGVtZW50KG5leHRWTm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiAxIC8qIFRleHQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRUZXh0KG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dEZsYWdzICYgNDA5NiAvKiBWb2lkICovKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0RmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICAgICAgICAgIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLnJlcGxhY2VWTm9kZShwYXJlbnREb20sIG1vdW50aW5nXzEubW91bnRWb2lkKG5leHRWTm9kZSwgbnVsbCksIGxhc3RWTm9kZSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIGNhc2U6IG1vdW50IG5ldyBvbmUgcmVwbGFjaW5nIG9sZCBvbmVcclxuICAgICAgICAgICAgdXRpbHNfMS5yZXBsYWNlTGFzdENoaWxkQW5kVW5tb3VudChsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucGF0Y2ggPSBwYXRjaDtcclxuZnVuY3Rpb24gdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRpbmdfMS51bm1vdW50KGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgdHJ1ZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHV0aWxzXzEucmVtb3ZlQWxsQ2hpbGRyZW4oZG9tLCBjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20udGV4dENvbnRlbnQgPSAnJztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXRjaEVsZW1lbnQobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBuZXh0VGFnID0gbmV4dFZOb2RlLnR5cGU7XHJcbiAgICB2YXIgbGFzdFRhZyA9IGxhc3RWTm9kZS50eXBlO1xyXG4gICAgaWYgKGxhc3RUYWcgIT09IG5leHRUYWcpIHtcclxuICAgICAgICB1dGlsc18xLnJlcGxhY2VXaXRoTmV3Tm9kZShsYXN0Vk5vZGUsIG5leHRWTm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgZG9tID0gbGFzdFZOb2RlLmRvbTtcclxuICAgICAgICB2YXIgbGFzdFByb3BzID0gbGFzdFZOb2RlLnByb3BzO1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHM7XHJcbiAgICAgICAgdmFyIGxhc3RDaGlsZHJlbiA9IGxhc3RWTm9kZS5jaGlsZHJlbjtcclxuICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBsYXN0RmxhZ3MgPSBsYXN0Vk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgdmFyIG5leHRGbGFncyA9IG5leHRWTm9kZS5mbGFncztcclxuICAgICAgICB2YXIgbmV4dFJlZiA9IG5leHRWTm9kZS5yZWY7XHJcbiAgICAgICAgdmFyIGxhc3RDbGFzc05hbWUgPSBsYXN0Vk5vZGUuY2xhc3NOYW1lO1xyXG4gICAgICAgIHZhciBuZXh0Q2xhc3NOYW1lID0gbmV4dFZOb2RlLmNsYXNzTmFtZTtcclxuICAgICAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgIGlzU1ZHID0gaXNTVkcgfHwgKG5leHRGbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGxhc3RDaGlsZHJlbiAhPT0gbmV4dENoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIHBhdGNoQ2hpbGRyZW4obGFzdEZsYWdzLCBuZXh0RmxhZ3MsIGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaW5saW5lZCBwYXRjaFByb3BzICAtLSBzdGFydHMgLS1cclxuICAgICAgICBpZiAobGFzdFByb3BzICE9PSBuZXh0UHJvcHMpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RQcm9wc09yRW1wdHkgPSBsYXN0UHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgICAgIHZhciBuZXh0UHJvcHNPckVtcHR5ID0gbmV4dFByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHNPckVtcHR5ICE9PSB1dGlsc18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAobmV4dEZsYWdzICYgMzU4NCAvKiBGb3JtRWxlbWVudCAqLykgPiAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KG5leHRQcm9wc09yRW1wdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBuZXh0UHJvcHNPckVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gbmV4dFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gbGFzdFByb3BzT3JFbXB0eVtwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQobmV4dEZsYWdzLCBuZXh0Vk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgZmFsc2UsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxhc3RQcm9wc09yRW1wdHkgIT09IHV0aWxzXzEuRU1QVFlfT0JKKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGxhc3RQcm9wc09yRW1wdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eVtwcm9wXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvcChwcm9wLCBsYXN0UHJvcHNPckVtcHR5W3Byb3BdLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpbmxpbmVkIHBhdGNoUHJvcHMgIC0tIGVuZHMgLS1cclxuICAgICAgICBpZiAobGFzdENsYXNzTmFtZSAhPT0gbmV4dENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRDbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU1ZHKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBuZXh0Q2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBuZXh0Q2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXh0UmVmKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXN0Vk5vZGUucmVmICE9PSBuZXh0UmVmIHx8IGlzUmVjeWNsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgbmV4dFJlZiwgbGlmZWN5Y2xlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoRWxlbWVudCA9IHBhdGNoRWxlbWVudDtcclxuZnVuY3Rpb24gcGF0Y2hDaGlsZHJlbihsYXN0RmxhZ3MsIG5leHRGbGFncywgbGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBwYXRjaEFycmF5ID0gZmFsc2U7XHJcbiAgICB2YXIgcGF0Y2hLZXllZCA9IGZhbHNlO1xyXG4gICAgaWYgKG5leHRGbGFncyAmIDY0IC8qIEhhc05vbktleWVkQ2hpbGRyZW4gKi8pIHtcclxuICAgICAgICBwYXRjaEFycmF5ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKChsYXN0RmxhZ3MgJiAzMiAvKiBIYXNLZXllZENoaWxkcmVuICovKSA+IDAgJiYgKG5leHRGbGFncyAmIDMyIC8qIEhhc0tleWVkQ2hpbGRyZW4gKi8pID4gMCkge1xyXG4gICAgICAgIHBhdGNoS2V5ZWQgPSB0cnVlO1xyXG4gICAgICAgIHBhdGNoQXJyYXkgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dENoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuc2V0VGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtb3VudGluZ18xLm1vdW50KG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEudXBkYXRlVGV4dENvbnRlbnQoZG9tLCBuZXh0Q2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgdXRpbHNfMS5zZXRUZXh0Q29udGVudChkb20sIG5leHRDaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGxhc3RDaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcGF0Y2hBcnJheSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh1dGlsc18xLmlzS2V5ZWQobGFzdENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaEtleWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudEFycmF5Q2hpbGRyZW4obmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudChuZXh0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKG5leHRDaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoVk5vZGVzXzEuaXNWTm9kZShsYXN0Q2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXRjaEFycmF5KSB7XHJcbiAgICAgICAgaWYgKHBhdGNoS2V5ZWQpIHtcclxuICAgICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKGxhc3RDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhdGNoQ29tcG9uZW50KGxhc3RWTm9kZSwgbmV4dFZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzQ2xhc3MsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgbGFzdFR5cGUgPSBsYXN0Vk5vZGUudHlwZTtcclxuICAgIHZhciBuZXh0VHlwZSA9IG5leHRWTm9kZS50eXBlO1xyXG4gICAgdmFyIGxhc3RLZXkgPSBsYXN0Vk5vZGUua2V5O1xyXG4gICAgdmFyIG5leHRLZXkgPSBuZXh0Vk5vZGUua2V5O1xyXG4gICAgaWYgKGxhc3RUeXBlICE9PSBuZXh0VHlwZSB8fCBsYXN0S2V5ICE9PSBuZXh0S2V5KSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlV2l0aE5ld05vZGUobGFzdFZOb2RlLCBuZXh0Vk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBuZXh0UHJvcHMgPSBuZXh0Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAgICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbGFzdFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKHBhcmVudERvbSwgbW91bnRpbmdfMS5tb3VudENvbXBvbmVudChuZXh0Vk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChuZXh0Vk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSA+IDApLCBsYXN0Vk5vZGUuZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNDb21wb25lbnREaWRVcGRhdGUgPSAhaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgLy8gV2hlbiBjb21wb25lbnQgaGFzIGNvbXBvbmVudERpZFVwZGF0ZSBob29rLCB3ZSBuZWVkIHRvIGNsb25lIGxhc3RTdGF0ZSBvciB3aWxsIGJlIG1vZGlmaWVkIGJ5IHJlZmVyZW5jZSBkdXJpbmcgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdFN0YXRlID0gaGFzQ29tcG9uZW50RGlkVXBkYXRlID8gaW5mZXJub19zaGFyZWRfMS5jb21iaW5lRnJvbShuZXh0U3RhdGUsIG51bGwpIDogbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RQcm9wcyA9IGluc3RhbmNlLnByb3BzO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl9pc1NWRyA9IGlzU1ZHO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGlsZENvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ29udGV4dCA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20oY29udGV4dCwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBsYXN0SW5wdXQgPSBpbnN0YW5jZS5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHRJbnB1dCA9IGluc3RhbmNlLl91cGRhdGVDb21wb25lbnQobGFzdFN0YXRlLCBuZXh0U3RhdGUsIGxhc3RQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZFVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fY2hpbGRDb250ZXh0ID0gY2hpbGRDb250ZXh0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVWb2lkVk5vZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHRJbnB1dCA9PT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IGxhc3RJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG5leHRJbnB1dCwgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChuZXh0SW5wdXQuZG9tKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuZXh0SW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQucGFyZW50Vk5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsYXN0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0SW5wdXQucGFyZW50Vk5vZGUgPSBuZXh0Vk5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5fbGFzdElucHV0ID0gbmV4dElucHV0O1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX3ZOb2RlID0gbmV4dFZOb2RlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpZFVwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2hpbGRDb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKGxhc3RQcm9wcywgbGFzdFN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5hZnRlclVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uc18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUobmV4dFZOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBuZXh0SW5wdXQuZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuZG9tID0gbmV4dElucHV0LmRvbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnN0YW5jZS5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBzaG91bGRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgbGFzdFByb3BzID0gbGFzdFZOb2RlLnByb3BzO1xyXG4gICAgICAgICAgICB2YXIgbmV4dEhvb2tzID0gbmV4dFZOb2RlLnJlZjtcclxuICAgICAgICAgICAgdmFyIG5leHRIb29rc0RlZmluZWQgPSAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRIb29rcyk7XHJcbiAgICAgICAgICAgIHZhciBsYXN0SW5wdXQgPSBsYXN0Vk5vZGUuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIHZhciBuZXh0SW5wdXQgPSBsYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgIG5leHRWTm9kZS5kb20gPSBsYXN0Vk5vZGUuZG9tO1xyXG4gICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBsYXN0SW5wdXQ7XHJcbiAgICAgICAgICAgIGlmIChsYXN0S2V5ICE9PSBuZXh0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnRTaG91bGRVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gbmV4dEhvb2tzLm9uQ29tcG9uZW50U2hvdWxkVXBkYXRlKGxhc3RQcm9wcywgbmV4dFByb3BzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnRXaWxsVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRIb29rcy5vbkNvbXBvbmVudFdpbGxVcGRhdGUobGFzdFByb3BzLCBuZXh0UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV4dElucHV0ID0gbmV4dFR5cGUobmV4dFByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dElucHV0ID0gVk5vZGVzXzEuY3JlYXRlVm9pZFZOb2RlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobmV4dElucHV0KSAmJiBuZXh0SW5wdXQgIT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0SW5wdXQgPSBWTm9kZXNfMS5jcmVhdGVUZXh0Vk5vZGUobmV4dElucHV0LCBudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShuZXh0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdhIHZhbGlkIEluZmVybm8gVk5vZGUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBhIGNvbXBvbmVudCByZW5kZXIuIFlvdSBtYXkgaGF2ZSByZXR1cm5lZCBhbiBhcnJheSBvciBhbiBpbnZhbGlkIG9iamVjdC4nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG5leHRJbnB1dC5kb20pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRJbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbnB1dCAhPT0gaW5mZXJub19zaGFyZWRfMS5OT19PUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGxhc3RJbnB1dCwgbmV4dElucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0Vk5vZGUuY2hpbGRyZW4gPSBuZXh0SW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRIb29rc0RlZmluZWQgJiYgIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SG9va3Mub25Db21wb25lbnREaWRVcGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRIb29rcy5vbkNvbXBvbmVudERpZFVwZGF0ZShsYXN0UHJvcHMsIG5leHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHRWTm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChuZXh0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIG5leHRJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChsYXN0SW5wdXQuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICAgICAgICAgIGxhc3RJbnB1dC5wYXJlbnRWTm9kZSA9IG5leHRWTm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLnBhdGNoQ29tcG9uZW50ID0gcGF0Y2hDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIHBhdGNoVGV4dChsYXN0Vk5vZGUsIG5leHRWTm9kZSkge1xyXG4gICAgdmFyIG5leHRUZXh0ID0gbmV4dFZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGRvbSA9IGxhc3RWTm9kZS5kb207XHJcbiAgICBuZXh0Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKGxhc3RWTm9kZS5jaGlsZHJlbiAhPT0gbmV4dFRleHQpIHtcclxuICAgICAgICBkb20ubm9kZVZhbHVlID0gbmV4dFRleHQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFRleHQgPSBwYXRjaFRleHQ7XHJcbmZ1bmN0aW9uIHBhdGNoVm9pZChsYXN0Vk5vZGUsIG5leHRWTm9kZSkge1xyXG4gICAgbmV4dFZOb2RlLmRvbSA9IGxhc3RWTm9kZS5kb207XHJcbn1cclxuZXhwb3J0cy5wYXRjaFZvaWQgPSBwYXRjaFZvaWQ7XHJcbmZ1bmN0aW9uIHBhdGNoTm9uS2V5ZWRDaGlsZHJlbihsYXN0Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGxhc3RDaGlsZHJlbkxlbmd0aCA9IGxhc3RDaGlsZHJlbi5sZW5ndGg7XHJcbiAgICB2YXIgbmV4dENoaWxkcmVuTGVuZ3RoID0gbmV4dENoaWxkcmVuLmxlbmd0aDtcclxuICAgIHZhciBjb21tb25MZW5ndGggPSBsYXN0Q2hpbGRyZW5MZW5ndGggPiBuZXh0Q2hpbGRyZW5MZW5ndGggPyBuZXh0Q2hpbGRyZW5MZW5ndGggOiBsYXN0Q2hpbGRyZW5MZW5ndGg7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBmb3IgKDsgaSA8IGNvbW1vbkxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXTtcclxuICAgICAgICBpZiAobmV4dENoaWxkLmRvbSkge1xyXG4gICAgICAgICAgICBuZXh0Q2hpbGQgPSBuZXh0Q2hpbGRyZW5baV0gPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShuZXh0Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXRjaChsYXN0Q2hpbGRyZW5baV0sIG5leHRDaGlsZCwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAobGFzdENoaWxkcmVuTGVuZ3RoIDwgbmV4dENoaWxkcmVuTGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChpID0gY29tbW9uTGVuZ3RoOyBpIDwgbmV4dENoaWxkcmVuTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKG5leHRDaGlsZC5kb20pIHtcclxuICAgICAgICAgICAgICAgIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltpXSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5leHRDaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChkb20sIG1vdW50aW5nXzEubW91bnQobmV4dENoaWxkLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobmV4dENoaWxkcmVuTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGxhc3RDaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsYXN0Q2hpbGRyZW5MZW5ndGggPiBuZXh0Q2hpbGRyZW5MZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGkgPSBjb21tb25MZW5ndGg7IGkgPCBsYXN0Q2hpbGRyZW5MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChsYXN0Q2hpbGRyZW5baV0sIGRvbSwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoTm9uS2V5ZWRDaGlsZHJlbiA9IHBhdGNoTm9uS2V5ZWRDaGlsZHJlbjtcclxuZnVuY3Rpb24gcGF0Y2hLZXllZENoaWxkcmVuKGEsIGIsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBhTGVuZ3RoID0gYS5sZW5ndGg7XHJcbiAgICB2YXIgYkxlbmd0aCA9IGIubGVuZ3RoO1xyXG4gICAgdmFyIGFFbmQgPSBhTGVuZ3RoIC0gMTtcclxuICAgIHZhciBiRW5kID0gYkxlbmd0aCAtIDE7XHJcbiAgICB2YXIgYVN0YXJ0ID0gMDtcclxuICAgIHZhciBiU3RhcnQgPSAwO1xyXG4gICAgdmFyIGk7XHJcbiAgICB2YXIgajtcclxuICAgIHZhciBhTm9kZTtcclxuICAgIHZhciBiTm9kZTtcclxuICAgIHZhciBuZXh0Tm9kZTtcclxuICAgIHZhciBuZXh0UG9zO1xyXG4gICAgdmFyIG5vZGU7XHJcbiAgICBpZiAoYUxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlmIChiTGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBtb3VudGluZ18xLm1vdW50QXJyYXlDaGlsZHJlbihiLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChiTGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdXRpbHNfMS5yZW1vdmVBbGxDaGlsZHJlbihkb20sIGEsIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBhU3RhcnROb2RlID0gYVthU3RhcnRdO1xyXG4gICAgdmFyIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICB2YXIgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgdmFyIGJFbmROb2RlID0gYltiRW5kXTtcclxuICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgIGJbYlN0YXJ0XSA9IGJTdGFydE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiU3RhcnROb2RlKTtcclxuICAgIH1cclxuICAgIGlmIChiRW5kTm9kZS5kb20pIHtcclxuICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICB9XHJcbiAgICAvLyBTdGVwIDFcclxuICAgIC8qIGVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IDAgKi9cclxuICAgIG91dGVyOiB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIC8vIFN5bmMgbm9kZXMgd2l0aCB0aGUgc2FtZSBrZXkgYXQgdGhlIGJlZ2lubmluZy5cclxuICAgICAgICB3aGlsZSAoYVN0YXJ0Tm9kZS5rZXkgPT09IGJTdGFydE5vZGUua2V5KSB7XHJcbiAgICAgICAgICAgIHBhdGNoKGFTdGFydE5vZGUsIGJTdGFydE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBhU3RhcnQrKztcclxuICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgIGlmIChhU3RhcnQgPiBhRW5kIHx8IGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICAgICAgICAgIGJTdGFydE5vZGUgPSBiW2JTdGFydF07XHJcbiAgICAgICAgICAgIGlmIChiU3RhcnROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiU3RhcnRdID0gYlN0YXJ0Tm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJTdGFydE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN5bmMgbm9kZXMgd2l0aCB0aGUgc2FtZSBrZXkgYXQgdGhlIGVuZC5cclxuICAgICAgICB3aGlsZSAoYUVuZE5vZGUua2V5ID09PSBiRW5kTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYUVuZE5vZGUsIGJFbmROb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgYUVuZC0tO1xyXG4gICAgICAgICAgICBiRW5kLS07XHJcbiAgICAgICAgICAgIGlmIChhU3RhcnQgPiBhRW5kIHx8IGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFFbmROb2RlID0gYVthRW5kXTtcclxuICAgICAgICAgICAgYkVuZE5vZGUgPSBiW2JFbmRdO1xyXG4gICAgICAgICAgICBpZiAoYkVuZE5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBiW2JFbmRdID0gYkVuZE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiRW5kTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTW92ZSBhbmQgc3luYyBub2RlcyBmcm9tIHJpZ2h0IHRvIGxlZnQuXHJcbiAgICAgICAgaWYgKGFFbmROb2RlLmtleSA9PT0gYlN0YXJ0Tm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYUVuZE5vZGUsIGJTdGFydE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgYlN0YXJ0Tm9kZS5kb20sIGFTdGFydE5vZGUuZG9tKTtcclxuICAgICAgICAgICAgYUVuZC0tO1xyXG4gICAgICAgICAgICBiU3RhcnQrKztcclxuICAgICAgICAgICAgYUVuZE5vZGUgPSBhW2FFbmRdO1xyXG4gICAgICAgICAgICBiU3RhcnROb2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICBpZiAoYlN0YXJ0Tm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IGJTdGFydE5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShiU3RhcnROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTW92ZSBhbmQgc3luYyBub2RlcyBmcm9tIGxlZnQgdG8gcmlnaHQuXHJcbiAgICAgICAgaWYgKGFTdGFydE5vZGUua2V5ID09PSBiRW5kTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgcGF0Y2goYVN0YXJ0Tm9kZSwgYkVuZE5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICBuZXh0UG9zID0gYkVuZCArIDE7XHJcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFBvcyA8IGIubGVuZ3RoID8gYltuZXh0UG9zXS5kb20gOiBudWxsO1xyXG4gICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgYkVuZE5vZGUuZG9tLCBuZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgIGFTdGFydCsrO1xyXG4gICAgICAgICAgICBiRW5kLS07XHJcbiAgICAgICAgICAgIGFTdGFydE5vZGUgPSBhW2FTdGFydF07XHJcbiAgICAgICAgICAgIGJFbmROb2RlID0gYltiRW5kXTtcclxuICAgICAgICAgICAgaWYgKGJFbmROb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgYltiRW5kXSA9IGJFbmROb2RlID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoYkVuZE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIGlmIChhU3RhcnQgPiBhRW5kKSB7XHJcbiAgICAgICAgaWYgKGJTdGFydCA8PSBiRW5kKSB7XHJcbiAgICAgICAgICAgIG5leHRQb3MgPSBiRW5kICsgMTtcclxuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgIHdoaWxlIChiU3RhcnQgPD0gYkVuZCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZSA9IGJbYlN0YXJ0XTtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJbYlN0YXJ0XSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJTdGFydCsrO1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGJTdGFydCA+IGJFbmQpIHtcclxuICAgICAgICB3aGlsZSAoYVN0YXJ0IDw9IGFFbmQpIHtcclxuICAgICAgICAgICAgdW5tb3VudGluZ18xLnVubW91bnQoYVthU3RhcnQrK10sIGRvbSwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFMZW5ndGggPSBhRW5kIC0gYVN0YXJ0ICsgMTtcclxuICAgICAgICBiTGVuZ3RoID0gYkVuZCAtIGJTdGFydCArIDE7XHJcbiAgICAgICAgdmFyIHNvdXJjZXMgPSBuZXcgQXJyYXkoYkxlbmd0aCk7XHJcbiAgICAgICAgLy8gTWFyayBhbGwgbm9kZXMgYXMgaW5zZXJ0ZWQuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzb3VyY2VzW2ldID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBwb3MgPSAwO1xyXG4gICAgICAgIHZhciBwYXRjaGVkID0gMDtcclxuICAgICAgICAvLyBXaGVuIHNpemVzIGFyZSBzbWFsbCwganVzdCBsb29wIHRoZW0gdGhyb3VnaFxyXG4gICAgICAgIGlmICgoYkxlbmd0aCA8PSA0KSB8fCAoYUxlbmd0aCAqIGJMZW5ndGggPD0gMTYpKSB7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGFTdGFydDsgaSA8PSBhRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGFOb2RlID0gYVtpXTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXRjaGVkIDwgYkxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IGJTdGFydDsgaiA8PSBiRW5kOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYk5vZGUgPSBiW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYU5vZGUua2V5ID09PSBiTm9kZS5rZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXNbaiAtIGJTdGFydF0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJOb2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbal0gPSBiTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoKGFOb2RlLCBiTm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhW2ldID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIga2V5SW5kZXggPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIC8vIE1hcCBrZXlzIGJ5IHRoZWlyIGluZGV4IGluIGFycmF5XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGJTdGFydDsgaSA8PSBiRW5kOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGtleUluZGV4LnNldChiW2ldLmtleSwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVHJ5IHRvIHBhdGNoIHNhbWUga2V5c1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBhU3RhcnQ7IGkgPD0gYUVuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhTm9kZSA9IGFbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hlZCA8IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBqID0ga2V5SW5kZXguZ2V0KGFOb2RlLmtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJOb2RlID0gYltqXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlc1tqIC0gYlN0YXJ0XSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MgPiBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiTm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbal0gPSBiTm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGJOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaChhTm9kZSwgYk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbaV0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmYXN0LXBhdGg6IGlmIG5vdGhpbmcgcGF0Y2hlZCByZW1vdmUgYWxsIG9sZCBhbmQgYWRkIGFsbCBuZXdcclxuICAgICAgICBpZiAoYUxlbmd0aCA9PT0gYS5sZW5ndGggJiYgcGF0Y2hlZCA9PT0gMCkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnJlbW92ZUFsbENoaWxkcmVuKGRvbSwgYSwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICAgICAgICAgIHdoaWxlIChiU3RhcnQgPCBiTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gYltiU3RhcnRdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYltiU3RhcnRdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYlN0YXJ0Kys7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLmluc2VydE9yQXBwZW5kKGRvbSwgbW91bnRpbmdfMS5tb3VudChub2RlLCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSwgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGkgPSBhTGVuZ3RoIC0gcGF0Y2hlZDtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhTm9kZSA9IGFbYVN0YXJ0KytdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChhTm9kZSwgZG9tLCBsaWZlY3ljbGUsIHRydWUsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VxID0gbGlzX2FsZ29yaXRobShzb3VyY2VzKTtcclxuICAgICAgICAgICAgICAgIGogPSBzZXEubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGJMZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VzW2ldID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBpICsgYlN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltwb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5kb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbcG9zXSA9IG5vZGUgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UG9zID0gcG9zICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0UG9zIDwgYi5sZW5ndGggPyBiW25leHRQb3NdLmRvbSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBtb3VudGluZ18xLm1vdW50KG5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBzZXFbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltwb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFBvcyA9IHBvcyArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzXzEuaW5zZXJ0T3JBcHBlbmQoZG9tLCBub2RlLmRvbSwgbmV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBhdGNoZWQgIT09IGJMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcGF0Y2hlZCBjb3VudCBkb2Vzbid0IG1hdGNoIGIgbGVuZ3RoIHdlIG5lZWQgdG8gaW5zZXJ0IHRob3NlIG5ldyBvbmVzXHJcbiAgICAgICAgICAgICAgICAvLyBsb29wIGJhY2t3YXJkcyBzbyB3ZSBjYW4gdXNlIGluc2VydEJlZm9yZVxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gYkxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXNbaV0gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGkgKyBiU3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYltwb3NdID0gbm9kZSA9IFZOb2Rlc18xLmRpcmVjdENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQb3MgPSBwb3MgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRQb3MgPCBiLmxlbmd0aCA/IGJbbmV4dFBvc10uZG9tIDogbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHNfMS5pbnNlcnRPckFwcGVuZChkb20sIG1vdW50aW5nXzEubW91bnQobm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyksIG5leHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEtleWVkQ2hpbGRyZW4gPSBwYXRjaEtleWVkQ2hpbGRyZW47XHJcbi8vIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xvbmdlc3RfaW5jcmVhc2luZ19zdWJzZXF1ZW5jZVxyXG5mdW5jdGlvbiBsaXNfYWxnb3JpdGhtKGFycikge1xyXG4gICAgdmFyIHAgPSBhcnIuc2xpY2UoMCk7XHJcbiAgICB2YXIgcmVzdWx0ID0gWzBdO1xyXG4gICAgdmFyIGk7XHJcbiAgICB2YXIgajtcclxuICAgIHZhciB1O1xyXG4gICAgdmFyIHY7XHJcbiAgICB2YXIgYztcclxuICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGFyckkgPSBhcnJbaV07XHJcbiAgICAgICAgaWYgKGFyckkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBqID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xyXG4gICAgICAgICAgICBwW2ldID0gajtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1ID0gMDtcclxuICAgICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgd2hpbGUgKHUgPCB2KSB7XHJcbiAgICAgICAgICAgIGMgPSAoKHUgKyB2KSAvIDIpIHwgMDtcclxuICAgICAgICAgICAgaWYgKGFycltyZXN1bHRbY11dIDwgYXJySSkge1xyXG4gICAgICAgICAgICAgICAgdSA9IGMgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdiA9IGM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyckkgPCBhcnJbcmVzdWx0W3VdXSkge1xyXG4gICAgICAgICAgICBpZiAodSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdFt1XSA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdSA9IHJlc3VsdC5sZW5ndGg7XHJcbiAgICB2ID0gcmVzdWx0W3UgLSAxXTtcclxuICAgIHdoaWxlICh1LS0gPiAwKSB7XHJcbiAgICAgICAgcmVzdWx0W3VdID0gdjtcclxuICAgICAgICB2ID0gcFt2XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gaXNBdHRyQW5FdmVudChhdHRyKSB7XHJcbiAgICByZXR1cm4gYXR0clswXSA9PT0gJ28nICYmIGF0dHJbMV0gPT09ICduJztcclxufVxyXG5leHBvcnRzLmlzQXR0ckFuRXZlbnQgPSBpc0F0dHJBbkV2ZW50O1xyXG5mdW5jdGlvbiBwYXRjaFByb3AocHJvcCwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSkge1xyXG4gICAgaWYgKGxhc3RWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGNvbnN0YW50c18xLnNraXBQcm9wcy5oYXMocHJvcCkgfHwgKGhhc0NvbnRyb2xsZWRWYWx1ZSAmJiBwcm9wID09PSAndmFsdWUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLmJvb2xlYW5Qcm9wcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgcHJvcCA9IHByb3AgPT09ICdhdXRvRm9jdXMnID8gcHJvcC50b0xvd2VyQ2FzZSgpIDogcHJvcDtcclxuICAgICAgICAgICAgZG9tW3Byb3BdID0gISFuZXh0VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLnN0cmljdFByb3BzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSA/ICcnIDogbmV4dFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoZG9tW3Byb3BdICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZG9tW3Byb3BdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgICAgICBwYXRjaEV2ZW50KHByb3AsIGxhc3RWYWx1ZSwgbmV4dFZhbHVlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSkge1xyXG4gICAgICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgIHBhdGNoU3R5bGUobGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdkYW5nZXJvdXNseVNldElubmVySFRNTCcpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3RIdG1sID0gbGFzdFZhbHVlICYmIGxhc3RWYWx1ZS5fX2h0bWw7XHJcbiAgICAgICAgICAgIHZhciBuZXh0SHRtbCA9IG5leHRWYWx1ZSAmJiBuZXh0VmFsdWUuX19odG1sO1xyXG4gICAgICAgICAgICBpZiAobGFzdEh0bWwgIT09IG5leHRIdG1sKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihuZXh0SHRtbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20uaW5uZXJIVE1MID0gbmV4dEh0bWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFdlIG9wdGltaXplIGZvciBOUyBiZWluZyBib29sZWFuLiBJdHMgOTkuOSUgdGltZSBmYWxzZVxyXG4gICAgICAgICAgICBpZiAoaXNTVkcgJiYgY29uc3RhbnRzXzEubmFtZXNwYWNlcy5oYXMocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGVuZCB1cCBpbiB0aGlzIHBhdGggd2UgY2FuIHJlYWQgcHJvcGVydHkgYWdhaW5cclxuICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGVOUyhjb25zdGFudHNfMS5uYW1lc3BhY2VzLmdldChwcm9wKSwgcHJvcCwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUocHJvcCwgbmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLnBhdGNoUHJvcCA9IHBhdGNoUHJvcDtcclxuZnVuY3Rpb24gcGF0Y2hFdmVudChuYW1lLCBsYXN0VmFsdWUsIG5leHRWYWx1ZSwgZG9tKSB7XHJcbiAgICBpZiAobGFzdFZhbHVlICE9PSBuZXh0VmFsdWUpIHtcclxuICAgICAgICBpZiAoY29uc3RhbnRzXzEuZGVsZWdhdGVkRXZlbnRzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICBkZWxlZ2F0aW9uXzEuaGFuZGxlRXZlbnQobmFtZSwgbGFzdFZhbHVlLCBuZXh0VmFsdWUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbmFtZUxvd2VyQ2FzZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIGRvbUV2ZW50ID0gZG9tW25hbWVMb3dlckNhc2VdO1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgZnVuY3Rpb24gaXMgd3JhcHBlZCwgdGhhdCBtZWFucyBpdCdzIGJlZW4gY29udHJvbGxlZCBieSBhIHdyYXBwZXJcclxuICAgICAgICAgICAgaWYgKGRvbUV2ZW50ICYmIGRvbUV2ZW50LndyYXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihuZXh0VmFsdWUpICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmtFdmVudF8xID0gbmV4dFZhbHVlLmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmtFdmVudF8xICYmIGluZmVybm9fc2hhcmVkXzEuaXNGdW5jdGlvbihsaW5rRXZlbnRfMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rRXZlbnRfMShuZXh0VmFsdWUuZGF0YSwgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImFuIGV2ZW50IG9uIGEgVk5vZGUgXFxcIlwiICsgbmFtZSArIFwiXFxcIi4gd2FzIG5vdCBhIGZ1bmN0aW9uIG9yIGEgdmFsaWQgbGlua0V2ZW50LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkb21bbmFtZUxvd2VyQ2FzZV0gPSBuZXh0VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaEV2ZW50ID0gcGF0Y2hFdmVudDtcclxuLy8gV2UgYXJlIGFzc3VtaW5nIGhlcmUgdGhhdCB3ZSBjb21lIGZyb20gcGF0Y2hQcm9wIHJvdXRpbmVcclxuLy8gLW5leHRBdHRyVmFsdWUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXHJcbmZ1bmN0aW9uIHBhdGNoU3R5bGUobGFzdEF0dHJWYWx1ZSwgbmV4dEF0dHJWYWx1ZSwgZG9tKSB7XHJcbiAgICB2YXIgZG9tU3R5bGUgPSBkb20uc3R5bGU7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyhuZXh0QXR0clZhbHVlKSkge1xyXG4gICAgICAgIGRvbVN0eWxlLmNzc1RleHQgPSBuZXh0QXR0clZhbHVlO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvciAodmFyIHN0eWxlIGluIG5leHRBdHRyVmFsdWUpIHtcclxuICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRBdHRyVmFsdWVbc3R5bGVdO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bWJlcih2YWx1ZSkgfHwgY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlci5oYXMoc3R5bGUpKSB7XHJcbiAgICAgICAgICAgIGRvbVN0eWxlW3N0eWxlXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gdmFsdWUgKyAncHgnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGxhc3RBdHRyVmFsdWUpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3R5bGUgaW4gbGFzdEF0dHJWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKG5leHRBdHRyVmFsdWVbc3R5bGVdKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tU3R5bGVbc3R5bGVdID0gJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wYXRjaFN0eWxlID0gcGF0Y2hTdHlsZTtcclxuZnVuY3Rpb24gcmVtb3ZlUHJvcChwcm9wLCBsYXN0VmFsdWUsIGRvbSkge1xyXG4gICAgaWYgKHByb3AgPT09ICd2YWx1ZScpIHtcclxuICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3AgPT09ICdzdHlsZScpIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBdHRyQW5FdmVudChwcm9wKSkge1xyXG4gICAgICAgIGRlbGVnYXRpb25fMS5oYW5kbGVFdmVudChwcm9wLCBsYXN0VmFsdWUsIG51bGwsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBkb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3BhdGNoaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgb3B0aW9uc18xID0gcmVxdWlyZShcIi4uL2NvcmUvb3B0aW9uc1wiKTtcclxudmFyIFZOb2Rlc18xID0gcmVxdWlyZShcIi4uL2NvcmUvVk5vZGVzXCIpO1xyXG52YXIgaHlkcmF0aW9uXzEgPSByZXF1aXJlKFwiLi9oeWRyYXRpb25cIik7XHJcbnZhciBtb3VudGluZ18xID0gcmVxdWlyZShcIi4vbW91bnRpbmdcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciB1bm1vdW50aW5nXzEgPSByZXF1aXJlKFwiLi91bm1vdW50aW5nXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG4vLyByYXRoZXIgdGhhbiB1c2UgYSBNYXAsIGxpa2Ugd2UgZGlkIGJlZm9yZSwgd2UgY2FuIHVzZSBhbiBhcnJheSBoZXJlXHJcbi8vIGdpdmVuIHRoZXJlIHNob3VsZG4ndCBiZSBUSEFUIG1hbnkgcm9vdHMgb24gdGhlIHBhZ2UsIHRoZSBkaWZmZXJlbmNlXHJcbi8vIGluIHBlcmZvcm1hbmNlIGlzIGh1Z2U6IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTgwMmE2OTEzMzBhYjA5OTAwYTFhMmRhXHJcbmV4cG9ydHMuY29tcG9uZW50VG9ET01Ob2RlTWFwID0gbmV3IE1hcCgpO1xyXG52YXIgcm9vdHMgPSBvcHRpb25zXzEub3B0aW9ucy5yb290cztcclxuLyoqXHJcbiAqIFdoZW4gaW5mZXJuby5vcHRpb25zLmZpbmRET01OT2RlRW5hYmxlZCBpcyB0cnVlLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIERPTSBOb2RlIGJ5IGNvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0gcmVmIENvbXBvbmVudCBpbnN0YW5jZVxyXG4gKiBAcmV0dXJucyB7KnxudWxsfSByZXR1cm5zIGRvbSBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kRE9NTm9kZShyZWYpIHtcclxuICAgIGlmICghb3B0aW9uc18xLm9wdGlvbnMuZmluZERPTU5vZGVFbmFibGVkKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdmaW5kRE9NTm9kZSgpIGhhcyBiZWVuIGRpc2FibGVkLCB1c2UgSW5mZXJuby5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCA9IHRydWU7IGVuYWJsZWQgZmluZERPTU5vZGUoKS4gV2FybmluZyB0aGlzIGNhbiBzaWduaWZpY2FudGx5IGltcGFjdCBwZXJmb3JtYW5jZSEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgZG9tID0gcmVmICYmIHJlZi5ub2RlVHlwZSA/IHJlZiA6IG51bGw7XHJcbiAgICByZXR1cm4gZXhwb3J0cy5jb21wb25lbnRUb0RPTU5vZGVNYXAuZ2V0KHJlZikgfHwgZG9tO1xyXG59XHJcbmV4cG9ydHMuZmluZERPTU5vZGUgPSBmaW5kRE9NTm9kZTtcclxuZnVuY3Rpb24gZ2V0Um9vdChkb20pIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb290cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciByb290ID0gcm9vdHNbaV07XHJcbiAgICAgICAgaWYgKHJvb3QuZG9tID09PSBkb20pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuZnVuY3Rpb24gc2V0Um9vdChkb20sIGlucHV0LCBsaWZlY3ljbGUpIHtcclxuICAgIHZhciByb290ID0ge1xyXG4gICAgICAgIGRvbTogZG9tLFxyXG4gICAgICAgIGlucHV0OiBpbnB1dCxcclxuICAgICAgICBsaWZlY3ljbGU6IGxpZmVjeWNsZVxyXG4gICAgfTtcclxuICAgIHJvb3RzLnB1c2gocm9vdCk7XHJcbiAgICByZXR1cm4gcm9vdDtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVSb290KHJvb3QpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByb290cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGlmIChyb290c1tpXSA9PT0gcm9vdCkge1xyXG4gICAgICAgICAgICByb290cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQnJvd3NlciAmJiBkb2N1bWVudC5ib2R5ID09PSBudWxsKSB7XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCdJbmZlcm5vIHdhcm5pbmc6IHlvdSBjYW5ub3QgaW5pdGlhbGl6ZSBpbmZlcm5vIHdpdGhvdXQgXCJkb2N1bWVudC5ib2R5XCIuIFdhaXQgb24gXCJET01Db250ZW50TG9hZGVkXCIgZXZlbnQsIGFkZCBzY3JpcHQgdG8gYm90dG9tIG9mIGJvZHksIG9yIHVzZSBhc3luYy9kZWZlciBhdHRyaWJ1dGVzIG9uIHNjcmlwdCB0YWcuJyk7XHJcbiAgICB9XHJcbn1cclxudmFyIGRvY3VtZW50Qm9keSA9IGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XHJcbi8qKlxyXG4gKiBSZW5kZXJzIHZpcnR1YWwgbm9kZSB0cmVlIGludG8gcGFyZW50IG5vZGUuXHJcbiAqIEBwYXJhbSB7Vk5vZGUgfCBudWxsIHwgc3RyaW5nIHwgbnVtYmVyfSBpbnB1dCB2Tm9kZSB0byBiZSByZW5kZXJlZFxyXG4gKiBAcGFyYW0gcGFyZW50RG9tIERPTSBub2RlIHdoaWNoIGNvbnRlbnQgd2lsbCBiZSByZXBsYWNlZCBieSB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge0luZmVybm9DaGlsZHJlbn0gcmVuZGVyZWQgdmlydHVhbCBub2RlXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXIoaW5wdXQsIHBhcmVudERvbSkge1xyXG4gICAgaWYgKGRvY3VtZW50Qm9keSA9PT0gcGFyZW50RG9tKSB7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCd5b3UgY2Fubm90IHJlbmRlcigpIHRvIHRoZSBcImRvY3VtZW50LmJvZHlcIi4gVXNlIGFuIGVtcHR5IGVsZW1lbnQgYXMgYSBjb250YWluZXIgaW5zdGVhZC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5wdXQgPT09IGluZmVybm9fc2hhcmVkXzEuTk9fT1ApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcm9vdCA9IGdldFJvb3QocGFyZW50RG9tKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChyb290KSkge1xyXG4gICAgICAgIHZhciBsaWZlY3ljbGUgPSBuZXcgaW5mZXJub19zaGFyZWRfMS5MaWZlY3ljbGUoKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGlucHV0KSkge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuZG9tKSB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFZOb2Rlc18xLmRpcmVjdENsb25lKGlucHV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWh5ZHJhdGlvbl8xLmh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkpIHtcclxuICAgICAgICAgICAgICAgIG1vdW50aW5nXzEubW91bnQoaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJvb3QgPSBzZXRSb290KHBhcmVudERvbSwgaW5wdXQsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGxpZmVjeWNsZSA9IHJvb3QubGlmZWN5Y2xlO1xyXG4gICAgICAgIGxpZmVjeWNsZS5saXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGlucHV0KSkge1xyXG4gICAgICAgICAgICB1bm1vdW50aW5nXzEudW5tb3VudChyb290LmlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlUm9vdChyb290KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoaW5wdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhdGNoaW5nXzEucGF0Y2gocm9vdC5pbnB1dCwgaW5wdXQsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCB1dGlsc18xLkVNUFRZX09CSiwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm9vdC5pbnB1dCA9IGlucHV0O1xyXG4gICAgICAgIGxpZmVjeWNsZS50cmlnZ2VyKCk7XHJcbiAgICB9XHJcbiAgICBpZiAocm9vdCkge1xyXG4gICAgICAgIHZhciByb290SW5wdXQgPSByb290LmlucHV0O1xyXG4gICAgICAgIGlmIChyb290SW5wdXQgJiYgKHJvb3RJbnB1dC5mbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3RJbnB1dC5jaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKHBhcmVudERvbSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlbmRlcmVyKGxhc3RJbnB1dCwgbmV4dElucHV0KSB7XHJcbiAgICAgICAgaWYgKCFwYXJlbnREb20pIHtcclxuICAgICAgICAgICAgcGFyZW50RG9tID0gbGFzdElucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZW5kZXIobmV4dElucHV0LCBwYXJlbnREb20pO1xyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3JlbmRlcmluZy5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jb21wb25lbnRcIik7XHJcbnZhciBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jcmVhdGUtZWxlbWVudFwiKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxudmFyIFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuX29uQ29tcG9uZW50UmVzb2x2ZWQgPSBmdW5jdGlvbiAoZXJyb3IsIGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBhc3luY0NvbXBvbmVudDogY29tcG9uZW50XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGFzeW5jQ29tcG9uZW50OiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSb3V0ZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSB0aGlzLnByb3BzLm9uRW50ZXI7XHJcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuY29udGV4dC5yb3V0ZXI7XHJcbiAgICAgICAgaWYgKG9uRW50ZXIpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb25FbnRlcih7IHByb3BzOiBfdGhpcy5wcm9wcywgcm91dGVyOiByb3V0ZXIgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gdGhpcy5wcm9wcy5nZXRDb21wb25lbnQ7XHJcbiAgICAgICAgaWYgKGdldENvbXBvbmVudCkge1xyXG4gICAgICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnQoeyBwcm9wczogX3RoaXMucHJvcHMsIHJvdXRlcjogcm91dGVyIH0sIF90aGlzLl9vbkNvbXBvbmVudFJlc29sdmVkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5vbkxlYXZlID0gZnVuY3Rpb24gKHRyaWdnZXIpIHtcclxuICAgICAgICBpZiAodHJpZ2dlciA9PT0gdm9pZCAwKSB7IHRyaWdnZXIgPSBmYWxzZTsgfVxyXG4gICAgICAgIHZhciBvbkxlYXZlID0gdGhpcy5wcm9wcy5vbkxlYXZlO1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmNvbnRleHQucm91dGVyO1xyXG4gICAgICAgIGlmIChvbkxlYXZlICYmIHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgb25MZWF2ZSh7IHByb3BzOiB0aGlzLnByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLm9uRW50ZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdmFyIG9uRW50ZXIgPSBuZXh0UHJvcHMub25FbnRlcjtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBvbkVudGVyKSB7XHJcbiAgICAgICAgICAgIG9uRW50ZXIoeyBwcm9wczogbmV4dFByb3BzLCByb3V0ZXI6IHJvdXRlciB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uIChuZXh0UHJvcHMpIHtcclxuICAgICAgICB2YXIgZ2V0Q29tcG9uZW50ID0gbmV4dFByb3BzLmdldENvbXBvbmVudDtcclxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5jb250ZXh0LnJvdXRlcjtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCAmJiBnZXRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50KHsgcHJvcHM6IG5leHRQcm9wcywgcm91dGVyOiByb3V0ZXIgfSwgdGhpcy5fb25Db21wb25lbnRSZXNvbHZlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uRW50ZXIobmV4dFByb3BzKTtcclxuICAgICAgICB0aGlzLm9uTGVhdmUodGhpcy5wcm9wcy5wYXRoICE9PSBuZXh0UHJvcHMucGF0aCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChfYXJncykge1xyXG4gICAgICAgIHZhciBjb21wb25lbnQgPSBfYXJncy5jb21wb25lbnQsIGNoaWxkcmVuID0gX2FyZ3MuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIHByb3BzID0gdXRpbHNfMS5yZXN0KF9hcmdzLCBbJ2NvbXBvbmVudCcsICdjaGlsZHJlbicsICdwYXRoJywgJ2dldENvbXBvbmVudCddKTtcclxuICAgICAgICB2YXIgYXN5bmNDb21wb25lbnQgPSB0aGlzLnN0YXRlLmFzeW5jQ29tcG9uZW50O1xyXG4gICAgICAgIHZhciByZXNvbHZlZENvbXBvbmVudCA9IGNvbXBvbmVudCB8fCBhc3luY0NvbXBvbmVudDtcclxuICAgICAgICBpZiAoIXJlc29sdmVkQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KHJlc29sdmVkQ29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZTtcclxufShpbmZlcm5vX2NvbXBvbmVudF8xLmRlZmF1bHQpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gUm91dGU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L1JvdXRlLmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMueGxpbmtOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcclxuZXhwb3J0cy54bWxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnO1xyXG5leHBvcnRzLnN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuZXhwb3J0cy5zdHJpY3RQcm9wcyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5zdHJpY3RQcm9wcy5hZGQoJ3ZvbHVtZScpO1xyXG5leHBvcnRzLnN0cmljdFByb3BzLmFkZCgnZGVmYXVsdENoZWNrZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMgPSBuZXcgU2V0KCk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbXV0ZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzY29wZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdsb29wJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnb3BlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2NoZWNrZWQnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdkZWZhdWx0Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnY2FwdHVyZScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2Rpc2FibGVkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgncmVhZE9ubHknKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdyZXF1aXJlZCcpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2F1dG9wbGF5Jyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnY29udHJvbHMnKTtcclxuZXhwb3J0cy5ib29sZWFuUHJvcHMuYWRkKCdzZWFtbGVzcycpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3JldmVyc2VkJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnYWxsb3dmdWxsc2NyZWVuJyk7XHJcbmV4cG9ydHMuYm9vbGVhblByb3BzLmFkZCgnbm92YWxpZGF0ZScpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2hpZGRlbicpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ2F1dG9Gb2N1cycpO1xyXG5leHBvcnRzLmJvb2xlYW5Qcm9wcy5hZGQoJ3NlbGVjdGVkJyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcyA9IG5ldyBNYXAoKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6aHJlZicsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOmFyY3JvbGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazphY3R1YXRlJywgZXhwb3J0cy54bGlua05TKTtcclxuZXhwb3J0cy5uYW1lc3BhY2VzLnNldCgneGxpbms6c2hvdycsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnJvbGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bGluazp0aXRsZScsIGV4cG9ydHMueGxpbmtOUyk7XHJcbmV4cG9ydHMubmFtZXNwYWNlcy5zZXQoJ3hsaW5rOnR5cGUnLCBleHBvcnRzLnhsaW5rTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bWw6YmFzZScsIGV4cG9ydHMueG1sTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bWw6bGFuZycsIGV4cG9ydHMueG1sTlMpO1xyXG5leHBvcnRzLm5hbWVzcGFjZXMuc2V0KCd4bWw6c3BhY2UnLCBleHBvcnRzLnhtbE5TKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyID0gbmV3IFNldCgpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdhbmltYXRpb25JdGVyYXRpb25Db3VudCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZU91dHNldCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3JkZXJJbWFnZVNsaWNlJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2JvcmRlckltYWdlV2lkdGgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94RmxleCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdib3hGbGV4R3JvdXAnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnYm94T3JkaW5hbEdyb3VwJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2NvbHVtbkNvdW50Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXgnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleEdyb3cnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleFBvc2l0aXZlJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhTaHJpbmsnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxleE5lZ2F0aXZlJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2ZsZXhPcmRlcicpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdncmlkUm93Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ2dyaWRDb2x1bW4nKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZm9udFdlaWdodCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdsaW5lQ2xhbXAnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnbGluZUhlaWdodCcpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdvcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ29yZGVyJyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ29ycGhhbnMnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgndGFiU2l6ZScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCd3aWRvd3MnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnekluZGV4Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3pvb20nKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmlsbE9wYWNpdHknKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnZmxvb2RPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0b3BPcGFjaXR5Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZURhc2hhcnJheScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VEYXNob2Zmc2V0Jyk7XHJcbmV4cG9ydHMuaXNVbml0bGVzc051bWJlci5hZGQoJ3N0cm9rZU1pdGVybGltaXQnKTtcclxuZXhwb3J0cy5pc1VuaXRsZXNzTnVtYmVyLmFkZCgnc3Ryb2tlT3BhY2l0eScpO1xyXG5leHBvcnRzLmlzVW5pdGxlc3NOdW1iZXIuYWRkKCdzdHJva2VXaWR0aCcpO1xyXG5leHBvcnRzLnNraXBQcm9wcyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdjaGlsZHJlbicpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2NoaWxkcmVuVHlwZScpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2RlZmF1bHRWYWx1ZScpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ3JlZicpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2tleScpO1xyXG5leHBvcnRzLnNraXBQcm9wcy5hZGQoJ2NoZWNrZWQnKTtcclxuZXhwb3J0cy5za2lwUHJvcHMuYWRkKCdtdWx0aXBsZScpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cyA9IG5ldyBTZXQoKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbkNsaWNrJyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25Nb3VzZURvd24nKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbk1vdXNlVXAnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbk1vdXNlTW92ZScpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uU3VibWl0Jyk7XHJcbmV4cG9ydHMuZGVsZWdhdGVkRXZlbnRzLmFkZCgnb25EYmxDbGljaycpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uS2V5RG93bicpO1xyXG5leHBvcnRzLmRlbGVnYXRlZEV2ZW50cy5hZGQoJ29uS2V5VXAnKTtcclxuZXhwb3J0cy5kZWxlZ2F0ZWRFdmVudHMuYWRkKCdvbktleVByZXNzJyk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL2NvbnN0YW50cy5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIG9wdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL29wdGlvbnNcIik7XHJcbnZhciBWTm9kZXNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL1ZOb2Rlc1wiKTtcclxudmFyIHBhdGNoaW5nXzEgPSByZXF1aXJlKFwiLi9wYXRjaGluZ1wiKTtcclxudmFyIHJlY3ljbGluZ18xID0gcmVxdWlyZShcIi4vcmVjeWNsaW5nXCIpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJpbmdcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbnZhciBwcm9jZXNzRWxlbWVudF8xID0gcmVxdWlyZShcIi4vd3JhcHBlcnMvcHJvY2Vzc0VsZW1lbnRcIik7XHJcbmZ1bmN0aW9uIG1vdW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciBmbGFncyA9IHZOb2RlLmZsYWdzO1xyXG4gICAgaWYgKGZsYWdzICYgMzk3MCAvKiBFbGVtZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDQwOTYgLyogVm9pZCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudFZvaWQodk5vZGUsIHBhcmVudERvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDEgLyogVGV4dCAqLykge1xyXG4gICAgICAgIHJldHVybiBtb3VudFRleHQodk5vZGUsIHBhcmVudERvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZOb2RlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwibW91bnQoKSByZWNlaXZlZCBhbiBvYmplY3QgdGhhdCdzIG5vdCBhIHZhbGlkIFZOb2RlLCB5b3Ugc2hvdWxkIHN0cmluZ2lmeSBpdCBmaXJzdC4gT2JqZWN0OiBcXFwiXCIgKyBKU09OLnN0cmluZ2lmeSh2Tm9kZSkgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKFwibW91bnQoKSBleHBlY3RzIGEgdmFsaWQgVk5vZGUsIGluc3RlYWQgaXQgcmVjZWl2ZWQgYW4gb2JqZWN0IHdpdGggdGhlIHR5cGUgXFxcIlwiICsgdHlwZW9mIHZOb2RlICsgXCJcXFwiLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50ID0gbW91bnQ7XHJcbmZ1bmN0aW9uIG1vdW50VGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodk5vZGUuY2hpbGRyZW4pO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmV4cG9ydHMubW91bnRUZXh0ID0gbW91bnRUZXh0O1xyXG5mdW5jdGlvbiBtb3VudFZvaWQodk5vZGUsIHBhcmVudERvbSkge1xyXG4gICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50Vm9pZCA9IG1vdW50Vm9pZDtcclxuZnVuY3Rpb24gbW91bnRFbGVtZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgdmFyIGRvbV8xID0gcmVjeWNsaW5nXzEucmVjeWNsZUVsZW1lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tXzEpKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbV8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZG9tXzE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpc1NWRyA9IGlzU1ZHIHx8IChmbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICB2YXIgZG9tID0gdXRpbHNfMS5kb2N1bWVudENyZWF0ZUVsZW1lbnQodk5vZGUudHlwZSwgaXNTVkcpO1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZS5jbGFzc05hbWU7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdk5vZGUuZG9tID0gZG9tO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICB1dGlsc18xLnNldFRleHRDb250ZW50KGRvbSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIG1vdW50QXJyYXlDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgbW91bnQoY2hpbGRyZW4sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwcm9wcykpIHtcclxuICAgICAgICB2YXIgaGFzQ29udHJvbGxlZFZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzRm9ybUVsZW1lbnQgPSAoZmxhZ3MgJiAzNTg0IC8qIEZvcm1FbGVtZW50ICovKSA+IDA7XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaGFzQ29udHJvbGxlZFZhbHVlID0gcHJvY2Vzc0VsZW1lbnRfMS5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudChwcm9wcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgLy8gZG8gbm90IGFkZCBhIGhhc093blByb3BlcnR5IGNoZWNrIGhlcmUsIGl0IGFmZmVjdHMgcGVyZm9ybWFuY2VcclxuICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaFByb3AocHJvcCwgbnVsbCwgcHJvcHNbcHJvcF0sIGRvbSwgaXNTVkcsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0Zvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3NFbGVtZW50XzEucHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIHByb3BzLCB0cnVlLCBoYXNDb250cm9sbGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjbGFzc05hbWUgIT09IG51bGwpIHtcclxuICAgICAgICBpZiAoaXNTVkcpIHtcclxuICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZG9tLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHJlZikpIHtcclxuICAgICAgICBtb3VudFJlZihkb20sIHJlZiwgbGlmZWN5Y2xlKTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50RWxlbWVudCA9IG1vdW50RWxlbWVudDtcclxuZnVuY3Rpb24gbW91bnRBcnJheUNoaWxkcmVuKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIC8vIFZlcmlmeSBjYW4gc3RyaW5nL251bWJlciBiZSBoZXJlLiBtaWdodCBjYXVzZSBkZS1vcHQuIC0gTm9ybWFsaXphdGlvbiB0YWtlcyBjYXJlIG9mIGl0LlxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5kb20pIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuW2ldID0gY2hpbGQgPSBWTm9kZXNfMS5kaXJlY3RDbG9uZShjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbW91bnQoY2hpbGRyZW5baV0sIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnRBcnJheUNoaWxkcmVuID0gbW91bnRBcnJheUNoaWxkcmVuO1xyXG5mdW5jdGlvbiBtb3VudENvbXBvbmVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHLCBpc0NsYXNzKSB7XHJcbiAgICBpZiAob3B0aW9uc18xLm9wdGlvbnMucmVjeWNsaW5nRW5hYmxlZCkge1xyXG4gICAgICAgIHZhciBkb21fMiA9IHJlY3ljbGluZ18xLnJlY3ljbGVDb21wb25lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tXzIpKSB7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwocGFyZW50RG9tKSkge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbV8yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZG9tXzI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgcmVmID0gdk5vZGUucmVmO1xyXG4gICAgdmFyIGRvbTtcclxuICAgIGlmIChpc0NsYXNzKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdXRpbHNfMS5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCwgaXNTVkcsIGxpZmVjeWNsZSk7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5zdGFuY2UuX2xhc3RJbnB1dDtcclxuICAgICAgICBpbnN0YW5jZS5fdk5vZGUgPSB2Tm9kZTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBkb20gPSBtb3VudChpbnB1dCwgbnVsbCwgbGlmZWN5Y2xlLCBpbnN0YW5jZS5fY2hpbGRDb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgICAgIHV0aWxzXzEuYXBwZW5kQ2hpbGQocGFyZW50RG9tLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzKHZOb2RlLCByZWYsIGluc3RhbmNlLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLnNldChpbnN0YW5jZSwgZG9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSB1dGlsc18xLmNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnRJbnB1dCh2Tm9kZSwgdHlwZSwgcHJvcHMsIGNvbnRleHQpO1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGRvbSA9IG1vdW50KGlucHV0LCBudWxsLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IGlucHV0O1xyXG4gICAgICAgIG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKTtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5hcHBlbmRDaGlsZChwYXJlbnREb20sIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5leHBvcnRzLm1vdW50Q29tcG9uZW50ID0gbW91bnRDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIG1vdW50Q2xhc3NDb21wb25lbnRDYWxsYmFja3Modk5vZGUsIHJlZiwgaW5zdGFuY2UsIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKHJlZikge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgICAgICByZWYoaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignc3RyaW5nIFwicmVmc1wiIGFyZSBub3Qgc3VwcG9ydGVkIGluIEluZmVybm8gMS4wLiBVc2UgY2FsbGJhY2sgXCJyZWZzXCIgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QocmVmKSAmJiAodk5vZGUuZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignZnVuY3Rpb25hbCBjb21wb25lbnQgbGlmZWN5Y2xlIGV2ZW50cyBhcmUgbm90IHN1cHBvcnRlZCBvbiBFUzIwMTUgY2xhc3MgY29tcG9uZW50cy4nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcihcImEgYmFkIHZhbHVlIGZvciBcXFwicmVmXFxcIiB3YXMgdXNlZCBvbiBjb21wb25lbnQ6IFxcXCJcIiArIEpTT04uc3RyaW5naWZ5KHJlZikgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGhhc0RpZE1vdW50ID0gIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQpO1xyXG4gICAgdmFyIGFmdGVyTW91bnQgPSBvcHRpb25zXzEub3B0aW9ucy5hZnRlck1vdW50O1xyXG4gICAgaWYgKGhhc0RpZE1vdW50IHx8ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChhZnRlck1vdW50KSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChhZnRlck1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICBhZnRlck1vdW50KHZOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGFzRGlkTW91bnQpIHtcclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5zdGFuY2UuX3VwZGF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzID0gbW91bnRDbGFzc0NvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRGdW5jdGlvbmFsQ29tcG9uZW50Q2FsbGJhY2tzKHJlZiwgZG9tLCBsaWZlY3ljbGUpIHtcclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsTW91bnQpKSB7XHJcbiAgICAgICAgICAgIHJlZi5vbkNvbXBvbmVudFdpbGxNb3VudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnREaWRNb3VudCkpIHtcclxuICAgICAgICAgICAgbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZi5vbkNvbXBvbmVudERpZE1vdW50KGRvbSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyA9IG1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcztcclxuZnVuY3Rpb24gbW91bnRSZWYoZG9tLCB2YWx1ZSwgbGlmZWN5Y2xlKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIGxpZmVjeWNsZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZShkb20pOyB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoJ3N0cmluZyBcInJlZnNcIiBhcmUgbm90IHN1cHBvcnRlZCBpbiBJbmZlcm5vIDEuMC4gVXNlIGNhbGxiYWNrIFwicmVmc1wiIGluc3RlYWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubW91bnRSZWYgPSBtb3VudFJlZjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vbW91bnRpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1jb21wb25lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgb3B0aW9uc18xID0gcmVxdWlyZShcIi4uL2NvcmUvb3B0aW9uc1wiKTtcclxudmFyIHBhdGNoaW5nXzEgPSByZXF1aXJlKFwiLi9wYXRjaGluZ1wiKTtcclxudmFyIHJlY3ljbGluZ18xID0gcmVxdWlyZShcIi4vcmVjeWNsaW5nXCIpO1xyXG52YXIgcmVuZGVyaW5nXzEgPSByZXF1aXJlKFwiLi9yZW5kZXJpbmdcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbmZ1bmN0aW9uIHVubW91bnQodk5vZGUsIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjYW5SZWN5Y2xlLCBpc1JlY3ljbGluZykge1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICBpZiAoZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiAzOTcwIC8qIEVsZW1lbnQgKi8pIHtcclxuICAgICAgICB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgKDEgLyogVGV4dCAqLyB8IDQwOTYgLyogVm9pZCAqLykpIHtcclxuICAgICAgICB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnQgPSB1bm1vdW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Vm9pZE9yVGV4dCh2Tm9kZSwgcGFyZW50RG9tKSB7XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgdk5vZGUuZG9tKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50KHZOb2RlLCBwYXJlbnREb20sIGxpZmVjeWNsZSwgY2FuUmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIHZhciBpbnN0YW5jZSA9IHZOb2RlLmNoaWxkcmVuO1xyXG4gICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICB2YXIgaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGZsYWdzICYgNCAvKiBDb21wb25lbnRDbGFzcyAqLztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgaWYgKCFpc1JlY3ljbGluZykge1xyXG4gICAgICAgIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuX3VubW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuX2Jsb2NrU2V0U3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChvcHRpb25zXzEub3B0aW9ucy5iZWZvcmVVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNfMS5vcHRpb25zLmJlZm9yZVVubW91bnQodk5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocmVmICYmICFpc1JlY3ljbGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZihudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluc3RhbmNlLl91bm1vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmluZ18xLmNvbXBvbmVudFRvRE9NTm9kZU1hcC5kZWxldGUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdW5tb3VudChpbnN0YW5jZS5fbGFzdElucHV0LCBudWxsLCBpbnN0YW5jZS5fbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihyZWYub25Db21wb25lbnRXaWxsVW5tb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWYub25Db21wb25lbnRXaWxsVW5tb3VudChkb20pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHVubW91bnQoaW5zdGFuY2UsIG51bGwsIGxpZmVjeWNsZSwgZmFsc2UsIGlzUmVjeWNsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGFyZW50RG9tKSB7XHJcbiAgICAgICAgdmFyIGxhc3RJbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihsYXN0SW5wdXQpKSB7XHJcbiAgICAgICAgICAgIGxhc3RJbnB1dCA9IGluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmICFpc1N0YXRlZnVsQ29tcG9uZW50ICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sQ29tcG9uZW50KHZOb2RlKTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLnVubW91bnRDb21wb25lbnQgPSB1bm1vdW50Q29tcG9uZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50RWxlbWVudCh2Tm9kZSwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNhblJlY3ljbGUsIGlzUmVjeWNsaW5nKSB7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgaWYgKHJlZiAmJiAhaXNSZWN5Y2xpbmcpIHtcclxuICAgICAgICB1bm1vdW50UmVmKHJlZik7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgbGlmZWN5Y2xlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHByb3BzKSkge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBpZiAocHJvcHNbbmFtZV8xXSAhPT0gbnVsbCAmJiBwYXRjaGluZ18xLmlzQXR0ckFuRXZlbnQobmFtZV8xKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEV2ZW50KG5hbWVfMSwgcHJvcHNbbmFtZV8xXSwgbnVsbCwgZG9tKTtcclxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoaXMgbnVsbCwgYmVjYXVzZSBzYW1lIHByb3BzIG90aGVyd2lzZSBjb21lIGJhY2sgaWYgU0NVIHJldHVybnMgZmFsc2UgYW5kIHdlIGFyZSByZWN5bGluZ1xyXG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV8xXSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHBhcmVudERvbSkpIHtcclxuICAgICAgICB1dGlsc18xLnJlbW92ZUNoaWxkKHBhcmVudERvbSwgZG9tKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zXzEub3B0aW9ucy5yZWN5Y2xpbmdFbmFibGVkICYmIChwYXJlbnREb20gfHwgY2FuUmVjeWNsZSkpIHtcclxuICAgICAgICByZWN5Y2xpbmdfMS5wb29sRWxlbWVudCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy51bm1vdW50RWxlbWVudCA9IHVubW91bnRFbGVtZW50O1xyXG5mdW5jdGlvbiB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGxpZmVjeWNsZSwgaXNSZWN5Y2xpbmcpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkKSAmJiBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgdW5tb3VudChjaGlsZCwgbnVsbCwgbGlmZWN5Y2xlLCBmYWxzZSwgaXNSZWN5Y2xpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICB1bm1vdW50KGNoaWxkcmVuLCBudWxsLCBsaWZlY3ljbGUsIGZhbHNlLCBpc1JlY3ljbGluZyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5tb3VudFJlZihyZWYpIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzRnVuY3Rpb24ocmVmKSkge1xyXG4gICAgICAgIHJlZihudWxsKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChyZWYpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdzdHJpbmcgXCJyZWZzXCIgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gSW5mZXJubyAxLjAuIFVzZSBjYWxsYmFjayBcInJlZnNcIiBpbnN0ZWFkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS91bm1vdW50aW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIElucHV0V3JhcHBlcl8xID0gcmVxdWlyZShcIi4vSW5wdXRXcmFwcGVyXCIpO1xyXG52YXIgU2VsZWN0V3JhcHBlcl8xID0gcmVxdWlyZShcIi4vU2VsZWN0V3JhcHBlclwiKTtcclxudmFyIFRleHRhcmVhV3JhcHBlcl8xID0gcmVxdWlyZShcIi4vVGV4dGFyZWFXcmFwcGVyXCIpO1xyXG4vKipcclxuICogVGhlcmUgaXMgY3VycmVudGx5IG5vIHN1cHBvcnQgZm9yIHN3aXRjaGluZyBzYW1lIGlucHV0IGJldHdlZW4gY29udHJvbGxlZCBhbmQgbm9uQ29udHJvbGxlZFxyXG4gKiBJZiB0aGF0IGV2ZXIgYmVjb21lcyBhIHJlYWwgaXNzdWUsIHRoZW4gcmUgZGVzaWduIGNvbnRyb2xsZWQgZWxlbWVudHNcclxuICogQ3VycmVudGx5IHVzZXIgbXVzdCBjaG9vc2UgZWl0aGVyIGNvbnRyb2xsZWQgb3Igbm9uLWNvbnRyb2xsZWQgYW5kIHN0aWNrIHdpdGggdGhhdFxyXG4gKi9cclxuZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQoZmxhZ3MsIHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGlmIChmbGFncyAmIDUxMiAvKiBJbnB1dEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBJbnB1dFdyYXBwZXJfMS5wcm9jZXNzSW5wdXQodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZmxhZ3MgJiAyMDQ4IC8qIFNlbGVjdEVsZW1lbnQgKi8pIHtcclxuICAgICAgICBTZWxlY3RXcmFwcGVyXzEucHJvY2Vzc1NlbGVjdCh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZywgaXNDb250cm9sbGVkKTtcclxuICAgIH1cclxuICAgIGlmIChmbGFncyAmIDEwMjQgLyogVGV4dGFyZWFFbGVtZW50ICovKSB7XHJcbiAgICAgICAgVGV4dGFyZWFXcmFwcGVyXzEucHJvY2Vzc1RleHRhcmVhKHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0VsZW1lbnQgPSBwcm9jZXNzRWxlbWVudDtcclxuZnVuY3Rpb24gaXNDb250cm9sbGVkRm9ybUVsZW1lbnQobmV4dFByb3BzT3JFbXB0eSkge1xyXG4gICAgcmV0dXJuIChuZXh0UHJvcHNPckVtcHR5LnR5cGUgJiYgSW5wdXRXcmFwcGVyXzEuaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSA/ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS5jaGVja2VkKSA6ICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYobmV4dFByb3BzT3JFbXB0eS52YWx1ZSk7XHJcbn1cclxuZXhwb3J0cy5pc0NvbnRyb2xsZWRGb3JtRWxlbWVudCA9IGlzQ29udHJvbGxlZEZvcm1FbGVtZW50O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9wcm9jZXNzRWxlbWVudC5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIGFkZExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuYWRkTGVhZGluZ1NsYXNoID0gZnVuY3Rpb24gYWRkTGVhZGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbn07XG5cbnZhciBzdHJpcExlYWRpbmdTbGFzaCA9IGV4cG9ydHMuc3RyaXBMZWFkaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcExlYWRpbmdTbGFzaChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aC5zdWJzdHIoMSkgOiBwYXRoO1xufTtcblxudmFyIHN0cmlwUHJlZml4ID0gZXhwb3J0cy5zdHJpcFByZWZpeCA9IGZ1bmN0aW9uIHN0cmlwUHJlZml4KHBhdGgsIHByZWZpeCkge1xuICByZXR1cm4gcGF0aC5pbmRleE9mKHByZWZpeCkgPT09IDAgPyBwYXRoLnN1YnN0cihwcmVmaXgubGVuZ3RoKSA6IHBhdGg7XG59O1xuXG52YXIgc3RyaXBUcmFpbGluZ1NsYXNoID0gZXhwb3J0cy5zdHJpcFRyYWlsaW5nU2xhc2ggPSBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gJy8nID8gcGF0aC5zbGljZSgwLCAtMSkgOiBwYXRoO1xufTtcblxudmFyIHBhcnNlUGF0aCA9IGV4cG9ydHMucGFyc2VQYXRoID0gZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgdmFyIHBhdGhuYW1lID0gcGF0aCB8fCAnLyc7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICB2YXIgaGFzaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaEluZGV4ICE9PSAtMSkge1xuICAgIGhhc2ggPSBwYXRobmFtZS5zdWJzdHIoaGFzaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBoYXNoSW5kZXgpO1xuICB9XG5cbiAgdmFyIHNlYXJjaEluZGV4ID0gcGF0aG5hbWUuaW5kZXhPZignPycpO1xuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICBwYXRobmFtZSA9IGRlY29kZVVSSShwYXRobmFtZSk7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2ggPT09ICc/JyA/ICcnIDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2ggPT09ICcjJyA/ICcnIDogaGFzaFxuICB9O1xufTtcblxudmFyIGNyZWF0ZVBhdGggPSBleHBvcnRzLmNyZWF0ZVBhdGggPSBmdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLFxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG5cblxuICB2YXIgcGF0aCA9IGVuY29kZVVSSShwYXRobmFtZSB8fCAnLycpO1xuXG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSAnPycpIHBhdGggKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gJz8nID8gc2VhcmNoIDogJz8nICsgc2VhcmNoO1xuXG4gIGlmIChoYXNoICYmIGhhc2ggIT09ICcjJykgcGF0aCArPSBoYXNoLmNoYXJBdCgwKSA9PT0gJyMnID8gaGFzaCA6ICcjJyArIGhhc2g7XG5cbiAgcmV0dXJuIHBhdGg7XG59O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L1BhdGhVdGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QnKS5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1jcmVhdGUtZWxlbWVudC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG5mdW5jdGlvbiByZW5kZXJMaW5rKGNsYXNzTm0sIGNoaWxkcmVuLCBvdGhlclByb3BzKSB7XHJcbiAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDIgLyogSHRtbEVsZW1lbnQgKi8sICdhJywgY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG59XHJcbmZ1bmN0aW9uIExpbmsocHJvcHMsIF9hKSB7XHJcbiAgICB2YXIgcm91dGVyID0gX2Eucm91dGVyO1xyXG4gICAgdmFyIGFjdGl2ZUNsYXNzTmFtZSA9IHByb3BzLmFjdGl2ZUNsYXNzTmFtZSwgYWN0aXZlU3R5bGUgPSBwcm9wcy5hY3RpdmVTdHlsZSwgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCBvbkNsaWNrID0gcHJvcHMub25DbGljaywgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbiwgdG8gPSBwcm9wcy50bywgb3RoZXJQcm9wcyA9IF9fcmVzdChwcm9wcywgW1wiYWN0aXZlQ2xhc3NOYW1lXCIsIFwiYWN0aXZlU3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJvbkNsaWNrXCIsIFwiY2hpbGRyZW5cIiwgXCJ0b1wiXSk7XHJcbiAgICB2YXIgY2xhc3NObTtcclxuICAgIGlmIChjbGFzc05hbWUpIHtcclxuICAgICAgICBjbGFzc05tID0gY2xhc3NOYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKCFyb3V0ZXIpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJzxMaW5rLz4gY29tcG9uZW50IHVzZWQgb3V0c2lkZSBvZiA8Um91dGVyLz4uIEZhbGxiYWNrIHRvIDxhPiB0YWcuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG90aGVyUHJvcHMuaHJlZiA9IHRvO1xyXG4gICAgICAgIG90aGVyUHJvcHMub25DbGljayA9IG9uQ2xpY2s7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckxpbmsoY2xhc3NObSwgY2hpbGRyZW4sIG90aGVyUHJvcHMpO1xyXG4gICAgfVxyXG4gICAgb3RoZXJQcm9wcy5ocmVmID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgPyByb3V0ZXIuY3JlYXRlSHJlZih7IHBhdGhuYW1lOiB0byB9KSA6IHJvdXRlci5sb2NhdGlvbi5iYXNlVXJsID8gcm91dGVyLmxvY2F0aW9uLmJhc2VVcmwgKyB0byA6IHRvO1xyXG4gICAgaWYgKHJvdXRlci5sb2NhdGlvbi5wYXRobmFtZSA9PT0gdG8pIHtcclxuICAgICAgICBpZiAoYWN0aXZlQ2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNsYXNzTm0gPSAoY2xhc3NOYW1lID8gY2xhc3NOYW1lICsgJyAnIDogJycpICsgYWN0aXZlQ2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWN0aXZlU3R5bGUpIHtcclxuICAgICAgICAgICAgb3RoZXJQcm9wcy5zdHlsZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJvcHMuc3R5bGUsIGFjdGl2ZVN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdGhlclByb3BzLm9uY2xpY2sgPSBmdW5jdGlvbiBuYXZpZ2F0ZShlKSB7XHJcbiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwIHx8IGUuY3RybEtleSB8fCBlLmFsdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgb25DbGljayhlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcm91dGVyLnB1c2godG8sIGUudGFyZ2V0LnRleHRDb250ZW50KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gcmVuZGVyTGluayhjbGFzc05tLCBjaGlsZHJlbiwgb3RoZXJQcm9wcyk7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gTGluaztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvTGluay5qc1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NvbXBvbmVudF8xID0gcmVxdWlyZShcImluZmVybm8tY29tcG9uZW50XCIpO1xyXG52YXIgUm91dGVyQ29udGV4dCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGVyQ29udGV4dCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlckNvbnRleHQocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAoIXByb3BzLmxvY2F0aW9uIHx8ICFwcm9wcy5tYXRjaGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImluZmVybm8tcm91dGVyXCIgcmVxdWlyZXMgYSBcImxvY2F0aW9uXCIgYW5kIFwibWF0Y2hlZFwiIHByb3BzIHBhc3NlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJvdXRlckNvbnRleHQucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByb3V0ZXI6IHRoaXMucHJvcHMucm91dGVyIHx8IHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVybDogdGhpcy5wcm9wcy5iYXNlVXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiB0aGlzLnByb3BzLmxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFJvdXRlckNvbnRleHQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgICAgIHJldHVybiBwcm9wcy5tYXRjaGVkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZXJDb250ZXh0O1xyXG59KGluZmVybm9fY29tcG9uZW50XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXJDb250ZXh0O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9Sb3V0ZXJDb250ZXh0LmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgcGF0aF90b19yZWdleHBfZXM2XzEgPSByZXF1aXJlKFwicGF0aC10by1yZWdleHAtZXM2XCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG52YXIgY2FjaGUgPSBuZXcgTWFwKCk7XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbm9kZSBjb250YWluaW5nIG9ubHkgdGhlIG1hdGNoZWQgY29tcG9uZW50c1xyXG4gKiBAcGFyYW0gcm91dGVzXHJcbiAqIEBwYXJhbSBjdXJyZW50VVJMXHJcbiAqIEByZXR1cm5zIHsqfVxyXG4gKi9cclxuZnVuY3Rpb24gbWF0Y2gocm91dGVzLCBjdXJyZW50VVJMKSB7XHJcbiAgICB2YXIgbG9jYXRpb24gPSB1dGlsc18xLmdldFVSTFN0cmluZyhjdXJyZW50VVJMKTtcclxuICAgIHJldHVybiBtYXRjaFJvdXRlcyhpbmZlcm5vX3NoYXJlZF8xLnRvQXJyYXkocm91dGVzKSwgZW5jb2RlVVJJKGxvY2F0aW9uKSwgJy8nKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBtYXRjaDtcclxuLyoqXHJcbiAqIEdvIHRocm91Z2ggZXZlcnkgcm91dGUgYW5kIGNyZWF0ZSBhIG5ldyBub2RlXHJcbiAqIHdpdGggdGhlIG1hdGNoZWQgY29tcG9uZW50c1xyXG4gKiBAcGFyYW0gX3JvdXRlc1xyXG4gKiBAcGFyYW0gY3VycmVudFVSTFxyXG4gKiBAcGFyYW0gcGFyZW50UGF0aFxyXG4gKiBAcGFyYW0gcmVkaXJlY3RcclxuICogQHJldHVybnMge29iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIG1hdGNoUm91dGVzKF9yb3V0ZXMsIGN1cnJlbnRVUkwsIHBhcmVudFBhdGgsIHJlZGlyZWN0KSB7XHJcbiAgICBpZiAoY3VycmVudFVSTCA9PT0gdm9pZCAwKSB7IGN1cnJlbnRVUkwgPSAnLyc7IH1cclxuICAgIGlmIChwYXJlbnRQYXRoID09PSB2b2lkIDApIHsgcGFyZW50UGF0aCA9ICcvJzsgfVxyXG4gICAgaWYgKHJlZGlyZWN0ID09PSB2b2lkIDApIHsgcmVkaXJlY3QgPSBmYWxzZTsgfVxyXG4gICAgdmFyIHJvdXRlcyA9IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShfcm91dGVzKSA/IHV0aWxzXzEuZmxhdHRlbihfcm91dGVzKSA6IGluZmVybm9fc2hhcmVkXzEudG9BcnJheShfcm91dGVzKTtcclxuICAgIHZhciBfYSA9IGN1cnJlbnRVUkwuc3BsaXQoJz8nKSwgX2IgPSBfYVswXSwgcGF0aFRvTWF0Y2ggPSBfYiA9PT0gdm9pZCAwID8gJy8nIDogX2IsIF9jID0gX2FbMV0sIHNlYXJjaCA9IF9jID09PSB2b2lkIDAgPyAnJyA6IF9jO1xyXG4gICAgdmFyIHBhcmFtcyA9IHV0aWxzXzEubWFwU2VhcmNoUGFyYW1zKHNlYXJjaCk7XHJcbiAgICByb3V0ZXMuc29ydCh1dGlsc18xLnBhdGhSYW5rU29ydCk7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm91dGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHJvdXRlID0gcm91dGVzW2ldO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IHJvdXRlLnByb3BzIHx8IHV0aWxzXzEuZW1wdHlPYmplY3Q7XHJcbiAgICAgICAgdmFyIHJvdXRlUGF0aCA9IHByb3BzLmZyb20gfHwgcHJvcHMucGF0aCB8fCAnLyc7XHJcbiAgICAgICAgdmFyIGxvY2F0aW9uXzEgPSBwYXJlbnRQYXRoICsgdXRpbHNfMS50b1BhcnRpYWxVUkwocm91dGVQYXRoLCBwYXJlbnRQYXRoKS5yZXBsYWNlKC9cXC9cXC8vZywgJy8nKTtcclxuICAgICAgICB2YXIgaXNMYXN0ID0gdXRpbHNfMS5pc0VtcHR5KHByb3BzLmNoaWxkcmVuKTtcclxuICAgICAgICB2YXIgbWF0Y2hCYXNlID0gbWF0Y2hQYXRoKGlzTGFzdCwgbG9jYXRpb25fMSwgcGF0aFRvTWF0Y2gpO1xyXG4gICAgICAgIGlmIChtYXRjaEJhc2UpIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5mcm9tKSB7XHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdCA9IHByb3BzLnRvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoQ2hpbGQgPSBtYXRjaFJvdXRlcyhjaGlsZHJlbiwgY3VycmVudFVSTCwgbG9jYXRpb25fMSwgcmVkaXJlY3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoQ2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hDaGlsZC5yZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogbWF0Y2hDaGlsZC5yZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IG1hdGNoQ2hpbGQubWF0Y2hlZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRQcm9wcyA9IGNoaWxkcmVuLnByb3BzLnBhcmFtcztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY2hpbGRQcm9wcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNba2V5XSA9IGNoaWxkUHJvcHNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG1hdGNoZWQgPSBpbmZlcm5vXzEuZGVmYXVsdC5jbG9uZVZOb2RlKHJvdXRlLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocGFyYW1zLCBtYXRjaEJhc2UucGFyYW1zKSxcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbl8xLFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3Q6IHJlZGlyZWN0LFxyXG4gICAgICAgICAgICAgICAgbWF0Y2hlZDogbWF0Y2hlZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogQ29udmVydHMgcGF0aCB0byBhIHJlZ2V4LCBpZiBhIG1hdGNoIGlzIGZvdW5kIHRoZW4gd2UgZXh0cmFjdCBwYXJhbXMgZnJvbSBpdFxyXG4gKiBAcGFyYW0gZW5kXHJcbiAqIEBwYXJhbSByb3V0ZVBhdGhcclxuICogQHBhcmFtIHBhdGhUb01hdGNoXHJcbiAqIEByZXR1cm5zIHthbnl9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYXRjaFBhdGgoZW5kLCByb3V0ZVBhdGgsIHBhdGhUb01hdGNoKSB7XHJcbiAgICB2YXIga2V5ID0gcm91dGVQYXRoICsgXCJ8XCIgKyBlbmQ7XHJcbiAgICB2YXIgcmVnZXhwID0gY2FjaGUuZ2V0KGtleSk7XHJcbiAgICBpZiAocmVnZXhwID09PSB2b2lkIDApIHtcclxuICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgIHJlZ2V4cCA9IHsgcGF0dGVybjogcGF0aF90b19yZWdleHBfZXM2XzEuZGVmYXVsdChyb3V0ZVBhdGgsIGtleXMsIHsgZW5kOiBlbmQgfSksIGtleXM6IGtleXMgfTtcclxuICAgICAgICBjYWNoZS5zZXQoa2V5LCByZWdleHApO1xyXG4gICAgfVxyXG4gICAgdmFyIG0gPSByZWdleHAucGF0dGVybi5leGVjKHBhdGhUb01hdGNoKTtcclxuICAgIGlmICghbSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgdmFyIHBhdGggPSBtWzBdO1xyXG4gICAgdmFyIHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gbS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xyXG4gICAgICAgIHBhcmFtc1tyZWdleHAua2V5c1tpIC0gMV0ubmFtZV0gPSB1dGlsc18xLmRlY29kZShtW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcGF0aDogcGF0aCA9PT0gJycgPyAnLycgOiBwYXRoLFxyXG4gICAgICAgIHBhcmFtczogcGFyYW1zXHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydHMubWF0Y2hQYXRoID0gbWF0Y2hQYXRoO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9tYXRjaC5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbmV4cG9ydHMuZW1wdHlPYmplY3QgPSB7fTtcclxuZnVuY3Rpb24gZGVjb2RlKHZhbCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWwgIT09ICdzdHJpbmcnID8gdmFsIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCk7XHJcbn1cclxuZXhwb3J0cy5kZWNvZGUgPSBkZWNvZGU7XHJcbmZ1bmN0aW9uIGlzRW1wdHkoY2hpbGRyZW4pIHtcclxuICAgIHJldHVybiAhY2hpbGRyZW4gfHwgIShpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4gOiBPYmplY3Qua2V5cyhjaGlsZHJlbikpLmxlbmd0aDtcclxufVxyXG5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xyXG5mdW5jdGlvbiBmbGF0dGVuKG9sZEFycmF5KSB7XHJcbiAgICB2YXIgbmV3QXJyYXkgPSBbXTtcclxuICAgIGZsYXR0ZW5BcnJheShvbGRBcnJheSwgbmV3QXJyYXkpO1xyXG4gICAgcmV0dXJuIG5ld0FycmF5O1xyXG59XHJcbmV4cG9ydHMuZmxhdHRlbiA9IGZsYXR0ZW47XHJcbmZ1bmN0aW9uIGdldFVSTFN0cmluZyhsb2NhdGlvbikge1xyXG4gICAgcmV0dXJuIGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmcobG9jYXRpb24pID8gbG9jYXRpb24gOiAobG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2gpO1xyXG59XHJcbmV4cG9ydHMuZ2V0VVJMU3RyaW5nID0gZ2V0VVJMU3RyaW5nO1xyXG4vKipcclxuICogTWFwcyBhIHF1ZXJ5c3RyaW5nIHRvIGFuIG9iamVjdFxyXG4gKiBTdXBwb3J0cyBhcnJheXMgYW5kIHV0Zi04IGNoYXJhY3RlcnNcclxuICogQHBhcmFtIHNlYXJjaFxyXG4gKiBAcmV0dXJucyB7YW55fVxyXG4gKi9cclxuZnVuY3Rpb24gbWFwU2VhcmNoUGFyYW1zKHNlYXJjaCkge1xyXG4gICAgaWYgKHNlYXJjaCA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICAvLyBDcmVhdGUgYW4gb2JqZWN0IHdpdGggbm8gcHJvdG90eXBlXHJcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHZhciBmcmFnbWVudHMgPSBzZWFyY2guc3BsaXQoJyYnKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmcmFnbWVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICB2YXIgZnJhZ21lbnQgPSBmcmFnbWVudHNbaV07XHJcbiAgICAgICAgdmFyIF9hID0gZnJhZ21lbnQuc3BsaXQoJz0nKS5tYXAobWFwRnJhZ21lbnQpLm1hcChkZWNvZGVVUklDb21wb25lbnQpLCBrID0gX2FbMF0sIHYgPSBfYVsxXTtcclxuICAgICAgICBpZiAobWFwW2tdKSB7XHJcbiAgICAgICAgICAgIG1hcFtrXSA9IGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShtYXBba10pID8gbWFwW2tdIDogW21hcFtrXV07XHJcbiAgICAgICAgICAgIG1hcFtrXS5wdXNoKHYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWFwW2tdID0gdjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwO1xyXG59XHJcbmV4cG9ydHMubWFwU2VhcmNoUGFyYW1zID0gbWFwU2VhcmNoUGFyYW1zO1xyXG4vKipcclxuICogR2V0cyB0aGUgcmVsZXZhbnQgcGFydCBvZiB0aGUgVVJMIGZvciBtYXRjaGluZ1xyXG4gKiBAcGFyYW0gZnVsbFVSTFxyXG4gKiBAcGFyYW0gcGFydFVSTFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gdG9QYXJ0aWFsVVJMKGZ1bGxVUkwsIHBhcnRVUkwpIHtcclxuICAgIGlmIChmdWxsVVJMLmluZGV4T2YocGFydFVSTCkgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gZnVsbFVSTC5zdWJzdHIocGFydFVSTC5sZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bGxVUkw7XHJcbn1cclxuZXhwb3J0cy50b1BhcnRpYWxVUkwgPSB0b1BhcnRpYWxVUkw7XHJcbi8qKlxyXG4gKiBTaW11bGF0ZXMgLi4uIG9wZXJhdG9yIGJ5IHJldHVybmluZyBmaXJzdCBhcmd1bWVudFxyXG4gKiB3aXRoIHRoZSBrZXlzIGluIHRoZSBzZWNvbmQgYXJndW1lbnQgZXhjbHVkZWRcclxuICogQHBhcmFtIF9hcmdzXHJcbiAqIEBwYXJhbSBleGNsdWRlZFxyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiByZXN0KF9hcmdzLCBleGNsdWRlZCkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gX2FyZ3MpIHtcclxuICAgICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihwKSA8IDApIHtcclxuICAgICAgICAgICAgdFtwXSA9IF9hcmdzW3BdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcbmV4cG9ydHMucmVzdCA9IHJlc3Q7XHJcbi8qKlxyXG4gKiBTb3J0cyBhbiBhcnJheSBhY2NvcmRpbmcgdG8gaXRzIGBwYXRoYCBwcm9wIGxlbmd0aFxyXG4gKiBAcGFyYW0gYVxyXG4gKiBAcGFyYW0gYlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gcGF0aFJhbmtTb3J0KGEsIGIpIHtcclxuICAgIHZhciBhQXR0ciA9IGEucHJvcHMgfHwgZXhwb3J0cy5lbXB0eU9iamVjdDtcclxuICAgIHZhciBiQXR0ciA9IGIucHJvcHMgfHwgZXhwb3J0cy5lbXB0eU9iamVjdDtcclxuICAgIHZhciBkaWZmID0gcmFuayhiQXR0ci5wYXRoKSAtIHJhbmsoYUF0dHIucGF0aCk7XHJcbiAgICByZXR1cm4gZGlmZiB8fCAoKGJBdHRyLnBhdGggJiYgYUF0dHIucGF0aCkgPyAoYkF0dHIucGF0aC5sZW5ndGggLSBhQXR0ci5wYXRoLmxlbmd0aCkgOiAwKTtcclxufVxyXG5leHBvcnRzLnBhdGhSYW5rU29ydCA9IHBhdGhSYW5rU29ydDtcclxuLyoqXHJcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgcGFyc2luZyBxdWVyeXN0cmluZyBhcnJheXNcclxuICovXHJcbmZ1bmN0aW9uIG1hcEZyYWdtZW50KHAsIGlzVmFsKSB7XHJcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGlzVmFsIHwgMCA/IHAgOiBwLnJlcGxhY2UoJ1tdJywgJycpKTtcclxufVxyXG5mdW5jdGlvbiBzdHJpcCh1cmwpIHtcclxuICAgIHJldHVybiB1cmwucmVwbGFjZSgvKF5cXC8rfFxcLyskKS9nLCAnJyk7XHJcbn1cclxuZnVuY3Rpb24gcmFuayh1cmwpIHtcclxuICAgIGlmICh1cmwgPT09IHZvaWQgMCkgeyB1cmwgPSAnJzsgfVxyXG4gICAgcmV0dXJuIChzdHJpcCh1cmwpLm1hdGNoKC9cXC8rL2cpIHx8ICcnKS5sZW5ndGg7XHJcbn1cclxuZnVuY3Rpb24gZmxhdHRlbkFycmF5KG9sZEFycmF5LCBuZXdBcnJheSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG9sZEFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSBvbGRBcnJheVtpXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGZsYXR0ZW5BcnJheShpdGVtLCBuZXdBcnJheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC91dGlscy5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciBjb21wb25lbnRQb29scyA9IG5ldyBNYXAoKTtcclxudmFyIGVsZW1lbnRQb29scyA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gcmVjeWNsZUVsZW1lbnQodk5vZGUsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpIHtcclxuICAgIHZhciB0YWcgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHBvb2xzID0gZWxlbWVudFBvb2xzLmdldCh0YWcpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBrZXkgPT09IG51bGwgPyBwb29scy5ub25LZXllZCA6IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjeWNsZWRWTm9kZSA9IHBvb2wucG9wKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChyZWN5Y2xlZFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hpbmdfMS5wYXRjaEVsZW1lbnQocmVjeWNsZWRWTm9kZSwgdk5vZGUsIG51bGwsIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZOb2RlLmRvbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmV4cG9ydHMucmVjeWNsZUVsZW1lbnQgPSByZWN5Y2xlRWxlbWVudDtcclxuZnVuY3Rpb24gcG9vbEVsZW1lbnQodk5vZGUpIHtcclxuICAgIHZhciB0YWcgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIGtleSA9IHZOb2RlLmtleTtcclxuICAgIHZhciBwb29scyA9IGVsZW1lbnRQb29scy5nZXQodGFnKTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHBvb2xzID0ge1xyXG4gICAgICAgICAgICBrZXllZDogbmV3IE1hcCgpLFxyXG4gICAgICAgICAgICBub25LZXllZDogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIGVsZW1lbnRQb29scy5zZXQodGFnLCBwb29scyk7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwoa2V5KSkge1xyXG4gICAgICAgIHBvb2xzLm5vbktleWVkLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBwb29scy5rZXllZC5nZXQoa2V5KTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICBwb29sID0gW107XHJcbiAgICAgICAgICAgIHBvb2xzLmtleWVkLnNldChrZXksIHBvb2wpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwb29sLnB1c2godk5vZGUpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucG9vbEVsZW1lbnQgPSBwb29sRWxlbWVudDtcclxuZnVuY3Rpb24gcmVjeWNsZUNvbXBvbmVudCh2Tm9kZSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHBvb2xzID0gY29tcG9uZW50UG9vbHMuZ2V0KHR5cGUpO1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2xzKSkge1xyXG4gICAgICAgIHZhciBrZXkgPSB2Tm9kZS5rZXk7XHJcbiAgICAgICAgdmFyIHBvb2wgPSBrZXkgPT09IG51bGwgPyBwb29scy5ub25LZXllZCA6IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChwb29sKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVjeWNsZWRWTm9kZSA9IHBvb2wucG9wKCk7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChyZWN5Y2xlZFZOb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZsYWdzID0gdk5vZGUuZmxhZ3M7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmFpbGVkID0gcGF0Y2hpbmdfMS5wYXRjaENvbXBvbmVudChyZWN5Y2xlZFZOb2RlLCB2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgZmxhZ3MgJiA0IC8qIENvbXBvbmVudENsYXNzICovLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmFpbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZOb2RlLmRvbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbmV4cG9ydHMucmVjeWNsZUNvbXBvbmVudCA9IHJlY3ljbGVDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIHBvb2xDb21wb25lbnQodk5vZGUpIHtcclxuICAgIHZhciBob29rcyA9IHZOb2RlLnJlZjtcclxuICAgIHZhciBub25SZWN5Y2xlSG9va3MgPSBob29rcyAmJiAoaG9va3Mub25Db21wb25lbnRXaWxsTW91bnQgfHxcclxuICAgICAgICBob29rcy5vbkNvbXBvbmVudFdpbGxVbm1vdW50IHx8XHJcbiAgICAgICAgaG9va3Mub25Db21wb25lbnREaWRNb3VudCB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50V2lsbFVwZGF0ZSB8fFxyXG4gICAgICAgIGhvb2tzLm9uQ29tcG9uZW50RGlkVXBkYXRlKTtcclxuICAgIGlmIChub25SZWN5Y2xlSG9va3MpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICB2YXIga2V5ID0gdk5vZGUua2V5O1xyXG4gICAgdmFyIHBvb2xzID0gY29tcG9uZW50UG9vbHMuZ2V0KHR5cGUpO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocG9vbHMpKSB7XHJcbiAgICAgICAgcG9vbHMgPSB7XHJcbiAgICAgICAgICAgIGtleWVkOiBuZXcgTWFwKCksXHJcbiAgICAgICAgICAgIG5vbktleWVkOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29tcG9uZW50UG9vbHMuc2V0KHR5cGUsIHBvb2xzKTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChrZXkpKSB7XHJcbiAgICAgICAgcG9vbHMubm9uS2V5ZWQucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcG9vbCA9IHBvb2xzLmtleWVkLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHBvb2wpKSB7XHJcbiAgICAgICAgICAgIHBvb2wgPSBbXTtcclxuICAgICAgICAgICAgcG9vbHMua2V5ZWQuc2V0KGtleSwgcG9vbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvb2wucHVzaCh2Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wb29sQ29tcG9uZW50ID0gcG9vbENvbXBvbmVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vcmVjeWNsaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIFZOb2Rlc18xID0gcmVxdWlyZShcIi4vVk5vZGVzXCIpO1xyXG5mdW5jdGlvbiBhcHBseUtleShrZXksIHZOb2RlKSB7XHJcbiAgICB2Tm9kZS5rZXkgPSBrZXk7XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlLZXlJZk1pc3Npbmcoa2V5LCB2Tm9kZSkge1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdW1iZXIoa2V5KSkge1xyXG4gICAgICAgIGtleSA9IFwiLlwiICsga2V5O1xyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKHZOb2RlLmtleSkgfHwgdk5vZGUua2V5WzBdID09PSAnLicpIHtcclxuICAgICAgICByZXR1cm4gYXBwbHlLZXkoa2V5LCB2Tm9kZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdk5vZGU7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlLZXlQcmVmaXgoa2V5LCB2Tm9kZSkge1xyXG4gICAgdk5vZGUua2V5ID0ga2V5ICsgdk5vZGUua2V5O1xyXG4gICAgcmV0dXJuIHZOb2RlO1xyXG59XHJcbmZ1bmN0aW9uIF9ub3JtYWxpemVWTm9kZXMobm9kZXMsIHJlc3VsdCwgaW5kZXgsIGN1cnJlbnRLZXkpIHtcclxuICAgIGZvciAodmFyIGxlbiA9IG5vZGVzLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcclxuICAgICAgICB2YXIgbiA9IG5vZGVzW2luZGV4XTtcclxuICAgICAgICB2YXIga2V5ID0gY3VycmVudEtleSArIFwiLlwiICsgaW5kZXg7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChuKSkge1xyXG4gICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG4pKSB7XHJcbiAgICAgICAgICAgICAgICBfbm9ybWFsaXplVk5vZGVzKG4sIHJlc3VsdCwgMCwga2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobikpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gVk5vZGVzXzEuY3JlYXRlVGV4dFZOb2RlKG4sIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShuKSAmJiBuLmRvbSB8fCAobi5rZXkgJiYgbi5rZXlbMF0gPT09ICcuJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gVk5vZGVzXzEuZGlyZWN0Q2xvbmUobik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc051bGwobi5rZXkpIHx8IG4ua2V5WzBdID09PSAnLicpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID0gYXBwbHlLZXkoa2V5LCBuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBhcHBseUtleVByZWZpeChjdXJyZW50S2V5LCBuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2Rlcyhub2Rlcykge1xyXG4gICAgdmFyIG5ld05vZGVzO1xyXG4gICAgLy8gd2UgYXNzaWduICQgd2hpY2ggYmFzaWNhbGx5IG1lYW5zIHdlJ3ZlIGZsYWdnZWQgdGhpcyBhcnJheSBmb3IgZnV0dXJlIG5vdGVcclxuICAgIC8vIGlmIGl0IGNvbWVzIGJhY2sgYWdhaW4sIHdlIG5lZWQgdG8gY2xvbmUgaXQsIGFzIHBlb3BsZSBhcmUgdXNpbmcgaXRcclxuICAgIC8vIGluIGFuIGltbXV0YWJsZSB3YXlcclxuICAgIC8vIHRzbGludDpkaXNhYmxlXHJcbiAgICBpZiAobm9kZXNbJyQnXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIG5vZGVzID0gbm9kZXMuc2xpY2UoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG5vZGVzWyckJ10gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gdHNsaW50OmVuYWJsZVxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG4gPSBub2Rlc1tpXTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobikgfHwgaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG4pKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAobmV3Tm9kZXMgfHwgbm9kZXMpLnNsaWNlKDAsIGkpO1xyXG4gICAgICAgICAgICBfbm9ybWFsaXplVk5vZGVzKG5vZGVzLCByZXN1bHQsIGksIFwiXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nT3JOdW1iZXIobikpIHtcclxuICAgICAgICAgICAgaWYgKCFuZXdOb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgbmV3Tm9kZXMgPSBub2Rlcy5zbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdOb2Rlcy5wdXNoKGFwcGx5S2V5SWZNaXNzaW5nKGksIFZOb2Rlc18xLmNyZWF0ZVRleHRWTm9kZShuLCBudWxsKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoVk5vZGVzXzEuaXNWTm9kZShuKSAmJiBuLmRvbSAhPT0gbnVsbCkgfHwgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsKG4ua2V5KSAmJiAobi5mbGFncyAmIDY0IC8qIEhhc05vbktleWVkQ2hpbGRyZW4gKi8pID09PSAwKSkge1xyXG4gICAgICAgICAgICBpZiAoIW5ld05vZGVzKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdOb2RlcyA9IG5vZGVzLnNsaWNlKDAsIGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld05vZGVzLnB1c2goYXBwbHlLZXlJZk1pc3NpbmcoaSwgVk5vZGVzXzEuZGlyZWN0Q2xvbmUobikpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV3Tm9kZXMpIHtcclxuICAgICAgICAgICAgbmV3Tm9kZXMucHVzaChhcHBseUtleUlmTWlzc2luZyhpLCBWTm9kZXNfMS5kaXJlY3RDbG9uZShuKSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXdOb2RlcyB8fCBub2RlcztcclxufVxyXG5leHBvcnRzLm5vcm1hbGl6ZVZOb2RlcyA9IG5vcm1hbGl6ZVZOb2RlcztcclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pIHtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVZOb2RlcyhjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChWTm9kZXNfMS5pc1ZOb2RlKGNoaWxkcmVuKSAmJiBjaGlsZHJlbi5kb20gIT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gVk5vZGVzXzEuZGlyZWN0Q2xvbmUoY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzKHZOb2RlLCBwcm9wcywgY2hpbGRyZW4pIHtcclxuICAgIGlmICh2Tm9kZS5mbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRyZW4pICYmICFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHZOb2RlLmNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgdk5vZGUuY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwcm9wcy5yZWYpIHtcclxuICAgICAgICB2Tm9kZS5yZWYgPSBwcm9wcy5yZWY7XHJcbiAgICAgICAgZGVsZXRlIHByb3BzLnJlZjtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLmtleSkpIHtcclxuICAgICAgICB2Tm9kZS5rZXkgPSBwcm9wcy5rZXk7XHJcbiAgICAgICAgZGVsZXRlIHByb3BzLmtleTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSh0eXBlKSB7XHJcbiAgICBpZiAodHlwZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgICByZXR1cm4gMTI4IC8qIFN2Z0VsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnaW5wdXQnKSB7XHJcbiAgICAgICAgcmV0dXJuIDUxMiAvKiBJbnB1dEVsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAnc2VsZWN0Jykge1xyXG4gICAgICAgIHJldHVybiAyMDQ4IC8qIFNlbGVjdEVsZW1lbnQgKi87XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlID09PSAndGV4dGFyZWEnKSB7XHJcbiAgICAgICAgcmV0dXJuIDEwMjQgLyogVGV4dGFyZWFFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ21lZGlhJykge1xyXG4gICAgICAgIHJldHVybiAyNTYgLyogTWVkaWFFbGVtZW50ICovO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDIgLyogSHRtbEVsZW1lbnQgKi87XHJcbn1cclxuZXhwb3J0cy5nZXRGbGFnc0ZvckVsZW1lbnRWbm9kZSA9IGdldEZsYWdzRm9yRWxlbWVudFZub2RlO1xyXG5mdW5jdGlvbiBub3JtYWxpemUodk5vZGUpIHtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzO1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICAvLyBjb252ZXJ0IGEgd3JvbmdseSBjcmVhdGVkIHR5cGUgYmFjayB0byBlbGVtZW50XHJcbiAgICAvLyBQcmltaXRpdmUgbm9kZSBkb2Vzbid0IGhhdmUgZGVmYXVsdFByb3BzLCBvbmx5IENvbXBvbmVudFxyXG4gICAgaWYgKHZOb2RlLmZsYWdzICYgMjggLyogQ29tcG9uZW50ICovKSB7XHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgcHJvcHNcclxuICAgICAgICB2YXIgdHlwZSA9IHZOb2RlLnR5cGU7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGRlZmF1bHRQcm9wcykpIHtcclxuICAgICAgICAgICAgaWYgKCFwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgcHJvcHMgPSB2Tm9kZS5wcm9wcyA9IGRlZmF1bHRQcm9wczsgLy8gQ3JlYXRlIG5ldyBvYmplY3QgaWYgb25seSBkZWZhdWx0UHJvcHMgZ2l2ZW5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gZGVmYXVsdFByb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQocHJvcHNbcHJvcF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzW3Byb3BdID0gZGVmYXVsdFByb3BzW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZyh0eXBlKSkge1xyXG4gICAgICAgICAgICB2Tm9kZS5mbGFncyA9IGdldEZsYWdzRm9yRWxlbWVudFZub2RlKHR5cGUpO1xyXG4gICAgICAgICAgICBpZiAocHJvcHMgJiYgcHJvcHMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIHZOb2RlLmNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHByb3BzKSB7XHJcbiAgICAgICAgbm9ybWFsaXplUHJvcHModk5vZGUsIHByb3BzLCBjaGlsZHJlbik7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChwcm9wcy5jaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihwcm9wcy5jaGlsZHJlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZChjaGlsZHJlbikpIHtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IG5vcm1hbGl6ZUNoaWxkcmVuKGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgLy8gVGhpcyBjb2RlIHdpbGwgYmUgc3RyaXBwZWQgb3V0IGZyb20gcHJvZHVjdGlvbiBDT0RFXHJcbiAgICAgICAgLy8gSXQgaGVscHMgdXNlcnMgdG8gdHJhY2sgZXJyb3JzIGluIHRoZWlyIGFwcGxpY2F0aW9ucy5cclxuICAgICAgICB2YXIgdmVyaWZ5S2V5cyA9IGZ1bmN0aW9uICh2Tm9kZXMpIHtcclxuICAgICAgICAgICAgdmFyIGtleVZhbHVlcyA9IHZOb2Rlcy5tYXAoZnVuY3Rpb24gKHZub2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdm5vZGUua2V5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAga2V5VmFsdWVzLnNvbWUoZnVuY3Rpb24gKGl0ZW0sIGlkeCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhc0R1cGxpY2F0ZSA9IGtleVZhbHVlcy5pbmRleE9mKGl0ZW0pICE9PSBpZHg7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzRHVwbGljYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCdJbmZlcm5vIG5vcm1hbGlzYXRpb24oLi4uKTogRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggc2FtZSBrZXksIGFsbCBrZXlzIG11c3QgYmUgdW5pcXVlIHdpdGhpbiBpdHMgc2libGluZ3MuIER1cGxpY2F0ZWQga2V5IGlzOicgKyBpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNEdXBsaWNhdGU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHZOb2RlLmNoaWxkcmVuICYmIEFycmF5LmlzQXJyYXkodk5vZGUuY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIHZlcmlmeUtleXModk5vZGUuY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9jb3JlL25vcm1hbGl6YXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3dhcm5pbmcvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0IGNvbnN0IEJlc2x1aXQgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgIDxhcnRpY2xlPlxuICAgIDxoMj5CZXNsdWl0PC9oMj5cbiAgICA8cD5cbiAgICAgIFVpdCBoZXQgd2VyayBrdW5uZW4gd2UgYmVzbHVpdGVuIGRhdCBkZSBoacOrcmFyY2hpZSB2YW4gZGUgUm9tZWluZW4gZ29lZCBpbiBlbGthYXIgemF0IGFhbmdlemllbiBpZWRlcmVlbiB6aWpuIHBsYWF0cyBrZW5kZSBlbiBlciByZXNwZWN0IGVuIGFhbnppZW4gd2FzLiBEb29yIGRlemUgb3JnYW5pc2F0aWUgd2FzIGhldCBSb21laW5zZSBsZWdlciBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRpZSB0aWpkLiBXYW5uZWVyIHdlIGhldCBodWlkaWdlIGxlZ2VyIHZlcmdlbGlqa2VuIG1ldCBoZXQgUm9tZWluc2Ugc3RlbGxlbiB3ZSB2YXN0IGRhdCBvbnplIGhpw6tyYXJjaGllIGVlbiB6ZWVyIHVpdGdlYnJlaWRlIHZlcnNpZSBpcyB2YW4gZGllIHZhbiBoZXQgUm9tZWluc2UgbGVnZXIuIEVyIHppam4gbWVlciBvbmRlcnZlcmRlbGluZ2VuIGVuIG1lZXIgY29tcG9uZW50ZW4gZGFuIGJpaiBkZSBSb21laW5lbiwgbWFhciBkaXQgaXMgdGUgd2lqdGVuIGFhbiB0ZWNobm9sb2dpc2NoZSBlbiB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZy4gWm8gemlqbiBlciBudSB2bGllZ3R1aWdlbiwgdGFua3MsIGplZXBzIGVuIHZsaWVnZGVrc2NoZXBlbiB3YXQgZXJ2b29yIHpvcmd0IGRhdCBpZWRlcmUgcGVyc29vbiBiaW5uZW4gaGV0IGxlZ2VyIHppam4gc3BlY2lmaWVrZSBmdW5jdGllIGhlZWZ0IGVuIGVyIGR1cyBtZWVyIHZlcmRlZWxkaGVpZCBpcy5cbiAgICAgIE9wIGhldCB2bGFrIHZhbiBiZXdhcGVuaW5nIHdhcmVuIGRlIFJvbWVpbmVuIG9vayBnb2VkIHZvb3J6aWVuLiBaZSB3YXJlbiB2ZWVsIGJlemlnIG1ldCBoZXQgb250d2lra2VsZW4gdmFuIG5pZXV3ZSB3YXBlbnMgb20gaHVuIHZpamFuZGVuIHRlIGt1bm5lbiB2ZXJyYXNzZW4uIEh1biB3YXBlbnMgd2FyZW4gZWZmaWNpw6tudCBlbiBkb2VsdHJlZmZlbmQgd2FhcmRvb3IgemUgdmVsZSB2ZWxkc2xhZ2VuIGhlYmJlbiBnZXdvbm5lbi4gV2FubmVlciB3ZSBoZXQgUm9tZWluc2UgbGVnZXIgbWV0IGhldCBodWlkaWdlIHZlcmdlbGlqa2VuIHN0ZWxsZW4gd2UgdmFzdCBkYXQgYWxsZXMgaXMgdmVyYW5kZXJkLiBEaXQgaXMgd2VlciB0ZSB3aWp0ZW4gYWFuIHRlY2hub2xvZ2lzY2hlIGVuIHdldGVuc2NoYXBwZWxpamtlIHZvb3J1aXRnYW5nLiBJbiBodWlkaWdlIHRpamRlbiB3b3JkdCBlciBuaWV0IG1lZXIgZ2VzdHJlZGVuIG1ldCB6d2FhcmRlbiwgc2NoaWxkZW4gZW4gc3BlcmVuLCBtYWFyIG1ldCBtYWNoaW5lZ2V3ZXJlbiwgbGFuZ2VhZnN0YW5kc3Jha2V0dGVuIGVuIGNvbXB1dGVycy4gRGUgUm9tZWluZW4gd2FyZW4gb25nZXR3aWpmZWxkIGRlIGdyb25kbGVnZ2VycyB2YW4gdmVyc2NoZWlkZW5lIGxlZ2VycyBkaWUgbGF0ZXIgemlqbiBvbnRzdGFhbiwgbWFhciBzcG9yZW4gdmFuIGh1biB3YXBlbnMgemlqbiBpbiBoZXQgaHVpZGlnZSBsZWdlciBuaWV0IG1lZXIgdGUgdmluZGVuLlxuICAgICAgSGV0IFJvbWVpbnNlIGxlZ2VyIHdhcyBlZW4gdmFuIGRlIHN1Y2Nlc3ZvbHN0ZSBsZWdlcnMgdWl0IGRlIGdlc2NoaWVkZW5pcy4gRGl0IGlzIHRlIHdpanRlbiBhYW4gaHVuIGlqemVyc3RlcmtlIGRpc2NpcGxpbmUgZW4gZ29lZCBiZWRhY2h0ZSB0YWN0aWVrZW4gZW4gYWFudmFsc3BsYW5uZW4uIERlIFJvbWVpbmVuIGJlZ3JlcGVuIG9vayB6ZWVyIGdvZWQgZGF0IGVlbiB2ZWxkc2xhZyBuaWV0IGVua2VsIGZ5c2llayB3ZXJkIGdlc3RyZWRlbiwgbWFhciBvb2sgbWVudGFhbC4gWmUgd2lzdGVuIGdvZWQgaG9lIHplIGhldCBtb3JlZWwgYmlqIGh1biB0cm9lcGVuIGhvb2cgbW9lc3RlbiBob3VkZW4gdGVyd2lqbCB6ZSBkYXQgdmFuIGRlIHZpamFuZCB2ZXJ6d2FrdGVuLiBIZXQgdmVybGllcyB2YW4gZWVuIHZlbGRzbGFnIHZvbmQgemlqbiBvb3J6YWFrIG1lZXN0YWwgYmlqIHNsZWNodCBsZWlkZXJzY2hhcC4gRGUgdGFjdGlla2VuIHZhbiBoZXQgaHVpZGlnZSBsZWdlciB6aWpuIHplZXIgc3RlcmsgdmVyYW5kZXJkIGFhbmdlemllbiBhbGxlcyB2YW5vcCBlZW4gbGFuZ2VyZSBhZnN0YW5kIGdlYmV1cnQgZW4gZXIgbWVlciBlbiBtZWVyIHZpYSByb2JvdHMgd29yZHQgZ2V3ZXJrdC4gVnJvZWdlciB3YXJlbiBiaWpuYSBhbGxlIGdldmVjaHRlbiBtYW4gdG90IG1hbiBnZXZlY2h0ZW4gd2FhcmRvb3IgbWVuIHRhY3RpZWtlbiBrb24gdG9lcGFzc2VuIHpvYWxzIGJpanZvb3JiZWVsZDogcnVpdGVycyBsYW5ncyBkZSBmbGFua2VuIGxhdGVuIGlua29tZW4uIFRlZ2Vud29vcmRpZyBoZWVmdCBkaXQgZ2VlbiBudXQgbWVlciBhYW5nZXppZW4gaGV0IGFhbnRhbCBzb2xkYXRlbiB3YWFybWVlIG1lbiBvb3Jsb2cgdm9lcnQgc3RlcmsgdmVybWluZGVyZCBpcy5cbiAgICA8L3A+XG4gIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmVzbHVpdC5qc3giLCJleHBvcnQgY29uc3QgQmV3YXBlbmluZyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8YXJ0aWNsZT5cbiAgICAgIDxoMj5Ib2Ugd2FzIGRlIGJld2FwZW5pbmcgYmlqIGRlIFJvbWVpbmVuPC9oMj5cbiAgICAgIDxwPlxuICAgICAgICBHZWR1cmVuZGUgZW5rZWxlIGVldXdlbiB0b3Qgb3AgZGUgZGFnIHZhbiB2YW5kYWFnIG9udHN0b25kIGVyIGVlbiB2b29ydGR1cmVuZGUgb250d2lra2VsaW5nIHZhbiBiZXdhcGVuaW5nLiBEaXQgaGVlZnQgemljaCBrdW5uZW4gdmVyd2V6ZW5saWprZW4gZG9vciBkZSB0ZWNobm9sb2dpc2NoZSB2b29ydWl0Z2FuZyBtZXQgYWxzIGdldm9sZyBkYXQgZGUga3JhY2h0IHZhbiB3YXBlbnMgYWFuemllbmxpamsgaXMgdmVyZ3Jvb3QuIE1hYXIgb20gZGUgZXZvbHV0aWUgdmFuIGRlIGJld2FwZW5pbmcgd2FhciB0ZSBuZW1lbiwgbW9ldGVuIHdlIHRlcnVnYmxpa2tlbiB0ZW4gdGlqZGUgdmFuIGhldCBSb21laW5zZSBpbXBlcml1bSB3YWFyIGRlIGJhc2lzIHdlcmQgZ2VsZWdkLlxuICAgICAgPC9wPlxuXG4gICAgICA8aDM+RHJhYWdiYXJlIGJld2FwZW5pbmc8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIFZlbGUga2luZGVyZW4gb2Ygam9uZ2VyZW4gbGV6ZW4gd2VsZWVucyBzdHJpcHMgem9hbHMgQXN0ZXJpeCBlbiBPYmVsaXggb2YgbW9ldGVuIG9wIHNjaG9vbCBlbmtlbGUgd2Vya2plcyBtYWtlbiBvbXRyZW50IGRlIFJvbWVpbnNlIGJlc2NoYXZpbmcuIEhpZXJkb29yIGtyaWpnZW4gemUgZWVuIGJlcGFhbGQgYmVlbGQgb3ZlciBoZXQgUm9tZWluc2UgbGV2ZW4gZW4gbWV0IHdlbGtlIHdhcGVucyBkZSBzb2xkYXRlbiB0ZSB3ZXJrIGdpbmdlbi5cbiAgICAgICAgSGV0IGFsZ2VtZW5lIGJlZWxkIGRpZSB3aWogaGllcnZhbiBoZWJiZW4sIGlzIGRhdCBlbGtlIHNvbGRhYXQgZWVuIGFhbnZhbHN3YXBlbiBlbiBlZW4gdmVyZGVkaWdpbmdzd2FwZW4gdGVyIGJlc2NoaWtraW5nIGhhZCBlbiBkYXQgaWVkZXJlIHNvbGRhYXQgdm9vcnppZW4gd2VyZCB2YW4gc3RvZXJlIHZlY2h0ZXJza2xlZGlqLiBIaWVyYmlqIHppam4gdmFhayBoZXQgendhYXJkIGVuIGRlIHNwZWVyIGRlIGJlbGFuZ3JpamtzdGUgYWFudmFsc3dhcGVucyBlbiB0ZXIgdmVyZGVkaWdpbmcgZ2VicnVpa3RlbiB6ZSBoZXQgc2NoaWxkLiBPbSB6aWNoIHRlIGJlc2NoZXJtZW4gZHJvZWdlbiB6ZSB2YWFrIGVlbiBoYXJuYXMuIE9mIGRlemUgYWxnZW1lbmUgdm9vcnN0ZWxsaW5nIGFsdGlqZCB3YWFyIGlzLCB3b3JkdCBpbiBkaXQgaG9vZmRzdHVrIG9uZGVyem9jaHQuXG4gICAgICAgIDxwLz5cbiAgICAgICAgQmV3YXBlbmluZyBiaWogUm9tZWluc2UgbGVnaW9uYWlycyBoaWVsZGVuIHRlbGtlbnMgdmVyYmFuZCBtZXQgZGUgcmFuZyB3YWFydG9lIHplIGJlaG9vcmRlbi4gQmV3YXBlbmluZyBpcyBuZXQgem9hbHMgZGUgcmFuZ2VuIGluIHZlcnNjaGlsbGVuZGUgZ3JvZXBlbiB0ZSB2ZXJkZWxlbi4gQmVnaW5uZW4gZG9lbiB3ZSBtZXQgZGUgdmVyc2NoaWxsZW5kZSB0aWpkcGVya2VuIGdhYW5kZSB2YW4gMTA1IHYuQ2hyLiB0b3QgZWluZGUgMmRlIGVldXcuIEhpZXJiaWogd29yZHQgZWVuIG5pZXV3IHRpamRwZXJrIHRlbGtlbnMgaW5nZWxlaWQgYmlqIG9udHN0YWFuIHZhbiBuaWV1d2UgZW4gYmVsYW5ncmlqa2UgYmV3YXBlbmluZy5cbiAgICAgICAgPHAvPlxuICAgICAgICBCaWogZGUgZWVyc3RlIGdlbmVyYXRpZSB3YXMgZGUgZ2xhZGl1cyAoPSB6d2FhcmQpIGhldCBiZWxhbmdyaWprc3RlIGFhbnZhbHN3YXBlbi4gRGV6ZSB3ZXJkIGFsdGlqZCBnZWJydWlrdCBpbiBjb21iaW5hdGllIG1ldCBkZSBhc3BpcyAoPSBzY2hpbGQpIHdhYXJtZWUgemUgemljaCBrb25kZW4gdmVyZGVkaWdlbi4gSW4gaGV0IGJlZ2luIGhhZCBkZSBnbGFkaXVzIGVlbiBrb3J0ZSBsZW5ndGUsIGdlw69uc3BpcmVlcmQgb3AgaGV0IG1vZGVsIHZhbiBkZSBHcmlla3NlIHhpcGhvcy4gSGV0IHNjaGlsZCBvZiBkZSB6b2dlbmFhbWRlIGFzcGlzIHdlcmQgdmVydmFhcmRpZ2QgdWl0IGhvdXQgbWV0IHRlbGtlbnMgZWVuIGJyb256ZW4gcmFuZCB0ZXIgdmVyc3RlcmtpbmcuIERlIHZvcm0gdmFuIGhldCBzY2hpbGQgd2FzIHJvbmQgZW4gcmVsYXRpZWYgZ3Jvb3QgdGVyIHZlcmdlbGlqa2luZyBtZXQgd2F0IGVyIG5vZyB6b3Ugdm9sZ2VuLiBPb2sgaGllcmJpaiBoZWJiZW4gZGUgUm9tZWluZW4gemljaCB3ZWVyIGxhdGVuIGluc3BpcmVyZW4gZG9vciBkZSBHcmlla2VuLlxuICAgICAgICBCaWogZGUgdm9sZ2VuZGUgZ2VuZXJhdGllIHdpbGRlbiBkZSBSb21laW5lbiBodW4gZWlnZW4gc3RpamwgY3Jlw6tyZW4gd2FhcmluIEdyaWVrc2UsIEtlbHRpc2NoZSBlbiBJdGFsaXNjaGUgaW52bG9lZGVuIHZlcndlcmt0IHdlcmRlbi4gWm8gY3Jlw6tlcmRlbiB6ZSBkZSBzY3V0dW0gYWxzIHZlcnZhbmdpbmcgdmFuIGRlIGFzcGlzLiBIZXQgaGFkIGVlbiBvdmFsZSB2b3JtIGVuIGJlc2NoaWt0ZSBvdmVyIHRhbCB2YW4gdm9vcmRlbGVuLiBabyBpcyBoZXQgc2NoaWxkIGR1dXJ6YW1lciBlbiBsaWNodGVyIGRhbiBkZSB2b3JpZ2UgZW4gaGV0IGJlc2NoaWt0ZSBvdmVyIGVlbiBzY2hpbGRrbm9wICg9IG1ldGFsZW4gYm9sIGRpZSB6aWNoIGNlbnRyYWFsIG9wIGhldCBzY2hpbGQgYmV2b25kKS4gRGUgZnVuY3RpZSB2YW4gZGllIGtub3Agd2FzIG1lZXIgc2NoYWRlIHRvZSBicmVuZ2VuIGFhbiBkZSB2aWphbmQuIERlIGFzcGlzIHdlcmQgYWx0aWpkIGluIGRlIGxpbmtlcmhhbmQgZ2VkcmFnZW4gd2FhcmRvb3IgemUgaGV0IHp3YWFyZCBpbiBkZSByZWNodGVyaGFuZCBrb25kZW4gbGVnZ2VuLiBEZSByZWRlIGhpZXJ2b29yIHdhcyBkYXQgZGUgbWVlc3RlIFJvbWVpbnNlIHNvbGRhdGVuIHJlY2h0c2hhbmRpZyB3YXJlbiB3YWFyZG9vciB6ZSBtZWVyIGtyYWNodCBoYWRkZW4gaW4gaHVuIHJlY2h0ZXJhcm0gd2F0IG5vb2R6YWtlbGlqayB3YXMgb20gYnJ1dXNrZSBiZXdlZ2luZ2VuIHRlIG1ha2VuIG1ldCBkZSBnbGFkaXVzLiBFbmlnZSB0aWpkIGxhdGVyIGdpbmdlbiB6ZSBnZWJydWlrIG1ha2VuIHZhbiBlZW4gaWV0cyBsYW5nZXIgendhYXJkIHdhdCBvdmVyZ2Vub21lbiB3YXMgdmFuIGRlIHZpamFuZCB0aWpkZW5zIGRlIFB1bmlzY2hlIG9vcmxvZ2VuLlxuICAgICAgICBEaWV6ZWxmZGUgZ2VuZXJhdGllIGdpbmcgemljaCBvb2sgcmljaHRlbiBvcCBkZSBvbnR3aWtrZWxpbmcgdmFuIHN0b290c3BlcmVuICg9IGVlcnN0ZSB2ZXJzaWUgc3BlcmVuKS4gRGV6ZSBoYWRkZW4gb25nZXZlZXIgZGV6ZWxmZGUgZnVuY3RpZSBhbHMgaGV0IHp3YWFyZC5cbiAgICAgICAgPHAvPlxuXG4gICAgICAgIDxwLz5cbiAgICAgICAgSGV0IGVuaWdlIHZlcnNjaGlsIHdhcyBkYXQgemUgbm9nIGxhbmdlciB3YXJlbi4gWmUgd2FyZW4gaW4gaGV0IGJlZ2luIG5pZXQgYmVkb2VsZCBvbSB3ZWcgdGUgZ29vaWVuIGluIGRlIHJpY2h0aW5nIHZhbiBkZSB2aWphbmQuXG4gICAgICAgIFN0b290c3BlcmVuIHdlcmRlbiBnZWJydWlrdCBkb29yIGRlIGhhc3RhdGkgKD0gbGVnaW9uYXJpaSB2YW4gaGV0IGVlcnN0ZSBtYW5pcGVsKS5cbiAgICAgICAgVWl0ZWluZGVsaWprIHdlcmQgZGUgc3Rvb3RzcGVlciBtaW5kZXIgZ2VicnVpa3QgZG9vciBkZSBsZWdpb25haXJzIGVuIGV2b2x1ZWVyZGUgbWVuIG5hYXIgaGV0IG9udHdpa2tlbGVuIHZhbiBlZW4gbGljaHRlcmUgd2VycHNwZWVyIG5sIGRlIHBpbHVtLiBEaXQgcmVzdWx0ZWVyZGUgaW4gZWVuIG5pZXV3ZSBnZW5lcmF0aWUuIEVsa2UgbGVnYXR1cyBiZXNjaGlrdGUgb3ZlciAyIHBpbGEgd2FhcmRvb3IgemUgYmlqIGRlIHN0YXJ0IHZhbiBlZW4gZ2V2ZWNodCBkZSB2aWphbmQgb25taWRkZWxsaWprIGtvbmRlbiB2ZXJ6d2Fra2VuLiBEZSBwaWx1bSB3YXMgemVsZnMgem8gZ2VtYWFrdCBkYXQgZGUgcHVudCB2YW4gZGUgc3BlZXIgYmlqIGJvdHNpbmcga3JvbSBnaW5nIHN0YWFuIG9mIGFmYnJhayB3YWFyZG9vciBkZSB2aWphbmQgZGUgc3BlZXIgbmlldCBrb24gaGVyZ2VicnVpa2VuLiBTdGVsIGRhdCBkZSBwaWx1bSBpbiBlZW4gc2NoaWxkIGJlbGFuZGRlLCBkYW4gd2FzIGhldCBnZXZvbGcgZGF0IGRlIHp3YXJlIGFjaHRlcmthbnQgdmFuIGRlIHNwZWVyIG5hYXIgYmVuZWRlbiB6YWt0ZSB3YWFyZG9vciBoZXQgb25tb2dlbGlqayB3YXMgb20gZXIgdmVyZGVyIG1lZSByb25kIHRlIGxvcGVuLiBIaWVyZG9vciB3YXMgZGUgdmlqYW5kIHZhYWsgZ2Vub29kemFha3Qgb20gem9uZGVyIHNjaGlsZCB2ZXJkZXIgdGUgdmVjaHRlbi5cbiAgICAgICAgPHAvPlxuICAgICAgICBJbiBkZSAzZGUgZWV1dyBrd2FtIGVyIG9wbmlldXcgZWVuIG9wdmFsbGVuZGUgdm9vcnVpdGdhbmcsIG1hYXIgZGl0bWFhbCBvcCBoZXQgZ2ViaWVkIHZhbiB2ZXJkZWRpZ2luZy4gRGUgYmVrZW5kZSBzY3V0dW0gd2VyZCBhYW5nZXBhc3QgZW4gem8gb250c3RvbmQgZGUgc3BpY3VsdW0uIEhldCB3YXMgZWVuIHZsYWsgc2NoaWxkLCBub2cgbGljaHRlciBlbiBuZXQgem9hbHMgZGUgc2N1dHVtIG1ldCBlZW4gc2xhZ2tub3AgaW4gaGV0IG1pZGRlbi5cbiAgICAgICAgPHAvPlxuICAgICAgICBEZSBiZXdhcGVuaW5nIHZhbiBkZSBodWxwdHJvZXBlbiBpcyBvb2sgb3AgdGUgZGVsZW4gaW4gZW5rZWxlIGdyb2VwZW4uIFRpamRlbnMgZGUgZWVyc3RlIGphcmVuIHZhbiBkZSBlcXVpdGF0dXMgd2VyZCBkZSBnbGFkaXVzIGdlYnJ1aWt0IG9tIGRlIHZpamFuZCBhYW4gdGUgdmFsbGVuIHZhbm9wIGhldCBwYWFyZC4gRG9vcmRhdCBoZXQgendhYXJkIGtvcnQgd2FzLCBtYWFrdGVuIHplIGthbnMgb20gc25lbCB2YW4gaGV0IHBhYXJkIHRlIHZhbGxlbi4gSW4gZGUgbG9vcCB2YW4gZGUgM2RlIGVldXcgd2FzIG1lbiBlcmluIGdlc2xhYWdkIGVlbiBsYW5nZXJlIHZlcnNpZSB2YW4gZGUgZ2xhZGl1cyB0ZSBjcmXDq3JlbiBubCBkZSBzcGF0aGEuIERlIHNhZ2l0dGFyaWkgbWFrZW4gZ2VicnVpayB2YW4gZGUgc2FnaXR0YSAoPSBwaWpsZW5ib29nKS4gRGUgZ2Vib2dlbiB2b3JtIHZhbiBkZSBzYWdpdHRhIHdlcmQgZ2V2b3JtZCBkb29yIGJlZ2luIGVuIGVpbmRlIGFhbiB0ZSBzcGFubmVuIG1ldCBlZW4gc3RldmlnZSwgc3RyYWtrZSBkcmFhZC4gSGllcm1lZSBrb25kZW4gemUgaHVuIHBpamxlbiBvdmVyIGVlbiBncm90ZSBhZnN0YW5kIHNjaGlldGVuLlxuICAgICAgICBUb3Qgc2xvdCBoYW50ZXJlbiBkZSBmdW5kaXRvcmVzIGRlIGZ1bmRhLiBEaXQgaXMgZWVuIHNsaW5nZXIgd2FhcmluIHplIGxvZGVuIGtvZ2VscyBsZWdkZSBvbSBkaWUgdmVydm9sZ2VucyBuYWFyIGRlIHZpamFuZCB0ZSBnb29pZW4uXG4gICAgICAgIDxwLz5cbiAgICAgICAgVWl0IGFsIGRlemUgZ2VnZXZlbnMgd2V0ZW4gd2UgZGF0IGhldCBhbGdlbWVuZSBiZWVsZCBncm90ZW5kZWVscyBqdWlzdCBpcy4gTWFhciBqZSBrYW4gb25tb2dlbGlqayBiZXNsdWl0ZW4gZGF0IGplIG1ldCBkYXQgYmVlbGQgYWxsZXMgd2VldCBvdmVyIGRlIGJld2FwZW5pbmcgdmFuIFJvbWVpbnNlIHNvbGRhdGVuLiBOYWFzdCBoZXQgendhYXJkLCBkZSBzcGVlciBlbiBoZXQgc2NoaWxkIHdhcmVuIGVyIG5vZyB0YWwgdmFuIGFuZGVyZSBhYW52YWxzLSBlbiB2ZXJkZWRpZ2luZ3N3YXBlbnMgZGllIGdlYnJ1aWt0IHdlcmRlbiB0aWpkZW5zIGRlIGdldmVjaHRlbiB0ZW4gdGlqZGUgdmFuIGRlIFJvbWVpbmVuLlxuXG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiPlxuICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPkJld2FwZW5pbmcgbGVnaW9uYWlyczwvdGg+XG4gICAgICAgICAgICAgIDx0aD5hYW52YWxzd2FwZW48L3RoPlxuICAgICAgICAgICAgICA8dGg+dmVyZGVkaW5naW5nc3dhcGVuPC90aD5cbiAgICAgICAgICAgICAgPHRoPjwvdGg+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPjFzdGUgZ2VuZXJhdGllPC90ZD5cbiAgICAgICAgICAgIDx0ZD5nbGFkaXVzPC90ZD5cbiAgICAgICAgICAgIDx0ZD5hc3BpYTwvdGQ+XG4gICAgICAgICAgICA8dGQgcm93c3Bhbj1cIjRcIj5cbiAgICAgICAgICAgICAgR2VuZXJhdGllcyBnYWFuZGUgdmFuYWZcbiAgICAgICAgICAgICAgwrEgM2RlIGVldXcgdi5DaHIuIOKAkyAzZGUgZWV1d1xuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD4yZGUgZ2VuZXJhdGllPC90ZD5cbiAgICAgICAgICAgIDx0ZD5oYXN0YSArIGdsYWRpdXM8L3RkPlxuICAgICAgICAgICAgPHRkPnNjdXR1bTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+M2RlIGdlbmVyYXRpZTwvdGQ+XG4gICAgICAgICAgICA8dGQ+cGlsdW0gKyBnbGFkaXVzPC90ZD5cbiAgICAgICAgICAgIDx0ZD5zY3V0dW08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPjRkZSBnZW5lcmF0aWU8L3RkPlxuICAgICAgICAgICAgPHRkPnNwYXRoYTwvdGQ+XG4gICAgICAgICAgICA8dGQ+c3BpY3VsdW08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICA8dGFibGUgY2xhc3M9XCJiZXdhcGVuaW5nLWxlZ2lvbi10YWJsZVwiPlxuICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgPHRoPkJld2FwZW5pbmcgaHVscHRyb2VwZW48L3RoPlxuICAgICAgICAgICAgICA8dGg+YWFudmFsc3dhcGVuczwvdGg+XG4gICAgICAgICAgICAgIDx0aD52ZXJkZWRpZ2luZ3N3YXBlbnM8L3RoPlxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5lcXVpdGF0dXM8L3RkPlxuICAgICAgICAgICAgPHRkPnNwYXRoYTwvdGQ+XG4gICAgICAgICAgICA8dGQgcm93c3Bhbj1cIjNcIj5cbiAgICAgICAgICAgICAgVmVyZGVkaWdpbmcga29tdCBncm90ZW5kZWVscyBvdmVyZWVuIG1ldCBkaWUgdmFuIGRlIGxlZ2lvbmFpcnNcbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+c2FnaXR0YXJpaTwvdGQ+XG4gICAgICAgICAgICA8dGQ+c2FnaXR0YTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+ZnVuZGl0b3JlczwvdGQ+XG4gICAgICAgICAgICA8dGQ+ZnVuZGE8L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L3A+XG4gICAgICA8cD5cbiAgICAgICAgQWFuZ2V6aWVuIGVyIHdlaW5pZyBiZXRyb3V3YmFyZSBicm9ubmVuIHppam4gb3ZlciBkZSBleGFjdGUgZGF0YSDigJlzIGkudi5tLiBoZXQgb250c3RhYW4gdmFuIHJlZWRzIHZlcm1lbGRlIGJld2FwZW5pbmcsIHdlcmQgZGUgY2hyb25vbG9naXNjaGUgdm9sZ29yZGUgdmFuIGhldCBvbnRzdGFhbiB3ZWVyZ2VnZXZlbiBhLmQuaC52LiBnZW5lcmF0aWVzLlxuICAgICAgPC9wPlxuXG4gICAgICA8aDM+T29ybG9nc3R1aWdlbjwvaDM+XG4gICAgICA8cD5cbiAgICAgICAgVGVuc2xvdHRlIGJlc3ByZWtlbiB3ZSBpbiBkaXQgaG9vZmRzdHVrIGRlIFJvbWVpbnNlIG9vcmxvZ3N0dWlnZW4gYWFuZ2V6aWVuIGhldCBlZW4gYmVsYW5ncmlqayBhc3BlY3Qgd2FzIHZhbiBkZSBnZXZlY2h0ZW4uIEhpZXJiaWogZ2FhbiB3ZSBlZW4gb3BkZWxpbmcgbWFrZW4gdHVzc2VuIGRlIHRvcm1lbnRhICg9IGFhbnZhbHN3YXBlbnMpIGVuIGVua2VsZSBhbmRlcmUgb29ybG9nc3ZvZXJ0dWlnZW4gdGVyIHZlcmRlZGlnaW5nLlxuICAgICAgPC9wPlxuICAgICAgPGg0PlxuICAgICAgICBBYW52YWxzd2FwZW5zXG4gICAgICA8L2g0PlxuICAgICAgPHA+XG4gICAgICAgIERlIGFhbnZhbHN3YXBlbnMgd2FyZW4gdmVlbCBrcmFjaHRpZ2VyIGRhbiBkZWdlbmUgZGllIHplIG9wIHphayBkcm9lZ2VuLiBEZSBiZWtlbmRzdGUgYWFudmFsc21hY2hpbmVzIHdhcmVuIGRlIGNhdGFwdWx0YWUgKD0ga2F0YXB1bHRlbiksIG9uZGVyIHRlIHZlcmRlbGVuIGluIGVua2VsZSBjYXRlZ29yaWXDq24uIFplIHdlcmRlbiBnZWJydWlrdCBvbSBwcm9qZWN0aWVsZW4gd2VnIHRlIHNjaGlldGVuIG0uYi52LiBtZWNoYW5pc2NoZSBlbmVyZ2llLlxuICAgICAgICBEZSBlZXJzdGUga2F0YXB1bHRlbiBzY2hvdGVuIGh1biBwaWpsZW4gaW4gYmlqbmEgaG9yaXpvbnRhbGUgcmljaHRpbmcgd2FhcmRvb3IgZGUgYWZzdGFuZCBkaWUgemUga29uZGVuIGFmbGVnZ2VuIG5pZXQgYWwgdGUgc3VjY2Vzdm9sIHdhcy5cbiAgICAgICAgRGUgUm9tZWluc2UgaW5nZW5pZXVycyB2YW4gZGllIHRpamQgZ2luZ2VuIGRhbiB6b2VrZW4gbmFhciBtZXRob2RlcyBvbSBoZXQgcmVlZHMgdmVybWVsZGUgcHJvYmxlZW0gb3AgdGUgbG9zc2VuLiBIaWVydWl0IG9udHN0b25kIGRlIGJhbGxpc3RhLiBEZXplIGthdGFwdWx0IGhhZCB0dXNzZW4gZGUgMiBob3Jpem9udGFhbCBzY2h1aW4gZ2VwbGFhdHN0ZSBiYWxrZW4gZWVuIGdlc3Bhbm5lbiB0b3V3LiBPbmRlciBoZXQgdG91dyBiZXZvbmQgemljaCBlZW4gaGFsdmUgY2lsaW5kZXIgd2FhcmluIGhldCBwcm9qZWN0aWVsIHdlcmQgZ2VsZWdkLiBEZXplIGhhbHZlIGNpbGluZGVyIHdlcmQgYWx0aWpkIG5hYXIgYm92ZW4gZ2VyaWNodCBlbiBkZSBob2VrIHdhYXJpbiBoZXQgemljaCBiZXZvbmQga29uZGVuIHplIGJpanN0dXJlbiBpbmRpZW4gbm9kaWcuIEhldCB3YXMgZHVzIG5pZXQgem8gZGF0IGJhbGxpc3Rh4oCZcyBlZW4gdmFzdGUgaG9layBtZWVrcmVnZW4gem9hbHMgYmlqIGRlIGVlcnN0ZSB2ZXJzaWVzIHZhbiBkZSBrYXRhcHVsdGVuLiBEb29yIGRpZSByZWdlbGJhcmUgaG9layBrb25kZW4gemUgaHVuIHBpamxlbiBvdmVyIGVlbiBhZnN0YW5kIHZhbiA0MDAgbWV0ZXIgc2NoaWV0ZW4uIE5ldCB6b2FscyBiaWogZGUgb3Vkc3RlIGthdGFwdWx0ZW4gd2FyZW4gZXIgdmVlbCBzb2xkYXRlbiAowrE0KSBub2RpZyBvbSBoZXQgaW4gZ2VicnVpayB0ZSBrdW5uZW4gbmVtZW4uIERhYXJvbSB6b2NodGVuIGRlIGluZ2VuaWV1cnMgbm9nIHN0ZWVkcyBuYWFyIGVlbiB2ZXJiZXRlcmRlIHZlcnNpZS5cbiAgICAgICAgRGUgaW5nZW5pZXVycyBwbGFhdHN0ZW4gZGl0IG5hZGVlbCBjZW50cmFhbCBpbiBodW4gdm9sZ2VuZGUgb250d2VycGVuIHdhYXJkb29yIGRlIHNjb3JwaW9uZXMgKGtydWlzYm9vZyBvcCB2b2V0KSB3YXJlbiBvbnRzdGFhbi4gSGV0IHdhcmVuIGtsZWluZSBrYXRhcHVsdGVuIGRpZSBkb29yIDEgbWFuIGdlZHJhZ2VuIGtvbmRlbiB3b3JkZW4uIFplIGJlc3RvbmRlbiB1aXQgZWVuIGlqemVyZW4gYm9vZyB3YWFydHVzc2VuIGVlbiBzbmFhciB3ZXJkIGdlc3Bhbm5lbi4gRGUgcHJvamVjdGllbGVuIGRpZSB6ZSBrb25kZW4gYWZ2dXJlbiB3YXJlbiBob3V0ZW4gc3BpZXNlbiB2YW4gNjdjbS5cbiAgICAgICAgTmEgZGUgc2NvcnBpb25lcyBvbnR3aWtrZWxkZSBtZW4gZGUgY2hlaW9iYWxsaXN0cmEgZGllIGJlc2NoaWt0ZSBvdmVyIG1ldGFsZW4gZnJhbWVzIHdhdCB2ZWVsIHN0ZXJrZXIgd2FzIGRhbiB2b29yZGllbi5cbiAgICAgICAgRGUgb25hZ2VyIHdhcyBkZSBsYWF0c3RlIGhlcnZvcm1pbmcgdmFuIGRlIGthdGFwdWx0IGVuIHdlcmQgYWxnZW1lZW4gaW4gZ2VicnVpayBnZW5vbWVuIHJvbmQgZGUgNGRlIGVldXcuXG5cbiAgICAgIDwvcD5cblxuICAgICAgPHA+XG4gICAgICAgIERlemUgaGFkIGVlbiB0b3RhYWwgYW5kZXJlIHdlcmt3aWp6ZSBkYW4gZGUgdm9yaWdlLiBIZXQgd2FzIGVlbiBoZWVsIGdyb290IGVuIHp3YWFyIG1hY2hpbmUgYmVkb2VsZCBvbSBncm90ZSBwcm9qZWN0aWVsZW4gbmFhciBkZSB2aWphbmQgdGUgd2VycGVuLiBEZXJnZWxpamtlIHByb2plY3RpZWxlbiB3YXJlbiBtZWVzdGFsIHN0ZW5lbi5cbiAgICAgICAgSGV0IG9wdmFsbGVuZHN0ZSBrZW5tZXJrIHZhbiBkZSBvbmFnZXIgd2FzIGRhdCBlciBvcG5pZXV3IHZlbGUgc29sZGF0ZW4gbm9kaWcgd2FyZW4gb20gZGUga2F0YXB1bHQgaW4gZ2VicnVpayB0ZSBuZW1lbiBlbiBkaXQgd2FzIGp1aXN0IHdhdCBtZW4gYmlqIGRlIG9udHdpa2tlbGluZyB2YW4gZGUga2F0YXB1bHQgd2lsZGUgdGVnZW5nYWFuLlxuICAgICAgPC9wPlxuXG4gICAgICA8aDM+VmVyZGVkaWdpbmdzd2FwZW5zPC9oMz5cbiAgICAgIDxwPlxuICAgICAgICBEZSB2ZXJkZWRpZ2luZ3NtYWNoaW5lcyB3YXJlbiBuZXQgem9hbHMgZGUgYWFudmFsc21hY2hpbmVzIGtyYWNodGlnZXIgaW4gdmVyZ2VsaWpraW5nIG1ldCB3YXQgZGUgc29sZGF0ZW4gYmlqIHppY2ggZHJvZWdlbi4gVSB6YWwgdGVsa2VucyBlZW4ga29ydGUgYmVzY2hyaWp2aW5nIGtyaWpnZW4gb3ZlciBlbmtlbGUgb29ybG9nc3R1aWdlbiBkaWUgdGVyIHZlcmRlZGlnaW5nIHdlcmRlbiBnZWJydWlrdC5cbiAgICAgICAgPHAvPlxuICAgICAgICBCZWdpbm5lbiBkb2VuIHdlIG1ldCBkZSBwbHV0ZWksIGVlbiBoYWxmY2lya2Vsdm9ybWlnIHNjaGlsZCBvcCB3aWVsZW4gZGllIHZlZWwgd2VlcnN0YW5kIGJvb2QuXG4gICAgICAgIFZlcnZvbGdlbnMgd2FzIGVyIGRlIHRlc3R1ZG8uIERlemUgd2FzIG5ldCB6b2FscyBkZSBwbHV0ZWkgZWVuIGJlc2NoZXJtaW5nIG9wIHdpZWxlbiAoa2FuIG9vayB6b25kZXIgd2llbGVuKS4gTWFhciBoZXQgdmVyc2NoaWwgd2FzIGRhdCBiaWogZGUgdGVzdHVkbyBzY2hpbGRlbiBhYW4gZWxrYWFyIHdlcmRlbiBnZWhlY2h0IGRpZSB6ZSBkYW4gYWxzIGFmZGFrIGdlYnJ1aWt0ZW4uXG4gICAgICAgIDxwLz5cbiAgICAgICAgVG90IHNsb3QgYmVzdG9uZCBlciBlZW4gbWFjaGluZSBkaWUgem93ZWwgYmlqIGRlIGFhbnZhbHMtIGFscyBiaWogZGUgdmVyZGVkaWdpbmdzd2FwZW5zIHpvdSBrdW5uZW4gaG9yZW4sIG5sIGRlIHR1cmVzIGFtYnVsYXRvcmlhZS4gSGV0IHdhcyBlZW4gaG91dGVuIHRvcmVuIG9wIHdpZWxlbiB3YWFyaW4gemUga29uZGVuIHNjaHVpbGVuIGVuIG9wIGRpZSBtYW5pZXIga29uZGVuIHplIG9uZ2VzY2hvbmRlbiBkZSB2aWphbmQgbmFkZXJlbi4gWm/igJluIHRvcmVuIHRlbGRlIGVua2VsZSB2ZXJkaWVwaW5nZW4gZW4gaGFkIHRlbGtlbnMgZWVuIHZhbGx1aWsgcGVyIHZlcmRpZXAuIERpdCBnYWYgaGVuIGRlIGthbnMgb20gb3ZlciBkZSBtdXJlbiB0ZSBnZXJha2VuIHZhbiBkZSB2aWphbmQuIEhlbGVtYWFsIG9uZGVyYWFuIHdlcmQgZWVuIHN0b3JtcmFtIGluZ2Vib3V3ZCBlbiBkZXplIGhhZCBhbHMgZnVuY3RpZSBkZSBwb29ydGVuIHZhbiBoZXQgdmlqYW5kZWxpamtlIGdlYmllZCB0ZSBkb29yYnJla2VuLlxuICAgICAgICA8cC8+XG4gICAgICA8L3A+XG5cbiAgICAgIDx0YWJsZSBjbGFzcz1cImJld2FwZW5pbmctbGVnaW9uLXRhYmxlXCI+XG4gICAgICAgIDx0aGVhZD5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGg+T29ybG9nc3R1aWdlbjwvdGg+XG4gICAgICAgICAgICA8dGg+d2FwZW5zPC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPmFhbnZhbHN3YXBlbnMgKD0gdG9ybWVudGEpPC90ZD5cbiAgICAgICAgICA8dGQ+Y2F0YXB1bHRhZTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+PC90ZD5cbiAgICAgICAgICA8dGQ+QmFsbGlzdGFlPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD48L3RkPlxuICAgICAgICAgIDx0ZD5TY29ycGlvbmVzPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD48L3RkPlxuICAgICAgICAgIDx0ZD5jaGVpb2JhbGxpc3RyYTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+PC90ZD5cbiAgICAgICAgICA8dGQ+b25hZ2VyPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD52ZXJkZWRpbmdpbnN3YXBlbnM8L3RkPlxuICAgICAgICAgIDx0ZD5QbHV0ZWk8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPjwvdGQ+XG4gICAgICAgICAgPHRkPnRlc3R1ZG88L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPmNvbWJpbmF0aWV3YXBlbjwvdGQ+XG4gICAgICAgICAgPHRkPlR1cmVzIGFtYnVsYXRvcmlhZTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICA8L3RhYmxlPlxuXG4gICAgICA8aDM+VmVyZ2VsaWpraW5nPC9oMz5cbiAgICAgIDxwPlxuICAgICAgICBBbHMgd2UgZWVuIHZlcmdlbGlqa2luZyBtYWtlbiB2YW4gZGUgUm9tZWluc2UgYmV3YXBlbmluZyB0Lm8udi4gZGUgaHVpZGlnZSwgZGFuIGt1bm5lbiB3ZSBlZW4gemVlciBzdGVya2UgZXZvbHV0aWUgdmFzdHN0ZWxsZW4gdm9vcnRnZWtvbWVuIHVpdCBkZSB3ZXRlbnNjaGFwcGVsaWprZSB2b29ydWl0Z2FuZyBkaWUgbWVuIGRvb3JoZWVuIGRlIGphcmVuIGJvZWt0ZS4gWmUgaGViYmVuIHppY2ggYWx0aWpkIHdpbGxlbiB2ZXJiZXRlcmVuIGluIGhldCBtYWtlbiB2YW4gbWFjaGluZXMgZGllIHByb2plY3RpZWxlbiBrb25kZW4gYWZzY2hpZXRlbi4gWm8gd2VyZCBkZSBrYXRhcHVsdCBvbWdldm9ybWQgdG90IGVlbiBsYW5nZSBhZnN0YW5kc3Jha2V0LiBNZW4gb250d2lra2VsZGUgemVsZnMgZWVuIHN5c3RlZW0gb20gendhYXJkZW4gdGUgdmVydmFuZ2VuIGRvb3IgbWFjaGluZXMgZGllIGtvZ2VscyBrb25kZW4gYWZ2dXJlbi5cbiAgICAgIDwvcD5cblxuICA8L2FydGljbGU+XG4gICk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jld2FwZW5pbmcuanN4IiwiZXhwb3J0IGNvbnN0IEJyb25uZW4gPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgIDxhcnRpY2xlPlxuICAgIDxoMj5Ccm9ubmVuPC9oMj5cblxuICAgIDxoMyBjbGFzcz1cImJyb25cIj5Cb2VrZW48L2gzPlxuICAgIDxwPlxuXG4gICAgICA8dWw+XG4gICAgICAgIDxsaT5Db21tZW50YXJpaSBkZSBiZWxsbyBHYWxsaWNvLCBWSUksIExYSVg8L2xpPlxuICAgICAgICA8bGk+VmFuIEdlbGRlciwgSi4gKDE5NTIpIExhdGlqbnNlIGdlc2NoaWVkc2NocmlqdmVycy4gQmxvZW1sZXppbmcgdWl0IGRlIHdlcmtlbiB2YW4gU2FsbHVzdGl1cywgQ2Flc2FyLCBMaXZpdXMgZW4gVGFjaXR1cy4gSGFhcmxlbTogU3BhYXJuZXN0YWQ8L2xpPlxuICAgICAgICA8bGk+SGFycHVyLCBKLiAoMjAwNykgR3VlcnJpZXJzOiBMZXMgZ3JhbmRzIGjDqXJvcyBkZSBs4oCZaGlzdG9pcmUuIE1JTEFOOiBUb3Vsb3VzZTwvbGk+XG4gICAgICAgIDxsaT5WYW4gRGFlbGUsIEIuICgyMDAzKSBIZXQgUm9tZWluc2UgTGVnZXIuIERhdmlkc2ZvbmRzOiBMZXV2ZW48L2xpPlxuICAgICAgICA8bGk+R29sZHN3b3J0aHksIEEuICgyMDE3KSBSb21laW5zZSBsZWdpb2VuZW4uIE9tbmlib2VrOiBVdHJlY2h0PC9saT5cbiAgICAgICAgPGxpPlJvZGdlcnMsIE4uICgyMDEyKSBIZXQgUm9tZWluc2UgUmlqay4gVmVsdG1hbjogVXRyZWNodDwvbGk+XG4gICAgICAgIDxsaT5Bbm9uaWVtLiAoMjAxNSkuIERlIFZlbGRzbGFnZW4sIEhldCBQb3AtVXBib2VrLiBUaWVsdDogTGFubm9vLjwvbGk+XG4gICAgICAgIDxsaT5XYXJyeSwgVy4gKDE5ODEpLiBPb3Jsb2d2b2VyaW5nIGluIGRlIGtsYXNzaWVrZSB3ZXJlbGQuIEhlbW9uZDogSGVsbW9uZC48L2xpPlxuICAgICAgICA8bGk+RGFuZG8tQ29sbGlucywgUy4gKDIwMTApLiBMZWdpb25zIG9mIFJvbWU6IFRoZSBEZWZpbml0aXZlIEhpc3Rvcnkgb2YgRXZlcnkgSW1wZXJpYWwgUm9tYW4gTGVnaW9uLiBMb25kZW46IFF1ZXJjdXMgUHVibGlzaGluZy48L2xpPlxuICAgICAgICA8bGk+RmV1Z2VyZSwgTS4gKDIwMDIpLiBUaGUgV2VhcG9ucyBvZiB0aGUgUm9tYW5zLiBVbml0ZWQgS2luZ2RvbTogVGhlIEhpc3RvcnkgUHJlc3MuPC9saT5cbiAgICAgIDwvdWw+XG5cbiAgICAgIDxoMyBjbGFzcz1cImJyb25cIj5Nb25kZWxpbmc8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIE1vbmRlbGluZ2UgYnJvbiBnZWxldmVyZCBkb29yIEtvbG9uZWwgU0JIIE1hcmMgQWxleGFuZGVyIChIb29nbGVyYWFyIGFhbiBkZSBLTVMpXG4gICAgICA8L3A+XG4gICAgICA8aDMgY2xhc3M9XCJicm9uXCI+V2Vic2l0ZXM8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIDx1bD5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHBzOi8vbWFyY2F1ci53b3JkcHJlc3MuY29tLzIwMTUvMDMvMjAvZGUtdmlqZi1ncm9vdHN0ZS1vdmVyd2lubmluZ2VuLXZhbi1kZS1yb21laW5lbi1sb25ncmVhZC9cIj5Hb2VkZSBrZWl6ZXJzLCBzbGVjaHRlIGtlaXplcnM8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cubWlsaXRhaXIubmV0L09vcmxvZ2VuL1JvbWVpbnNlJTIwb29ybG9nZW4vU2xhZyUyMGJpaiUyMFRldXRvYnVyZ2Vyd291ZC9cIj5taWxpdGFpci5uZXQ8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cuaXNnZXNjaGllZGVuaXMubmwvbmlldXdzLzQtb3BtZXJrZWxpamtlLXZlbGRzbGFnZW4tcm9tZWluc2UtZ2VzY2hpZWRlbmlzL1wiPjQgb3BtZXJrZWxpamtlIHZlbGRzbGFnZW4gdWl0IGRlIFJvbWVpbnNlIGdlc2NoaWVkZW5pczwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9ubC53aWtpcGVkaWEub3JnL3dpa2kvQmVsZWclMjB2YW4lMjBBbGVzaWFcIj5CZWxlZyB2YW4gQWxlc2lhPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3d3dy5rdW5zdGdlb2dyYWZpZS5ubC9oZW52L2hlbGRlbi5hbGVzaWEuc2xhZy5odG1cIj5XYWFyIGxhZyBBbMOpc2lhPzwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5jZW5lbnMuYmUvYWxlc2lhL29tZ2V2aW5nLmh0bWxcIj5kZSBnZXNjaGllZGVuaXMgdmFuIEFsZXNpYTwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9wbGF6aWxsYS5jb20vcGFnZS80Mjk1MDI4OTEzL2RyaWUtZ3JvdGUtdmVsZHNsYWdlbi11aXQtZGUtcm9tZWluc2UtdGlqZFwiPkRyaWUgZ3JvdGUgdmVsZHNsYWdlbiB1aXQgZGUgUm9tZWluc2UgdGlqZDwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly9ubC53aWtpcGVkaWEub3JnL3dpa2kvU2xhZ19iaWpfaGV0X1RldXRvYnVyZ2Vyd291ZFwiPlNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQ8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgaHJlZj1cImh0dHA6Ly93d3cuaXNnZXNjaGllZGVuaXMubmwvbWlsaXRhaXJlLWNvbmZyb250YXRpZXMvc2xhZy1iaWotaGV0LXRldXRvYnVyZ2Vyd291ZC12YXJ1cy1sb29wdC1pbi1lZW4tZ2VybWFhbnNlLWhpbmRlcmxhYWcvXCI+U2xhZyBiaWogaGV0IFRldXRvYnVyZ2Vyd291ZDogVmFydXMgbG9vcHQgaW4gZWVuIEdlcm1hYW5zZSBoaW5kZXJsYWFnPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3d3dy5oaXN0b3Jpc2NoZWNhcnRvZ3JhZmllLm5sL25pZXV3cy8yMDA5LzExL3ZhcnVzc2xhZy0yMDAwLWphYXItZ2VsZWRlbi9cIj5WYXJ1c3NsYWc6IDIwMDAgamFhciBnZWxlZGVuPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3Lm5vdmlvbWFndXMuaW5mby92YXJ1c3NsYWcuaHRtXCI+RGUgVmFydXNzbGFnIGluIDkgbi5DaHIuPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL25sLndpa2lwZWRpYS5vcmcvd2lraS9QdWJsaXVzX1F1aW5jdGlsaXVzX1ZhcnVzXCI+UHVibGl1cyBRdWluY3RpbGl1cyBWYXJ1czwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5sZWdpb3hpLmJlL2VkdWNhdGllZi90YWN0aWVrZW4gKG9wZW4gdmVsZHNsYWcpXCI+VGFjdGlla2VuPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LmtsYXNzaWVrZXZlcnRhbGluZ2VuLm5sL2N1bHR1dXIvbGVnZXIuaHRtXCI+SGV0IFJvbWVpbnNlIGxlZ2VyPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vdXNlcnMudGVsZW5ldC5iZS9waG9lbmljYS9odWxwdHJvZXBlbi5odG1cIj5IdWxwdHJvZXBlbjwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3JvbWVpbmVuLmluZm8vZGUtYmV3YXBlbmluZy12YW4tZGUtcm9tZWluc2UtbGVnaW9uYWlyXCI+RGUgYmV3YXBlbmluZyB2YW4gZGUgUm9tZWluc2UgbGVnaW9uYWlyPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vdXNlcnMuc2t5bmV0LmJlL3ZlbmlfdmlkaV92aWNpL2Jlc3Rvcm1pbmcuaHRtbFwiPlZlcmRlZGlnaW5nc3dlcmtlbiBlbiBiZWxlZ2VyaW5nc29vcmxvZzwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5wcmltYXJ5aG9tZXdvcmtoZWxwLmNvLnVrL3JvbWFucy93ZWFwb25zLmh0bWxcIj5XZWFwb25zPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwczovL3JvbWFubWlsaXRhcnkubmV0L3Rvb2xzL1wiPlRvb2xzIG9mIFdhcjwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL2ZhY3RzYW5kZGV0YWlscy5jb20vd29ybGQvY2F0NTYvc3ViMzY4L2l0ZW0yMDU1Lmh0bWxcIj5BbmNpZW50IHJvbWFuIG1pbGl0YXJ5LCB3ZWFwb25zIGFuZCBzcGllczwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cHM6Ly93d3cudGhlLXJvbWFucy5jby51ay93ZWFwb25zLmh0bVwiPldlYXBvbnMgJiBUYWN0aWNzPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGhyZWY9XCJodHRwOi8vd3d3LnVucnYuY29tL21pbGl0YXJ5L2xlZ2lvbi5waHBcIj5Pcmdhbml6YXRpb24gb2YgdGhlIFJvbWFuIEltcGVyaWFsIExlZ2lvbjwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBocmVmPVwiaHR0cDovL3d3dy5yb21hbi1lbXBpcmUubmV0L2FybXkvYXJteS5odG1sXCI+VGhlIFJvbWFuIEFybXk8L2E+PC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvcD5cbiAgICA8L3A+XG4gIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYnJvbm5lbi5qc3giLCJleHBvcnQgY29uc3QgSW5sZWlkaW5nID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxhcnRpY2xlPlxuICAgIDxoMj5JbmxlaWRpbmc8L2gyPlxuICAgIDxwPlxuICAgICAgV2lqIGhlYmJlbiBiZXNsaXN0IG9tIG9ucyB3ZXJrIG92ZXIgaGV0IFJvbWVpbnNlIGxlZ2VyIHRlIGJlZ2lubmVuIG1ldCBkZSBvbmRlcnZlcmRlbGluZyB2YW4gaGV0IGxlZ2VyLiBIaWVyZG9vciBrcmlqZyBqZSBhbCBlZW4gaW56aWNodCBpbiBob2UgZGUgaGnDq3JhcmNoaWUgd2FzIHRlbiB0aWpkZSB2YW4gZGUgUm9tZWluZW4uIEhpZXJuYSB6aWpuIHdpaiBkaWVwZXIgaW5nZWdhYW4gb3AgZGUgYmV3YXBlbmluZyB2YW4gZGUgUm9tZWluZW4gem9kYXQgamUgZ29lZCB3ZWV0IGhvZSB6ZSB0b2VuIHZvY2h0ZW4gZW4gd2F0IHplIHRlciBiZXNjaGlra2luZyBoYWRkZW4gb20gaHVuIHZpamFuZCB0ZSBvdmVybWVlc3RlcmVuLiBBbHMgbGFhdHN0ZSBoZWJiZW4gd2lqIGdla2VrZW4gbmFhciBoZXQgdmVybG9vcCB2YW4gdHdlZSB2ZWxkc2xhZ2VuIGVuIGhlYmJlbiB3ZSBkZXplIHZvbGxlZGlnIGdlYW5hbHlzZWVyZCBvbSB1aXRlaW5kZWxpamsgdGUga3VubmVuIHplZ2dlbiBob2UgZGV6ZSBiZXRlciBoYWRkZW4ga3VubmVuIHZlcmxvcGVuLiBXaWogaGViYmVuIHZlcnNjaGVpZGVuZSBicm9ubmVuIGdlYnJ1aWt0IG9tIG9ucyB3ZXJrIHRlIG9uZGVyYm91d2VuLCBnYWFuZGUgdmFuIGJvZWtlbiB1aXQgaGV0IGFyY2hpZWYgdmFuIGRlIEtvbmlua2xpamtlIE1pbGl0YWlyZSBTY2hvb2wgdG90IHdlYnNpdGVzIHZhbiBwcm9mZXNzb3JlbiBsYXRpam4gZGllIHRoZXNpc3NlbiBvdmVyIGhldCBSb21laW5zZSBsZWdlciBoZWJiZW4gZ2VzY2hyZXZlbi4gT20gbm9nIGV4dHJhIGRvY3VtZW50YXRpZSBlbiBhZmJlZWxkaW5nZW4gdGUgdmVyc2NoYWZmZW4gYmlqIGRlemUgb25kZXJ6b2Vrc2NvbXBldGVudGllLCBoZWJiZW4gd2lqIGJlc2xvdGVuIG9tIGRlemUgc2l0ZSB0ZSBtYWtlbi5cbiAgICA8L3A+XG4gIDwvYXJ0aWNsZT5cbiAgKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5sZWlkaW5nLmpzeCIsImV4cG9ydCBjb25zdCBPbmRlcnZlcmRlbGluZyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8YXJ0aWNsZT5cblxuICAgIDxoMj5PbmRlcnZlcmRlbGluZyB2YW4gaGV0IGxlZ2VyPC9oMj5cbiAgICA8cD5cbiAgICAgIERlIFJvbWVpbmVuIGhhZGRlbiB2ZXJzY2hpbGxlbmRlIHJhbmdlbiBiaW5uZW4gaGV0IGxlZ2VyIHdhYXJ0b2UgamUga29uIGJlaG9yZW4uIEhldCBsZWdlciB3ZXJkIG9wZ2VkZWVsZCBpbiBtZWVyZGVyZSBsZWdpb2VuZW4gZW4gaHVscHRyb2VwZW4gd2Fhcm1lZSB6ZSB2YW51aXQgdmVyc2NoaWxsZW5kZSBob2VrZW4gZGUgdmlqYW5kIGdlc3RydWN0dXJlZXJkIGtvbmRlbiBhYW52YWxsZW4uIERvb3JoZWVuIGRlIGphcmVuIG5hbSBoZXQgYWFudGFsIHNvbGRhdGVuIHN0ZXJrIHRvZS4gRGUgcmVkZW4gZGFhcnRvZSB3YXMgdnJpaiBlZW52b3VkaWcuIEVlbm1hYWwgZWVuIGJlcGFhbGRlIGJldm9sa2luZ3Nncm9lcCB6aWpuIHN0cmlqZG1hbnNjaGFwcGVuIHZlcmdyb290dGUsIHdhcyBkZSBhbmRlcmUgdmVycGxpY2h0IG9tIGhldHplbGZkZSB0ZSBkb2VuLCBhYW5nZXppZW4gemUgYW5kZXJzIGdlZW4gZW5rZWxlIGthbnMgem91ZGVuIGhlYmJlbiBvcCBkZSBvdmVyd2lubmluZy5cbiAgICA8L3A+XG5cbiAgICA8aDM+SGV0IGxlZ2lvZW48L2gzPlxuICAgIDxwPlxuICAgICAgRWVuIGxlZ2lvZW4gd2VyZCBvcGdlZGVlbGQgaW4gMTAgY29ob3J0ZW4gd2FhcmJpaiAxIGNvaG9ydGUgZWVuIGFhbnRhbCB2YW4gNjAwIHNvbGRhdGVuIHRlbGRlIG9wIHZvb3J3YWFyZGUgZGF0IGhldCBsZWdpb2VuIGJlc3RvbmQgdWl0IG9uZ2V2ZWVyIDYwMDAgbGVnaW9uYXJpaSAoPSBzb2xkYXRlbikuIERlIGxlaWRlciB2YW4gZWVuIGxlZ2lvZW4gd2VyZCBlZW4gbGVnYXR1cyBnZW5vZW1kLiBIZXQgd2FzIGFsdGlqZCBlZW4gbWFuIG9tZGF0IGVua2VsIGRlIG1hbm5lbiB0b2VnZWxhdGVuIHdlcmRlbiBiaWogaGV0IGxlZ2VyIChWcm91d2VuIG1vZXN0ZW4gaGV0IGh1aXNob3VkZW4gZG9lbikuIERlIGxlZ2F0dXMgaGFkIG9vayA1IMOgIDYgYXNzaXN0ZW50ZW4gdGVyIGJlc2NoaWtraW5nIGRpZSBkZSBuYWFtIHRyaWJ1bmkga3JlZ2VuLiBEYXQgd2FyZW4gc3RlZWRzIGpvbmdlIG1hbm5lbiBkaWUgZWVuIHBvbGl0aWVrZSBjYXJyacOocmUgd2lsZGUgc3RhcnRlbiBtYWFyIGVlcnN0IHdhdCBtaWxpdGFpcmUgZXJ2YXJpbmcgbm9kaWcgaGFkZGVuLlxuXG4gICAgICBWZXJ2b2xnZW5zIHdlcmRlbiBhbGxlIGNvaG9ydGVuIG5vZyBlZW5zIG9uZGVydmVyZGVlbGQgaW4gMyBtYW5pcGVscyBtZXQgdGVsa2VucyBlZW4gYWFudGFsIHZhbiAyMDAgbWFuLiBIZXQgMXN0ZSBtYW5pcGVsIHZhbiBpZWRlcmUgY29ob3J0ZSBrcmVlZyBkZSBuYWFtIHBpbHVzLiBIZXQgMXN0ZSBtYW5pcGVsIHZhbiBkZSAxc3RlIGNvaG9ydGUgd2VyZCBkZSBwcmltdXMgcGlsdXMgZ2Vub2VtZCBtZXQgZGUgcHJpbWkgcGlsaSBjZW50dXJpbyBhYW4gaGV0IGhvb2ZkLlxuICAgICAgRGV6ZSAyMDAgbWFubmVuIHdlcmRlbiBub2dtYWFscyBnZXNwbGl0c3QgaW4gMiBncm9lcGVuIHZhbiAxMDAgc29sZGF0ZW4uIERlcmdlbGlqa2UgZ3JvZXBlbiBiZWhvb3JkZW4gdG90IGRlIHJhbmcgdmFuIGRlIGNlbnR1cmlhLiBIaWVyYmlqIHdhcyBlZW4gY2VudHVyaW8gKD0gb25kZXJvZmZpY2llcikgZGUgYWFudm9lcmRlciB2YW4gMSB2YW4gZGUgNiBjZW50dXJpw6tuLiBIaWogYmVzY2hpa3RlIG92ZXIgZWVuIGFhbnRhbCBzb2xkYXRlbiwgMSB2ZWxkdGVrZW5kcmFnZXIgZW4gZWVuIG9wdGlvLiBaaWpuIGJlbGFuZ3JpamtoZWlkIHdhcyBhZmhhbmtlbGlqayB2YW4gZGUgcmFuZyBkaWUgemlqbiBjZW50dXJpYSBoYWQuIFpvIGlzIGRlIGNlbnR1cmlvIHZhbiBoZXQgMXN0ZSBjZW50dXJpZSwgMXN0ZSBtYW5pcGVsIGVuIDFzdGUgY29ob3J0ZSBkZSBiZWxhbmdyaWprc3RlIGVuIG5hYXJtYXRlIGplIHZlcmRlciBnYWF0IGluIGRlIGhpw6tyYXJjaGllIG5lbWVuIHplIGFhbiBiZWxhbmdyaWpraGVpZCBhZi4gRWVuIGNlbnR1cmlvIGJlc2NoaWt0ZSBuZXQgem9hbHMgZWVuIGxlZ2F0dXMgb3ZlciBlZW4gYXNzaXN0ZW50IGRpZSBkZSBuYWFtIG9wdGlvIGFhbmdlYm9kZW4ga3JlZWcuIERlemUgb3B0aW8gYmVzY2hpa3RlIG92ZXIgZWVuIGtsZWluIG1hbnNjaGFwIG9tIHdhdCBlcnZhcmluZyB0ZSBrcmlqZ2VuIG92ZXIgaG9lIGplIGxlaWRpbmcgbW9lc3QgZ2V2ZW4uIEhldCB1aXRlaW5kZWxpamtlIGRvZWwgdmFuIGRlIG9wdGlvIHdhcyB0ZSBwcm9tb3ZlcmVuIG9tIHpvIGRlIGZ1bmN0aWUgdmFuIGVlbiBjZW50dXJpbyB0ZSBrcmlqZ2VuLiBaZWVyIGVydmFyZW4gY2VudHVyaW/igJlzIGtyZWdlbiBvb2sgbm9nIGthbnMgb20gcHJhZWZlY3R1cyBjYXN0cm9ydW0gKD0ga2FtcGNvbW1hbmRhbnQpIHRlIHdvcmRlbi5cbiAgICAgIFRvdCBzbG90IHdlcmRlbiBkaWUgMTAwIG1hbiBub2cgZWVuIGtlZXIgb3BnZWRlZWxkIGluIDEwIGdyb2VwamVzIHZhbiB0ZWxrZW5zIDEwIHNvbGRhdGVuIGRpZSBzYW1lbiBlZW4ga2xlaW5lIHRlbnQgbW9lc3RlbiBkZWxlbiB3YWFyaW4gemUga29uZGVuIG92ZXJuYWNodGVuLiBEZXJnZWxpamsgdGVudGVuIHdhcmVuIG9uZ2V2ZWVyIDQgYmlqIDMgbWV0ZXIuIERlIHJlZGVuIGhpZXJ2b29yIHdhcyBkYXQgemUgb213aWxsZSB2YW4gaHVuIGdyb290dGUgbWFra2VsaWprIHRlIHZlcnZvZXJlbiB3YXJlbi4gRGV6ZSBncm9lcGplcyB3ZXJkZW4gY29udHVyYmVybml1bSBnZW5vZW1kLiBFbGsgY29udHVyYmVybml1bSBiZXNjaGlrdGUgb3ZlciBlZW4gbXVpbGV6ZWwgZGllIGRlIHNvbGRhdGVuIGhpZWxwIGJpaiBoZXQgdmVydm9lcmVuIHZhbiBodW4gZ29lZGVyZW4uXG4gICAgICBIZXQgbGVnaW9lbiBiZXZhdHRlIG5hYXN0IHJlZWRzIHZlcm1lbGRlIHJhbmdlbiBub2cgYW5kZXJlIHBlcnNvbmVuIGRpZSBlZW4gc3BlY2lmaWVrZSB0YWFrIHVpdHZvZXJkZW4uXG4gICAgPC9wPlxuXG4gICAgPHA+XG4gICAgICBFZW4gYXF1aWxpZmVyICg9IHN0YW5kYWFyZGRyYWdlcikga3JlZWcgZGUgdGFhayBvbSBtZXQgaGV0IFJvbWVpbnNlIGVtYmxlZW0gdmFuIGVlbiBhcXVpbGEgKD0gYXJlbmQpIGhldCBsZWdpb2VuIHZvb3JhZiB0ZSBnYWFuIGVuIHN0b25kIGFhbiBoZXQgaG9vZmQgdmFuIGFsbGUgYW5kZXJlIHZlbGR0ZWtlbmRyYWdlcnMuXG4gICAgICBJbiBlZW4gbGVnaW9lbiB3YXJlbiBlciBvb2sgYmFra2Vycywgc21lZGVuLCBkb2t0ZXIsIOKAplxuICAgICAgPHAvPlxuICAgICAgRWVuIGxlZ2lvZW4ga29uIGR1cyB6b25kZXIgZW5pZyBwcm9ibGVlbSBlbmtlbGUgbWFhbmRlbiByb25kdHJla2tlbiBkb29yIGRlIGdyb3RlIHZvb3JyYWFkIHZhbiBkaW5nZW4gZGllIHplIG1lZXNsZXVyZGUgdGlqZGVucyBodW4gdG9jaHQgZW4gaGV0IGdyb290IGFhbmJvZCB2YW4gYXNzaXN0ZW50ZW4uXG4gICAgPC9wPlxuXG4gICAgPGgzPkRlIGh1bHB0cm9lcGVuPC9oMz5cbiAgICA8cD5cbiAgICAgIE5hYXN0IGxlZ2lvZW5lbiBtYWFrdGUgZGUgUm9tZWluZW4gb29rIHZlZWx2dWxkaWcgZ2VicnVpayB2YW4gZGUgYXV4aWxpYSAoPSBodWxwdHJvZXBlbikuIERhYXJ0b2UgYmVob29yZGVuIGRlIHNvbGRhdGVuIGRpZSBuaWV0IGRlIHN0YXR1cyBoYWRkZW4gdmFuIFJvbWVpbnNlIHN0YWF0c2J1cmdlciBkb29yZGF0IHplIGFma29tc3RpZyB3YXJlbiB1aXQgYW5kZXJlIHZvbGtlcmVuLiBPbXdpbGxlIHZhbiBodW4gYW5kZXJlIGFma29tc3Qga3JlZ2VuIHplIG1hYXIgMS8zIHZhbiBoZXQgbG9vbiB2YW4gZWVuIGxlZ2lvbmFyaXVzLlxuICAgICAgPHAvPlxuICAgICAgSHVuIHZvb3JuYWFtc3RlIGZ1bmN0aWUgd2FzIG9tIGRlIGxlZ2lvZW5lbiB0ZSBoZWxwZW4gZW4gb20gZGUgZ3JlbnplbiB0ZSBiZXdha2VuIGVuIHRlIHZlcmRlZGlnZW4uIERlemUgdGFrZW4gbW9lc3RlbiB6ZSB1aXR2b2VyZW4gb25kZXIgYmV2ZWwgdmFuIHByYWVmZWN0aSAoPSBSb21laW5zZSBvZmZpY2llcmVuKS4gQWxzIGVlbiBhdXhpbGlhcml1cyAoPSBlZW4gc29sZGFhdCB2YW4gZGUgaHVscHRyb2VwZW4pIGVlbiBkaWVuc3R0ZXJtaWpuIHZhbiAyNSBqYWFyIGhhZCBhZmdlc2xvdGVuLCBrcmVlZyBoaWogZW4gemlqbiBnZXppbiB2YW5hZiBkYXQgbW9tZW50IGRlIHN0YXR1cyB2YW4gZWVuIFJvbWVpbnMgc3RhYXRzYnVyZ2VyLiBEZSB6b25lbiB2YW4gZWVuIGV4LWF1eGlsaWFyaXVzIGdpbmdlbiBhbHMgbGVnaW9uYXJpdXMgd2Vya2VuIHdhdCBoZW4gZGUga2FucyBnYWYgb20gbWVlciB0ZSB2ZXJkaWVuZW4gZGFuIGh1biB2YWRlci4gRGUgZXgtYXV4aWxpYXJpdXMgemVsZiBuYW0gZGUgbmFhbSB2YW4gZGUgcmVnZXJlbmRlIGtlaXplciBhYW4uXG4gICAgICA8cC8+XG4gICAgICBOZXQgem9hbHMgZGUgbGVnaW9lbmVuIHppam4gZXIgdmVyc2NoaWxsZW5kZSBvbmRlcmRlbGVuIGJpbm5lbiBkZSBodWxwdHJvZXBlbiB6b2FsczogZGUgZXF1aXRhdHVzICg9IHJ1aXRlcnMpLCBkZSBzYWdpdHRhcmlpICg9IGJvb2dzY2h1dHRlcnMpIGVuIGRlIGZ1bmRpdG9yZXMgKD0gc2xpbmdlcmFhcnMpLiBFbGtlIHNvbGRhYXQgYmlubmVuIGRlIGh1bHB0cm9lcGVuIGtyZWVnIGVlbiBiaWpwYXNzZW5kIHdhcGVuIGFmaGFua2VsaWprIHRvdCB3ZWxrZSBncm9lcCBoaWogYmVob29yZGUuXG4gICAgPC9wPlxuXG4gICAgPHA+XG4gICAgICA8dGFibGUgY2xhc3M9XCJvbmRlcnZlcmRlbGluZy10YWJsZVwiPlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoPmdyb2VwZW48L3RoPlxuICAgICAgICAgICAgPHRoPmxlZ2lvZW5lbjwvdGg+XG4gICAgICAgICAgICA8dGg+aHVscHRyb2VwZW48L3RoPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+YmVsYW5ncmlqa3N0ZSBvbmRlcmRlbGVuPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgIGNvaG9ydGVuPGJyLz5cbiAgICAgICAgICAgICAgbWFuaXBlbHM8YnIvPlxuICAgICAgICAgICAgICBjZW50dXJpYTxici8+XG4gICAgICAgICAgICAgIGNvbnR1cmJlcm5pdW1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIHNhZ2l0dGFyaWk8YnIvPlxuICAgICAgICAgICAgZXF1aXRhdHVzPGJyLz5cbiAgICAgICAgICAgIGZ1bmRpdG9yZXNcbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPmFhbnRhbDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgMSBjb2hvcnQgPSDCsSA2MDA8YnIvPlxuICAgICAgICAgICAgMSBtYW5pcGVsID0gwrEgMjAwPGJyLz5cbiAgICAgICAgICAgIDEgY2VudHVyaWEgPSDCsSAxMDA8YnIvPlxuICAgICAgICAgICAgMSBjb250dXJiZXJuaXVtID0gwrEgMTBcbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIGFhbnRhbCBpcyBvbmR1aWRlbGlqa1xuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGQ+bGVpZGVyczwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgbGVnaW9lbiAtLSZndDsgbGVnYXR1c1xuICAgICAgICAgICAgY2VudHVyaWEgLS0mZ3Q7IGNlbnR1cmlvXG4gICAgICAgICAgICB6ZWVyIGVydmFyZW4gY2VudHVyaW8gLS0mZ3Q7ICBwcmFlZmVjdHVzIGNhc3Ryb3J1bVxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkPkh1bHB0cm9lcGVuIC0tJmd0OyBwcmFlZmVjdGk8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPnN0YXR1czwvdGQ+XG4gICAgICAgICAgPHRkPlJvbWVpbnMgc3RhYXRzYnVyZ2VyPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICBnZWVuIFJvbWVpbnMgc3RhYXRzYnVyZ2VyLiBBZmtvbXN0aWcgdmFuIGFuZGVyZSB2b2xrZXJlblxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICA8L3RhYmxlPlxuICAgIDwvcD5cblxuXG4gICAgPGgzPlZlcmdlbGlqa2luZzwvaDM+XG4gICAgPHA+XG4gICAgICBBbHMgd2UgZGUgb25kZXJ2ZXJkZWxpbmcgYmlqIGRlIFJvbWVpbmVuIHZlcmdlbGlqa2VuIG1ldCBkZSBvbnplIGRhbiBtZXJrZW4gd2Ugb3AgZGF0IGRlIHN0cnVjdHV1ciB2b29yIGVlbiBncm9vdCBkZWVsIGJld2FhcmQgaXMgZ2VibGV2ZW4uIFRvY2gga3VubmVuIHdlIHN0ZWxsZW4gZGF0IGhldCBodWlkaWdlIHN5c3RlZW0gbWVlciBvbmRlcnZlcmRlbGluZ2VuIGhlZWZ0IGVuIGRhdCBkZSBuYW1lbiBvb2sgc3RlZWRzIGdld2lqemlnZCB6aWpuLiBabyBpcyBpbiAyMDE3IGRlIGdlbmVyYWFsIGRlIGxlaWRlciB2YW4gaGV0IGxlZ2VyIGVuIHZyb2VnZXIgc3ByYWsgbWVuIG92ZXIgbGVnYXR1cyBkaWUgZGUgbGVpZGluZyBoYWQgb3ZlciBoZXQgbGVnaW9lbi5cbiAgICA8L3A+XG5cbiAgPC9hcnRpY2xlPlxuICApO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9vbmRlcnZlcmRlbGluZy5qc3giLCJleHBvcnQgY29uc3QgVmVsZHNsYWdlbiA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgPGFydGljbGU+XG4gICAgPGgyPlZlbGRzbGFnZW4gZW4gb29ybG9nZW48L2gyPlxuICAgIDxwPlxuICAgICAgRGUgUm9tZWluZW4gaGViYmVuIGRvb3JoZWVuIGh1biBsYW5nZSBiZXN0YWFuIGluIHZlbGUgZGVsZW4gdmFuIGRlIHdlcmVsZCBnZXZvY2h0ZW4gdGVnZW4gdmVyc2NoaWxsZW5kZSByaWprZW4sIHN0YWRzdGF0ZW4sIGhhbmRlbHNuYXRpZXMgZW4gYmFyYmFhcnNlIHN0YW1tZW4gYWFuZ2V6aWVuIHplIHN0ZWVkcyBtZWVyIGdyb25kZ2ViaWVkIHdpbGRlbiB2ZXJvdmVyZW4uIEhvZXdlbCB2ZWxlbiBoaWVydmFuIHdlcmRlbiBnZXdvbm5lbiBkYW5remlqIGh1biBkb29yZGFjaHRlIHRhY3RpZWtlbiBlbiBpanplcnN0ZXJrZSBkaXNjaXBsaW5lLCB3YXJlbiBlciBvb2sgendhcmUgbmVkZXJsYWdlbiBiaWogem9hbHM6IGRlIHNsYWcgYmlqIGhldCBUZXV0b2J1cmdlcndvdWQsIGRlIHNsYWcgYmlqIENhbm5hZSBlbiBkZSBzbGFnIGJpaiBBZHJpYW5vcG9saXMuIERvb3IgZGV6ZSBuZWRlcmxhZ2VuIHNjaGFhZmRlbiB6ZSBodW4gdGFjdGlla2VuIGJpaiBvbSBkZXplbGZkZSBmb3V0ZW4gbmlldCBub2cgZWVucyB0ZSBtYWtlbi5cbiAgICA8L3A+XG4gICAgPGgzPkRlIHNsYWcgYmlqIEFsZXNpYTwvaDM+XG4gICAgPHA+XG4gICAgICBEZSBzbGFnIGJpaiBBbGVzaWEgd2VyZCBnZXZvY2h0ZW4gdHVzc2VuIGRlIFJvbWVpbnNlIHRyb2VwZW4gdmFuIEp1bGl1cyBDYWVzYXIgZW4gZGUgQXZlcm5pc2NoZSB0cm9lcGVuIHZhbiBWZXJjaW5nZXRvcml4LiBEZXplIHNsYWcgd2FzIGRlIGJlc2xpc3NlbmRlIHNsYWcgaW4gZGUgc3RyaWpkIHR1c3NlbiBkZSBHYWxsacOrcnMgZW4gZGUgUm9tZWluZW4gZW4gaGV0IHdhcyB0ZXZlbnMgZWVuIHZhbiBkZSBncm9vdHN0ZSBvdmVyd2lubmluZ2VuIHZhbiBDYWVzYXIuIERlIHNsYWcgdm9uZCBwbGFhdHMgaW4gNTIgdi5DLiBiaWogaGV0IEdhbGxpc2NoZSBBbGVzaWEgcm9uZCBlZW4gdmVyc3Rlcmt0IGZvcnQgdmFuIGhldCB2b2xrIE1hbmR1YmlpLlxuICAgICAgSGV0IGZvcnQgdmFuIEFsZXNpYSB3YXMgZ2VsZWdlbiBib3Zlbm9wIGVlbiBoZXV2ZWwgd2FhciByaXZpZXJlbiBsYW5ncyBzdHJvb21kZW4uIENhZXNhciBnYWYgdmFuIGRlIG9tZ2V2aW5nIGVlbiB6ZWVyIGdvZWRlIGJlc2NocmlqdmluZyBpbiB6aWpuIENvbW1lbnRhcmlpIGRlIGJlbGxvIEdhbGxpY286IFwiSXBzdW0gZXJhdCBvcHBpZHVtIEFsZXNpYSBpbiBjb2xsZSBzdW1tbyBhZG1vZHVtIGVkaXRvIGxvY28sIHV0IG5pc2kgb2JzaWRpb25lIGV4cHVnbmFyaSBub24gcG9zc2UgdmlkZXJldHVyLiBDdWl1cyBjb2xsaXMgcmFkaWNlcyBkdW8gZHVhYnVzIGV4IHBhcnRpYnVzIGZsdW1pbmEgc3VibHVlYmFudC4gQW50ZSBpZCBvcHBpZHVtIHBsYW5pdGllcyBjaXJjaXRlciBtaWxsaWEgcGFzc3V1bSBJSUkgaW4gbG9uZ2l0dWRpbmUgcGF0ZWJhdDsgcmVsaXF1aXMgZXggb21uaWJ1cyBwYXJ0aWJ1cyBjb2xsZXMgbWVkaW9jcmkgaW50ZXJpZWN0byBzcGF0aW8gcGFyaSBhbHRpdHVkaW5pcyBmYXN0aWdpbyBvcHBpZHVtIGNpbmdlYmFudC5cIiBEaXQga2FuIG1lbiB2ZXJ0YWxlbiBhbHM6IOKAmERlIHZlc3RpbmcgQWxlc2lhIHplbGYgbGFnIG9wIGVlbiBoZXV2ZWx0b3AgZGllIGFhbnppZW5saWprIGJvdmVuIGRlIHZsYWt0ZSB1aXRzdGFrLCB6b2RhdCB6aWogb25pbm5lZW1iYWFyIHNjaGVlbiB0ZW56aWogZG9vciBibG9ra2FkZS4gRGUgdm9ldCB2YW4gZGllIGhldXZlbCB3b3JkdCBhYW4gdHdlZSB6aWpkZW4gYmVzcG9lbGQgZG9vciB3YXRlcmxvcGVuLlxuICAgICAgVsOzw7NyIGRlIHZlc3Rpbmcgc3RyZWt0ZSB6aWNoIGVlbiBvbmdldmVlciBkcmllIG1pamwgYnJlZGUgdmxha3RlIHVpdDsgYWFuIGFsIGRlIGFuZGVyZSB6aWpkZW4gb21yaW5nZGUgaGV1dmVscywgb3Aga29ydGUgYWZzdGFuZCB2YW4gZWxrYWFyIGdlbGVnZW4gZW4gbWV0IGdlbGlqa2UgdG9waG9vZ3RlLCBkZSB2ZXN0aW5nLuKAmVxuICAgICAgRG9vciBkZXplIHVpdHN0ZWtlbmRlIGxvY2F0aWUgd2FzIGhldCB6ZWVyIG1vZWlsaWprIG9tIGhldCBmb3J0IGluIHRlIG5lbWVuIGR1cyBiZXNsb290IENhZXNhciBvbSBoZXQgZm9ydCB0ZSBiZWxlZ2VyZW4gZG9vciBnZWJydWlrIHRlIG1ha2VuIHZhbiBlZW4gY2lyY3VtdmFsbGF0aWVsaW5pZSBvbSB6byBkZSB0cm9lcGVuIGVuIGRlIGJldm9sa2luZyB2YW4gQWxlc2lhIHVpdCB0ZSBob25nZXJlbi5cbiAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICBEZSBsaW5pZSBiZXN0b25kIHVpdCBtZWVyZGVyZSB2ZXJzdGV2aWdpbmdlbiBlbiB3YWxsZW4gbWV0IGVlbiB0b3RhbGUgbGVuZ3RlIHZhbiBvbmdldmVlciAxOGttLiBEZSB0YWN0aWVrIHZhbiBDYWVzYXIgYmxlZWsgemVlciBnb2VkIHRlIHdlcmtlbiBhYW5nZXppZW4gVmVyY2luZ2V0b3JpeCByYWRlbG9vcyB3YXMuXG4gICAgICAgIERlIGVuaWdlIG1vZ2VsaWpraGVpZCBkaWUgVmVyY2luZ2V0b3JpeCBub2cgaGFkIHdhcyBvbSBlZW4gZGVlbCB2YW4gZGUgR2FsbGlzY2hlIGNhdmFsZXJpZSB0ZSBkb2VuIG9udHNuYXBwZW4gZG9vciBlZW4gbm9nIG9udm9sdG9vaWQgZ2VkZWVsdGUgdmFuIGRlIGxpbmllIG9tIHZlcnN0ZXJraW5nIHRlIGhhbGVuLiBaaWogc2xhYWdkZW4gaW4gZGV6ZSBvcHpldCBlbiBicmFjaHRlbiBzdWNjZXN2b2wgZWVuIG9udHpldHRpbmdzbGVnZXIgb3AgZGUgYmVlbi4gQ2Flc2FyIGhhZCBlY2h0ZXIgYWFuIGFsbGUgbW9nZWxpamtlIHNjZW5hcmlv4oCZcyBnZWRhY2h0IGVuIGhpaiBoYWQgYmVzbG90ZW4gb20gZWVuIGNvbnRyYXZhbGxhdGllbGluaWUgdmFuIDIxIGtpbG9tZXRlciB0ZSBib3V3ZW4gcm9uZCBkZSBjaXJjdW12YWxsYXRpZWxpbmllLCB3YWFyZG9vciBkZSBSb21laW5lbiBsYW5ncyB0d2VlIHppamRlbiB0ZWdlbiBkZSBHYWxsaXNjaGUgYWFudmFsbGVuIGJlc2NoZXJtZCB3YXJlbi5cbiAgICAgICAgPGJyLz5cblxuICAgICAgICBFZW5tYWFsIGhldCBvbnR6ZXR0aW5nc2xlZ2VyIGJpaiBBbGVzaWEgd2FzIGFhbmdla29tZW4sIHdhcmVuIGhldCBlaWdlbmxpamsgZGUgUm9tZWluZW4gZGllIGJlbGVnZXJkIHdhcmVuIGFhbmdlemllbiB6ZSBpbmdlc2xvdGVuIHphdGVuIHR1c3NlbiB0d2VlIEdhbGxpc2NoZSBsZWdlcnMuIE9uZGVyIGxlaWRpbmcgdmFuIENvbW1pdXMgdmllbCBoZXQgb250emV0dGluZ3NsZWdlciBkZSBjb250cmF2YWxsYXRpZWxpbmllIGFhbi5cbiAgICAgICAgPGltZyBzcmM9XCIuL2ltYWdlcy9zaWVnZU9mQWxleGlhLmpwZ1wiIGNsYXNzPVwic2llZ2Utb2YtYWxleGlhLWltZ1wiIC8+XG4gICAgICAgICBUZWdlbGlqa2VydGlqZCBsaWV0IFZlcmNpbmdldG9yaXggemlqbiB0cm9lcGVuIGRlIGNpcmN1bXZhbGxhdGllbGluaWUgYWFudmFsbGVuLiBEZSBlZXJzdGUgZGFnIGhpZWxkZW4gZGUgUm9tZWluZW4gZ29lZCBzdGFuZCB0ZWdlbiBkZSBhYW52YWxsZW4gdmFuIGRlIEdhbGxpw6tycywgbWFhciBkZSBkYWFyIG9wdm9sZ2VuZGUgZGFnZW4gZ2luZ2VuIGJlcmdhZi4gWmUgd2VyZGVuIGdlZHdvbmdlbiBvbSBmb3J0ZW4gZW4ga2FtcGVuIGluIGRlIGNvbnRyYXZhbGxhdGllbGluaWUgb3AgdGUgZ2V2ZW4sIG1hYXIgR2FpdXMgcmVib25pdXMga29uIG1ldCBkZSBjYXZhbGVyaWUgdm9vcmtvbWVuIGRhdCBkZSBHYWxsacOrcnMgaGllciBnZWJydWlrIHZhbiBrb25kZW4gbWFrZW4uXG4gICAgICAgIE5hIG1hYW5kZW5sYW5nIHZlY2h0ZW4gYmVzbG9vdCBkZSBuZWVmIHZhbiBWZXJjaW5nZXRvcml4LCBWZXJjYXNzaXZlbGxhdW5vcywgb20gbWV0IDYwLjAwMCBtYW5zY2hhcHBlbiBkZSBSb21laW5zZSBzdGVsbGluZ2VuIGFhbiB0ZSB2YWxsZW4uIEhpaiBrb29zIGRlIHBsZWsgd2FhciBkZSBzdGVsbGluZ2VuIGhldCB6d2Frc3Qgd2FyZW4sIG5hbWVsaWprIHdhYXIgZGUgbGluaWVzIG9wIGRlemVsZmRlIHBsZWsgZWVuIHJpdmllciBrcnVpc3Rlbi4gVmVyY2luZ2V0b3JpeCBsaWV0IHZhbiBiaW5uZW51aXQgb3AgZGV6ZWxmZGUgcGxhYXRzIGVlbiBhYW52YWwgdWl0dm9lcmVuLCBtYWFyIENhZXNhciBoYWQgem92ZWVsIHZlcnRyb3V3ZW4gaW4gemlqbiB0cm9lcGVuIGRhdCBoaWogaGV0IGJldmVsIGdhZiBvbSBkZSBzdGVsbGluZ2VuIHRlIGJlaG91ZGVuLiBDYWVzYXIgbmFtIGVlbiBncm90ZSBnb2sgZG9vciBtZXQgNi4wMDAgbWFuc2NoYXBwZW4gZWVuIGxlZ2VyIHZhbiA2MC4wMDAgbWFuc2NoYXBwZW4gYWFuIHRlIHZhbGxlbiwgbWFhciBoaWogb3ZlcmRvbmRlcmRlIGRlIEdhbGxpw6tycyB6byBoYXJkIGRhdCB6ZSB6aWNoIGdlbm9vZHphYWt0IHZvZWxkZW4gb20gemljaCB0ZXJ1ZyB0ZSB0cmVra2VuLlxuICAgICAgPC9wPlxuXG4gICAgICA8cD5cbiAgICAgICAgSGllcm1lZSB3YXMgaGV0IGJlbGFuZ3JpamtzdGUgZW4gbWVlc3QgYmVzbGlzc2VuZGUgZ2V2ZWNodCBnZXN0cmVkZW4gd2Fhcm5hIGRlIHRyb2VwZW4gaW4gQWxlc2lhIHppY2ggb3ZlcmdhdmVuIGRvb3IgaG9uZ2Vyc25vb2QgZW4gZ2VicmVrIGFhbiBtYW5zY2hhcHBlbi5cbiAgICAgICAgUm9tZSB3YXMgZGUgZ3JvdGUgb3Zlcndpbm5hYXIgYmlqIGRlemUgc2xhZyBkaWUgZGUgYmFzaXMgdm9ybWRlIHZvb3IgaGV0IHZlcmRlciB2ZXJvdmVyZW4gdmFuIEdhbGxpw6sgZW4gQnJpdHRhbm5pw6suIERlIEdhbGxpc2NoZSBzb2xkYXRlbiB3ZXJkZW4gYWxzIHNsYXZlbiBtZWVnZW5vbWVuIGVuIHZlcmtvY2h0LiBWZXJjaW5nZXRvcml4IHdlcmQgdGV2ZW5zIGdldmFuZ2VuZ2Vub21lbiwgbWFhciBuaWV0IHZlcmtvY2h0IGFhbmdlemllbiBkZSBSb21laW5lbiBoZW0gd2lsZGVuIGhvdWRlbiBhbHMgdHJvZmVlLiBOYSBlZW4gcGFhciBqYWFyIHdlcmQgaGlqIHJpdHVlZWwgZ2V3dXJnZCB0aWpkZW5zIGVlbiB0cmlvbWZ0b2NodC5cbiAgICAgICAgRGUgZWxlbWVudGVuIGRpZSBkZSBSb21laW5lbiBkZSBvdmVyd2lubmluZyBoZWJiZW4gYmV6b3JnZCB6aWpuIHZvb3JhbCBiZXJ1c3Qgb3AgZGUgZ2Vlc3QuIENhZXNhciBoZWVmdCBzdGVlZHMgZGUgbW9yZWVsIGJpaiB6aWpuIHRyb2VwZW4gaG9vZyB3ZXRlbiB0ZSBob3VkZW4gaG9ld2VsIHplIHNvbXMgbmVkZXJsYWdlbiBsZWRlbi4gRGl0IHpvcmdkZSBlcnZvb3IgZGF0IGRlIHN0cmlqZGx1c3QgYmlqIGRlIHNvbGRhdGVuIGFhbndlemlnIGJsZWVmIGVuIHplIHN0ZWVkcyB2b2VsZGVuIGRhdCB6ZSBkZSBib3ZlbmhhbmQgaGFkZGVuIGluIGhldCBnZXZlY2h0LiBDYWVzYXIgbmFtIGhldCBtb3JlZWwgdmFuIHppam4gdHJvZXBlbiB6ZWVyIHNlcmlldXMgZW4gZ2luZyB6ZWxmcyB6byB2ZXIgZGF0IGhpaiBtZXQgaGVuIG1lZXN0cmVlZC4gSGV0IG1vcmVlbCB2YW4gemlqbiB0cm9lcGVuIGxhZyBhYW4gZGUgYmFzaXMgdmFuIGRlIGxhYXRzdGUgYmVsYW5ncmlqa2Ugc2xhZyBhYW5nZXppZW4gemUgaGV0IGdldmVjaHQgb25kZXJiZW1hbmQgbW9lc3RlbiBhYW5nYWFuLCBtYWFyIHVpdGVpbmRlbGlqayBoZWJiZW4gemUgZGUgb3Zlcndpbm5pbmcgYmVoYWFsZC4gRWVuIHR3ZWVkZSBwdW50IHdhYXJkb29yIHplIGRlemUgc2xhZyBoZWJiZW4gZ2V3b25uZW4sIGlzIGhldCBnb2VkIGRvb3JkYWNodGUgYWFudmFsc3BsYW4gdmFuIENhZXNhci4gWm8gaGFkIGhpaiBkZSBjb250cmF2YWxsYXRpZWxpbmllIHZvb3J6aWVuIHZvb3IgZWVuIGV2ZW50dWVsZSBhYW52YWwuIFdhcyBkZXplIGxpbmllIGVyIG5pZXQgZ2V3ZWVzdCwgaGFkZGVuIGRlIEdhbGxpw6tycyBkZXplIHZlbGRzbGFnIGdlZ2FyYW5kZWVyZCBnZXdvbm5lbiBkb29yIGh1biBncm90ZSBhYW50YWxsZW4uIENhZXNhciB3YXMgb29rIGRlZ2VuZSBkaWUgZWVuIHZlcnJhc3NpbmdzYWFudmFsIGhlZWZ0IGt1bm5lbiBhZndlbmRlbiBkb29yIGRlIHZyb3V3ZW4gZW4ga2luZGVyZW4gbmlldCB1aXQgQWxlc2lhIHRlIGxhdGVuIHZlcnRyZWtrZW4uIERlIEdhbGxpw6tycyB3aWxkZW4gaGVuIG5hbWVsaWprIGFscyBhZmxlaWRpbmcgZ2VicnVpa2VuIG9tIG9uZGVydHVzc2VuIGVlbiB2ZXJzdGV2aWdpbmcgYWFuIHRlIHZhbGxlbiwgbWFhciBkb29yIENhZXNhciB6aWpuIGJlc2x1aXQgb20gZGUgdnJvdXdlbiBlbiBraW5kZXJlbiBuaWV0IGJ1aXRlbiB0ZSBsYXRlbiBpcyBkZSBhYW52YWwgbmlldCBrdW5uZW4gZG9vcmdhYW4uIEhldCBlbmlnZSBuZWdhdGlldmUgcHVudCBkYXQgZ2VvcHRpbWFsaXNlZXJkIGhhZCBrdW5uZW4gd29yZGVuIGlzIGRlIGJvdXcgdmFuIGRlIGxpbmllcyBiaWogZGUgcml2aWVyZW4gYWFuZ2V6aWVuIGRpdCBoZXQgendha2tlIHB1bnQgd2FzIHZhbiBoZXQga2FtcC4gRGV6ZSBzbGFnIGlzIGVlbiBnb2VkIHZvb3JiZWVsZCB2YW4gZGUgUm9tZWluc2UgZGlzY2lwbGluZSBlbiBzdHJpamRsdXN0IGFhbmdlemllbiB6ZSBnZWVuIGVua2VsZSBncm90ZSBmb3V0IGhlYmJlbiBiZWdhYW4gZGllIHRvdCBlZW4gZXZlbnR1ZWVsIHZlcmxpZXMgaGFkIGt1bm5lbiBsaWpkZW4uXG4gICAgICA8L3A+XG5cbiAgICAgIDxoMz5EZSBzbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkPC9oMz5cbiAgICAgIDxwPlxuICAgICAgICBEZSBzbGFnIGJpaiBoZXQgVGV1dG9idXJnZXJ3b3VkIHdlcmQgZ2V2b2NodGVuIHR1c3NlbiBkZSBSb21laW5zZSB0cm9lcGVuIHZhbiBWYXJ1cyBlbiBkZSBHZXJtYWFuc2UgdHJvZXBlbiB2YW4gQXJtaW5pdXMuIERlemUgc2xhZyBsZWlkZGUgZWVuIHpldmVuamFyaWdlIG9vcmxvZyBpbiwgZGllIHVpdGVpbmRlbGlqayB0b3QgZ2V2b2xnIGhhZCBkYXQgZGUgUmlqbiB2b29yIGVlbiBwZXJpb2RlIHZhbiA0MDAgamFhciB3ZXJkIHZhc3RnZWxlZ2QgYWxzIGdyZW5zIHZhbiBoZXQgUm9tZWluc2UgUmlqay4gRGUgc2xhZyB2b25kIHBsYWF0cyBpbiA5IG4uQy4gbmFiaWogS2Fsa3JpZXNlIGRhdCBpbiBEdWl0c2xhbmQgaXMgZ2VsZWdlbi5cbiAgICAgICAgRGUgc2xhZyB3YXMgZWVuIHZhbiBkZSBncm9vdHN0ZSBuZWRlcmxhZ2VuIHVpdCBkZSBnZXNjaGllZGVuaXMgdmFuIGhldCBSb21laW5zZSBsZWdlci5cbiAgICAgIDwvcD5cblxuICAgICAgICA8cD5cbiAgICAgICAgICBEZSBSb21laW5lbiB3YXJlbiBuYW1lbGlqayBpbiBlZW4gbGlzdCBnZXRyYXB0IHZhbiBBcm1pbml1cywgZGUgbGVpZGVyIHZhbiBkZSBHZXJtYWFuc2Ugc3RhbW1lbi4gSGlqIGxpZXQgZG9vcmdldmVuIGRhdCBlciBlZW4gb3BzdGFuZCBhYW4gZGUgZ2FuZyB3YXMgdmFuIHZlcm92ZXJkZSBHZXJtYWFuc2Ugc3RhbW1lbi4gSGlqIHdpbGRlIGRlIFJvbWVpbmVuIG5hbWVsaWprIG5hYXIgZWVuIHZvb3IgaGVuIG9uYmVrZW5kIGdlYmllZCBsb2trZW4gem9kYXQgZGUgR2VybWFuZW4gZWVuIHN0cmF0ZWdpc2NoIHZvb3JkZWVsIGhhZGRlbi4gRGUgUm9tZWluc2UgYWFudm9lcmRlciBWYXJ1cyB3YXMgb3AgZGF0IG1vbWVudCBtZXQgemlqbiBsZWdlciBvcCB3ZWcgbmFhciBodW4gd2ludGVya2FtcGVuIHZvb3IgZGUgb3Brb21lbmRlIHdpbnRlci4gSGlqIGdlbG9vZmRlIGVjaHRlciBoZXQgbmVwYmVyaWNodCB2YW4gQXJtaW5pdXMgZW4gaGlqIHdlZWsgdmFuIHppam4gcm91dGUgYWYgZW4gZ2luZyBkb29yIGhldCBUZXV0b2J1cmdlcndvdWQgbmFhciBkZSB6b2dlemVnZGUgb3BzdGFuZC5cbiAgICAgICAgICA8YnIvPlxuICAgICAgICAgIFdhdCBoaWogZWNodGVyIG5pZXQgd2lzdCwgd2FzIGRhdCBoaWogb3BnZXdhY2h0IHdlcmQgZG9vciBlZW4gZ3Jvb3QgR2VybWFhbnMgbGVnZXIgZGF0IHppY2ggaW4gaGV0IGJvcyBoYWQgdmVyc3RvcHQgb20gZWVuIHZlcnJhc3NpbmdzYWFudmFsIHVpdCB0ZSB2b2VyZW4uIEhldCBUZXV0b2J1cmdlcndvdWQgd2FzIG9uZG9vcmRyaW5nYmFhciwgbWlzdGlnIGVuIHZvY2h0aWcsIGlldHMgd2F0IGRlIFJvbWVpbmVuIG5pZXQgZ2V3ZW5kIHdhcmVuIGFhbmdlemllbiB6aWogYWx0aWpkIG9wIHZsYWtrZSBlbiBvcGVuIHNsYWd2ZWxkZW4gc3RyZWRlbi4gRG9vciBoZXQgZ2VicmVrIGFhbiBvdmVyemljaHQgZW4gZGUgd2lsbGVrZXVyIHZhbiBkZSBHZXJtYW5lbiBoYWRkZW4gZGUgUm9tZWluZW4gdmFuYWYgaGV0IGJlZ2luIGVlbiBuYWRlZWwuIFplIGtvbmRlbiBuYW1lbGlqayBodW4gZ2VicnVpa2VsaWprZSB0YWN0aWVrZW4gbmlldCB1aXR2b2VyZW4gZG9vciBoZXQgZ2VicmVrIGFhbiBvcmdhbmlzYXRpZSBlbiBydWltdGUuIFRvZW4gbmEgZWVuIHBhYXIgZGFnZW4gZGUgUm9tZWluc2Ugb25kZXJnYW5nIG9uYWZ3ZW5kYmFhciBsZWVrLCBwbGVlZ2RlIFZhcnVzIHplbGZtb29yZC4gSGllcm1lZSB3YXMgaGV0IGxvdCB2YW4gemlqbiB0cm9lcGVuIG9vayBiZXplZ2VsZCBhYW5nZXppZW4gemUgZ2VlbiBsZWlkZXIgbWVlciBoYWRkZW4uIFZhbiBkZSAxOMKgMDAwIG1hbnNjaGFwcGVuIHNsYWFnZGVuIHNsZWNodHMgZW5rZWxlbiBlcmluIGFhbiBkZSB2aWphbmQgdGUgb250c25hcHBlbiBlbiBkZSBSb21laW5zZSB3aW50ZXJrYW1wZW4gYWFuIGRlIFJpam4gdGUgYmVyZWlrZW4uXG4gICAgICAgIDwvcD5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV1dG9idXJnZXJ3b3VkLWltZ1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXV0b2J1cmdlcndvdWQtaW1nLXR4dFwiPlVpdHppY2h0IHZhbiBoZXQgVGV1dG9idXJnZXJ3b3VkIGdlYmFzZWVyZCBvcCB0ZWtzdGVuIHZhbiBkZSBlZXJzdGUgZWV1dyBuLkMuPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHA+XG4gICAgICAgICAgRGV6ZSBzbGFnIGhhZCB0b3QgZ2V2b2xnIGRhdCBlciBlZW4gZWluZGUga3dhbSBhYW4gZGUgUm9tZWluc2UgZXhwYW5zaWUgaW4gTm9vcmQtRXVyb3BhLiBPb2sgaGFkIGtlaXplciBBdWd1c3R1cyBiZXNsb3RlbiBkYXQgdmFuYWYgdG9lbiBkZSBSaWpuIGRlIHZhc3RlIGdyZW5zIHpvdSB3b3JkZW4gdmFuIGhldCBJbXBlcml1bSBSb21hbnVtLlxuICAgICAgICA8L3A+XG5cbiAgICAgIDxwPlxuICAgICAgICBJbiBkZXplIHNsYWcgaXMgaGVlbCB3YXQgbWlzZ2Vsb3Blbiwgdm9vcmFsIG9wIGhldCB2bGFrIHZhbiBsZWlkZXJzY2hhcC4gR29lZCBsZWlkZXJzY2hhcCB2b3JtdCBkZSBiYXNpcyB2b29yIGVsa2Ugc2xhZyBhbHMgamUga2FucyB3aWx0IG1ha2VuIG9wIGRlIG92ZXJ3aW5uaW5nLiBWYXJ1cyB3YXMgaW4gZ2VlbiBlbmtlbCBvcHppY2h0IGVlbiBnb2VkZSBsZWlkZXIgaW4gZGV6ZSBzbGFnLiBIaWogbmFtIGlycmF0aW9uZWxlIGJlc2xpc3NpbmdlbiBlbiBkYWNodCBuaWV0IG5hIG92ZXIgZGUgZ2V2b2xnZW4gaGllcnZhbi5cbiAgICAgICAgSGV0IGJlZ29uIHJlZWRzIGJpaiBoZXQgbmlldCBuYWdhYW4gdmFuIGRlIGluZm9ybWF0aWUgZGllIGhpaiBoYWQgdmVya3JlZ2VuLiBIaWogdmVydHJvdXdkZSBibGluZCBvcCBkZSB2ZXJrcmVnZW4gaW5mb3JtYXRpZSBlbiBzdGlwcGVsZGUgbWV0ZWVuIGVlbiByb3V0ZSB1aXQuIEhpaiBoYWQgZWlnZW5saWprIGVlcnN0IGRlIHNpdHVhdGllIG1vZXRlbiBiZWtpamtlbiBlbiBldmVudHVlZWwgcnVpdGVycyB2b29yb3AgbW9ldGVuIHN0dXJlbiBvbSBuYSB0ZSBnYWFuIG9mIGVyIHdlbCBkZWdlbGlqayBlZW4gb3BzdGFuZCB3YXMuIEhpZXJtZWUgaGFkIGhpaiBoZXQgY29uZmxpY3Qga3VubmVuIHZlcm1pamRlbiBhYW5nZXppZW4gZGUgcnVpdGVycyBkYW4gaGFkZGVuIGdlemllbiBkYXQgZXIgZ2VlbiBvcHN0YW5kIHdhcy5cbiAgICAgICAgWmlqbiB0d2VlZGUgZ3JvdGUgZm91dCB3YXMgb20gaGV0IGxlZ2VyIHdpamQgZ2VzcHJlaWQgdGUgbGF0ZW4gbG9wZW4gaW4gZWVuIGdlYmllZCBkYXQgaGlqIG5pZXQga2VuZGUuIEhldCBsZWdlciB3YXMgbmFtZWxpamsgYWFuIGhldCBtYXJjaGVyZW4gbWV0IGVlbiBhZnN0YW5kIHZhbiAxNSBraWxvbWV0ZXIgdHVzc2VuIGRlIGVlcnN0ZSBlbiBkZSBsYWF0c3RlIHNvbGRhdGVuLiBIaWVyZG9vciBrb25kZW4gZGUgR2VybWFuZW4gbWV0IGh1biBncm90ZXJlIGFhbnRhbGxlbiBkZSBrbGVpbmUgZ3JvZXBqZXMgUm9tZWluZW4gem9uZGVyIGVuaWcgcHJvYmxlZW0gYWFudmFsbGVuLiBIYWQgaGlqIHppam4gbGVnZXIgY29tcGFjdCBsYXRlbiBtYXJjaGVyZW4sIGhhZGRlbiBkZSBSb21laW5lbiBub2cgZWVuIGhhYWxiYXJlIGthbnMgZ2VoYWQgb3AgZGUgb3Zlcndpbm5pbmcgaW4gaGV0IGdldmVjaHQgYWFuZ2V6aWVuIGRlIGxhYXRzdGUgdHJvZXBlbiBkYW4gc25lbCBrb25kZW4gYmlqc3ByaW5nZW4gb20gZGUgZWVyc3RlIHRlIGhlbHBlbi5cbiAgICAgICAgVGlqZGVucyBoZXQgZ2V2ZWNodCB6ZWxmIG5hbSBoaWogYWxsZWVuIG1hYXIgc2xlY2h0ZSBiZXNsaXNzaW5nZW4uIEhpaiBoYWQgd2VsIHZlZWwgdGVnZW5zbGFnIG1ldCBoZXQgd2VlciB3YWFyZG9vciBkZSBzY2h1dHRlcnMgaHVuIGJvZ2VuIG5pZXQga29uZGVuIGdlYnJ1aWtlbiBlbiBkZSBob3V0ZW4gc2NoaWxkZW4gdGUgendhYXIgd2VyZGVuIG9tIHRlIGRyYWdlbiBkb29yIGhldCBnZXdpY2h0IHZhbiBoZXQgd2F0ZXIgZGF0IGluIGhldCBob3V0IHdhcyBvcGdlc2xvcnB0LiBIaWogZ2FmIGhldCBvcmRlciBvbSBkb29yIHRlIG1hcmNoZXJlbiBuYWFyIGVlbiBvcGVuIHBsZWssIG1hYXIgYWFuZ2V6aWVuIGhpaiBoZXQgYm9zIG5pZXQga2VuZGUgd2lzdCBoaWogbmlldCBkYXQgZXIgZ2VlbiBvcGVuIHBsZWtrZW4gaW4gaHVuIG5hYmlqaGVpZCB3YXJlbi4gRGl0IHdhcyBlZW4gZm91dCBvcmRlciBhYW5nZXppZW4gaGlqIGRlIG9tZ2V2aW5nIG5pZXQga2VuZGUgZW4gZHVzIG9vayBuaWV0IHdpc3Qgd2FhciBlciB6aWNoIG5vZyBHZXJtYW5lbiBiZXZvbmRlbi4gSGlqIGhhZCB6aWpuIHBvc2l0aWUgbW9ldGVuIHZlcmRlZGlnZW4gb20gem8gZWVuIGJhc2lzIHByb2JlcmVuIG9wIHRlIHJpY2h0ZW4gYWFuZ2V6aWVuIGhldCBsZWdlciBoZXQga3dldHNiYWFyc3QgaXMgd2FubmVlciB6ZSB6aWNoIGFhbiBoZXQgdmVycGxhYXRzZW4gemlqbi5cbiAgICAgICAgVmFydXMgZ2FmIG9vayBnZWVuIHN0ZXVuIGFhbiB6aWpuIG1hbnNjaGFwcGVuIHdhYXJkb29yIGRlIHN0cmlqZGx1c3Qgd2VnIGdpbmcgZW4gdmVsZW4gaGV0IG51dCB2YW4gZGUgc3RyaWpkIG5pZXQgbWVlciB6YWdlbi4gRGUgTGVnYXR1cywgTnVtb25pdXMgVmFsYSwgdmFuIGVlbiB2YW4gemlqbiBkcmllIGxlZ2lvZW5lbiB3YXMgZWVuIHZhbiBkaWUgcGVyc29uZW4gZGllIGhldCBsZWlkZXJzY2hhcCB2YW4gVmFydXMgaW4gdHdpamZlbCB0cm9rIGVuIGRlIHZlcnp3YWt0ZSBtb3JlZWwgYWFudm9lbGRlLiBIaWogd2FzIGRhbiBvb2sgZGVnZW5lIGRpZSBzYW1lbiBtZXQgZGUgcnVpdGVycyB2bHVjaHR0ZSBlbiB6byBkZSB0cm9lcGVuIGluIGRlIHN0ZWVrIGxpZXQuIE1hYXIgdmVyIGt3YW0gaGlqIG5pZXQgYWFuZ2V6aWVuIGhpaiBpbiBoZXQgYm9zIHplbGYgbm9nIHdlcmQgYWZnZW1hYWt0IGRvb3IgZGUgcnVpdGVycyB2YW4gZGUgR2VybWFuZW4uIFpvbmRlciBkZSBzdGV1biB2YW4gZGUgcnVpdGVycyB3YXMgaGV0IGxlZ2VyIHZlcnp3YWt0IGVuIGR1cyBncmVwZW4gZGUgR2VybWFuZW4gaHVuIGthbnMuIFplIGJlZ29ubmVuIGJpam5hIGllZGVyZWVuIGdlbmFkZWxvb3MgYWYgdGUgc2xhY2h0ZW4uIFZhcnVzIHphZyBvcCBkYXQgb2dlbmJsaWsgaW4gZGF0IGhpaiB6d2FhciBoYWQgZ2VmYWFsZCBlbiBwbGVlZ2RlIGRhYXJvbSB6ZWxmbW9vcmQuXG4gICAgICA8L3A+XG5cbiAgICAgIDxoMz5WZXJnZWxpamtpbmc8L2gzPlxuICAgICAgPHA+XG4gICAgICAgIEhldCBpcyB6ZWVyIG1vZWlsaWprIG9tIGhldCBodWlkaWdlIGxlZ2VyIHRlIHZlcmdlbGlqa2VuIG1ldCBoZXQgUm9tZWluc2UgbGVnZXIgYWFuZ2V6aWVuIGVyIHppY2ggZWVuIHplZXIgZ3JvdGUgb250d2lra2VsaW5nIGhlZWZ0IHBsYWF0c2dldm9uZGVuIG9wIGhldCBnZWJpZWQgdmFuIHdldGVuc2NoYXBwZW4gZW4gdGVjaG5vbG9naWUuIFZyb2VnZXIgc3RyZWVkIG1lbiBtZXQgZWVuIHp3YWFyZCBlbiBlZW4gc2NoaWxkIGVuIGhhZCBqZSBhbHMgc3RldW4gZW5rZWwgcnVpdGVycy4gTnUgd29yZHQgZXIgZ2VzdHJlZGVuIHZhbm9wIGVlbiB6ZWVyIGdyb3RlIGFmc3RhbmQgYWFuZ2V6aWVuIG1lbiBtYWNoaW5lZ2V3ZXJlbiwgcGlzdG9sZW4sIGxhbmdlYWZzdGFuZHNyYWtrZXR0ZW4s4oCmIGdlYnJ1aWt0LiBFciB6aWpuIG51IG9vayB2ZWVsIG5pZXV3ZSBvbmRlcnN0ZXVuaW5nc21vZ2VsaWpraGVkZW4gem9hbHMgdGFua3MsIHNjaGVwZW4gZW4gdmxpZWd0dWlnZW4gd2FhcmRvb3IgZXIgZWVuIGhlbGVib2VsIG5pZXV3ZSB0YWN0aWVrZW4gbW9nZWxpamsgemlqbi5cbiAgICAgICAgRG9vciBhbCBkZXplIHZlcmFuZGVyaW5nZW4gaGVlZnQgbWVuIGRlIHRhY3RpZWtlbiBkaWUgbWVuIGdlYnJ1aWt0IG9vayBtb2V0ZW4gdmVyYW5kZXJlbi4gVnJvZWdlciBrb24gbWVuIGluIGVlbiBtYW4gb3AgbWFuIGdldmVjaHQgdGFjdGlla2VuIGdlYnJ1aWtlbiBkaWUgemVlciBlZmZlY3RpZWYgd2FyZW4gb3Aga29ydGUgYWZzdGFuZCBlbiBlZW4ga2xlaW4gc2xhZ3ZlbGQuIEFscyBtZW4gZGV6ZSB0ZWdlbndvb3JkaWcgem91IHVpdHZvZXJlbiwgem91ZGVuIGRlIHNvbGRhdGVuIHRlciBwbGFhdHNlIHdvcmRlbiBhZmdlbWFha3QuIERlIGhvZXZlZWxoZWlkIHNvbGRhdGVuIGRpZSBkYWFkd2Vya2VsaWprIHZlY2h0ZW4gaXMgb29rIHN0ZXJrIGFmZ2Vub21lbiBpbiB2ZXJnZWxpamtpbmcgbWV0IGhldCBSb21laW5zZSBsZWdlci4gVnJvZWdlciBzdHJlZWQgbWVuIG1ldCBsZWdlcnMgdmFuIHplZXIgZ3JvdGUgYWFudGFsbGVuLiBEZXplIGFhbnRhbGxlbiBrdW5uZW4gd2Ugb25zIHRlZ2Vud29vcmRpZyBuaWV0IG1lZXIgdm9vcnN0ZWxsZW4uXG4gICAgICAgIEVyIGdlYmV1cnQgbnUgdmVlbCBtZWVyIGFjaHRlciBkZSBzY2hlcm1lbiBvbSBkZSBzb2xkYXRlbiBkaWUgbW9ldGVuIHZlY2h0ZW4gdGUgaGVscGVuLiBabyB3b3JkdCBlciB2aWEgc2F0ZWxsaWV0ZW4gb2YgZHJvbmVzIGluZm9ybWF0aWUgdmVyemFtZWxkIG92ZXIgZGUgb21nZXZpbmcgd2FhcmluIGRlIHNvbGRhdGVuIHppY2ggYmV2aW5kZW4gZW4gZXZlbnR1ZWVsIHdhYXIgaHVuIHZpamFuZGVuIHNjaHVpbGVuLiBFZW4gc29sZGFhdCBoZWVmdCBudSBvb2sgZGUgbW9nZWxpamtoZWlkIG9tLCBtaXRzIGRlIGdvZWRrZXVyaW5nIHZhbiB6aWpuIGFhbnZvZXJkZXIsIGVlbiBsdWNodGFhbnZhbCBpbiB0ZSByb2VwZW4uXG4gICAgICAgIERlIGh1aWRpZ2UgdGFjdGlla2VuIGRyYWFpZW4gb29rIG5pZXQgbWVlciBhbGxlZW4gbWFhciByb25kIGhldCBtaWxpdGFpcmUgYXNwZWN0LCBtYWFyIG9vayByb25kIG9uZGVyIGFuZGVyZSBoZXQgZWNvbm9taXNjaGUuIEFscyBtZW4gemlqbiB2aWphbmQgZWNvbm9taXNjaCBrYW4gdmVyendha2tlbiB6YWwgZGV6ZSBvb2sgbWluZGVyIHdlZXJiYWFyIHppam4uXG4gICAgICA8L3A+XG5cbiAgICA8L2FydGljbGU+XG4gICk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ZlbGRzbGFnZW4uanN4IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX2ludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuXG52YXIgX2ludmFyaWFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnZhcmlhbnQpO1xuXG52YXIgX0xvY2F0aW9uVXRpbHMgPSByZXF1aXJlKCcuL0xvY2F0aW9uVXRpbHMnKTtcblxudmFyIF9QYXRoVXRpbHMgPSByZXF1aXJlKCcuL1BhdGhVdGlscycpO1xuXG52YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyID0gcmVxdWlyZSgnLi9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlcicpO1xuXG52YXIgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKTtcblxudmFyIF9ET01VdGlscyA9IHJlcXVpcmUoJy4vRE9NVXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFBvcFN0YXRlRXZlbnQgPSAncG9wc3RhdGUnO1xudmFyIEhhc2hDaGFuZ2VFdmVudCA9ICdoYXNoY2hhbmdlJztcblxudmFyIGdldEhpc3RvcnlTdGF0ZSA9IGZ1bmN0aW9uIGdldEhpc3RvcnlTdGF0ZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwge307XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJRSAxMSBzb21ldGltZXMgdGhyb3dzIHdoZW4gYWNjZXNzaW5nIHdpbmRvdy5oaXN0b3J5LnN0YXRlXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdFRyYWluaW5nL2hpc3RvcnkvcHVsbC8yODlcbiAgICByZXR1cm4ge307XG4gIH1cbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgdXNlcyB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaW5jbHVkaW5nXG4gKiBwdXNoU3RhdGUsIHJlcGxhY2VTdGF0ZSwgYW5kIHRoZSBwb3BzdGF0ZSBldmVudC5cbiAqL1xudmFyIGNyZWF0ZUJyb3dzZXJIaXN0b3J5ID0gZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3RvcnkoKSB7XG4gIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgKDAsIF9pbnZhcmlhbnQyLmRlZmF1bHQpKF9ET01VdGlscy5jYW5Vc2VET00sICdCcm93c2VyIGhpc3RvcnkgbmVlZHMgYSBET00nKTtcblxuICB2YXIgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuICB2YXIgY2FuVXNlSGlzdG9yeSA9ICgwLCBfRE9NVXRpbHMuc3VwcG9ydHNIaXN0b3J5KSgpO1xuICB2YXIgbmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIgPSAhKDAsIF9ET01VdGlscy5zdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKSgpO1xuXG4gIHZhciBfcHJvcHMkZm9yY2VSZWZyZXNoID0gcHJvcHMuZm9yY2VSZWZyZXNoLFxuICAgICAgZm9yY2VSZWZyZXNoID0gX3Byb3BzJGZvcmNlUmVmcmVzaCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcHJvcHMkZm9yY2VSZWZyZXNoLFxuICAgICAgX3Byb3BzJGdldFVzZXJDb25maXJtID0gcHJvcHMuZ2V0VXNlckNvbmZpcm1hdGlvbixcbiAgICAgIGdldFVzZXJDb25maXJtYXRpb24gPSBfcHJvcHMkZ2V0VXNlckNvbmZpcm0gPT09IHVuZGVmaW5lZCA/IF9ET01VdGlscy5nZXRDb25maXJtYXRpb24gOiBfcHJvcHMkZ2V0VXNlckNvbmZpcm0sXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gcHJvcHMua2V5TGVuZ3RoLFxuICAgICAga2V5TGVuZ3RoID0gX3Byb3BzJGtleUxlbmd0aCA9PT0gdW5kZWZpbmVkID8gNiA6IF9wcm9wcyRrZXlMZW5ndGg7XG5cbiAgdmFyIGJhc2VuYW1lID0gcHJvcHMuYmFzZW5hbWUgPyAoMCwgX1BhdGhVdGlscy5zdHJpcFRyYWlsaW5nU2xhc2gpKCgwLCBfUGF0aFV0aWxzLmFkZExlYWRpbmdTbGFzaCkocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuXG4gIHZhciBnZXRET01Mb2NhdGlvbiA9IGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKGhpc3RvcnlTdGF0ZSkge1xuICAgIHZhciBfcmVmID0gaGlzdG9yeVN0YXRlIHx8IHt9LFxuICAgICAgICBrZXkgPSBfcmVmLmtleSxcbiAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXG4gICAgdmFyIF93aW5kb3ckbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG4gICAgICAgIHBhdGhuYW1lID0gX3dpbmRvdyRsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgc2VhcmNoID0gX3dpbmRvdyRsb2NhdGlvbi5zZWFyY2gsXG4gICAgICAgIGhhc2ggPSBfd2luZG93JGxvY2F0aW9uLmhhc2g7XG5cblxuICAgIHZhciBwYXRoID0gcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuXG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gKDAsIF9QYXRoVXRpbHMuc3RyaXBQcmVmaXgpKHBhdGgsIGJhc2VuYW1lKTtcblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgKDAsIF9QYXRoVXRpbHMucGFyc2VQYXRoKShwYXRoKSwge1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAga2V5OiBrZXlcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgY3JlYXRlS2V5ID0gZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwga2V5TGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgdHJhbnNpdGlvbk1hbmFnZXIgPSAoMCwgX2NyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyMi5kZWZhdWx0KSgpO1xuXG4gIHZhciBzZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKG5leHRTdGF0ZSkge1xuICAgIF9leHRlbmRzKGhpc3RvcnksIG5leHRTdGF0ZSk7XG5cbiAgICBoaXN0b3J5Lmxlbmd0aCA9IGdsb2JhbEhpc3RvcnkubGVuZ3RoO1xuXG4gICAgdHJhbnNpdGlvbk1hbmFnZXIubm90aWZ5TGlzdGVuZXJzKGhpc3RvcnkubG9jYXRpb24sIGhpc3RvcnkuYWN0aW9uKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlUG9wU3RhdGUgPSBmdW5jdGlvbiBoYW5kbGVQb3BTdGF0ZShldmVudCkge1xuICAgIC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG4gICAgaWYgKCgwLCBfRE9NVXRpbHMuaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCkoZXZlbnQpKSByZXR1cm47XG5cbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgfTtcblxuICB2YXIgaGFuZGxlSGFzaENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgaGFuZGxlUG9wKGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKSk7XG4gIH07XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuXG4gIHZhciBoYW5kbGVQb3AgPSBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcblxuICAgICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgc2V0U3RhdGUoeyBhY3Rpb246IGFjdGlvbiwgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmV2ZXJ0UG9wID0gZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcblxuICAgIC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2Yga2V5cyB3ZSd2ZSBzZWVuIGluIHNlc3Npb25TdG9yYWdlLlxuICAgIC8vIEluc3RlYWQsIHdlIGp1c3QgZGVmYXVsdCB0byAwIGZvciBrZXlzIHdlIGRvbid0IGtub3cuXG5cbiAgICB2YXIgdG9JbmRleCA9IGFsbEtleXMuaW5kZXhPZih0b0xvY2F0aW9uLmtleSk7XG5cbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuXG4gICAgdmFyIGZyb21JbmRleCA9IGFsbEtleXMuaW5kZXhPZihmcm9tTG9jYXRpb24ua2V5KTtcblxuICAgIGlmIChmcm9tSW5kZXggPT09IC0xKSBmcm9tSW5kZXggPSAwO1xuXG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcblxuICAgIGlmIChkZWx0YSkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcbiAgICAgIGdvKGRlbHRhKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGluaXRpYWxMb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKGdldEhpc3RvcnlTdGF0ZSgpKTtcbiAgdmFyIGFsbEtleXMgPSBbaW5pdGlhbExvY2F0aW9uLmtleV07XG5cbiAgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBiYXNlbmFtZSArICgwLCBfUGF0aFV0aWxzLmNyZWF0ZVBhdGgpKGxvY2F0aW9uKTtcbiAgfTtcblxuICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9ICgwLCBfTG9jYXRpb25VdGlscy5jcmVhdGVMb2NhdGlvbikocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoeyBrZXk6IGtleSwgc3RhdGU6IHN0YXRlIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgdmFyIG5leHRLZXlzID0gYWxsS2V5cy5zbGljZSgwLCBwcmV2SW5kZXggPT09IC0xID8gMCA6IHByZXZJbmRleCArIDEpO1xuXG4gICAgICAgICAgbmV4dEtleXMucHVzaChsb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGFsbEtleXMgPSBuZXh0S2V5cztcblxuICAgICAgICAgIHNldFN0YXRlKHsgYWN0aW9uOiBhY3Rpb24sIGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCBwdXNoIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpO1xuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gaHJlZjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgcmVwbGFjZSA9IGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKCEoKHR5cGVvZiBwYXRoID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihwYXRoKSkgPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJyk7XG5cbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9ICgwLCBfTG9jYXRpb25VdGlscy5jcmVhdGVMb2NhdGlvbikocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcblxuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG5cbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cblxuICAgICAgaWYgKGNhblVzZUhpc3RvcnkpIHtcbiAgICAgICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoeyBrZXk6IGtleSwgc3RhdGU6IHN0YXRlIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGhpc3RvcnkubG9jYXRpb24ua2V5KTtcblxuICAgICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxLZXlzW3ByZXZJbmRleF0gPSBsb2NhdGlvbi5rZXk7XG5cbiAgICAgICAgICBzZXRTdGF0ZSh7IGFjdGlvbjogYWN0aW9uLCBsb2NhdGlvbjogbG9jYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfd2FybmluZzIuZGVmYXVsdCkoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKTtcblxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ28gPSBmdW5jdGlvbiBnbyhuKSB7XG4gICAgZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgfTtcblxuICB2YXIgZ29CYWNrID0gZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIHJldHVybiBnbygtMSk7XG4gIH07XG5cbiAgdmFyIGdvRm9yd2FyZCA9IGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICByZXR1cm4gZ28oMSk7XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwO1xuXG4gIHZhciBjaGVja0RPTUxpc3RlbmVycyA9IGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XG4gICAgbGlzdGVuZXJDb3VudCArPSBkZWx0YTtcblxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxKSB7XG4gICAgICAoMCwgX0RPTVV0aWxzLmFkZEV2ZW50TGlzdGVuZXIpKHdpbmRvdywgUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuXG4gICAgICBpZiAobmVlZHNIYXNoQ2hhbmdlTGlzdGVuZXIpICgwLCBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcikod2luZG93LCBIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAobGlzdGVuZXJDb3VudCA9PT0gMCkge1xuICAgICAgKDAsIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKSh3aW5kb3csIFBvcFN0YXRlRXZlbnQsIGhhbmRsZVBvcFN0YXRlKTtcblxuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSAoMCwgX0RPTVV0aWxzLnJlbW92ZUV2ZW50TGlzdGVuZXIpKHdpbmRvdywgSGFzaENoYW5nZUV2ZW50LCBoYW5kbGVIYXNoQ2hhbmdlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIHZhciBibG9jayA9IGZ1bmN0aW9uIGJsb2NrKCkge1xuICAgIHZhciBwcm9tcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlO1xuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBsaXN0ZW4gPSBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICB2YXIgdW5saXN0ZW4gPSB0cmFuc2l0aW9uTWFuYWdlci5hcHBlbmRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZ2xvYmFsSGlzdG9yeS5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogaW5pdGlhbExvY2F0aW9uLFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYsXG4gICAgcHVzaDogcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlLFxuICAgIGdvOiBnbyxcbiAgICBnb0JhY2s6IGdvQmFjayxcbiAgICBnb0ZvcndhcmQ6IGdvRm9yd2FyZCxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcblxuICByZXR1cm4gaGlzdG9yeTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9oaXN0b3J5L2NyZWF0ZUJyb3dzZXJIaXN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGlzdCcpLmRlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IEluZmVybm8gZnJvbSAnaW5mZXJubyc7XG5pbXBvcnQgeyBSb3V0ZXIsIFJvdXRlLCBJbmRleFJvdXRlLCBMaW5rLCBJbmRleExpbmsgfSBmcm9tICdpbmZlcm5vLXJvdXRlcic7XG5pbXBvcnQgY3JlYXRlQnJvd3Nlckhpc3RvcnkgZnJvbSAnaGlzdG9yeS9jcmVhdGVCcm93c2VySGlzdG9yeSc7XG5pbXBvcnQgJy4vbWFpbi5sZXNzJztcbmltcG9ydCB7SW5sZWlkaW5nfSBmcm9tICcuL2lubGVpZGluZyc7XG5pbXBvcnQge09uZGVydmVyZGVsaW5nfSBmcm9tICcuL29uZGVydmVyZGVsaW5nJztcbmltcG9ydCB7QmV3YXBlbmluZ30gZnJvbSAnLi9iZXdhcGVuaW5nJztcbmltcG9ydCB7VmVsZHNsYWdlbn0gZnJvbSAnLi92ZWxkc2xhZ2VuJztcbmltcG9ydCB7QmVzbHVpdH0gZnJvbSAnLi9iZXNsdWl0JztcbmltcG9ydCB7QnJvbm5lbn0gZnJvbSAnLi9icm9ubmVuJztcblxuY29uc3QgYnJvd3Nlckhpc3RvcnkgPSBjcmVhdGVCcm93c2VySGlzdG9yeSgpO1xuXG5cbmZ1bmN0aW9uIEFwcCh7IGNoaWxkcmVuIH0pIHtcbiAgcmV0dXJuIChcbiAgPGRpdiBjbGFzcz1cInBhZ2VcIj5cbiAgICA8aGVhZGVyPlxuICAgICAgPGgxPkhldCBSb21laW5zZSBMZWdlcjwvaDE+XG4gICAgICA8bmF2PlxuICAgICAgICA8dWw+XG4gICAgICAgICAgPGxpPjxJbmRleExpbmsgYWN0aXZlQ2xhc3NOYW1lPVwibGlua0FjdGl2ZUNsYXNzXCIgPklubGVpZGluZzwvSW5kZXhMaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL29uZGVydmVyZGVsaW5nJ30gYWN0aXZlQ2xhc3NOYW1lPVwibGlua0FjdGl2ZUNsYXNzXCIgPm9uZGVydmVyZGVsaW5nPC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL2Jld2FwZW5pbmcnfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+YmV3YXBlbmluZzwvTGluaz48L2xpPlxuICAgICAgICAgIDxsaT48TGluayB0bz17Jy92ZWxkc2xhZ2VuJ30gYWN0aXZlQ2xhc3NOYW1lPVwibGlua0FjdGl2ZUNsYXNzXCIgPnZlbGRzbGFnZW48L0xpbms+PC9saT5cbiAgICAgICAgICA8bGk+PExpbmsgdG89eycvYmVzbHVpdCd9IGFjdGl2ZUNsYXNzTmFtZT1cImxpbmtBY3RpdmVDbGFzc1wiID5iZXNsdWl0PC9MaW5rPjwvbGk+XG4gICAgICAgICAgPGxpPjxMaW5rIHRvPXsnL2Jyb25uZW4nfSBhY3RpdmVDbGFzc05hbWU9XCJsaW5rQWN0aXZlQ2xhc3NcIiA+YnJvbm5lbjwvTGluaz48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9uYXY+XG4gICAgPC9oZWFkZXI+XG5cbiAgICA8c2VjdGlvbiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L3NlY3Rpb24+XG5cbiAgICA8Zm9vdGVyPlxuICAgICAgPHNwYW4+bWVpIDIwMTc8L3NwYW4+XG4gICAgICA8c3Bhbj5Lb3NoIDZMV2liPC9zcGFuPlxuICAgICAgPHNwYW4+QXF1aWxhIFppZWRpbnMgKDYpLCBUb2JpYXMgQWxleGFuZGVyICgxKTwvc3Bhbj5cbiAgICA8L2Zvb3Rlcj5cbiAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIE5vTWF0Y2goeyBjaGlsZHJlbiB9KSB7XG4gIHJldHVybiA8ZGl2PkhpZXIgYmVudCB1IHVpdCBoZXQgUm9tZWluc2UgcmlqazwvZGl2PlxufVxuXG5jb25zdCByb3V0ZXMgPSAoXG4gIDxSb3V0ZXIgaGlzdG9yeT17IGJyb3dzZXJIaXN0b3J5IH0+XG4gICAgPFJvdXRlIGNvbXBvbmVudD17IEFwcCB9PlxuICAgICAgPEluZGV4Um91dGUgY29tcG9uZW50PXsgSW5sZWlkaW5nIH0vPlxuICAgICAgPFJvdXRlIHBhdGg9XCJvbmRlcnZlcmRlbGluZ1wiIGNvbXBvbmVudD17IE9uZGVydmVyZGVsaW5nIH0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiYmV3YXBlbmluZ1wiIGNvbXBvbmVudD17IEJld2FwZW5pbmcgfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCJ2ZWxkc2xhZ2VuXCIgY29tcG9uZW50PXsgVmVsZHNsYWdlbiB9IC8+XG4gICAgICA8Um91dGUgcGF0aD1cImJlc2x1aXRcIiBjb21wb25lbnQ9eyBCZXNsdWl0IH0gLz5cbiAgICAgIDxSb3V0ZSBwYXRoPVwiYnJvbm5lblwiIGNvbXBvbmVudD17IEJyb25uZW4gfSAvPlxuICAgICAgPFJvdXRlIHBhdGg9XCIqXCIgY29tcG9uZW50PXsgTm9NYXRjaCB9Lz5cbiAgICA8L1JvdXRlPlxuICA8L1JvdXRlcj5cbik7XG5cbkluZmVybm8ucmVuZGVyKHJvdXRlcywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKTtcblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWFpbi5qc3giLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG52YXIgY2FuVXNlRE9NID0gZXhwb3J0cy5jYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG52YXIgYWRkRXZlbnRMaXN0ZW5lciA9IGV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIobm9kZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBub2RlLmFkZEV2ZW50TGlzdGVuZXIgPyBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSkgOiBub2RlLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xufTtcblxudmFyIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSBleHBvcnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICByZXR1cm4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyID8gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpIDogbm9kZS5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbn07XG5cbnZhciBnZXRDb25maXJtYXRpb24gPSBleHBvcnRzLmdldENvbmZpcm1hdGlvbiA9IGZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICByZXR1cm4gY2FsbGJhY2sod2luZG93LmNvbmZpcm0obWVzc2FnZSkpO1xufTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1hbGVydFxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaXMgc3VwcG9ydGVkLiBUYWtlbiBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvaGlzdG9yeS5qc1xuICogY2hhbmdlZCB0byBhdm9pZCBmYWxzZSBuZWdhdGl2ZXMgZm9yIFdpbmRvd3MgUGhvbmVzOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWFjdC1yb3V0ZXIvaXNzdWVzLzU4NlxuICovXG52YXIgc3VwcG9ydHNIaXN0b3J5ID0gZXhwb3J0cy5zdXBwb3J0c0hpc3RvcnkgPSBmdW5jdGlvbiBzdXBwb3J0c0hpc3RvcnkoKSB7XG4gIHZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gIGlmICgodWEuaW5kZXhPZignQW5kcm9pZCAyLicpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdBbmRyb2lkIDQuMCcpICE9PSAtMSkgJiYgdWEuaW5kZXhPZignTW9iaWxlIFNhZmFyaScpICE9PSAtMSAmJiB1YS5pbmRleE9mKCdDaHJvbWUnKSA9PT0gLTEgJiYgdWEuaW5kZXhPZignV2luZG93cyBQaG9uZScpID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJyb3dzZXIgZmlyZXMgcG9wc3RhdGUgb24gaGFzaCBjaGFuZ2UuXG4gKiBJRTEwIGFuZCBJRTExIGRvIG5vdC5cbiAqL1xudmFyIHN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBleHBvcnRzLnN1cHBvcnRzUG9wU3RhdGVPbkhhc2hDaGFuZ2UgPSBmdW5jdGlvbiBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG52YXIgc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2ggPSBleHBvcnRzLnN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoID0gZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBnaXZlbiBwb3BzdGF0ZSBldmVudCBpcyBhbiBleHRyYW5lb3VzIFdlYktpdCBldmVudC5cbiAqIEFjY291bnRzIGZvciB0aGUgZmFjdCB0aGF0IENocm9tZSBvbiBpT1MgZmlyZXMgcmVhbCBwb3BzdGF0ZSBldmVudHNcbiAqIGNvbnRhaW5pbmcgdW5kZWZpbmVkIHN0YXRlIHdoZW4gcHJlc3NpbmcgdGhlIGJhY2sgYnV0dG9uLlxuICovXG52YXIgaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCA9IGV4cG9ydHMuaXNFeHRyYW5lb3VzUG9wc3RhdGVFdmVudCA9IGZ1bmN0aW9uIGlzRXh0cmFuZW91c1BvcHN0YXRlRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIGV2ZW50LnN0YXRlID09PSB1bmRlZmluZWQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDcmlPUycpID09PSAtMTtcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2hpc3RvcnkvRE9NVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMubG9jYXRpb25zQXJlRXF1YWwgPSBleHBvcnRzLmNyZWF0ZUxvY2F0aW9uID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3Jlc29sdmVQYXRobmFtZSA9IHJlcXVpcmUoJ3Jlc29sdmUtcGF0aG5hbWUnKTtcblxudmFyIF9yZXNvbHZlUGF0aG5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzb2x2ZVBhdGhuYW1lKTtcblxudmFyIF92YWx1ZUVxdWFsID0gcmVxdWlyZSgndmFsdWUtZXF1YWwnKTtcblxudmFyIF92YWx1ZUVxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ZhbHVlRXF1YWwpO1xuXG52YXIgX1BhdGhVdGlscyA9IHJlcXVpcmUoJy4vUGF0aFV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBjcmVhdGVMb2NhdGlvbiA9IGV4cG9ydHMuY3JlYXRlTG9jYXRpb24gPSBmdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gVHdvLWFyZyBmb3JtOiBwdXNoKHBhdGgsIHN0YXRlKVxuICAgIGxvY2F0aW9uID0gKDAsIF9QYXRoVXRpbHMucGFyc2VQYXRoKShwYXRoKTtcbiAgICBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9IGVsc2Uge1xuICAgIC8vIE9uZS1hcmcgZm9ybTogcHVzaChsb2NhdGlvbilcbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBwYXRoKTtcblxuICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5wYXRobmFtZSA9ICcnO1xuXG4gICAgaWYgKGxvY2F0aW9uLnNlYXJjaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5jaGFyQXQoMCkgIT09ICc/JykgbG9jYXRpb24uc2VhcmNoID0gJz8nICsgbG9jYXRpb24uc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5zZWFyY2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgaWYgKGxvY2F0aW9uLmhhc2guY2hhckF0KDApICE9PSAnIycpIGxvY2F0aW9uLmhhc2ggPSAnIycgKyBsb2NhdGlvbi5oYXNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlICE9PSB1bmRlZmluZWQgJiYgbG9jYXRpb24uc3RhdGUgPT09IHVuZGVmaW5lZCkgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfVxuXG4gIGxvY2F0aW9uLmtleSA9IGtleTtcblxuICBpZiAoY3VycmVudExvY2F0aW9uKSB7XG4gICAgLy8gUmVzb2x2ZSBpbmNvbXBsZXRlL3JlbGF0aXZlIHBhdGhuYW1lIHJlbGF0aXZlIHRvIGN1cnJlbnQgbG9jYXRpb24uXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWU7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAoMCwgX3Jlc29sdmVQYXRobmFtZTIuZGVmYXVsdCkobG9jYXRpb24ucGF0aG5hbWUsIGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufTtcblxudmFyIGxvY2F0aW9uc0FyZUVxdWFsID0gZXhwb3J0cy5sb2NhdGlvbnNBcmVFcXVhbCA9IGZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmIGEuaGFzaCA9PT0gYi5oYXNoICYmIGEua2V5ID09PSBiLmtleSAmJiAoMCwgX3ZhbHVlRXF1YWwyLmRlZmF1bHQpKGEuc3RhdGUsIGIuc3RhdGUpO1xufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9Mb2NhdGlvblV0aWxzLmpzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIgPSBmdW5jdGlvbiBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcigpIHtcbiAgdmFyIHByb21wdCA9IG51bGw7XG5cbiAgdmFyIHNldFByb21wdCA9IGZ1bmN0aW9uIHNldFByb21wdChuZXh0UHJvbXB0KSB7XG4gICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShwcm9tcHQgPT0gbnVsbCwgJ0EgaGlzdG9yeSBzdXBwb3J0cyBvbmx5IG9uZSBwcm9tcHQgYXQgYSB0aW1lJyk7XG5cbiAgICBwcm9tcHQgPSBuZXh0UHJvbXB0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9tcHQgPT09IG5leHRQcm9tcHQpIHByb21wdCA9IG51bGw7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgY29uZmlybVRyYW5zaXRpb25UbyA9IGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiBJZiBhbm90aGVyIHRyYW5zaXRpb24gc3RhcnRzIHdoaWxlIHdlJ3JlIHN0aWxsIGNvbmZpcm1pbmdcbiAgICAvLyB0aGUgcHJldmlvdXMgb25lLCB3ZSBtYXkgZW5kIHVwIGluIGEgd2VpcmQgc3RhdGUuIEZpZ3VyZSBvdXQgdGhlXG4gICAgLy8gYmVzdCB3YXkgdG8gaGFuZGxlIHRoaXMuXG4gICAgaWYgKHByb21wdCAhPSBudWxsKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHlwZW9mIHByb21wdCA9PT0gJ2Z1bmN0aW9uJyA/IHByb21wdChsb2NhdGlvbiwgYWN0aW9uKSA6IHByb21wdDtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2V0VXNlckNvbmZpcm1hdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGdldFVzZXJDb25maXJtYXRpb24ocmVzdWx0LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKDAsIF93YXJuaW5nMi5kZWZhdWx0KShmYWxzZSwgJ0EgaGlzdG9yeSBuZWVkcyBhIGdldFVzZXJDb25maXJtYXRpb24gZnVuY3Rpb24gaW4gb3JkZXIgdG8gdXNlIGEgcHJvbXB0IG1lc3NhZ2UnKTtcblxuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgZnJvbSBhIHRyYW5zaXRpb24gaG9vayB0byBjYW5jZWwgdGhlIHRyYW5zaXRpb24uXG4gICAgICAgIGNhbGxiYWNrKHJlc3VsdCAhPT0gZmFsc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIHZhciBhcHBlbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFwcGVuZExpc3RlbmVyKGZuKSB7XG4gICAgdmFyIGlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgaWYgKGlzQWN0aXZlKSBmbi5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBub3RpZnlMaXN0ZW5lcnMgPSBmdW5jdGlvbiBub3RpZnlMaXN0ZW5lcnMoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gbGlzdGVuZXIuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHNldFByb21wdDogc2V0UHJvbXB0LFxuICAgIGNvbmZpcm1UcmFuc2l0aW9uVG86IGNvbmZpcm1UcmFuc2l0aW9uVG8sXG4gICAgYXBwZW5kTGlzdGVuZXI6IGFwcGVuZExpc3RlbmVyLFxuICAgIG5vdGlmeUxpc3RlbmVyczogbm90aWZ5TGlzdGVuZXJzXG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVUcmFuc2l0aW9uTWFuYWdlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaGlzdG9yeS9jcmVhdGVUcmFuc2l0aW9uTWFuYWdlci5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gTWFrZSBzdXJlIHUgdXNlIEVNUFRZX09CSiBmcm9tICdpbmZlcm5vJywgb3RoZXJ3aXNlIGl0J2xsIGJlIGEgZGlmZmVyZW50IHJlZmVyZW5jZVxyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgbm9PcCA9IGluZmVybm9fc2hhcmVkXzEuRVJST1JfTVNHO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgbm9PcCA9ICdJbmZlcm5vIEVycm9yOiBDYW4gb25seSB1cGRhdGUgYSBtb3VudGVkIG9yIG1vdW50aW5nIGNvbXBvbmVudC4gVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgc2V0U3RhdGUoKSBvciBmb3JjZVVwZGF0ZSgpIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuIFRoaXMgaXMgYSBuby1vcC4nO1xyXG59XHJcbnZhciBjb21wb25lbnRDYWxsYmFja1F1ZXVlID0gbmV3IE1hcCgpO1xyXG4vLyB3aGVuIGEgY29tcG9uZW50cyByb290IFZOb2RlIGlzIGFsc28gYSBjb21wb25lbnQsIHdlIGNhbiBydW4gaW50byBpc3N1ZXNcclxuLy8gdGhpcyB3aWxsIHJlY3Vyc2l2ZWx5IGxvb2sgZm9yIHZOb2RlLnBhcmVudE5vZGUgaWYgdGhlIFZOb2RlIGlzIGEgY29tcG9uZW50XHJcbmZ1bmN0aW9uIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2Rlcyh2Tm9kZSwgZG9tKSB7XHJcbiAgICBpZiAodk5vZGUuZmxhZ3MgJiAyOCAvKiBDb21wb25lbnQgKi8pIHtcclxuICAgICAgICB2YXIgcGFyZW50Vk5vZGUgPSB2Tm9kZS5wYXJlbnRWTm9kZTtcclxuICAgICAgICBpZiAocGFyZW50Vk5vZGUpIHtcclxuICAgICAgICAgICAgcGFyZW50Vk5vZGUuZG9tID0gZG9tO1xyXG4gICAgICAgICAgICB1cGRhdGVQYXJlbnRDb21wb25lbnRWTm9kZXMocGFyZW50Vk5vZGUsIGRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnZhciByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuZnVuY3Rpb24gYWRkVG9RdWV1ZShjb21wb25lbnQsIGZvcmNlLCBjYWxsYmFjaykge1xyXG4gICAgdmFyIHF1ZXVlID0gY29tcG9uZW50Q2FsbGJhY2tRdWV1ZS5nZXQoY29tcG9uZW50KTtcclxuICAgIGlmIChxdWV1ZSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgcXVldWUgPSBbXTtcclxuICAgICAgICBjb21wb25lbnRDYWxsYmFja1F1ZXVlLnNldChjb21wb25lbnQsIHF1ZXVlKTtcclxuICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudENhbGxiYWNrUXVldWUuZGVsZXRlKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBseVN0YXRlKGNvbXBvbmVudCwgZm9yY2UsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBxdWV1ZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldLmNhbGwoY29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIHF1ZXVlLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHF1ZXVlU3RhdGVDaGFuZ2VzKGNvbXBvbmVudCwgbmV3U3RhdGUsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0Z1bmN0aW9uKG5ld1N0YXRlKSkge1xyXG4gICAgICAgIG5ld1N0YXRlID0gbmV3U3RhdGUoY29tcG9uZW50LnN0YXRlLCBjb21wb25lbnQucHJvcHMsIGNvbXBvbmVudC5jb250ZXh0KTtcclxuICAgIH1cclxuICAgIHZhciBwZW5kaW5nID0gY29tcG9uZW50Ll9wZW5kaW5nU3RhdGU7XHJcbiAgICBpZiAocGVuZGluZyA9PT0gbnVsbCkge1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gcGVuZGluZyA9IG5ld1N0YXRlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIgc3RhdGVLZXkgaW4gbmV3U3RhdGUpIHtcclxuICAgICAgICAgICAgcGVuZGluZ1tzdGF0ZUtleV0gPSBuZXdTdGF0ZVtzdGF0ZUtleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyICYmICFjb21wb25lbnQuX3BlbmRpbmdTZXRTdGF0ZSAmJiAhY29tcG9uZW50Ll9ibG9ja1JlbmRlcikge1xyXG4gICAgICAgIGlmICghY29tcG9uZW50Ll91cGRhdGluZykge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuX3BlbmRpbmdTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fdXBkYXRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBseVN0YXRlKGNvbXBvbmVudCwgZmFsc2UsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgY29tcG9uZW50Ll91cGRhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYWRkVG9RdWV1ZShjb21wb25lbnQsIGZhbHNlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHN0YXRlID0gY29tcG9uZW50LnN0YXRlO1xyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuc3RhdGUgPSBwZW5kaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHBlbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBwZW5kaW5nW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSAmJiBjb21wb25lbnQuX2Jsb2NrUmVuZGVyKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5fbGlmZWN5Y2xlLmFkZExpc3RlbmVyKGNhbGxiYWNrLmJpbmQoY29tcG9uZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGFwcGx5U3RhdGUoY29tcG9uZW50LCBmb3JjZSwgY2FsbGJhY2spIHtcclxuICAgIGlmIChjb21wb25lbnQuX3VubW91bnRlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChmb3JjZSB8fCAhY29tcG9uZW50Ll9ibG9ja1JlbmRlcikge1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHBlbmRpbmdTdGF0ZSA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgICAgIHZhciBwcmV2U3RhdGUgPSBjb21wb25lbnQuc3RhdGU7XHJcbiAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20ocHJldlN0YXRlLCBwZW5kaW5nU3RhdGUpO1xyXG4gICAgICAgIHZhciBwcm9wcyA9IGNvbXBvbmVudC5wcm9wcztcclxuICAgICAgICB2YXIgY29udGV4dF8xID0gY29tcG9uZW50LmNvbnRleHQ7XHJcbiAgICAgICAgY29tcG9uZW50Ll9wZW5kaW5nU3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHZhciBuZXh0SW5wdXQgPSBjb21wb25lbnQuX3VwZGF0ZUNvbXBvbmVudChwcmV2U3RhdGUsIG5leHRTdGF0ZSwgcHJvcHMsIHByb3BzLCBjb250ZXh0XzEsIGZvcmNlLCB0cnVlKTtcclxuICAgICAgICB2YXIgZGlkVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0ludmFsaWQobmV4dElucHV0KSkge1xyXG4gICAgICAgICAgICBuZXh0SW5wdXQgPSBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoNDA5NiAvKiBWb2lkICovLCBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobmV4dElucHV0ID09PSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QKSB7XHJcbiAgICAgICAgICAgIG5leHRJbnB1dCA9IGNvbXBvbmVudC5fbGFzdElucHV0O1xyXG4gICAgICAgICAgICBkaWRVcGRhdGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc1N0cmluZ09yTnVtYmVyKG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgbmV4dElucHV0ID0gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDEgLyogVGV4dCAqLywgbnVsbCwgbnVsbCwgbmV4dElucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KG5leHRJbnB1dCkpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcignYSB2YWxpZCBJbmZlcm5vIFZOb2RlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkIGZyb20gYSBjb21wb25lbnQgcmVuZGVyLiBZb3UgbWF5IGhhdmUgcmV0dXJuZWQgYW4gYXJyYXkgb3IgYW4gaW52YWxpZCBvYmplY3QuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsYXN0SW5wdXQgPSBjb21wb25lbnQuX2xhc3RJbnB1dDtcclxuICAgICAgICB2YXIgdk5vZGUgPSBjb21wb25lbnQuX3ZOb2RlO1xyXG4gICAgICAgIHZhciBwYXJlbnREb20gPSAobGFzdElucHV0LmRvbSAmJiBsYXN0SW5wdXQuZG9tLnBhcmVudE5vZGUpIHx8IChsYXN0SW5wdXQuZG9tID0gdk5vZGUuZG9tKTtcclxuICAgICAgICBjb21wb25lbnQuX2xhc3RJbnB1dCA9IG5leHRJbnB1dDtcclxuICAgICAgICBpZiAoZGlkVXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZENvbnRleHQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjb21wb25lbnQuZ2V0Q2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50LmdldENoaWxkQ29udGV4dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hpbGRDb250ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRDb250ZXh0ID0gY29tcG9uZW50Ll9jaGlsZENvbnRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZENvbnRleHQgPSBpbmZlcm5vX3NoYXJlZF8xLmNvbWJpbmVGcm9tKGNvbnRleHRfMSwgY2hpbGRDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGlmZUN5Y2xlID0gY29tcG9uZW50Ll9saWZlY3ljbGU7XHJcbiAgICAgICAgICAgIGluZmVybm9fMS5pbnRlcm5hbF9wYXRjaChsYXN0SW5wdXQsIG5leHRJbnB1dCwgcGFyZW50RG9tLCBsaWZlQ3ljbGUsIGNoaWxkQ29udGV4dCwgY29tcG9uZW50Ll9pc1NWRywgZmFsc2UpO1xyXG4gICAgICAgICAgICBsaWZlQ3ljbGUudHJpZ2dlcigpO1xyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY29tcG9uZW50LmNvbXBvbmVudERpZFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5jb21wb25lbnREaWRVcGRhdGUocHJvcHMsIHByZXZTdGF0ZSwgY29udGV4dF8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGluZmVybm9fMS5vcHRpb25zLmFmdGVyVXBkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJVcGRhdGUodk5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkb20gPSB2Tm9kZS5kb20gPSBuZXh0SW5wdXQuZG9tO1xyXG4gICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5maW5kRE9NTm9kZUVuYWJsZWQpIHtcclxuICAgICAgICAgICAgaW5mZXJub18xLmludGVybmFsX0RPTU5vZGVNYXAuc2V0KGNvbXBvbmVudCwgbmV4dElucHV0LmRvbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0ZVBhcmVudENvbXBvbmVudFZOb2Rlcyh2Tm9kZSwgZG9tKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbXBvbmVudC5zdGF0ZSA9IGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlO1xyXG4gICAgICAgIGNvbXBvbmVudC5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgIH1cclxuICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKGNhbGxiYWNrKSkge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwoY29tcG9uZW50KTtcclxuICAgIH1cclxufVxyXG52YXIgYWxyZWFkeVdhcm5lZCA9IGZhbHNlO1xyXG52YXIgQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fYmxvY2tTZXRTdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1NldFN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcGVuZGluZ1N0YXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9sYXN0SW5wdXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3ZOb2RlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl91bm1vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9saWZlY3ljbGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2NoaWxkQ29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5faXNTVkcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl91cGRhdGluZyA9IHRydWU7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzIHx8IGluZmVybm9fMS5FTVBUWV9PQko7XHJcbiAgICAgICAgLyoqIEB0eXBlIHtvYmplY3R9ICovXHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dCB8fCBpbmZlcm5vXzEuRU1QVFlfT0JKOyAvLyBjb250ZXh0IHNob3VsZCBub3QgYmUgbXV0YWJsZVxyXG4gICAgfVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLl91bm1vdW50ZWQgfHwgIWluZmVybm9fc2hhcmVkXzEuaXNCcm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwbHlTdGF0ZSh0aGlzLCB0cnVlLCBjYWxsYmFjayk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChuZXdTdGF0ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fdW5tb3VudGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ibG9ja1NldFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHF1ZXVlU3RhdGVDaGFuZ2VzKHRoaXMsIG5ld1N0YXRlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKCdjYW5ub3QgdXBkYXRlIHN0YXRlIHZpYSBzZXRTdGF0ZSgpIGluIGNvbXBvbmVudFdpbGxVcGRhdGUoKSBvciBjb25zdHJ1Y3Rvci4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZVN5bmMgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAoIWFscmVhZHlXYXJuZWQpIHtcclxuICAgICAgICAgICAgICAgIGFscmVhZHlXYXJuZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbmZlcm5vIFdBUk5JTkc6IHNldFN0YXRlU3luYyBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCByZWxlYXNlLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLl91cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAocHJldlN0YXRlLCBuZXh0U3RhdGUsIHByZXZQcm9wcywgbmV4dFByb3BzLCBjb250ZXh0LCBmb3JjZSwgZnJvbVNldFN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3VubW91bnRlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgaW5mZXJub19zaGFyZWRfMS50aHJvd0Vycm9yKG5vT3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikgfHwgcHJldlN0YXRlICE9PSBuZXh0U3RhdGUgfHwgZm9yY2UpIHtcclxuICAgICAgICAgICAgaWYgKHByZXZQcm9wcyAhPT0gbmV4dFByb3BzIHx8IG5leHRQcm9wcyA9PT0gaW5mZXJub18xLkVNUFRZX09CSikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgJiYgIWZyb21TZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrUmVuZGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBjb250ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1JlbmRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZSA9IGluZmVybm9fc2hhcmVkXzEuY29tYmluZUZyb20obmV4dFN0YXRlLCB0aGlzLl9wZW5kaW5nU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZXRTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTdGF0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogVXBkYXRlIGlmIHNjdSBpcyBub3QgZGVmaW5lZCwgb3IgaXQgcmV0dXJucyB0cnV0aHkgdmFsdWUgb3IgZm9yY2UgKi9cclxuICAgICAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQodGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUpIHx8IHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlLCBjb250ZXh0KSB8fCBmb3JjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzVW5kZWZpbmVkKHRoaXMuY29tcG9uZW50V2lsbFVwZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja1NldFN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrU2V0U3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmZlcm5vXzEub3B0aW9ucy5iZWZvcmVSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyID0gdGhpcy5yZW5kZXIobmV4dFByb3BzLCBuZXh0U3RhdGUsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZmVybm9fMS5vcHRpb25zLmFmdGVyUmVuZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5mZXJub18xLm9wdGlvbnMuYWZ0ZXJSZW5kZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmZlcm5vX3NoYXJlZF8xLk5PX09QO1xyXG4gICAgfTtcclxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1lbXB0eVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAobmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KSB7IH07XHJcbiAgICByZXR1cm4gQ29tcG9uZW50O1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBDb21wb25lbnQ7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLWNvbXBvbmVudC9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub18xID0gcmVxdWlyZShcImluZmVybm9cIik7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgY29tcG9uZW50SG9va3MgPSBuZXcgU2V0KCk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsTW91bnQnKTtcclxuY29tcG9uZW50SG9va3MuYWRkKCdvbkNvbXBvbmVudERpZE1vdW50Jyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsVW5tb3VudCcpO1xyXG5jb21wb25lbnRIb29rcy5hZGQoJ29uQ29tcG9uZW50U2hvdWxkVXBkYXRlJyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnRXaWxsVXBkYXRlJyk7XHJcbmNvbXBvbmVudEhvb2tzLmFkZCgnb25Db21wb25lbnREaWRVcGRhdGUnKTtcclxuLyoqXHJcbiAqIENyZWF0ZXMgdmlydHVhbCBub2RlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufENvbXBvbmVudDxhbnksIGFueT59IHR5cGUgVHlwZSBvZiBub2RlXHJcbiAqIEBwYXJhbSB7b2JqZWN0PX0gcHJvcHMgT3B0aW9uYWwgcHJvcHMgZm9yIHZpcnR1YWwgbm9kZVxyXG4gKiBAcGFyYW0gey4uLntvYmplY3R9PX0gX2NoaWxkcmVuIE9wdGlvbmFsIGNoaWxkcmVuIGZvciB2aXJ0dWFsIG5vZGVcclxuICogQHJldHVybnMge1ZOb2RlfSBuZXcgdmlydHVhbCBuZG9lXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIHByb3BzKSB7XHJcbiAgICB2YXIgX2NoaWxkcmVuID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIF9jaGlsZHJlbltfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzSW52YWxpZCh0eXBlKSB8fCBpbmZlcm5vX3NoYXJlZF8xLmlzT2JqZWN0KHR5cGUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZlcm5vIEVycm9yOiBjcmVhdGVFbGVtZW50KCkgbmFtZSBwYXJhbWV0ZXIgY2Fubm90IGJlIHVuZGVmaW5lZCwgbnVsbCwgZmFsc2Ugb3IgdHJ1ZSwgSXQgbXVzdCBiZSBhIHN0cmluZywgY2xhc3Mgb3IgZnVuY3Rpb24uJyk7XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBfY2hpbGRyZW47XHJcbiAgICB2YXIgcmVmID0gbnVsbDtcclxuICAgIHZhciBrZXkgPSBudWxsO1xyXG4gICAgdmFyIGNsYXNzTmFtZSA9IG51bGw7XHJcbiAgICB2YXIgZmxhZ3MgPSAwO1xyXG4gICAgdmFyIG5ld1Byb3BzO1xyXG4gICAgaWYgKF9jaGlsZHJlbikge1xyXG4gICAgICAgIGlmIChfY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2NoaWxkcmVuWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gdm9pZCAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzU3RyaW5nKHR5cGUpKSB7XHJcbiAgICAgICAgZmxhZ3MgPSBpbmZlcm5vXzEuZ2V0RmxhZ3NGb3JFbGVtZW50Vm5vZGUodHlwZSk7XHJcbiAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYocHJvcHMpKSB7XHJcbiAgICAgICAgICAgIG5ld1Byb3BzID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnY2xhc3NOYW1lJyB8fCBwcm9wID09PSAnY2xhc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gcHJvcHNbcHJvcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAna2V5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IHByb3BzLmtleTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdjaGlsZHJlbicgJiYgaW5mZXJub19zaGFyZWRfMS5pc1VuZGVmaW5lZChjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuOyAvLyBhbHdheXMgZmF2b3VyIGNoaWxkcmVuIGFyZ3MsIGRlZmF1bHQgdG8gcHJvcHNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdyZWYnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmID0gcHJvcHMucmVmO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGZsYWdzID0gMTYgLyogQ29tcG9uZW50VW5rbm93biAqLztcclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNVbmRlZmluZWQoY2hpbGRyZW4pKSB7XHJcbiAgICAgICAgICAgIGlmICghcHJvcHMpIHtcclxuICAgICAgICAgICAgICAgIHByb3BzID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihwcm9wcykpIHtcclxuICAgICAgICAgICAgbmV3UHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudEhvb2tzLmhhcyhwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZWZbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdrZXknKSB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gcHJvcHMua2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNbcHJvcF0gPSBwcm9wc1twcm9wXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoZmxhZ3MsIHR5cGUsIGNsYXNzTmFtZSwgY2hpbGRyZW4sIG5ld1Byb3BzLCBrZXksIHJlZik7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRWxlbWVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tY3JlYXRlLWVsZW1lbnQvZGlzdC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fMSA9IHJlcXVpcmUoXCJpbmZlcm5vXCIpO1xyXG52YXIgTGlua18xID0gcmVxdWlyZShcIi4vTGlua1wiKTtcclxuZnVuY3Rpb24gSW5kZXhMaW5rKHByb3BzKSB7XHJcbiAgICBwcm9wcy50byA9ICcvJztcclxuICAgIHJldHVybiBpbmZlcm5vXzEuY3JlYXRlVk5vZGUoOCAvKiBDb21wb25lbnRGdW5jdGlvbiAqLywgTGlua18xLmRlZmF1bHQsIG51bGwsIG51bGwsIHByb3BzKTtcclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBJbmRleExpbms7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L0luZGV4TGluay5qc1xuLy8gbW9kdWxlIGlkID0gMzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbnZhciBJbmRleFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJbmRleFJvdXRlLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSW5kZXhSb3V0ZShwcm9wcywgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSB8fCB0aGlzO1xyXG4gICAgICAgIHByb3BzLnBhdGggPSAnLyc7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEluZGV4Um91dGU7XHJcbn0oUm91dGVfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEluZGV4Um91dGU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L0luZGV4Um91dGUuanNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgUm91dGVfMSA9IHJlcXVpcmUoXCIuL1JvdXRlXCIpO1xyXG52YXIgUmVkaXJlY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlZGlyZWN0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVkaXJlY3QocHJvcHMsIGNvbnRleHQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkgfHwgdGhpcztcclxuICAgICAgICBpZiAoIXByb3BzLnRvKSB7XHJcbiAgICAgICAgICAgIHByb3BzLnRvID0gJy8nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVkaXJlY3Q7XHJcbn0oUm91dGVfMS5kZWZhdWx0KSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFJlZGlyZWN0O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9SZWRpcmVjdC5qc1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vXzEgPSByZXF1aXJlKFwiaW5mZXJub1wiKTtcclxudmFyIGluZmVybm9fY29tcG9uZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jb21wb25lbnRcIik7XHJcbnZhciBtYXRjaF8xID0gcmVxdWlyZShcIi4vbWF0Y2hcIik7XHJcbnZhciBSb3V0ZXJDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9Sb3V0ZXJDb250ZXh0XCIpO1xyXG5mdW5jdGlvbiBjcmVhdGVyUm91dGVyKGhpc3RvcnkpIHtcclxuICAgIGlmICghaGlzdG9yeSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0luZmVybm86IEVycm9yIFwiaW5mZXJuby1yb3V0ZXJcIiByZXF1aXJlcyBhIGhpc3RvcnkgcHJvcCBwYXNzZWQnKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3JlYXRlSHJlZjogaGlzdG9yeS5jcmVhdGVIcmVmLFxyXG4gICAgICAgIGxpc3RlbjogaGlzdG9yeS5saXN0ZW4sXHJcbiAgICAgICAgcHVzaDogaGlzdG9yeS5wdXNoLFxyXG4gICAgICAgIHJlcGxhY2U6IGhpc3RvcnkucmVwbGFjZSxcclxuICAgICAgICBpc0FjdGl2ZTogZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hfMS5tYXRjaFBhdGgodHJ1ZSwgdXJsLCB0aGlzLnVybCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgbG9jYXRpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAnYmxhbmsnID8gaGlzdG9yeS5sb2NhdGlvbiA6IHtcclxuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiAnLycsXHJcbiAgICAgICAgICAgICAgICBzZWFyY2g6ICcnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgdXJsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbi5wYXRobmFtZSArIHRoaXMubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxudmFyIFJvdXRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUm91dGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUm91dGVyKHByb3BzLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucm91dGVyID0gY3JlYXRlclJvdXRlcihwcm9wcy5oaXN0b3J5KTtcclxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgdXJsOiBwcm9wcy51cmwgfHwgX3RoaXMucm91dGVyLnVybFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5yb3V0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy51bmxpc3RlbiA9IHRoaXMucm91dGVyLmxpc3RlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZVRvKF90aGlzLnJvdXRlci51cmwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKG5leHRQcm9wcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVybDogbmV4dFByb3BzLnVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51bmxpc3Rlbikge1xyXG4gICAgICAgICAgICB0aGlzLnVubGlzdGVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFJvdXRlci5wcm90b3R5cGUucm91dGVUbyA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB1cmw6IHVybCB9LCB0aGlzLnByb3BzLm9uVXBkYXRlID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJvcHMub25VcGRhdGUoKTsgfSA6IHZvaWQgMCk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBoaXQgPSBtYXRjaF8xLmRlZmF1bHQocHJvcHMuY2hpbGRyZW4sIHRoaXMuc3RhdGUudXJsKTtcclxuICAgICAgICBpZiAoaGl0LnJlZGlyZWN0KSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucm91dGVyLnJlcGxhY2UoaGl0LnJlZGlyZWN0KTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5mZXJub18xLmNyZWF0ZVZOb2RlKDQgLyogQ29tcG9uZW50Q2xhc3MgKi8sIFJvdXRlckNvbnRleHRfMS5kZWZhdWx0LCBudWxsLCBudWxsLCB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiB0aGlzLnN0YXRlLnVybCxcclxuICAgICAgICAgICAgbWF0Y2hlZDogaGl0Lm1hdGNoZWQsXHJcbiAgICAgICAgICAgIHJvdXRlcjogdGhpcy5yb3V0ZXJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUm91dGVyO1xyXG59KGluZmVybm9fY29tcG9uZW50XzEuZGVmYXVsdCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBSb3V0ZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXJvdXRlci9kaXN0L1JvdXRlci5qc1xuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIHBhcnNpbmcgcGxhaW4gcm91dGUgY29uZmlndXJhdGlvbnNcclxuICogYmFzZWQgb24gcmVhY3Qtcm91dGVyIGNyZWF0ZVJvdXRlcyBoYW5kbGVyLlxyXG4gKlxyXG4gKiBjdXJyZW50bHkgc3VwcG9ydGVkIGtleXM6XHJcbiAqIC0gcGF0aFxyXG4gKiAtIGNvbXBvbmVudFxyXG4gKiAtIGNoaWxkUm91dGVzXHJcbiAqIC0gaW5kZXhSb3V0ZVxyXG4gKlxyXG4gKiBVc2FnZSBleGFtcGxlOlxyXG4gKiBjb25zdCByb3V0ZXMgPSBjcmVhdGVSb3V0ZXMoW1xyXG4gKiAge1xyXG4gKiAgICBwYXRoICAgICAgICA6ICcvJyxcclxuICogICAgY29tcG9uZW50ICAgOiBBcHAsXHJcbiAqICAgIGluZGV4Um91dGUgIDoge1xyXG4gKiAgICAgIGNvbXBvbmVudCAgICAgOiBIb21lLFxyXG4gKiAgICB9LFxyXG4gKiAgICBjaGlsZFJvdXRlcyA6IFtcclxuICogICAgICB7XHJcbiAqICAgICAgICBwYXRoIDogJ2ZpbG1zLycsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBGaWxtcyxcclxuICogICAgICAgIGNoaWxkUm91dGVzIDoge1xyXG4gKiAgICAgICAgICBwYXRoIDogJ2RldGFpbC86aWQnLFxyXG4gKiAgICAgICAgICBjb21wb25lbnQgOiBGaWxtRGV0YWlsLFxyXG4gKiAgICAgICAgfVxyXG4gKiAgICAgIH0sXHJcbiAqICAgICAge1xyXG4gKiAgICAgICAgcGF0aCA6ICcvKicsXHJcbiAqICAgICAgICBjb21wb25lbnQgOiBOb01hdGNoXHJcbiAqICAgICAgfVxyXG4gKiAgICBdXHJcbiAqICB9XHJcbiAqIF0pO1xyXG4gKlxyXG4gKiBVc2FnZSBvbiBSb3V0ZXIgSlNYXHJcbiAqIDxSb3V0ZXIgaGlzdG9yeT17YnJvd3Nlckhpc3Rvcnl9IGNoaWxkcmVuPXtyb3V0ZXN9IC8+XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEgPSByZXF1aXJlKFwiaW5mZXJuby1jcmVhdGUtZWxlbWVudFwiKTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbnZhciBoYW5kbGVJbmRleFJvdXRlID0gZnVuY3Rpb24gKGluZGV4Um91dGVOb2RlKSB7IHJldHVybiBpbmZlcm5vX2NyZWF0ZV9lbGVtZW50XzEuZGVmYXVsdChSb3V0ZV8xLmRlZmF1bHQsIGluZGV4Um91dGVOb2RlKTsgfTtcclxudmFyIGhhbmRsZUNoaWxkUm91dGUgPSBmdW5jdGlvbiAoY2hpbGRSb3V0ZU5vZGUpIHsgcmV0dXJuIGhhbmRsZVJvdXRlTm9kZShjaGlsZFJvdXRlTm9kZSk7IH07XHJcbnZhciBoYW5kbGVDaGlsZFJvdXRlcyA9IGZ1bmN0aW9uIChjaGlsZFJvdXRlTm9kZXMpIHsgcmV0dXJuIGNoaWxkUm91dGVOb2Rlcy5tYXAoaGFuZGxlQ2hpbGRSb3V0ZSk7IH07XHJcbmZ1bmN0aW9uIGhhbmRsZVJvdXRlTm9kZShyb3V0ZUNvbmZpZ05vZGUpIHtcclxuICAgIGlmIChyb3V0ZUNvbmZpZ05vZGUuaW5kZXhSb3V0ZSAmJiAhcm91dGVDb25maWdOb2RlLmNoaWxkUm91dGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgcm91dGVDb25maWdOb2RlKTtcclxuICAgIH1cclxuICAgIC8vIGNyZWF0ZSBkZWVwIGNvcHkgb2YgY29uZmlnXHJcbiAgICB2YXIgbm9kZSA9IHt9O1xyXG4gICAgZm9yICh2YXIga2V5IGluIHJvdXRlQ29uZmlnTm9kZSkge1xyXG4gICAgICAgIG5vZGVba2V5XSA9IHJvdXRlQ29uZmlnTm9kZVtrZXldO1xyXG4gICAgfVxyXG4gICAgbm9kZS5jaGlsZHJlbiA9IFtdO1xyXG4gICAgLy8gaGFuZGxlIGluZGV4IHJvdXRlIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuaW5kZXhSb3V0ZSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChoYW5kbGVJbmRleFJvdXRlKG5vZGUuaW5kZXhSb3V0ZSkpO1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmluZGV4Um91dGU7XHJcbiAgICB9XHJcbiAgICAvLyBoYW5kbGUgY2hpbGQgcm91dGVzIGNvbmZpZ1xyXG4gICAgaWYgKG5vZGUuY2hpbGRSb3V0ZXMpIHtcclxuICAgICAgICB2YXIgbm9kZXMgPSBpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZFJvdXRlcykgPyBub2RlLmNoaWxkUm91dGVzIDogW25vZGUuY2hpbGRSb3V0ZXNdO1xyXG4gICAgICAgIChfYSA9IG5vZGUuY2hpbGRyZW4pLnB1c2guYXBwbHkoX2EsIGhhbmRsZUNoaWxkUm91dGVzKG5vZGVzKSk7XHJcbiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRSb3V0ZXM7XHJcbiAgICB9XHJcbiAgICAvLyBjbGVhbnVwIHRvIG1hdGNoIG5hdGl2ZSByZW5kZXJlZCByZXN1bHRcclxuICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIG5vZGUuY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuWzBdO1xyXG4gICAgfVxyXG4gICAgaWYgKChpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHx8XHJcbiAgICAgICAgKCFpbmZlcm5vX3NoYXJlZF8xLmlzQXJyYXkobm9kZS5jaGlsZHJlbikgJiYgT2JqZWN0LmtleXMobm9kZS5jaGlsZHJlbikubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgIGRlbGV0ZSBub2RlLmNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluZmVybm9fY3JlYXRlX2VsZW1lbnRfMS5kZWZhdWx0KFJvdXRlXzEuZGVmYXVsdCwgbm9kZSk7XHJcbiAgICB2YXIgX2E7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKHJvdXRlQ29uZmlnKSB7IHJldHVybiByb3V0ZUNvbmZpZy5tYXAoaGFuZGxlUm91dGVOb2RlKTsgfTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8tcm91dGVyL2Rpc3QvY3JlYXRlUm91dGVzLmpzXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY3JlYXRlUm91dGVzXzEgPSByZXF1aXJlKFwiLi9jcmVhdGVSb3V0ZXNcIik7XHJcbmV4cG9ydHMuY3JlYXRlUm91dGVzID0gY3JlYXRlUm91dGVzXzEuZGVmYXVsdDtcclxudmFyIEluZGV4TGlua18xID0gcmVxdWlyZShcIi4vSW5kZXhMaW5rXCIpO1xyXG5leHBvcnRzLkluZGV4TGluayA9IEluZGV4TGlua18xLmRlZmF1bHQ7XHJcbnZhciBJbmRleFJvdXRlXzEgPSByZXF1aXJlKFwiLi9JbmRleFJvdXRlXCIpO1xyXG5leHBvcnRzLkluZGV4Um91dGUgPSBJbmRleFJvdXRlXzEuZGVmYXVsdDtcclxudmFyIExpbmtfMSA9IHJlcXVpcmUoXCIuL0xpbmtcIik7XHJcbmV4cG9ydHMuTGluayA9IExpbmtfMS5kZWZhdWx0O1xyXG52YXIgbWF0Y2hfMSA9IHJlcXVpcmUoXCIuL21hdGNoXCIpO1xyXG5leHBvcnRzLm1hdGNoID0gbWF0Y2hfMS5kZWZhdWx0O1xyXG52YXIgUmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL1JlZGlyZWN0XCIpO1xyXG5leHBvcnRzLlJlZGlyZWN0ID0gUmVkaXJlY3RfMS5kZWZhdWx0O1xyXG5leHBvcnRzLkluZGV4UmVkaXJlY3QgPSBSZWRpcmVjdF8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZV8xID0gcmVxdWlyZShcIi4vUm91dGVcIik7XHJcbmV4cG9ydHMuUm91dGUgPSBSb3V0ZV8xLmRlZmF1bHQ7XHJcbnZhciBSb3V0ZXJfMSA9IHJlcXVpcmUoXCIuL1JvdXRlclwiKTtcclxuZXhwb3J0cy5Sb3V0ZXIgPSBSb3V0ZXJfMS5kZWZhdWx0O1xyXG52YXIgUm91dGVyQ29udGV4dF8xID0gcmVxdWlyZShcIi4vUm91dGVyQ29udGV4dFwiKTtcclxuZXhwb3J0cy5Sb3V0ZXJDb250ZXh0ID0gUm91dGVyQ29udGV4dF8xLmRlZmF1bHQ7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IHtcclxuICAgIFJvdXRlOiBSb3V0ZV8xLmRlZmF1bHQsXHJcbiAgICBJbmRleFJvdXRlOiBJbmRleFJvdXRlXzEuZGVmYXVsdCxcclxuICAgIFJlZGlyZWN0OiBSZWRpcmVjdF8xLmRlZmF1bHQsXHJcbiAgICBJbmRleFJlZGlyZWN0OiBSZWRpcmVjdF8xLmRlZmF1bHQsXHJcbiAgICBSb3V0ZXI6IFJvdXRlcl8xLmRlZmF1bHQsXHJcbiAgICBSb3V0ZXJDb250ZXh0OiBSb3V0ZXJDb250ZXh0XzEuZGVmYXVsdCxcclxuICAgIExpbms6IExpbmtfMS5kZWZhdWx0LFxyXG4gICAgSW5kZXhMaW5rOiBJbmRleExpbmtfMS5kZWZhdWx0LFxyXG4gICAgbWF0Y2g6IG1hdGNoXzEuZGVmYXVsdCxcclxuICAgIGNyZWF0ZVJvdXRlczogY3JlYXRlUm91dGVzXzEuZGVmYXVsdFxyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby1yb3V0ZXIvZGlzdC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5OT19PUCA9ICckTk9fT1AnO1xyXG5leHBvcnRzLkVSUk9SX01TRyA9ICdhIHJ1bnRpbWUgZXJyb3Igb2NjdXJlZCEgVXNlIEluZmVybm8gaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnQgdG8gZmluZCB0aGUgZXJyb3IuJztcclxuLy8gVGhpcyBzaG91bGQgYmUgYm9vbGVhbiBhbmQgbm90IHJlZmVyZW5jZSB0byB3aW5kb3cuZG9jdW1lbnRcclxuZXhwb3J0cy5pc0Jyb3dzZXIgPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQpO1xyXG5mdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XHJcbiAgICByZXR1cm4gZXhwb3J0cy5pc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuIDogKGNoaWxkcmVuID8gW2NoaWxkcmVuXSA6IGNoaWxkcmVuKTtcclxufVxyXG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xyXG4vLyB0aGlzIGlzIE1VQ0ggZmFzdGVyIHRoYW4gLmNvbnN0cnVjdG9yID09PSBBcnJheSBhbmQgaW5zdGFuY2VvZiBBcnJheVxyXG4vLyBpbiBOb2RlIDcgYW5kIHRoZSBsYXRlciB2ZXJzaW9ucyBvZiBWOCwgc2xvd2VyIGluIG9sZGVyIHZlcnNpb25zIHRob3VnaFxyXG5leHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KG8pIHtcclxuICAgIHJldHVybiAhaXNVbmRlZmluZWQoby5wcm90b3R5cGUpICYmICFpc1VuZGVmaW5lZChvLnByb3RvdHlwZS5yZW5kZXIpO1xyXG59XHJcbmV4cG9ydHMuaXNTdGF0ZWZ1bENvbXBvbmVudCA9IGlzU3RhdGVmdWxDb21wb25lbnQ7XHJcbmZ1bmN0aW9uIGlzU3RyaW5nT3JOdW1iZXIobykge1xyXG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgbztcclxuICAgIHJldHVybiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzU3RyaW5nT3JOdW1iZXIgPSBpc1N0cmluZ09yTnVtYmVyO1xyXG5mdW5jdGlvbiBpc051bGxPclVuZGVmKG8pIHtcclxuICAgIHJldHVybiBpc1VuZGVmaW5lZChvKSB8fCBpc051bGwobyk7XHJcbn1cclxuZXhwb3J0cy5pc051bGxPclVuZGVmID0gaXNOdWxsT3JVbmRlZjtcclxuZnVuY3Rpb24gaXNJbnZhbGlkKG8pIHtcclxuICAgIHJldHVybiBpc051bGwobykgfHwgbyA9PT0gZmFsc2UgfHwgaXNUcnVlKG8pIHx8IGlzVW5kZWZpbmVkKG8pO1xyXG59XHJcbmV4cG9ydHMuaXNJbnZhbGlkID0gaXNJbnZhbGlkO1xyXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG8pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJztcclxufVxyXG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xyXG5mdW5jdGlvbiBpc1N0cmluZyhvKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdzdHJpbmcnO1xyXG59XHJcbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcclxuZnVuY3Rpb24gaXNOdW1iZXIobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnbnVtYmVyJztcclxufVxyXG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XHJcbmZ1bmN0aW9uIGlzTnVsbChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gbnVsbDtcclxufVxyXG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcclxuZnVuY3Rpb24gaXNUcnVlKG8pIHtcclxuICAgIHJldHVybiBvID09PSB0cnVlO1xyXG59XHJcbmV4cG9ydHMuaXNUcnVlID0gaXNUcnVlO1xyXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChvKSB7XHJcbiAgICByZXR1cm4gbyA9PT0gdm9pZCAwO1xyXG59XHJcbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcclxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JztcclxufVxyXG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XHJcbmZ1bmN0aW9uIHRocm93RXJyb3IobWVzc2FnZSkge1xyXG4gICAgaWYgKCFtZXNzYWdlKSB7XHJcbiAgICAgICAgbWVzc2FnZSA9IGV4cG9ydHMuRVJST1JfTVNHO1xyXG4gICAgfVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW5mZXJubyBFcnJvcjogXCIgKyBtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLnRocm93RXJyb3IgPSB0aHJvd0Vycm9yO1xyXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcclxuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcclxufVxyXG5leHBvcnRzLndhcm5pbmcgPSB3YXJuaW5nO1xyXG5mdW5jdGlvbiBjb21iaW5lRnJvbShmaXJzdCwgc2Vjb25kKSB7XHJcbiAgICB2YXIgb3V0ID0ge307XHJcbiAgICBpZiAoZmlyc3QpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZmlyc3QpIHtcclxuICAgICAgICAgICAgb3V0W2tleV0gPSBmaXJzdFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChzZWNvbmQpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2Vjb25kKSB7XHJcbiAgICAgICAgICAgIG91dFtrZXldID0gc2Vjb25kW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufVxyXG5leHBvcnRzLmNvbWJpbmVGcm9tID0gY29tYmluZUZyb207XHJcbmZ1bmN0aW9uIExpZmVjeWNsZSgpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbn1cclxuZXhwb3J0cy5MaWZlY3ljbGUgPSBMaWZlY3ljbGU7XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbn07XHJcbkxpZmVjeWNsZS5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIHRyaWdnZXIoKSB7XHJcbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnM7XHJcbiAgICB2YXIgbGlzdGVuZXI7XHJcbiAgICAvLyBXZSBuZWVkIHRvIHJlbW92ZSBjdXJyZW50IGxpc3RlbmVyIGZyb20gYXJyYXkgd2hlbiBjYWxsaW5nIGl0LCBiZWNhdXNlIG1vcmUgbGlzdGVuZXJzIG1pZ2h0IGJlIGFkZGVkXHJcbiAgICB3aGlsZSAobGlzdGVuZXIgPSBsaXN0ZW5lcnMuc2hpZnQoKSkge1xyXG4gICAgICAgIGxpc3RlbmVyKCk7XHJcbiAgICB9XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vLXNoYXJlZC9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIGlzaU9TID0gaW5mZXJub19zaGFyZWRfMS5pc0Jyb3dzZXIgJiYgISFuYXZpZ2F0b3IucGxhdGZvcm0gJiYgL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcclxudmFyIGRlbGVnYXRlZEV2ZW50cyA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gaGFuZGxlRXZlbnQobmFtZSwgbGFzdEV2ZW50LCBuZXh0RXZlbnQsIGRvbSkge1xyXG4gICAgdmFyIGRlbGVnYXRlZFJvb3RzID0gZGVsZWdhdGVkRXZlbnRzLmdldChuYW1lKTtcclxuICAgIGlmIChuZXh0RXZlbnQpIHtcclxuICAgICAgICBpZiAoIWRlbGVnYXRlZFJvb3RzKSB7XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZFJvb3RzID0geyBpdGVtczogbmV3IE1hcCgpLCBkb2NFdmVudDogbnVsbCB9O1xyXG4gICAgICAgICAgICBkZWxlZ2F0ZWRSb290cy5kb2NFdmVudCA9IGF0dGFjaEV2ZW50VG9Eb2N1bWVudChuYW1lLCBkZWxlZ2F0ZWRSb290cyk7XHJcbiAgICAgICAgICAgIGRlbGVnYXRlZEV2ZW50cy5zZXQobmFtZSwgZGVsZWdhdGVkUm9vdHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWxhc3RFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoaXNpT1MgJiYgbmFtZSA9PT0gJ29uQ2xpY2snKSB7XHJcbiAgICAgICAgICAgICAgICB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb20pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGVnYXRlZFJvb3RzLml0ZW1zLnNldChkb20sIG5leHRFdmVudCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChkZWxlZ2F0ZWRSb290cykge1xyXG4gICAgICAgIHZhciBpdGVtcyA9IGRlbGVnYXRlZFJvb3RzLml0ZW1zO1xyXG4gICAgICAgIGlmIChpdGVtcy5kZWxldGUoZG9tKSkge1xyXG4gICAgICAgICAgICAvLyBJZiBhbnkgaXRlbXMgd2VyZSBkZWxldGVkLCBjaGVjayBpZiBsaXN0ZW5lciBuZWVkIHRvIGJlIHJlbW92ZWRcclxuICAgICAgICAgICAgaWYgKGl0ZW1zLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobm9ybWFsaXplRXZlbnROYW1lKG5hbWUpLCBkZWxlZ2F0ZWRSb290cy5kb2NFdmVudCk7XHJcbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZWRFdmVudHMuZGVsZXRlKG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuaGFuZGxlRXZlbnQgPSBoYW5kbGVFdmVudDtcclxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChldmVudCwgdGFyZ2V0LCBpdGVtcywgY291bnQsIGlzQ2xpY2ssIGV2ZW50RGF0YSkge1xyXG4gICAgdmFyIGV2ZW50c1RvVHJpZ2dlciA9IGl0ZW1zLmdldCh0YXJnZXQpO1xyXG4gICAgaWYgKGV2ZW50c1RvVHJpZ2dlcikge1xyXG4gICAgICAgIGNvdW50LS07XHJcbiAgICAgICAgLy8gbGlua0V2ZW50IG9iamVjdFxyXG4gICAgICAgIGV2ZW50RGF0YS5kb20gPSB0YXJnZXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50c1RvVHJpZ2dlci5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudHNUb1RyaWdnZXIuZXZlbnQoZXZlbnRzVG9UcmlnZ2VyLmRhdGEsIGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGV2ZW50c1RvVHJpZ2dlcihldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgICB2YXIgcGFyZW50RG9tID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICAgICAgLy8gSHRtbCBOb2RlcyBjYW4gYmUgbmVzdGVkIGZlOiBzcGFuIGluc2lkZSBidXR0b24gaW4gdGhhdCBzY2VuYXJpbyBicm93c2VyIGRvZXMgbm90IGhhbmRsZSBkaXNhYmxlZCBhdHRyaWJ1dGUgb24gcGFyZW50LFxyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIGV2ZW50IGxpc3RlbmVyIGlzIG9uIGRvY3VtZW50LmJvZHlcclxuICAgICAgICAvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50c1xyXG4gICAgICAgIGlmIChwYXJlbnREb20gPT09IG51bGwgfHwgKGlzQ2xpY2sgJiYgcGFyZW50RG9tLm5vZGVUeXBlID09PSAxICYmIHBhcmVudERvbS5kaXNhYmxlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaXNwYXRjaEV2ZW50KGV2ZW50LCBwYXJlbnREb20sIGl0ZW1zLCBjb3VudCwgaXNDbGljaywgZXZlbnREYXRhKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBub3JtYWxpemVFdmVudE5hbWUobmFtZSkge1xyXG4gICAgcmV0dXJuIG5hbWUuc3Vic3RyKDIpLnRvTG93ZXJDYXNlKCk7XHJcbn1cclxuZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xyXG4gICAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG4gICAgdGhpcy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxufVxyXG5mdW5jdGlvbiBhdHRhY2hFdmVudFRvRG9jdW1lbnQobmFtZSwgZGVsZWdhdGVkUm9vdHMpIHtcclxuICAgIHZhciBkb2NFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBjb3VudCA9IGRlbGVnYXRlZFJvb3RzLml0ZW1zLnNpemU7XHJcbiAgICAgICAgaWYgKGNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBzdG9wUHJvcGFnYXRpb247XHJcbiAgICAgICAgICAgIC8vIEV2ZW50IGRhdGEgbmVlZHMgdG8gYmUgb2JqZWN0IHRvIHNhdmUgcmVmZXJlbmNlIHRvIGN1cnJlbnRUYXJnZXQgZ2V0dGVyXHJcbiAgICAgICAgICAgIHZhciBldmVudERhdGFfMSA9IHtcclxuICAgICAgICAgICAgICAgIGRvbTogZG9jdW1lbnRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ2N1cnJlbnRUYXJnZXQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnREYXRhXzEuZG9tO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChldmVudCwgZXZlbnQudGFyZ2V0LCBkZWxlZ2F0ZWRSb290cy5pdGVtcywgY291bnQsIGV2ZW50LnR5cGUgPT09ICdjbGljaycsIGV2ZW50RGF0YV8xKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihub3JtYWxpemVFdmVudE5hbWUobmFtZSksIGRvY0V2ZW50KTtcclxuICAgIHJldHVybiBkb2NFdmVudDtcclxufVxyXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZW1wdHlcclxuZnVuY3Rpb24gZW1wdHlGbigpIHsgfVxyXG5mdW5jdGlvbiB0cmFwQ2xpY2tPbk5vbkludGVyYWN0aXZlRWxlbWVudChkb20pIHtcclxuICAgIC8vIE1vYmlsZSBTYWZhcmkgZG9lcyBub3QgZmlyZSBwcm9wZXJseSBidWJibGUgY2xpY2sgZXZlbnRzIG9uXHJcbiAgICAvLyBub24taW50ZXJhY3RpdmUgZWxlbWVudHMsIHdoaWNoIG1lYW5zIGRlbGVnYXRlZCBjbGljayBsaXN0ZW5lcnMgZG8gbm90XHJcbiAgICAvLyBmaXJlLiBUaGUgd29ya2Fyb3VuZCBmb3IgdGhpcyBidWcgaW52b2x2ZXMgYXR0YWNoaW5nIGFuIGVtcHR5IGNsaWNrXHJcbiAgICAvLyBsaXN0ZW5lciBvbiB0aGUgdGFyZ2V0IG5vZGUuXHJcbiAgICAvLyBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAxMC8wOS9jbGlja19ldmVudF9kZWwuaHRtbFxyXG4gICAgLy8gSnVzdCBzZXQgaXQgdXNpbmcgdGhlIG9uY2xpY2sgcHJvcGVydHkgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIG1hbmFnZSBhbnlcclxuICAgIC8vIGJvb2trZWVwaW5nIGZvciBpdC4gTm90IHN1cmUgaWYgd2UgbmVlZCB0byBjbGVhciBpdCB3aGVuIHRoZSBsaXN0ZW5lciBpc1xyXG4gICAgLy8gcmVtb3ZlZC5cclxuICAgIC8vIFRPRE86IE9ubHkgZG8gdGhpcyBmb3IgdGhlIHJlbGV2YW50IFNhZmFyaXMgbWF5YmU/XHJcbiAgICBkb20ub25jbGljayA9IGVtcHR5Rm47XHJcbn1cclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2RlbGVnYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBMaW5rcyBnaXZlbiBkYXRhIHRvIGV2ZW50IGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0geyp9IGRhdGEgZGF0YSB0byBiZSBsaW5rZWQsIGl0IHdpbGwgYmUgYXZhaWxhYmxlIGluIGZ1bmN0aW9uIGFzIGZpcnN0IHBhcmFtZXRlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBldmVudCBGdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBldmVudCBvY2N1cnNcclxuICogQHJldHVybnMge3tkYXRhOiAqLCBldmVudDogRnVuY3Rpb259fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlua0V2ZW50KGRhdGEsIGV2ZW50KSB7XHJcbiAgICByZXR1cm4geyBkYXRhOiBkYXRhLCBldmVudDogZXZlbnQgfTtcclxufVxyXG5leHBvcnRzLmxpbmtFdmVudCA9IGxpbmtFdmVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2luZmVybm8vZGlzdC9ET00vZXZlbnRzL2xpbmtFdmVudC5qc1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi4vY29yZS9vcHRpb25zXCIpO1xyXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XHJcbnZhciBtb3VudGluZ18xID0gcmVxdWlyZShcIi4vbW91bnRpbmdcIik7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vcGF0Y2hpbmdcIik7XHJcbnZhciByZW5kZXJpbmdfMSA9IHJlcXVpcmUoXCIuL3JlbmRlcmluZ1wiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcclxudmFyIHByb2Nlc3NFbGVtZW50XzEgPSByZXF1aXJlKFwiLi93cmFwcGVycy9wcm9jZXNzRWxlbWVudFwiKTtcclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGROb2RlcyhwYXJlbnREb20pIHtcclxuICAgIHZhciBkb20gPSBwYXJlbnREb20uZmlyc3RDaGlsZDtcclxuICAgIHdoaWxlIChkb20pIHtcclxuICAgICAgICBpZiAoZG9tLm5vZGVUeXBlID09PSA4KSB7XHJcbiAgICAgICAgICAgIGlmIChkb20uZGF0YSA9PT0gJyEnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKHBsYWNlaG9sZGVyLCBkb20pO1xyXG4gICAgICAgICAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3REb20gPSBkb20ucHJldmlvdXNTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbSk7XHJcbiAgICAgICAgICAgICAgICBkb20gPSBsYXN0RG9tIHx8IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20gPSBkb20ubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMubm9ybWFsaXplQ2hpbGROb2RlcyA9IG5vcm1hbGl6ZUNoaWxkTm9kZXM7XHJcbmZ1bmN0aW9uIGh5ZHJhdGVDb21wb25lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRywgaXNDbGFzcykge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgdmFyIHJlZiA9IHZOb2RlLnJlZjtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgaWYgKGlzQ2xhc3MpIHtcclxuICAgICAgICB2YXIgX2lzU1ZHID0gZG9tLm5hbWVzcGFjZVVSSSA9PT0gY29uc3RhbnRzXzEuc3ZnTlM7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdXRpbHNfMS5jcmVhdGVDbGFzc0NvbXBvbmVudEluc3RhbmNlKHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCwgX2lzU1ZHLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIHZhciBpbnB1dCA9IGluc3RhbmNlLl9sYXN0SW5wdXQ7XHJcbiAgICAgICAgaW5zdGFuY2UuX3ZOb2RlID0gdk5vZGU7XHJcbiAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIGluc3RhbmNlLl9jaGlsZENvbnRleHQsIF9pc1NWRyk7XHJcbiAgICAgICAgbW91bnRpbmdfMS5tb3VudENsYXNzQ29tcG9uZW50Q2FsbGJhY2tzKHZOb2RlLCByZWYsIGluc3RhbmNlLCBsaWZlY3ljbGUpO1xyXG4gICAgICAgIGluc3RhbmNlLl91cGRhdGluZyA9IGZhbHNlOyAvLyBNb3VudCBmaW5pc2hlZCBhbGxvdyBnb2luZyBzeW5jXHJcbiAgICAgICAgaWYgKG9wdGlvbnNfMS5vcHRpb25zLmZpbmRET01Ob2RlRW5hYmxlZCkge1xyXG4gICAgICAgICAgICByZW5kZXJpbmdfMS5jb21wb25lbnRUb0RPTU5vZGVNYXAuc2V0KGluc3RhbmNlLCBkb20pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBpbnB1dCA9IHV0aWxzXzEuY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudElucHV0KHZOb2RlLCB0eXBlLCBwcm9wcywgY29udGV4dCk7XHJcbiAgICAgICAgaHlkcmF0ZShpbnB1dCwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICB2Tm9kZS5jaGlsZHJlbiA9IGlucHV0O1xyXG4gICAgICAgIHZOb2RlLmRvbSA9IGlucHV0LmRvbTtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50RnVuY3Rpb25hbENvbXBvbmVudENhbGxiYWNrcyhyZWYsIGRvbSwgbGlmZWN5Y2xlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZUVsZW1lbnQodk5vZGUsIGRvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcztcclxuICAgIHZhciBjbGFzc05hbWUgPSB2Tm9kZS5jbGFzc05hbWU7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIHZhciByZWYgPSB2Tm9kZS5yZWY7XHJcbiAgICBpc1NWRyA9IGlzU1ZHIHx8IChmbGFncyAmIDEyOCAvKiBTdmdFbGVtZW50ICovKSA+IDA7XHJcbiAgICBpZiAoZG9tLm5vZGVUeXBlICE9PSAxIHx8IGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09IHZOb2RlLnR5cGUpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLndhcm5pbmcoJ0luZmVybm8gaHlkcmF0aW9uOiBTZXJ2ZXItc2lkZSBtYXJrdXAgZG9lc25cXCd0IG1hdGNoIGNsaWVudC1zaWRlIG1hcmt1cCBvciBJbml0aWFsIHJlbmRlciB0YXJnZXQgaXMgbm90IGVtcHR5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuZXdEb20gPSBtb3VudGluZ18xLm1vdW50RWxlbWVudCh2Tm9kZSwgbnVsbCwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRyk7XHJcbiAgICAgICAgdk5vZGUuZG9tID0gbmV3RG9tO1xyXG4gICAgICAgIHV0aWxzXzEucmVwbGFjZUNoaWxkKGRvbS5wYXJlbnROb2RlLCBuZXdEb20sIGRvbSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld0RvbTtcclxuICAgIH1cclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgIGh5ZHJhdGVDaGlsZHJlbihjaGlsZHJlbiwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9wcykge1xyXG4gICAgICAgIHZhciBoYXNDb250cm9sbGVkVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGb3JtRWxlbWVudCA9IChmbGFncyAmIDM1ODQgLyogRm9ybUVsZW1lbnQgKi8pID4gMDtcclxuICAgICAgICBpZiAoaXNGb3JtRWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYXNDb250cm9sbGVkVmFsdWUgPSBwcm9jZXNzRWxlbWVudF8xLmlzQ29udHJvbGxlZEZvcm1FbGVtZW50KHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgYWRkIGEgaGFzT3duUHJvcGVydHkgY2hlY2sgaGVyZSwgaXQgYWZmZWN0cyBwZXJmb3JtYW5jZVxyXG4gICAgICAgICAgICBwYXRjaGluZ18xLnBhdGNoUHJvcChwcm9wLCBudWxsLCBwcm9wc1twcm9wXSwgZG9tLCBpc1NWRywgaGFzQ29udHJvbGxlZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRm9ybUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJvY2Vzc0VsZW1lbnRfMS5wcm9jZXNzRWxlbWVudChmbGFncywgdk5vZGUsIGRvbSwgcHJvcHMsIHRydWUsIGhhc0NvbnRyb2xsZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChpc1NWRykge1xyXG4gICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZWYpIHtcclxuICAgICAgICBtb3VudGluZ18xLm1vdW50UmVmKGRvbSwgcmVmLCBsaWZlY3ljbGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvbTtcclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlQ2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudERvbSwgbGlmZWN5Y2xlLCBjb250ZXh0LCBpc1NWRykge1xyXG4gICAgbm9ybWFsaXplQ2hpbGROb2RlcyhwYXJlbnREb20pO1xyXG4gICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoY2hpbGQpICYmIGluZmVybm9fc2hhcmVkXzEuaXNPYmplY3QoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsKGRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20gPSBoeWRyYXRlKGNoaWxkLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW91bnRpbmdfMS5tb3VudChjaGlsZCwgcGFyZW50RG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNTdHJpbmdPck51bWJlcihjaGlsZHJlbikpIHtcclxuICAgICAgICBpZiAoZG9tICYmIGRvbS5ub2RlVHlwZSA9PT0gMykge1xyXG4gICAgICAgICAgICBpZiAoZG9tLm5vZGVWYWx1ZSAhPT0gY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICAgIGRvbS5ub2RlVmFsdWUgPSBjaGlsZHJlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBwYXJlbnREb20udGV4dENvbnRlbnQgPSBjaGlsZHJlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaW5mZXJub19zaGFyZWRfMS5pc09iamVjdChjaGlsZHJlbikpIHtcclxuICAgICAgICBoeWRyYXRlKGNoaWxkcmVuLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcpO1xyXG4gICAgICAgIGRvbSA9IGRvbS5uZXh0U2libGluZztcclxuICAgIH1cclxuICAgIC8vIGNsZWFyIGFueSBvdGhlciBET00gbm9kZXMsIHRoZXJlIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGVudHJ5IGZvciB0aGUgcm9vdFxyXG4gICAgd2hpbGUgKGRvbSkge1xyXG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IGRvbS5uZXh0U2libGluZztcclxuICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICBkb20gPSBuZXh0U2libGluZztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoeWRyYXRlVGV4dCh2Tm9kZSwgZG9tKSB7XHJcbiAgICBpZiAoZG9tLm5vZGVUeXBlICE9PSAzKSB7XHJcbiAgICAgICAgdmFyIG5ld0RvbSA9IG1vdW50aW5nXzEubW91bnRUZXh0KHZOb2RlLCBudWxsKTtcclxuICAgICAgICB2Tm9kZS5kb20gPSBuZXdEb207XHJcbiAgICAgICAgdXRpbHNfMS5yZXBsYWNlQ2hpbGQoZG9tLnBhcmVudE5vZGUsIG5ld0RvbSwgZG9tKTtcclxuICAgICAgICByZXR1cm4gbmV3RG9tO1xyXG4gICAgfVxyXG4gICAgdmFyIHRleHQgPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgIGlmIChkb20ubm9kZVZhbHVlICE9PSB0ZXh0KSB7XHJcbiAgICAgICAgZG9tLm5vZGVWYWx1ZSA9IHRleHQ7XHJcbiAgICB9XHJcbiAgICB2Tm9kZS5kb20gPSBkb207XHJcbiAgICByZXR1cm4gZG9tO1xyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVWb2lkKHZOb2RlLCBkb20pIHtcclxuICAgIHZOb2RlLmRvbSA9IGRvbTtcclxuICAgIHJldHVybiBkb207XHJcbn1cclxuZnVuY3Rpb24gaHlkcmF0ZSh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKSB7XHJcbiAgICB2YXIgZmxhZ3MgPSB2Tm9kZS5mbGFncztcclxuICAgIGlmIChmbGFncyAmIDI4IC8qIENvbXBvbmVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlQ29tcG9uZW50KHZOb2RlLCBkb20sIGxpZmVjeWNsZSwgY29udGV4dCwgaXNTVkcsIChmbGFncyAmIDQgLyogQ29tcG9uZW50Q2xhc3MgKi8pID4gMCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChmbGFncyAmIDM5NzAgLyogRWxlbWVudCAqLykge1xyXG4gICAgICAgIHJldHVybiBoeWRyYXRlRWxlbWVudCh2Tm9kZSwgZG9tLCBsaWZlY3ljbGUsIGNvbnRleHQsIGlzU1ZHKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsYWdzICYgMSAvKiBUZXh0ICovKSB7XHJcbiAgICAgICAgcmV0dXJuIGh5ZHJhdGVUZXh0KHZOb2RlLCBkb20pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmxhZ3MgJiA0MDk2IC8qIFZvaWQgKi8pIHtcclxuICAgICAgICByZXR1cm4gaHlkcmF0ZVZvaWQodk5vZGUsIGRvbSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbmZlcm5vX3NoYXJlZF8xLnRocm93RXJyb3IoXCJoeWRyYXRlKCkgZXhwZWN0cyBhIHZhbGlkIFZOb2RlLCBpbnN0ZWFkIGl0IHJlY2VpdmVkIGFuIG9iamVjdCB3aXRoIHRoZSB0eXBlIFxcXCJcIiArIHR5cGVvZiB2Tm9kZSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluZmVybm9fc2hhcmVkXzEudGhyb3dFcnJvcigpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGh5ZHJhdGVSb290KGlucHV0LCBwYXJlbnREb20sIGxpZmVjeWNsZSkge1xyXG4gICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbChwYXJlbnREb20pKSB7XHJcbiAgICAgICAgdmFyIGRvbSA9IHBhcmVudERvbS5maXJzdENoaWxkO1xyXG4gICAgICAgIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGwoZG9tKSkge1xyXG4gICAgICAgICAgICBoeWRyYXRlKGlucHV0LCBkb20sIGxpZmVjeWNsZSwgdXRpbHNfMS5FTVBUWV9PQkosIGZhbHNlKTtcclxuICAgICAgICAgICAgZG9tID0gcGFyZW50RG9tLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIGFueSBvdGhlciBET00gbm9kZXMsIHRoZXJlIHNob3VsZCBiZSBvbmx5IGEgc2luZ2xlIGVudHJ5IGZvciB0aGUgcm9vdFxyXG4gICAgICAgICAgICB3aGlsZSAoZG9tID0gZG9tLm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQoZG9tKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZXhwb3J0cy5oeWRyYXRlUm9vdCA9IGh5ZHJhdGVSb290O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS9oeWRyYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcclxuZnVuY3Rpb24gaXNDaGVja2VkVHlwZSh0eXBlKSB7XHJcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0eXBlID09PSAncmFkaW8nO1xyXG59XHJcbmV4cG9ydHMuaXNDaGVja2VkVHlwZSA9IGlzQ2hlY2tlZFR5cGU7XHJcbmZ1bmN0aW9uIG9uVGV4dElucHV0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uSW5wdXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmlucHV0KSB7XHJcbiAgICAgICAgcHJvcHMub25pbnB1dChlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1Byb3BzLCBkb20pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHdyYXBwZWRPbkNoYW5nZShlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGV2ZW50ID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICBpZiAoZXZlbnQuZXZlbnQpIHtcclxuICAgICAgICBldmVudC5ldmVudChldmVudC5kYXRhLCBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV2ZW50KGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uQ2hlY2tib3hDaGFuZ2UoZSkge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gVGhpcyBjbGljayBzaG91bGQgbm90IHByb3BhZ2F0ZSBpdHMgZm9yIGludGVybmFsIHVzZVxyXG4gICAgdmFyIHZOb2RlID0gdGhpcztcclxuICAgIHZhciBwcm9wcyA9IHZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGRvbSA9IHZOb2RlLmRvbTtcclxuICAgIHZhciBwcmV2aW91c1ZhbHVlID0gcHJvcHMudmFsdWU7XHJcbiAgICBpZiAocHJvcHMub25DbGljaykge1xyXG4gICAgICAgIHZhciBldmVudF8yID0gcHJvcHMub25DbGljaztcclxuICAgICAgICBpZiAoZXZlbnRfMi5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8yLmV2ZW50KGV2ZW50XzIuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2xpY2spIHtcclxuICAgICAgICBwcm9wcy5vbmNsaWNrKGUpO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHVzZXIgbWF5IGhhdmUgdXBkYXRlZCB0aGUgdk5vZGUgZnJvbSB0aGUgYWJvdmUgb25JbnB1dCBldmVudHMgc3luY3Jvbm91c2x5XHJcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdCBmcm9tIHRoZSBjb250ZXh0IG9mIGB0aGlzYCBhZ2FpblxyXG4gICAgdmFyIG5ld1ZOb2RlID0gdGhpcztcclxuICAgIHZhciBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgLy8gSWYgcmVuZGVyIGlzIGdvaW5nIGFzeW5jIHRoZXJlIGlzIG5vIHZhbHVlIGNoYW5nZSB5ZXQsIGl0IHdpbGwgY29tZSBiYWNrIHRvIHByb2Nlc3MgaW5wdXQgc29vblxyXG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IG5ld1Byb3BzLnZhbHVlKSB7XHJcbiAgICAgICAgLy8gV2hlbiB0aGlzIGhhcHBlbnMgd2UgbmVlZCB0byBzdG9yZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiBhbmQgcmVzdG9yZSBpdCwgdG8gYXZvaWQganVtcGluZ1xyXG4gICAgICAgIGFwcGx5VmFsdWUobmV3UHJvcHMsIGRvbSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcHJvY2Vzc0lucHV0KHZOb2RlLCBkb20sIG5leHRQcm9wc09yRW1wdHksIG1vdW50aW5nLCBpc0NvbnRyb2xsZWQpIHtcclxuICAgIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBpZiAoaXNDaGVja2VkVHlwZShuZXh0UHJvcHNPckVtcHR5LnR5cGUpKSB7XHJcbiAgICAgICAgICAgIGRvbS5vbmNsaWNrID0gb25DaGVja2JveENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICAgICAgZG9tLm9uY2xpY2sud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dCA9IG9uVGV4dElucHV0Q2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25pbnB1dC53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5leHRQcm9wc09yRW1wdHkub25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgZG9tLm9uY2hhbmdlID0gd3JhcHBlZE9uQ2hhbmdlLmJpbmQodk5vZGUpO1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2Uud3JhcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc0lucHV0ID0gcHJvY2Vzc0lucHV0O1xyXG5mdW5jdGlvbiBhcHBseVZhbHVlKG5leHRQcm9wc09yRW1wdHksIGRvbSkge1xyXG4gICAgdmFyIHR5cGUgPSBuZXh0UHJvcHNPckVtcHR5LnR5cGU7XHJcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LnZhbHVlO1xyXG4gICAgdmFyIGNoZWNrZWQgPSBuZXh0UHJvcHNPckVtcHR5LmNoZWNrZWQ7XHJcbiAgICB2YXIgbXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IG5leHRQcm9wc09yRW1wdHkuZGVmYXVsdFZhbHVlO1xyXG4gICAgdmFyIGhhc1ZhbHVlID0gIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSk7XHJcbiAgICBpZiAodHlwZSAmJiB0eXBlICE9PSBkb20udHlwZSkge1xyXG4gICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTtcclxuICAgIH1cclxuICAgIGlmIChtdWx0aXBsZSAmJiBtdWx0aXBsZSAhPT0gZG9tLm11bHRpcGxlKSB7XHJcbiAgICAgICAgZG9tLm11bHRpcGxlID0gbXVsdGlwbGU7XHJcbiAgICB9XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihkZWZhdWx0VmFsdWUpICYmICFoYXNWYWx1ZSkge1xyXG4gICAgICAgIGRvbS5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWUgKyAnJztcclxuICAgIH1cclxuICAgIGlmIChpc0NoZWNrZWRUeXBlKHR5cGUpKSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XHJcbiAgICAgICAgICAgIGRvbS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZihjaGVja2VkKSkge1xyXG4gICAgICAgICAgICBkb20uY2hlY2tlZCA9IGNoZWNrZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKGhhc1ZhbHVlICYmIGRvbS52YWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoY2hlY2tlZCkpIHtcclxuICAgICAgICAgICAgZG9tLmNoZWNrZWQgPSBjaGVja2VkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9JbnB1dFdyYXBwZXIuanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBpbmZlcm5vX3NoYXJlZF8xID0gcmVxdWlyZShcImluZmVybm8tc2hhcmVkXCIpO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vY29yZS9WTm9kZXNcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xyXG5mdW5jdGlvbiB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHR5cGUgPSB2Tm9kZS50eXBlO1xyXG4gICAgaWYgKHR5cGUgPT09ICdvcHRncm91cCcpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB2Tm9kZS5jaGlsZHJlbjtcclxuICAgICAgICBpZiAoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNoaWxkT3B0aW9uKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb24oY2hpbGRyZW4sIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbih2Tm9kZSwgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUNoaWxkT3B0aW9uKHZOb2RlLCB2YWx1ZSkge1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgZG9tID0gdk5vZGUuZG9tO1xyXG4gICAgLy8gd2UgZG8gdGhpcyBhcyBtdWx0aXBsZSBtYXkgaGF2ZSBjaGFuZ2VkXHJcbiAgICBkb20udmFsdWUgPSBwcm9wcy52YWx1ZTtcclxuICAgIGlmICgoaW5mZXJub19zaGFyZWRfMS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5pbmRleE9mKHByb3BzLnZhbHVlKSAhPT0gLTEpIHx8IHByb3BzLnZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHZhbHVlKSB8fCAhaW5mZXJub19zaGFyZWRfMS5pc051bGxPclVuZGVmKHByb3BzLnNlbGVjdGVkKSkge1xyXG4gICAgICAgIGRvbS5zZWxlY3RlZCA9IHByb3BzLnNlbGVjdGVkIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uU2VsZWN0Q2hhbmdlKGUpIHtcclxuICAgIHZhciB2Tm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgcHJvcHMgPSB2Tm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIHZhciBkb20gPSB2Tm9kZS5kb207XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uQ2hhbmdlKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50XzEgPSBwcm9wcy5vbkNoYW5nZTtcclxuICAgICAgICBpZiAoZXZlbnRfMS5ldmVudCkge1xyXG4gICAgICAgICAgICBldmVudF8xLmV2ZW50KGV2ZW50XzEuZGF0YSwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBldmVudF8xKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb3BzLm9uY2hhbmdlKSB7XHJcbiAgICAgICAgcHJvcHMub25jaGFuZ2UoZSk7XHJcbiAgICB9XHJcbiAgICAvLyB0aGUgdXNlciBtYXkgaGF2ZSB1cGRhdGVkIHRoZSB2Tm9kZSBmcm9tIHRoZSBhYm92ZSBvbklucHV0IGV2ZW50cyBzeW5jcm9ub3VzbHlcclxuICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0IGZyb20gdGhlIGNvbnRleHQgb2YgYHRoaXNgIGFnYWluXHJcbiAgICB2YXIgbmV3Vk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICAvLyBJZiByZW5kZXIgaXMgZ29pbmcgYXN5bmMgdGhlcmUgaXMgbm8gdmFsdWUgY2hhbmdlIHlldCwgaXQgd2lsbCBjb21lIGJhY2sgdG8gcHJvY2VzcyBpbnB1dCBzb29uXHJcbiAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gbmV3UHJvcHMudmFsdWUpIHtcclxuICAgICAgICAvLyBXaGVuIHRoaXMgaGFwcGVucyB3ZSBuZWVkIHRvIHN0b3JlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIGFuZCByZXN0b3JlIGl0LCB0byBhdm9pZCBqdW1waW5nXHJcbiAgICAgICAgYXBwbHlWYWx1ZShuZXdWTm9kZSwgZG9tLCBuZXdQcm9wcywgZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHByb2Nlc3NTZWxlY3Qodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZSh2Tm9kZSwgZG9tLCBuZXh0UHJvcHNPckVtcHR5LCBtb3VudGluZyk7XHJcbiAgICBpZiAobW91bnRpbmcgJiYgaXNDb250cm9sbGVkKSB7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlID0gb25TZWxlY3RDaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgZG9tLm9uY2hhbmdlLndyYXBwZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMucHJvY2Vzc1NlbGVjdCA9IHByb2Nlc3NTZWxlY3Q7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcpIHtcclxuICAgIGlmIChuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlICE9PSBkb20ubXVsdGlwbGUpIHtcclxuICAgICAgICBkb20ubXVsdGlwbGUgPSBuZXh0UHJvcHNPckVtcHR5Lm11bHRpcGxlO1xyXG4gICAgfVxyXG4gICAgdmFyIGNoaWxkcmVuID0gdk5vZGUuY2hpbGRyZW47XHJcbiAgICBpZiAoIWluZmVybm9fc2hhcmVkXzEuaXNJbnZhbGlkKGNoaWxkcmVuKSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wc09yRW1wdHkudmFsdWU7XHJcbiAgICAgICAgaWYgKG1vdW50aW5nICYmIGluZmVybm9fc2hhcmVkXzEuaXNOdWxsT3JVbmRlZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGluZmVybm9fc2hhcmVkXzEuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVDaGlsZE9wdGlvbkdyb3VwKGNoaWxkcmVuW2ldLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVk5vZGVzXzEuaXNWTm9kZShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2hpbGRPcHRpb25Hcm91cChjaGlsZHJlbiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLmFwcGx5VmFsdWUgPSBhcHBseVZhbHVlO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L0RPTS93cmFwcGVycy9TZWxlY3RXcmFwcGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0OFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgaW5mZXJub19zaGFyZWRfMSA9IHJlcXVpcmUoXCJpbmZlcm5vLXNoYXJlZFwiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XHJcbmZ1bmN0aW9uIHdyYXBwZWRPbkNoYW5nZShlKSB7XHJcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzIHx8IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG4gICAgdmFyIGV2ZW50ID0gcHJvcHMub25DaGFuZ2U7XHJcbiAgICBpZiAoZXZlbnQuZXZlbnQpIHtcclxuICAgICAgICBldmVudC5ldmVudChldmVudC5kYXRhLCBlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGV2ZW50KGUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG9uVGV4dGFyZWFJbnB1dENoYW5nZShlKSB7XHJcbiAgICB2YXIgdk5vZGUgPSB0aGlzO1xyXG4gICAgdmFyIHByb3BzID0gdk5vZGUucHJvcHMgfHwgdXRpbHNfMS5FTVBUWV9PQko7XHJcbiAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IHByb3BzLnZhbHVlO1xyXG4gICAgaWYgKHByb3BzLm9uSW5wdXQpIHtcclxuICAgICAgICB2YXIgZXZlbnRfMSA9IHByb3BzLm9uSW5wdXQ7XHJcbiAgICAgICAgaWYgKGV2ZW50XzEuZXZlbnQpIHtcclxuICAgICAgICAgICAgZXZlbnRfMS5ldmVudChldmVudF8xLmRhdGEsIGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnRfMShlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5vbmlucHV0KSB7XHJcbiAgICAgICAgcHJvcHMub25pbnB1dChlKTtcclxuICAgIH1cclxuICAgIC8vIHRoZSB1c2VyIG1heSBoYXZlIHVwZGF0ZWQgdGhlIHZOb2RlIGZyb20gdGhlIGFib3ZlIG9uSW5wdXQgZXZlbnRzIHN5bmNyb25vdXNseVxyXG4gICAgLy8gc28gd2UgbmVlZCB0byBnZXQgaXQgZnJvbSB0aGUgY29udGV4dCBvZiBgdGhpc2AgYWdhaW5cclxuICAgIHZhciBuZXdWTm9kZSA9IHRoaXM7XHJcbiAgICB2YXIgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcyB8fCB1dGlsc18xLkVNUFRZX09CSjtcclxuICAgIC8vIElmIHJlbmRlciBpcyBnb2luZyBhc3luYyB0aGVyZSBpcyBubyB2YWx1ZSBjaGFuZ2UgeWV0LCBpdCB3aWxsIGNvbWUgYmFjayB0byBwcm9jZXNzIGlucHV0IHNvb25cclxuICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBuZXdQcm9wcy52YWx1ZSkge1xyXG4gICAgICAgIC8vIFdoZW4gdGhpcyBoYXBwZW5zIHdlIG5lZWQgdG8gc3RvcmUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gYW5kIHJlc3RvcmUgaXQsIHRvIGF2b2lkIGp1bXBpbmdcclxuICAgICAgICBhcHBseVZhbHVlKG5ld1ZOb2RlLCB2Tm9kZS5kb20sIGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzVGV4dGFyZWEodk5vZGUsIGRvbSwgbmV4dFByb3BzT3JFbXB0eSwgbW91bnRpbmcsIGlzQ29udHJvbGxlZCkge1xyXG4gICAgYXBwbHlWYWx1ZShuZXh0UHJvcHNPckVtcHR5LCBkb20sIG1vdW50aW5nKTtcclxuICAgIGlmIChtb3VudGluZyAmJiBpc0NvbnRyb2xsZWQpIHtcclxuICAgICAgICBkb20ub25pbnB1dCA9IG9uVGV4dGFyZWFJbnB1dENoYW5nZS5iaW5kKHZOb2RlKTtcclxuICAgICAgICBkb20ub25pbnB1dC53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICBpZiAobmV4dFByb3BzT3JFbXB0eS5vbkNoYW5nZSkge1xyXG4gICAgICAgICAgICBkb20ub25jaGFuZ2UgPSB3cmFwcGVkT25DaGFuZ2UuYmluZCh2Tm9kZSk7XHJcbiAgICAgICAgICAgIGRvbS5vbmNoYW5nZS53cmFwcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5wcm9jZXNzVGV4dGFyZWEgPSBwcm9jZXNzVGV4dGFyZWE7XHJcbmZ1bmN0aW9uIGFwcGx5VmFsdWUobmV4dFByb3BzT3JFbXB0eSwgZG9tLCBtb3VudGluZykge1xyXG4gICAgdmFyIHZhbHVlID0gbmV4dFByb3BzT3JFbXB0eS52YWx1ZTtcclxuICAgIHZhciBkb21WYWx1ZSA9IGRvbS52YWx1ZTtcclxuICAgIGlmIChpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYodmFsdWUpKSB7XHJcbiAgICAgICAgaWYgKG1vdW50aW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBuZXh0UHJvcHNPckVtcHR5LmRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgaWYgKCFpbmZlcm5vX3NoYXJlZF8xLmlzTnVsbE9yVW5kZWYoZGVmYXVsdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gZG9tVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb20udmFsdWUgPSBkZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZG9tVmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBkb20udmFsdWUgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qIFRoZXJlIGlzIHZhbHVlIHNvIGtlZXAgaXQgY29udHJvbGxlZCAqL1xyXG4gICAgICAgIGlmIChkb21WYWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgZG9tLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYXBwbHlWYWx1ZSA9IGFwcGx5VmFsdWU7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pbmZlcm5vL2Rpc3QvRE9NL3dyYXBwZXJzL1RleHRhcmVhV3JhcHBlci5qc1xuLy8gbW9kdWxlIGlkID0gNDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGluZmVybm9fc2hhcmVkXzEgPSByZXF1aXJlKFwiaW5mZXJuby1zaGFyZWRcIik7XHJcbmV4cG9ydHMuTk9fT1AgPSBpbmZlcm5vX3NoYXJlZF8xLk5PX09QO1xyXG52YXIgbm9ybWFsaXphdGlvbl8xID0gcmVxdWlyZShcIi4vY29yZS9ub3JtYWxpemF0aW9uXCIpO1xyXG5leHBvcnRzLmdldEZsYWdzRm9yRWxlbWVudFZub2RlID0gbm9ybWFsaXphdGlvbl8xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlO1xyXG5leHBvcnRzLmludGVybmFsX25vcm1hbGl6ZSA9IG5vcm1hbGl6YXRpb25fMS5ub3JtYWxpemU7XHJcbnZhciBvcHRpb25zXzEgPSByZXF1aXJlKFwiLi9jb3JlL29wdGlvbnNcIik7XHJcbmV4cG9ydHMub3B0aW9ucyA9IG9wdGlvbnNfMS5vcHRpb25zO1xyXG52YXIgVk5vZGVzXzEgPSByZXF1aXJlKFwiLi9jb3JlL1ZOb2Rlc1wiKTtcclxuZXhwb3J0cy5jbG9uZVZOb2RlID0gVk5vZGVzXzEuY2xvbmVWTm9kZTtcclxuZXhwb3J0cy5jcmVhdGVWTm9kZSA9IFZOb2Rlc18xLmNyZWF0ZVZOb2RlO1xyXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9ET00vY29uc3RhbnRzXCIpO1xyXG5leHBvcnRzLmludGVybmFsX2lzVW5pdGxlc3NOdW1iZXIgPSBjb25zdGFudHNfMS5pc1VuaXRsZXNzTnVtYmVyO1xyXG52YXIgbGlua0V2ZW50XzEgPSByZXF1aXJlKFwiLi9ET00vZXZlbnRzL2xpbmtFdmVudFwiKTtcclxuZXhwb3J0cy5saW5rRXZlbnQgPSBsaW5rRXZlbnRfMS5saW5rRXZlbnQ7XHJcbnZhciBwYXRjaGluZ18xID0gcmVxdWlyZShcIi4vRE9NL3BhdGNoaW5nXCIpO1xyXG5leHBvcnRzLmludGVybmFsX3BhdGNoID0gcGF0Y2hpbmdfMS5wYXRjaDtcclxudmFyIHJlbmRlcmluZ18xID0gcmVxdWlyZShcIi4vRE9NL3JlbmRlcmluZ1wiKTtcclxuZXhwb3J0cy5pbnRlcm5hbF9ET01Ob2RlTWFwID0gcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwO1xyXG5leHBvcnRzLmNyZWF0ZVJlbmRlcmVyID0gcmVuZGVyaW5nXzEuY3JlYXRlUmVuZGVyZXI7XHJcbmV4cG9ydHMuZmluZERPTU5vZGUgPSByZW5kZXJpbmdfMS5maW5kRE9NTm9kZTtcclxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXJpbmdfMS5yZW5kZXI7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vRE9NL3V0aWxzXCIpO1xyXG5leHBvcnRzLkVNUFRZX09CSiA9IHV0aWxzXzEuRU1QVFlfT0JKO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWVtcHR5ICovXHJcbiAgICB2YXIgdGVzdEZ1bmMgPSBmdW5jdGlvbiB0ZXN0Rm4oKSB7IH07XHJcbiAgICBpZiAoKHRlc3RGdW5jLm5hbWUgfHwgdGVzdEZ1bmMudG9TdHJpbmcoKSkuaW5kZXhPZigndGVzdEZuJykgPT09IC0xKSB7XHJcbiAgICAgICAgaW5mZXJub19zaGFyZWRfMS53YXJuaW5nKCgnSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhIG1pbmlmaWVkIGNvcHkgb2YgdGhlIGRldmVsb3BtZW50IGJ1aWxkICcgK1xyXG4gICAgICAgICAgICAnb2YgSW5mZXJuby4gV2hlbiBkZXBsb3lpbmcgSW5mZXJubyBhcHBzIHRvIHByb2R1Y3Rpb24sIG1ha2Ugc3VyZSB0byB1c2UgJyArXHJcbiAgICAgICAgICAgICd0aGUgcHJvZHVjdGlvbiBidWlsZCB3aGljaCBza2lwcyBkZXZlbG9wbWVudCB3YXJuaW5ncyBhbmQgaXMgZmFzdGVyLiAnICtcclxuICAgICAgICAgICAgJ1NlZSBodHRwOi8vaW5mZXJub2pzLm9yZyBmb3IgbW9yZSBkZXRhaWxzLicpKTtcclxuICAgIH1cclxufVxyXG52YXIgdmVyc2lvbiA9ICczLjEuMCc7XHJcbmV4cG9ydHMudmVyc2lvbiA9IHZlcnNpb247XHJcbi8vIHdlIGR1cGxpY2F0ZSBpdCBzbyBpdCBwbGF5cyBuaWNlbHkgd2l0aCBkaWZmZXJlbnQgbW9kdWxlIGxvYWRpbmcgc3lzdGVtc1xyXG5leHBvcnRzLmRlZmF1bHQgPSB7XHJcbiAgICBnZXRGbGFnc0ZvckVsZW1lbnRWbm9kZTogbm9ybWFsaXphdGlvbl8xLmdldEZsYWdzRm9yRWxlbWVudFZub2RlLFxyXG4gICAgbGlua0V2ZW50OiBsaW5rRXZlbnRfMS5saW5rRXZlbnQsXHJcbiAgICAvLyBjb3JlIHNoYXBlc1xyXG4gICAgY3JlYXRlVk5vZGU6IFZOb2Rlc18xLmNyZWF0ZVZOb2RlLFxyXG4gICAgLy8gY2xvbmluZ1xyXG4gICAgY2xvbmVWTm9kZTogVk5vZGVzXzEuY2xvbmVWTm9kZSxcclxuICAgIC8vIHVzZWQgdG8gc2hhcmVkIGNvbW1vbiBpdGVtcyBiZXR3ZWVuIEluZmVybm8gbGlic1xyXG4gICAgTk9fT1A6IGluZmVybm9fc2hhcmVkXzEuTk9fT1AsXHJcbiAgICBFTVBUWV9PQko6IHV0aWxzXzEuRU1QVFlfT0JKLFxyXG4gICAgLy8gRE9NXHJcbiAgICByZW5kZXI6IHJlbmRlcmluZ18xLnJlbmRlcixcclxuICAgIGZpbmRET01Ob2RlOiByZW5kZXJpbmdfMS5maW5kRE9NTm9kZSxcclxuICAgIGNyZWF0ZVJlbmRlcmVyOiByZW5kZXJpbmdfMS5jcmVhdGVSZW5kZXJlcixcclxuICAgIG9wdGlvbnM6IG9wdGlvbnNfMS5vcHRpb25zLFxyXG4gICAgdmVyc2lvbjogdmVyc2lvbixcclxuICAgIGludGVybmFsX3BhdGNoOiBwYXRjaGluZ18xLnBhdGNoLFxyXG4gICAgaW50ZXJuYWxfRE9NTm9kZU1hcDogcmVuZGVyaW5nXzEuY29tcG9uZW50VG9ET01Ob2RlTWFwLFxyXG4gICAgaW50ZXJuYWxfaXNVbml0bGVzc051bWJlcjogY29uc3RhbnRzXzEuaXNVbml0bGVzc051bWJlcixcclxuICAgIGludGVybmFsX25vcm1hbGl6ZTogbm9ybWFsaXphdGlvbl8xLm5vcm1hbGl6ZVxyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaW5mZXJuby9kaXN0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ludmFyaWFudC9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vaXNhcnJheS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHBhdGhUb1JlZ0V4cCA9IHJlcXVpcmUoJ3BhdGgtdG8tcmVnZXhwJylcclxuXHJcbi8qKlxyXG4gKiBFeHBvc2UgYHBhdGhUb1JlZ2V4cGAgYXMgRVM2IG1vZHVsZVxyXG4gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdFeHA7XHJcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGF0aFRvUmVnRXhwLnBhcnNlXHJcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBwYXRoVG9SZWdFeHAuY29tcGlsZVxyXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gcGF0aFRvUmVnRXhwLnRva2Vuc1RvRnVuY3Rpb25cclxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSBwYXRoVG9SZWdFeHAudG9rZW5zVG9SZWdFeHBcclxubW9kdWxlLmV4cG9ydHNbJ2RlZmF1bHQnXSA9IG1vZHVsZS5leHBvcnRzO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcGF0aC10by1yZWdleHAtZXM2L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgaXNhcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG4vKipcbiAqIEV4cG9zZSBgcGF0aFRvUmVnZXhwYC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBwYXRoVG9SZWdleHBcbm1vZHVsZS5leHBvcnRzLnBhcnNlID0gcGFyc2Vcbm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlXG5tb2R1bGUuZXhwb3J0cy50b2tlbnNUb0Z1bmN0aW9uID0gdG9rZW5zVG9GdW5jdGlvblxubW9kdWxlLmV4cG9ydHMudG9rZW5zVG9SZWdFeHAgPSB0b2tlbnNUb1JlZ0V4cFxuXG4vKipcbiAqIFRoZSBtYWluIHBhdGggbWF0Y2hpbmcgcmVnZXhwIHV0aWxpdHkuXG4gKlxuICogQHR5cGUge1JlZ0V4cH1cbiAqL1xudmFyIFBBVEhfUkVHRVhQID0gbmV3IFJlZ0V4cChbXG4gIC8vIE1hdGNoIGVzY2FwZWQgY2hhcmFjdGVycyB0aGF0IHdvdWxkIG90aGVyd2lzZSBhcHBlYXIgaW4gZnV0dXJlIG1hdGNoZXMuXG4gIC8vIFRoaXMgYWxsb3dzIHRoZSB1c2VyIHRvIGVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgdGhhdCB3b24ndCB0cmFuc2Zvcm0uXG4gICcoXFxcXFxcXFwuKScsXG4gIC8vIE1hdGNoIEV4cHJlc3Mtc3R5bGUgcGFyYW1ldGVycyBhbmQgdW4tbmFtZWQgcGFyYW1ldGVycyB3aXRoIGEgcHJlZml4XG4gIC8vIGFuZCBvcHRpb25hbCBzdWZmaXhlcy4gTWF0Y2hlcyBhcHBlYXIgYXM6XG4gIC8vXG4gIC8vIFwiLzp0ZXN0KFxcXFxkKyk/XCIgPT4gW1wiL1wiLCBcInRlc3RcIiwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgXCI/XCIsIHVuZGVmaW5lZF1cbiAgLy8gXCIvcm91dGUoXFxcXGQrKVwiICA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCJcXGQrXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAvLyBcIi8qXCIgICAgICAgICAgICA9PiBbXCIvXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXCIqXCJdXG4gICcoW1xcXFwvLl0pPyg/Oig/OlxcXFw6KFxcXFx3KykoPzpcXFxcKCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpXSkrKVxcXFwpKT98XFxcXCgoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKV0pKylcXFxcKSkoWysqP10pP3woXFxcXCopKSdcbl0uam9pbignfCcpLCAnZycpXG5cbi8qKlxuICogUGFyc2UgYSBzdHJpbmcgZm9yIHRoZSByYXcgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHN0clxuICogQHBhcmFtICB7T2JqZWN0PX0gb3B0aW9uc1xuICogQHJldHVybiB7IUFycmF5fVxuICovXG5mdW5jdGlvbiBwYXJzZSAoc3RyLCBvcHRpb25zKSB7XG4gIHZhciB0b2tlbnMgPSBbXVxuICB2YXIga2V5ID0gMFxuICB2YXIgaW5kZXggPSAwXG4gIHZhciBwYXRoID0gJydcbiAgdmFyIGRlZmF1bHREZWxpbWl0ZXIgPSBvcHRpb25zICYmIG9wdGlvbnMuZGVsaW1pdGVyIHx8ICcvJ1xuICB2YXIgcmVzXG5cbiAgd2hpbGUgKChyZXMgPSBQQVRIX1JFR0VYUC5leGVjKHN0cikpICE9IG51bGwpIHtcbiAgICB2YXIgbSA9IHJlc1swXVxuICAgIHZhciBlc2NhcGVkID0gcmVzWzFdXG4gICAgdmFyIG9mZnNldCA9IHJlcy5pbmRleFxuICAgIHBhdGggKz0gc3RyLnNsaWNlKGluZGV4LCBvZmZzZXQpXG4gICAgaW5kZXggPSBvZmZzZXQgKyBtLmxlbmd0aFxuXG4gICAgLy8gSWdub3JlIGFscmVhZHkgZXNjYXBlZCBzZXF1ZW5jZXMuXG4gICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgIHBhdGggKz0gZXNjYXBlZFsxXVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICB2YXIgbmV4dCA9IHN0cltpbmRleF1cbiAgICB2YXIgcHJlZml4ID0gcmVzWzJdXG4gICAgdmFyIG5hbWUgPSByZXNbM11cbiAgICB2YXIgY2FwdHVyZSA9IHJlc1s0XVxuICAgIHZhciBncm91cCA9IHJlc1s1XVxuICAgIHZhciBtb2RpZmllciA9IHJlc1s2XVxuICAgIHZhciBhc3RlcmlzayA9IHJlc1s3XVxuXG4gICAgLy8gUHVzaCB0aGUgY3VycmVudCBwYXRoIG9udG8gdGhlIHRva2Vucy5cbiAgICBpZiAocGF0aCkge1xuICAgICAgdG9rZW5zLnB1c2gocGF0aClcbiAgICAgIHBhdGggPSAnJ1xuICAgIH1cblxuICAgIHZhciBwYXJ0aWFsID0gcHJlZml4ICE9IG51bGwgJiYgbmV4dCAhPSBudWxsICYmIG5leHQgIT09IHByZWZpeFxuICAgIHZhciByZXBlYXQgPSBtb2RpZmllciA9PT0gJysnIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgb3B0aW9uYWwgPSBtb2RpZmllciA9PT0gJz8nIHx8IG1vZGlmaWVyID09PSAnKidcbiAgICB2YXIgZGVsaW1pdGVyID0gcmVzWzJdIHx8IGRlZmF1bHREZWxpbWl0ZXJcbiAgICB2YXIgcGF0dGVybiA9IGNhcHR1cmUgfHwgZ3JvdXBcblxuICAgIHRva2Vucy5wdXNoKHtcbiAgICAgIG5hbWU6IG5hbWUgfHwga2V5KyssXG4gICAgICBwcmVmaXg6IHByZWZpeCB8fCAnJyxcbiAgICAgIGRlbGltaXRlcjogZGVsaW1pdGVyLFxuICAgICAgb3B0aW9uYWw6IG9wdGlvbmFsLFxuICAgICAgcmVwZWF0OiByZXBlYXQsXG4gICAgICBwYXJ0aWFsOiBwYXJ0aWFsLFxuICAgICAgYXN0ZXJpc2s6ICEhYXN0ZXJpc2ssXG4gICAgICBwYXR0ZXJuOiBwYXR0ZXJuID8gZXNjYXBlR3JvdXAocGF0dGVybikgOiAoYXN0ZXJpc2sgPyAnLionIDogJ1teJyArIGVzY2FwZVN0cmluZyhkZWxpbWl0ZXIpICsgJ10rPycpXG4gICAgfSlcbiAgfVxuXG4gIC8vIE1hdGNoIGFueSBjaGFyYWN0ZXJzIHN0aWxsIHJlbWFpbmluZy5cbiAgaWYgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIHBhdGggKz0gc3RyLnN1YnN0cihpbmRleClcbiAgfVxuXG4gIC8vIElmIHRoZSBwYXRoIGV4aXN0cywgcHVzaCBpdCBvbnRvIHRoZSBlbmQuXG4gIGlmIChwYXRoKSB7XG4gICAgdG9rZW5zLnB1c2gocGF0aClcbiAgfVxuXG4gIHJldHVybiB0b2tlbnNcbn1cblxuLyoqXG4gKiBDb21waWxlIGEgc3RyaW5nIHRvIGEgdGVtcGxhdGUgZnVuY3Rpb24gZm9yIHRoZSBwYXRoLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgc3RyXG4gKiBAcGFyYW0gIHtPYmplY3Q9fSAgICAgICAgICAgIG9wdGlvbnNcbiAqIEByZXR1cm4geyFmdW5jdGlvbihPYmplY3Q9LCBPYmplY3Q9KX1cbiAqL1xuZnVuY3Rpb24gY29tcGlsZSAoc3RyLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb0Z1bmN0aW9uKHBhcnNlKHN0ciwgb3B0aW9ucykpXG59XG5cbi8qKlxuICogUHJldHRpZXIgZW5jb2Rpbmcgb2YgVVJJIHBhdGggc2VnbWVudHMuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvW1xcLz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFbmNvZGUgdGhlIGFzdGVyaXNrIHBhcmFtZXRlci4gU2ltaWxhciB0byBgcHJldHR5YCwgYnV0IGFsbG93cyBzbGFzaGVzLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZW5jb2RlQXN0ZXJpc2sgKHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJKHN0cikucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHJldHVybiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBtZXRob2QgZm9yIHRyYW5zZm9ybWluZyB0b2tlbnMgaW50byB0aGUgcGF0aCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9GdW5jdGlvbiAodG9rZW5zKSB7XG4gIC8vIENvbXBpbGUgYWxsIHRoZSB0b2tlbnMgaW50byByZWdleHBzLlxuICB2YXIgbWF0Y2hlcyA9IG5ldyBBcnJheSh0b2tlbnMubGVuZ3RoKVxuXG4gIC8vIENvbXBpbGUgYWxsIHRoZSBwYXR0ZXJucyBiZWZvcmUgY29tcGlsYXRpb24uXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbnNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICBtYXRjaGVzW2ldID0gbmV3IFJlZ0V4cCgnXig/OicgKyB0b2tlbnNbaV0ucGF0dGVybiArICcpJCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIG9wdHMpIHtcbiAgICB2YXIgcGF0aCA9ICcnXG4gICAgdmFyIGRhdGEgPSBvYmogfHwge31cbiAgICB2YXIgb3B0aW9ucyA9IG9wdHMgfHwge31cbiAgICB2YXIgZW5jb2RlID0gb3B0aW9ucy5wcmV0dHkgPyBlbmNvZGVVUklDb21wb25lbnRQcmV0dHkgOiBlbmNvZGVVUklDb21wb25lbnRcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV1cblxuICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGF0aCArPSB0b2tlblxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZSA9IGRhdGFbdG9rZW4ubmFtZV1cbiAgICAgIHZhciBzZWdtZW50XG5cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0b2tlbi5vcHRpb25hbCkge1xuICAgICAgICAgIC8vIFByZXBlbmQgcGFydGlhbCBzZWdtZW50IHByZWZpeGVzLlxuICAgICAgICAgIGlmICh0b2tlbi5wYXJ0aWFsKSB7XG4gICAgICAgICAgICBwYXRoICs9IHRva2VuLnByZWZpeFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBiZSBkZWZpbmVkJylcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNhcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKCF0b2tlbi5yZXBlYXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBcIicgKyB0b2tlbi5uYW1lICsgJ1wiIHRvIG5vdCByZXBlYXQsIGJ1dCByZWNlaXZlZCBgJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICdgJylcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBpZiAodG9rZW4ub3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFwiJyArIHRva2VuLm5hbWUgKyAnXCIgdG8gbm90IGJlIGVtcHR5JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgc2VnbWVudCA9IGVuY29kZSh2YWx1ZVtqXSlcblxuICAgICAgICAgIGlmICghbWF0Y2hlc1tpXS50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhbGwgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgYCcgKyBKU09OLnN0cmluZ2lmeShzZWdtZW50KSArICdgJylcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXRoICs9IChqID09PSAwID8gdG9rZW4ucHJlZml4IDogdG9rZW4uZGVsaW1pdGVyKSArIHNlZ21lbnRcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHNlZ21lbnQgPSB0b2tlbi5hc3RlcmlzayA/IGVuY29kZUFzdGVyaXNrKHZhbHVlKSA6IGVuY29kZSh2YWx1ZSlcblxuICAgICAgaWYgKCFtYXRjaGVzW2ldLnRlc3Qoc2VnbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgXCInICsgdG9rZW4ubmFtZSArICdcIiB0byBtYXRjaCBcIicgKyB0b2tlbi5wYXR0ZXJuICsgJ1wiLCBidXQgcmVjZWl2ZWQgXCInICsgc2VnbWVudCArICdcIicpXG4gICAgICB9XG5cbiAgICAgIHBhdGggKz0gdG9rZW4ucHJlZml4ICsgc2VnbWVudFxuICAgIH1cblxuICAgIHJldHVybiBwYXRoXG4gIH1cbn1cblxuLyoqXG4gKiBFc2NhcGUgYSByZWd1bGFyIGV4cHJlc3Npb24gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVN0cmluZyAoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvKFsuKyo/PV4hOiR7fSgpW1xcXXxcXC9cXFxcXSkvZywgJ1xcXFwkMScpXG59XG5cbi8qKlxuICogRXNjYXBlIHRoZSBjYXB0dXJpbmcgZ3JvdXAgYnkgZXNjYXBpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzIGFuZCBtZWFuaW5nLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gZ3JvdXBcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZXNjYXBlR3JvdXAgKGdyb3VwKSB7XG4gIHJldHVybiBncm91cC5yZXBsYWNlKC8oWz0hOiRcXC8oKV0pL2csICdcXFxcJDEnKVxufVxuXG4vKipcbiAqIEF0dGFjaCB0aGUga2V5cyBhcyBhIHByb3BlcnR5IG9mIHRoZSByZWdleHAuXG4gKlxuICogQHBhcmFtICB7IVJlZ0V4cH0gcmVcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEtleXMgKHJlLCBrZXlzKSB7XG4gIHJlLmtleXMgPSBrZXlzXG4gIHJldHVybiByZVxufVxuXG4vKipcbiAqIEdldCB0aGUgZmxhZ3MgZm9yIGEgcmVnZXhwIGZyb20gdGhlIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGZsYWdzIChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLnNlbnNpdGl2ZSA/ICcnIDogJ2knXG59XG5cbi8qKlxuICogUHVsbCBvdXQga2V5cyBmcm9tIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFSZWdFeHB9IHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHJlZ2V4cFRvUmVnZXhwIChwYXRoLCBrZXlzKSB7XG4gIC8vIFVzZSBhIG5lZ2F0aXZlIGxvb2thaGVhZCB0byBtYXRjaCBvbmx5IGNhcHR1cmluZyBncm91cHMuXG4gIHZhciBncm91cHMgPSBwYXRoLnNvdXJjZS5tYXRjaCgvXFwoKD8hXFw/KS9nKVxuXG4gIGlmIChncm91cHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgbmFtZTogaSxcbiAgICAgICAgcHJlZml4OiBudWxsLFxuICAgICAgICBkZWxpbWl0ZXI6IG51bGwsXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcbiAgICAgICAgcGFydGlhbDogZmFsc2UsXG4gICAgICAgIGFzdGVyaXNrOiBmYWxzZSxcbiAgICAgICAgcGF0dGVybjogbnVsbFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhwYXRoLCBrZXlzKVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybSBhbiBhcnJheSBpbnRvIGEgcmVnZXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gIHBhdGhcbiAqIEBwYXJhbSAge0FycmF5fSAgIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgdmFyIHBhcnRzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBwYXJ0cy5wdXNoKHBhdGhUb1JlZ2V4cChwYXRoW2ldLCBrZXlzLCBvcHRpb25zKS5zb3VyY2UpXG4gIH1cblxuICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgnKD86JyArIHBhcnRzLmpvaW4oJ3wnKSArICcpJywgZmxhZ3Mob3B0aW9ucykpXG5cbiAgcmV0dXJuIGF0dGFjaEtleXMocmVnZXhwLCBrZXlzKVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIHBhdGggcmVnZXhwIGZyb20gc3RyaW5nIGlucHV0LlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHBhdGhcbiAqIEBwYXJhbSAgeyFBcnJheX0gIGtleXNcbiAqIEBwYXJhbSAgeyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4geyFSZWdFeHB9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ1RvUmVnZXhwIChwYXRoLCBrZXlzLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b2tlbnNUb1JlZ0V4cChwYXJzZShwYXRoLCBvcHRpb25zKSwga2V5cywgb3B0aW9ucylcbn1cblxuLyoqXG4gKiBFeHBvc2UgYSBmdW5jdGlvbiBmb3IgdGFraW5nIHRva2VucyBhbmQgcmV0dXJuaW5nIGEgUmVnRXhwLlxuICpcbiAqIEBwYXJhbSAgeyFBcnJheX0gICAgICAgICAgdG9rZW5zXG4gKiBAcGFyYW0gIHsoQXJyYXl8T2JqZWN0KT19IGtleXNcbiAqIEBwYXJhbSAge09iamVjdD19ICAgICAgICAgb3B0aW9uc1xuICogQHJldHVybiB7IVJlZ0V4cH1cbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9SZWdFeHAgKHRva2Vucywga2V5cywgb3B0aW9ucykge1xuICBpZiAoIWlzYXJyYXkoa2V5cykpIHtcbiAgICBvcHRpb25zID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoa2V5cyB8fCBvcHRpb25zKVxuICAgIGtleXMgPSBbXVxuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICB2YXIgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3RcbiAgdmFyIGVuZCA9IG9wdGlvbnMuZW5kICE9PSBmYWxzZVxuICB2YXIgcm91dGUgPSAnJ1xuXG4gIC8vIEl0ZXJhdGUgb3ZlciB0aGUgdG9rZW5zIGFuZCBjcmVhdGUgb3VyIHJlZ2V4cCBzdHJpbmcuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zW2ldXG5cbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgcm91dGUgKz0gZXNjYXBlU3RyaW5nKHRva2VuKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJlZml4ID0gZXNjYXBlU3RyaW5nKHRva2VuLnByZWZpeClcbiAgICAgIHZhciBjYXB0dXJlID0gJyg/OicgKyB0b2tlbi5wYXR0ZXJuICsgJyknXG5cbiAgICAgIGtleXMucHVzaCh0b2tlbilcblxuICAgICAgaWYgKHRva2VuLnJlcGVhdCkge1xuICAgICAgICBjYXB0dXJlICs9ICcoPzonICsgcHJlZml4ICsgY2FwdHVyZSArICcpKidcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuLm9wdGlvbmFsKSB7XG4gICAgICAgIGlmICghdG9rZW4ucGFydGlhbCkge1xuICAgICAgICAgIGNhcHR1cmUgPSAnKD86JyArIHByZWZpeCArICcoJyArIGNhcHR1cmUgKyAnKSk/J1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhcHR1cmUgPSBwcmVmaXggKyAnKCcgKyBjYXB0dXJlICsgJyk/J1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXB0dXJlID0gcHJlZml4ICsgJygnICsgY2FwdHVyZSArICcpJ1xuICAgICAgfVxuXG4gICAgICByb3V0ZSArPSBjYXB0dXJlXG4gICAgfVxuICB9XG5cbiAgdmFyIGRlbGltaXRlciA9IGVzY2FwZVN0cmluZyhvcHRpb25zLmRlbGltaXRlciB8fCAnLycpXG4gIHZhciBlbmRzV2l0aERlbGltaXRlciA9IHJvdXRlLnNsaWNlKC1kZWxpbWl0ZXIubGVuZ3RoKSA9PT0gZGVsaW1pdGVyXG5cbiAgLy8gSW4gbm9uLXN0cmljdCBtb2RlIHdlIGFsbG93IGEgc2xhc2ggYXQgdGhlIGVuZCBvZiBtYXRjaC4gSWYgdGhlIHBhdGggdG9cbiAgLy8gbWF0Y2ggYWxyZWFkeSBlbmRzIHdpdGggYSBzbGFzaCwgd2UgcmVtb3ZlIGl0IGZvciBjb25zaXN0ZW5jeS4gVGhlIHNsYXNoXG4gIC8vIGlzIHZhbGlkIGF0IHRoZSBlbmQgb2YgYSBwYXRoIG1hdGNoLCBub3QgaW4gdGhlIG1pZGRsZS4gVGhpcyBpcyBpbXBvcnRhbnRcbiAgLy8gaW4gbm9uLWVuZGluZyBtb2RlLCB3aGVyZSBcIi90ZXN0L1wiIHNob3VsZG4ndCBtYXRjaCBcIi90ZXN0Ly9yb3V0ZVwiLlxuICBpZiAoIXN0cmljdCkge1xuICAgIHJvdXRlID0gKGVuZHNXaXRoRGVsaW1pdGVyID8gcm91dGUuc2xpY2UoMCwgLWRlbGltaXRlci5sZW5ndGgpIDogcm91dGUpICsgJyg/OicgKyBkZWxpbWl0ZXIgKyAnKD89JCkpPydcbiAgfVxuXG4gIGlmIChlbmQpIHtcbiAgICByb3V0ZSArPSAnJCdcbiAgfSBlbHNlIHtcbiAgICAvLyBJbiBub24tZW5kaW5nIG1vZGUsIHdlIG5lZWQgdGhlIGNhcHR1cmluZyBncm91cHMgdG8gbWF0Y2ggYXMgbXVjaCBhc1xuICAgIC8vIHBvc3NpYmxlIGJ5IHVzaW5nIGEgcG9zaXRpdmUgbG9va2FoZWFkIHRvIHRoZSBlbmQgb3IgbmV4dCBwYXRoIHNlZ21lbnQuXG4gICAgcm91dGUgKz0gc3RyaWN0ICYmIGVuZHNXaXRoRGVsaW1pdGVyID8gJycgOiAnKD89JyArIGRlbGltaXRlciArICd8JCknXG4gIH1cblxuICByZXR1cm4gYXR0YWNoS2V5cyhuZXcgUmVnRXhwKCdeJyArIHJvdXRlLCBmbGFncyhvcHRpb25zKSksIGtleXMpXG59XG5cbi8qKlxuICogTm9ybWFsaXplIHRoZSBnaXZlbiBwYXRoIHN0cmluZywgcmV0dXJuaW5nIGEgcmVndWxhciBleHByZXNzaW9uLlxuICpcbiAqIEFuIGVtcHR5IGFycmF5IGNhbiBiZSBwYXNzZWQgaW4gZm9yIHRoZSBrZXlzLCB3aGljaCB3aWxsIGhvbGQgdGhlXG4gKiBwbGFjZWhvbGRlciBrZXkgZGVzY3JpcHRpb25zLiBGb3IgZXhhbXBsZSwgdXNpbmcgYC91c2VyLzppZGAsIGBrZXlzYCB3aWxsXG4gKiBjb250YWluIGBbeyBuYW1lOiAnaWQnLCBkZWxpbWl0ZXI6ICcvJywgb3B0aW9uYWw6IGZhbHNlLCByZXBlYXQ6IGZhbHNlIH1dYC5cbiAqXG4gKiBAcGFyYW0gIHsoc3RyaW5nfFJlZ0V4cHxBcnJheSl9IHBhdGhcbiAqIEBwYXJhbSAgeyhBcnJheXxPYmplY3QpPX0gICAgICAga2V5c1xuICogQHBhcmFtICB7T2JqZWN0PX0gICAgICAgICAgICAgICBvcHRpb25zXG4gKiBAcmV0dXJuIHshUmVnRXhwfVxuICovXG5mdW5jdGlvbiBwYXRoVG9SZWdleHAgKHBhdGgsIGtleXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc2FycmF5KGtleXMpKSB7XG4gICAgb3B0aW9ucyA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGtleXMgfHwgb3B0aW9ucylcbiAgICBrZXlzID0gW11cbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgaWYgKHBhdGggaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICByZXR1cm4gcmVnZXhwVG9SZWdleHAocGF0aCwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSlcbiAgfVxuXG4gIGlmIChpc2FycmF5KHBhdGgpKSB7XG4gICAgcmV0dXJuIGFycmF5VG9SZWdleHAoLyoqIEB0eXBlIHshQXJyYXl9ICovIChwYXRoKSwgLyoqIEB0eXBlIHshQXJyYXl9ICovIChrZXlzKSwgb3B0aW9ucylcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdUb1JlZ2V4cCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHBhdGgpLCAvKiogQHR5cGUgeyFBcnJheX0gKi8gKGtleXMpLCBvcHRpb25zKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3BhdGgtdG8tcmVnZXhwL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc0Fic29sdXRlID0gZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRobmFtZSkge1xuICByZXR1cm4gcGF0aG5hbWUuY2hhckF0KDApID09PSAnLyc7XG59O1xuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKClcbnZhciBzcGxpY2VPbmUgPSBmdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4LCBrID0gaSArIDEsIG4gPSBsaXN0Lmxlbmd0aDsgayA8IG47IGkgKz0gMSwgayArPSAxKSB7XG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIH1saXN0LnBvcCgpO1xufTtcblxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBiYXNlZCBoZWF2aWx5IG9uIG5vZGUncyB1cmwucGFyc2VcbnZhciByZXNvbHZlUGF0aG5hbWUgPSBmdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUodG8pIHtcbiAgdmFyIGZyb20gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuXG4gIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IGZyb20gJiYgZnJvbS5zcGxpdCgnLycpIHx8IFtdO1xuXG4gIHZhciBpc1RvQWJzID0gdG8gJiYgaXNBYnNvbHV0ZSh0byk7XG4gIHZhciBpc0Zyb21BYnMgPSBmcm9tICYmIGlzQWJzb2x1dGUoZnJvbSk7XG4gIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7XG5cbiAgaWYgKHRvICYmIGlzQWJzb2x1dGUodG8pKSB7XG4gICAgLy8gdG8gaXMgYWJzb2x1dGVcbiAgICBmcm9tUGFydHMgPSB0b1BhcnRzO1xuICB9IGVsc2UgaWYgKHRvUGFydHMubGVuZ3RoKSB7XG4gICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lXG4gICAgZnJvbVBhcnRzLnBvcCgpO1xuICAgIGZyb21QYXJ0cyA9IGZyb21QYXJ0cy5jb25jYXQodG9QYXJ0cyk7XG4gIH1cblxuICBpZiAoIWZyb21QYXJ0cy5sZW5ndGgpIHJldHVybiAnLyc7XG5cbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSB2b2lkIDA7XG4gIGlmIChmcm9tUGFydHMubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJyB8fCBsYXN0ID09PSAnJztcbiAgfSBlbHNlIHtcbiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7XG4gIH1cblxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgcGFydCA9IGZyb21QYXJ0c1tpXTtcblxuICAgIGlmIChwYXJ0ID09PSAnLicpIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gJy4uJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICBpZiAoIW11c3RFbmRBYnMpIGZvciAoOyB1cC0tOyB1cCkge1xuICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpO1xuICB9aWYgKG11c3RFbmRBYnMgJiYgZnJvbVBhcnRzWzBdICE9PSAnJyAmJiAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKSkgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzb2x2ZVBhdGhuYW1lO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yZXNvbHZlLXBhdGhuYW1lL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIHZhbHVlRXF1YWwgPSBmdW5jdGlvbiB2YWx1ZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHJldHVybiBBcnJheS5pc0FycmF5KGIpICYmIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgIHJldHVybiB2YWx1ZUVxdWFsKGl0ZW0sIGJbaW5kZXhdKTtcbiAgfSk7XG5cbiAgdmFyIGFUeXBlID0gdHlwZW9mIGEgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGEpO1xuICB2YXIgYlR5cGUgPSB0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYik7XG5cbiAgaWYgKGFUeXBlICE9PSBiVHlwZSkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChhVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgYVZhbHVlID0gYS52YWx1ZU9mKCk7XG4gICAgdmFyIGJWYWx1ZSA9IGIudmFsdWVPZigpO1xuXG4gICAgaWYgKGFWYWx1ZSAhPT0gYSB8fCBiVmFsdWUgIT09IGIpIHJldHVybiB2YWx1ZUVxdWFsKGFWYWx1ZSwgYlZhbHVlKTtcblxuICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuXG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gYUtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHZhbHVlRXF1YWwoYVtrZXldLCBiW2tleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gdmFsdWVFcXVhbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdmFsdWUtZXF1YWwvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=